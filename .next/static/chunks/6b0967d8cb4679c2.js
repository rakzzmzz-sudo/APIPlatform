(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,s)=>{},98547,(e,t,s)=>{var a=e.i(47167);e.r(16015);var l=e.r(71645),r=l&&"object"==typeof l&&"default"in l?l:{default:l},i=void 0!==a.default&&a.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,l=t.optimizeForSpeed,r=void 0===l?i:l;d(n(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",d("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(d(n(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var s="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];d(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},s.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&d(n(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var l=document.head||document.getElementsByTagName("head")[0];return s?l.insertBefore(a,s):l.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},x={};function m(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return x[a]||(x[a]="jsx-"+c(e+"-"+s)),x[a]}function h(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return x[s]||(x[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),x[s]}var u=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,a=void 0===s?null:s,l=t.optimizeForSpeed,r=void 0!==l&&l;this._sheet=a||new o({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),a&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),a=s.styleId,l=s.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var r=l.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=r,this._instancesCounts[a]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var a=this._fromServer&&this._fromServer[s];a?(a.parentNode.removeChild(a),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],a=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,a=e.id;if(s){var l=m(a,s);return{styleId:l,rules:Array.isArray(t)?t.map(function(e){return h(l,e)}):[h(l,t)]}}return{styleId:m(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=l.createContext(null);function g(){return new u}function b(){return l.useContext(p)}p.displayName="StyleSheetContext";var f=r.default.useInsertionEffect||r.default.useLayoutEffect,j="u">typeof window?g():void 0;function v(e){var t=j||b();return t&&("u"<typeof window?t.add(e):f(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}v.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,a=l.useContext(p),i=l.useState(function(){return a||t||g()})[0];return r.default.createElement(p.Provider,{value:i},s)},s.createStyleRegistry=g,s.style=v,s.useStyleRegistry=b},37902,(e,t,s)=>{t.exports=e.r(98547).style},70157,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(71076),l=e.i(98740),l=l,r=e.i(81692),r=r,i=e.i(65577),i=i,n=e.i(98919),o=e.i(78583),d=e.i(39616),c=e.i(45423),x=e.i(84023),x=x,m=e.i(21218),h=e.i(69152),u=e.i(27330),u=u,p=e.i(54943),p=p,g=e.i(85528),g=g,b=e.i(63488),f=e.i(61277),f=f,j=e.i(68260),j=j,v=e.i(12329),v=v,N=e.i(5631),y=e.i(37727);function w(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[i,o]=(0,s.useState)(""),[d,c]=(0,s.useState)("all"),[x,m]=(0,s.useState)(!1),[w,_]=(0,s.useState)({email:"",password:"",full_name:"",role:"user",balance:"0"}),[F,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{C()},[]),(0,s.useEffect)(()=>{if(F){let e=setTimeout(()=>k(null),5e3);return()=>clearTimeout(e)}},[F]);let C=async()=>{r(!0);let e=[{id:"admin@cpaas.com",email:"admin@cpaas.com",full_name:"Admin User",role:"admin",balance:1e3,created_at:new Date().toISOString()},{id:"presales@cpaas.com",email:"presales@cpaas.com",full_name:"Presales User",role:"user",balance:1e3,created_at:new Date().toISOString()},{id:"sales@cpaas.com",email:"sales@cpaas.com",full_name:"Sales User",role:"user",balance:1e3,created_at:new Date().toISOString()}];try{let{data:t,error:s}=await h.db.from("profiles").select("*").order("created_at",{ascending:!1});if(s)console.log("Database not available, showing predefined users only"),a(e);else{let s=[...e];(t||[]).forEach(t=>{e.find(e=>e.email===t.email)||s.push(t)}),a(s)}}catch(t){console.log("Error fetching users, showing predefined users only:",t),a(e)}finally{r(!1)}},S=async e=>{e.preventDefault();try{let{data:e,error:t}=await h.db.auth.signUp({email:w.email,password:w.password,options:{data:{full_name:w.full_name}}});if(t)throw t;if(e.user){let{error:t}=await h.db.from("profiles").update({full_name:w.full_name,role:w.role,balance:parseFloat(w.balance)}).eq("id",e.user.id);if(t)throw t}k({type:"success",message:"User added successfully"}),m(!1),_({email:"",password:"",full_name:"",role:"user",balance:"0"}),await C()}catch(e){console.error("Error adding user:",e),k({type:"error",message:e.message||"Failed to add user"})}},M=e.filter(e=>{let t=e.email.toLowerCase().includes(i.toLowerCase())||e.full_name?.toLowerCase().includes(i.toLowerCase()),s="all"===d||e.role===d;return t&&s}),A=async e=>{if(!confirm("Are you sure you want to delete this user?"))return;let{error:t}=await h.db.from("profiles").delete().eq("id",e);t?(console.error("Error deleting user:",t),alert("Failed to delete user")):C()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"User Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage user accounts, roles, and permissions"})]}),(0,t.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(u.default,{className:"w-4 h-4"}),"Add User"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by email or name...",value:i,onChange:e=>o(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Roles"}),(0,t.jsx)("option",{value:"admin",children:"Admin"}),(0,t.jsx)("option",{value:"developer",children:"Developer"}),(0,t.jsx)("option",{value:"user",children:"User"})]})]}),l?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading users..."})]}):(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"User"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"Role"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-400",children:"Balance"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"Joined"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-400",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-400",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:M.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-[#39FF14] to-[#32e012] flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-semibold text-sm",children:e.full_name?.charAt(0)||e.email.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.full_name||"N/A"}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm flex items-center gap-2",children:[(0,t.jsx)(b.Mail,{className:"w-3 h-3"}),e.email]})]})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-semibold border ${(e=>{switch(e){case"admin":return"bg-red-500/20 text-red-400 border-red-500/50";case"developer":return"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/50";default:return"bg-slate-500/20 text-slate-400 border-slate-500/50"}})(e.role)}`,children:[(0,t.jsx)(n.Shield,{className:"w-3 h-3"}),e.role.toUpperCase()]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-right",children:(0,t.jsxs)("span",{className:"text-emerald-400 font-semibold",children:["RM ",e.balance.toFixed(2)]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString()]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-semibold bg-emerald-500/20 text-emerald-400 border border-emerald-500/50",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"}),"ACTIVE"]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(j.default,{className:"w-4 h-4 text-slate-400 group-hover:text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>A(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(g.default,{className:"w-4 h-4 text-slate-400"})})]})})]},e.id))})]}),0===M.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-slate-400",children:"No users found"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"All registered users"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Admins"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"admin"===e.role).length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Full access users"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"100% active"})]})]}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New User"}),(0,t.jsx)("button",{onClick:()=>{m(!1),_({email:"",password:"",full_name:"",role:"user",balance:"0"})},className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email *"}),(0,t.jsx)("input",{type:"email",value:w.email,onChange:e=>_({...w,email:e.target.value}),placeholder:"user@example.com",required:!0,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password *"}),(0,t.jsx)("input",{type:"password",value:w.password,onChange:e=>_({...w,password:e.target.value}),placeholder:"Minimum 6 characters",required:!0,minLength:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:w.full_name,onChange:e=>_({...w,full_name:e.target.value}),placeholder:"John Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),(0,t.jsxs)("select",{value:w.role,onChange:e=>_({...w,role:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"user",children:"User"}),(0,t.jsx)("option",{value:"developer",children:"Developer"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Initial Balance (RM)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:w.balance,onChange:e=>_({...w,balance:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{m(!1),_({email:"",password:"",full_name:"",role:"user",balance:"0"})},className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all",children:"Add User"})]})]})]})}),F&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===F.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===F.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===F.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===F.type?"text-green-400":"text-red-400"}`,children:"success"===F.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:F.message})]}),(0,t.jsx)("button",{onClick:()=>k(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var r=r,_=e.i(3908),_=_,F=e.i(78466),F=F,k=e.i(91124),k=k,C=e.i(87942),C=C,S=e.i(11749),S=S,v=v;function M(){let[e,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),[p,g]=(0,s.useState)({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1}),[b,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{w()},[]),(0,s.useEffect)(()=>{if(b){let e=setTimeout(()=>f(null),5e3);return()=>clearTimeout(e)}},[b]);let j=async()=>{if(!m.trim())return void f({type:"error",message:"Please enter a key name"});try{let{data:{user:e}}=await h.db.auth.getUser();if(!e)throw Error("Not authenticated");let t=(()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="sk_";for(let s=0;s<32;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t})(),s=t.substring(0,7),{error:a}=await h.db.from("api_keys").insert({user_id:e.id,name:m,key_prefix:s,key_hash:t,permissions:p,is_active:!0});if(a)throw a;f({type:"success",message:`API key generated: ${t}`}),u(""),g({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1}),x(!1),w()}catch(e){console.error("Error generating API key:",e),f({type:"error",message:e.message||"Failed to generate API key"})}},y=[{id:"ak1",name:"Production Main API Key",key_prefix:"sk_prod",permissions:{send_messages:!0,read_analytics:!0,manage_campaigns:!0,manage_webhooks:!0},last_used_at:new Date(Date.now()-3e5).toISOString(),expires_at:null,is_active:!0,created_at:new Date(Date.now()-2592e6).toISOString()},{id:"ak2",name:"Staging / QA Key",key_prefix:"sk_stag",permissions:{send_messages:!0,read_analytics:!0,manage_campaigns:!1,manage_webhooks:!1},last_used_at:new Date(Date.now()-72e5).toISOString(),expires_at:new Date(Date.now()+5184e6).toISOString(),is_active:!0,created_at:new Date(Date.now()-5184e6).toISOString()},{id:"ak3",name:"Postman / API Testing",key_prefix:"sk_test",permissions:{send_messages:!1,read_analytics:!0,manage_campaigns:!1,manage_webhooks:!1},last_used_at:new Date(Date.now()-2592e5).toISOString(),expires_at:null,is_active:!0,created_at:new Date(Date.now()-1296e6).toISOString()},{id:"ak4",name:"Legacy Integration (Deprecated)",key_prefix:"sk_legc",permissions:{send_messages:!0,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1},last_used_at:new Date(Date.now()-3888e6).toISOString(),expires_at:new Date(Date.now()-432e6).toISOString(),is_active:!1,created_at:new Date(Date.now()-15552e6).toISOString()}],w=async()=>{d(!0);try{let[e,t]=await Promise.all([h.db.from("api_keys").select("*").order("created_at",{ascending:!1}),h.db.from("user_permissions").select("*")]),s=e.data&&e.data.length>0?e.data:y;a(s),t.data&&i(t.data)}catch{a(y)}d(!1)},M=async(e,t)=>{let{error:s}=await h.db.from("api_keys").update({is_active:!t}).eq("id",e);s||w()},A=async e=>{if(!confirm("Are you sure you want to delete this API key?"))return;let{error:t}=await h.db.from("api_keys").delete().eq("id",e);t||w()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage API keys, permissions, and access controls"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(r.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total API Keys"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Active and inactive"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Keys"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>e.is_active).length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Currently active"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Permissions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:l.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Custom permissions"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"API Keys"}),(0,t.jsxs)("button",{onClick:()=>x(!c),className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Generate New Key"]})]}),c&&(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Generate New API Key"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Key Name"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Production API Key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Permissions"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.send_messages,onChange:e=>g({...p,send_messages:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-sm",children:"Send Messages"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.read_analytics,onChange:e=>g({...p,read_analytics:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-sm",children:"Read Analytics"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.manage_campaigns,onChange:e=>g({...p,manage_campaigns:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Campaigns"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.manage_webhooks,onChange:e=>g({...p,manage_webhooks:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Webhooks"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:j,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all",children:"Generate Key"}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(""),g({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1})},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg font-medium transition-all",children:"Cancel"})]})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(r.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No API keys generated yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Create your first API key to get started"})]}):e.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.name}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold ${e.is_active?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/50":"bg-slate-500/20 text-slate-400 border border-slate-500/50"}`,children:[e.is_active?(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"}):(0,t.jsx)(F.default,{className:"w-3 h-3"}),e.is_active?"Active":"Inactive"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsxs)("span",{className:"font-mono",children:[e.key_prefix,"••••••••••••••••"]}),(0,t.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]}),e.last_used_at&&(0,t.jsxs)("span",{children:["Last used: ",new Date(e.last_used_at).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(k.default,{className:"w-4 h-4 text-slate-400 group-hover:text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>M(e.id,e.is_active),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:e.is_active?(0,t.jsx)(S.default,{className:"w-4 h-4 text-slate-400 group-hover:text-[#39FF14]"}):(0,t.jsx)(C.default,{className:"w-4 h-4 text-slate-400 group-hover:text-emerald-400"})}),(0,t.jsx)("button",{onClick:()=>A(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})})]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Role Permissions"}),(0,t.jsx)("div",{className:"space-y-4",children:["admin","developer","user"].map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${"admin"===e?"bg-red-500/20":"developer"===e?"bg-[#39FF14]/20":"bg-slate-500/20"}`,children:(0,t.jsx)(n.Shield,{className:`w-5 h-5 ${"admin"===e?"text-red-400":"developer"===e?"text-[#39FF14]":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold capitalize",children:e}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["admin"===e&&"Full system access","developer"===e&&"API and campaign management","user"===e&&"Basic read access"]})]})]}),(0,t.jsx)("button",{className:"text-[#39FF14] hover:text-[#39FF14] text-sm font-medium",children:"Edit Permissions"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:["admin"===e&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs rounded-full border border-emerald-500/30",children:"All Permissions"})}),"developer"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"Campaigns"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"Channels"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"API Keys"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"Messages"})]}),"user"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-500/20 text-slate-400 text-xs rounded-full border border-slate-500/30",children:"View Campaigns"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-500/20 text-slate-400 text-xs rounded-full border border-slate-500/30",children:"View Messages"})]})]})]},e))})]}),b&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,t.jsx)("div",{className:`${"success"===b.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===b.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===b.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===b.type?"text-green-400":"text-red-400"}`,children:"success"===b.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1 break-all",children:b.message})]}),(0,t.jsx)("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var F=F,A=e.i(31171),A=A,I=e.i(63059),P=e.i(58472),T=e.i(86311),D=e.i(91774),D=D,R=e.i(78094),L=e.i(71631),L=L,E=e.i(98791),C=C,S=S,_=_,$=e.i(52571),O=e.i(51854),O=O,q=e.i(48146),q=q,U=e.i(23896),U=U,V=e.i(49988),V=V;let B=[{id:"messaging-protocols",label:"Messaging Protocols",icon:T.MessageSquare,color:"#39FF14",description:"Core messaging transport and relay protocols",integrations:[{id:"smpp",name:"SMPP",description:"Short Message Peer-to-Peer — high-throughput SMS delivery to carrier networks via SMPP v3.4.",status:"connected",version:"SMPP v3.4",features:["Bulk SMS dispatch","DLR callbacks","Session binding (TX/RX/TRX)","Throttling control","Enquire link keepalive"],fields:[{key:"host",label:"Host",type:"text",placeholder:"smpp.carrier.example.com",required:!0},{key:"port",label:"Port",type:"number",placeholder:"2775",required:!0},{key:"system_id",label:"System ID",type:"text",placeholder:"your_system_id",required:!0},{key:"password",label:"Password",type:"password",placeholder:"SMPP password",required:!0},{key:"system_type",label:"System Type",type:"text",placeholder:"VMA"},{key:"bind_type",label:"Bind Type",type:"select",options:["Transmitter (TX)","Receiver (RX)","Transceiver (TRX)"]},{key:"window_size",label:"Window Size",type:"number",placeholder:"10",hint:"Max outstanding PDUs"},{key:"enquire_link_interval",label:"Enquire Link Interval",type:"text",placeholder:"30s"}],defaultConfig:{host:"smpp.carrier.cpaas.io",port:"2775",system_id:"cpaas_prod_01",password:"",system_type:"VMA",bind_type:"Transceiver (TRX)",window_size:"10",enquire_link_interval:"30s"},lastSync:new Date(Date.now()-48e4).toISOString(),throughput:"1,200 msg/sec"},{id:"smtp",name:"SMTP",description:"Simple Mail Transfer Protocol — transactional and bulk email delivery via relay servers.",status:"connected",version:"SMTP / ESMTP",features:["TLS/STARTTLS support","DKIM signing","SPF validation","Bounce handling","AUTH LOGIN / PLAIN"],fields:[{key:"host",label:"SMTP Host",type:"text",placeholder:"smtp.relay.example.com",required:!0},{key:"port",label:"Port",type:"number",placeholder:"587",required:!0},{key:"username",label:"Username / Email",type:"text",placeholder:"user@yourdomain.com",required:!0},{key:"password",label:"Password",type:"password",required:!0},{key:"encryption",label:"Encryption",type:"select",options:["STARTTLS","SSL/TLS","None"]},{key:"from_domain",label:"From Domain",type:"text",placeholder:"yourdomain.com"},{key:"dkim_selector",label:"DKIM Selector",type:"text",placeholder:"k1"},{key:"timeout",label:"Timeout",type:"text",placeholder:"30s"}],defaultConfig:{host:"smtp.relay.cpaas.io",port:"587",username:"",password:"",encryption:"STARTTLS",from_domain:"",dkim_selector:"k1",timeout:"30s"},lastSync:new Date(Date.now()-72e4).toISOString(),throughput:"500 emails/min"}]},{id:"directory-auth",label:"Directory & Authentication",icon:n.Shield,color:"#22d3ee",description:"Identity providers and directory services",integrations:[{id:"ldap",name:"LDAP / Active Directory",description:"LDAPv3 directory for enterprise SSO, user provisioning, and role mapping to platform roles.",status:"connected",version:"LDAPv3",features:["LDAPS (SSL/TLS)","Group-based role mapping","User sync & provisioning","Nested group support","Start TLS"],fields:[{key:"host",label:"LDAP Host",type:"text",placeholder:"ldap.corp.example.com",required:!0},{key:"port",label:"Port",type:"number",placeholder:"636 (LDAPS) or 389",required:!0},{key:"bind_dn",label:"Bind DN",type:"text",placeholder:"cn=svc-account,dc=corp,dc=com",required:!0},{key:"bind_password",label:"Bind Password",type:"password",required:!0},{key:"base_dn",label:"Base DN",type:"text",placeholder:"dc=corp,dc=com",required:!0},{key:"user_filter",label:"User Filter",type:"text",placeholder:"(sAMAccountName={{username}})"},{key:"group_dn",label:"Group DN",type:"text",placeholder:"ou=Groups,dc=corp,dc=com"},{key:"tls",label:"TLS Mode",type:"select",options:["LDAPS","StartTLS","None"]}],defaultConfig:{host:"ldap.corp.cpaas.io",port:"636",bind_dn:"",bind_password:"",base_dn:"dc=corp,dc=io",user_filter:"(sAMAccountName={{username}})",group_dn:"",tls:"LDAPS"},lastSync:new Date(Date.now()-15e5).toISOString()}]},{id:"api-integrations",label:"API & Web Services",icon:P.Code,color:"#a78bfa",description:"REST, GraphQL, and API platform connectors",integrations:[{id:"rest-api",name:"REST API",description:"RESTful API connector for webhooks, callbacks, and third-party service integration via HTTP/S.",status:"connected",version:"HTTP/1.1 + HTTP/2",features:["OAuth 2.0 auth","JWT bearer tokens","Webhook delivery","Retry logic with backoff","OpenAPI 3.0 spec"],fields:[{key:"base_url",label:"Base URL",type:"url",placeholder:"https://api.example.com/v1",required:!0},{key:"auth_type",label:"Auth Type",type:"select",options:["OAuth 2.0 (Client Credentials)","Bearer Token","API Key","Basic Auth","None"]},{key:"client_id",label:"Client ID",type:"text",placeholder:"your_client_id"},{key:"client_secret",label:"Client Secret",type:"password",placeholder:"your_client_secret"},{key:"token_url",label:"Token Endpoint",type:"url",placeholder:"https://auth.example.com/oauth/token"},{key:"api_key",label:"API Key (if used)",type:"password",placeholder:"Bearer or X-API-Key value"},{key:"rate_limit",label:"Rate Limit",type:"text",placeholder:"1000 req/hour"},{key:"timeout",label:"Timeout",type:"text",placeholder:"30s"}],defaultConfig:{base_url:"https://api.platform.cpaas.io/v3",auth_type:"OAuth 2.0 (Client Credentials)",client_id:"",client_secret:"",token_url:"",api_key:"",rate_limit:"1000 req/hour",timeout:"30s"},lastSync:new Date(Date.now()-12e4).toISOString(),throughput:"1,000 req/hour"},{id:"graph-api",name:"Graph API",description:"Microsoft & Meta Graph API connector for Office 365, Teams, WhatsApp Business, and social integrations.",status:"connected",version:"Graph API v18 / MS Graph v1.0",features:["MS Teams messaging","WhatsApp Business API","Calendar & email access","User directory sync","Webhooks (change notifications)"],fields:[{key:"provider",label:"Provider",type:"select",options:["Microsoft + Meta","Microsoft Only","Meta Only"]},{key:"ms_tenant_id",label:"MS Tenant ID",type:"text",placeholder:"corp.onmicrosoft.com"},{key:"ms_client_id",label:"MS App (Client) ID",type:"text",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"},{key:"ms_client_secret",label:"MS Client Secret",type:"password"},{key:"meta_app_id",label:"Meta App ID",type:"text",placeholder:"123456789"},{key:"meta_token",label:"Meta Permanent Token",type:"password"},{key:"webhook_verify_token",label:"Webhook Verify Token",type:"password",hint:"Used for Meta webhook verification"},{key:"scope",label:"MS Scopes",type:"text",placeholder:"Chat.ReadWrite Mail.Send User.Read"}],defaultConfig:{provider:"Microsoft + Meta",ms_tenant_id:"",ms_client_id:"",ms_client_secret:"",meta_app_id:"",meta_token:"",webhook_verify_token:"",scope:"Chat.ReadWrite Mail.Send User.Read"},lastSync:new Date(Date.now()-3e5).toISOString()},{id:"postman",name:"Postman / API Testing",description:"Postman workspace sync for automated API testing, collection running, and CI/CD integration.",status:"connected",version:"Postman API v10",features:["Collection sync","Automated test runs (Newman)","Environment variables","CI/CD webhook triggers","API monitoring","Mock server"],fields:[{key:"api_key",label:"Postman API Key (PMAK)",type:"password",required:!0,placeholder:"PMAK-xxxxxxxxxx"},{key:"workspace_id",label:"Workspace ID",type:"text",placeholder:"ws_xxxxxxxx"},{key:"collection_id",label:"Collection ID",type:"text",placeholder:"col_xxxxxxxx"},{key:"environment",label:"Environment",type:"select",options:["Production","Staging","Development","Local"]},{key:"monitor_id",label:"Monitor ID",type:"text",placeholder:"mon_xxxxxxxx"},{key:"schedule",label:"Run Schedule",type:"select",options:["Every 5 minutes","Every 15 minutes","Every 30 minutes","Hourly","Daily","Manual"]}],defaultConfig:{api_key:"",workspace_id:"",collection_id:"",environment:"Production",monitor_id:"",schedule:"Every 15 minutes"},lastSync:new Date(Date.now()-9e5).toISOString()},{id:"general-api",name:"General API Gateway",description:"Centralized API gateway managing rate limits, versioning, and access control across all platform APIs.",status:"connected",version:"Kong Gateway v3.5",features:["JWT / API key auth","Rate limiting (global + per-consumer)","Request transformation","Canary releases","Plugin ecosystem"],fields:[{key:"host",label:"Gateway Host",type:"text",placeholder:"gateway.example.com",required:!0},{key:"admin_port",label:"Admin Port",type:"number",placeholder:"8001"},{key:"proxy_port",label:"Proxy Port",type:"number",placeholder:"8000"},{key:"auth_plugin",label:"Auth Plugin",type:"select",options:["JWT + Key-Auth","OAuth 2.0","Basic Auth","HMAC","Key Auth Only"]},{key:"rate_limit_global",label:"Global Rate Limit",type:"text",placeholder:"10,000 req/min"},{key:"upstream",label:"Upstream URL",type:"url",placeholder:"http://internal-api:3000"},{key:"tls",label:"TLS",type:"select",options:["Enabled (wildcard cert)","Enabled (custom cert)","Disabled"]},{key:"load_balancer",label:"Load Balancer",type:"select",options:["Round-Robin","Least Connections","Hash (IP)","Random"]}],defaultConfig:{host:"gateway.cpaas.io",admin_port:"8001",proxy_port:"8000",auth_plugin:"JWT + Key-Auth",rate_limit_global:"10,000 req/min",upstream:"",tls:"Enabled (wildcard cert)",load_balancer:"Round-Robin"},lastSync:new Date(Date.now()-6e5).toISOString(),throughput:"10,000 req/min"}]},{id:"bss-oss",label:"BSS / OSS Systems",icon:D.default,color:"#f59e0b",description:"Business and Operational Support Systems",integrations:[{id:"bss",name:"BSS (Business Support System)",description:"Billing, mediation, and customer management system integration for telco-grade monetization.",status:"connected",version:"TM Forum Open API",features:["Real-time CDR mediation","Prepaid / postpaid billing","Product catalog sync","Invoice generation","Usage-based charging"],fields:[{key:"bss_endpoint",label:"BSS Endpoint",type:"url",required:!0,placeholder:"https://bss.example.com/api/v2"},{key:"api_key",label:"API Key",type:"password",required:!0},{key:"mediation_type",label:"Mediation Type",type:"select",options:["Real-time CDR","Batch CDR","Event-based"]},{key:"billing_model",label:"Billing Model",type:"select",options:["Prepaid + Postpaid","Prepaid Only","Postpaid Only"]},{key:"cdr_format",label:"CDR Format",type:"select",options:["ASN.1 / CSV","JSON","XML","Diameter"]},{key:"sync_interval",label:"Sync Interval",type:"select",options:["Real-time","Every 1 minute","Every 5 minutes","Every 15 minutes"]}],defaultConfig:{bss_endpoint:"",api_key:"",mediation_type:"Real-time CDR",billing_model:"Prepaid + Postpaid",cdr_format:"ASN.1 / CSV",sync_interval:"Real-time"},lastSync:new Date(Date.now()-6e4).toISOString(),throughput:"5,000 CDR/sec"},{id:"oss",name:"OSS (Operational Support System)",description:"Network inventory, provisioning, fault management, and performance monitoring integration.",status:"connected",version:"ETSI NFV / TM Forum",features:["Network inventory management","Service provisioning automation","Fault & alarm management (SNMP)","Performance KPI collection","NETCONF/YANG config"],fields:[{key:"oss_endpoint",label:"OSS Endpoint",type:"url",required:!0,placeholder:"https://oss.example.com/api/v1"},{key:"api_key",label:"API Key",type:"password",required:!0},{key:"fault_protocol",label:"Fault Protocol",type:"select",options:["SNMP v3 + Syslog","SNMP v2c","Syslog Only","OpenConfig"]},{key:"config_protocol",label:"Config Protocol",type:"select",options:["NETCONF / YANG","RESTCONF","SNMP Set","CLI (SSH)"]},{key:"performance_collector",label:"Metrics Collector",type:"select",options:["Prometheus + Grafana","InfluxDB + Grafana","ELK Stack","Custom"]},{key:"discovery_interval",label:"Discovery Interval",type:"select",options:["Real-time","1 minute","5 minutes","15 minutes","1 hour"]}],defaultConfig:{oss_endpoint:"",api_key:"",fault_protocol:"SNMP v3 + Syslog",config_protocol:"NETCONF / YANG",performance_collector:"Prometheus + Grafana",discovery_interval:"5 minutes"},lastSync:new Date(Date.now()-18e4).toISOString()}]},{id:"gateways",label:"Communication Gateways",icon:R.Network,color:"#f97316",description:"Carrier-grade messaging, voice, and media gateways",integrations:[{id:"sms-gateway",name:"SMS Gateway",description:"Carrier-grade SMS aggregator gateway with multi-route failover, DLR tracking, and number masking.",status:"connected",version:"SMPP v3.4 / HTTP",features:["Multi-carrier routing","Automatic failover","DLR tracking","Number masking / SenderID","Two-way SMS (MO/MT)","Flash SMS support"],fields:[{key:"host",label:"Gateway Host",type:"text",required:!0,placeholder:"sms-gw.carrier.example.com"},{key:"port",label:"Port",type:"number",placeholder:"2776"},{key:"primary_route",label:"Primary Route",type:"text",placeholder:"Telco A — MY"},{key:"fallback_route",label:"Fallback Route",type:"text",placeholder:"Telco B — SG"},{key:"sender_id",label:"Sender ID / Mask",type:"text",placeholder:"YourBrand",required:!0},{key:"dlr_url",label:"DLR Webhook URL",type:"url",placeholder:"https://yourapp.com/dlr/sms"},{key:"max_tps",label:"Max TPS",type:"text",placeholder:"500 msg/sec"},{key:"username",label:"Username",type:"text"},{key:"password",label:"Password",type:"password"}],defaultConfig:{host:"sms-gw.carrier.cpaas.io",port:"2776",primary_route:"Telco A — MY",fallback_route:"Telco B — SG",sender_id:"CPaaSBiz",dlr_url:"",max_tps:"500 msg/sec",username:"",password:""},lastSync:new Date(Date.now()-6e4).toISOString(),throughput:"500 msg/sec"},{id:"rcs-gateway",name:"RCS Gateway",description:"Rich Communication Services gateway for verified sender messaging with carousels and quick replies.",status:"connected",version:"GSMA Universal Profile 2.4",features:["Verified sender (blue tick)","Rich cards & carousels","Suggested replies / actions","File sharing","Read receipts","Fallback to SMS"],fields:[{key:"rcs_gateway",label:"RCS Gateway URL",type:"url",required:!0,placeholder:"https://rcs-gw.carrier.example.com"},{key:"api_key",label:"API Key",type:"password",required:!0},{key:"sender_id",label:"Verified Sender ID",type:"text",required:!0,placeholder:"YourBrand_Verified"},{key:"fallback",label:"Fallback Channel",type:"select",options:["SMS (automatic)","SMS (manual trigger)","None"]},{key:"profile",label:"RCS Profile",type:"select",options:["Universal Profile 2.4","Universal Profile 2.3","Custom"]},{key:"dlr_webhook",label:"DLR Webhook URL",type:"url",placeholder:"https://yourapp.com/dlr/rcs"},{key:"max_message_size",label:"Max Message Size",type:"text",placeholder:"100KB"}],defaultConfig:{rcs_gateway:"https://rcs-gw.carrier.cpaas.io",api_key:"",sender_id:"CPaaS_Verified",fallback:"SMS (automatic)",profile:"Universal Profile 2.4",dlr_webhook:"",max_message_size:"100KB"},lastSync:new Date(Date.now()-42e4).toISOString(),throughput:"200 msg/sec"},{id:"webrtc-gateway",name:"WebRTC Gateway",description:"Browser-based real-time communication gateway for HD audio/video calls and data channels.",status:"connected",version:"WebRTC W3C / RFC 8829",features:["STUN/TURN/ICE server","E2E encrypted media (SRTP/DTLS)","SFU media server (Janus)","NAT traversal","Screen sharing","Recording (S3)"],fields:[{key:"signaling",label:"Signaling (WSS)",type:"url",required:!0,placeholder:"wss://webrtc.example.com/signal"},{key:"stun",label:"STUN Server",type:"text",placeholder:"stun:stun.example.com:3478"},{key:"turn",label:"TURN Server",type:"text",placeholder:"turn:turn.example.com:3478"},{key:"turn_username",label:"TURN Username",type:"text"},{key:"turn_password",label:"TURN Password",type:"password"},{key:"sfu",label:"SFU Engine",type:"select",options:["Janus Gateway","mediasoup","Kurento","Ant Media","Custom"]},{key:"record_bucket",label:"Recording Bucket (S3)",type:"text",placeholder:"s3://your-bucket/recordings"},{key:"codec",label:"Preferred Codec",type:"select",options:["VP9 + Opus","VP8 + Opus","H.264 + Opus","AV1 + Opus"]}],defaultConfig:{signaling:"wss://webrtc.media.cpaas.io/signal",stun:"stun:stun.cpaas.io:3478",turn:"turn:turn.cpaas.io:3478",turn_username:"",turn_password:"",sfu:"Janus Gateway",record_bucket:"",codec:"VP9 + Opus"},lastSync:new Date(Date.now()-18e4).toISOString(),throughput:"500 concurrent calls"},{id:"sip-gateway",name:"SIP Gateway / Trunk",description:"Session Initiation Protocol gateway for carrier SIP trunking, PSTN interconnect, and IVR integration.",status:"connected",version:"SIP RFC 3261 / RTP",features:["SIP trunk registration","PSTN breakout (inbound/outbound)","G.711/G.722/Opus codec","DTMF (RFC 2833)","TLS/SRTP encryption","CDR generation"],fields:[{key:"sip_proxy",label:"SIP Proxy Host",type:"text",required:!0,placeholder:"sip.trunk.example.com"},{key:"port",label:"Port",type:"number",placeholder:"5060 (UDP) or 5061 (TLS)"},{key:"username",label:"SIP Username",type:"text",required:!0,placeholder:"trunk_account_01"},{key:"password",label:"SIP Password",type:"password",required:!0},{key:"domain",label:"SIP Domain",type:"text",placeholder:"sip.example.com"},{key:"codec_preference",label:"Codec Preference",type:"select",options:["G.722 > G.711u > Opus","G.711u > G.722","Opus > G.722 > G.711u","G.711u Only"]},{key:"registration_ttl",label:"Registration TTL",type:"text",placeholder:"3600s"},{key:"did_number",label:"DID / DDI Number",type:"text",placeholder:"+60123456789"},{key:"transport",label:"Transport",type:"select",options:["UDP","TCP","TLS","Auto"]}],defaultConfig:{sip_proxy:"sip.trunk.cpaas.io",port:"5060",username:"",password:"",domain:"sip.cpaas.io",codec_preference:"G.722 > G.711u > Opus",registration_ttl:"3600s",did_number:"",transport:"UDP"},lastSync:new Date(Date.now()-0).toISOString(),throughput:"1,000 concurrent calls"}]},{id:"payment-gateways",label:"Payment Gateways",icon:D.default,color:"#818cf8",description:"Payment processing, recurring billing, and financial transaction gateways",integrations:[{id:"stripe",name:"Stripe",description:"Global card payments, subscriptions, invoicing, and financial infrastructure.",status:"disconnected",version:"Stripe API v2024",features:["Card payments (Visa/MC/Amex)","Recurring subscriptions","Webhooks","Refunds & disputes","Invoice generation","Multi-currency"],fields:[{key:"publishable_key",label:"Publishable Key",type:"text",required:!0,placeholder:"pk_live_..."},{key:"secret_key",label:"Secret Key",type:"password",required:!0,placeholder:"sk_live_..."},{key:"webhook_secret",label:"Webhook Signing Secret",type:"password",placeholder:"whsec_..."},{key:"webhook_url",label:"Webhook Endpoint URL",type:"url",placeholder:"https://yourapp.com/webhooks/stripe"},{key:"currency",label:"Default Currency",type:"select",options:["MYR","USD","SGD","EUR","GBP"]},{key:"mode",label:"Mode",type:"select",options:["Live","Test"]}],defaultConfig:{publishable_key:"",secret_key:"",webhook_secret:"",webhook_url:"",currency:"MYR",mode:"Test"}},{id:"paypal",name:"PayPal",description:"PayPal Checkout, PayPal Commerce Platform, and PayPal Subscriptions API.",status:"disconnected",version:"PayPal REST API v2",features:["PayPal Checkout button","Credit/debit card vault","Subscriptions","Payouts","Invoicing","Fraud protection"],fields:[{key:"client_id",label:"Client ID",type:"text",required:!0,placeholder:"AaBbCcDd..."},{key:"client_secret",label:"Client Secret",type:"password",required:!0},{key:"webhook_id",label:"Webhook ID",type:"text",placeholder:"WH-xxxx"},{key:"webhook_url",label:"Webhook URL",type:"url",placeholder:"https://yourapp.com/webhooks/paypal"},{key:"currency",label:"Currency",type:"select",options:["MYR","USD","SGD","EUR"]},{key:"mode",label:"Mode",type:"select",options:["Live","Sandbox"]}],defaultConfig:{client_id:"",client_secret:"",webhook_id:"",webhook_url:"",currency:"MYR",mode:"Sandbox"}},{id:"billplz",name:"Billplz",description:"Malaysian payment gateway with FPX online banking, credit cards, and direct debit.",status:"disconnected",version:"Billplz API v3",features:["FPX online banking (MY)","Credit/debit card","Direct debit (CIMB, Maybank)","Bill & collection pages","Webhooks","Instant transfer"],fields:[{key:"api_key",label:"API Key",type:"password",required:!0,placeholder:"Your Billplz API Key"},{key:"collection_id",label:"Collection ID",type:"text",required:!0,placeholder:"Your Billplz Collection ID"},{key:"x_signature_key",label:"X-Signature Key",type:"password",placeholder:"For webhook verification"},{key:"callback_url",label:"Callback URL",type:"url",placeholder:"https://yourapp.com/payment/billplz/callback"},{key:"redirect_url",label:"Redirect URL",type:"url",placeholder:"https://yourapp.com/payment/success"},{key:"mode",label:"Mode",type:"select",options:["Production","Sandbox"]}],defaultConfig:{api_key:"",collection_id:"",x_signature_key:"",callback_url:"",redirect_url:"",mode:"Sandbox"}},{id:"toyyibpay",name:"toyyibPay",description:"Malaysian payment gateway supporting FPX, credit/debit cards, and e-wallets.",status:"disconnected",version:"toyyibPay API v1",features:["FPX (all MY banks)","Credit/debit card","E-wallets (Touch n Go, GrabPay)","Auto-refund","Webhook callbacks","Custom bill pages"],fields:[{key:"user_secret_key",label:"User Secret Key",type:"password",required:!0},{key:"category_code",label:"Category Code",type:"text",required:!0,placeholder:"Your toyyibPay category code"},{key:"callback_url",label:"Callback URL",type:"url",placeholder:"https://yourapp.com/payment/toyyib/callback"},{key:"return_url",label:"Return URL",type:"url",placeholder:"https://yourapp.com/payment/result"},{key:"mode",label:"Mode",type:"select",options:["Production","Development"]}],defaultConfig:{user_secret_key:"",category_code:"",callback_url:"",return_url:"",mode:"Development"}},{id:"ipay88",name:"iPay88",description:"Malaysian payment gateway with FPX, credit/debit cards, and regional payment methods across SEA.",status:"disconnected",version:"iPay88 API v2",features:["FPX online banking","Visa / Mastercard","AmexCard","E-wallets","Recurring billing","SEA multi-currency"],fields:[{key:"merchant_code",label:"Merchant Code",type:"text",required:!0,placeholder:"iPayXXXXXX"},{key:"merchant_key",label:"Merchant Key",type:"password",required:!0},{key:"response_url",label:"Response URL",type:"url",placeholder:"https://yourapp.com/payment/ipay88/response"},{key:"backend_url",label:"Backend URL",type:"url",placeholder:"https://yourapp.com/payment/ipay88/backend"},{key:"currency",label:"Currency",type:"select",options:["MYR","USD","SGD","THB","IDR"]},{key:"mode",label:"Environment",type:"select",options:["Production","Staging"]}],defaultConfig:{merchant_code:"",merchant_key:"",response_url:"",backend_url:"",currency:"MYR",mode:"Staging"}},{id:"adyen",name:"Adyen",description:"Enterprise payment platform used by global businesses for card acquiring and alternative payment methods.",status:"disconnected",version:"Adyen API v69",features:["Card acquiring (global)","Alternative payment methods","Tokenization & vaulting","Fraud & risk management","3DS2 authentication","POS + eCommerce"],fields:[{key:"api_key",label:"API Key",type:"password",required:!0,placeholder:"AQE...xxx"},{key:"merchant_account",label:"Merchant Account",type:"text",required:!0,placeholder:"YourCompanyECOM"},{key:"client_key",label:"Client Key (Drop-in)",type:"text",placeholder:"test_XXXXXXXXX or live_XXXXXXXXX"},{key:"webhook_hmac",label:"Webhook HMAC Key",type:"password",placeholder:"For notification validation"},{key:"webhook_url",label:"Webhook URL",type:"url",placeholder:"https://yourapp.com/webhooks/adyen"},{key:"environment",label:"Environment",type:"select",options:["Live (EU)","Live (US)","Live (AU)","Test"]},{key:"currency",label:"Default Currency",type:"select",options:["MYR","USD","EUR","GBP","SGD"]}],defaultConfig:{api_key:"",merchant_account:"",client_key:"",webhook_hmac:"",webhook_url:"",environment:"Test",currency:"MYR"}}]}],z="cpaas_integration_configs",G={connected:{label:"Connected",color:"bg-[#39FF14]/15 text-[#39FF14] border-[#39FF14]/30",dot:"bg-[#39FF14]"},disconnected:{label:"Disconnected",color:"bg-slate-500/15 text-slate-400 border-slate-500/30",dot:"bg-slate-400"},error:{label:"Error",color:"bg-red-500/15 text-red-400 border-red-500/30",dot:"bg-red-400"},pending:{label:"Pending",color:"bg-amber-500/15 text-amber-400 border-amber-500/30",dot:"bg-amber-400"},testing:{label:"Testing…",color:"bg-cyan-500/15 text-cyan-400 border-cyan-500/30",dot:"bg-cyan-400 animate-pulse"}};function K({item:e,config:a,onSave:l,onClose:r}){let[i,n]=(0,s.useState)({...a}),[o,d]=(0,s.useState)({}),[c,x]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)(!1),f=(e,t)=>p(s=>[{ts:new Date().toLocaleTimeString(),msg:e,ok:t},...s]),j=async()=>{x(!0),h(null),f(`Testing ${e.name}…`,!0);try{let t=await fetch("/api/integrations/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({integrationId:e.id,integrationName:e.name,config:i})}),s=await t.json();h(s),f(s.success?`✓ Connected — ${s.details||"OK"} (${s.latency}ms)`:`✗ Failed — ${s.details||s.error}`,s.success)}catch(e){h({success:!1,details:e.message}),f(`✗ Network error — ${e.message}`,!1)}x(!1)},v=e.fields.filter(e=>e.required).every(e=>(i[e.key]||"").trim().length>0);return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl shadow-black/60",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-white font-black text-lg tracking-tight",children:["Configure ",e.name]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:e.version})]}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-[#024d30] rounded-xl transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"overflow-y-auto flex-1 px-6 py-5 space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.fields.map(e=>(0,t.jsxs)("div",{className:"url"===e.type||"signaling"===e.key||"base_url"===e.key||"bss_endpoint"===e.key||"oss_endpoint"===e.key||"rcs_gateway"===e.key?"col-span-2":"",children:[(0,t.jsxs)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest mb-1.5",children:[e.label,e.required&&(0,t.jsx)("span",{className:"text-[#39FF14] ml-1",children:"*"})]}),"select"===e.type?(0,t.jsx)("select",{value:i[e.key]||"",onChange:t=>n(s=>({...s,[e.key]:t.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 rounded-xl px-3 py-2.5 text-white text-sm outline-none transition-all",children:e.options?.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"password"!==e.type||o[e.key]?"number"===e.type?"number":"text":"password",value:i[e.key]||"",onChange:t=>n(s=>({...s,[e.key]:t.target.value})),placeholder:e.placeholder,className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 rounded-xl px-3 py-2.5 text-white text-sm outline-none transition-all font-mono pr-9"}),"password"===e.type&&(0,t.jsx)("button",{type:"button",onClick:()=>d(t=>({...t,[e.key]:!t[e.key]})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-[#39FF14] transition-colors",children:o[e.key]?(0,t.jsx)(S.default,{className:"w-3.5 h-3.5"}):(0,t.jsx)(C.default,{className:"w-3.5 h-3.5"})})]}),e.hint&&(0,t.jsx)("p",{className:"text-slate-600 text-[10px] mt-1",children:e.hint})]},e.key))}),(u.length>0||null!==m)&&(0,t.jsxs)("div",{className:"bg-black/60 border border-[#024d30]/60 rounded-xl p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(V.default,{className:"w-3.5 h-3.5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500",children:"Connection Log"})]}),null!==m&&(0,t.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-xl ${m.success?"bg-[#39FF14]/10 border border-[#39FF14]/20":"bg-red-500/10 border border-red-500/20"}`,children:[m.success?(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-[#39FF14] shrink-0 mt-0.5"}):(0,t.jsx)(F.default,{className:"w-4 h-4 text-red-400 shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:`text-xs font-black uppercase tracking-widest ${m.success?"text-[#39FF14]":"text-red-400"}`,children:[m.success?"Connection Successful":"Connection Failed",void 0!==m.latency&&` \xb7 ${m.latency}ms`]}),m.details&&(0,t.jsx)("p",{className:"text-slate-300 text-xs mt-1",children:m.details})]})]}),(0,t.jsx)("div",{className:"space-y-1 max-h-28 overflow-y-auto",children:u.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-[11px] font-mono",children:[(0,t.jsx)("span",{className:"text-slate-600 shrink-0",children:e.ts}),(0,t.jsx)("span",{className:e.ok?"text-slate-300":"text-red-400",children:e.msg})]},s))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-t border-[#024d30]",children:[(0,t.jsxs)("button",{onClick:j,disabled:c||!v,className:"flex items-center gap-2 px-4 py-2.5 bg-[#024d30]/60 hover:bg-[#024d30] border border-[#024d30] text-slate-300 hover:text-white rounded-xl text-xs font-black uppercase tracking-widest transition-all disabled:opacity-40",children:[c?(0,t.jsx)(U.default,{className:"w-3.5 h-3.5 animate-spin"}):(0,t.jsx)(q.default,{className:"w-3.5 h-3.5"}),c?"Testing…":"Test Connection"]}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:r,className:"px-4 py-2.5 text-slate-400 hover:text-white text-xs font-black uppercase tracking-widest transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{l(e.id,i),b(!0),f("✓ Configuration saved",!0),setTimeout(()=>b(!1),2e3)},disabled:!v,className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all disabled:opacity-40 ${g?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30":"bg-[#39FF14] hover:bg-[#32e012] text-black"}`,children:[g?(0,t.jsx)(N.CheckCircle,{className:"w-3.5 h-3.5"}):(0,t.jsx)(O.default,{className:"w-3.5 h-3.5"}),g?"Saved!":"Save Config"]})]})]})]})})}function W({item:e,onEdit:a}){let[l,r]=(0,s.useState)(!1),i=G[e.status];return(0,t.jsxs)("div",{className:`bg-[#012419]/60 border rounded-2xl overflow-hidden transition-all ${l?"border-[#39FF14]/30":"border-[#024d30] hover:border-[#39FF14]/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 cursor-pointer",onClick:()=>r(!l),children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`w-2 h-2 rounded-full ${i.dot}`}),(0,t.jsx)("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${i.color}`,children:i.label})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-bold text-base",children:e.name}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:e.version})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.throughput&&(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400 bg-[#024d30]/40 px-2 py-1 rounded-lg",children:e.throughput}),e.lastSync&&(0,t.jsxs)("span",{className:"text-[10px] text-slate-500 hidden md:block",children:["Synced ",new Date(e.lastSync).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),a()},className:"flex items-center gap-1.5 px-3 py-1.5 bg-[#39FF14]/10 hover:bg-[#39FF14] text-[#39FF14] hover:text-black border border-[#39FF14]/20 hover:border-[#39FF14] rounded-xl text-[10px] font-black uppercase tracking-widest transition-all",children:[(0,t.jsx)(d.Settings,{className:"w-3 h-3"})," Edit"]}),l?(0,t.jsx)(A.default,{className:"w-4 h-4 text-[#39FF14]"}):(0,t.jsx)(I.ChevronRight,{className:"w-4 h-4 text-slate-500"})]})]}),l&&(0,t.jsxs)("div",{className:"px-5 pb-5 border-t border-[#024d30]/50 pt-5 space-y-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm leading-relaxed",children:e.description}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h5",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-3 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-3 h-3 text-[#39FF14]"})," Features & Capabilities"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.features.map((e,s)=>(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-[#024d30]/40 border border-[#024d30] rounded-full text-xs text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3 text-[#39FF14] shrink-0"})," ",e]},s))})]})]})]})}let X=[{id:"stripe",name:"Stripe",category:"payment-gateways",icon:"💳",description:"Global card payments & subscriptions"},{id:"paypal",name:"PayPal",category:"payment-gateways",icon:"🅿️",description:"PayPal Checkout & Commerce Platform"},{id:"billplz",name:"Billplz",category:"payment-gateways",icon:"🇲🇾",description:"Malaysian FPX + card gateway"},{id:"toyyibpay",name:"toyyibPay",category:"payment-gateways",icon:"💰",description:"FPX, cards & e-wallets (MY)"},{id:"ipay88",name:"iPay88",category:"payment-gateways",icon:"💵",description:"SEA multi-currency gateway"},{id:"adyen",name:"Adyen",category:"payment-gateways",icon:"🌐",description:"Enterprise global acquiring"},{id:"smpp",name:"SMPP",category:"messaging-protocols",icon:"📡",description:"High-throughput SMS carrier relay"},{id:"smtp",name:"SMTP",category:"messaging-protocols",icon:"✉️",description:"Email relay server"},{id:"ldap",name:"LDAP / AD",category:"directory-auth",icon:"🔒",description:"Enterprise directory & SSO"},{id:"rest-api",name:"REST API",category:"api-integrations",icon:"🔗",description:"Generic REST / HTTP connector"},{id:"graph-api",name:"Graph API",category:"api-integrations",icon:"📊",description:"MS + Meta Graph API"},{id:"postman",name:"Postman",category:"api-integrations",icon:"🧪",description:"API testing & CI/CD"},{id:"general-api",name:"API Gateway",category:"api-integrations",icon:"⚙️",description:"Kong API gateway"},{id:"bss",name:"BSS",category:"bss-oss",icon:"📋",description:"Billing support system"},{id:"oss",name:"OSS",category:"bss-oss",icon:"🖧",description:"Network ops support system"},{id:"sms-gateway",name:"SMS Gateway",category:"gateways",icon:"💬",description:"Carrier SMS aggregator"},{id:"rcs-gateway",name:"RCS Gateway",category:"gateways",icon:"📲",description:"Rich communication services"},{id:"webrtc-gateway",name:"WebRTC",category:"gateways",icon:"🎥",description:"Real-time audio/video"},{id:"sip-gateway",name:"SIP / Trunk",category:"gateways",icon:"📞",description:"Carrier SIP trunking"}],H={"payment-gateways":"💳 Payment Gateways","messaging-protocols":"📡 Messaging Protocols","directory-auth":"🔒 Directory & Auth","api-integrations":"🔗 API & Web Services","bss-oss":"📋 BSS / OSS",gateways:"🌐 Communication Gateways"};function J({onSelect:e,onClose:a}){let[l,r]=(0,s.useState)(""),[i,n]=(0,s.useState)("all"),o=X.filter(e=>{let t=e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),s="all"===i||e.category===i;return t&&s}),d=Object.entries(H).reduce((e,[t])=>{let s=o.filter(e=>e.category===t);return s.length&&(e[t]=s),e},{});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:a,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-white font-black text-lg",children:"Add Integration"}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:"Choose a gateway or protocol to configure"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-[#024d30] rounded-xl transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"px-6 pt-4 space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>r(e.target.value),placeholder:"Search integrations…",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-4 py-2.5 text-white text-sm outline-none transition-all pl-9"}),(0,t.jsx)($.Info,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"})]}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:["all",...Object.keys(H)].map(e=>(0,t.jsx)("button",{onClick:()=>n(e),className:`px-3 py-1 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${i===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 text-slate-400 border border-[#024d30]"}`,children:"all"===e?"All":H[e].split(" ").slice(1).join(" ")},e))})]}),(0,t.jsxs)("div",{className:"overflow-y-auto flex-1 px-6 py-4 space-y-5",children:[Object.entries(d).map(([s,a])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-2",children:H[s]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.map(s=>(0,t.jsxs)("button",{onClick:()=>e(s.id,s.category),className:"flex items-center gap-3 p-4 bg-[#012419]/80 border border-[#024d30] hover:border-[#39FF14]/40 hover:bg-[#024d30]/40 rounded-xl text-left transition-all group",children:[(0,t.jsx)("span",{className:"text-2xl shrink-0",children:s.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-bold text-sm group-hover:text-[#39FF14] transition-colors",children:s.name}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px] leading-snug",children:s.description})]})]},s.id))})]},s)),0===o.length&&(0,t.jsx)("div",{className:"text-center py-10",children:(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"No integrations match your search"})})]})]})})}function Y(){let[e,a]=(0,s.useState)(new Set(B.map(e=>e.id))),[l,r]=(0,s.useState)("all"),[i,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)({}),[m,h]=(0,s.useState)(B);(0,s.useEffect)(()=>{x(function(){try{return JSON.parse(localStorage.getItem(z)||"{}")}catch{return{}}}())},[]);let u=(0,s.useCallback)((e,t)=>{let s={...c,[e]:t};x(s),localStorage.setItem(z,JSON.stringify(s)),h(t=>t.map(t=>({...t,integrations:t.integrations.map(t=>t.id===e?{...t,status:"connected",lastSync:new Date().toISOString()}:t)})))},[c]),p=(0,s.useCallback)((e,t)=>{for(let s of(d(!1),B)){let l=s.integrations.find(t=>t.id===e);if(l){h(s=>s.some(t=>t.integrations.some(t=>t.id===e))?s:s.map(e=>e.id===t?{...e,integrations:[...e.integrations,{...l,status:"pending"}]}:e)),a(e=>new Set([...e,t])),n(l);return}}},[]),g=m.reduce((e,t)=>e+t.integrations.filter(e=>"connected"===e.status).length,0),b=m.reduce((e,t)=>e+t.integrations.length,0),f=m.reduce((e,t)=>e+t.integrations.filter(e=>"error"===e.status).length,0);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white mb-1 tracking-tight",children:"Integrations"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Configure and manage protocol connectors, gateways, and third-party systems"})]}),(0,t.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest transition-all shadow-lg shadow-[#39FF14]/10",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Add Integration"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total",value:b,color:"#39FF14",icon:R.Network},{label:"Connected",value:g,color:"#39FF14",icon:N.CheckCircle},{label:"Categories",value:m.length,color:"#22d3ee",icon:D.default},{label:"Errors",value:f,color:f>0?"#f87171":"#39FF14",icon:E.AlertCircle}].map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-2.5 bg-[#024d30]/60 rounded-xl",children:(0,t.jsx)(s,{className:"w-5 h-5",style:{color:e.color}})}),(0,t.jsx)("span",{className:"text-3xl font-black text-white",children:e.value})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs uppercase tracking-widest font-bold",children:e.label})]},e.label)})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[["all","connected","disconnected","error"].map(e=>(0,t.jsx)("button",{onClick:()=>r(e),className:`px-4 py-1.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${l===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 text-slate-400 hover:text-white border border-[#024d30]"}`,children:e},e)),(0,t.jsxs)("span",{className:"ml-auto text-xs text-slate-500 flex items-center gap-1.5",children:[(0,t.jsx)($.Info,{className:"w-3.5 h-3.5"})," Click ",(0,t.jsx)("strong",{className:"text-slate-400",children:"Edit"})," to configure and test any integration"]})]}),(0,t.jsx)("div",{className:"space-y-6",children:m.map(s=>{let r=s.icon,i=e.has(s.id),o="all"===l?s.integrations:s.integrations.filter(e=>e.status===l);return 0===o.length?null:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{className:"w-full flex items-center justify-between group",onClick:()=>{let e;return e=s.id,a(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl",style:{backgroundColor:`${s.color}15`},children:(0,t.jsx)(r,{className:"w-5 h-5",style:{color:s.color}})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h3",{className:"text-white font-black text-sm tracking-tight",children:s.label}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:s.description})]}),(0,t.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded-full text-[10px] font-black bg-[#024d30]/60 text-slate-400",children:o.length})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-500",children:[(0,t.jsxs)("span",{className:"text-[10px] uppercase tracking-widest font-bold",children:[o.filter(e=>"connected"===e.status).length,"/",o.length," Connected"]}),i?(0,t.jsx)(A.default,{className:"w-4 h-4"}):(0,t.jsx)(I.ChevronRight,{className:"w-4 h-4"})]})]}),i&&(0,t.jsx)("div",{className:"space-y-3 pl-4 border-l-2 border-[#024d30]/60",children:o.map(e=>(0,t.jsx)(W,{item:e,onEdit:()=>n(e)},e.id))})]},s.id)})}),i&&(0,t.jsx)(K,{item:i,config:{...i.defaultConfig,...c[i.id]||{}},onSave:u,onClose:()=>n(null)}),o&&(0,t.jsx)(J,{onSelect:p,onClose:()=>d(!1)})]})}var Q=e.i(57951),Z=e.i(48256),ee=e.i(3116),r=r,et=e.i(69847),et=et;function es(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)({two_factor_enabled:!1,ip_whitelist:[],session_timeout:60,login_notifications:!0,api_rate_limit:1e3,allowed_domains:["*"]}),[i,o]=(0,s.useState)(!0),[d,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),[p,g]=(0,s.useState)("");(0,s.useEffect)(()=>{b()},[]);let b=async()=>{if(!e)return;o(!0);let{data:t,error:s}=await h.db.from("security_settings").select("*").eq("user_id",e.id).maybeSingle();s?console.log("Security settings not available, using defaults:",s?.message||("string"==typeof s?s:"")):t&&l(t),o(!1)},f=async t=>{if(!e)return;x(!0);let s={...a,...t},{error:r}=await h.db.from("security_settings").upsert({user_id:e.id,...s,updated_at:new Date().toISOString()});r?console.log("Could not persist security settings (table may not exist):",r?.message||("string"==typeof r?r:"")):l(s),x(!1)},j=()=>{m&&!a.ip_whitelist.includes(m)&&(f({ip_whitelist:[...a.ip_whitelist,m]}),u(""))};return i?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading security settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Security Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Configure security settings and access controls"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${a.two_factor_enabled?"bg-emerald-500/20":"bg-slate-500/20"}`,children:(0,t.jsx)(n.Shield,{className:`w-5 h-5 ${a.two_factor_enabled?"text-emerald-400":"text-slate-400"}`,style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"2FA Status"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:a.two_factor_enabled?"Enabled":"Disabled"})]})]}),(0,t.jsx)("p",{className:`text-sm ${a.two_factor_enabled?"text-emerald-400":"text-slate-500"}`,children:a.two_factor_enabled?"Protected":"Not protected"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(Z.Globe,{className:"w-5 h-5 text-[#39FF14]",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"IP Whitelist"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:a.ip_whitelist.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Allowed IPs"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(r.default,{className:"w-5 h-5 text-[#39FF14]",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"API Rate Limit"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:a.api_rate_limit})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Requests/hour"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Authentication Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-[#39FF14]",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Two-Factor Authentication"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Add an extra layer of security to your account"})]})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.two_factor_enabled,onChange:e=>f({two_factor_enabled:e.target.checked}),className:"sr-only peer",disabled:d}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(c.Bell,{className:"w-5 h-5 text-[#39FF14]",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Login Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Get notified when someone logs into your account"})]})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.login_notifications,onChange:e=>f({login_notifications:e.target.checked}),className:"sr-only peer",disabled:d}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(ee.Clock,{className:"w-5 h-5 text-[#39FF14]",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Session Timeout"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Automatically log out after period of inactivity"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"15",max:"480",step:"15",value:a.session_timeout,onChange:e=>f({session_timeout:parseInt(e.target.value)}),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer",disabled:d}),(0,t.jsxs)("span",{className:"text-white font-semibold min-w-[80px]",children:[a.session_timeout," min"]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"IP Whitelist"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&m&&!d&&j()},placeholder:"Enter IP address (e.g., 192.168.1.1)",className:"flex-1 bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"}),(0,t.jsx)("button",{onClick:j,disabled:!m||d,className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:"Add"})]})}),(0,t.jsx)("div",{className:"space-y-2",children:0===a.ip_whitelist.length?(0,t.jsx)("p",{className:"text-slate-400 text-center py-8",children:"No IP addresses in whitelist"}):a.ip_whitelist.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsx)("span",{className:"text-white font-mono",children:e}),(0,t.jsx)("button",{onClick:()=>{f({ip_whitelist:a.ip_whitelist.filter(t=>t!==e)})},className:"text-red-400 hover:text-red-300 text-sm font-medium",disabled:d,children:"Remove"})]},e))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"CORS Allowed Domains"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Enter domain (e.g., example.com)",className:"flex-1 bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"}),(0,t.jsx)("button",{onClick:()=>{p&&!a.allowed_domains.includes(p)&&(f({allowed_domains:[...a.allowed_domains,p]}),g(""))},disabled:!p||d,className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:"Add"})]})}),(0,t.jsx)("div",{className:"space-y-2",children:a.allowed_domains.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-slate-400",style:{color:"#40C706"}}),(0,t.jsx)("span",{className:"text-white font-mono",children:e})]}),"*"!==e&&(0,t.jsx)("button",{onClick:()=>{f({allowed_domains:a.allowed_domains.filter(t=>t!==e)})},className:"text-red-400 hover:text-red-300 text-sm font-medium",disabled:d,children:"Remove"})]},e))})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(et.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-[#39FF14] font-semibold mb-2",children:"Security Best Practices"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• Enable two-factor authentication for enhanced security"}),(0,t.jsx)("li",{children:"• Use IP whitelisting if you access from fixed locations"}),(0,t.jsx)("li",{children:"• Regularly rotate your API keys"}),(0,t.jsx)("li",{children:"• Monitor login notifications for suspicious activity"}),(0,t.jsx)("li",{children:"• Keep your session timeout reasonable for your use case"})]})]})]})})]})}var x=x,p=p,F=F,f=f,ea=e.i(84614);function el(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)(""),[d,c]=(0,s.useState)("all"),[u,g]=(0,s.useState)("7");(0,s.useEffect)(()=>{j()},[u]);let b=[{id:"1",action:"user.login",resource_type:"session",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-3e5).toISOString(),profiles:{email:"admin@cpaas.com",full_name:"Admin User"}},{id:"2",action:"api_key.update",resource_type:"api_key",resource_id:"ak_prod_01",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-108e4).toISOString(),profiles:{email:"admin@cpaas.com",full_name:"Admin User"}},{id:"3",action:"user.login.failed",resource_type:"session",resource_id:null,ip_address:"198.51.100.77",user_agent:"curl/7.88.1",status:"failed",error_message:"Invalid credentials — 3 consecutive failures. Account temporarily locked.",created_at:new Date(Date.now()-18e5).toISOString(),profiles:{email:"unknown@ext.com",full_name:null}},{id:"4",action:"campaign.create",resource_type:"campaign",resource_id:"camp_ramadan_2026",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-27e5).toISOString(),profiles:{email:"presales@cpaas.com",full_name:"Presales User"}},{id:"5",action:"integration.update",resource_type:"integration",resource_id:"smpp_carrier_01",ip_address:"10.0.1.52",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-72e5).toISOString(),profiles:{email:"admin@cpaas.com",full_name:"Admin User"}},{id:"6",action:"data.export",resource_type:"contacts",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-144e5).toISOString(),profiles:{email:"presales@cpaas.com",full_name:"Presales User"}},{id:"7",action:"security.2fa.enable",resource_type:"security_settings",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-864e5).toISOString(),profiles:{email:"admin@cpaas.com",full_name:"Admin User"}},{id:"8",action:"api_key.delete",resource_type:"api_key",resource_id:"ak_old_test",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-1728e5).toISOString(),profiles:{email:"admin@cpaas.com",full_name:"Admin User"}},{id:"9",action:"user.login",resource_type:"session",resource_id:null,ip_address:"198.51.100.45",user_agent:"Chrome 121 / Windows 11",status:"success",error_message:null,created_at:new Date(Date.now()-2592e5).toISOString(),profiles:{email:"sales@cpaas.com",full_name:"Sales User"}},{id:"10",action:"template.delete",resource_type:"template",resource_id:"tpl_old_promo",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",status:"success",error_message:null,created_at:new Date(Date.now()-432e6).toISOString(),profiles:{email:"presales@cpaas.com",full_name:"Presales User"}}],j=async()=>{r(!0);try{let e=new Date;e.setDate(e.getDate()-parseInt(u));let{data:t,error:s}=await h.db.from("audit_logs").select("*, profiles:user_id (email, full_name)").gte("created_at",e.toISOString()).order("created_at",{ascending:!1}).limit(100);s||!t||0===t.length?a(b):a(t)}catch{a(b)}r(!1)},v=e.filter(e=>{let t=e.action.toLowerCase().includes(i.toLowerCase())||e.resource_type.toLowerCase().includes(i.toLowerCase())||e.profiles?.email.toLowerCase().includes(i.toLowerCase()),s="all"===d||e.status===d;return t&&s});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Audit Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor and review system activity logs"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([["Timestamp,User,Action,Resource,Status,IP Address",...v.map(e=>[new Date(e.created_at).toISOString(),e.profiles?.email||"Unknown",e.action,e.resource_type,e.status,e.ip_address||"N/A"].join(","))].join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`audit-logs-${new Date().toISOString()}.csv`,s.click()},className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Export Logs"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(o.FileText,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Events"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsxs)("p",{className:"text-slate-500 text-sm",children:["Last ",u," days"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Successful"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"success"===e.status).length})]})]}),(0,t.jsxs)("p",{className:"text-emerald-400 text-sm",children:[e.length>0?(e.filter(e=>"success"===e.status).length/e.length*100).toFixed(1):0,"% success rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(F.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Failed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"failed"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:e.filter(e=>"failed"===e.status).length>0?"Needs attention":"All clear"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(m.Activity,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:new Set(e.map(e=>e.profiles?.email)).size})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Unique users"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by action, resource, or user...",value:i,onChange:e=>n(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"success",children:"Success"}),(0,t.jsx)("option",{value:"failed",children:"Failed"})]}),(0,t.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90",children:"Last 90 days"})]})]}),l?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading audit logs..."})]}):(0,t.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===v.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.FileText,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No audit logs found"})]}):v.map(e=>{var s,a;return(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"text-2xl",children:(s=e.action).includes("create")?"➕":s.includes("update")?"✏️":s.includes("delete")?"🗑️":s.includes("login")?"🔐":"📝"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:`font-semibold ${(a=e.action).includes("create")?"text-emerald-400":a.includes("update")?"text-[#39FF14]":a.includes("delete")?"text-red-400":a.includes("login")?"text-[#39FF14]":"text-slate-400"}`,children:e.action}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold border ${"success"===e.status?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-red-500/20 text-red-400 border-red-500/50"}`,children:["success"===e.status?(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"}):(0,t.jsx)(F.default,{className:"w-3 h-3"}),e.status.toUpperCase()]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-1 text-sm text-slate-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ea.User,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.profiles?.email||"Unknown user"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"capitalize",children:e.resource_type})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleString()})]}),e.ip_address&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"font-mono text-xs",children:e.ip_address})})]}),e.error_message&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded text-xs text-red-400",children:e.error_message})]})]})})},e.id)})})]})]})}var f=f,er=e.i(49550),er=er,ei=e.i(13036),ei=ei,en=e.i(44609),en=en,O=O;let eo=[{id:"dark",name:"Dark",description:"Dark theme for low-light environments"},{id:"light",name:"Light",description:"Light theme for bright environments"},{id:"auto",name:"Auto",description:"Automatically switch based on system"}],ed=[{code:"en",name:"English",flag:"🇺🇸"},{code:"ms",name:"Bahasa Malaysia",flag:"🇲🇾"},{code:"zh",name:"中文",flag:"🇨🇳"},{code:"ta",name:"தமிழ்",flag:"🇮🇳"}],ec=["Asia/Kuala_Lumpur","Asia/Singapore","Asia/Bangkok","Asia/Jakarta","Asia/Manila","UTC"],ex=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD","DD MMM YYYY"],em=["12h","24h"],eh=["MYR","USD","SGD","EUR","GBP"],eu="cpaas_user_preferences";function ep(e){let t=document.documentElement,s=window.matchMedia("(prefers-color-scheme: dark)").matches,a="auto"===e?s?"dark":"light":e;if(t.setAttribute("data-theme",a),"light"===a){t.style.setProperty("--bg-primary","#f0fdf4"),t.style.setProperty("--bg-secondary","#dcfce7"),t.style.setProperty("--bg-card","#ffffff"),t.style.setProperty("--bg-card-border","#86efac"),t.style.setProperty("--text-primary","#052e16"),t.style.setProperty("--text-secondary","#166534"),t.style.setProperty("--text-muted","#4b7a5d"),t.style.setProperty("--sidebar-bg","#022c22"),t.style.setProperty("--accent","#39FF14");let e=document.querySelector("main"),s=document.getElementById("__next");e&&(e.style.backgroundColor="#f0fdf4"),s&&(s.style.backgroundColor="#f0fdf4")}else{t.style.setProperty("--bg-primary","#011a12"),t.style.setProperty("--bg-secondary","#012419"),t.style.setProperty("--bg-card","#012419"),t.style.setProperty("--bg-card-border","#024d30"),t.style.setProperty("--text-primary","#ffffff"),t.style.setProperty("--text-secondary","#94a3b8"),t.style.setProperty("--text-muted","#64748b"),t.style.setProperty("--sidebar-bg","#011a12"),t.style.setProperty("--accent","#39FF14");let e=document.querySelector("main"),s=document.getElementById("__next");e&&(e.style.backgroundColor=""),s&&(s.style.backgroundColor="")}}function eg(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)({theme:"dark",language:"en",timezone:"Asia/Kuala_Lumpur",date_format:"DD/MM/YYYY",time_format:"24h",currency:"MYR",notifications_enabled:!0,email_notifications:!0,sms_notifications:!1,push_notifications:!0,marketing_emails:!1}),[r,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{try{let e=localStorage.getItem(eu);if(e){let t=JSON.parse(e);l(e=>({...e,...t})),t.theme&&ep(t.theme)}}catch{}},[]),(0,s.useEffect)(()=>{ep(a.theme)},[a.theme]),(0,s.useEffect)(()=>{if(e){x();try{let t=h.db.channel("preferences-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_preferences",filter:`user_id=eq.${e.id}`},()=>x()).subscribe();return()=>{h.db.removeChannel(t)}}catch{console.log("Realtime preferences sync not available")}}},[e]),(0,s.useEffect)(()=>{if(d){let e=setTimeout(()=>c(!1),3e3);return()=>clearTimeout(e)}},[d]);let x=async()=>{if(e)try{let{data:t,error:s}=await h.db.from("user_preferences").select("*").eq("user_id",e.id).maybeSingle();if(s){let e=s?.message||("string"==typeof s?s:JSON.stringify(s));!e||e.includes("not found")||e.includes("does not exist")||e.includes("no rows")?console.log("User preferences table not available, using defaults"):console.log("Could not load preferences, using defaults:",e);return}t&&l(e=>({...e,...t}))}catch(e){console.log("Error loading preferences, using defaults:",e)}finally{i(!1)}},m=(e,t)=>{l(s=>{let a={...s,[e]:t};try{localStorage.setItem(eu,JSON.stringify(a))}catch{}return a})},u=async()=>{if(e){o(!0);try{localStorage.setItem(eu,JSON.stringify(a))}catch{}try{let{error:t}=await h.db.from("user_preferences").upsert({user_id:e.id,...a,updated_at:new Date().toISOString()});t&&console.log("Preferences saved to localStorage (DB not available):",t?.message||t),c(!0)}catch(e){console.log("Preferences saved to localStorage (DB not available):",e),c(!0)}finally{o(!1)}}};return r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading preferences..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Preferences"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Customize your experience"})]}),(0,t.jsx)("button",{onClick:u,disabled:n,className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}),"Saved!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.default,{className:"w-5 h-5"}),"Save Changes"]})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(ei.default,{className:"w-6 h-6",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Appearance"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Customize the look and feel"})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Theme"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:eo.map(e=>(0,t.jsxs)("button",{onClick:()=>m("theme",e.id),className:`p-4 rounded-lg border-2 transition-all ${a.theme===e.id?"border-[#39FF14] bg-[#39FF14]/20":"border-[#024d30] bg-[#012419]/50 hover:border-[#024d30]/80"}`,children:[(0,t.jsx)("p",{className:"text-white font-semibold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:e.description})]},e.id))})]})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(en.default,{className:"w-6 h-6",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Language & Region"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Set your language and regional preferences"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Language"}),(0,t.jsx)("select",{value:a.language,onChange:e=>m("language",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:ed.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.flag," ",e.name]},e.code))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Timezone"]}),(0,t.jsx)("select",{value:a.timezone,onChange:e=>m("timezone",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:ec.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Date Format"]}),(0,t.jsx)("select",{value:a.date_format,onChange:e=>m("date_format",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:ex.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Time Format"}),(0,t.jsx)("select",{value:a.time_format,onChange:e=>m("time_format",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:em.map(e=>(0,t.jsx)("option",{value:e,children:"12h"===e?"12-hour (AM/PM)":"24-hour"},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,t.jsx)(er.default,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Currency"]}),(0,t.jsx)("select",{value:a.currency,onChange:e=>m("currency",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:eh.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Notification Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"All Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Master control for all notifications"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.notifications_enabled,onChange:e=>m("notifications_enabled",e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Email Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive updates via email"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.email_notifications,onChange:e=>m("email_notifications",e.target.checked),disabled:!a.notifications_enabled,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14] disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"SMS Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive updates via SMS"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.sms_notifications,onChange:e=>m("sms_notifications",e.target.checked),disabled:!a.notifications_enabled,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14] disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Push Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive browser push notifications"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.push_notifications,onChange:e=>m("push_notifications",e.target.checked),disabled:!a.notifications_enabled,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14] disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Marketing Emails"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive promotional and marketing content"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.marketing_emails,onChange:e=>m("marketing_emails",e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})]})]})]})]})}var eb=e.i(43432),O=O;let ef=[{event_type:"campaign_started",label:"Campaign Started",description:"When a new campaign begins"},{event_type:"campaign_completed",label:"Campaign Completed",description:"When a campaign finishes"},{event_type:"campaign_failed",label:"Campaign Failed",description:"When a campaign encounters errors"},{event_type:"low_balance",label:"Low Balance",description:"When account balance is running low"},{event_type:"payment_received",label:"Payment Received",description:"When a payment is processed"},{event_type:"api_key_created",label:"API Key Created",description:"When a new API key is generated"},{event_type:"api_key_revoked",label:"API Key Revoked",description:"When an API key is revoked"},{event_type:"webhook_failed",label:"Webhook Failed",description:"When a webhook delivery fails"},{event_type:"security_alert",label:"Security Alert",description:"Security-related notifications"},{event_type:"system_maintenance",label:"System Maintenance",description:"Scheduled maintenance notifications"}];function ej(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[n,o]=(0,s.useState)(!1),[d,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){m();let t=h.db.channel("notification-prefs-changes").on("postgres_changes",{event:"*",schema:"public",table:"notification_preferences",filter:`user_id=eq.${e.id}`},()=>m()).subscribe();return()=>{h.db.removeChannel(t)}}},[e]),(0,s.useEffect)(()=>{if(d){let e=setTimeout(()=>x(!1),3e3);return()=>clearTimeout(e)}},[d]);let m=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("notification_preferences").select("*").eq("user_id",e.id);s?(console.error("Error loading notification preferences:",s),l(ef.map(e=>({...e,email_enabled:!0,sms_enabled:!1,push_enabled:!0,slack_enabled:!1})))):t&&t.length>0?l(t):l(ef.map(e=>({...e,email_enabled:!0,sms_enabled:!1,push_enabled:!0,slack_enabled:!1}))),i(!1)},u=(e,t,s)=>{l(a=>a.map(a=>a.event_type===e?{...a,[t]:s}:a))},p=async()=>{if(e){for(let t of(o(!0),a))await h.db.from("notification_preferences").upsert({user_id:e.id,event_type:t.event_type,email_enabled:t.email_enabled,sms_enabled:t.sms_enabled,push_enabled:t.push_enabled,slack_enabled:t.slack_enabled,updated_at:new Date().toISOString()});x(!0),o(!1)}};return r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading notification settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Notification Preferences"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Control how you receive notifications for different events"})]}),(0,t.jsx)("button",{onClick:p,disabled:n,className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}),"Saved!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.default,{className:"w-5 h-5"}),"Save Changes"]})})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-[#024d30]",children:[(0,t.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Event"}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(b.Mail,{className:"w-4 h-4",style:{color:"#40C706"}}),"Email"]})}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4",style:{color:"#40C706"}}),"SMS"]})}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(c.Bell,{className:"w-4 h-4",style:{color:"#40C706"}}),"Push"]})}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(eb.Phone,{className:"w-4 h-4",style:{color:"#40C706"}}),"Slack"]})})]})}),(0,t.jsx)("tbody",{children:a.map((e,s)=>(0,t.jsxs)("tr",{className:`border-b border-[#024d30]/50 hover:bg-[#012419]/30 transition-colors ${s%2==0?"bg-[#012419]/10":""}`,children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.email_enabled,onChange:t=>u(e.event_type,"email_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.sms_enabled,onChange:t=>u(e.event_type,"sms_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.push_enabled,onChange:t=>u(e.event_type,"push_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.slack_enabled,onChange:t=>u(e.event_type,"slack_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#39FF14]/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]})})]},e.event_type))})]})})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(c.Bell,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-[#39FF14] font-semibold mb-2",children:"About Notifications"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• Email notifications are sent to your registered email address"}),(0,t.jsx)("li",{children:"• SMS notifications require a verified phone number"}),(0,t.jsx)("li",{children:"• Push notifications require browser permissions"}),(0,t.jsx)("li",{children:"• Slack notifications require a configured webhook"}),(0,t.jsx)("li",{children:"• You can customize preferences for each event type"})]})]})]})})]})}var x=x,v=v,et=et;let ev=[{id:"profile",label:"Profile Data",description:"Your personal information and preferences"},{id:"campaigns",label:"Campaigns",description:"All campaign data and history"},{id:"messages",label:"Messages",description:"Message logs and content"},{id:"transactions",label:"Transactions",description:"Payment and billing history"},{id:"api_keys",label:"API Keys",description:"API key information (excluding secrets)"},{id:"activity_logs",label:"Activity Logs",description:"Your activity and usage logs"}];function eN(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){j();let t=h.db.channel("exports-changes").on("postgres_changes",{event:"*",schema:"public",table:"data_exports",filter:`user_id=eq.${e.id}`},()=>j()).subscribe();return()=>{h.db.removeChannel(t)}}},[e]);let j=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("data_exports").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});s?console.error("Error loading exports:",s):l(t||[]),i(!1)},y=async()=>{if(!e||0===p.length)return;f(!0);let{error:t}=await h.db.from("data_exports").insert({user_id:e.id,export_type:"partial",status:"pending",data_types:p,expires_at:new Date(Date.now()+6048e5).toISOString()});t?(console.error("Error requesting export:",t),alert("Failed to request export")):(c(!1),g([]),setTimeout(async()=>{let{data:t}=await h.db.from("data_exports").select("id").eq("user_id",e.id).eq("status","pending").order("created_at",{ascending:!1}).limit(1);t&&t[0]&&await h.db.from("data_exports").update({status:"completed",file_url:`https://example.com/exports/${t[0].id}.zip`,completed_at:new Date().toISOString()}).eq("id",t[0].id)},2e3)),f(!1)};return r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading data privacy settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Data & Privacy"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your data, exports, and privacy settings"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(x.default,{className:"w-5 h-5",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Exports"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Data exports requested"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Completed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(e=>"completed"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Ready to download"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,t.jsx)(ee.Clock,{className:"w-5 h-5 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Processing"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(e=>"pending"===e.status||"processing"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-yellow-400 text-sm",children:"In progress"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Export Your Data"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Download a copy of your data in a portable format"})]}),(0,t.jsxs)("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Request Export"]})]}),0===a.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.FileText,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"No exports yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Request your first data export to get started"})]}):(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsx)("div",{className:"bg-[#012419]/50 border border-[#024d30] rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold border ${(e=>{switch(e){case"completed":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"processing":return"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/50";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"failed":return"bg-red-500/20 text-red-400 border-red-500/50";default:return"bg-slate-500/20 text-slate-400 border-slate-500/50"}})(e.status)}`,children:["completed"===e.status&&(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"}),"pending"===e.status&&(0,t.jsx)(ee.Clock,{className:"w-3 h-3"}),e.status.toUpperCase()]}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.data_types.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#024d30]/30 text-slate-300 text-xs rounded",children:e},e))}),e.expires_at&&"completed"===e.status&&(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-2",children:["Expires: ",new Date(e.expires_at).toLocaleDateString()]})]}),"completed"===e.status&&e.file_url&&(0,t.jsxs)("a",{href:e.file_url,className:"ml-4 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]})]})},e.id))})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border border-red-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-red-400 mb-1",children:"Delete Account"}),(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:"Permanently delete your account and all associated data"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:"This action cannot be undone. All your data will be permanently removed."})]})]}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete Account"})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-[#39FF14] font-semibold mb-2",children:"Data Protection & Privacy"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• Your data is encrypted at rest and in transit"}),(0,t.jsx)("li",{children:"• Data exports are available for 7 days after completion"}),(0,t.jsx)("li",{children:"• We comply with GDPR and PDPA regulations"}),(0,t.jsx)("li",{children:"• You have the right to request data deletion at any time"}),(0,t.jsx)("li",{children:"• Export files are password-protected and encrypted"})]})]})]})}),d&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-[#024d30] rounded-xl p-6 max-w-2xl w-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Request Data Export"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Select the types of data you want to export"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:ev.map(e=>(0,t.jsxs)("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${p.includes(e.id)?"border-[#39FF14] bg-[#39FF14]/10":"border-[#024d30] bg-[#012419]/50 hover:border-[#024d30]/80"}`,children:[(0,t.jsx)("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>{var t;return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-semibold",children:e.label}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]})]},e.id))}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{c(!1),g([])},className:"flex-1 bg-[#024d30]/30 hover:bg-[#024d30]/50 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:y,disabled:0===p.length||b,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Processing...":`Export ${p.length} Type${1!==p.length?"s":""}`})]})]})}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-red-500/50 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(et.default,{className:"w-6 h-6 text-red-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-red-400",children:"Delete Account?"})]}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:[(0,t.jsx)("p",{className:"text-red-400 text-sm font-semibold mb-2",children:"The following will be deleted:"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• All campaigns and message history"}),(0,t.jsx)("li",{children:"• API keys and integrations"}),(0,t.jsx)("li",{children:"• Payment history and transaction data"}),(0,t.jsx)("li",{children:"• All settings and preferences"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>u(!1),className:"flex-1 bg-[#024d30]/30 hover:bg-[#024d30]/50 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{alert("Account deletion would be processed here"),u(!1)},className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete Account"})]})]})})]})}var p=p,f=f,ey=e.i(46897),ew=e.i(38745),ew=ew,e_=e.i(63906),e_=e_;let eF={created:"bg-emerald-500/20 text-emerald-400",updated:"bg-[#39FF14]/20 text-[#39FF14]",deleted:"bg-red-500/20 text-red-400",login:"bg-[#39FF14]/20 text-[#39FF14]",logout:"bg-slate-500/20 text-slate-400",export:"bg-[#39FF14]/20 text-[#39FF14]",import:"bg-yellow-500/20 text-yellow-400"},ek={created:"✨",updated:"📝",deleted:"🗑️",login:"🔓",logout:"🔒",export:"📤",import:"📥",viewed:"👁️",downloaded:"⬇️"};function eC(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(""),[x,u]=(0,s.useState)("all"),[g,b]=(0,s.useState)("all"),[j,v]=(0,s.useState)("all"),[N,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){_();let t=h.db.channel("activity-logs-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"activity_logs",filter:`user_id=eq.${e.id}`},e=>{l(t=>[e.new,...t])}).subscribe();return()=>{h.db.removeChannel(t)}}},[e]),(0,s.useEffect)(()=>{k()},[a,d,x,g,j]);let w=[{id:"1",action:"login",resource_type:"session",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-3e5).toISOString()},{id:"2",action:"updated",resource_type:"api_key",resource_id:"ak_prod_01",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-108e4).toISOString()},{id:"3",action:"created",resource_type:"campaign",resource_id:"camp_ramadan_2026",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-27e5).toISOString()},{id:"4",action:"export",resource_type:"contacts",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-72e5).toISOString()},{id:"5",action:"viewed",resource_type:"billing",resource_id:null,ip_address:"203.185.21.14",user_agent:"Safari 17 / iOS 17.4",metadata:{},created_at:new Date(Date.now()-144e5).toISOString()},{id:"6",action:"updated",resource_type:"integration",resource_id:"smpp_carrier_01",ip_address:"10.0.1.52",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-216e5).toISOString()},{id:"7",action:"deleted",resource_type:"template",resource_id:"tpl_old_promo",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-792e5).toISOString()},{id:"8",action:"created",resource_type:"api_key",resource_id:"ak_staging_03",ip_address:"10.0.1.52",user_agent:"Firefox 124 / Ubuntu 22.04",metadata:{},created_at:new Date(Date.now()-1728e5).toISOString()},{id:"9",action:"import",resource_type:"contacts",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-2592e5).toISOString()},{id:"10",action:"login",resource_type:"session",resource_id:null,ip_address:"198.51.100.45",user_agent:"Chrome 121 / Windows 11",metadata:{},created_at:new Date(Date.now()-432e6).toISOString()},{id:"11",action:"updated",resource_type:"security_settings",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-5184e5).toISOString()},{id:"12",action:"downloaded",resource_type:"invoice",resource_id:"inv_2026_02",ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-6048e5).toISOString()},{id:"13",action:"logout",resource_type:"session",resource_id:null,ip_address:"203.185.21.14",user_agent:"Chrome 122 / macOS 14.3",metadata:{},created_at:new Date(Date.now()-6048e5-36e5).toISOString()}],_=async()=>{if(e){o(!0);try{let{data:t,error:s}=await h.db.from("activity_logs").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(100);s||!t||0===t.length?l(w):l(t)}catch{l(w)}o(!1)}},F=async()=>{y(!0),await _(),setTimeout(()=>y(!1),500)},k=()=>{let e=[...a];if(d&&(e=e.filter(e=>e.action.toLowerCase().includes(d.toLowerCase())||e.resource_type.toLowerCase().includes(d.toLowerCase())||e.ip_address?.toLowerCase().includes(d.toLowerCase()))),"all"!==x&&(e=e.filter(e=>e.action===x)),"all"!==g&&(e=e.filter(e=>e.resource_type===g)),"all"!==j){let t=new Date,s=new Date;switch(j){case"1h":s.setHours(t.getHours()-1);break;case"24h":s.setHours(t.getHours()-24);break;case"7d":s.setDate(t.getDate()-7);break;case"30d":s.setDate(t.getDate()-30)}e=e.filter(e=>new Date(e.created_at)>=s)}i(e)},C=Array.from(new Set(a.map(e=>e.action))),S=Array.from(new Set(a.map(e=>e.resource_type)));return n?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading activity logs..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Activity Logs"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor your account activity in real-time"})]}),(0,t.jsxs)("button",{onClick:F,disabled:N,className:"flex items-center gap-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:[(0,t.jsx)(e_.default,{className:`w-4 h-4 ${N?"animate-spin":""}`}),"Refresh"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(m.Activity,{className:"w-5 h-5",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Events"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"All time"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(f.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Last 24h"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(e=>new Date(e.created_at)>new Date(Date.now()-864e5)).length})]})]}),(0,t.jsx)("p",{className:"text-[#39FF14] text-sm",children:"Recent activity"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(ey.MapPin,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Unique IPs"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:new Set(a.map(e=>e.ip_address).filter(Boolean)).size})]})]}),(0,t.jsx)("p",{className:"text-[#39FF14] text-sm",children:"Locations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(ew.default,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Actions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:C.length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Types"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,t.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"Search activity...",className:"w-full bg-[#012419] border border-[#024d30] rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})}),(0,t.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Actions"}),C.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Resources"}),S.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Time"}),(0,t.jsx)("option",{value:"1h",children:"Last Hour"}),(0,t.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,t.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,t.jsx)("option",{value:"30d",children:"Last 30 Days"})]})]}),0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(m.Activity,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"No activity logs found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Try adjusting your filters"})]}):(0,t.jsx)("div",{className:"space-y-2",children:r.map(e=>{let s,a,l,r,i;return(0,t.jsx)("div",{className:"bg-[#012419]/50 border border-[#024d30] rounded-lg p-4 hover:bg-[#012419]/70 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"text-2xl",children:ek[e.action]||"📋"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${eF[e.action]||"bg-slate-500/20 text-slate-400"}`,children:e.action.toUpperCase()}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:(s=new Date(e.created_at),i=Math.floor((r=Math.floor((l=Math.floor((a=Math.floor((new Date().getTime()-s.getTime())/1e3))/60))/60))/24),a<60?"Just now":l<60?`${l}m ago`:r<24?`${r}h ago`:i<7?`${i}d ago`:s.toLocaleDateString())}),(0,t.jsx)("span",{className:"text-slate-500 text-sm",children:"•"}),(0,t.jsx)("span",{className:"text-slate-400 text-sm capitalize",children:e.resource_type}),e.resource_id&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-slate-500 text-sm",children:"•"}),(0,t.jsxs)("span",{className:"text-slate-500 text-xs font-mono",children:[e.resource_id.substring(0,8),"..."]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[e.ip_address&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ey.MapPin,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"font-mono",children:e.ip_address})]}),e.user_agent&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ew.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"truncate max-w-[300px]",children:e.user_agent})]})]})]})]})},e.id)})})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(0,t.jsx)(m.Activity,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-[#39FF14] font-semibold mb-2",children:"About Activity Logs"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• Activity logs are updated in real-time"}),(0,t.jsx)("li",{children:"• Logs are retained for 90 days"}),(0,t.jsx)("li",{children:"• Includes IP addresses and user agents for security"}),(0,t.jsx)("li",{children:"• Can be exported along with your data"}),(0,t.jsx)("li",{children:"• Helps you monitor unauthorized access"})]})]})]})})]})}let eS=[{id:"preferences",label:"Preferences",icon:d.Settings},{id:"users",label:"User Management",icon:l.default},{id:"access",label:"Access Management",icon:r.default},{id:"integrations",label:"Integrations",icon:i.default},{id:"security",label:"Security",icon:n.Shield},{id:"notifications",label:"Notifications",icon:c.Bell},{id:"privacy",label:"Data & Privacy",icon:x.default},{id:"activity",label:"Activity",icon:m.Activity},{id:"audit",label:"Audit Logs",icon:o.FileText}];function eM(){let[e,a]=(0,s.useState)("preferences");return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#013221] p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Settings"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your platform configuration and preferences"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-[#024d30]",children:(0,t.jsx)("div",{className:"flex overflow-x-auto",children:eS.map(s=>{let l=s.icon,r=e===s.id;return(0,t.jsxs)("button",{onClick:()=>a(s.id),className:`flex items-center gap-3 px-6 py-4 font-medium transition-all relative whitespace-nowrap ${r?"text-[#39FF14] bg-[#024d30]/50":"text-slate-400 hover:text-white hover:bg-[#024d30]/30"}`,children:[(0,t.jsx)(l,{className:"w-5 h-5",style:{color:"#40C706"}}),s.label,r&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-[#39FF14] to-[#32e012]"})]},s.id)})})}),(0,t.jsx)("div",{className:"p-8",children:(()=>{switch(e){case"preferences":default:return(0,t.jsx)(eg,{});case"users":return(0,t.jsx)(w,{});case"access":return(0,t.jsx)(M,{});case"integrations":return(0,t.jsx)(Y,{});case"security":return(0,t.jsx)(es,{});case"notifications":return(0,t.jsx)(ej,{});case"privacy":return(0,t.jsx)(eN,{});case"activity":return(0,t.jsx)(eC,{});case"audit":return(0,t.jsx)(el,{})}})()})]})]})}var eA=e.i(88844),p=p,eI=e.i(55087),eI=eI,eP=e.i(1928),eT=e.i(78745),eT=eT,eD=e.i(17079),eD=eD,eR=e.i(78716),eL=e.i(31245),eE=e.i(25652),l=l,e$=e.i(76144),e$=e$,eO=e.i(63921),eO=eO;function eq(){let e,{user:a}=(0,Q.useAuth)(),[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(""),[c,x]=(0,s.useState)("All"),[m,u]=(0,s.useState)(null),[g,b]=(0,s.useState)(!0),[f,j]=(0,s.useState)(null),[v,N]=(0,s.useState)(null),[w,_]=(0,s.useState)("grid"),F=[{id:"All",name:"All Products",icon:eA.Package,color:"green"},{id:"Messaging",name:"Messaging",icon:T.MessageSquare,color:"green"},{id:"Voice",name:"Voice & Calling",icon:eb.Phone,color:"green"},{id:"Video",name:"Video",icon:eR.Video,color:"green"},{id:"Bot",name:"AI & Bots",icon:eL.Bot,color:"green"},{id:"Social",name:"Social",icon:l.default,color:"green"}];(0,s.useEffect)(()=>{k()},[]),(0,s.useEffect)(()=>{if(v){let e=setTimeout(()=>N(null),5e3);return()=>clearTimeout(e)}},[v]);let k=async()=>{b(!0);try{let{data:e,error:t}=await h.db.from("products").select("*").eq("status","active").order("name");if(t)throw t;let{data:s,error:a}=await h.db.from("product_tiers").select("*").order("sort_order");if(a)throw a;let l=(e||[]).map(e=>{let t=[];try{t="string"==typeof e.features?JSON.parse(e.features):e.features}catch(e){console.error("Failed to parse product features",e)}return{...e,features:Array.isArray(t)?t:[],tiers:(s||[]).filter(t=>t.product_id===e.id).map(e=>{let t={};try{t="string"==typeof e.features?JSON.parse(e.features):e.features}catch(e){console.error("Failed to parse tier features",e)}return{...e,features:t}})}});i(l)}catch(e){console.error("Error loading products:",e)}finally{b(!1)}},C=async(e,t)=>{if(!a)return void N({type:"error",message:"Please log in to add items to cart"});j(t.id);try{let s=Number(t.price)+Number(t.setup_fee),{error:l}=await h.db.from("cart_items").insert({user_id:a.id,item_type:"product_tier",item_data:JSON.stringify({product_name:e.name,product_sku:e.sku,tier_name:t.tier_name,tier_sku:t.tier_sku,description:t.description,price:t.price,setup_fee:t.setup_fee,price_unit:t.price_unit,features:t.features,support_level:t.support_level}),quantity:1,unit_price:s,total_price:s});if(l)throw l;N({type:"success",message:`${e.name} (${t.tier_name}) added to cart`})}catch(e){console.error("Error adding to cart:",e),N({type:"error",message:e.message||"Failed to add to cart"})}finally{j(null)}},S=r.filter(e=>{let t=e.name.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase())||e.sku.toLowerCase().includes(o.toLowerCase()),s="All"===c||e.category===c;return t&&s}),M=e=>{let t=F.find(t=>t.id===e);return t?.icon||eA.Package};return g?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-[#012419] p-8 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading products..."})]})}):(0,t.jsxs)("div",{className:"flex h-full bg-gradient-to-br from-[#012419] to-[#0B1120]",children:[(0,t.jsxs)("div",{className:"w-80 bg-white/[0.02] backdrop-blur-xl border-r border-white/10 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/5",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-1",children:"Marketplace"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Browse and manage resources"})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4 overflow-y-auto flex-1",children:[(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-[#39FF14] transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Search products...",value:o,onChange:e=>d(e.target.value),className:"w-full bg-slate-900/50 border border-white/10 rounded-xl pl-9 pr-4 py-3 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]/50 focus:bg-slate-900/80 transition-all shadow-inner"}),o&&(0,t.jsx)("button",{onClick:()=>d(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-3 h-3"})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider px-3 mb-2",children:"Categories"}),F.map(e=>{let s=e.icon,a=c===e.id;return(0,t.jsxs)("button",{onClick:()=>x(e.id),className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-gradient-to-r from-[#39FF14]/20 to-[#32e012]/10 text-[#39FF14] border border-[#39FF14]/30":"text-slate-400 hover:text-white hover:bg-white/5 hover:border hover:border-white/5 border border-transparent"}`,children:[(0,t.jsx)("div",{className:`p-1.5 rounded-md ${a?"bg-[#39FF14]/20 text-[#39FF14]":"bg-white/5 text-slate-400 group-hover:text-white"}`,children:(0,t.jsx)(s,{className:"w-4 h-4"})}),e.name,a&&(0,t.jsx)(I.ChevronRight,{className:"w-3 h-3 ml-auto text-[#39FF14]/70"})]},e.id)})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Product Catalog"}),(0,t.jsxs)("p",{className:"text-slate-400",children:["Showing ",(0,t.jsx)("span",{className:"text-[#39FF14] font-semibold",children:S.length})," available solutions"]})]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsxs)("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#39FF14] animate-pulse"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"System Online"})]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:S.map(e=>{var s,a;let l=M(e.category);return(0,t.jsxs)("div",{className:"group relative bg-[#0B1525]/80 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden hover:border-[#39FF14]/30 transition-all duration-300 hover:shadow-2xl hover:shadow-[#39FF14]/5 hover:-translate-y-1",onClick:()=>u(e),children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[#39FF14]/5 to-[#32e012]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,t.jsxs)("div",{className:"p-6 border-b border-white/5 relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-white/5 rounded-xl border border-white/5 group-hover:border-white/10 transition-colors",children:(0,t.jsx)(l,{className:`w-8 h-8 ${(e.category,"text-brand-lime")}`})}),(0,t.jsx)("span",{className:"px-2.5 py-1 bg-white/5 text-slate-400 text-xs font-medium rounded-full border border-white/5",children:e.category})]}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#39FF14] transition-colors tracking-tight",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm line-clamp-2 leading-relaxed h-10",children:e.description})]}),(0,t.jsxs)("div",{className:"p-6 bg-black/20 relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(eI.default,{className:"w-3.5 h-3.5 text-slate-500"}),(0,t.jsx)("span",{className:"text-xs font-mono text-slate-500",children:e.sku})]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2 mb-6",children:[(0,t.jsx)("span",{className:"text-sm text-slate-400 font-medium",children:"From"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-white tracking-tight",children:e.tiers.length>0?(s=e.tiers[0].price,"month"===(a=e.tiers[0].price_unit)?`RM ${s.toFixed(2)}/mo`:`RM ${s.toFixed(4)}/${a}`):"N/A"})]}),(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),u(e)},className:"w-full bg-white/5 hover:bg-[#39FF14]/20 hover:text-[#39FF14] border border-white/10 hover:border-[#39FF14]/30 text-slate-300 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 group/btn",children:["View Details",(0,t.jsx)(eO.default,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]}),(0,t.jsx)("div",{className:"mt-4 flex items-center justify-center gap-1.5 opacity-50",children:e.tiers.map((e,s)=>(0,t.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${0===s?"bg-[#39FF14]":"bg-slate-600"}`},s))})]})]},e.id)})}),0===S.length&&(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:(0,t.jsx)(p.default,{className:"w-10 h-10 text-slate-600"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"No products found"}),(0,t.jsxs)("p",{className:"text-slate-400 max-w-md text-center mb-8",children:["We couldn't find any items matching \"",o,'". Try refining your search or changing categories.']}),(0,t.jsx)("button",{onClick:()=>{d(""),x("All")},className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-lg shadow-[#39FF14]/5",children:"Clear all filters"})]})]})}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-7xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:`bg-gradient-to-br ${(e=>{switch(e){case"Messaging":case"Voice":case"Video":case"Bot":return"from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/30";case"Social":return"from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/20";default:return"from-slate-500/20 to-slate-600/20 border-slate-500/30"}})(m.category)} border-b border-slate-700 p-8 sticky top-0 z-10`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:(e=M(m.category),(0,t.jsx)(e,{className:`w-10 h-10 ${(m.category,"text-brand-lime")}`}))}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-white",children:m.name}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-900/50 text-slate-300 text-sm font-medium rounded-full border border-slate-700",children:m.category})]}),(0,t.jsx)("p",{className:"text-slate-300 text-lg mb-3",children:m.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eI.default,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"text-sm font-mono text-slate-400",children:m.sku})]})]})]}),(0,t.jsx)("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-800/50 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]})}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(e$.default,{className:"w-7 h-7 text-[#39FF14]"}),"Choose Your Plan"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:m.tiers.map(e=>(0,t.jsxs)("div",{className:`relative bg-slate-800/50 border-2 rounded-2xl p-6 transition-all hover:scale-105 ${e.is_popular?"border-[#39FF14] shadow-lg shadow-[#39FF14]/20":"border-slate-700 hover:border-slate-600"}`,children:[e.is_popular&&(0,t.jsx)("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black text-xs font-bold px-4 py-1.5 rounded-full flex items-center gap-1 shadow-lg",children:[(0,t.jsx)(eD.default,{className:"w-3 h-3 fill-current"}),"MOST POPULAR"]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:`inline-block px-3 py-1.5 rounded-lg text-sm font-bold mb-4 border ${(e=>{switch(e){case"Basic":default:return"bg-slate-500/20 text-slate-300 border-slate-500/50";case"Standard":return"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/50";case"Premium":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/50";case"Enterprise":return"bg-gradient-to-r from-[#39FF14]/20 to-[#32e012]/20 text-[#39FF14] border-[#39FF14]/50"}})(e.tier_name)}`,children:e.tier_name}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2 mb-2",children:[(0,t.jsxs)("span",{className:"text-4xl font-bold text-white",children:["RM ",e.price.toFixed(2)]}),(0,t.jsxs)("span",{className:"text-slate-400",children:["/",e.price_unit]})]}),e.setup_fee>0&&(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:["+ RM ",e.setup_fee.toFixed(2)," setup fee"]}),(0,t.jsx)("p",{className:"text-sm text-slate-300 mt-3 min-h-[40px]",children:e.description})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(n.Shield,{className:"w-4 h-4 text-[#39FF14] flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-slate-300",children:[e.support_level," Support"]})]}),e.max_users&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.default,{className:"w-4 h-4 text-[#39FF14] flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Up to ",e.max_users.toLocaleString()," users"]})]}),e.max_volume&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(eE.TrendingUp,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-slate-300",children:[e.max_volume.toLocaleString()," volume"]})]}),e.features&&Object.entries(e.features).slice(0,3).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(eT.default,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("span",{className:"text-slate-300",children:[e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),": ","boolean"==typeof s?s?"Yes":"No":s.toString()]})]},e))]}),(0,t.jsx)("button",{onClick:()=>C(m,e),disabled:f===e.id,className:`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${e.is_popular?"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black shadow-lg shadow-[#39FF14]/20":"bg-slate-700 hover:bg-slate-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:f===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-5 h-5"}),"Buy Now"]})})]},e.id))}),(0,t.jsx)("div",{className:"mt-8 bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)($.Info,{className:"w-6 h-6 text-[#39FF14] flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Need help choosing?"}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Our sales team can help you find the perfect plan for your business needs."}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Contact Sales"})]})]})})]})]})}),v&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===v.type?"bg-[#39FF14]/20 border-[#39FF14]/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-xl p-4 max-w-md shadow-xl`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===v.type?"bg-[#39FF14]":"bg-red-500"} rounded-full p-1`,children:"success"===v.type?(0,t.jsx)(eT.default,{className:"w-5 h-5 text-black"}):(0,t.jsx)(y.X,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===v.type?"text-[#39FF14]":"text-red-400"}`,children:"success"===v.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:v.message})]}),(0,t.jsx)("button",{onClick:()=>N(null),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})})})]})}var eU=e.i(61659),x=x,er=er,f=f,_=_,eV=e.i(65123),eV=eV,eB=e.i(57960),eB=eB,ez=e.i(69184),ez=ez,eG=e.i(47563),eG=eG,eK=e.i(98365),eK=eK,p=p,eW=e.i(52754),eX=e.i(49715),eX=eX,x=x,eH=e.i(83635),eH=eH,eX=eX,eJ=e.i(24274),eJ=eJ;function eY({invoiceId:e,onClose:a}){let[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(null),[m,u]=(0,s.useState)(!0),[p,g]=(0,s.useState)("");(0,s.useEffect)(()=>{f()},[e]);let f=async()=>{try{let{data:t,error:s}=await h.db.from("invoices").select("*").eq("id",e).single();if(s)throw s;let{data:a,error:l}=await h.db.from("invoice_items").select("*").eq("invoice_id",e);if(l)throw l;let{data:i}=await h.db.from("company_settings").select("*").limit(1).maybeSingle(),o={company_name:"RAPIDACOM SDN BHD",company_registration_number:"202201234567 (1234567-A)",sst_registration_number:"W10-1808-32000123",tin:"202201234567",msic_code:"61100",address_line1:"Level 10, Menara RapidaCOM",address_line2:"Jalan Sultan Ismail",city:"Kuala Lumpur",state:"Wilayah Persekutuan",postal_code:"50250",country:"Malaysia",phone:"+603-2181-8888",email:"billing@rapidacom.com",bank_name:"Malayan Banking Berhad (Maybank)",bank_account_number:"514012345678",bank_account_name:"RAPIDACOM SDN BHD"},d=t.myinvois_uuid||j(t.invoice_number),x=t.myinvois_validation_link||`https://myinvois.hasil.gov.my/verify/${d}`,m={...t,myinvois_uuid:d,myinvois_submission_date:t.myinvois_submission_date||t.invoice_date,myinvois_validation_link:x};r(m),n(a||[]),c(i||o);let u=v(m,i||o);g(u)}catch(e){console.error("Error loading invoice:",e),alert("Failed to load invoice")}finally{u(!1)}},j=e=>{let t=Date.now().toString(36),s=Math.random().toString(36).substring(2,15);return`${e}-${t}-${s}`.toUpperCase()},v=(e,t)=>{let s=[t.company_name,t.company_registration_number,e.myinvois_uuid||"",e.invoice_date,e.total_amount.toFixed(2),e.sst_amount.toFixed(2),e.myinvois_validation_link||""].join("|");return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(s)}`},N=async()=>{alert("Email functionality will be implemented with email service integration")};return m?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"bg-white rounded-lg p-8",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto"})})}):l&&d?(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"print:hidden flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Malaysian E-Invoice"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"MyInvois Compliant"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:N,className:"p-2 text-slate-600 hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-colors",title:"Email Invoice",children:(0,t.jsx)(b.Mail,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{let e=window.open("","","width=800,height=600");if(!e)return;let t=document.getElementById("invoice-content");t&&(e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${l?.invoice_number}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              padding: 20px;
              color: #1e293b;
            }
            .invoice-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
            }
            .invoice-header {
              border-bottom: 2px solid #39FF14;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .company-info h1 {
              font-size: 24px;
              font-weight: bold;
              color: #39FF14;
              margin-bottom: 8px;
            }
            .company-info p {
              font-size: 13px;
              color: #64748b;
              line-height: 1.6;
            }
            .invoice-details {
              display: flex;
              justify-content: space-between;
              margin-bottom: 30px;
            }
            .invoice-meta h2 {
              font-size: 28px;
              font-weight: bold;
              color: #0f172a;
              margin-bottom: 12px;
            }
            .invoice-meta .meta-item {
              display: flex;
              gap: 12px;
              margin-bottom: 6px;
            }
            .invoice-meta .label {
              font-size: 13px;
              color: #64748b;
              width: 120px;
            }
            .invoice-meta .value {
              font-size: 13px;
              color: #0f172a;
              font-weight: 500;
            }
            .status-badge {
              display: inline-block;
              padding: 4px 12px;
              border-radius: 12px;
              font-size: 11px;
              font-weight: 600;
              text-transform: uppercase;
              background: #dcfce7;
              color: #166534;
            }
            .customer-section {
              background: #f8fafc;
              padding: 20px;
              border-radius: 8px;
              margin-bottom: 30px;
            }
            .customer-section h3 {
              font-size: 14px;
              font-weight: 600;
              color: #0f172a;
              margin-bottom: 12px;
            }
            .customer-section p {
              font-size: 13px;
              color: #475569;
              line-height: 1.6;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 30px;
            }
            thead {
              background: #39FF14;
              color: white;
            }
            th {
              padding: 12px;
              text-align: left;
              font-size: 12px;
              font-weight: 600;
              text-transform: uppercase;
            }
            td {
              padding: 12px;
              border-bottom: 1px solid #e2e8f0;
              font-size: 13px;
            }
            tbody tr:hover {
              background: #f8fafc;
            }
            .text-right {
              text-align: right;
            }
            .summary {
              max-width: 350px;
              margin-left: auto;
            }
            .summary-row {
              display: flex;
              justify-content: space-between;
              padding: 8px 0;
              font-size: 13px;
            }
            .summary-row.total {
              border-top: 2px solid #39FF14;
              padding-top: 12px;
              margin-top: 8px;
              font-size: 16px;
              font-weight: bold;
              color: #39FF14;
            }
            .footer {
              margin-top: 40px;
              padding-top: 20px;
              border-top: 1px solid #e2e8f0;
            }
            .footer p {
              font-size: 12px;
              color: #64748b;
              line-height: 1.6;
            }
            .qr-section {
              text-align: center;
              margin-top: 30px;
              padding: 20px;
              background: #f8fafc;
              border-radius: 8px;
            }
            .qr-section p {
              font-size: 11px;
              color: #64748b;
              margin-top: 8px;
            }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          ${t.innerHTML}
        </body>
      </html>
    `),e.document.close(),e.focus(),setTimeout(()=>{e.print(),e.close()},250))},className:"p-2 text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Download as PDF",children:(0,t.jsx)(x.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{if(!l)return;let e=new Blob([JSON.stringify({invoice:l,items:i,company:d,generated_at:new Date().toISOString()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`invoice-${l.invoice_number}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"p-2 text-slate-600 hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-colors",title:"Download JSON Data",children:(0,t.jsx)(o.FileText,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{if(!l||!i.length)return;let e="Invoice Details\n";e+=`Invoice Number,${l.invoice_number}
Invoice Date,${l.invoice_date}
Due Date,${l.due_date}
Customer,${l.customer_name}
Status,${l.status}

Line Items
Description,Quantity,Unit Price,Amount
`,i.forEach(t=>{e+=`"${t.description}",${t.quantity},${t.unit_price},${t.amount}
`});let t=new Blob([e+=`
Summary
Subtotal,${l.subtotal}
SST (${l.sst_rate}%),${l.sst_amount}
Total,${l.total_amount}
`],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`invoice-${l.invoice_number}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},className:"p-2 text-slate-600 hover:text-[#32e012] hover:bg-[#39FF14]/10 rounded-lg transition-colors",title:"Download CSV",children:(0,t.jsx)(eJ.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{window.print()},className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",title:"Print",children:(0,t.jsx)(eH.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:a,className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,t.jsxs)("div",{className:"p-8 bg-white",id:"invoice-content",children:[(0,t.jsx)("div",{className:"mb-6 pb-6 border-b-4 border-emerald-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-1",children:d.company_name}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["Co. Reg. No.: ",d.company_registration_number]}),d.sst_registration_number&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["SST Reg. No.: ",d.sst_registration_number]}),d.tin&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["TIN: ",d.tin]}),d.msic_code&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["MSIC Code: ",d.msic_code]}),(0,t.jsxs)("div",{className:"text-slate-600 text-sm space-y-0.5 mt-2",children:[(0,t.jsx)("p",{children:d.address_line1}),d.address_line2&&(0,t.jsx)("p",{children:d.address_line2}),(0,t.jsxs)("p",{children:[d.postal_code," ",d.city]}),(0,t.jsxs)("p",{children:[d.state,", ",d.country]}),(0,t.jsxs)("p",{className:"mt-2",children:["Tel: ",d.phone]}),(0,t.jsxs)("p",{children:["Email: ",d.email]})]})]}),(0,t.jsxs)("div",{className:"text-right ml-6",children:[p&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("img",{src:p,alt:"MyInvois QR Code",className:"w-32 h-32 mx-auto border-2 border-slate-200 rounded"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Scan to verify"})]}),(0,t.jsx)("span",{className:`inline-block px-4 py-2 rounded-lg text-sm font-bold border-2 ${(e=>{switch(e){case"paid":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"issued":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30";case"overdue":return"bg-red-100 text-red-800 border-red-300";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-slate-100 text-slate-800 border-slate-300"}})(l.status)}`,children:l.status.toUpperCase()})]})]})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-600 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(eX.default,{className:"w-5 h-5 text-emerald-600"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-emerald-900",children:"TAX INVOICE / E-INVOICE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"MyInvois UUID:"}),(0,t.jsx)("p",{className:"font-mono text-xs text-slate-900 break-all",children:l.myinvois_uuid})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Submission Date:"}),(0,t.jsx)("p",{className:"text-slate-900",children:new Date(l.myinvois_submission_date||l.invoice_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]})]}),l.myinvois_validation_link&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold text-sm",children:"Validation:"}),(0,t.jsx)("p",{className:"text-xs text-[#39FF14] break-all",children:l.myinvois_validation_link})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded",children:"Bill To"}),(0,t.jsxs)("div",{className:"text-slate-900",children:[(0,t.jsx)("p",{className:"font-bold text-lg mb-1",children:l.customer_name}),l.customer_company&&(0,t.jsx)("p",{className:"font-semibold text-slate-700",children:l.customer_company}),l.customer_registration_number&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Co. Reg. No.: ",l.customer_registration_number]}),l.customer_tin&&(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["TIN: ",l.customer_tin]}),l.customer_sst_number&&(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["SST No.: ",l.customer_sst_number]}),l.customer_address&&(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-2 whitespace-pre-line",children:l.customer_address}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:l.customer_email})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded",children:"Invoice Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Invoice No.:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:l.invoice_number})]}),(0,t.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Invoice Date:"}),(0,t.jsx)("span",{className:"text-slate-900",children:new Date(l.invoice_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Due Date:"}),(0,t.jsx)("span",{className:"text-slate-900",children:new Date(l.due_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Currency:"}),(0,t.jsx)("span",{className:"text-slate-900 font-bold",children:l.currency})]})]})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-800 text-white",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 font-bold text-sm",children:"Description"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-bold text-sm",children:"Qty"}),(0,t.jsxs)("th",{className:"text-right py-3 px-4 font-bold text-sm",children:["Unit Price",(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"text-xs",children:["(",l.currency,")"]})]}),(0,t.jsxs)("th",{className:"text-right py-3 px-4 font-bold text-sm",children:["Amount",(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"text-xs",children:["(",l.currency,")"]})]})]})}),(0,t.jsx)("tbody",{children:i.map((e,s)=>(0,t.jsxs)("tr",{className:`border-b border-slate-200 ${s%2==0?"bg-slate-50":"bg-white"}`,children:[(0,t.jsxs)("td",{className:"py-3 px-4 text-slate-900",children:[(0,t.jsx)("p",{className:"font-medium",children:e.description}),e.classification_code&&(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Classification: ",e.classification_code]})]}),(0,t.jsx)("td",{className:"text-center py-3 px-4 text-slate-900",children:e.quantity}),(0,t.jsx)("td",{className:"text-right py-3 px-4 text-slate-900",children:e.unit_price.toFixed(2)}),(0,t.jsx)("td",{className:"text-right py-3 px-4 text-slate-900 font-semibold",children:e.amount.toFixed(2)})]},e.id))})]})}),(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsxs)("div",{className:"w-96",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-slate-700 text-sm",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Subtotal:"}),(0,t.jsxs)("span",{className:"font-bold",children:[l.currency," ",l.subtotal.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-slate-700 text-sm border-t border-slate-300 pt-2",children:[(0,t.jsxs)("span",{className:"font-semibold",children:["Sales & Service Tax (SST @ ",l.sst_rate,"%):"]}),(0,t.jsxs)("span",{className:"font-bold",children:[l.currency," ",l.sst_amount.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold text-white bg-emerald-600 px-4 py-3 rounded-lg mt-3",children:[(0,t.jsx)("span",{children:"TOTAL AMOUNT:"}),(0,t.jsxs)("span",{children:[l.currency," ",l.total_amount.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"text-center text-xs text-slate-600 mt-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Amount in Words:"}),(0,t.jsxs)("p",{className:"italic",children:[function(e){if(0===e)return"Zero";let[t,s]=e.toFixed(2).split("."),a=parseInt(t),l="";if(a>=1e6){l+=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"][Math.floor(a/1e6)]+" Million ";let e=a%1e6;e>0&&(l+=eQ(e))}else l=eQ(a);return parseInt(s)>0&&(l+=` and ${s}/100`),l.trim()}(l.total_amount)," ",l.currency," Only"]})]})]})}),l.notes&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-[#39FF14]/10 border-l-4 border-[#39FF14]/50 rounded",children:[(0,t.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Notes:"}),(0,t.jsx)("p",{className:"text-slate-700 text-sm whitespace-pre-line",children:l.notes})]}),(0,t.jsxs)("div",{className:"border-t-2 border-slate-300 pt-6 mb-4",children:[(0,t.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Payment Terms & Conditions:"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm mb-4",children:l.payment_terms}),d.bank_name&&d.bank_account_number&&(0,t.jsxs)("div",{className:"bg-[#39FF14]/10 border-2 border-[#39FF14]/30 rounded-lg p-4 mb-4",children:[(0,t.jsxs)("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-[#39FF14] rounded-full"}),"Bank Transfer Details:"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Bank Name:"}),(0,t.jsx)("p",{className:"font-bold text-slate-900",children:d.bank_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Account Number:"}),(0,t.jsx)("p",{className:"font-bold text-slate-900",children:d.bank_account_number})]}),d.bank_account_name&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Account Name:"}),(0,t.jsx)("p",{className:"font-bold text-slate-900",children:d.bank_account_name})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded p-3 text-xs text-slate-600",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"Important Information:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"This is a computer-generated e-invoice and does not require a signature"}),(0,t.jsx)("li",{children:"This invoice has been submitted to MyInvois portal in compliance with Malaysian Digital Economy regulations"}),(0,t.jsx)("li",{children:"Payment should be made to the bank account specified above"}),(0,t.jsx)("li",{children:"Please quote the invoice number in your payment reference"}),(0,t.jsxs)("li",{children:["For any queries, please contact us at ",d.email," or ",d.phone]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-300 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"This E-Invoice is MyInvois Compliant"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Generated on: ",new Date().toLocaleString("en-MY")]})]})]})})]}),(0,t.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #invoice-content,
          #invoice-content * {
            visibility: visible;
          }
          #invoice-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          @page {
            size: A4;
            margin: 15mm;
          }
        }
      `})]}):(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[(0,t.jsx)("p",{className:"text-slate-900 text-center mb-4",children:"Invoice not found"}),(0,t.jsx)("button",{onClick:a,className:"w-full bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700",children:"Close"})]})})}function eQ(e){let t="";return e>=1e3&&(t+=eZ(Math.floor(e/1e3))+" Thousand ",e%=1e3),e>0&&(t+=eZ(e)),t}function eZ(e){let t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],s="";if(e>=100&&(s+=t[Math.floor(e/100)]+" Hundred ",e%=100),e>=20)s+=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+" ",e%=10;else if(e>=10)return s+(["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"][e-10]+" ");return e>0&&(s+=t[e]+" "),s}function e0(){let{user:e,profile:a}=(0,Q.useAuth)(),[l,r]=(0,s.useState)("overview"),[i,n]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)(""),[j,v]=(0,s.useState)("add"),[N,w]=(0,s.useState)(""),[F,k]=(0,s.useState)(""),[C,S]=(0,s.useState)(""),[M,A]=(0,s.useState)(""),[I,P]=(0,s.useState)(!0),[T,D]=(0,s.useState)([]),[R,L]=(0,s.useState)([]),[$,O]=(0,s.useState)(null),[q,U]=(0,s.useState)(!1),[V,B]=(0,s.useState)(null),[z,G]=(0,s.useState)(null),[K,W]=(0,s.useState)(!1),[X,H]=(0,s.useState)("");(0,s.useEffect)(()=>{e&&(J(),Y())},[e]);let J=async()=>{let{data:e,error:t}=await h.db.from("transactions").select("*").order("created_at",{ascending:!1}).limit(20);!t&&e&&D(e.map(e=>({id:e.id,date:e.created_at,description:e.description,amount:Math.abs(Number(e.amount)),status:"paid",type:e.type||"usage",channel:e.channel}))),P(!1)},Y=async()=>{let{data:e,error:t}=await h.db.from("payment_methods").select("*").order("is_primary",{ascending:!1});if(!t&&e){L(e);let t=e.find(e=>e.is_primary);t&&O(t.id)}},Z=[{channel:"WhatsApp",amount:12450,percentage:45,color:"#39FF14"},{channel:"SMS API",amount:8600,percentage:30,color:"#32e012"},{channel:"AI Voice",amount:5200,percentage:15,color:"#2bad0f"},{channel:"Other",amount:3240,percentage:10,color:"#218a0c"}],et=(T.length>5?T:[{id:"1",date:"2024-12-20",description:"SMS API Campaign - Year End Sale",amount:10890,status:"paid",type:"usage",channel:"SMS"},{id:"2",date:"2024-12-18",description:"WhatsApp Business API Usage",amount:8402.5,status:"paid",type:"usage",channel:"WhatsApp"},{id:"3",date:"2024-12-15",description:"AI Voice Agent - Customer Support",amount:3001.25,status:"paid",type:"usage",channel:"Voice AI"},{id:"4",date:"2024-12-10",description:"RCS Messaging Campaign",amount:5555,status:"paid",type:"usage",channel:"RCS"},{id:"5",date:"2024-12-05",description:"Account Top-up (Manual)",amount:2e4,status:"paid",type:"topup"},{id:"6",date:"2024-11-28",description:"Monthly Platform Subscription",amount:999,status:"paid",type:"subscription"},{id:"7",date:"2024-11-25",description:"Email Marketing Credits",amount:1550,status:"paid",type:"usage",channel:"Email"},{id:"8",date:"2024-11-20",description:"Chatbot AI Training Usage",amount:4200,status:"paid",type:"usage",channel:"Chatbot"}]).filter(e=>e.description.toLowerCase().includes(X.toLowerCase())||e.channel?.toLowerCase().includes(X.toLowerCase())),es=a?.balance||25420.5,ea=Z.reduce((e,t)=>e+t.amount,0),el=(e,t)=>{if(v(e),"update"===e&&t){let e=R.find(e=>e.id===t);e&&(w(`**** **** **** ${e.last_four}`),k(e.cardholder_name),S(`${e.expiry_month}/${e.expiry_year}`),A(""),O(t))}else w(""),k(""),S(""),A(""),O(null);n(!0)},ei=()=>{n(!1),w(""),k(""),S(""),A(""),O(null)},en=async t=>{t.preventDefault();let[s,a]=C.split("/"),l=N.replace(/\s/g,"").slice(-4),r=N.startsWith("4")?"Visa":"Mastercard";try{if("update"===j&&$){let{error:e}=await h.db.from("payment_methods").update({card_type:r,last_four:l,expiry_month:s,expiry_year:a,cardholder_name:F,updated_at:new Date().toISOString()}).eq("id",$);if(e)throw e}else{let{error:t}=await h.db.from("payment_methods").insert({user_id:e?.id,card_type:r,last_four:l,expiry_month:s,expiry_year:a,cardholder_name:F,is_primary:0===R.length});if(t)throw t}Y(),ei()}catch(e){console.error(e),alert("Failed to save payment method")}},eo=async()=>{if(!(!g||0>=parseFloat(g))&&$){U(!0);try{let t=parseFloat(g),{error:s}=await h.db.from("transactions").insert({user_id:e?.id,type:"topup",amount:t,description:`Account Top-up - RM ${t.toFixed(2)}`,status:"completed"});if(s)throw s;alert(`Successfully topped up RM ${t.toFixed(2)}!`),u(!1),b(""),J()}catch(e){console.error(e),alert("Failed to process top-up")}finally{U(!1)}}};return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419] p-8 font-sans selection:bg-[#39FF14] selection:text-black",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("h1",{className:"text-2xl font-black text-white tracking-tight",children:["Billing ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"&"})," Payments"]}),(0,t.jsx)("div",{className:"flex items-center gap-2 p-1 bg-[#013221] rounded-2xl border border-[#024d30] shadow-inner",children:["overview","invoices","payments","history"].map(e=>(0,t.jsx)("button",{onClick:()=>r(e),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${l===e?"bg-[#39FF14] text-black shadow-lg shadow-[#39FF14]/10":"text-slate-500 hover:text-white"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"pb-16",children:["overview"===l&&(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 group hover:border-[#39FF14]/40 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/10 p-2.5 rounded-xl group-hover:scale-110 transition-transform",children:(0,t.jsx)(eW.Wallet,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)(eE.TrendingUp,{className:"w-4 h-4 text-[#39FF14] opacity-50"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Available Credits"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white tracking-tight",children:["RM ",es.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 group hover:border-[#39FF14]/40 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/10 p-2.5 rounded-xl group-hover:scale-110 transition-transform",children:(0,t.jsx)(ez.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)(eE.TrendingUp,{className:"w-4 h-4 text-[#39FF14] opacity-50"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Spent This Month"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white tracking-tight",children:["RM ",ea.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 group hover:border-[#39FF14]/40 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("div",{className:"bg-[#39FF14]/10 p-2.5 rounded-xl group-hover:scale-110 transition-transform",children:(0,t.jsx)(eV.default,{className:"w-5 h-5 text-[#39FF14]"})})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Last Invoice"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white tracking-tight",children:"RM 4,200.00"}),(0,t.jsx)("p",{className:"text-[10px] text-[#39FF14] mt-2 font-mono",children:"INV-2024-0012"})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 flex flex-col justify-center items-center",children:(0,t.jsxs)("button",{onClick:()=>u(!0),className:"w-full h-full bg-[#39FF14] hover:bg-[#32e012] text-black font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(57,255,20,0.2)] hover:shadow-[0_0_30px_rgba(57,255,20,0.4)] transition-all",children:[(0,t.jsx)(_.default,{className:"w-6 h-6 stroke-[3]"}),(0,t.jsx)("span",{className:"text-xl",children:"TOP UP"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-8 backdrop-blur-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(eB.default,{className:"w-5 h-5 text-[#39FF14]"}),"Usage by Channel"]}),(0,t.jsxs)("select",{className:"bg-[#024d30] border border-[#39FF14]/20 text-white rounded-lg px-3 py-1.5 text-xs focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{children:"Current Month"}),(0,t.jsx)("option",{children:"Last Month"}),(0,t.jsx)("option",{children:"Last 3 Months"})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:Z.map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300 font-medium",children:e.channel}),(0,t.jsxs)("span",{className:"text-[#39FF14] font-bold",children:["RM ",e.amount.toLocaleString()," (",e.percentage,"%)"]})]}),(0,t.jsx)("div",{className:"h-2 w-full bg-[#013221] rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full transition-all duration-1000",style:{width:`${e.percentage}%`,backgroundColor:e.color,boxShadow:`0 0 10px ${e.color}80`}})})]},s))})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-8 backdrop-blur-md",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-8",children:[(0,t.jsx)(c.Bell,{className:"w-5 h-5 text-[#39FF14]"}),"Quick Actions & Alerts"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/20 p-4 rounded-xl flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:"Low Balance Threshold"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-1",children:"Your balance is below RM 5,000. Consider topping up to prevent service interruptions."}),(0,t.jsx)("button",{className:"text-orange-400 text-[10px] font-bold mt-2 uppercase tracking-wider hover:underline",children:"Settings"})]})]}),(0,t.jsxs)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/20 p-4 rounded-xl flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(d.Settings,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:"Auto Top-Up"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-1",children:"Automatically charge RM 1,000 when balance falls below RM 500."}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[(0,t.jsx)("button",{onClick:()=>W(!K),className:`relative w-10 h-5 rounded-full transition-colors ${K?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${K?"left-6":"left-1"}`})}),(0,t.jsx)("span",{className:"text-[10px] text-slate-300 font-bold uppercase tracking-wider",children:K?"ACTIVE":"INACTIVE"})]})]})]}),(0,t.jsxs)("button",{className:"w-full py-4 border-2 border-dashed border-[#024d30] rounded-xl text-slate-500 text-sm font-bold hover:border-[#39FF14]/30 hover:text-[#39FF14] transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"ADD BILLING RECIPIENT"]})]})]})]})]}),"invoices"===l&&(0,t.jsxs)("div",{className:"bg-[#012419]/60 border border-[#024d30] rounded-2xl overflow-hidden animate-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[#024d30] bg-[#024d30]/20 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Invoice Records"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Search invoices...",className:"bg-[#013221] border border-[#024d30] rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-[#39FF14] w-64"})]}),(0,t.jsx)("button",{className:"p-2 bg-[#024d30] border border-[#39FF14]/20 rounded-lg text-white hover:bg-[#39FF14]/20 transition-colors",children:(0,t.jsx)(eK.default,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-[#013221]/30",children:[(0,t.jsx)("th",{className:"text-left py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider",children:"Invoice ID"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider",children:"Due Date"}),(0,t.jsx)("th",{className:"text-right py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider",children:"Amount"}),(0,t.jsx)("th",{className:"text-center py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"text-right py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider",children:"Action"})]})}),(0,t.jsx)("tbody",{children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-[#024d30] hover:bg-[#39FF14]/5 transition-colors group",children:[(0,t.jsxs)("td",{className:"py-4 px-6 font-mono text-xs text-[#39FF14]",children:["INV-2024-",(12-s).toString().padStart(4,"0")]}),(0,t.jsxs)("td",{className:"py-4 px-6 text-slate-400 text-sm",children:["Dec ",20-s,", 2024"]}),(0,t.jsxs)("td",{className:"py-4 px-6 text-slate-400 text-sm",children:["Jan ",19-s,", 2025"]}),(0,t.jsxs)("td",{className:"py-4 px-6 text-right text-white font-bold",children:["RM ",(5e3+1200*s).toLocaleString()]}),(0,t.jsx)("td",{className:"py-4 px-6 text-center",children:(0,t.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-[#39FF14]/10 text-[#39FF14] text-[10px] font-bold border border-[#39FF14]/20",children:"PAID"})}),(0,t.jsx)("td",{className:"py-4 px-6 text-right",children:(0,t.jsx)("button",{className:"p-2 bg-[#024d30] border border-[#39FF14]/20 rounded-lg text-white group-hover:bg-[#39FF14] group-hover:text-black transition-all",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})})})]},s))})]})})]}),"payments"===l&&(0,t.jsx)("div",{className:"space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:(0,t.jsxs)("div",{className:"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-8 backdrop-blur-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Stored Payment Methods"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Manage cards and bank accounts for automatic billing"})]}),(0,t.jsxs)("button",{onClick:()=>el("add"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-[#39FF14]/10 flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"ADD METHOD"]})]}),0===R.length?(0,t.jsxs)("div",{className:"border-2 border-dashed border-[#024d30] rounded-2xl py-20 text-center",children:[(0,t.jsx)(eU.CreditCard,{className:"w-16 h-16 text-slate-700 mx-auto mb-4"}),(0,t.jsx)("h4",{className:"text-white font-bold text-lg mb-2",children:"No payment methods found"}),(0,t.jsx)("p",{className:"text-slate-500 max-w-sm mx-auto mb-8",children:"Securely add your primary payment method to ensure continuous service for your API channels."}),(0,t.jsx)("button",{onClick:()=>el("add"),className:"text-[#39FF14] font-bold border-b-2 border-transparent hover:border-[#39FF14] transition-all",children:"Add your first card"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:R.map(e=>(0,t.jsxs)("div",{className:"relative bg-gradient-to-br from-[#024d30] to-[#013221] border border-[#39FF14]/30 rounded-2xl p-6 group hover:border-[#39FF14] transition-all overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#39FF14]/5 rounded-full blur-3xl -mr-16 -mt-16"}),(0,t.jsxs)("div",{className:"flex items-start justify-between relative z-10",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-[#012419] w-12 h-8 rounded border border-[#024d30] flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-4 h-4 rounded-full bg-orange-500 opacity-80 shadow-[6px_0_0_rgb(234,179,8,0.8)]"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white font-mono text-lg tracking-widest group-hover:tracking-[0.25em] transition-all",children:["•••• •••• •••• ",e.last_four]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs font-medium uppercase mt-2 tracking-widest",children:e.cardholder_name})]}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-[8px] uppercase font-bold tracking-tighter",children:"Expires"}),(0,t.jsxs)("p",{className:"text-white text-sm font-bold font-mono",children:[e.expiry_month,"/",e.expiry_year]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-[8px] uppercase font-bold tracking-tighter",children:"Type"}),(0,t.jsx)("p",{className:"text-white text-sm font-bold",children:e.card_type})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[e.is_primary&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-[#39FF14] text-black text-[8px] font-black rounded flex items-center gap-1 shadow-[0_0_10px_rgba(57,255,20,0.3)]",children:[(0,t.jsx)(eX.default,{className:"w-2.5 h-2.5"})," PRIMARY"]}),(0,t.jsxs)("div",{className:"flex gap-1 mt-auto",children:[(0,t.jsx)("button",{onClick:()=>el("update",e.id),className:"p-2 bg-[#012419] border border-[#024d30] rounded-lg text-slate-400 hover:text-[#39FF14] hover:border-[#39FF14]/50 transition-all",children:(0,t.jsx)(d.Settings,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 bg-[#012419] border border-[#024d30] rounded-lg text-slate-400 hover:text-red-500 hover:border-red-500/50 transition-all",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]})]})]})]},e.id))})]})}),"history"===l&&(0,t.jsxs)("div",{className:"bg-[#012419]/60 border border-[#024d30] rounded-2xl overflow-hidden animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-[#024d30] bg-[#024d30]/20 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Advanced History"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Full transparency of your account transactions"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Filter transactions...",value:X,onChange:e=>H(e.target.value),className:"bg-[#013221] border border-[#024d30] rounded-xl pl-9 pr-4 py-2.5 text-sm text-white focus:outline-none focus:border-[#39FF14] w-full md:w-64 shadow-inner"})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-[#024d30] border border-[#39FF14]/20 rounded-xl text-white font-bold text-xs hover:bg-[#39FF14]/10 transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"EXPORT PDF"]})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-[#013221]/50",children:[(0,t.jsx)("th",{className:"text-left py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:"Activity"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:"Description"}),(0,t.jsx)("th",{className:"text-left py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:"Channel"}),(0,t.jsx)("th",{className:"text-right py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:"Amount"}),(0,t.jsx)("th",{className:"text-center py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:"Status"}),(0,t.jsx)("th",{className:"text-right py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]",children:"Transaction ID"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-[#024d30]/50",children:et.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#39FF14]/5 transition-all group",children:[(0,t.jsx)("td",{className:"py-5 px-6",children:(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-[#013221] flex items-center justify-center border border-[#024d30] group-hover:border-[#39FF14]/30 transition-all",children:(e=>{switch(e){case"topup":return(0,t.jsx)(eG.default,{className:"w-4 h-4 text-[#39FF14]"});case"usage":return(0,t.jsx)(ez.default,{className:"w-4 h-4 text-orange-400"});case"subscription":return(0,t.jsx)(eV.default,{className:"w-4 h-4 text-cyan-400"});default:return(0,t.jsx)(o.FileText,{className:"w-4 h-4 text-slate-400"})}})(e.type)})}),(0,t.jsx)("td",{className:"py-5 px-6",children:(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)("p",{className:"text-white font-bold text-sm group-hover:text-[#39FF14] transition-colors",children:e.description}),(0,t.jsxs)("p",{className:"text-slate-500 text-[10px] flex items-center gap-1.5 uppercase tracking-wider font-bold",children:[(0,t.jsx)(f.default,{className:"w-3 h-3"}),new Date(e.date).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})]})]})}),(0,t.jsx)("td",{className:"py-5 px-6",children:e.channel?(0,t.jsx)("span",{className:"px-2 py-0.5 rounded bg-slate-800 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:e.channel}):(0,t.jsx)("span",{className:"text-slate-600 text-[10px] font-black italic",children:"---"})}),(0,t.jsx)("td",{className:"py-5 px-6 text-right",children:(0,t.jsxs)("p",{className:`text-sm font-black ${"topup"===e.type?"text-[#39FF14]":"text-white"}`,children:["topup"===e.type?"+":"-"," RM ",e.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})}),(0,t.jsx)("td",{className:"py-5 px-6",children:(0,t.jsx)("div",{className:"flex justify-center",children:(e=>{switch(e){case"paid":return(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-[#39FF14]/10 text-[#39FF14] border border-[#39FF14]/20",children:[(0,t.jsx)(eX.default,{className:"w-3 h-3"})," COMPLETED"]});case"pending":return(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-orange-500/10 text-orange-400 border border-orange-500/20",children:[(0,t.jsx)(ee.Clock,{className:"w-3 h-3"})," PENDING"]});case"failed":return(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-red-500/10 text-red-400 border border-red-500/20",children:[(0,t.jsx)(E.AlertCircle,{className:"w-3 h-3"})," FAILED"]});default:return null}})(e.status)})}),(0,t.jsxs)("td",{className:"py-5 px-6 text-right font-mono text-[10px] text-slate-500 group-hover:text-slate-400 transition-colors uppercase",children:["TRX-",e.id.slice(0,8),"..."]})]},e.id))})]})})]})]}),(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 font-sans animate-in fade-in zoom-in-95 duration-200",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-[#39FF14]/30 rounded-3xl p-8 max-w-md w-full shadow-[0_0_50px_rgba(0,0,0,0.5)]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white tracking-tight",children:"add"===j?"ADD NEW CARD":"UPDATE METHOD"}),(0,t.jsx)("button",{onClick:ei,className:"w-10 h-10 flex items-center justify-center bg-[#013221] rounded-full text-slate-400 hover:text-white hover:bg-red-500/20 hover:text-red-500 transition-all border border-[#024d30]",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:en,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Card Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(eU.CreditCard,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),(0,t.jsx)("input",{type:"text",value:N,onChange:e=>w(e.target.value),placeholder:"0000 0000 0000 0000",required:!0,className:"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-4 text-white font-mono placeholder-slate-700 focus:outline-none focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 transition-all shadow-inner"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Cardholder Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(e4,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),(0,t.jsx)("input",{type:"text",value:F,onChange:e=>k(e.target.value),placeholder:"AS WRITTEN ON CARD",required:!0,className:"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-4 text-white font-bold uppercase placeholder-slate-700 focus:outline-none focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 transition-all shadow-inner"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Expiry Date"}),(0,t.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"MM/YY",required:!0,className:"w-full bg-[#013221] border border-[#024d30] rounded-2xl px-4 py-4 text-white font-mono placeholder-slate-700 focus:outline-none focus:border-[#39FF14] text-center"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"CVC / CVV"}),(0,t.jsx)("input",{type:"password",value:M,onChange:e=>A(e.target.value),placeholder:"•••",required:!0,maxLength:4,className:"w-full bg-[#013221] border border-[#024d30] rounded-2xl px-4 py-4 text-white font-mono placeholder-slate-700 focus:outline-none focus:border-[#39FF14] text-center tracking-[0.5em]"})]})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black font-black py-4 rounded-2xl shadow-lg shadow-[#39FF14]/20 hover:scale-[1.02] active:scale-95 transition-all text-sm uppercase tracking-widest mt-4",children:"add"===j?"INITIALIZE CARD":"AUTHORIZE UPDATES"})]})]})}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in zoom-in-95 duration-200",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-[#39FF14]/30 rounded-3xl p-8 max-w-md w-full shadow-[0_0_50px_rgba(0,0,0,0.5)]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white tracking-tight",children:"TOP UP CREDITS"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"w-10 h-10 flex items-center justify-center bg-[#013221] rounded-full text-slate-400 hover:text-white transition-all border border-[#024d30]",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Select Amount (RM)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(er.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-[#39FF14]"}),(0,t.jsx)("input",{type:"number",value:g,onChange:e=>b(e.target.value),placeholder:"0.00",className:"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-6 text-3xl font-black text-white placeholder-slate-800 focus:outline-none focus:border-[#39FF14] shadow-inner"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[500,1e3,5e3,1e4].map(e=>(0,t.jsxs)("button",{onClick:()=>b(e.toString()),className:"py-3 bg-[#013221] border border-[#024d30] rounded-xl text-slate-400 font-bold text-xs hover:border-[#39FF14] hover:text-[#39FF14] transition-all",children:["+",e]},e))}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Payment Source"}),0===R.length?(0,t.jsxs)("div",{className:"p-4 bg-slate-900/50 border border-dashed border-[#024d30] rounded-2xl text-center",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-3",children:"No cards found"}),(0,t.jsx)("button",{onClick:()=>{u(!1),n(!0)},className:"text-[#39FF14] text-xs font-black uppercase tracking-widest",children:"Connect Card"})]}):(0,t.jsx)("div",{className:"space-y-2",children:R.map(e=>(0,t.jsxs)("button",{onClick:()=>O(e.id),className:`w-full flex items-center justify-between p-4 rounded-2xl border transition-all ${$===e.id?"bg-[#39FF14]/10 border-[#39FF14]":"bg-[#013221] border-[#024d30] text-slate-400 opacity-60"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eU.CreditCard,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsxs)("span",{className:"font-mono text-sm tracking-widest",children:["•••• ",e.last_four]})]}),(0,t.jsx)("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${$===e.id?"border-[#39FF14]":"border-slate-700"}`,children:$===e.id&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#39FF14]"})})]},e.id))})]}),(0,t.jsx)("button",{onClick:eo,disabled:q||!g,className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black font-black py-5 rounded-2xl shadow-xl shadow-[#39FF14]/10 disabled:opacity-50 disabled:grayscale transition-all text-md uppercase tracking-widest",children:q?"VERIFYING TRANSACTION...":"AUTHORIZE TRANSACTION"})]})]})})]}),V&&(0,t.jsx)(eY,{invoiceId:V,onClose:()=>B(null)})]})}function e4({size:e,className:s}){return(0,t.jsxs)("svg",{width:e||24,height:e||24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:s,children:[(0,t.jsx)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})}var e1=e.i(10980),p=p,e2=e.i(51477),e2=e2,x=x,D=D,e3=e.i(36166),e3=e3,e5=e.i(68570),e5=e5,L=L,k=k,C=C,S=S,V=V;let e9=[{id:"platform-overview",title:"Platform Overview & Architecture",description:"Understand the high-level architecture and core components of our CPaaS ecosystem.",type:"video",category:"Onboarding",url:"#",content:{overview:"A comprehensive 10-minute overview of how our global network connects to your application.",features:["Global Edge Network","Security & Compliance","Scalability","Service Health"],sections:[{title:"Infrastructure",content:"Our platform is distributed across 35 regions for 99.99% uptime."}],learningPath:[{step:1,title:"Network Topology",duration:"10m",completed:!0}]}},{id:"first-steps",title:"Your First 24 Hours",description:"A step-by-step checklist to get your account fully verified and ready for production.",type:"guide",category:"Onboarding",url:"#",content:{overview:"Follow this guide to move from sandbox to production environment smoothly.",features:["Account Verification","Team Invite","Billing Setup","First API Call"],sections:[{title:"Verification",content:"Upload your business documents in the Settings area."}],learningPath:[{step:1,title:"Account Settings",duration:"15m",completed:!0}]}},{id:"sms-api",title:"SMS API Reference",description:"Deep dive into global SMS delivery with our high-throughput REST API.",type:"api",category:"Communication",url:"#",content:{overview:"Our SMS API enables you to send high-priority notifications, OTPs, and marketing messages to 200+ countries with millisecond latency.",features:["Automatic fallbacks","URL shortening","Concatenation logic","DLR tracking"],sections:[{title:"Quick Send",content:"The basic endpoint for sending a message.",code:'POST /v1/sms/send\n{\n  "to": "+60123456789",\n  "text": "Your code is 1234"\n}'}],learningPath:[{step:1,title:"Authentication",duration:"5m",completed:!0},{step:2,title:"Country Codes",duration:"5m",completed:!1}]}},{id:"whatsapp-guide",title:"WhatsApp Business API Guide",description:"Master interactive messaging and template management on WhatsApp.",type:"guide",category:"Communication",url:"#",content:{overview:"Build rich, conversational experiences on the world's most popular messaging app.",features:["Interactive Buttons","Rich Media (PDF/MP4)","Shared Inboxes","Templates"],sections:[{title:"Opt-in Policy",content:"Ensure you follow the mandatory opt-in rules before starting conversations."}],learningPath:[{step:1,title:"Meta Business Setup",duration:"20m",completed:!1}]}},{id:"rcs-intro",title:"RCS Messaging Basics",description:"Rich Communication Services - the future of native Android messaging.",type:"video",category:"Communication",url:"#",content:{overview:"Learn how to use RCS to send rich, branded content directly to the native messaging app on Android.",features:["Verified Senders","Carousels","Suggested Replies","Branding"],sections:[{title:"Device Support",content:"RCS depends on carrier and device support."}],learningPath:[{step:1,title:"Sender Registration",duration:"15m",completed:!1}]}},{id:"viber-integration",title:"Viber for Business",description:"Low-cost, high-engagement messaging for stable customer relationships.",type:"documentation",category:"Communication",url:"#"},{id:"line-wechat-basics",title:"Line & WeChat Quickstart",description:"Navigate the specific requirements for major Asian messaging platforms.",type:"documentation",category:"Communication",url:"#"},{id:"voice-api-ref",title:"Voice API Documentation",description:"Programmable voice calls, IVRs, and recording management.",type:"api",category:"Voice & Video",url:"#",content:{overview:"Build complex call flows using our intuitive Voice XML or REST API.",features:["Text-to-Speech (TTS)","Speech Recognition (ASR)","Recording","Transcriptions"],sections:[{title:"Make a Call",content:"Initiate an outbound call.",code:'POST /v1/voice/calls\n{\n  "to": "+60...",\n  "script_url": "https://..."\n}'}],learningPath:[{step:1,title:"SIP Trunking",duration:"30m",completed:!1}]}},{id:"ai-voice-agent",title:"AI Voice Agent Platform",description:"Deploy human-like AI agents that handle outbound and inbound calls.",type:"guide",category:"Voice & Video",url:"#",content:{overview:"Our LLM-powered voice agents can handle complex customer queries with low latency and high accuracy.",features:["Emotional Intelligence","Zero-buffer ASR","Custom Voices","CRM Sync"],sections:[{title:"Prompt Engineering",content:"Design effective prompts for your AI agent."}],learningPath:[{step:1,title:"Agent Configuration",duration:"45m",completed:!1}]}},{id:"video-api-sdk",title:"Video Engine SDK",description:"Embed HD multi-party video conferencing into your apps.",type:"documentation",category:"Voice & Video",url:"#"},{id:"number-verify",title:"Number Verify (CAMARA)",description:"Seamless silent authentication using network-level mobile verification.",type:"api",category:"Telco APIs",url:"#",content:{overview:"Verify ownership of a mobile number directly with the carrier without OTPs.",features:["Silent Auth","Prevention of OTP interception","Network-level trust"],sections:[{title:"API Flow",content:"Client -> CPaaS -> Global MNO -> Verification."}],learningPath:[{step:1,title:"Header Injection",duration:"10m",completed:!1}]}},{id:"sim-swap",title:"SIM Swap Detection",description:"Protect your users from account takeovers by detecting recent SIM changes.",type:"api",category:"Telco APIs",url:"#",content:{overview:"Check if a subscriber's SIM card has been swapped in the last few hours or days.",features:["Fraud Prevention","Risk Scoring","Real-time check"],sections:[{title:"Risk Thresholds",content:"Different banks use different risk windows."}],learningPath:[{step:1,title:"Integration in Auth Flow",duration:"15m",completed:!1}]}},{id:"device-location",title:"Device Location Verification",description:"Verify user location using telco-grade precision, anti-spoofing.",type:"api",category:"Telco APIs",url:"#"},{id:"qod-api",title:"Quality on Demand (QoD)",description:"Dynamically boost network performance for critical gaming or video apps.",type:"documentation",category:"Telco APIs",url:"#"},{id:"email-campaigns",title:"Email Marketing Masterclass",description:"Deliver high-volume email campaigns that land in the inbox.",type:"video",category:"Business Tools",url:"#",content:{overview:"Optimizing deliverability with SPF, DKIM, and DMARC setups.",features:["Visual Designer","Segmentation","Spam Score Check","SMTP Relay"],sections:[{title:"DKIM Setup",content:"Add these DNS records to verify your domain."}],learningPath:[{step:1,title:"Domain Warm-up",duration:"14 days",completed:!1}]}},{id:"chatbot-v3",title:"Omnichannel Chatbot Builder",description:"Visual drag-and-drop builder for AI-powered chat experiences.",type:"guide",category:"Business Tools",url:"#"},{id:"contact-center",title:"Contact Center as a Service",description:"The complete cloud setup for modern support teams.",type:"documentation",category:"Business Tools",url:"#"},{id:"tiktok-marketing",title:"TikTok Ads API Integration",description:"Sync your CRM data with TikTok for powerful retargeting.",type:"documentation",category:"Social Platforms",url:"#"},{id:"instagram-dm",title:"Instagram DM for Business",description:"Automate interactions on the world's visual social network.",type:"api",category:"Social Platforms",url:"#"},{id:"facebook-ads",title:"Facebook Lead Ads Sync",description:"Automatically pull leads from Meta into your messaging flows.",type:"documentation",category:"Social Platforms",url:"#"},{id:"youtube-content",title:"YouTube Creator API",description:"Monitor brand mentions and sentiment across YouTube videos.",type:"api",category:"Social Platforms",url:"#"}];function e6(){let[e,a]=(0,s.useState)(""),[l,r]=(0,s.useState)("All"),[i,n]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[h,u]=(0,s.useState)({}),[g,b]=(0,s.useState)({}),f=(e,t)=>{navigator.clipboard.writeText(e)},j=(0,s.useMemo)(()=>e9.filter(t=>{let s=t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()),a="All"===l||t.category===l;return s&&a}),[e,l]),v=e=>{switch(e){case"documentation":default:return o.FileText;case"video":return eR.Video;case"guide":return e1.BookOpen;case"api":return P.Code}};return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419] p-8 selection:bg-[#39FF14] selection:text-black",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-12",children:[(0,t.jsxs)("div",{className:"relative flex-1 group",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500 group-focus-within:text-[#39FF14] transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Search API references, guides, tutorials...",value:e,onChange:e=>a(e.target.value),className:"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-[#39FF14] shadow-inner transition-all"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["All","Onboarding","Communication","Voice & Video","Telco APIs","Business Tools","Social Platforms"].map(e=>(0,t.jsx)("button",{onClick:()=>r(e),className:`px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${l===e?"bg-[#39FF14] text-black shadow-lg shadow-[#39FF14]/20 scale-105":"bg-[#013221] border border-[#024d30] text-slate-500 hover:text-white hover:border-[#39FF14]/30"}`,children:e},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>{let s=v(e.type),a=(e=>{switch(e){case"Communication":return{color:"#39FF14",icon:T.MessageSquare};case"Voice & Video":return{color:"#39FF14",icon:eb.Phone};case"Telco APIs":return{color:"#39FF14",icon:D.default};case"Business Tools":return{color:"#39FF14",icon:L.default};case"Social Platforms":return{color:"#39FF14",icon:e5.default};default:return{color:"#39FF14",icon:Z.Globe}}})(e.category);return(0,t.jsxs)("div",{className:"group relative bg-[#013221]/40 border border-[#024d30] rounded-3xl p-8 hover:border-[#39FF14]/40 transition-all hover:shadow-[0_0_30px_rgba(57,255,20,0.05)] flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsx)("div",{className:"p-4 bg-[#012419] border border-[#024d30] rounded-2xl group-hover:border-[#39FF14]/30 transition-all",children:(0,t.jsx)(s,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest bg-slate-800 text-slate-500",children:e.type}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[#39FF14]",children:[(0,t.jsx)(a.icon,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest",children:e.category})]})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#39FF14] transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-slate-500 text-sm leading-relaxed mb-6",children:e.description})]}),(0,t.jsxs)("button",{onClick:()=>n(e),className:"w-full bg-[#013221] hover:bg-[#39FF14] text-[#39FF14] hover:text-black border border-[#39FF14]/20 hover:border-[#39FF14] px-6 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all flex items-center justify-center gap-2 group/btn",children:["ACCESS RESOURCE",(0,t.jsx)(e8,{className:"w-4 h-4 group-hover/btn:translate-x-1 transition-transform"})]})]},e.id)})}),0===j.length&&(0,t.jsxs)("div",{className:"bg-[#013221]/20 border-2 border-dashed border-[#024d30] rounded-3xl p-20 text-center",children:[(0,t.jsx)(e1.BookOpen,{className:"w-16 h-16 text-slate-700 mx-auto mb-6"}),(0,t.jsx)("h2",{className:"text-white font-black text-2xl mb-2 tracking-tight",children:"RESOURCE NOT FOUND"}),(0,t.jsx)("p",{className:"text-slate-500 max-w-sm mx-auto mb-8 font-medium",children:"We couldn't find any results matching your current filters. Try refining your search or exploring a different category."}),(0,t.jsx)("button",{onClick:()=>{a(""),r("All")},className:"text-[#39FF14] font-black text-sm uppercase tracking-widest border-b-2 border-[#39FF14] pb-1 hover:text-[#32e012] hover:border-[#32e012] transition-colors",children:"RESET ALL FILTERS"})]}),i&&i.content&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md flex items-center justify-center z-[100] p-4 lg:p-12 animate-in fade-in duration-300",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-[#39FF14]/30 rounded-[2.5rem] max-w-6xl w-full h-full overflow-hidden shadow-[0_0_100px_rgba(0,0,0,0.8)] flex flex-col",children:[(0,t.jsxs)("div",{className:"p-8 border-b border-[#024d30] flex items-center justify-between shrink-0 bg-[#013221]/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"p-4 bg-[#012419] border border-[#39FF14]/20 rounded-2xl shadow-lg",children:s.default.createElement(v(i.type),{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-[#39FF14]",children:i.category}),(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-700"}),(0,t.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500",children:i.type})]}),(0,t.jsx)("h2",{className:"text-4xl font-black text-white tracking-tighter",children:i.title})]})]}),(0,t.jsx)("button",{onClick:()=>n(null),className:"w-12 h-12 flex items-center justify-center bg-[#013221] border border-[#024d30] rounded-full text-slate-500 hover:text-white hover:border-red-500/50 hover:bg-red-500/10 transition-all",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto p-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-16",children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 mb-6 flex items-center gap-4",children:["Product Overview",(0,t.jsx)("div",{className:"flex-1 h-px bg-[#024d30]"})]}),(0,t.jsx)("p",{className:"text-2xl font-medium text-slate-300 leading-relaxed",children:i.content.overview})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 mb-8 flex items-center gap-4",children:["Key Features",(0,t.jsx)("div",{className:"flex-1 h-px bg-[#024d30]"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.content.features.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-[#013221]/40 p-6 rounded-3xl border border-[#024d30] group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#39FF14]/10 flex items-center justify-center group-hover:bg-[#39FF14] transition-all",children:(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-[#39FF14] group-hover:text-black transition-all"})}),(0,t.jsx)("span",{className:"text-white font-bold tracking-tight",children:e})]},s))})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-500 mb-8 flex items-center gap-4",children:["Technical Specifications",(0,t.jsx)("div",{className:"flex-1 h-px bg-[#024d30]"})]}),(0,t.jsx)("div",{className:"space-y-8",children:i.content.sections.map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#013221]/30 border border-[#024d30] rounded-[2rem] p-8",children:[(0,t.jsx)("h4",{className:"text-xl font-black text-white mb-4 uppercase tracking-tight",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 mb-8 leading-relaxed font-medium",children:e.content}),e.code&&(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#39FF14]/5 to-blue-500/5 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsx)("pre",{className:"relative bg-[#011a12] border border-[#024d30] rounded-2xl p-6 overflow-x-auto shadow-2xl",children:(0,t.jsx)("code",{className:"text-xs text-[#39FF14] font-mono leading-relaxed",children:e.code})}),(0,t.jsx)("button",{className:"absolute top-4 right-4 p-2 bg-[#013221] hover:bg-[#39FF14] text-slate-500 hover:text-black rounded-xl border border-[#024d30] hover:border-[#39FF14] transition-all shadow-lg active:scale-90",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})})]})]},s))})]}),(0,t.jsx)("section",{className:"pb-12",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#024d30]/60 to-[#013221]/60 border border-[#39FF14]/30 rounded-[2.5rem] p-10 overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#39FF14]/5 rounded-full blur-[80px] -mr-32 -mt-32"}),(0,t.jsx)("h3",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:"STRUCTURED LEARNING PATH"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-10",children:"Follow our curated sequence of modules to become a certified expert in this product."}),(0,t.jsx)("div",{className:"space-y-4",children:i.content.learningPath.map(e=>(0,t.jsxs)("div",{className:`flex items-center gap-6 p-6 rounded-3xl border transition-all ${e.completed?"bg-[#39FF14]/10 border-[#39FF14]/30":"bg-[#011a12]/40 border-[#024d30] hover:border-[#39FF14]/40 hover:translate-x-1"}`,children:[(0,t.jsx)("div",{className:`flex items-center justify-center w-12 h-12 rounded-2xl font-black transform rotate-3 transition-transform ${e.completed?"bg-[#39FF14] text-black shadow-[0_0_20px_rgba(57,255,20,0.4)]":"bg-[#013221] border border-[#024d30] text-slate-500"}`,children:e.completed?(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 stroke-[3]"}):e.step}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-0.5",children:[(0,t.jsx)("h4",{className:`text-lg font-black tracking-tight ${e.completed?"text-[#39FF14]":"text-white"}`,children:e.title}),e.completed&&(0,t.jsx)("span",{className:"text-[8px] font-black uppercase tracking-widest text-[#39FF14] bg-[#39FF14]/10 px-2 py-0.5 rounded-full",children:"Validated"})]}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest",children:[e.duration," Module"]})]}),!e.completed&&(0,t.jsx)("button",{onClick:t=>{var s;t.stopPropagation(),s=i.id,e.title,c(s),setTimeout(()=>{let e=`mk_live_${Math.random().toString(36).substring(2,12)}`,t=`sk_${Math.random().toString(36).substring(2,20)}${Math.random().toString(36).substring(2,20)}`,a=`https://api.cpaas-global.com/v3/${s}`;u(l=>({...l,[s]:{apiKey:e,apiSecret:t,endpoint:a}})),c(null)},2e3)},disabled:d===i.id||!!h[i.id],className:`flex items-center gap-2 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all shadow-lg active:scale-95 ${h[i.id]?"bg-emerald-500 text-black cursor-default":d===i.id?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-[#39FF14] hover:bg-white text-black"}`,children:h[i.id]?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"PROVISIONED"]}):d===i.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-slate-500 border-t-transparent rounded-full animate-spin"}),"PROVISIONING..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4 fill-current"}),"INITIALIZE"]})})]},e.step))})]})}),h[i.id]&&(0,t.jsx)("section",{className:"pb-12",children:(0,t.jsxs)("div",{className:"bg-black/40 border border-[#39FF14]/50 rounded-[2.5rem] p-10 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-8",children:(0,t.jsx)(L.default,{className:"w-12 h-12 text-[#39FF14] opacity-20 animate-pulse"})}),(0,t.jsx)("h3",{className:"text-2xl font-black text-[#39FF14] mb-2 tracking-tight",children:"SANDBOX ENVIRONMENT ACTIVE"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm font-medium mb-8",children:["Integrated testing environment for ",i.title,"."]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-2 block",children:"API Key"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-[#011a12] border border-[#024d30] p-4 rounded-xl group/key",children:[(0,t.jsx)("code",{className:"flex-1 text-sm text-[#39FF14] font-mono truncate",children:h[i.id].apiKey}),(0,t.jsx)("button",{onClick:()=>f(h[i.id].apiKey,"API Key"),className:"p-2 hover:bg-[#39FF14]/10 rounded-lg transition-colors group-hover/key:text-[#39FF14]",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-2 block",children:"API Secret"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-[#011a12] border border-[#024d30] p-4 rounded-xl group/secret",children:[(0,t.jsx)("code",{className:"flex-1 text-sm text-[#39FF14] font-mono truncate",children:g[i.id]?h[i.id].apiSecret:"••••••••••••••••••••••••••••••••"}),(0,t.jsx)("button",{onClick:()=>b(e=>({...e,[i.id]:!e[i.id]})),className:"p-2 hover:bg-[#39FF14]/10 rounded-lg transition-colors",children:g[i.id]?(0,t.jsx)(S.default,{className:"w-4 h-4"}):(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>f(h[i.id].apiSecret,"API Secret"),className:"p-2 hover:bg-[#39FF14]/10 rounded-lg transition-colors group-hover/secret:text-[#39FF14]",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-2 block",children:"Regional Endpoint"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-[#011a12] border border-[#024d30] p-4 rounded-xl",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("code",{className:"flex-1 text-xs text-slate-300 font-mono italic",children:h[i.id].endpoint})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-[#39FF14]/10 hover:bg-[#39FF14] border border-[#39FF14]/30 text-[#39FF14] hover:text-black p-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all",children:[(0,t.jsx)(V.default,{className:"w-4 h-4"}),"Playground"]}),(0,t.jsxs)("button",{className:"flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 border border-slate-700 text-white p-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Get SDK"]})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 pt-8 border-t border-[#024d30] flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e3.default,{className:"w-4 h-4 text-emerald-500"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:"Sandbox Isolation: ENABLED"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-slate-400",children:"Status: OPERATIONAL"})]})]})]})})]})})]})})]})}function e8(e){return(0,t.jsx)("svg",{...e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"m9 18 6-6-6-6"})})}var e7=e.i(1523),x=x,er=er,te=e.i(34982),te=te,tt=e.i(54089),tt=tt,L=L,f=f,e_=e_;let ts=[{sku:"SMS-001",name:"SMS API",icon:T.MessageSquare,category:"Messaging",baseMessages:48e4,baseRevenue:106680,deliveryRate:99.2,color:"#39FF14"},{sku:"WA-001",name:"WhatsApp API",icon:T.MessageSquare,category:"Social",baseMessages:39e4,baseRevenue:104010,deliveryRate:98.8,color:"#25D366"},{sku:"RCS-001",name:"RCS API",icon:T.MessageSquare,category:"Messaging",baseMessages:156e3,baseRevenue:55485,deliveryRate:97.5,color:"#6366f1"},{sku:"EMAIL-001",name:"Email API",icon:b.Mail,category:"Messaging",baseMessages:78e3,baseRevenue:3465,deliveryRate:96.5,color:"#f59e0b"},{sku:"VOICE-001",name:"Voice API",icon:eb.Phone,category:"Voice",baseMessages:18e3,baseRevenue:12005,deliveryRate:99.5,color:"#22d3ee"},{sku:"VBOT-001",name:"Voice Bot",icon:eL.Bot,category:"Bot",baseMessages:12e3,baseRevenue:5988,deliveryRate:97.8,color:"#a78bfa"},{sku:"VIDEO-001",name:"Video API",icon:eR.Video,category:"Video",baseMessages:2800,baseRevenue:3110,deliveryRate:96.2,color:"#fb7185"},{sku:"SIP-001",name:"SIP Trunk",icon:eb.Phone,category:"Voice",baseMessages:9500,baseRevenue:8270,deliveryRate:99.8,color:"#34d399"},{sku:"DID-001",name:"DID Numbers",icon:Z.Globe,category:"Voice",baseMessages:3200,baseRevenue:4800,deliveryRate:100,color:"#fbbf24"}],ta={"24hours":1/30,"7days":7/30,"30days":1,"90days":3};function tl(e,t){return Math.round(e*t)}let tr={"24hours":"Last 24 Hours","7days":"Last 7 Days (Weekly)","30days":"Last 30 Days (Monthly)","90days":"Last 90 Days (Quarterly)",custom:"Custom Range"};function ti(e){return e.toLocaleString()}function tn(e){return`RM ${e.toLocaleString()}`}function to(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("30days"),[r,i]=(0,s.useState)(""),[n,o]=(0,s.useState)(""),[d,c]=(0,s.useState)("all"),[m,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),[b,j]=(0,s.useState)([]);(0,s.useEffect)(()=>{e&&h.db.from("products").select("id,sku,name,category").eq("status","active").order("name").then(({data:e})=>{e&&j(e)})},[e]);let v=(0,s.useMemo)(()=>{if("custom"===a)return r&&n?Math.max(.01,(new Date(n).getTime()-new Date(r).getTime())/864e5/30):1;return ta[a]??1},[a,r,n]),y=(0,s.useMemo)(()=>ts.map(e=>({...e,messages:tl(e.baseMessages,v),revenue:tl(e.baseRevenue,v),deliveryRate:e.deliveryRate})),[v]),w="all"===d?y:y.filter(e=>e.sku===d),_=w.reduce((e,t)=>e+t.messages,0),F=w.reduce((e,t)=>e+t.revenue,0),k=w.length?(w.reduce((e,t)=>e+t.deliveryRate,0)/w.length).toFixed(1):"0.0",C=(0,s.useMemo)(()=>[.22,.25,.28,.25].map((e,t)=>({week:`Week ${t+1}`,messages:tl(_*e,1),revenue:tl(F*e,1)})),[_,F]),S=(0,s.useMemo)(()=>{let e=new Date;return[-2,-1,0].map(t=>{let s=new Date(e.getFullYear(),e.getMonth()+t,1).toLocaleString("en-MY",{month:"long",year:"numeric"}),a=0===t?.38:-1===t?.35:.27;return{month:s,messages:tl(_*a,1),revenue:tl(F*a,1)}})},[_,F]);return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 via-[#012419] to-[#012419] border-b border-[#024d30] px-8 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-[#39FF14]/15 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(e7.BarChart3,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-black text-white",children:"Reports & Analytics"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"all"===d?`All ${ts.length} platform channels`:`${w[0]?.name||""} — ${tr[a]}`})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 shrink-0",children:[(0,t.jsxs)("button",{onClick:()=>{g(!0);let e="custom"===a?`${r} to ${n}`:tr[a],t=w.map(e=>[e.name,e.category,e.messages,e.deliveryRate,e.revenue,(e.revenue/Math.max(1,e.messages)).toFixed(4)]),s=C.map(e=>[e.week,e.messages,e.revenue]),l=S.map(e=>[e.month,e.messages,e.revenue]),i=e=>e.map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),o=new Blob([[`"Report Period","${e}"`,`"Generated","${new Date().toLocaleString()}"`,'\n"=== PLATFORM SUMMARY ==="',i([["Platform","Category","Messages","Delivery Rate (%)","Revenue (RM)","Cost Per Message (RM)"],...t]),'\n"=== WEEKLY BREAKDOWN ==="',i([["Week","Messages","Revenue (RM)"],...s]),'\n"=== MONTHLY BREAKDOWN ==="',i([["Month","Messages","Revenue (RM)"],...l])].join("\n")],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(o),x=document.createElement("a"),m="all"===d?"all-products":d.toLowerCase(),h=new Date().toISOString().slice(0,10);x.href=c,x.download=`cpaas-report-${m}-${h}.csv`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(c),g(!1)},disabled:p,className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black font-black px-5 py-2.5 rounded-xl text-sm uppercase tracking-widest transition-all disabled:opacity-50 shadow-lg shadow-[#39FF14]/20",children:[p?(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(x.default,{className:"w-4 h-4"}),p?"Exporting…":"Export CSV"]}),(0,t.jsxs)("button",{onClick:()=>{u(!0);let e="all"===d?"Platform Reports & Analytics":`${w[0]?.name||"Product"} Performance Report`,t="custom"===a?`${r} to ${n}`:tr[a],s=new Date().toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"}),l=w.map(e=>`
      <tr>
        <td><strong>${e.name}</strong></td>
        <td>${e.category}</td>
        <td>${ti(e.messages)}</td>
        <td>${e.deliveryRate}%</td>
        <td>${tn(e.revenue)}</td>
        <td>${(e.revenue/Math.max(1,e.messages)).toFixed(4)} RM/msg</td>
      </tr>`).join(""),i=C.map(e=>`
      <tr><td>${e.week}</td><td>${ti(e.messages)}</td><td>${tn(e.revenue)}</td></tr>`).join(""),o=S.map(e=>`
      <tr><td>${e.month}</td><td>${ti(e.messages)}</td><td>${tn(e.revenue)}</td></tr>`).join(""),c=new Blob([`<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>${e}</title>
<style>
  * { box-sizing: border-box; }
  body { font-family: Arial, sans-serif; margin: 36px; color: #1f2937; font-size: 13px; }
  h1 { color: #1f2937; font-size: 26px; margin-bottom: 4px; }
  .sub { color: #6b7280; font-size: 13px; margin-bottom: 32px; }
  .kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 32px; }
  .kpi { border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; background: #f9fafb; }
  .kpi-label { color: #6b7280; font-size: 11px; text-transform: uppercase; font-weight: 600; letter-spacing: .05em; margin-bottom: 6px; }
  .kpi-value { font-size: 22px; font-weight: 700; color: #111827; }
  .kpi-sub { font-size: 11px; color: #10b981; margin-top: 4px; font-weight: 600; }
  h2 { font-size: 16px; margin: 24px 0 12px; border-bottom: 2px solid #e5e7eb; padding-bottom: 6px; }
  table { width: 100%; border-collapse: collapse; margin-bottom: 32px; }
  th { background: #f3f4f6; padding: 10px 12px; text-align: left; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb; font-size: 12px; }
  td { padding: 10px 12px; border-bottom: 1px solid #f3f4f6; }
  tr:hover td { background: #fafafa; }
  .accent { color: #059669; font-weight: 600; }
  .footer { margin-top: 48px; border-top: 1px solid #e5e7eb; padding-top: 12px; color: #9ca3af; font-size: 11px; text-align: center; }
  @media print { .no-print { display: none; } body { margin: 20px; } }
</style></head><body>
<h1>${e}</h1>
<div class="sub">Period: <strong>${t}</strong> &nbsp;|&nbsp; Generated: ${s}</div>

<div class="kpi-grid">
  <div class="kpi"><div class="kpi-label">Total Messages</div><div class="kpi-value">${ti(_)}</div><div class="kpi-sub">All platforms</div></div>
  <div class="kpi"><div class="kpi-label">Avg Delivery Rate</div><div class="kpi-value">${k}%</div><div class="kpi-sub">Weighted average</div></div>
  <div class="kpi"><div class="kpi-label">Total Revenue</div><div class="kpi-value">${tn(F)}</div><div class="kpi-sub">Gross</div></div>
  <div class="kpi"><div class="kpi-label">Platforms</div><div class="kpi-value">${w.length}</div><div class="kpi-sub">Active channels</div></div>
</div>

<h2>Platform Performance</h2>
<table>
  <thead><tr><th>Platform</th><th>Category</th><th>Messages</th><th>Delivery Rate</th><th>Revenue (RM)</th><th>Cost per Msg</th></tr></thead>
  <tbody>${l}</tbody>
</table>

<h2>Weekly Breakdown</h2>
<table>
  <thead><tr><th>Period</th><th>Messages</th><th>Revenue</th></tr></thead>
  <tbody>${i}</tbody>
</table>

<h2>Monthly Breakdown (Last 3 Months)</h2>
<table>
  <thead><tr><th>Month</th><th>Messages</th><th>Revenue</th></tr></thead>
  <tbody>${o}</tbody>
</table>

<h2>Key Insights</h2>
<ul>
  <li><strong>Top Platform by Volume:</strong> ${w.reduce((e,t)=>t.messages>e.messages?t:e,w[0])?.name||"-"}</li>
  <li><strong>Top Platform by Revenue:</strong> ${w.reduce((e,t)=>t.revenue>e.revenue?t:e,w[0])?.name||"-"}</li>
  <li><strong>Best Delivery Rate:</strong> ${[...w].sort((e,t)=>t.deliveryRate-e.deliveryRate)[0]?.name||"-"} (${[...w].sort((e,t)=>t.deliveryRate-e.deliveryRate)[0]?.deliveryRate||0}%)</li>
  <li><strong>Total Revenue for Period:</strong> ${tn(F)}</li>
</ul>

<div class="footer">CPaaS Platform Analytics &mdash; &copy; ${new Date().getFullYear()} Maxis Communications. All rights reserved.</div>
</body></html>`],{type:"text/html"}),x=URL.createObjectURL(c),m=window.open(x,"_blank");m?m.onload=()=>{setTimeout(()=>{m.print(),u(!1)},300)}:(alert("Please allow pop-ups to export PDF"),u(!1))},disabled:m,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-black px-5 py-2.5 rounded-xl text-sm uppercase tracking-widest transition-all disabled:opacity-50",children:[m?(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(te.default,{className:"w-4 h-4"}),m?"Generating…":"Export PDF"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4 mt-8",children:[{label:"Total Messages",value:ti(_),icon:tt.default,sub:"all channels"},{label:"Avg Delivery Rate",value:`${k}%`,icon:N.CheckCircle,sub:"weighted avg"},{label:"Total Revenue",value:tn(F),icon:er.default,sub:"gross"},{label:"Active Channels",value:w.length,icon:L.default,sub:`of ${ts.length} total`}].map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)(s,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-2xl font-black text-white",children:e.value})]}),(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-0.5",children:e.sub})]},e.label)})})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border-b border-[#024d30] px-8 py-4 flex flex-wrap gap-3 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1.5",children:"Product"}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none min-w-[180px]",children:[(0,t.jsx)("option",{value:"all",children:"All Products"}),ts.map(e=>(0,t.jsx)("option",{value:e.sku,children:e.name},e.sku))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1.5",children:"Period"}),(0,t.jsx)("div",{className:"flex gap-1",children:["24hours","7days","30days","90days","custom"].map(e=>(0,t.jsx)("button",{onClick:()=>l(e),className:`px-3 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${a===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 border border-[#024d30] text-slate-400 hover:text-white"}`,children:"24hours"===e?"24H":"7days"===e?"Weekly":"30days"===e?"Monthly":"90days"===e?"Quarterly":"Custom"},e))})]}),"custom"===a&&(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1.5",children:"From"}),(0,t.jsx)("input",{type:"date",value:r,onChange:e=>i(e.target.value),className:"bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1.5",children:"To"}),(0,t.jsx)("input",{type:"date",value:n,onChange:e=>o(e.target.value),className:"bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]})]}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2 px-4 py-2 bg-[#39FF14]/10 border border-[#39FF14]/20 rounded-xl",children:[(0,t.jsx)(f.default,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-[#39FF14] text-xs font-black",children:"custom"===a?r&&n?`${r} → ${n}`:"Select dates":tr[a]})]})]}),(0,t.jsxs)("div",{className:"p-6 lg:p-8 space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-white font-black text-lg mb-4 flex items-center gap-2",children:[(0,t.jsx)(eA.Package,{className:"w-5 h-5 text-[#39FF14]"})," Platform Performance"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:w.map(e=>{let s=e.icon,a=Math.max(...w.map(e=>e.messages),1),l=e.messages/a*100;return(0,t.jsxs)("div",{onClick:()=>c(d===e.sku?"all":e.sku),className:`bg-[#012419]/80 border rounded-2xl p-5 cursor-pointer transition-all hover:scale-[1.01] ${d===e.sku?"border-[#39FF14]/60 shadow-lg shadow-[#39FF14]/10":"border-[#024d30] hover:border-[#39FF14]/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"p-2 rounded-xl",style:{backgroundColor:`${e.color}20`},children:(0,t.jsx)(s,{className:"w-4 h-4",style:{color:e.color}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-black text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:e.category})]})]}),(0,t.jsx)("span",{className:"text-[#39FF14] font-black text-sm",children:tn(e.revenue)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"bg-[#024d30]/30 rounded-xl p-2.5",children:[(0,t.jsx)("p",{className:"text-slate-500 text-[10px] uppercase tracking-wider mb-1",children:"Messages"}),(0,t.jsx)("p",{className:"text-white font-black text-base",children:ti(e.messages)})]}),(0,t.jsxs)("div",{className:"bg-[#024d30]/30 rounded-xl p-2.5",children:[(0,t.jsx)("p",{className:"text-slate-500 text-[10px] uppercase tracking-wider mb-1",children:"Delivery"}),(0,t.jsxs)("p",{className:"font-black text-base",style:{color:e.deliveryRate>=99?"#39FF14":"#f59e0b"},children:[e.deliveryRate,"%"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Volume share"}),(0,t.jsxs)("span",{className:"text-slate-400",children:[l.toFixed(0),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full transition-all duration-700",style:{width:`${l}%`,backgroundColor:e.color}})})]})]},e.sku)})})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-[#024d30] flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-white font-black text-base flex items-center gap-2",children:[(0,t.jsx)(e7.BarChart3,{className:"w-5 h-5 text-[#39FF14]"})," Detailed Breakdown"]}),(0,t.jsx)("span",{className:"text-slate-500 text-xs",children:tr[a]||"Custom Range"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-[#024d30]",children:["Platform","Category","Messages","Delivery Rate","Revenue","Cost/Msg"].map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-5 text-[10px] font-black uppercase tracking-widest text-slate-500",children:e},e))})}),(0,t.jsxs)("tbody",{className:"divide-y divide-[#024d30]",children:[w.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#024d30]/20 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-white font-bold text-sm",children:e.name})]})}),(0,t.jsx)("td",{className:"py-4 px-5 text-slate-400 text-sm",children:e.category}),(0,t.jsx)("td",{className:"py-4 px-5 text-white font-semibold text-sm",children:ti(e.messages)}),(0,t.jsx)("td",{className:"py-4 px-5",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-black text-sm",style:{color:e.deliveryRate>=99?"#39FF14":"#f59e0b"},children:[e.deliveryRate,"%"]}),(0,t.jsx)("div",{className:"flex-1 bg-slate-900 rounded-full h-1.5 min-w-[60px]",children:(0,t.jsx)("div",{className:"h-1.5 rounded-full",style:{width:`${e.deliveryRate}%`,backgroundColor:e.deliveryRate>=99?"#39FF14":"#f59e0b"}})})]})}),(0,t.jsx)("td",{className:"py-4 px-5 text-[#39FF14] font-black text-sm",children:tn(e.revenue)}),(0,t.jsxs)("td",{className:"py-4 px-5 text-slate-400 text-sm",children:["RM ",(e.revenue/Math.max(1,e.messages)).toFixed(4)]})]},e.sku)),(0,t.jsxs)("tr",{className:"border-t-2 border-[#024d30] bg-[#024d30]/20",children:[(0,t.jsx)("td",{className:"py-4 px-5 text-white font-black text-sm",colSpan:2,children:"TOTAL"}),(0,t.jsx)("td",{className:"py-4 px-5 text-white font-black text-sm",children:ti(_)}),(0,t.jsxs)("td",{className:"py-4 px-5 text-[#39FF14] font-black text-sm",children:[k,"%"]}),(0,t.jsx)("td",{className:"py-4 px-5 text-[#39FF14] font-black text-sm",children:tn(F)}),(0,t.jsxs)("td",{className:"py-4 px-5 text-slate-400 text-sm",children:["RM ",(F/Math.max(1,_)).toFixed(4)]})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-5 h-5 text-[#39FF14]"})," Weekly Breakdown"]}),(0,t.jsx)("div",{className:"space-y-3",children:C.map((e,s)=>{let a=Math.max(...C.map(e=>e.messages),1),l=e.messages/a*100;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1.5",children:[(0,t.jsx)("span",{className:"text-slate-300 font-semibold",children:e.week}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("span",{className:"text-slate-400",children:ti(e.messages)}),(0,t.jsx)("span",{className:"text-[#39FF14] font-black",children:tn(e.revenue)})]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] h-2 rounded-full transition-all duration-700",style:{width:`${l}%`}})})]},s)})})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(eE.TrendingUp,{className:"w-5 h-5 text-[#39FF14]"})," Monthly Breakdown"]}),(0,t.jsx)("div",{className:"space-y-3",children:S.map((e,s)=>{let a=Math.max(...S.map(e=>e.messages),1),l=e.messages/a*100;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1.5",children:[(0,t.jsx)("span",{className:"text-slate-300 font-semibold",children:e.month}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("span",{className:"text-slate-400",children:ti(e.messages)}),(0,t.jsx)("span",{className:"text-[#39FF14] font-black",children:tn(e.revenue)})]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] h-2 rounded-full transition-all duration-700",style:{width:`${l}%`}})})]},s)})})]})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(er.default,{className:"w-5 h-5 text-[#39FF14]"})," Revenue by Platform"]}),(0,t.jsx)("div",{className:"space-y-3",children:[...w].sort((e,t)=>t.revenue-e.revenue).map(e=>{let s=Math.max(...w.map(e=>e.revenue),1),a=e.revenue/s*100;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1.5",children:[(0,t.jsx)("span",{className:"text-slate-300 font-semibold",children:e.name}),(0,t.jsx)("span",{className:"text-[#39FF14] font-black",children:tn(e.revenue)})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-700",style:{width:`${a}%`,backgroundColor:e.color}})})]},e.sku)})})]})]})]})}var td=e.i(87951),e2=e2,x=x,v=v,p=p,tc=e.i(61839),tc=tc;function tx(){let[e,a]=(0,s.useState)(""),[l,r]=(0,s.useState)("all"),[i,n]=(0,s.useState)(null),[o,d]=(0,s.useState)(!1),c=(0,s.useRef)(null),m=(0,s.useRef)(null),[h,u]=(0,s.useState)([{id:"1",type:"voice",title:"Customer Support Call - #12345",date:"2024-12-26 10:30 AM",duration:"5:42",size:"2.8 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"},{id:"2",type:"video",title:"Product Demo Session",date:"2024-12-25 2:15 PM",duration:"12:30",size:"45.6 MB",status:"available",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{id:"3",type:"voice",title:"Sales Call - Lead Qualification",date:"2024-12-25 11:00 AM",duration:"8:15",size:"4.2 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"},{id:"4",type:"video",title:"Team Meeting Recording",date:"2024-12-24 3:00 PM",duration:"45:20",size:"156.3 MB",status:"available",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},{id:"5",type:"voice",title:"Technical Support Call",date:"2024-12-24 9:45 AM",duration:"15:30",size:"7.8 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"},{id:"6",type:"video",title:"Webinar - Q4 Review",date:"2024-12-23 1:00 PM",duration:"60:00",size:"210.5 MB",status:"processing"}]),g=h.filter(t=>{let s=t.title.toLowerCase().includes(e.toLowerCase()),a="all"===l||t.type===l;return s&&a});h.length,h.filter(e=>"voice"===e.type).length,h.filter(e=>"video"===e.type).length,h.reduce((e,t)=>e+parseFloat(t.size),0);let b=()=>{n(null),d(!1),c.current&&(c.current.pause(),c.current.currentTime=0),m.current&&(m.current.pause(),m.current.currentTime=0)},f=e=>{if("available"!==e.status)return void alert("This recording is not available for download yet.");if(e.url){let t=document.createElement("a");t.href=e.url,t.download=`${e.title}.${"voice"===e.type?"mp3":"mp4"}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}};return(0,s.useEffect)(()=>{let e=i?.type==="voice"?c.current:m.current;if(e){let t=()=>d(!1),s=()=>d(!0),a=()=>d(!1);return e.addEventListener("ended",t),e.addEventListener("play",s),e.addEventListener("pause",a),()=>{e.removeEventListener("ended",t),e.removeEventListener("play",s),e.removeEventListener("pause",a)}}},[i]),(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419] p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Recordings"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your voice and video recordings"})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search recordings...",value:e,onChange:e=>a(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-lg transition-colors ${"all"===l?"bg-[#39FF14] text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>r("voice"),className:`px-4 py-2 rounded-lg transition-colors ${"voice"===l?"bg-[#39FF14] text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Voice"}),(0,t.jsx)("button",{onClick:()=>r("video"),className:`px-4 py-2 rounded-lg transition-colors ${"video"===l?"bg-[#39FF14] text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Video"})]})]})}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${"voice"===e.type?"bg-green-500/20 text-green-400":"bg-[#39FF14]/20 text-[#39FF14]"}`,children:"voice"===e.type?(0,t.jsx)(eb.Phone,{className:"w-6 h-6"}):(0,t.jsx)(eR.Video,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsx)("span",{children:e.date}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:e.duration}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:e.size})]})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"available":return"bg-green-500/20 text-green-400 border-green-500/30";case"processing":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{"available"!==e.status?alert("This recording is not available for playback yet."):(n(e),d(!0))},disabled:"available"!==e.status,className:`p-2 rounded-lg transition-colors ${"available"===e.status?"bg-[#39FF14]/20/20 hover:bg-[#39FF14]/20/30 text-[#39FF14]":"bg-slate-700/20 text-slate-500 cursor-not-allowed"}`,title:"available"===e.status?"Play recording":"Recording not available",children:(0,t.jsx)(e2.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>f(e),disabled:"available"!==e.status,className:`p-2 rounded-lg transition-colors ${"available"===e.status?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-slate-700/20 text-slate-500 cursor-not-allowed"}`,title:"available"===e.status?"Download recording":"Recording not available",children:(0,t.jsx)(x.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Are you sure you want to delete this recording? This action cannot be undone.")&&(u(h.filter(e=>e.id!==t)),i?.id===t&&b()))},className:"p-2 bg-[#39FF14]/10 hover:bg-[#39FF14]/20 text-[#39FF14] rounded-lg transition-colors",title:"Delete recording",children:(0,t.jsx)(v.default,{className:"w-5 h-5"})})]})]})},e.id))}),0===g.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(td.Mic,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"No recordings found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Try adjusting your search or filter"})]})]}),i&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl mx-4 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:i.title}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:[i.date," • ",i.duration]})]}),(0,t.jsx)("button",{onClick:b,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"p-6",children:["voice"===i.type?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 rounded-xl p-12 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20/20 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(eb.Phone,{className:"w-16 h-16 text-[#39FF14]"})}),(0,t.jsx)("p",{className:"text-white font-medium text-lg",children:"Audio Recording"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-2",children:"Playing voice call"})]})}),(0,t.jsx)("audio",{ref:c,src:i.url,className:"w-full",controls:!0,autoPlay:!0})]}):(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("video",{ref:m,src:i.url,className:"w-full rounded-lg bg-black",controls:!0,autoPlay:!0})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{let e=i?.type==="voice"?c.current:m.current;e&&(o?e.pause():e.play(),d(!o))},className:"p-3 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg transition-colors",children:o?(0,t.jsx)(tc.default,{className:"w-6 h-6"}):(0,t.jsx)(e2.default,{className:"w-6 h-6"})}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded ${"voice"===i.type?"bg-green-500/20 text-green-400":"bg-[#39FF14]/20 text-[#39FF14]"}`,children:"voice"===i.type?"Voice":"Video"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>f(i),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]}),(0,t.jsx)("button",{onClick:b,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Close"})]})]})]})]})})]})}var p=p,tm=e.i(12798),tm=tm,x=x,eI=eI;let th=[{id:"msg-sms",title:"SMS API User Manual",product:"SMS API",category:"Messaging",description:"Complete guide to configuring SMS campaigns, bulk sending, routing, and checking delivery reports.",docType:"user_guide",version:"2.1.0",pages:12,size:"2.4 MB",date:"2026-02-15",downloads:1254,icon:T.MessageSquare,color:"#39FF14",screenshotUrl:"/manual-screenshots/sms.png"},{id:"msg-whatsapp",title:"WhatsApp API Integration Guide",product:"WhatsApp API",category:"Social",description:"Detailed instructions for connecting WhatsApp Business API, managing templates, and handling rich media.",docType:"integration_guide",version:"1.5.0",pages:18,size:"3.1 MB",date:"2026-02-18",downloads:890,icon:T.MessageSquare,color:"#25D366",screenshotUrl:"/manual-screenshots/whatsapp.png"},{id:"msg-rcs",title:"RCS Business Messaging Guide",product:"RCS API",category:"Messaging",description:"Learn how to send rich conversational messages, interactive buttons, and carousels using RCS.",docType:"user_guide",version:"1.0.0",pages:15,size:"2.8 MB",date:"2026-02-10",downloads:543,icon:T.MessageSquare,color:"#6366f1",screenshotUrl:"/manual-screenshots/rcs.png"},{id:"voice-api",title:"Voice API Administration",product:"Voice API",category:"Voice",description:"Admin guide for Voice API programmable calls, IVR configuration, and text-to-speech routing.",docType:"admin_guide",version:"3.0.1",pages:22,size:"4.5 MB",date:"2026-02-05",downloads:756,icon:eb.Phone,color:"#22d3ee",screenshotUrl:"/manual-screenshots/voice.png"},{id:"video-api",title:"Video API Implementation",product:"Video API",category:"Video",description:"Setup high-quality programmable video, WebRTC rooms, recording, and composition layouts.",docType:"integration_guide",version:"1.2.0",pages:14,size:"2.1 MB",date:"2026-01-20",downloads:412,icon:eR.Video,color:"#fb7185",screenshotUrl:"/manual-screenshots/video.png"},{id:"email-api",title:"Email API Setup & Delivery",product:"Email API",category:"Messaging",description:"Configure SMTP, domain authentication (SPF/DKIM), and manage high-volume transactional emails.",docType:"user_guide",version:"2.5.0",pages:16,size:"1.9 MB",date:"2026-02-12",downloads:1120,icon:b.Mail,color:"#f59e0b",screenshotUrl:"/manual-screenshots/email.png"},{id:"sip-trunk",title:"SIP Trunking Architecture",product:"SIP Trunk",category:"Voice",description:"Enterprise guide for configuring PBX connections, signaling security, and active call management.",docType:"admin_guide",version:"4.1.0",pages:25,size:"5.2 MB",date:"2026-01-15",downloads:654,icon:eb.Phone,color:"#34d399",screenshotUrl:"/manual-screenshots/sip-trunk.png"},{id:"did",title:"DID Numbers Provisioning",product:"DID Numbers",category:"Voice",description:"Manual for purchasing, assigning, and routing local and toll-free Direct Inward Dialing numbers.",docType:"user_guide",version:"1.8.0",pages:10,size:"1.5 MB",date:"2026-02-01",downloads:875,icon:Z.Globe,color:"#fbbf24",screenshotUrl:"/manual-screenshots/did.png"}];function tu(){let[e,a]=(0,s.useState)(""),[l,r]=(0,s.useState)("All"),[i,n]=(0,s.useState)("All"),[d,c]=(0,s.useState)(null),m=th.filter(t=>{let s=t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.product.toLowerCase().includes(e.toLowerCase()),a="All"===l||t.category===l,r="All"===i||t.docType===i;return s&&a&&r});return(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search product manuals...",value:e,onChange:e=>a(e.target.value),className:"w-full bg-[#012419]/80 border border-[#024d30] rounded-xl pl-12 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14] transition-all"}),e&&(0,t.jsx)("button",{onClick:()=>a(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:["All","Messaging","Voice","Video","Social"].map(e=>(0,t.jsx)("button",{onClick:()=>r(e),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${l===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 text-slate-400 border border-[#024d30] hover:text-white"}`,children:"All"===e?"All Products":e},e))}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"All",name:"All Types"},{id:"user_guide",name:"User Guides"},{id:"admin_guide",name:"Admin Guides"},{id:"integration_guide",name:"Integration Guides"}].map(e=>(0,t.jsx)("button",{onClick:()=>n(e.id),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${i===e.id?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/50":"bg-[#024d30]/40 text-slate-400 border border-[#024d30] hover:text-white"}`,children:e.name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black text-white flex items-center gap-3",children:[(0,t.jsx)(tm.default,{className:"w-6 h-6 text-[#39FF14]"})," Product User Manuals"]}),(0,t.jsxs)("p",{className:"text-slate-400 font-medium",children:["Showing ",(0,t.jsx)("span",{className:"text-white",children:m.length})," manuals"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:m.map(e=>{let s=e.icon,a=d===e.id;return(0,t.jsx)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl overflow-hidden hover:border-[#39FF14]/40 transition-all hover:shadow-lg hover:shadow-[#39FF14]/5 flex flex-col group",children:(0,t.jsxs)("div",{className:"p-6 flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl",style:{backgroundColor:`${e.color}20`},children:(0,t.jsx)(s,{className:"w-6 h-6",style:{color:e.color}})}),(0,t.jsx)("span",{className:`px-2.5 py-1 rounded text-[10px] font-black uppercase tracking-widest border ${(e=>{switch(e){case"user_guide":return"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/30";case"admin_guide":return"bg-cyan-500/10 text-cyan-400 border-cyan-500/30";case"integration_guide":return"bg-purple-500/10 text-purple-400 border-purple-500/30";default:return"bg-slate-500/10 text-slate-400 border-slate-500/30"}})(e.docType)}`,children:e.docType.replace("_"," ")})]}),(0,t.jsx)("h3",{className:"text-xl font-black text-white mb-2 group-hover:text-[#39FF14] transition-colors",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(eI.default,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-300",children:e.product})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-6 flex-1",children:e.description}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs font-semibold text-slate-500 mb-6 bg-[#024d30]/20 p-4 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4 text-slate-400"})," ",e.pages," Pages"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eA.Package,{className:"w-4 h-4 text-slate-400"})," ",e.size]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4 text-slate-400"})," v",e.version]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(x.default,{className:"w-4 h-4 text-slate-400"})," ",e.downloads]})]}),(0,t.jsxs)("button",{onClick:()=>{let t,s,a,l;return c(e.id),t=new Date().toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"}),s=new Blob([`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${e.title} - PDF Manual</title>
  <style>
    * { box-sizing: border-box; }
    body { font-family: 'Inter', Arial, sans-serif; margin: 0; padding: 40px; color: #1f2937; line-height: 1.6; }
    .header { border-bottom: 2px solid #e5e7eb; padding-bottom: 20px; margin-bottom: 30px; }
    h1 { color: #111827; font-size: 32px; margin: 0 0 10px 0; }
    .meta { color: #6b7280; font-size: 14px; display: flex; gap: 20px; }
    h2 { font-size: 20px; color: #374151; margin-top: 40px; border-bottom: 1px solid #f3f4f6; padding-bottom: 10px; }
    p { font-size: 15px; color: #4b5563; }
    .screenshot { width: 100%; border-radius: 12px; border: 1px solid #e5e7eb; margin: 20px 0; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
    .footer { margin-top: 60px; padding-top: 20px; border-top: 1px solid #e5e7eb; text-align: center; color: #9ca3af; font-size: 12px; }
    .badge { display: inline-block; padding: 4px 10px; background: #f3f4f6; border-radius: 4px; font-weight: 600; font-size: 12px; color: #4b5563; }
    .info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; background: #f9fafb; padding: 20px; border-radius: 8px; margin-bottom: 30px; }
    .info-item label { display: block; font-size: 12px; color: #6b7280; font-weight: bold; text-transform: uppercase; margin-bottom: 4px; }
    .info-item span { font-size: 15px; color: #111827; font-weight: 500; }
  </style>
</head>
<body>
  <div class="header">
    <h1>${e.title}</h1>
    <div class="meta">
      <span><strong>Product:</strong> ${e.product}</span>
      <span><strong>Generated:</strong> ${t}</span>
    </div>
  </div>

  <div class="info-grid">
    <div class="info-item"><label>Document Type</label><span>${e.docType.replace("_"," ").toUpperCase()}</span></div>
    <div class="info-item"><label>Platform Version</label><span>v${e.version}</span></div>
    <div class="info-item"><label>Category</label><span>${e.category}</span></div>
    <div class="info-item"><label>Target Audience</label><span>System Administrators & Developers</span></div>
  </div>

  <h2>1. Overview</h2>
  <p>${e.description}</p>
  <p>This document serves as the official configuration and administration guide for ${e.product}, detailing the primary interface, features, and setup flow within the CPaaS Platform.</p>

  <h2>2. Dashboard & Configuration Interface</h2>
  <p>Below is the authenticated view of the ${e.product} configuration screen. From this interface, you can manage active connections, view usage analytics, and configure routing policies.</p>
  
  <img src="${window.location.origin}${e.screenshotUrl}" class="screenshot" alt="${e.product} Configuration Screenshot" onerror="this.src='https://placehold.co/1200x800/f3f4f6/a1a1aa?text=Screenshot+Pending...'"/>
  
  <h2>3. Key Administration Tasks</h2>
  <ul>
    <li><strong>Provisioning:</strong> Ensure your tenant has sufficient balance before activating new channels.</li>
    <li><strong>Webhooks:</strong> Set up delivery receipt endpoints in the settings menu to receive real-time status updates.</li>
    <li><strong>Access Management:</strong> Use the API Keys section to generate dedicated tokens for this specific product.</li>
  </ul>

  <div class="footer">
    CPaaS Documentation Center &mdash; &copy; ${new Date().getFullYear()} Maxis Communications. All rights reserved.
  </div>
</body>
</html>`],{type:"text/html"}),a=URL.createObjectURL(s),void((l=window.open(a,"_blank"))?l.onload=()=>{setTimeout(()=>{l.print(),c(null)},800)}:(alert("Please allow pop-ups to export the PDF manual"),c(null)))},disabled:!!d,className:"w-full bg-[#39FF14]/10 hover:bg-[#39FF14] text-[#39FF14] hover:text-black border border-[#39FF14]/50 hover:border-[#39FF14] transition-all px-4 py-3 rounded-xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[a?(0,t.jsx)(ee.Clock,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(x.default,{className:"w-4 h-4"}),a?"Building PDF...":"Download PDF Manual"]})]})},e.id)})}),0===m.length&&(0,t.jsxs)("div",{className:"border border-dashed border-[#024d30] rounded-2xl p-16 text-center",children:[(0,t.jsx)(E.AlertCircle,{className:"w-12 h-12 text-[#39FF14]/50 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-black text-white mb-2",children:"No Manuals Found"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Try adjusting your search criteria."})]})]})]})})}var F=F,e2=e2,et=et,e_=e_,_=_,v=v,A=A,tp=e.i(99219),tp=tp,U=U;let tg=["SMS","WhatsApp","RCS","Voice","Video","Email","SIP Trunk","DID","AI Bot"];function tb(){let[e,a]=(0,s.useState)([{id:"1",name:"SMS API Integration Tests",platform:"SMS",tests:45,passed:43,failed:2,pending:0,lastRun:"2 hours ago",status:"failing"},{id:"2",name:"WhatsApp Message Delivery",platform:"WhatsApp",tests:32,passed:32,failed:0,pending:0,lastRun:"1 hour ago",status:"passing"},{id:"3",name:"RCS Rich Media Tests",platform:"RCS",tests:28,passed:26,failed:0,pending:2,lastRun:"3 hours ago",status:"pending"},{id:"4",name:"Voice Call Quality Tests",platform:"Voice",tests:18,passed:18,failed:0,pending:0,lastRun:"30 minutes ago",status:"passing"},{id:"5",name:"Video Conferencing Tests",platform:"Video",tests:25,passed:0,failed:0,pending:25,lastRun:"Never",status:"pending"}]),[l,r]=(0,s.useState)(new Set),[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)({name:"",platform:"SMS",tests:"10"}),[c,x]=(0,s.useState)("all"),m=(0,s.useRef)(new Map);(0,s.useEffect)(()=>()=>{m.current.forEach(e=>clearTimeout(e))},[]);let h=e.reduce((e,t)=>e+t.tests,0),u=e.reduce((e,t)=>e+t.passed,0),p=e.reduce((e,t)=>e+t.failed,0),g=e.reduce((e,t)=>e+t.pending,0),b=h>0?(u/h*100).toFixed(1):"0.0",f=e.some(e=>"running"===e.status),j="all"===c?e:e.filter(e=>e.status===c);return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 via-[#012419] to-[#012419] border-b border-[#024d30] px-8 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-[#39FF14]/15 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(P.Code,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-black text-white",children:"Feature Validation"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"Automated testing and validation for all platform features"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 bg-[#024d30] hover:bg-[#026040] border border-[#39FF14]/20 text-[#39FF14] px-4 py-2.5 rounded-xl font-black text-sm transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Add Suite"]}),(0,t.jsx)("button",{onClick:()=>{m.current.forEach(e=>clearTimeout(e)),m.current.clear(),a(e=>e.map(e=>({...e,status:"running"}))),e.forEach((e,t)=>{let s=setTimeout(()=>{a(t=>t.map(t=>{if(t.id!==e.id)return t;let s=Math.random()>.85?Math.floor(2*Math.random())+1:0;return{...t,passed:t.tests-s,failed:s,pending:0,lastRun:"Just now",status:s>0?"failing":"passing"}})),m.current.delete(e.id)},1500+400*t);m.current.set(e.id,s)})},disabled:f,className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-2.5 rounded-xl font-black text-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-[#39FF14]/20",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.default,{className:"w-4 h-4 animate-spin"})," Running…"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"})," Run All Tests"]})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4 mt-8",children:[{label:"Total Tests",value:h,sub:"across all suites",icon:P.Code,color:"#39FF14"},{label:"Passed",value:u,sub:`${b}% pass rate`,icon:N.CheckCircle,color:"#39FF14"},{label:"Failed",value:p,sub:p>0?"Requires attention":"All clear",icon:F.default,color:p>0?"#ef4444":"#39FF14"},{label:"Pending",value:g,sub:"Not yet run",icon:ee.Clock,color:"#f59e0b"}].map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)(s,{className:"w-5 h-5",style:{color:e.color}}),(0,t.jsx)("span",{className:"text-3xl font-black text-white",children:e.value})]}),(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-0.5",children:e.sub})]},e.label)})})]}),(0,t.jsxs)("div",{className:"p-6 lg:p-8 space-y-6",children:[p>0&&(0,t.jsxs)("div",{className:"flex items-start gap-3 bg-red-500/10 border border-red-500/20 rounded-xl px-5 py-4",children:[(0,t.jsx)(et.default,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-400 font-black text-sm",children:"Test Failures Detected"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-0.5",children:[p," test",p>1?"s have":" has"," failed. Review before deploying to production."]})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","passing","failing","pending"].map(s=>(0,t.jsx)("button",{onClick:()=>x(s),className:`px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${c===s?"bg-[#39FF14] text-black":"bg-[#024d30]/40 border border-[#024d30] text-slate-400 hover:text-white"}`,children:"all"===s?`All (${e.length})`:`${s} (${e.filter(e=>e.status===s).length})`},s))}),(0,t.jsxs)("div",{className:"space-y-4",children:[j.map(e=>{let s=l.has(e.id),i=e.tests>0?e.passed/e.tests*100:0;return(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl overflow-hidden transition-all hover:border-[#39FF14]/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>{let t;return t=e.id,r(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},children:[(e=>{switch(e){case"passing":return(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14]"});case"failing":return(0,t.jsx)(F.default,{className:"w-5 h-5 text-red-400"});case"pending":return(0,t.jsx)(ee.Clock,{className:"w-5 h-5 text-yellow-400"});case"running":return(0,t.jsx)(U.default,{className:"w-5 h-5 text-[#39FF14] animate-spin"});default:return(0,t.jsx)(ee.Clock,{className:"w-5 h-5 text-slate-400"})}})(e.status),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"text-white font-black text-base",children:e.name}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${{passing:"bg-[#39FF14]/15 text-[#39FF14] border-[#39FF14]/30",failing:"bg-red-500/15 text-red-400 border-red-500/30",pending:"bg-yellow-500/15 text-yellow-400 border-yellow-500/30",running:"bg-[#39FF14]/15 text-[#39FF14] border-[#39FF14]/30"}[e.status]||"bg-slate-500/15 text-slate-400 border-slate-500/30"}`,children:e.status}),(0,t.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-slate-700/50 text-slate-400 border border-slate-700",children:e.platform})]}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-0.5",children:["Last run: ",e.lastRun]})]}),(0,t.jsx)("button",{className:"ml-2 text-slate-500 shrink-0",children:s?(0,t.jsx)(tp.default,{className:"w-4 h-4"}):(0,t.jsx)(A.default,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4 shrink-0",children:[(0,t.jsx)("button",{onClick:()=>{var t;let s,l;return t=e.id,(s=m.current.get(t))&&clearTimeout(s),a(e=>e.map(e=>e.id===t?{...e,status:"running"}:e)),l=setTimeout(()=>{a(e=>e.map(e=>{if(e.id!==t)return e;let s=Math.random()>.8?Math.floor(2*Math.random())+1:0;return{...e,passed:e.tests-s,failed:s,pending:0,lastRun:"Just now",status:s>0?"failing":"passing"}})),m.current.delete(t)},1800+1200*Math.random()),void m.current.set(t,l)},disabled:"running"===e.status,className:"flex items-center gap-1.5 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl font-black text-xs transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"running"===e.status?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.default,{className:"w-3 h-3 animate-spin"})," Running…"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-3 h-3"})," Run"]})}),(0,t.jsx)("button",{onClick:()=>{var t;let s;return t=e.id,void((s=m.current.get(t))&&clearTimeout(s),a(e=>e.map(e=>e.id===t?{...e,passed:0,failed:0,pending:e.tests,lastRun:"Never",status:"pending"}:e)))},disabled:"running"===e.status,className:"p-2 bg-[#024d30]/60 hover:bg-[#024d30] text-slate-400 hover:text-white rounded-xl transition-all disabled:opacity-40",title:"Reset suite",children:(0,t.jsx)(e_.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{var t;let s;return t=e.id,void((s=m.current.get(t))&&clearTimeout(s),m.current.delete(t),a(e=>e.filter(e=>e.id!==t)))},disabled:"running"===e.status,className:"p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl transition-all disabled:opacity-40",title:"Delete suite",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})]}),(0,t.jsxs)("div",{className:"px-5 pb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs mb-1.5",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Progress"}),(0,t.jsxs)("span",{className:"text-white font-bold",children:[i.toFixed(0),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900 rounded-full h-1.5",children:(0,t.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-700 ${e.failed>0?"bg-gradient-to-r from-red-500 to-red-400":"bg-gradient-to-r from-[#39FF14] to-[#32e012]"}`,style:{width:`${i}%`}})})]}),s&&(0,t.jsxs)("div",{className:"border-t border-[#024d30] px-5 py-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Passed",value:e.passed,color:"text-[#39FF14]",bg:"bg-[#39FF14]/10"},{label:"Failed",value:e.failed,color:"text-red-400",bg:"bg-red-500/10"},{label:"Pending",value:e.pending,color:"text-yellow-400",bg:"bg-yellow-500/10"}].map(e=>(0,t.jsxs)("div",{className:`${e.bg} rounded-xl p-3 text-center`,children:[(0,t.jsx)("p",{className:`text-2xl font-black ${e.color}`,children:e.value}),(0,t.jsx)("p",{className:`text-xs font-bold ${e.color} opacity-70 mt-0.5`,children:e.label})]},e.label))}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-3",children:["Total test cases: ",(0,t.jsx)("strong",{className:"text-slate-300",children:e.tests})]})]})]},e.id)}),0===j.length&&(0,t.jsxs)("div",{className:"text-center py-14",children:[(0,t.jsx)(P.Code,{className:"w-12 h-12 text-slate-700 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400 font-bold",children:"No suites match this filter"})]})]})]}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>n(!1),children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h2",{className:"text-white font-black text-lg mb-4",children:"Add Test Suite"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Suite Name *"}),(0,t.jsx)("input",{type:"text",value:o.name,onChange:e=>d(t=>({...t,name:e.target.value})),placeholder:"e.g. Email Delivery Tests",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Platform"}),(0,t.jsx)("select",{value:o.platform,onChange:e=>d(t=>({...t,platform:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:tg.map(e=>(0,t.jsx)("option",{children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Number of Tests"}),(0,t.jsx)("input",{type:"number",min:"1",max:"200",value:o.tests,onChange:e=>d(t=>({...t,tests:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-1",children:[(0,t.jsx)("button",{onClick:()=>n(!1),className:"flex-1 py-2.5 border border-[#024d30] text-slate-400 hover:text-white rounded-xl text-sm font-black",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!o.name.trim())return;let e=Math.max(1,parseInt(o.tests)||10);a(t=>[...t,{id:Date.now().toString(),name:o.name.trim(),platform:o.platform,tests:e,passed:0,failed:0,pending:e,lastRun:"Never",status:"pending"}]),d({name:"",platform:"SMS",tests:"10"}),n(!1)},disabled:!o.name.trim(),className:"flex-1 py-2.5 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm disabled:opacity-40",children:"Add Suite"})]})]})]})})]})}var ew=ew,tf=e.i(17603),tf=tf,e2=e2,r=r,x=x,k=k,p=p,L=L,l=l,tj=e.i(10132),tj=tj,u=u,tv=e.i(26943),tv=tv,tN=e.i(23960),tN=tN,f=f,ty=e.i(88539),ty=ty,e$=e$,tw=e.i(15592),tw=tw,t_=e.i(3665),t_=t_,tF=e.i(6289),tF=tF,tk=e.i(13476),tk=tk,tC=e.i(23616),tS=e.i(77296),tS=tS,tM=e.i(83157),e_=e_,tA=e.i(29130),tA=tA,tI=e.i(73767),tI=tI,tP=e.i(31632),tP=tP,C=C,q=q,tT=e.i(82734),tT=tT,tD=e.i(1195),tD=tD,ew=ew,tR=e.i(55210),tR=tR,tL=e.i(55481),tL=tL,l=l,tE=e.i(94983),k=k,tN=tN,t$=e.i(56217),t$=t$,tt=tt;let tO={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};function tq({roomId:e,onLeave:a}){let{user:r}=(0,Q.useAuth)(),[i,n]=(0,s.useState)(null),[o,d]=(0,s.useState)([]),[c,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(!0),[b,f]=(0,s.useState)(!0),[j,v]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[F,C]=(0,s.useState)(!1),[S,M]=(0,s.useState)(!1),[A,I]=(0,s.useState)([]),[P,T]=(0,s.useState)(""),D=(0,s.useRef)(null),R=(0,s.useRef)(null),L=(0,s.useRef)(new Map),E=(0,s.useRef)(null),$=(0,s.useRef)(!1);(0,s.useEffect)(()=>{O()},[A]);let O=()=>{D.current?.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>($.current||($.current=!0,q()),()=>{ee(),$.current=!1}),[e]);let q=async()=>{if(!r)return;let t=`peer_${Math.random().toString(36).substr(2,9)}`;x(t);let{data:s}=await h.db.from("video_rooms").select("*").eq("room_id",e).single();if(s)n(s),await U(),await V(t,s),z(t);else{let{data:s,error:a}=await h.db.from("video_rooms").insert({room_id:e,host_user_id:r.id,status:"active",started_at:new Date().toISOString()}).select().single();if(s)n(s),await U(),await V(t,s),z(t);else if(a){console.error("Error creating room:",a);let{data:s}=await h.db.from("video_rooms").select("*").eq("room_id",e).single();s&&(n(s),await U(),await V(t,s),z(t))}}},U=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:{echoCancellation:!0,noiseSuppression:!0}});u(e)}catch(e){console.error("Error accessing media devices:",e)}},V=async(e,t)=>{r&&(await h.db.from("video_room_participants").insert({room_uuid:t.id,user_id:r.id,participant_name:r.email?.split("@")[0]||"Guest",peer_id:e,is_host:t.host_user_id===r.id,audio_enabled:!0,video_enabled:!0}),B(t.id))},B=async e=>{let{data:t}=await h.db.from("video_room_participants").select("*").eq("room_uuid",e).is("left_at",null);if(t){let e=t.map(e=>({id:e.id,peerId:e.peer_id,name:e.participant_name,isHost:e.is_host,audioEnabled:e.audio_enabled,videoEnabled:e.video_enabled,screenSharing:e.screen_sharing}));d(e),e.forEach(e=>{e.peerId===c||L.current.has(e.peerId)||G(e.peerId,!0)})}},z=t=>{let s=h.db.channel(`room_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"video_room_signals",filter:`to_peer_id=eq.${t}`},async e=>{await W(e.new)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"video_room_participants"},()=>{i&&B(i.id)}).subscribe();return()=>{s.unsubscribe()}},G=async(e,t)=>{let s=new RTCPeerConnection(tO);if(L.current.set(e,s),m&&m.getTracks().forEach(e=>{s.addTrack(e,m)}),s.ontrack=t=>{d(s=>s.map(s=>s.peerId===e?{...s,stream:t.streams[0]}:s))},s.onicecandidate=async t=>{t.candidate&&await K(e,"ice-candidate",{candidate:t.candidate.toJSON()})},t){let t=await s.createOffer();await s.setLocalDescription(t),await K(e,"offer",{sdp:s.localDescription?.toJSON()})}return s},K=async(e,t,s)=>{i&&await h.db.from("video_room_signals").insert({room_uuid:i.id,from_peer_id:c,to_peer_id:e,signal_type:t,signal_data:"string"==typeof s?s:JSON.stringify(s)})},W=async e=>{let t=e.from_peer_id,s=e.signal_type,a="string"==typeof e.signal_data?JSON.parse(e.signal_data):e.signal_data,l=L.current.get(t);if(l||(l=await G(t,!1)),"offer"===s){await l.setRemoteDescription(new RTCSessionDescription(a.sdp));let e=await l.createAnswer();await l.setLocalDescription(e),await K(t,"answer",{sdp:l.localDescription?.toJSON()})}else"answer"===s?await l.setRemoteDescription(new RTCSessionDescription(a.sdp)):"ice-candidate"===s?await l.addIceCandidate(new RTCIceCandidate(a.candidate)):"chat"===s&&I(e=>[...e,a])},X=async()=>{if(console.log("Attempting to send chat message:",{inputMessage:P,user:!!r,room:!!i}),!P.trim()||!r||!i)return void console.warn("Cannot send message: Missing requirements",{hasInput:!!P.trim(),hasUser:!!r,hasRoom:!!i});let e={id:Math.random().toString(36).substr(2,9),senderId:r.id,senderName:r.email?.split("@")[0]||"Me",text:P.trim(),timestamp:new Date().toISOString()};I(t=>[...t,e]),T(""),o.forEach(t=>{t.peerId!==c&&K(t.peerId,"chat",e)})},H=async()=>{j?await Y():await J()},J=async()=>{try{let e=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0];L.current.forEach(t=>{let s=t.getSenders().find(e=>e.track?.kind==="video");s&&s.replaceTrack(e)}),e.onended=()=>{Y()},v(!0)}catch(e){console.error("Error sharing screen:",e)}},Y=async()=>{if(m){let e=m.getVideoTracks()[0];L.current.forEach(t=>{let s=t.getSenders().find(e=>e.track?.kind==="video");s&&e&&s.replaceTrack(e)})}v(!1)},Z=async()=>{await ee(),a()},ee=async()=>{m&&m.getTracks().forEach(e=>e.stop()),L.current.forEach(e=>e.close()),L.current.clear(),i&&c&&await h.db.from("video_room_participants").update({left_at:new Date().toISOString()}).eq("room_uuid",i.id).eq("peer_id",c)};return(0,t.jsxs)("div",{ref:E,className:"fixed inset-0 bg-[#012419] flex flex-col z-50",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border-b border-slate-800 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:i?.room_name||"Video Conference"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Room: ",e]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>{let t=`${window.location.origin}/video-room/${e}`;navigator.clipboard.writeText(t),M(!0),setTimeout(()=>M(!1),2e3)},className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Link"]})}),(0,t.jsx)("button",{onClick:()=>C(!F),className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors",children:(0,t.jsx)(tE.MessageCircle,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),_(!1)):(E.current?.requestFullscreen(),_(!0))},className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors",children:w?(0,t.jsx)(t$.default,{className:"w-5 h-5"}):(0,t.jsx)(tN.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-1 p-4 grid gap-4",style:{gridTemplateColumns:o.length<=1?"1fr":o.length<=4?"repeat(2, 1fr)":"repeat(3, 1fr)"},children:[(0,t.jsxs)("div",{className:"relative bg-slate-900 rounded-xl overflow-hidden",children:[(0,t.jsx)("video",{ref:R,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,t.jsxs)("p",{className:"text-white text-sm font-medium",children:["You ",i?.host_user_id===r?.id&&"(Host)"]})}),!b&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center",children:(0,t.jsx)(eR.Video,{className:"w-10 h-10 text-slate-400"})})})]}),o.filter(e=>e.peerId!==c).map(e=>(0,t.jsx)(tU,{participant:e},e.id))]}),F&&(0,t.jsxs)("div",{className:"w-80 bg-slate-900 border-l border-slate-800 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:"Chat"}),(0,t.jsx)("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[0===A.length?(0,t.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),(0,t.jsx)("p",{className:"text-sm",children:"No messages yet. Start the conversation!"})]}):A.map(e=>(0,t.jsxs)("div",{className:`flex flex-col ${e.senderId===r?.id?"items-end":"items-start"}`,children:[(0,t.jsxs)("div",{className:`max-w-[85%] rounded-lg p-3 ${e.senderId===r?.id?"bg-[#39FF14] text-white rounded-br-none":"bg-slate-800 text-slate-200 rounded-bl-none"}`,children:[(0,t.jsx)("p",{className:"text-xs font-semibold mb-1 opacity-75",children:e.senderName}),(0,t.jsx)("p",{className:"text-sm",children:e.text})]}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 mt-1",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)),(0,t.jsx)("div",{ref:D})]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),X()},className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:P,onChange:e=>T(e.target.value),placeholder:"Type a message...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("button",{type:"submit",disabled:!P.trim(),className:"bg-[#39FF14] hover:bg-[#32e012] disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition-colors",children:(0,t.jsx)(tt.default,{className:"w-4 h-4"})})]})})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border-t border-slate-800 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{if(m){let e=m.getAudioTracks()[0];e&&(e.enabled=!e.enabled,g(e.enabled))}},className:`p-4 rounded-full transition-colors ${p?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:p?(0,t.jsx)(td.Mic,{className:"w-6 h-6 text-white"}):(0,t.jsx)(tD.default,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("button",{onClick:()=>{if(m){let e=m.getVideoTracks()[0];e&&(e.enabled=!e.enabled,f(e.enabled))}},className:`p-4 rounded-full transition-colors ${b?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:b?(0,t.jsx)(eR.Video,{className:"w-6 h-6 text-white"}):(0,t.jsx)(tT.default,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("button",{onClick:H,className:`p-4 rounded-full transition-colors ${j?"bg-[#39FF14] hover:bg-[#32e012]":"bg-slate-700 hover:bg-slate-600"}`,children:j?(0,t.jsx)(tR.default,{className:"w-6 h-6 text-white"}):(0,t.jsx)(ew.default,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("button",{onClick:Z,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors",children:(0,t.jsx)(tL.default,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2 bg-slate-800 px-4 py-2 rounded-lg",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:o.length+1})]})]})})]})}function tU({participant:e}){let a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{e.stream&&a.current&&(a.current.srcObject=e.stream)},[e.stream]),(0,t.jsxs)("div",{className:"relative bg-slate-900 rounded-xl overflow-hidden",children:[(0,t.jsx)("video",{ref:a,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,t.jsxs)("p",{className:"text-white text-sm font-medium",children:[e.name," ",e.isHost&&"(Host)"]})}),!e.videoEnabled&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center",children:(0,t.jsx)(eR.Video,{className:"w-10 h-10 text-slate-400"})})}),!e.audioEnabled&&(0,t.jsx)("div",{className:"absolute top-4 right-4 bg-red-600 p-2 rounded-lg",children:(0,t.jsx)(tD.default,{className:"w-4 h-4 text-white"})})]})}let tV=[{product_name:"Standard Video API",product_type:"conferencing",industry:"all",description:"Perfect for small teams and simple video integrations.",features:JSON.stringify(["720p HD Video","Up to 10 participants","Chat support","Web SDK access"]),monthly_price:99,per_minute_price:.05,setup_fee:0,max_participants:10,storage_gb:10,api_calls_limit:1e4,has_sdk:!0,has_api:!0},{product_name:"Enterprise Video Suite",product_type:"conferencing",industry:"corporate",description:"High-scale video solutions for large organizations.",features:JSON.stringify(["4K Ultra HD","Up to 1000 participants","White labeling","Advanced Analytics"]),monthly_price:499,per_minute_price:.02,setup_fee:1e3,max_participants:1e3,storage_gb:500,api_calls_limit:5e5,has_sdk:!0,has_api:!0},{product_name:"Telehealth Secure API",product_type:"conferencing",industry:"healthcare",description:"HIPAA compliant video communication for healthcare providers.",features:JSON.stringify(["End-to-end Encryption","Waiting Room","BHR available","DICOM support"]),monthly_price:299,per_minute_price:.08,setup_fee:250,max_participants:4,storage_gb:100,api_calls_limit:5e4,has_sdk:!0,has_api:!0}],tB=[{template_name:"Healthcare Consult",industry:"healthcare",template_type:"conferencing",description:"Secure one-on-one medical consultation room.",features:JSON.stringify(["Encrypted","Waiting Room","File Sharing"]),configuration:JSON.stringify({participant_limit:2,duration:30,recording:!0}),is_premium:!0},{template_name:"Virtual Classroom",industry:"education",template_type:"conferencing",description:"Teacher-led classroom with controls for students.",features:JSON.stringify(["Polls","Raise Hand","Breakout Rooms"]),configuration:JSON.stringify({participant_limit:50,duration:60,recording:!0}),is_premium:!1}],tz=[{capability_name:"HD Video",description:"Crystal clear high-definition video up to 4K resolution.",icon:"Video",is_available:!0,display_order:1,category:"Core"},{capability_name:"Spatial Audio",description:"Immersive 3D audio for realistic conversation feel.",icon:"Mic",is_available:!0,display_order:2,category:"Core"},{capability_name:"Screen Share",description:"Ultra-low latency screen sharing for collaborative work.",icon:"Monitor",is_available:!0,display_order:3,category:"Core"},{capability_name:"Cloud Recording",description:"Safe and encrypted recording of all your video sessions.",icon:"Camera",is_available:!0,display_order:10,category:"Advanced"},{capability_name:"Custom Branding",description:"White-label the interface to match your corporate identity.",icon:"Layout",is_available:!0,display_order:11,category:"Advanced"},{capability_name:"RTMP Streaming",description:"Broadcast sessions to YouTube, Twitch, or custom RTMP targets.",icon:"Radio",is_available:!0,display_order:12,category:"Advanced"},{capability_name:"AI Transcription",description:"Real-time multi-language transcription and closed captioning.",icon:"Languages",is_available:!0,display_order:20,category:"AI"},{capability_name:"Smart Noise Cancellation",description:"Suppress background noise and isolate human voice intelligently.",icon:"Shield",is_available:!0,display_order:21,category:"AI"},{capability_name:"AI Meetings Summary",description:"Generate structured summaries and action items automatically.",icon:"Brain",is_available:!0,display_order:22,category:"AI"},{capability_name:"Auto-Scaling SFU",description:"Highly scalable Selective Forwarding Unit for 1000+ participants.",icon:"Zap",is_available:!0,display_order:30,category:"Infrastructure"},{capability_name:"Global Mesh Network",description:"Lowest possible latency with our worldwide edge network.",icon:"Globe",is_available:!0,display_order:31,category:"Infrastructure"}],tG=[{config_name:"Standard Blur",processing_type:"blur",quality:"high",blur_intensity:50,performance_mode:"balanced",use_gpu_acceleration:!0,is_default:!0,wasm_module_version:"v2.1.0"},{config_name:"Office Background",processing_type:"replacement",quality:"high",performance_mode:"performance",use_gpu_acceleration:!0,is_default:!1,wasm_module_version:"v2.1.0"},{config_name:"Privacy Mode",processing_type:"blur",quality:"medium",blur_intensity:80,performance_mode:"performance",use_gpu_acceleration:!1,is_default:!1,wasm_module_version:"v1.5.0"}],tK=[{config_name:"Standard Noise Removal",ai_model:"rnnoise_standard",noise_suppression_level:70,filter_keyboard_typing:!0,filter_dog_barking:!1,filter_fan_noise:!0,voice_isolation:!0,is_default:!0},{config_name:"Aggressive Filtering",ai_model:"krisp_v2",noise_suppression_level:95,filter_keyboard_typing:!0,filter_dog_barking:!0,filter_fan_noise:!0,voice_isolation:!0,is_default:!1},{config_name:"Low Latency Mode",ai_model:"web_recurrent",noise_suppression_level:40,filter_keyboard_typing:!1,filter_dog_barking:!1,filter_fan_noise:!0,voice_isolation:!1,is_default:!1}],tW=[{config_name:"English (US) Standard",language:"en-US",ai_model:"whisper_base",enable_speaker_diarization:!0,enable_punctuation:!0,enable_translation:!1,word_timestamps:!0,confidence_threshold:.85,is_default:!0},{config_name:"Spanish Live Translate",language:"es-ES",ai_model:"whisper_large",enable_speaker_diarization:!0,enable_punctuation:!0,enable_translation:!0,word_timestamps:!1,confidence_threshold:.9,is_default:!1},{config_name:"Technical Meetings",language:"en-US",ai_model:"deep_gram_nova",enable_speaker_diarization:!0,enable_punctuation:!0,enable_translation:!1,word_timestamps:!0,confidence_threshold:.95,is_default:!1}],tX=[{config_name:"YouTube Live",platform:"youtube",stream_url:"rtmp://a.rtmp.youtube.com/live2",stream_key:"****",video_bitrate_kbps:4500,audio_bitrate_kbps:128,video_codec:"h264",audio_codec:"aac",video_resolution:"1080p",framerate:30,is_active:!0},{config_name:"Twitch Stream",platform:"twitch",stream_url:"rtmp://live.twitch.tv/app",stream_key:"****",video_bitrate_kbps:6e3,audio_bitrate_kbps:160,video_codec:"h264",audio_codec:"aac",video_resolution:"1080p",framerate:60,is_active:!1},{config_name:"Facebook Live",platform:"facebook",stream_url:"rtmps://live-api-s.facebook.com:443/rtmp/",stream_key:"****",video_bitrate_kbps:4e3,audio_bitrate_kbps:128,video_codec:"h264",audio_codec:"aac",video_resolution:"720p",framerate:30,is_active:!1}],tH=[{config_name:"Global CDN Standard",cdn_provider:"cloudfront",latency_mode:"standard_latency",segment_duration_seconds:6,playlist_length_segments:10,enable_adaptive_streaming:!0,max_viewers:1e5,enable_drm:!1,is_active:!0},{config_name:"Low Latency Edge",cdn_provider:"akamai",latency_mode:"low_latency",segment_duration_seconds:2,playlist_length_segments:6,enable_adaptive_streaming:!0,max_viewers:5e4,enable_drm:!0,drm_provider:"widevine",is_active:!1}];function tJ(){let e,a,i,{user:n}=(0,Q.useAuth)(),[c,g]=(0,s.useState)("overview"),[b,j]=(0,s.useState)("all"),[v,w]=(0,s.useState)("all"),[_,F]=(0,s.useState)(""),[S,M]=(0,s.useState)([]),[A,I]=(0,s.useState)([]),[D,R]=(0,s.useState)([]),[E,$]=(0,s.useState)([]),[O,U]=(0,s.useState)([]),[V,B]=(0,s.useState)([]),[z,G]=(0,s.useState)([]),[K,W]=(0,s.useState)([]),[X,H]=(0,s.useState)([]),[J,Y]=(0,s.useState)([]),[et,es]=(0,s.useState)([]),[ea,el]=(0,s.useState)([]),[er,ei]=(0,s.useState)([]),[en,eo]=(0,s.useState)([]),[ed,ec]=(0,s.useState)([]),[ex,em]=(0,s.useState)([]),[eh,eu]=(0,s.useState)([]),[ep,eg]=(0,s.useState)([]),[eb,ef]=(0,s.useState)(!0),[ej,ev]=(0,s.useState)([]),[eN,ey]=(0,s.useState)(!1),[eF,ek]=(0,s.useState)("group_sfu"),[eC,eS]=(0,s.useState)(!0),[eM,eI]=(0,s.useState)(!0),[eT,eD]=(0,s.useState)(!1),[eL,eE]=(0,s.useState)(null),[eO,eq]=(0,s.useState)(!1),[eU,eV]=(0,s.useState)(null),[eB,ez]=(0,s.useState)(null),[eG,eK]=(0,s.useState)(null),[eW,eX]=(0,s.useState)(!1),[eH,eJ]=(0,s.useState)(null),[eY,eQ]=(0,s.useState)(!1),[eZ,e0]=(0,s.useState)([]),[e4,e1]=(0,s.useState)(""),[e3,e5]=(0,s.useState)(""),[e9,e6]=(0,s.useState)(""),[e8,te]=(0,s.useState)(""),[tt,ts]=(0,s.useState)(""),[ta,tl]=(0,s.useState)(!0),[tr,ti]=(0,s.useState)(!1),[tn,to]=(0,s.useState)(null),[tc,tx]=(0,s.useState)({blur:!0,noise:!0,transcription:!0}),[tm,th]=(0,s.useState)(!1),[tu,tp]=(0,s.useState)(0),tg=e=>{tx(t=>({...t,[e]:!t[e]}))};(0,s.useEffect)(()=>{let e;return tm&&(e=setInterval(()=>{tp(e=>e+1)},1e3)),()=>clearInterval(e)},[tm]);let tb=["all","healthcare","education","finance","retail","corporate","legal","real_estate"];(0,s.useEffect)(()=>{n&&Promise.all([tR(),tL(),tE(),t$(),tO(),tU(),tJ(),tY(),tQ(),tZ(),t0(),t4(),t1(),t2(),t3(),t5(),t9(),t6(),t8(),tT()]).finally(()=>ef(!1))},[n]);let tT=async()=>{let{data:e,error:t}=await h.db.from("video_rooms").select("*").order("started_at",{ascending:!1}).limit(10);!t&&e&&ev(e)},tD=async()=>{if(n){ef(!0);try{for(let e of tV)await h.db.from("video_api_products").insert(e);for(let e of tB)await h.db.from("video_templates").insert(e);for(let e of tz)await h.db.from("video_api_capabilities").insert(e);for(let e of tG)await h.db.from("background_processing_configs").insert(e);for(let e of tK)await h.db.from("noise_cancellation_configs").insert(e);for(let e of tW)await h.db.from("transcription_configs").insert(e);for(let e of tX)await h.db.from("rtmp_broadcast_configs").insert(e);for(let e of tH)await h.db.from("hls_streaming_configs").insert(e);let e=["live","ended","scheduled"];for(let t=0;t<5;t++)await h.db.from("broadcast_sessions").insert({broadcast_name:`Session ${t+1} - ${["Tech Talk","Webinar","Game Stream","Product Launch"][t%4]}`,status:e[t%3],viewer_count:1250*(0===t),peak_viewer_count:1500+100*t,started_at:new Date(Date.now()-36e5*(t+1)).toISOString(),ended_at:t%3==1?new Date().toISOString():null});let t="seed-room-"+Date.now();await h.db.from("video_rooms").insert({id:t,room_name:"Network Test Room",status:"active",created_by:n.id||"system",started_at:new Date().toISOString()});let s="seed-participant-"+Date.now();await h.db.from("video_room_participants").insert({id:s,room_uuid:t,participant_name:"Test User",peer_id:"peer-"+Date.now(),is_host:!0,joined_at:new Date().toISOString()});for(let e=0;e<20;e++)await h.db.from("network_quality_metrics").insert({room_uuid:t,participant_uuid:s,bitrate_kbps:1500+2e3*Math.random(),latency_ms:20+50*Math.random(),jitter_ms:10*Math.random(),packet_loss_percentage:Math.random(),resolution:"1080p",framerate:60,measured_at:new Date(Date.now()-6e4*e).toISOString(),quality_rating:["excellent","good","fair"][e%3],quality_score:85+Math.floor(15*Math.random()),round_trip_time_ms:40+20*Math.random(),bandwidth_mbps:5+10*Math.random(),current_resolution:"1920x1080"});for(let e=0;e<15;e++)await h.db.from("ai_processing_analytics").insert({processing_type:["blur","noise_cancellation","transcription"][e%3],total_processing_time_seconds:120+10*e,cpu_usage_percentage:15+20*Math.random(),gpu_usage_percentage:30+40*Math.random(),frames_processed:5e3+1e3*e,error_count:Math.floor(3*Math.random()),quality_score:90+Math.floor(10*Math.random()),created_at:new Date(Date.now()-864e5*e).toISOString()});let{data:a}=await h.db.from("video_api_products").select("*").limit(1);a&&a.length>0&&await h.db.from("video_api_purchases").insert({user_id:n.id,product_id:a[0].id,api_key:`vapi_sample_${Math.random().toString(36).substr(2,9)}`,sdk_access_token:`vsdk_sample_${Math.random().toString(36).substr(2,9)}`,status:"active",usage_minutes:1250,storage_used_gb:4.5,api_calls_used:850}),eV({type:"success",message:"Successfully seeded sample video data!"}),setTimeout(()=>window.location.reload(),1500)}catch(e){console.error("Error seeding video data:",e),eV({type:"error",message:"Failed to seed: "+e.message})}finally{ef(!1)}}};(0,s.useEffect)(()=>{if(eU){let e=setTimeout(()=>eV(null),5e3);return()=>clearTimeout(e)}},[eU]),(0,s.useEffect)(()=>{if(eB){let e=setTimeout(()=>ez(null),2e3);return()=>clearTimeout(e)}},[eB]);let tR=async()=>{let{data:e,error:t}=await h.db.from("video_api_products").select("*").eq("is_available",!0).order("monthly_price");!t&&e&&M(e.map(e=>({...e,features:"string"==typeof e.features?JSON.parse(e.features):e.features||[]})))},tL=async()=>{if(!n)return;let{data:e}=await h.db.from("video_api_products").select("*"),{data:t,error:s}=await h.db.from("video_api_purchases").select("*").eq("user_id",n.id).order("purchased_at",{ascending:!1});!s&&t&&I(t.map(t=>{let s=t.product||(e||[]).find(e=>e.id===t.product_id);return{...t,product:s||{product_name:"Unknown API",industry:"unknown",api_calls_limit:0,storage_gb:0,max_participants:0}}}))},tE=async()=>{let{data:e,error:t}=await h.db.from("video_templates").select("*").order("template_name");!t&&e&&R(e.map(e=>({...e,features:"string"==typeof e.features?JSON.parse(e.features):e.features||[],configuration:"string"==typeof e.configuration?JSON.parse(e.configuration):e.configuration||{}})))},t$=async()=>{if(!n)return;let{data:e,error:t}=await h.db.from("meeting_ai_configurations").select("*").eq("user_id",n.id).order("is_default",{ascending:!1});if(!t&&e){e0(e);let t=e.find(e=>e.is_default);t&&e1(t.id)}},tO=async()=>{let{data:e,error:t}=await h.db.from("video_api_capabilities").select("*").eq("is_available",!0).order("display_order");!t&&e&&$(e)},tU=async()=>{let{data:e,error:t}=await h.db.from("video_recordings").select("*, recording_analytics(*)").order("started_at",{ascending:!1}).limit(50);!t&&e&&U(e)},tJ=async()=>{let{data:e,error:t}=await h.db.from("video_recording_configs").select("*").order("is_default",{ascending:!1});!t&&e&&B(e)},tY=async()=>{let{data:e,error:t}=await h.db.from("cloud_storage_configs").select("*").order("is_default",{ascending:!1});!t&&e&&G(e)},tQ=async()=>{let{data:e,error:t}=await h.db.from("network_quality_metrics").select("*, video_call_participants(*)").order("measured_at",{ascending:!1}).limit(100);!t&&e&&W(e)},tZ=async()=>{let{data:e,error:t}=await h.db.from("adaptive_bitrate_configs").select("*").order("created_at",{ascending:!1});!t&&e&&H(e)},t0=async()=>{let{data:e,error:t}=await h.db.from("simulcast_configs").select("*").order("is_default",{ascending:!1});!t&&e&&Y(e)},t4=async()=>{let{data:e,error:t}=await h.db.from("background_processing_configs").select("*").order("is_default",{ascending:!1});!t&&e&&es(e)},t1=async()=>{let{data:e,error:t}=await h.db.from("virtual_backgrounds").select("*").eq("is_active",!0).order("category",{ascending:!0});!t&&e&&el(e)},t2=async()=>{let{data:e,error:t}=await h.db.from("noise_cancellation_configs").select("*").order("is_default",{ascending:!1});!t&&e&&ei(e)},t3=async()=>{let{data:e,error:t}=await h.db.from("transcription_configs").select("*").order("is_default",{ascending:!1});!t&&e&&eo(e)},t5=async()=>{let{data:e,error:t}=await h.db.from("rtmp_broadcast_configs").select("*").order("created_at",{ascending:!1});!t&&e&&ec(e)},t9=async()=>{let{data:e,error:t}=await h.db.from("hls_streaming_configs").select("*").order("created_at",{ascending:!1});!t&&e&&em(e)},t6=async()=>{let{data:e,error:t}=await h.db.from("broadcast_sessions").select("*").order("created_at",{ascending:!1}).limit(20);!t&&e&&eu(e)},t8=async()=>{let{data:e,error:t}=await h.db.from("ai_processing_analytics").select("*").order("created_at",{ascending:!1}).limit(50);!t&&e&&eg(e)},t7=async()=>{if(!n||!e3||!e9||!e8)return void eV({type:"error",message:"Please fill in all required fields"});try{let e=new Date(`${e9}T${e8}`),t=`room_${Math.random().toString(36).substr(2,9)}`,s=`${window.location.origin}/video/${t}`,a=eZ.find(e=>e.id===e4),l=tt.split(",").map(e=>e.trim()).filter(e=>e),{data:r,error:i}=await h.db.from("meetings").insert({host_user_id:n.id,meeting_title:e3,meeting_description:"Scheduled video meeting with AI features",meeting_type:"video_conference",scheduled_start_time:e.toISOString(),scheduled_end_time:new Date(e.getTime()+36e5).toISOString(),room_id:t,room_url:s,meeting_link:s,max_participants:100,enable_transcription:a?.enable_transcription||ta,enable_recording:a?.enable_recording||!1,enable_ai_summary:a?.enable_ai_insights||!1,enable_action_items:a?.enable_action_items||!1,enable_sentiment_analysis:a?.enable_sentiment_analysis||!1,transcription_language:a?.transcription_language||"en",participant_emails:l,status:"scheduled",allow_screen_share:!0,allow_chat:!0}).select().single();if(i)throw i;e4&&r&&await h.db.from("meeting_ai_configuration_links").insert({meeting_id:r.id,configuration_id:e4}),eV({type:"success",message:"Meeting scheduled successfully!"}),eQ(!1),e5(""),e6(""),te(""),ts("")}catch(e){console.error("Error scheduling meeting:",e),eV({type:"error",message:"Failed to schedule meeting. Please try again."})}},se=async()=>{if(eL&&n){eq(!0);try{let e=`vapi_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,t=`vsdk_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,s=new Date;s.setFullYear(s.getFullYear()+1);let a=Number(eL.setup_fee||0)+Number(eL.monthly_price||0),l={product_id:eL.id,product_name:eL.product_name,product_type:eL.product_type,description:eL.description,monthly_price:eL.monthly_price,setup_fee:eL.setup_fee},{error:r}=await h.db.from("cart_items").insert({user_id:n.id,item_type:"video_api",item_data:l,quantity:1,unit_price:a,total_price:a});if(r)throw console.error("Cart error:",r),Error("Failed to add to cart");let{error:i}=await h.db.from("video_api_purchases").insert({user_id:n.id,product_id:eL.id,api_key:e,sdk_access_token:t,status:"active",expires_at:s.toISOString(),usage_minutes:0,storage_used_gb:0,api_calls_used:0});if(i)throw console.error("Purchase error:",i),Error("Failed to activate API");eV({type:"success",message:`${eL.product_name} purchased and activated! Check My APIs tab.`}),await tL(),g("my-apis")}catch(e){console.error("Purchase failed:",e),eV({type:"error",message:e.message||"Purchase failed. Please try again."})}finally{eq(!1),eE(null)}}},st=(e,t)=>{navigator.clipboard.writeText(e),ez(t)},ss=async e=>{if(n){eX(!0);try{let t=`room_${Math.random().toString(36).substr(2,9)}`,s=`${window.location.origin}/video/${t}`,{data:a,error:l}=await h.db.from("video_rooms").insert({room_id:t,host_user_id:n.id,template_id:e.id,room_name:e.template_name,room_type:e.template_type,max_participants:e.configuration.participant_limit,duration_minutes:e.configuration.duration,recording_enabled:e.configuration.recording,screen_sharing_enabled:!0,whiteboard_enabled:!0,chat_enabled:!0,status:"active",started_at:new Date().toISOString()});if(l)throw l;let r={id:a.id,sessionUrl:s,roomId:t,participants:0};eK({template:e,session:r}),eV({type:"success",message:"Video session created successfully!"})}catch(e){console.error("Error creating room:",e),eV({type:"error",message:"Failed to create video session. Please try again."})}finally{eX(!1)}}},sa=e=>{eJ(e),eK(null)},sl=S.filter(e=>{let t="all"===b||e.industry===b,s="all"===v||e.product_type===v,a=e.product_name.toLowerCase().includes(_.toLowerCase())||e.description?.toLowerCase().includes(_.toLowerCase());return t&&s&&a}),sr=D.filter(e=>{let t="all"===b||e.industry===b,s=e.template_name.toLowerCase().includes(_.toLowerCase())||e.description?.toLowerCase().includes(_.toLowerCase());return t&&s}),si=e=>({healthcare:"bg-red-500/20 text-red-400 border-red-500/30",education:"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/30",finance:"bg-green-500/20 text-green-400 border-green-500/30",retail:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",corporate:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",legal:"bg-slate-500/20 text-slate-400 border-slate-500/30",real_estate:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30"})[e]||"bg-slate-500/20 text-slate-400 border-slate-500/30";return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>g("overview"),className:`px-6 py-2 rounded-lg transition-colors ${"overview"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Overview"}),(0,t.jsx)("button",{onClick:()=>g("marketplace"),className:`px-6 py-2 rounded-lg transition-colors ${"marketplace"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Marketplace"}),(0,t.jsx)("button",{onClick:()=>g("my-apis"),className:`px-6 py-2 rounded-lg transition-colors ${"my-apis"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"My APIs"}),(0,t.jsx)("button",{onClick:()=>g("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsx)("button",{onClick:()=>g("capabilities"),className:`px-6 py-2 rounded-lg transition-colors ${"capabilities"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Capabilities"}),(0,t.jsx)("button",{onClick:()=>g("sdks"),className:`px-6 py-2 rounded-lg transition-colors ${"sdks"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"SDKs"}),(0,t.jsx)("button",{onClick:()=>g("recordings"),className:`px-6 py-2 rounded-lg transition-colors ${"recordings"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Recordings"}),(0,t.jsx)("button",{onClick:()=>g("network"),className:`px-6 py-2 rounded-lg transition-colors ${"network"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Network Quality"}),(0,t.jsx)("button",{onClick:()=>g("ai-processing"),className:`px-6 py-2 rounded-lg transition-colors ${"ai-processing"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"AI Processing"}),(0,t.jsx)("button",{onClick:()=>g("broadcasting"),className:`px-6 py-2 rounded-lg transition-colors ${"broadcasting"===c?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Broadcasting"})]}),"overview"===c&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Video Platform Overview"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Manage your video meetings and conferences"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>ey(!0),className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-green-500/20",children:[(0,t.jsx)(eR.Video,{className:"w-5 h-5"}),"Start Call Now"]}),(0,t.jsxs)("button",{onClick:()=>eQ(!0),className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-[#39FF14]/20",children:[(0,t.jsx)(f.default,{className:"w-5 h-5"}),"Schedule Meeting",(0,t.jsx)(e$.default,{className:"w-4 h-4"})]}),(0,t.jsxs)("button",{onClick:tD,className:"bg-slate-800 hover:bg-slate-700 text-slate-300 border border-slate-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[(0,t.jsx)(x.default,{className:"w-5 h-5"}),"Load Sample Data"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Active APIs"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:A.filter(e=>"active"===e.status).length})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(eA.Package,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Currently subscribed"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Minutes"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:A.reduce((e,t)=>e+t.usage_minutes,0).toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(ee.Clock,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Video usage this month"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"API Calls"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:A.reduce((e,t)=>e+t.api_calls_used,0).toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(e7.BarChart3,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total API requests"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Storage Used"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[A.reduce((e,t)=>e+Number(t.storage_used_gb),0).toFixed(1)," GB"]})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(ew.default,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Cloud storage"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Recent Video Sessions"}),(0,t.jsx)("button",{onClick:tT,className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(e$.default,{className:"w-5 h-5"})})]}),ej.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700 text-slate-400 text-sm",children:[(0,t.jsx)("th",{className:"py-3 px-4",children:"Room Name"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Room ID"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Type"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Status"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Created At"}),(0,t.jsx)("th",{className:"py-3 px-4 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{children:ej.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-700/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 px-4 font-medium text-white",children:e.room_name||"Untitled Room"}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 font-mono text-xs",children:e.room_id}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-300 capitalize",children:e.room_type||"General"}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===e.status?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-500/20 text-slate-400"}`,children:e.status?e.status.toUpperCase():"UNKNOWN"})}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:new Date(e.started_at).toLocaleString()}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:"active"===e.status&&(0,t.jsx)("button",{onClick:()=>sa(e.room_id),className:"text-[#39FF14] hover:text-[#39FF14] font-medium text-sm transition-colors",children:"Join Room"})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(eR.Video,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),(0,t.jsx)("p",{children:"No active video sessions found."}),(0,t.jsx)("button",{onClick:()=>ey(!0),className:"text-[#39FF14] hover:text-[#39FF14] mt-2 font-medium",children:"Start your first call"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Platform Capabilities"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:eR.Video,title:"Video Conferencing",description:"Real-time HD/4K video conferencing with up to 1000 participants"},{icon:ew.default,title:"Screen Sharing",description:"High-quality screen sharing with annotation and co-browsing"},{icon:tf.default,title:"Recording & Streaming",description:"Cloud recording with auto-transcription and live streaming"},{icon:P.Code,title:"SDK & API Access",description:"Full SDK support and RESTful APIs for custom integration"},{icon:L.default,title:"Low Latency",description:"Ultra-low latency communication for real-time interactions"},{icon:Z.Globe,title:"Global Infrastructure",description:"Worldwide edge network for optimal performance"}].map((e,s)=>{let a=e.icon;return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg w-fit mb-4",children:(0,t.jsx)(a,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]},s)})})]})]}),"marketplace"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search video APIs...",value:_,onChange:e=>F(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("select",{value:b,onChange:e=>j(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:tb.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Industries":e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))}),(0,t.jsx)("select",{value:v,onChange:e=>w(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:["all","conferencing","recording","streaming"].map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Types":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:sl.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:e.product_name}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3 flex-wrap",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${si(e.industry)}`,children:e.industry.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30",children:e.product_type.toUpperCase()})]})]})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Max Participants:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.max_participants})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Storage:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.storage_gb," GB"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"API Calls:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.api_calls_limit.toLocaleString(),"/mo"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[e.has_sdk&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] rounded text-xs",children:[(0,t.jsx)(P.Code,{className:"w-3 h-3"}),"SDK"]}),e.has_api&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:[(0,t.jsx)(r.default,{className:"w-3 h-3"}),"API"]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Monthly:"}),(0,t.jsxs)("span",{className:"text-white text-2xl font-bold",children:["RM ",Number(e.monthly_price).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-baseline mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Per Minute:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(e.per_minute_price).toFixed(4)]})]}),e.setup_fee>0&&(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Setup Fee:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(e.setup_fee).toFixed(2)]})]})]}),(0,t.jsxs)("button",{onClick:()=>eE(e),className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-5 h-5"}),"Purchase API"]})]},e.id))})]}),"my-apis"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"My Video APIs"}),(0,t.jsxs)("button",{onClick:()=>g("marketplace"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-5 h-5"}),"Browse Marketplace"]})]}),0===A.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eA.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No APIs Yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Purchase your first video API to get started"}),(0,t.jsxs)("button",{onClick:()=>g("marketplace"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-5 h-5"}),"Browse Marketplace"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:A.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.product.product_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"suspended":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status.toUpperCase()}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${si(e.product.industry)}`,children:e.product.industry.replace("_"," ").toUpperCase()})]}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Purchased ",new Date(e.purchased_at).toLocaleDateString()]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Usage Minutes"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.usage_minutes.toLocaleString()}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:"of unlimited"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"API Calls"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.api_calls_used.toLocaleString()}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:["of ",e.product.api_calls_limit.toLocaleString(),"/mo"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Storage Used"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[Number(e.storage_used_gb).toFixed(1)," GB"]}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:["of ",e.product.storage_gb," GB"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Max Participants"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.product.max_participants}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:"concurrent"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,t.jsx)(r.default,{className:"w-4 h-4"}),"API Key"]}),(0,t.jsx)("button",{onClick:()=>st(e.api_key,`api_${e.id}`),className:"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-1",children:eB===`api_${e.id}`?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:e.api_key})]}),e.product.has_sdk&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,t.jsx)(P.Code,{className:"w-4 h-4"}),"SDK Access Token"]}),(0,t.jsx)("button",{onClick:()=>st(e.sdk_access_token,`sdk_${e.id}`),className:"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-1",children:eB===`sdk_${e.id}`?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:e.sdk_access_token})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>g("sdks"),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download SDK"]}),(0,t.jsxs)("button",{onClick:()=>window.open("https://docs.videoapi.com","_blank"),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"API Documentation"]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configure"]})]})]})]},e.id))})]}),"templates"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search templates...",value:_,onChange:e=>F(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsx)("select",{value:b,onChange:e=>j(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:tb.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Industries":e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:sr.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.template_name}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3 flex-wrap",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${si(e.industry)}`,children:e.industry.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-[#39FF14]/20/20 text-[#39FF14] border border-[#39FF14]/30",children:e.template_type.toUpperCase()}),e.is_premium&&(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",children:"PREMIUM"})]})]})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-slate-300 text-sm font-medium mb-2",children:"Features:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.features.slice(0,4).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s)),e.features.length>4&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-400 rounded text-xs",children:["+",e.features.length-4," more"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.configuration.duration," mins"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Participants:"}),(0,t.jsxs)("span",{className:"text-white",children:["Up to ",e.configuration.participant_limit]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recording:"}),(0,t.jsx)("span",{className:"text-white",children:e.configuration.recording?"Enabled":"Disabled"})]})]}),(0,t.jsxs)("button",{onClick:()=>ss(e),disabled:eW,className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),eW?"Starting...":"Use Template"]})]},e.id))})]}),"capabilities"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Video Platform Capabilities"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Comprehensive features for enterprise-grade video communications"})]}),["Core","Advanced","AI","Infrastructure"].map(e=>{let s=E.filter(t=>(t.category||"").toLowerCase()===e.toLowerCase());return 0===s.length?null:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:`bg-gradient-to-r ${{Core:"from-[#39FF14]/30 to-[#32e012]/30",Advanced:"from-green-600/30 to-green-500/30",AI:"from-[#39FF14]/40 to-green-400/40",Infrastructure:"from-slate-700/50 to-slate-600/50"}[e]||"from-slate-600 to-slate-700"} p-4 rounded-xl`,children:(0,t.jsxs)("h3",{className:"text-xl font-bold text-white capitalize",children:[e," Capabilities"]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold flex-1",children:e.capability_name}),e.requires_license&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded border border-yellow-500/30",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:(e.supported_platforms||["Web","iOS","Android"]).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s))})]},e.id))})]},e)})]}),"sdks"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Cross-Platform SDKs"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Native libraries for seamless integration across all platforms"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{platform:"iOS SDK",icon:"Smartphone",description:"Native iOS framework with Swift and Objective-C support",version:"3.2.1",size:"45 MB",minVersion:"iOS 13.0+",languages:["Swift","Objective-C"],docs:"https://docs.example.com/ios"},{platform:"Android SDK",icon:"Smartphone",description:"Native Android SDK with Kotlin and Java support",version:"3.2.0",size:"38 MB",minVersion:"Android 8.0+",languages:["Kotlin","Java"],docs:"https://docs.example.com/android"},{platform:"Web SDK (JavaScript)",icon:"Globe",description:"Browser-based WebRTC with React hooks and vanilla JS",version:"3.1.5",size:"12 MB",minVersion:"Modern browsers",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/web"},{platform:"React SDK",icon:"Code",description:"React components and hooks for rapid development",version:"2.5.3",size:"8 MB",minVersion:"React 16.8+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/react"},{platform:"Flutter SDK",icon:"Zap",description:"Cross-platform SDK for Flutter applications",version:"2.1.0",size:"22 MB",minVersion:"Flutter 3.0+",languages:["Dart"],docs:"https://docs.example.com/flutter"},{platform:"Electron SDK",icon:"Monitor",description:"Desktop SDK for Windows, Mac, and Linux",version:"2.0.8",size:"35 MB",minVersion:"Electron 20+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/electron"},{platform:"React Native SDK",icon:"Smartphone",description:"Native mobile SDK for React Native apps",version:"2.4.1",size:"28 MB",minVersion:"RN 0.68+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/react-native"},{platform:"Unity SDK",icon:"Gamepad2",description:"Real-time video for gaming and metaverse",version:"1.8.0",size:"52 MB",minVersion:"Unity 2020.3+",languages:["C#"],docs:"https://docs.example.com/unity"}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-1",children:e.platform}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-2 rounded-lg",children:(0,t.jsx)(P.Code,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Version:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.version})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Size:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.size})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Min Version:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.minVersion})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Languages:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.languages.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{let t,s,a,l;return s=new Blob([(t=e.platform.toLowerCase()).includes("ios")?`// Video SDK for iOS - Version ${e.version}
// Complete Swift SDK with all features

import Foundation
import AVFoundation
import WebRTC

public class VideoSDK {
    public static let shared = VideoSDK()
    private var peerConnection: RTCPeerConnection?
    private var localVideoTrack: RTCVideoTrack?
    private var localAudioTrack: RTCAudioTrack?

    // Initialize SDK with API Key
    public func initialize(apiKey: String) {
        print("Initializing Video SDK with API Key: \\(apiKey)")
        setupPeerConnection()
    }

    // Join a video room
    public func joinRoom(roomId: String, completion: @escaping (Bool) -> Void) {
        print("Joining room: \\(roomId)")
        setupLocalTracks()
        completion(true)
    }

    // Enable/Disable Camera
    public func toggleCamera(enabled: Bool) {
        localVideoTrack?.isEnabled = enabled
    }

    // Enable/Disable Microphone
    public func toggleMicrophone(enabled: Bool) {
        localAudioTrack?.isEnabled = enabled
    }

    // Start Screen Sharing
    public func startScreenShare() {
        print("Starting screen share")
    }

    // Leave Room
    public func leaveRoom() {
        peerConnection?.close()
        print("Left room successfully")
    }

    private func setupPeerConnection() {
        // WebRTC peer connection setup
    }

    private func setupLocalTracks() {
        // Setup video and audio tracks
    }
}

// Example Usage:
// let sdk = VideoSDK.shared
// sdk.initialize(apiKey: "your_api_key")
// sdk.joinRoom(roomId: "room123") { success in
//     print("Joined: \\(success)")
// }`:t.includes("android")?`// Video SDK for Android - Version ${e.version}
// Complete Kotlin SDK with all features

package com.videosdk

import android.content.Context
import org.webrtc.*

class VideoSDK private constructor() {

    companion object {
        val instance: VideoSDK by lazy { VideoSDK() }
    }

    private var peerConnection: PeerConnection? = null
    private var localVideoTrack: VideoTrack? = null
    private var localAudioTrack: AudioTrack? = null
    private var apiKey: String? = null

    // Initialize SDK with API Key
    fun initialize(context: Context, apiKey: String) {
        this.apiKey = apiKey
        println("Initializing Video SDK with API Key: $apiKey")
        setupPeerConnectionFactory(context)
    }

    // Join a video room
    fun joinRoom(roomId: String, callback: (Boolean) -> Unit) {
        println("Joining room: $roomId")
        setupLocalTracks()
        callback(true)
    }

    // Toggle Camera
    fun toggleCamera(enabled: Boolean) {
        localVideoTrack?.setEnabled(enabled)
    }

    // Toggle Microphone
    fun toggleMicrophone(enabled: Boolean) {
        localAudioTrack?.setEnabled(enabled)
    }

    // Start Screen Sharing
    fun startScreenShare() {
        println("Starting screen share")
    }

    // Leave Room
    fun leaveRoom() {
        peerConnection?.close()
        println("Left room successfully")
    }

    private fun setupPeerConnectionFactory(context: Context) {
        // WebRTC peer connection factory setup
    }

    private fun setupLocalTracks() {
        // Setup video and audio tracks
    }
}

// Example Usage:
// val sdk = VideoSDK.instance
// sdk.initialize(context, "your_api_key")
// sdk.joinRoom("room123") { success ->
//     println("Joined: $success")
// }`:t.includes("web")||t.includes("javascript")?`// Video SDK for Web - Version ${e.version}
// Complete JavaScript/TypeScript SDK with all features

class VideoSDK {
  constructor() {
    this.apiKey = null;
    this.localStream = null;
    this.peerConnection = null;
    this.roomId = null;
  }

  // Initialize SDK with API Key
  initialize(apiKey) {
    this.apiKey = apiKey;
    console.log('Initializing Video SDK with API Key:', apiKey);
    return this;
  }

  // Join a video room
  async joinRoom(roomId, options = {}) {
    this.roomId = roomId;
    console.log('Joining room:', roomId);

    try {
      this.localStream = await navigator.mediaDevices.getUserMedia({
        video: options.video !== false,
        audio: options.audio !== false
      });

      await this.setupPeerConnection();
      return { success: true, stream: this.localStream };
    } catch (error) {
      console.error('Error joining room:', error);
      return { success: false, error };
    }
  }

  // Toggle Camera
  toggleCamera(enabled) {
    const videoTracks = this.localStream?.getVideoTracks();
    videoTracks?.forEach(track => track.enabled = enabled);
  }

  // Toggle Microphone
  toggleMicrophone(enabled) {
    const audioTracks = this.localStream?.getAudioTracks();
    audioTracks?.forEach(track => track.enabled = enabled);
  }

  // Start Screen Sharing
  async startScreenShare() {
    try {
      const screenStream = await navigator.mediaDevices.getDisplayMedia({
        video: true
      });
      console.log('Screen sharing started');
      return screenStream;
    } catch (error) {
      console.error('Error starting screen share:', error);
      return null;
    }
  }

  // Leave Room
  leaveRoom() {
    this.localStream?.getTracks().forEach(track => track.stop());
    this.peerConnection?.close();
    console.log('Left room successfully');
  }

  async setupPeerConnection() {
    const configuration = {
      iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]
    };
    this.peerConnection = new RTCPeerConnection(configuration);
  }
}

// Example Usage:
// const sdk = new VideoSDK();
// sdk.initialize('your_api_key');
// const result = await sdk.joinRoom('room123');
// if (result.success) {
//   document.querySelector('#video').srcObject = result.stream;
// }

export default VideoSDK;`:t.includes("react")?`// Video SDK for React - Version ${e.version}
// Complete React SDK with hooks and components

import React, { createContext, useContext, useState, useEffect } from 'react';

// Video SDK Context
const VideoSDKContext = createContext(null);

// Initialize Provider
export function VideoSDKProvider({ apiKey, children }) {
  const [sdk, setSDK] = useState(null);

  useEffect(() => {
    const videoSDK = new VideoSDK();
    videoSDK.initialize(apiKey);
    setSDK(videoSDK);
  }, [apiKey]);

  return (
    <VideoSDKContext.Provider value={sdk}>
      {children}
    </VideoSDKContext.Provider>
  );
}

// useVideoSDK Hook
export function useVideoSDK() {
  const context = useContext(VideoSDKContext);
  if (!context) {
    throw new Error('useVideoSDK must be used within VideoSDKProvider');
  }
  return context;
}

// useVideoRoom Hook
export function useVideoRoom(roomId) {
  const sdk = useVideoSDK();
  const [localStream, setLocalStream] = useState(null);
  const [participants, setParticipants] = useState([]);
  const [isConnected, setIsConnected] = useState(false);

  useEffect(() => {
    if (sdk && roomId) {
      joinRoom();
    }

    return () => {
      if (sdk) {
        sdk.leaveRoom();
      }
    };
  }, [sdk, roomId]);

  const joinRoom = async () => {
    const result = await sdk.joinRoom(roomId);
    if (result.success) {
      setLocalStream(result.stream);
      setIsConnected(true);
    }
  };

  const toggleCamera = (enabled) => {
    sdk.toggleCamera(enabled);
  };

  const toggleMicrophone = (enabled) => {
    sdk.toggleMicrophone(enabled);
  };

  return {
    localStream,
    participants,
    isConnected,
    toggleCamera,
    toggleMicrophone
  };
}

// Video Component
export function VideoView({ stream, muted = false }) {
  const videoRef = React.useRef(null);

  useEffect(() => {
    if (videoRef.current && stream) {
      videoRef.current.srcObject = stream;
    }
  }, [stream]);

  return (
    <video
      ref={videoRef}
      autoPlay
      playsInline
      muted={muted}
      style={{ width: '100%', height: '100%' }}
    />
  );
}

class VideoSDK {
  constructor() {
    this.apiKey = null;
    this.localStream = null;
  }

  initialize(apiKey) {
    this.apiKey = apiKey;
    console.log('Video SDK initialized');
  }

  async joinRoom(roomId) {
    try {
      this.localStream = await navigator.mediaDevices.getUserMedia({
        video: true,
        audio: true
      });
      return { success: true, stream: this.localStream };
    } catch (error) {
      return { success: false, error };
    }
  }

  toggleCamera(enabled) {
    this.localStream?.getVideoTracks().forEach(track => track.enabled = enabled);
  }

  toggleMicrophone(enabled) {
    this.localStream?.getAudioTracks().forEach(track => track.enabled = enabled);
  }

  leaveRoom() {
    this.localStream?.getTracks().forEach(track => track.stop());
  }
}

// Example Usage:
// <VideoSDKProvider apiKey="your_api_key">
//   <YourComponent />
// </VideoSDKProvider>`:t.includes("flutter")?`// Video SDK for Flutter - Version ${e.version}
// Complete Dart SDK with all features

import 'dart:async';
import 'package:flutter/material.dart';
import 'package:flutter_webrtc/flutter_webrtc.dart';

class VideoSDK {
  static final VideoSDK _instance = VideoSDK._internal();
  factory VideoSDK() => _instance;
  VideoSDK._internal();

  String? _apiKey;
  MediaStream? _localStream;
  RTCPeerConnection? _peerConnection;

  // Initialize SDK with API Key
  void initialize(String apiKey) {
    _apiKey = apiKey;
    print('Initializing Video SDK with API Key: $_apiKey');
  }

  // Join a video room
  Future<Map<String, dynamic>> joinRoom(String roomId) async {
    print('Joining room: $roomId');

    try {
      final mediaConstraints = {
        'audio': true,
        'video': {
          'facingMode': 'user'
        }
      };

      _localStream = await navigator.mediaDevices.getUserMedia(mediaConstraints);
      await _setupPeerConnection();

      return {'success': true, 'stream': _localStream};
    } catch (e) {
      print('Error joining room: $e');
      return {'success': false, 'error': e.toString()};
    }
  }

  // Toggle Camera
  void toggleCamera(bool enabled) {
    _localStream?.getVideoTracks().forEach((track) {
      track.enabled = enabled;
    });
  }

  // Toggle Microphone
  void toggleMicrophone(bool enabled) {
    _localStream?.getAudioTracks().forEach((track) {
      track.enabled = enabled;
    });
  }

  // Start Screen Sharing
  Future<MediaStream?> startScreenShare() async {
    try {
      final screenStream = await navigator.mediaDevices.getDisplayMedia({
        'video': true
      });
      print('Screen sharing started');
      return screenStream;
    } catch (e) {
      print('Error starting screen share: $e');
      return null;
    }
  }

  // Leave Room
  void leaveRoom() {
    _localStream?.getTracks().forEach((track) => track.stop());
    _peerConnection?.close();
    print('Left room successfully');
  }

  Future<void> _setupPeerConnection() async {
    final configuration = {
      'iceServers': [
        {'urls': 'stun:stun.l.google.com:19302'}
      ]
    };
    _peerConnection = await createPeerConnection(configuration);
  }
}

// VideoView Widget
class VideoView extends StatefulWidget {
  final MediaStream stream;
  final bool mirror;

  const VideoView({
    Key? key,
    required this.stream,
    this.mirror = false,
  }) : super(key: key);

  @override
  _VideoViewState createState() => _VideoViewState();
}

class _VideoViewState extends State<VideoView> {
  final RTCVideoRenderer _renderer = RTCVideoRenderer();

  @override
  void initState() {
    super.initState();
    _initRenderer();
  }

  void _initRenderer() async {
    await _renderer.initialize();
    _renderer.srcObject = widget.stream;
  }

  @override
  void dispose() {
    _renderer.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return RTCVideoView(
      _renderer,
      mirror: widget.mirror,
      objectFit: RTCVideoViewObjectFit.RTCVideoViewObjectFitCover,
    );
  }
}

// Example Usage:
// final sdk = VideoSDK();
// sdk.initialize('your_api_key');
// final result = await sdk.joinRoom('room123');
// if (result['success']) {
//   // Use VideoView widget to display stream
// }`:`// Video SDK - Version ${e.version}
// Complete SDK with all features for ${e.platform}

Documentation and sample code for ${e.platform}

Features included:
- Real-time video and audio communication
- Screen sharing capabilities
- Recording functionality
- Chat and messaging
- Whiteboard collaboration
- Virtual backgrounds
- Noise suppression
- AI-powered features
- Broadcasting and streaming
- Full API access

Please refer to the documentation at ${e.docs} for complete implementation details.

Installation:
Follow the platform-specific installation guide in the documentation.

Quick Start:
1. Initialize the SDK with your API key
2. Join a room using the room ID
3. Configure video/audio settings
4. Handle participant events
5. Implement UI controls

For complete examples and tutorials, visit our documentation portal.`],{type:"text/plain"}),a=URL.createObjectURL(s),void((l=document.createElement("a")).href=a,l.download=`${e.platform.replace(/\s+/g,"-").toLowerCase()}-v${e.version}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),eV({type:"success",message:`${e.platform} downloaded successfully!`}))},className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]}),(0,t.jsx)("button",{onClick:()=>window.open(e.docs,"_blank"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors",children:(0,t.jsx)(o.FileText,{className:"w-4 h-4"})})]})]},s))}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Quick Start Guides"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"5-Minute Integration",desc:"Get started with basic video calls in minutes"},{title:"API Reference",desc:"Complete API documentation with examples"},{title:"Sample Projects",desc:"Download working examples for each platform"},{title:"Video Tutorials",desc:"Step-by-step video guides and walkthroughs"}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-[#39FF14]/50 transition-all cursor-pointer",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.desc})]},s))})]})]}),"recordings"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Recording Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage, archive, and analyze your video recordings"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Total Recordings"}),(0,t.jsx)(eR.Video,{className:"w-6 h-6 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:O.length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"All time"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Storage Used"}),(0,t.jsx)(eA.Package,{className:"w-6 h-6 text-green-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[O.reduce((e,t)=>e+(t.file_size_mb||0),0).toFixed(2)," GB"]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Across all recordings"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Active Recordings"}),(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:O.filter(e=>"recording"===e.status).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"In progress now"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recording Configurations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:V.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.recording_type.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Quality:"}),(0,t.jsx)("span",{className:"text-white",children:e.video_quality.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Auto-start:"}),(0,t.jsx)("span",{className:"text-white",children:e.auto_start_recording?"Yes":"No"})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Cloud Storage Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:z.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Provider:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.provider.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Bucket:"}),(0,t.jsx)("span",{className:"text-white text-xs truncate",children:e.bucket_name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Region:"}),(0,t.jsx)("span",{className:"text-white",children:e.region})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Auto-upload:"}),(0,t.jsx)("span",{className:"text-white",children:e.auto_upload?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Retention:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.retention_days," days"]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Recordings"}),(0,t.jsx)("div",{className:"space-y-3",children:O.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.recording_name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white ml-2 capitalize",children:e.recording_type.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Size:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.file_size_mb?.toFixed(2)||"N/A"," MB"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[Math.floor(e.duration_seconds/60)," min"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,t.jsx)("span",{className:`ml-2 px-2 py-0.5 rounded text-xs ${"completed"===e.status?"bg-green-500/20 text-green-400":"recording"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"bg-slate-500/20 text-slate-400"}`,children:e.status})]})]})]}),"completed"===e.status&&(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]})]}),e.recording_analytics&&e.recording_analytics.length>0&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700 grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Views:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.recording_analytics[0].view_count})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Downloads:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.recording_analytics[0].download_count})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Unique Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.recording_analytics[0].unique_viewers})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Avg Quality:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.recording_analytics[0].average_quality_score,"/100"]})]})]})]},e.id))})]})]}),"network"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Network Quality Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor and optimize video quality with adaptive streaming"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Excellent Quality"}),(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:K.filter(e=>"excellent"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active connections"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Good Quality"}),(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:K.filter(e=>"good"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active connections"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Fair Quality"}),(0,t.jsx)(L.default,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:K.filter(e=>"fair"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Need optimization"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-rose-500/10 border border-red-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Poor Quality"}),(0,t.jsx)(y.X,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:K.filter(e=>"poor"===e.quality_rating||"critical"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Real-time Network Analysis"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Run a comprehensive diagnostic of your connection quality"})]}),(0,t.jsx)("button",{onClick:()=>{ti(!0),to(null),setTimeout(()=>{to({download:150+50*Math.random(),upload:45+15*Math.random(),jitter:2+5*Math.random()}),ti(!1)},3e3)},disabled:tr,className:`px-4 py-2 rounded-lg flex items-center gap-2 font-medium transition-all ${tr?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-[#39FF14] hover:bg-[#32e012] text-black shadow-lg shadow-[#39FF14]/20"}`,children:tr?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}),"Running Test..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"}),"Run Network Test"]})})]}),(0,t.jsxs)("div",{className:"bg-slate-900/80 rounded-lg p-6 border border-slate-700/50",children:[tn||tr?(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Download Speed"}),(0,t.jsxs)("span",{className:`font-mono font-bold ${tr?"animate-pulse":"text-green-400"}`,children:[tr?"---":tn?.download.toFixed(1)," Mbps"]})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500 transition-all duration-1000 ease-out",style:{width:tr?"100%":`${Math.min((tn?.download||0)/2,100)}%`}})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Upload Speed"}),(0,t.jsxs)("span",{className:`font-mono font-bold ${tr?"animate-pulse":"text-[#39FF14]"}`,children:[tr?"---":tn?.upload.toFixed(1)," Mbps"]})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[#39FF14]/20 transition-all duration-1000 ease-out",style:{width:tr?"100%":`${Math.min((tn?.upload||0)/1,100)}%`}})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Jitter (ms)"}),(0,t.jsxs)("span",{className:`font-mono font-bold ${tr?"animate-pulse":"text-[#39FF14]"}`,children:[tr?"---":tn?.jitter.toFixed(1)," ms"]})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[#39FF14] transition-all duration-1000 ease-out",style:{width:tr?"100%":`${Math.min(10*(tn?.jitter||0),100)}%`}})})]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(m.Activity,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:'Click "Run Network Test" to analyze your connection stability and speed.'})]}),(0,t.jsxs)("div",{className:"mt-8 pt-6 border-t border-slate-700/50",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-400 mb-4",children:"Real-time Latency Monitor"}),(0,t.jsx)("div",{className:"h-32 flex items-end gap-1",children:Array.from({length:40}).map((e,s)=>(0,t.jsx)("div",{className:`flex-1 rounded-t-sm transition-all duration-500 ${tr?"animate-pulse bg-[#39FF14]/50":"bg-slate-700"}`,style:{height:tr?`${20+60*Math.random()}%`:`${20+15*Math.sin(.5*s)+30*Math.random()}%`,opacity:.5+s/40*.5}},s))})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Adaptive Bitrate Configurations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:X.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:e.config_name}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${e.enabled?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.enabled?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Min Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.min_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Target:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.target_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Max Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.max_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Speed:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.adaptation_speed})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Preference:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.quality_preference})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Simulcast Configurations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:J.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded p-3",children:[(0,t.jsx)("p",{className:"text-green-400 font-semibold mb-2",children:"High Quality"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.high_resolution}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[e.high_bitrate_kbps," kbps"]}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.high_framerate})]})]}),(0,t.jsxs)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/30 rounded p-3",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-2",children:"Medium"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.medium_resolution}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[e.medium_bitrate_kbps," kbps"]}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.medium_framerate})]})]}),(0,t.jsxs)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded p-3",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-2",children:"Low"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.low_resolution}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[e.low_bitrate_kbps," kbps"]}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.low_framerate})]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Real-time Network Statistics"}),(0,t.jsx)("div",{className:"space-y-3",children:K.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.video_call_participants?.participant_name||"Unknown Participant"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:new Date(e.measured_at).toLocaleString()})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"excellent"===e.quality_rating?"bg-green-500/20 text-green-400 border border-green-500/30":"good"===e.quality_rating?"bg-[#39FF14]/20/20 text-[#39FF14] border border-[#39FF14]/30":"fair"===e.quality_rating?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:e.quality_rating?.toUpperCase()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Quality Score"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.quality_score,"/100"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Packet Loss"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.packet_loss_percentage?.toFixed(2),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Jitter"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.jitter_ms?.toFixed(1)," ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"RTT"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.round_trip_time_ms?.toFixed(0)," ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Bandwidth"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.bandwidth_mbps?.toFixed(1)," Mbps"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.current_resolution})]})]}),e.adaptive_bitrate_active&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(L.default,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-[#39FF14] font-semibold",children:"Adaptive Bitrate Active"}),(0,t.jsx)("span",{className:"text-slate-400",children:"- Currently streaming at"}),(0,t.jsx)("span",{className:"text-white font-semibold capitalize",children:e.simulcast_layer}),(0,t.jsx)("span",{className:"text-slate-400",children:"quality layer"})]})})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Network Quality Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-[#39FF14]"}),"Adaptive Bitrate Streaming"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Automatically adjusts video quality based on available bandwidth to maintain stable connections"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(ew.default,{className:"w-5 h-5 text-green-400"}),"Simulcast Technology"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Publishers send multiple quality streams simultaneously for optimal viewer experience"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(e7.BarChart3,{className:"w-5 h-5 text-[#39FF14]"}),"Real-time Diagnostics"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Monitor packet loss, jitter, RTT, and bandwidth in real-time for proactive optimization"})]})]})]})]}),"ai-processing"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"AI & Advanced Media Processing"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Client-side AI processing for professional video quality"})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"p-6 border-r border-slate-700/50",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5 text-[#39FF14]"}),"Real-time AI Playground"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${tc.blur?"bg-[#39FF14]/20 text-[#39FF14]":"bg-slate-800 text-slate-500"}`,children:(0,t.jsx)(tw.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Background Blur"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Subject isolation"})]})]}),(0,t.jsx)("button",{onClick:()=>tg("blur"),className:`relative w-11 h-6 rounded-full transition-colors ${tc.blur?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full transition-transform ${tc.blur?"translate-x-5":"translate-x-0"}`})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${tc.noise?"bg-[#39FF14]/20 text-[#39FF14]":"bg-slate-800 text-slate-500"}`,children:(0,t.jsx)(t_.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Noise Suppression"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Audio filtering"})]})]}),(0,t.jsx)("button",{onClick:()=>tg("noise"),className:`relative w-11 h-6 rounded-full transition-colors ${tc.noise?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full transition-transform ${tc.noise?"translate-x-5":"translate-x-0"}`})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${tc.transcription?"bg-green-500/20 text-green-400":"bg-slate-800 text-slate-500"}`,children:(0,t.jsx)(T.MessageSquare,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Live Transcription"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Speech-to-text"})]})]}),(0,t.jsx)("button",{onClick:()=>tg("transcription"),className:`relative w-11 h-6 rounded-full transition-colors ${tc.transcription?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full transition-transform ${tc.transcription?"translate-x-5":"translate-x-0"}`})})]})]})]}),(0,t.jsxs)("div",{className:"p-6 flex flex-col items-center justify-center bg-slate-900 relative",children:[(0,t.jsxs)("div",{className:"relative w-full aspect-video bg-slate-800 rounded-lg overflow-hidden border border-slate-700 shadow-xl",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-700 to-slate-600 flex items-center justify-center",children:(0,t.jsx)(l.default,{className:"w-20 h-20 text-slate-500"})}),tc.blur&&(0,t.jsx)("div",{className:"absolute inset-0 backdrop-blur-md transition-all duration-500",children:(0,t.jsx)("div",{className:"absolute inset-x-1/4 inset-y-10 bg-slate-300/10 rounded-full blur-xl"})}),(0,t.jsx)("div",{className:"absolute inset-x-1/3 bottom-0 h-4/5 bg-slate-400 rounded-t-full shadow-2xl opacity-80 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"w-20 h-20 bg-slate-300 rounded-full -mt-20 relative",children:[(0,t.jsx)("div",{className:"absolute top-6 left-5 w-2 h-2 bg-slate-500 rounded-full"}),(0,t.jsx)("div",{className:"absolute top-6 right-5 w-2 h-2 bg-slate-500 rounded-full"}),(0,t.jsx)("div",{className:"absolute bottom-5 left-7 w-6 h-2 bg-slate-500 rounded-full opacity-50"})]})}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2",children:[tc.noise&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-[#39FF14]/20/80 text-white text-xs rounded-full flex items-center gap-1",children:[(0,t.jsx)(td.Mic,{className:"w-3 h-3"})," Noise Reduced"]}),tc.transcription&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-green-500/80 text-white text-xs rounded-full flex items-center gap-1",children:[(0,t.jsx)(T.MessageSquare,{className:"w-3 h-3"})," Transcribing"]})]}),tc.transcription&&(0,t.jsx)("div",{className:"absolute bottom-4 left-4 right-4 bg-black/60 p-2 rounded text-center",children:(0,t.jsx)("p",{className:"text-white text-sm",children:'"Hello, this is a real-time demonstration of the AI features..."'})})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-4",children:"Simulated Preview"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Background Processing"}),(0,t.jsx)(tw.default,{className:"w-6 h-6 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:et.filter(e=>e.enabled).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Active configurations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Noise Cancellation"}),(0,t.jsx)(t_.default,{className:"w-6 h-6 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:er.filter(e=>e.enabled).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"AI models enabled"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Live Transcription"}),(0,t.jsx)(T.MessageSquare,{className:"w-6 h-6 text-green-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:en.filter(e=>e.enabled).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Languages supported"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Background Blur & Replacement"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"WebAssembly-powered background processing without green screens"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:et.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.processing_type})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Quality:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.quality})]}),"blur"===e.processing_type&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Blur Intensity:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.blur_intensity,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Performance:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.performance_mode})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"GPU Acceleration:"}),(0,t.jsx)("span",{className:"text-white",children:e.use_gpu_acceleration?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"WASM Version:"}),(0,t.jsx)("span",{className:"text-white text-xs",children:e.wasm_module_version})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Virtual Backgrounds Library"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:ea.slice(0,8).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3 hover:border-[#39FF14]/50 transition-all cursor-pointer",children:[(0,t.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 rounded mb-2 flex items-center justify-center",children:(0,t.jsx)(tf.default,{className:"w-8 h-8 text-slate-600"})}),(0,t.jsx)("h4",{className:"text-white font-semibold text-sm mb-1",children:e.background_name}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-slate-400 capitalize",children:e.category}),e.is_premium&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-[#39FF14]/20 text-[#39FF14] rounded",children:"PRO"})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Noise Cancellation"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Filter out background noise including typing, barking, and fan sounds"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:er.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"AI Model:"}),(0,t.jsx)("span",{className:"text-white text-xs",children:e.ai_model.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Suppression:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.noise_suppression_level,"%"]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Active Filters:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.filter_keyboard_typing&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Typing"}),e.filter_dog_barking&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Barking"}),e.filter_fan_noise&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Fan"}),e.voice_isolation&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Voice Isolation"})]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Transcription"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Real-time speech-to-text with speaker diarization and translation"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:en.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"AI Model:"}),(0,t.jsx)("span",{className:"text-white text-xs",children:e.ai_model.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Language:"}),(0,t.jsx)("span",{className:"text-white",children:e.language})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Confidence:"}),(0,t.jsxs)("span",{className:"text-white",children:[(100*e.confidence_threshold).toFixed(0),"%"]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Features:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.enable_speaker_diarization&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-[#39FF14]/10 text-[#39FF14] text-xs rounded",children:"Speaker ID"}),e.enable_punctuation&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-[#39FF14]/10 text-[#39FF14] text-xs rounded",children:"Punctuation"}),e.enable_translation&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-[#39FF14]/10 text-[#39FF14] text-xs rounded",children:"Translation"}),e.word_timestamps&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-[#39FF14]/10 text-[#39FF14] text-xs rounded",children:"Timestamps"})]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Processing Analytics"}),(0,t.jsx)("div",{className:"space-y-3",children:ep.slice(0,6).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold capitalize",children:e.processing_type.replace("_"," ")}),(0,t.jsxs)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:["Quality: ",e.quality_score,"/100"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Processing Time"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[Math.floor(e.total_processing_time_seconds/60)," min"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"CPU Usage"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.cpu_usage_percentage?.toFixed(1),"%"]})]}),e.gpu_usage_percentage&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"GPU Usage"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.gpu_usage_percentage?.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Frames Processed"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.frames_processed?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Errors"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.error_count})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"AI Processing Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(tw.default,{className:"w-5 h-5 text-[#39FF14]"}),"Background Blur/Replace"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"WASM-powered silhouette detection for professional backgrounds without green screens"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(t_.default,{className:"w-5 h-5 text-[#39FF14]"}),"AI Noise Cancellation"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Remove typing, barking, and background noise using advanced AI models"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(T.MessageSquare,{className:"w-5 h-5 text-green-400"}),"Live Transcription"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Real-time speech-to-text with speaker detection and multi-language translation"})]})]})]})]}),"broadcasting"===c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Broadcasting & Live Streaming"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Stream to millions with RTMP and HLS"})]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-xl overflow-hidden border border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"relative aspect-video bg-black flex items-center justify-center group",children:[tm?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 to-slate-800"}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-end justify-center gap-1 pb-0 opacity-30",children:[...Array(40)].map((e,s)=>(0,t.jsx)("div",{className:"w-2 bg-[#39FF14] rounded-t-sm animate-pulse",style:{height:`${20+60*Math.random()}%`,animationDuration:`${.5+Math.random()}s`}},s))}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-[#39FF14]/10 p-8 rounded-full animate-pulse",children:(0,t.jsx)(q.default,{className:"w-24 h-24 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"absolute top-6 left-6 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-red-600 text-white font-bold text-sm rounded animate-pulse shadow-lg shadow-red-500/50",children:"LIVE"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-black/60 text-white font-mono text-sm rounded backdrop-blur-sm border border-white/10",children:(e=Math.floor(tu/3600),a=Math.floor(tu%3600/60),`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${(tu%60).toString().padStart(2,"0")}`)})]}),(0,t.jsxs)("div",{className:"absolute top-6 right-6 flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-black/60 text-white text-sm rounded backdrop-blur-sm border border-white/10",children:[(0,t.jsx)(C.default,{className:"w-4 h-4 text-slate-300"})," 1,245"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-black/60 text-white text-sm rounded backdrop-blur-sm border border-white/10",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4 text-green-400"})," Excellent"]})]})]}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(tF.default,{className:"w-20 h-20 text-slate-800 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-slate-600 text-xl font-medium",children:"Stream Offline"}),(0,t.jsx)("p",{className:"text-slate-700 text-sm mt-2",children:"Check your RTMP configuration to start streaming"})]}),(0,t.jsx)("div",{className:"absolute bottom-0 inset-x-0 p-8 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{onClick:()=>{th(!tm),tm||tp(0)},className:`px-6 py-2.5 rounded-lg font-bold flex items-center gap-2 transition-all transform hover:scale-105 active:scale-95 ${tm?"bg-red-600 hover:bg-red-700 shadow-lg shadow-red-500/20 text-white":"bg-green-600 hover:bg-green-700 shadow-lg shadow-green-500/20 text-white"}`,children:[tm?(0,t.jsx)(tI.default,{className:"w-5 h-5 fill-current"}):(0,t.jsx)(tA.default,{className:"w-5 h-5 fill-current"}),tm?"End Broadcast":"Go Live"]}),(0,t.jsx)("div",{className:"h-8 w-px bg-white/20 mx-2"}),(0,t.jsxs)("button",{className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg backdrop-blur-sm flex items-center gap-2 transition-colors",children:[(0,t.jsx)(tP.default,{className:"w-4 h-4"})," Stream Settings"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"px-3 py-1 rounded bg-black/40 text-xs text-slate-300 border border-white/10 font-mono",children:"1920x1080 @ 60fps"}),(0,t.jsx)("div",{className:"px-3 py-1 rounded bg-black/40 text-xs text-slate-300 border border-white/10 font-mono",children:"6000 kbps"})]})]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-pink-500/10 border border-red-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Live Broadcasts"}),(0,t.jsx)(tF.default,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:eh.filter(e=>"live"===e.status).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Currently streaming"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"RTMP Configs"}),(0,t.jsx)(tC.Youtube,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:ed.length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active destinations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"HLS Streams"}),(0,t.jsx)(tk.default,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:ex.length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"CDN configurations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Peak Viewers"}),(0,t.jsx)(l.default,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:Math.max(...eh.map(e=>e.peak_viewer_count||0),0).toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"All-time high"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"RTMP Broadcast Configurations"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Stream to YouTube, Twitch, Facebook, and custom RTMP destinations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ed.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["youtube"===e.platform&&(0,t.jsx)(tC.Youtube,{className:"w-5 h-5 text-red-400"}),"twitch"===e.platform&&(0,t.jsx)(tS.default,{className:"w-5 h-5 text-[#39FF14]"}),"facebook"===e.platform&&(0,t.jsx)(tM.Facebook,{className:"w-5 h-5 text-[#39FF14]"}),"linkedin"===e.platform&&(0,t.jsx)(Z.Globe,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name})]}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Platform:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.platform})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Video Quality:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.video_resolution," @ ",e.framerate,"fps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Video Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.video_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Audio Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.audio_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Codec:"}),(0,t.jsxs)("span",{className:"text-white uppercase",children:[e.video_codec," / ",e.audio_codec]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"HLS Streaming Configurations"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Adaptive bitrate streaming for massive viewer scale with low latency"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ex.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"CDN Provider:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.cdn_provider.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Latency Mode:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.latency_mode.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Segment Duration:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.segment_duration_seconds,"s"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Max Viewers:"}),(0,t.jsx)("span",{className:"text-white",children:e.max_viewers?.toLocaleString()||"Unlimited"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Adaptive Streaming:"}),(0,t.jsx)("span",{className:"text-white",children:e.enable_adaptive_streaming?"Enabled":"Disabled"})]}),e.enable_drm&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"DRM:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.drm_provider})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Broadcast Sessions"}),(0,t.jsx)("div",{className:"space-y-3",children:eh.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.broadcast_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded text-xs font-semibold ${"live"===e.status?"bg-red-500/20 text-red-400 border border-red-500/30 animate-pulse":"scheduled"===e.status?"bg-[#39FF14]/20/20 text-[#39FF14] border border-[#39FF14]/30":"ended"===e.status?"bg-slate-500/20 text-slate-400 border border-slate-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:e.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white ml-2 uppercase",children:e.broadcast_type})]}),"live"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Current Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.viewer_count?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Peak Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.peak_viewer_count?.toLocaleString()})]})]}),"ended"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Peak Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.peak_viewer_count?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[Math.floor(e.duration_seconds/60)," min"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Total Watch Time:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.total_watch_time_minutes?.toLocaleString()," min"]})]})]}),"scheduled"===e.status&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Scheduled:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:new Date(e.scheduled_start).toLocaleString()})]})]})]}),"live"===e.status&&(0,t.jsxs)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",children:[(0,t.jsx)(tF.default,{className:"w-4 h-4"}),"View Stream"]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Broadcasting Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(tF.default,{className:"w-5 h-5 text-red-400"}),"RTMP Streaming"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Push video to YouTube Live, Twitch, Facebook Live, and custom RTMP endpoints"}),(0,t.jsxs)("ul",{className:"text-slate-400 text-xs space-y-1",children:[(0,t.jsx)("li",{children:"• Multiple simultaneous destinations"}),(0,t.jsx)("li",{children:"• Automatic failover to backup servers"}),(0,t.jsx)("li",{children:"• Custom video/audio bitrate control"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(tk.default,{className:"w-5 h-5 text-green-400"}),"HLS Streaming"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Adaptive bitrate streaming for millions of viewers with CDN delivery"}),(0,t.jsxs)("ul",{className:"text-slate-400 text-xs space-y-1",children:[(0,t.jsx)("li",{children:"• Multiple quality variants (360p to 4K)"}),(0,t.jsx)("li",{children:"• Ultra-low latency mode available"}),(0,t.jsx)("li",{children:"• DRM protection support"})]})]})]})]})]})]}),eL&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Purchase Video API"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Get instant access with API keys and SDK"})]}),(0,t.jsx)("button",{onClick:()=>eE(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-6 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:eL.product_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:eL.description}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${si(eL.industry)}`,children:eL.industry.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30",children:eL.product_type.toUpperCase()})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Included Features:"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:eL.features.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e]},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Max Participants"}),(0,t.jsx)("p",{className:"text-white text-lg font-bold",children:eL.max_participants})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Cloud Storage"}),(0,t.jsxs)("p",{className:"text-white text-lg font-bold",children:[eL.storage_gb," GB"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"API Calls Limit"}),(0,t.jsxs)("p",{className:"text-white text-lg font-bold",children:[eL.api_calls_limit.toLocaleString(),"/mo"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Access Type"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[eL.has_sdk&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] rounded text-xs",children:"SDK"}),eL.has_api&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:"API"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Monthly Subscription:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(eL.monthly_price).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Per Minute Rate:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(eL.per_minute_price).toFixed(4)]})]}),eL.setup_fee>0&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"One-time Setup Fee:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(eL.setup_fee).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("span",{className:"text-[#39FF14] font-semibold",children:"Total Today:"}),(0,t.jsxs)("span",{className:"text-white text-2xl font-bold",children:["RM ",(Number(eL.setup_fee)+Number(eL.monthly_price)).toFixed(2)]})]}),(0,t.jsx)("p",{className:"text-[#39FF14] text-xs mt-2",children:"API keys and SDK access will be generated instantly after purchase"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>eE(null),disabled:eO,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:se,disabled:eO,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:eO?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-5 h-5"}),"Confirm Purchase"]})})]})]})}),eU&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===eU.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===eU.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===eU.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-white"}):(0,t.jsx)(y.X,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===eU.type?"text-green-400":"text-red-400"}`,children:"success"===eU.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:eU.message})]}),(0,t.jsx)("button",{onClick:()=>eV(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})})}),eG&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Video Session Ready"}),(0,t.jsx)("p",{className:"text-slate-400",children:eG.template.template_name})]}),(0,t.jsx)("button",{onClick:()=>eK(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#39FF14] to-[#32e012] p-8 rounded-2xl",children:(0,t.jsx)(eR.Video,{className:"w-16 h-16 text-white"})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Session Type"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:eG.template.template_type})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Max Participants"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:eG.template.configuration.participant_limit})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Duration"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[eG.template.configuration.duration," mins"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300 mb-2 block",children:"Session URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-[#39FF14] break-all",children:eG.session.sessionUrl}),(0,t.jsx)("button",{onClick:()=>st(eG.session.sessionUrl,"session_url"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"session_url"===eB?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Copied"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy"]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300 mb-2 block",children:"Room ID"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white",children:eG.session.roomId}),(0,t.jsx)("button",{onClick:()=>st(eG.session.roomId,"room_id"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"room_id"===eB?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Copied"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy"]})})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-[#39FF14] font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(tj.default,{className:"w-5 h-5"}),"Join Meeting"]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Click to enter the video conference room"}),(0,t.jsxs)("button",{onClick:()=>sa(eG.session.roomId),className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(eR.Video,{className:"w-4 h-4"}),"Join Now"]})]}),(0,t.jsxs)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-[#39FF14] font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(u.default,{className:"w-5 h-5"}),"Invite Participants"]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Share the link with other participants"}),(0,t.jsxs)("button",{onClick:()=>{var e;return e=eG.session.sessionUrl,void(navigator.clipboard.writeText(e),eV({type:"success",message:"Room link copied to clipboard!"}))},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(tv.default,{className:"w-4 h-4"}),"Share Link"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Session Features"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:eG.template.features.slice(0,8).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e]},s))})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>eK(null),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Close"}),(0,t.jsxs)("button",{className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(tN.default,{className:"w-5 h-5"}),"Open in Full Screen"]})]})]})}),eN&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(eR.Video,{className:"w-7 h-7 text-green-400"}),"Start Video Call"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Choose your call configuration and features"})]}),(0,t.jsx)("button",{onClick:()=>ey(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Call Type"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>ek("p2p"),className:`p-4 rounded-lg border-2 transition-all text-left ${"p2p"===eF?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"P2P Call"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"1-on-1 high-quality video call with ultra-low latency"})]}),(0,t.jsxs)("button",{onClick:()=>ek("group_sfu"),className:`p-4 rounded-lg border-2 transition-all text-left ${"group_sfu"===eF?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Group Room (SFU)"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Up to 50 active speakers with optimized bandwidth"})]}),(0,t.jsxs)("button",{onClick:()=>ek("group_mcu"),className:`p-4 rounded-lg border-2 transition-all text-left ${"group_mcu"===eF?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Group Room (MCU)"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Large conferences with 100+ participants"})]}),(0,t.jsxs)("button",{onClick:()=>ek("webinar"),className:`p-4 rounded-lg border-2 transition-all text-left ${"webinar"===eF?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ew.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Webinar Mode"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Broadcast to thousands of viewers"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Media & Collaboration Features"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eC,onChange:e=>eS(e.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ew.default,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Screen Sharing"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Share your screen, window, or tab"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eM,onChange:e=>eI(e.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eA.Package,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Virtual Whiteboard"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Collaborative drawing and annotations"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eT,onChange:e=>eD(e.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tj.default,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"SIP Interconnect"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Allow phone dial-in for audio participants"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Included Features"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"HD Video & Audio"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Real-time Chat"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Emoji Reactions"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Hand Raise"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>ey(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{eJ(`room_${Math.random().toString(36).substr(2,9)}`),ey(!1),eV({type:"success",message:"Call started successfully!"})},className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(eR.Video,{className:"w-5 h-5"}),"Start Call"]})]})]})}),eY&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-7 h-7 text-[#39FF14]"}),"Schedule Video Meeting"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Create a new meeting with AI-powered features"})]}),(0,t.jsx)("button",{onClick:()=>eQ(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Meeting Title *"}),(0,t.jsx)("input",{type:"text",value:e3,onChange:e=>e5(e.target.value),placeholder:"e.g., Weekly Team Sync",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Date *"}),(0,t.jsx)("input",{type:"date",value:e9,onChange:e=>e6(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Time *"}),(0,t.jsx)("input",{type:"time",value:e8,onChange:e=>te(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Participant Emails (comma-separated)"}),(0,t.jsx)("textarea",{value:tt,onChange:e=>ts(e.target.value),placeholder:"john@example.com, jane@example.com",rows:3,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(ty.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Meeting AI Configuration"})]}),eZ.length>0?(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"AI Features Preset"}),(0,t.jsx)("select",{value:e4,onChange:e=>e1(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] mb-3",children:eZ.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.configuration_name,e.is_default&&" (Default)"]},e.id))}),e4&&((i=eZ.find(e=>e.id===e4))?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(td.Mic,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Transcription:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:i.enable_transcription?"On":"Off"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eR.Video,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Recording:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:i.enable_recording?"On":"Off"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ty.default,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"AI Insights:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:i.enable_ai_insights?"On":"Off"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Action Items:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:i.enable_action_items?"On":"Off"})]})]}):null)]}):(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:ta,onChange:e=>tl(e.target.checked),className:"w-5 h-5 text-[#39FF14] bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable AI Transcription"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Real-time speech-to-text with speaker identification"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Meeting Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"HD Video & Audio"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Screen Sharing"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Chat & Reactions"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Up to 100 Participants"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>eQ(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:t7,disabled:!e3||!e9||!e8,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-5 h-5"}),"Schedule Meeting"]})]})]})}),eH&&(0,t.jsx)(tq,{roomId:eH,onLeave:()=>{eJ(null)}})]})}var tt=tt,tY=e.i(60243),tY=tY,tQ=e.i(65452),tQ=tQ,tZ=e.i(74888),tZ=tZ,t0=e.i(64250),t0=t0,A=A,tp=tp,tc=tc,e2=e2,v=v,_=_,v=v,eT=eT,t4=e.i(36993),t4=t4,C=C,S=S,t1=e.i(53651),t1=t1,tF=tF,j=j;function t2(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[n,o]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[w,F]=(0,s.useState)(null);(0,s.useEffect)(()=>{k()},[]);let k=async()=>{try{console.log("Loading SMS configurations");let{data:e,error:t}=await h.db.from("sms_configurations").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error loading SMS configurations:",t),t;console.log("Loaded SMS configurations:",e?.length||0,"configs");let s=(e||[]).map(e=>{let t=e=>{if(!e||"string"!=typeof e)return e;try{return JSON.parse(e)}catch{return e}};return{...e,smpp_config:t(e.smpp_config),http_config:t(e.http_config),credentials:t(e.credentials),settings:t(e.settings)}});l(s)}catch(e){console.error("Error loading SMS configurations:",e),g(e.message)}finally{i(!1)}},S=async(e,t)=>{let s=!t,r=s?"active":"inactive";try{let{error:t}=await h.db.from("sms_configurations").update({is_active:s,status:r}).eq("id",e);if(t)throw t;l(a.map(t=>t.id===e?{...t,is_active:s,status:r}:t)),f("Configuration status updated successfully"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Error updating configuration:",e),g(e.message)}},M=async e=>{try{let{error:t}=await h.db.from("sms_configurations").update({is_default:!0}).eq("id",e);if(t)throw t;l(a.map(t=>({...t,is_default:t.id===e}))),f("Default configuration updated successfully"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Error setting default:",e),g(e.message)}},A=async e=>{if(confirm("Are you sure you want to delete this SMS aggregator configuration?"))try{let{error:t}=await h.db.from("sms_configurations").delete().eq("id",e);if(t)throw t;l(a.filter(t=>t.id!==e)),f("Configuration deleted successfully"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Error deleting configuration:",e),g(e.message)}};return r?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(t4.default,{className:"w-8 h-8 text-[#39FF14] animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"SMS Aggregator Configuration"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Configure SMS aggregators like Infobip, Twilio, or custom SMPP providers"})]}),(0,t.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Configuration"]})]}),p&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Error"}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:p})]}),(0,t.jsx)("button",{onClick:()=>g(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),b&&(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-green-300 text-sm",children:b})}),(0,t.jsx)("button",{onClick:()=>f(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),c&&m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit SMS Aggregator Configuration"}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Configuration Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",defaultValue:m.gateway_name,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g., Infobip Production"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Aggregator Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{defaultValue:m.provider,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"infobip",children:"Infobip"}),(0,t.jsx)("option",{value:"twilio",children:"Twilio"}),(0,t.jsx)("option",{value:"sinch",children:"Sinch"}),(0,t.jsx)("option",{value:"vonage",children:"Vonage"}),(0,t.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Connection Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{defaultValue:m.protocol,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"SMPP",children:"SMPP"}),(0,t.jsx)("option",{value:"HTTP",children:"HTTP"}),(0,t.jsx)("option",{value:"HTTPS",children:"HTTPS"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"edit-default",defaultChecked:m.is_default,className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsx)("label",{htmlFor:"edit-default",className:"text-sm text-slate-300",children:"Set as default aggregator"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SMPP Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Host ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",defaultValue:m.smpp_config?.host||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"smpp.provider.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Port ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"number",defaultValue:m.smpp_config?.port||"2775",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"2775"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["System ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",defaultValue:m.smpp_config?.system_id||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"your_system_id"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Password ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"password",defaultValue:m.credentials?.password||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"••••••••"}),(0,t.jsx)("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Bind Type"}),(0,t.jsxs)("select",{defaultValue:m.smpp_config?.bind_type||"transceiver",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"transceiver",children:"Transceiver"}),(0,t.jsx)("option",{value:"transmitter",children:"Transmitter"}),(0,t.jsx)("option",{value:"receiver",children:"Receiver"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Encoding"}),(0,t.jsxs)("select",{defaultValue:m.smpp_config?.encoding||"UCS2",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"UCS2",children:"UCS2"}),(0,t.jsx)("option",{value:"GSM7",children:"GSM7"}),(0,t.jsx)("option",{value:"UTF-8",children:"UTF-8"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Max Throughput (msg/sec)"}),(0,t.jsx)("input",{type:"number",defaultValue:m.settings?.max_throughput||"100",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Rate Limit (req/sec)"}),(0,t.jsx)("input",{type:"number",defaultValue:m.settings?.rate_limit||"100",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"100"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{onClick:()=>{f("Configuration updated successfully!"),x(!1),u(null),setTimeout(()=>f(null),3e3)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all font-medium",children:"Save Configuration"}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"px-8 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-medium",children:"Cancel"})]})]})]})}),0===a.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(d.Settings,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No SMS Aggregator Configurations"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first SMS aggregator to start sending messages via SMPP or HTTP/HTTPS"}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all",children:"Add Configuration"})]}):(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:`p-3 bg-gradient-to-r ${(e.protocol,"from-[#39FF14] to-[#32e012]")} rounded-lg`,children:(e=>{switch(e){case"smpp":return(0,t.jsx)(tF.default,{className:"w-5 h-5"});case"http":case"https":return(0,t.jsx)(Z.Globe,{className:"w-5 h-5"});default:return(0,t.jsx)(t1.default,{className:"w-5 h-5"})}})(e.protocol)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.gateway_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-medium border border-yellow-500/30",children:"Default"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${{infobip:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",twilio:"bg-red-500/20 text-red-400 border-red-500/30",custom:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",other:"bg-slate-500/20 text-slate-400 border-slate-500/30"}[e.provider]||"bg-slate-500/20 text-slate-400 border-slate-500/30"}`,children:e.provider?.toUpperCase()||"N/A"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${{smpp:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",http:"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/30",https:"bg-green-500/20 text-green-400 border-green-500/30"}[e.protocol]||"bg-slate-500/20 text-slate-400 border-slate-500/30"}`,children:e.protocol?.toUpperCase()||"N/A"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>S(e.id,"active"===e.status),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${"active"===e.status?"bg-green-500/20 text-green-400 border border-green-500/30 hover:bg-green-500/30":"bg-slate-700 text-slate-400 border border-slate-600 hover:bg-slate-600"}`,children:"active"===e.status?"Active":"Inactive"}),!e.is_default&&(0,t.jsx)("button",{onClick:()=>M(e.id),className:"p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-lg transition-all",title:"Set as default",children:(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>F(w===e.id?null:e.id),className:"p-2 text-[#39FF14] hover:text-[#39FF14] hover:bg-[#39FF14]/20/10 rounded-lg transition-all",title:"View details",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{u(e),x(!0)},className:"p-2 text-[#39FF14] hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-all",title:"Edit configuration",children:(0,t.jsx)(j.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>A(e.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete configuration",children:(0,t.jsx)(v.default,{className:"w-5 h-5"})})]})]}),w===e.id&&(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 mt-4 space-y-4",children:[e.protocol?.toLowerCase()==="smpp"&&e.smpp_config&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(tF.default,{className:"w-4 h-4"}),"SMPP Configuration"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.smpp_config.host&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Host:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.smpp_config.host})]}),e.smpp_config.port&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Port:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.smpp_config.port})]}),e.smpp_config.system_id&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"System ID:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.smpp_config.system_id})]}),e.smpp_config.bind_type&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Bind Type:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.smpp_config.bind_type})]}),e.smpp_config.encoding&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Encoding:"}),(0,t.jsx)("span",{className:"text-white",children:e.smpp_config.encoding})]}),e.smpp_config.interface_version&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Interface Version:"}),(0,t.jsx)("span",{className:"text-white",children:e.smpp_config.interface_version})]})]})]}),["http","https"].includes(e.protocol?.toLowerCase()||"")&&e.http_config&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4"}),"HTTP/HTTPS Configuration"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.http_config.base_url&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3 col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Base URL:"}),(0,t.jsx)("span",{className:"text-white font-mono break-all",children:e.http_config.base_url})]}),e.http_config.endpoint&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3 col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Endpoint:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.http_config.endpoint})]}),e.http_config.method&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Method:"}),(0,t.jsx)("span",{className:"text-white",children:e.http_config.method})]}),e.http_config.content_type&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Content Type:"}),(0,t.jsx)("span",{className:"text-white font-mono text-xs",children:e.http_config.content_type})]})]})]}),e.settings&&Object.keys(e.settings).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Additional Settings"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.settings.max_throughput&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Max Throughput:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.settings.max_throughput," msg/sec"]})]}),e.settings.rate_limit&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Rate Limit:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.settings.rate_limit," req/sec"]})]}),e.settings.validity_period&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Validity Period:"}),(0,t.jsx)("span",{className:"text-white",children:e.settings.validity_period})]}),e.settings.default_sender&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Default Sender:"}),(0,t.jsx)("span",{className:"text-white",children:e.settings.default_sender})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-500 pt-2",children:[(0,t.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleString()]}),(0,t.jsxs)("span",{children:["Updated: ",new Date(e.updated_at).toLocaleString()]})]})]})]},e.id))}),n&&(0,t.jsx)(t3,{tenantId:e?.app_metadata?.tenant_id||e?.user_metadata?.tenant_id||"",onClose:()=>o(!1),onSuccess:()=>{o(!1),k(),f("SMS aggregator configured successfully"),setTimeout(()=>f(null),3e3)},onError:e=>g(e)})]})}function t3({tenantId:e,onClose:a,onSuccess:l,onError:r}){let[i,n]=(0,s.useState)({aggregatorName:"",aggregatorType:"infobip",connectionType:"smpp",isDefault:!1,smppHost:"",smppPort:"2775",smppSystemId:"",smppPassword:"",smppBindType:"transceiver",smppEncoding:"UCS2",httpBaseUrl:"",httpEndpoint:"",httpMethod:"POST",httpContentType:"application/json",apiKey:"",maxThroughput:"100",rateLimit:"100"}),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),m=async()=>{if(!i.aggregatorName||!i.aggregatorType)return void r("Please fill in all required fields");if("smpp"===i.connectionType&&(!i.smppHost||!i.smppPort||!i.smppSystemId))return void r("Please fill in all SMPP configuration fields");if(("http"===i.connectionType||"https"===i.connectionType)&&!i.httpBaseUrl)return void r("Please fill in the base URL for HTTP/HTTPS configuration");d(!0);try{let t={tenant_id:e||null,gateway_name:i.aggregatorName,provider:i.aggregatorType,protocol:i.connectionType.toUpperCase(),status:"active",is_active:!0,is_default:i.isDefault};"smpp"===i.connectionType?(t.smpp_config=JSON.stringify({host:i.smppHost,port:parseInt(i.smppPort),system_id:i.smppSystemId,bind_type:i.smppBindType,encoding:i.smppEncoding,interface_version:"3.4",ton:1,npi:1}),t.credentials=JSON.stringify({password:i.smppPassword})):(t.http_config=JSON.stringify({base_url:i.httpBaseUrl,endpoint:i.httpEndpoint,method:i.httpMethod,content_type:i.httpContentType,timeout:30}),t.credentials=JSON.stringify({api_key:i.apiKey})),t.settings=JSON.stringify({max_throughput:parseInt(i.maxThroughput),rate_limit:parseInt(i.rateLimit)});let{error:s}=await h.db.from("sms_configurations").insert(t);if(s)throw s;l()}catch(e){console.error("Error saving configuration:",e),r(e.message||"An error occurred while saving")}finally{d(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl max-w-2xl w-full p-6 my-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add SMS Aggregator Configuration"}),(0,t.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Configuration Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:i.aggregatorName,onChange:e=>n({...i,aggregatorName:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g., Infobip Production"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Aggregator Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:i.aggregatorType,onChange:e=>n({...i,aggregatorType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"infobip",children:"Infobip"}),(0,t.jsx)("option",{value:"twilio",children:"Twilio"}),(0,t.jsx)("option",{value:"custom",children:"Custom"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Connection Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:i.connectionType,onChange:e=>n({...i,connectionType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"smpp",children:"SMPP"}),(0,t.jsx)("option",{value:"http",children:"HTTP"}),(0,t.jsx)("option",{value:"https",children:"HTTPS"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"isDefault",checked:i.isDefault,onChange:e=>n({...i,isDefault:e.target.checked}),className:"w-4 h-4 text-[#39FF14] rounded"}),(0,t.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-slate-300 cursor-pointer",children:"Set as default aggregator"})]}),"smpp"===i.connectionType?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SMPP Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Host ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i.smppHost,onChange:e=>n({...i,smppHost:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"smpp.provider.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Port ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"number",value:i.smppPort,onChange:e=>n({...i,smppPort:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"2775"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["System ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i.smppSystemId,onChange:e=>n({...i,smppSystemId:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"your_system_id"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Password ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:c?"text":"password",value:i.smppPassword,onChange:e=>n({...i,smppPassword:e.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"••••••••"}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:c?(0,t.jsx)(S.default,{className:"w-5 h-5"}):(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Bind Type"}),(0,t.jsxs)("select",{value:i.smppBindType,onChange:e=>n({...i,smppBindType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"transceiver",children:"Transceiver"}),(0,t.jsx)("option",{value:"transmitter",children:"Transmitter"}),(0,t.jsx)("option",{value:"receiver",children:"Receiver"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Encoding"}),(0,t.jsxs)("select",{value:i.smppEncoding,onChange:e=>n({...i,smppEncoding:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"UCS2",children:"UCS2"}),(0,t.jsx)("option",{value:"GSM7",children:"GSM7"}),(0,t.jsx)("option",{value:"UTF8",children:"UTF8"})]})]})]})]})]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"HTTP/HTTPS Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Base URL ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i.httpBaseUrl,onChange:e=>n({...i,httpBaseUrl:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"https://api.provider.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Endpoint"}),(0,t.jsx)("input",{type:"text",value:i.httpEndpoint,onChange:e=>n({...i,httpEndpoint:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"/sms/send"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Method"}),(0,t.jsxs)("select",{value:i.httpMethod,onChange:e=>n({...i,httpMethod:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),(0,t.jsxs)("select",{value:i.httpContentType,onChange:e=>n({...i,httpContentType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"application/json",children:"application/json"}),(0,t.jsx)("option",{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Key"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:c?"text":"password",value:i.apiKey,onChange:e=>n({...i,apiKey:e.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"your-api-key"}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:c?(0,t.jsx)(S.default,{className:"w-5 h-5"}):(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]})]})]})}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Throughput (msg/sec)"}),(0,t.jsx)("input",{type:"number",value:i.maxThroughput,onChange:e=>n({...i,maxThroughput:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Limit (req/sec)"}),(0,t.jsx)("input",{type:"number",value:i.rateLimit,onChange:e=>n({...i,rateLimit:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]",placeholder:"100"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:a,disabled:o,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:m,disabled:o,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(t4.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save Configuration"})]})]})})}function t5(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("compose"),[r,i]=(0,s.useState)("all"),[n,c]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[w,_]=(0,s.useState)("paste"),[F,k]=(0,s.useState)(""),[C,S]=(0,s.useState)("now"),[M,I]=(0,s.useState)([]),[P,D]=(0,s.useState)([]),[R,L]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[$,O]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[q,U]=(0,s.useState)(!0),[V,B]=(0,s.useState)(!1),[z,G]=(0,s.useState)(!1),[K,W]=(0,s.useState)({name:"",category:"promotional",description:"",content:"",use_case:"",is_default:!1}),[X,H]=(0,s.useState)(null),[J,Y]=(0,s.useState)({}),[Z,et]=(0,s.useState)({});(0,s.useEffect)(()=>{e&&Promise.all([es(),ea()]).finally(()=>U(!1))},[e]),(0,s.useEffect)(()=>{console.log("BulkSMS MOUNTED. Calling loadTemplates..."),ea()},[]),(0,s.useEffect)(()=>{B(!0)},[]),(0,s.useEffect)(()=>{console.log("Loading campaigns (Filter changed or User loaded)"),es()},[r]),(0,s.useEffect)(()=>{F?en(F):O({valid:0,duplicates:0,invalid:0})},[F]);let es=async()=>{console.log("Loading SMS campaigns, filter:",r);let e=h.db.from("sms_campaigns").select("*").order("created_at",{ascending:!1});"all"!==r&&(e=e.eq("status",r));let{data:t,error:s}=await e;console.log("SMS Campaigns loaded:",{data:t,error:s,count:t?.length}),!s&&t?I(t):s&&console.error("Error loading SMS campaigns:",s)},ea=async()=>{try{let{data:e,error:t}=await h.db.from("sms_templates").select("*").order("template_name");if(!t&&e){let t=e.map(e=>{let t=e.variables;if("string"==typeof t)try{t=t.startsWith("[")?JSON.parse(t):t.split(",").map(e=>e.trim())}catch(e){console.error("Error parsing template variables:",e),t=[]}return{...e,variables:t}});D(t)}}catch(e){console.error("Error in loadTemplates",e)}},el=async()=>{let e;if(!K.name||!K.content)return void alert("Please fill in Template Name and Content");let t=/{{([^}]+)}}/g,s=[];for(;null!==(e=t.exec(K.content));)s.push(e[1].trim());try{let{error:e}=await h.db.from("sms_templates").insert({template_name:K.name,category:K.category,description:K.description,content:K.content,variables:JSON.stringify(s),use_case:K.use_case,is_default:K.is_default});if(e)throw e;alert("Template created successfully!"),G(!1),W({name:"",category:"promotional",description:"",content:"",use_case:"",is_default:!1}),ea()}catch(e){console.error("Error creating template:",e),alert("Failed to create template")}};(0,s.useEffect)(()=>{if(M.length>0){let e=M.reduce((e,t)=>e+(t.sent_recipients||0),0),t=M.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.sent_recipients||0),0),s=M.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.sent_recipients||0),0);L({totalSent:e,delivered:t,pending:s,failed:e-t-s})}},[M]);let er=async e=>{et(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("sms_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&Y(s=>({...s,[e]:t})),et(t=>({...t,[e]:!1}))},ei=async e=>{X===e?H(null):(H(e),J[e]||await er(e))},en=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;O({valid:l.size,duplicates:r,invalid:i})},eo=e=>{b(e);let t=P.find(t=>t.id===e);t&&j(t.content)},ed=async()=>{if(!n||!x||!u||!f||!e)return void alert("Please fill in all required fields");if(0===$.valid)return void alert("Please add valid phone numbers");try{let{data:t,error:s}=await h.db.from("sms_campaigns").insert({user_id:e.id,campaign_name:n,route_type:x,sender_id:u,message:f,template_id:g||null,recipient_source:w,total_recipients:F.split("\n").filter(e=>e.trim()).length,sent_recipients:$.valid,insent_recipients:$.invalid,duplicate_numbers:$.duplicates,status:"now"===C?"in_progress":"scheduled",created_by:e.id}).select().single();if(s)throw s;alert("Campaign created successfully!"),eh(),es()}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},ec=async e=>{try{let{error:t}=await h.db.from("sms_campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;alert("Campaign paused successfully"),es()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},ex=async e=>{try{let{error:t}=await h.db.from("sms_campaigns").update({status:"in_progress"}).eq("id",e);if(t)throw t;alert("Campaign resumed successfully"),es()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}},em=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("sms_campaigns").delete().eq("id",e);if(t)throw t;alert("Campaign deleted successfully"),es()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},eh=()=>{c(""),m(""),p(""),b(""),j(""),k(""),_("paste"),S("now")},eu=()=>Math.ceil(f.length/160)||1,ep=e=>{switch(e){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/30";case"paused":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},eg=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:R.totalSent.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(tt.default,{className:"w-6 h-6 text-brand-lime"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:R.delivered.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-brand-lime"})})]}),(0,t.jsxs)("p",{className:"text-green-400 text-sm",children:[R.totalSent?Math.round(R.delivered/R.totalSent*100):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:R.pending.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(ee.Clock,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:R.failed.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>l("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===a?"bg-[#39FF14] text-black shadow-[0_0_15px_rgba(57,255,20,0.3)]":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,t.jsx)("button",{onClick:()=>l("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===a?"bg-[#39FF14] text-black shadow-[0_0_15px_rgba(57,255,20,0.3)]":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>l("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===a?"bg-[#39FF14] text-black shadow-[0_0_15px_rgba(57,255,20,0.3)]":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsxs)("button",{onClick:()=>l("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===a?"bg-[#39FF14] text-black shadow-[0_0_15px_rgba(57,255,20,0.3)]":"text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===a&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose SMS API Message"}),(0,t.jsxs)("button",{className:"text-[#39FF14] hover:text-[#32e012] text-sm flex items-center gap-2 transition-colors",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Route Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Route Type"}),(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"otp",children:"OTP"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Sender ID"}),(0,t.jsx)("option",{value:"NRGDIC",children:"NRGDIC"}),(0,t.jsx)("option",{value:"MYBRAND",children:"MYBRAND"}),(0,t.jsx)("option",{value:"COMPANY",children:"COMPANY"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,t.jsxs)("button",{onClick:()=>l("templates"),className:"text-[#39FF14] hover:text-[#32e012] text-xs flex items-center gap-1 transition-colors",children:[(0,t.jsx)(o.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,t.jsxs)("select",{value:g,onChange:e=>eo(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Template"}),P.map(e=>(0,t.jsx)("option",{value:e.id,children:e.template_name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("textarea",{value:f,onChange:e=>j(e.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14] transition-colors"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",f.length," | Total SMS: ",eu()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"paste"===w,onChange:()=>_("paste"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"upload"===w,onChange:()=>_("upload"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"phonebook"===w,onChange:()=>_("phonebook"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{value:F,onChange:e=>k(e.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",F.split("\n").filter(e=>e.trim()).length]}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,t.jsxs)("span",{className:"text-green-400",children:["● Valid Numbers: ",$.valid]}),(0,t.jsxs)("span",{className:"text-yellow-400",children:["● Duplicates: ",$.duplicates]}),(0,t.jsxs)("span",{className:"text-red-400",children:["● Invalid Numbers: ",$.invalid]})]})]})]}),"upload"===w&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,t.jsx)(tY.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black font-bold px-4 py-2 rounded-lg shadow-[0_0_10px_rgba(57,255,20,0.3)] transition-all",children:"Choose File"})]}),"phonebook"===w&&(0,t.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Phonebook"}),(0,t.jsx)("option",{value:"customers",children:"Customers"}),(0,t.jsx)("option",{value:"leads",children:"Leads"}),(0,t.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"now"===C,onChange:()=>S("now"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"schedule"===C,onChange:()=>S("schedule"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:eh,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:ed,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-all shadow-[0_0_15px_rgba(57,255,20,0.4)] hover:shadow-[0_0_20px_rgba(57,255,20,0.6)] font-bold",children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-slate-100 px-4 py-2 flex items-center justify-between border-b border-slate-200",children:[(0,t.jsx)("span",{className:"text-xs font-medium",children:V?eg():"--:--"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:u||"NRGDIC"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(t0.default,{className:"w-3 h-3"}),(0,t.jsx)(tZ.default,{className:"w-5 h-3"})]})]}),(0,t.jsx)("div",{className:"h-[400px] bg-gradient-to-b from-slate-50 to-slate-100 p-4 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsxs)("div",{className:"max-w-[85%]",children:[(0,t.jsxs)("div",{className:"text-xs text-slate-500 mb-1 text-right",children:["Today, ",V?eg():"--:--"]}),f?(0,t.jsx)("div",{className:"bg-[#39FF14]/20 text-white rounded-2xl rounded-tr-sm px-4 py-3 shadow-sm",children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:f})}):(0,t.jsx)("div",{className:"bg-[#39FF14]/20 text-[#39FF14] rounded-2xl rounded-tr-sm px-4 py-3 border border-dashed border-[#39FF14]/30",children:(0,t.jsx)("p",{className:"text-sm",children:"Your message will appear here"})})]})})}),(0,t.jsx)("div",{className:"bg-white border-t border-slate-200 p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-100 rounded-full px-4 py-2",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"Text Message"})}),(0,t.jsx)("button",{className:"bg-[#39FF14] text-black p-2 rounded-full shadow-[0_0_10px_rgba(57,255,20,0.3)] hover:shadow-[0_0_15px_rgba(57,255,20,0.5)] transition-all",children:(0,t.jsx)(tt.default,{className:"w-4 h-4"})})]})})]})}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:f.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:eu()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:$.valid})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:M.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-medium text-sm",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${ep(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"paused"===e.status?"Paused":"draft"===e.status?"Draft":"Scheduled"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:["Sent: ",e.sent_recipients?.toLocaleString()||0]}),(0,t.jsxs)("span",{children:["Delivered: ",e.sent_recipients?.toLocaleString()||0]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:V?new Date(e.created_at).toLocaleString():"-"})]},e.id))}),M.length>3&&(0,t.jsx)("button",{onClick:()=>l("campaigns"),className:"w-full mt-3 text-[#39FF14] hover:text-[#32e012] text-sm py-2 transition-colors",children:"View All"})]})]})]}),"campaigns"===a&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg inline-flex items-center gap-2 font-bold shadow-[0_0_15px_rgba(57,255,20,0.3)] hover:shadow-[0_0_20px_rgba(57,255,20,0.5)] transition-all",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===r?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>i("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===r?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,t.jsx)("button",{onClick:()=>i("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===r?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,t.jsx)("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===r?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,t.jsx)("button",{onClick:()=>i("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===r?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,t.jsx)("button",{onClick:()=>i("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===r?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===M.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(T.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first SMS campaign to get started"}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg inline-flex items-center gap-2 font-bold shadow-[0_0_15px_rgba(57,255,20,0.3)] hover:shadow-[0_0_20px_rgba(57,255,20,0.5)] transition-all",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:M.map(e=>{let s=J[e.id]||[],a=X===e.id,l=Z[e.id],r=s.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${ep(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"paused"===e.status?"Paused":"draft"===e.status?"Draft":"Scheduled"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:V?new Date(e.created_at).toLocaleString():"-"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>ec(e.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,t.jsx)(tc.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ex(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,t.jsx)(e2.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>em(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ei(e.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tp.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_recipients.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,t.jsx)("p",{className:"text-[#39FF14] text-lg font-semibold",children:(e.total_recipients-(e.duplicate_numbers||0)).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[e.success_rate?e.success_rate.toFixed(1):0,"%"]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(ee.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(T.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",r.delivered||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"Sent: ",r.sent||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),"Pending: ",r.pending||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"}),"Failed: ",r.failed||0]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(e=>{switch(e){case"delivered":case"sent":case"pending":case"failed":case"invalid":return"text-[#39FF14]";default:return"text-slate-400"}})(e.status)}`,children:[(e=>{switch(e){case"delivered":return(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,t.jsx)(tt.default,{className:"w-4 h-4"});case"pending":default:return(0,t.jsx)(ee.Clock,{className:"w-4 h-4"});case"failed":return(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"});case"invalid":return(0,t.jsx)(y.X,{className:"w-4 h-4"})}})(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:V&&e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:V&&e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.error_message?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-red-400 text-xs",children:e.error_message})]}):(0,t.jsx)("span",{className:"text-slate-500",children:"-"})})]},e.id))})]})}),100===s.length&&(0,t.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},e.id)})})]}),"templates"===a&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Message Templates"}),(0,t.jsxs)("button",{onClick:()=>G(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===P.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.template_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"Default"})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===e.category?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30":"transactional"===e.category?"bg-green-500/20 text-green-400 border border-green-500/30":"otp"===e.category?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30":"reminder"===e.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:e.category})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),(0,t.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-3",children:(0,t.jsx)("p",{className:"text-slate-300 text-xs line-clamp-3 font-mono",children:e.content})}),e.variables&&e.variables.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:e},s))})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:e.use_case}),(0,t.jsx)("button",{onClick:()=>{l("compose"),eo(e.id)},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},e.id))})]}),"configuration"===a&&(0,t.jsx)(t2,{}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create New Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your SMS template with variables and preview"})]}),(0,t.jsx)("button",{onClick:()=>G(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-800 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Template Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:K.name,onChange:e=>W({...K,name:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g. Order Confirmation"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:K.category,onChange:e=>W({...K,category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"otp",children:"OTP"}),(0,t.jsx)("option",{value:"alert",children:"Alert"}),(0,t.jsx)("option",{value:"reminder",children:"Reminder"}),(0,t.jsx)("option",{value:"survey",children:"Survey"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Use Case / Tag"}),(0,t.jsx)("input",{type:"text",value:K.use_case,onChange:e=>W({...K,use_case:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g. Retail, Banking"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,t.jsx)("div",{onClick:()=>W({...K,is_default:!K.is_default}),className:`w-12 h-6 rounded-full cursor-pointer relative transition-colors ${K.is_default?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${K.is_default?"left-7":"left-1"}`})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 cursor-pointer",onClick:()=>W({...K,is_default:!K.is_default}),children:"Set as Default"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:K.description,onChange:e=>W({...K,description:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Brief description of when to use this template"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Content ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("textarea",{value:K.content,onChange:e=>W({...K,content:e.target.value}),rows:8,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] font-mono text-sm",placeholder:"Hi {{name}}, your order {{order_id}} has been shipped..."}),(0,t.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-slate-500 bg-slate-900/80 px-2 py-1 rounded",children:[K.content.length," chars | ",Math.ceil(K.content.length/160)||1," SMS"]})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Click to insert variable:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["name","date","time","amount","link","otp","id"].map(e=>(0,t.jsx)("button",{onClick:()=>W({...K,content:K.content+` {{${e}}}`}),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-[#39FF14] text-[#39FF14] text-xs rounded transition-colors",children:`{{${e}}}`},e))})]})]})]}),(0,t.jsxs)("div",{className:"w-1/2 bg-[#012419] p-8 flex flex-col items-center justify-center border-l border-slate-800",children:[(0,t.jsx)("h4",{className:"text-slate-500 text-sm mb-4 uppercase tracking-wider font-semibold",children:"Live Preview"}),(0,t.jsxs)("div",{className:"w-[300px] h-[580px] bg-slate-900 border-4 border-slate-800 rounded-[3rem] p-4 relative shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),(0,t.jsxs)("div",{className:"h-full bg-[#012419] rounded-[2.2rem] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-900 p-4 pt-8 flex items-center gap-3 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#39FF14] flex items-center justify-center text-white font-bold text-xs",children:"promotional"===K.category?"BR":"CP"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:"BrandName"}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Just now via SMS"})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 bg-[#012419]/50",children:[(0,t.jsx)("div",{className:"bg-slate-800 rounded-2xl rounded-tl-sm p-3 max-w-[85%] mb-2",children:(0,t.jsx)("p",{className:"text-slate-200 text-sm leading-relaxed whitespace-pre-wrap break-words",children:K.content||"Your message preview will appear here..."})}),K.content&&(0,t.jsx)("p",{className:"text-slate-600 text-[10px] ml-1",children:"Delivered"})]}),(0,t.jsx)("div",{className:"p-3 bg-slate-900 border-t border-slate-800",children:(0,t.jsx)("div",{className:"h-8 bg-slate-800 border border-slate-700 rounded-full w-full"})})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-6",children:"Preview represents how the message might appear on a mobile device."})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900 flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:(0,t.jsxs)("p",{children:["Fields marked with ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})," are required."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>G(!1),className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:el,className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-8 py-2.5 rounded-lg font-medium shadow-lg shadow-[#39FF14]/20 hover:shadow-[#39FF14]/20 transition-all",children:"Save Template"})]})]})]})})]})})}var tt=tt,tY=tY,tQ=tQ,tZ=tZ,t0=t0,tc=tc,e2=e2,v=v,A=A,tp=tp,_=_,_=_,v=v,t9=e.i(74154),t9=t9,A=A,tp=tp,O=O,eD=eD;function t6(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!1),[n,o]=(0,s.useState)(null),[c,x]=(0,s.useState)(!0),[m,u]=(0,s.useState)({aggregator_name:"",aggregator_type:"infobip",connection_type:"https",rbm_api_endpoint:"",rbm_region:"us",rbm_supported_message_types:[],http_base_url:"",http_method:"POST",http_content_type:"application/json",api_key:"",agent_id:"",rcs_agent_name:"",rcs_agent_description:"",rcs_brand_color:"#007AFF",max_throughput:100,rate_limit:1e3,enable_sms_fallback:!0,enable_delivery_receipts:!0,is_active:!0});(0,s.useEffect)(()=>{e?p():x(!1)},[e]);let p=async()=>{x(!0),console.log("Loading RCS configurations");let{data:e,error:t}=await h.db.from("rcs_aggregator_configurations").select("*").order("created_at",{ascending:!1});t?console.error("Error loading RCS configurations:",t):(console.log("Loaded RCS configurations:",e?.length||0,"configs"),l(e||[])),x(!1)},g=async t=>{t.preventDefault();try{let{error:t}=await h.db.from("rcs_aggregator_configurations").insert({...m,user_id:e?.id});if(t)throw t;alert("Configuration added successfully!"),i(!1),N(),p()}catch(e){console.error("Error adding configuration:",e),alert("Failed to add configuration")}},b=async(e,t)=>{let{error:s}=await h.db.from("rcs_aggregator_configurations").update({is_active:!t}).eq("id",e);s||p()},f=async e=>{await h.db.from("rcs_aggregator_configurations").update({is_default:!1});let{error:t}=await h.db.from("rcs_aggregator_configurations").update({is_default:!0}).eq("id",e);t||p()},j=async e=>{if(!confirm("Are you sure you want to delete this configuration?"))return;let{error:t}=await h.db.from("rcs_aggregator_configurations").delete().eq("id",e);t||p()},N=()=>{u({aggregator_name:"",aggregator_type:"infobip",connection_type:"https",rbm_api_endpoint:"",rbm_region:"us",rbm_supported_message_types:[],http_base_url:"",http_method:"POST",http_content_type:"application/json",api_key:"",agent_id:"",rcs_agent_name:"",rcs_agent_description:"",rcs_brand_color:"#007AFF",max_throughput:100,rate_limit:1e3,enable_sms_fallback:!0,enable_delivery_receipts:!0,is_active:!0})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"RCS Aggregator Configuration"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your RCS aggregator connections without Google Jibe Cloud"})]}),(0,t.jsxs)("button",{onClick:()=>i(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Configuration"]})]}),r&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Add New RCS Aggregator"}),(0,t.jsx)("button",{onClick:()=>{i(!1),N()},className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Configuration Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:m.aggregator_name,onChange:e=>u({...m,aggregator_name:e.target.value}),placeholder:"e.g., Primary Infobip RCS",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Aggregator Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:m.aggregator_type,onChange:e=>u({...m,aggregator_type:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"infobip",children:"Infobip"}),(0,t.jsx)("option",{value:"twilio",children:"Twilio"}),(0,t.jsx)("option",{value:"google_jibe",children:"Google Jibe"}),(0,t.jsx)("option",{value:"custom",children:"Custom Provider"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Connection Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:m.connection_type,onChange:e=>u({...m,connection_type:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"rbm_api",children:"RBM API"}),(0,t.jsx)("option",{value:"http",children:"HTTP"}),(0,t.jsx)("option",{value:"https",children:"HTTPS"})]})]}),"rbm_api"===m.connection_type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RBM API Endpoint"}),(0,t.jsx)("input",{type:"text",value:m.rbm_api_endpoint,onChange:e=>u({...m,rbm_api_endpoint:e.target.value}),placeholder:"https://rbm-api.example.com",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RBM Region"}),(0,t.jsxs)("select",{value:m.rbm_region,onChange:e=>u({...m,rbm_region:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"us",children:"United States"}),(0,t.jsx)("option",{value:"eu",children:"Europe"}),(0,t.jsx)("option",{value:"asia",children:"Asia Pacific"})]})]})]}),("http"===m.connection_type||"https"===m.connection_type)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Base URL ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:m.http_base_url,onChange:e=>u({...m,http_base_url:e.target.value}),placeholder:"https://api.aggregator.com/v1",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"HTTP Method"}),(0,t.jsxs)("select",{value:m.http_method,onChange:e=>u({...m,http_method:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),(0,t.jsx)("input",{type:"text",value:m.http_content_type,onChange:e=>u({...m,http_content_type:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["API Key ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"password",required:!0,value:m.api_key,onChange:e=>u({...m,api_key:e.target.value}),placeholder:"Enter your API key",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RCS Agent ID"}),(0,t.jsx)("input",{type:"text",value:m.agent_id,onChange:e=>u({...m,agent_id:e.target.value}),placeholder:"agent-12345",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RCS Agent Name"}),(0,t.jsx)("input",{type:"text",value:m.rcs_agent_name,onChange:e=>u({...m,rcs_agent_name:e.target.value}),placeholder:"My Brand",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Brand Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:m.rcs_brand_color,onChange:e=>u({...m,rcs_brand_color:e.target.value}),className:"h-11 w-16 bg-slate-900/50 border border-slate-700 rounded-lg cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:m.rcs_brand_color,onChange:e=>u({...m,rcs_brand_color:e.target.value}),className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Throughput (msgs/sec)"}),(0,t.jsx)("input",{type:"number",value:m.max_throughput,onChange:e=>u({...m,max_throughput:parseInt(e.target.value)}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Limit (msgs/hour)"}),(0,t.jsx)("input",{type:"number",value:m.rate_limit,onChange:e=>u({...m,rate_limit:parseInt(e.target.value)}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Agent Description"}),(0,t.jsx)("textarea",{value:m.rcs_agent_description,onChange:e=>u({...m,rcs_agent_description:e.target.value}),rows:3,placeholder:"Brief description of your RCS agent",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.enable_sms_fallback,onChange:e=>u({...m,enable_sms_fallback:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable SMS Fallback"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.enable_delivery_receipts,onChange:e=>u({...m,enable_delivery_receipts:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable Delivery Receipts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.is_active,onChange:e=>u({...m,is_active:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{i(!1),N()},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(O.default,{className:"w-5 h-5"}),"Save Configuration"]})]})]})]}),c?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 mt-4",children:"Loading configurations..."})]}):0===a.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(d.Settings,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No RCS Aggregators Configured"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first RCS aggregator to start sending rich messages"}),(0,t.jsxs)("button",{onClick:()=>i(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Configuration"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>{var s;let a;return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.aggregator_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(s=e.aggregator_type,(a={infobip:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",twilio:"bg-red-500/20 text-red-400 border-red-500/30",google_jibe:"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/30",custom:"bg-green-500/20 text-green-400 border-green-500/30",other:"bg-slate-500/20 text-slate-400 border-slate-500/30"})[s]||a.other)}`,children:e.aggregator_type.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"verified":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.verification_status)}`,children:e.verification_status}),e.is_default&&(0,t.jsxs)("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,t.jsx)(eD.default,{className:"w-3 h-3"}),"Default"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Connection: ",e.connection_type.toUpperCase()]}),e.rcs_agent_name&&(0,t.jsxs)("span",{children:["Agent: ",e.rcs_agent_name]}),e.agent_id&&(0,t.jsxs)("span",{children:["ID: ",e.agent_id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-slate-400 hover:text-yellow-400 transition-colors",title:"Set as default",children:(0,t.jsx)(eD.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>b(e.id,e.is_active),className:`p-2 transition-colors ${e.is_active?"text-green-400 hover:text-green-300":"text-slate-400 hover:text-slate-300"}`,title:e.is_active?"Deactivate":"Activate",children:(0,t.jsx)(t9.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>o(n===e.id?null:e.id),className:"p-2 text-slate-400 hover:text-white transition-colors",children:n===e.id?(0,t.jsx)(tp.default,{className:"w-5 h-5"}):(0,t.jsx)(A.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>j(e.id),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-5 h-5"})})]})]}),n===e.id&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-700",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Connection Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[e.http_base_url&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Base URL:"}),(0,t.jsx)("p",{className:"text-white break-all",children:e.http_base_url})]}),e.rbm_api_endpoint&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"RBM Endpoint:"}),(0,t.jsx)("p",{className:"text-white break-all",children:e.rbm_api_endpoint})]}),e.http_method&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Method:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.http_method})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Performance Settings"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Max Throughput:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.max_throughput," msg/s"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Rate Limit:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.rate_limit," msg/hr"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.enable_sms_fallback&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded border border-green-500/30",children:"SMS Fallback"}),e.enable_delivery_receipts&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded border border-[#39FF14]/30",children:"Delivery Receipts"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Branding"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[e.rcs_agent_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Agent Name:"}),(0,t.jsx)("p",{className:"text-white",children:e.rcs_agent_name})]}),e.rcs_agent_description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Description:"}),(0,t.jsx)("p",{className:"text-white",children:e.rcs_agent_description})]}),e.rcs_brand_color&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Brand Color:"}),(0,t.jsx)("div",{className:"w-6 h-6 rounded border border-slate-600",style:{backgroundColor:e.rcs_brand_color}}),(0,t.jsx)("span",{className:"text-white",children:e.rcs_brand_color})]})]})]})]})})]},e.id)})})]})}function t8(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)(!1),[r,i]=(0,s.useState)("compose"),[n,c]=(0,s.useState)("all"),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[w,F]=(0,s.useState)(""),[k,C]=(0,s.useState)("paste"),[S,M]=(0,s.useState)(""),[I,P]=(0,s.useState)("now"),[D,R]=(0,s.useState)(""),[L,$]=(0,s.useState)("none"),[O,q]=(0,s.useState)("url"),[U,V]=(0,s.useState)(null),[B,z]=(0,s.useState)([]),[G,K]=(0,s.useState)([]),[W,X]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[H,J]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[Y,Z]=(0,s.useState)(!0),[et,es]=(0,s.useState)(!1),[ea,el]=(0,s.useState)({name:"",category:"promotional",description:"",message_content:"",media_url:"",buttons:[],use_case:"",is_default:!1}),[er,ei]=(0,s.useState)(null),[en,eo]=(0,s.useState)({}),[ed,ec]=(0,s.useState)({});(0,s.useEffect)(()=>{l(!0),Promise.all([ex(),eu()]).finally(()=>Z(!1))},[]),(0,s.useEffect)(()=>{ex()},[n]),(0,s.useEffect)(()=>{S?eg(S):J({valid:0,duplicates:0,invalid:0})},[S]);let ex=async()=>{let e=h.db.from("rcs_campaigns").select("*").order("created_at",{ascending:!1});"all"!==n&&(e=e.eq("status",n));let{data:t,error:s}=await e;!s&&t&&z(t)},em=async e=>{ec(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("rcs_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&eo(s=>({...s,[e]:t})),ec(t=>({...t,[e]:!1}))},eh=async e=>{er===e?ei(null):(ei(e),en[e]||await em(e))},eu=async()=>{let{data:e,error:t}=await h.db.from("rcs_templates").select("*").order("name");!t&&e&&K(e.map(e=>{let t=e.variables;if("string"==typeof t&&t)try{t=t.startsWith("[")||t.startsWith("{")?JSON.parse(t):t.split(",").map(e=>e.trim())}catch(e){console.error("Error parsing RCS template variables:",e),t=t.split(",").map(e=>e.trim())}else t||(t=[]);let s=e.buttons;if("string"==typeof s&&s)try{s=JSON.parse(s)}catch(e){console.error("Error parsing RCS template buttons:",e),s=[]}else Array.isArray(s)||(s=[]);return{...e,variables:Array.isArray(t)?t:[t],buttons:s}}))};(0,s.useEffect)(()=>{if(B.length>0){let e=B.reduce((e,t)=>e+(t.valid_numbers||0),0),t=B.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),s=B.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);X({totalSent:e,delivered:t,pending:s,failed:e-t-s})}else X({totalSent:0,delivered:0,pending:0,failed:0})},[B]);let ep=async()=>{let e;if(!ea.name||!ea.message_content)return void alert("Please fill in Template Name and Content");let t=/{{([^}]+)}}/g,s=[];for(;null!==(e=t.exec(ea.message_content));)s.push(e[1].trim());try{let{error:e}=await h.db.from("rcs_templates").insert({name:ea.name,category:ea.category,description:ea.description,message_content:ea.message_content,media_url:ea.media_url,buttons:JSON.stringify(ea.buttons),variables:JSON.stringify(s),use_case:ea.use_case,is_default:ea.is_default});if(e)throw e;alert("Template created successfully!"),es(!1),el({name:"",category:"promotional",description:"",message_content:"",media_url:"",buttons:[],use_case:"",is_default:!1}),eu()}catch(e){console.error("Error creating template:",e),alert("Failed to create template")}},eg=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;J({valid:l.size,duplicates:r,invalid:i})},eb=e=>{j(e);let t=G.find(t=>t.id===e);t&&(F(t.message_content),t.media_url?(R(t.media_url),$(t.media_type||"image")):(R(""),$("none")))},ef=async()=>{if(!x||!u||!g||!w||!e)return void alert("Please fill in all required fields");if(0===H.valid)return void alert("Please add valid phone numbers");try{let{data:t,error:s}=await h.db.from("rcs_campaigns").insert({user_id:e.id,campaign_name:x,message_type:u,sender_id:g,message:w,template_id:f||null,recipient_source:k,total_recipients:S.split("\n").filter(e=>e.trim()).length,valid_numbers:H.valid,invalid_numbers:H.invalid,duplicate_numbers:H.duplicates,status:"now"===I?"in_progress":"scheduled",created_by:e.id}).select().single();if(s)throw s;alert("Campaign created successfully!"),ey(),ex()}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},ej=async e=>{try{let{error:t}=await h.db.from("rcs_campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;alert("Campaign paused successfully"),ex()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},ev=async e=>{try{let{error:t}=await h.db.from("rcs_campaigns").update({status:"in_progress"}).eq("id",e);if(t)throw t;alert("Campaign resumed successfully"),ex()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}},eN=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("rcs_campaigns").delete().eq("id",e);if(t)throw t;alert("Campaign deleted successfully"),ex()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},ey=()=>{m(""),p(""),b(""),j(""),F(""),M(""),C("paste"),P("now"),R(""),$("none"),q("url"),V(null)},ew=()=>Math.ceil(w.length/160)||1,e_=e=>{switch(e){case"completed":case"in_progress":case"scheduled":case"failed":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},eF=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-[#012419]",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.totalSent.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(tt.default,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.delivered.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsxs)("p",{className:"text-[#39FF14] text-sm",children:[W.totalSent?Math.round(W.delivered/W.totalSent*100):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.pending.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(ee.Clock,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.failed.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>i("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===r?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,t.jsx)("button",{onClick:()=>i("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===r?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>i("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===r?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsxs)("button",{onClick:()=>i("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===r?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===r&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose RCS API Message"}),(0,t.jsxs)("button",{className:"text-[#39FF14] hover:text-[#32e012] text-sm flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Type ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Message Type"}),(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"card",children:"Rich Card"}),(0,t.jsx)("option",{value:"carousel",children:"Carousel"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender ID ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Sender ID"}),(0,t.jsx)("option",{value:"NRGDIC",children:"NRGDIC"}),(0,t.jsx)("option",{value:"MYBRAND",children:"MYBRAND"}),(0,t.jsx)("option",{value:"COMPANY",children:"COMPANY"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,t.jsxs)("button",{onClick:()=>i("templates"),className:"text-[#39FF14] hover:text-[#39FF14] text-xs flex items-center gap-1",children:[(0,t.jsx)(o.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,t.jsxs)("select",{value:f,onChange:e=>eb(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Template"}),G.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsx)("textarea",{value:w,onChange:e=>F(e.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",w.length," | Total SMS: ",ew()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Add Media (Image)"}),D&&(0,t.jsxs)("button",{onClick:()=>{R(""),$("none"),V(null)},className:"text-[#39FF14] hover:text-slate-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(y.X,{className:"w-3 h-3"}),"Remove Media"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("button",{onClick:()=>q("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"url"===O?"bg-[#39FF14] text-black":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"URL"}),(0,t.jsx)("button",{onClick:()=>q("upload"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"upload"===O?"bg-[#39FF14] text-black":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"Upload File"})]}),"url"===O?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:U?"":D,onChange:e=>{R(e.target.value),e.target.value?$("image"):$("none"),V(null)},placeholder:"https://images.unsplash.com/photo-...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Provide a direct link to an image (JPEG, PNG, GIF, WebP)"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-6 text-center hover:border-[#39FF14] transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, WebP)");if(t.size>5242880)return void alert("Image size must be less than 5MB");let s=new FileReader;s.onloadend=()=>{R(s.result),$("image"),V(t)},s.readAsDataURL(t)},className:"hidden",id:"rcs-image-upload"}),(0,t.jsx)("label",{htmlFor:"rcs-image-upload",className:"cursor-pointer",children:U?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-10 h-10 text-[#39FF14] mx-auto"}),(0,t.jsx)("p",{className:"text-white font-medium",children:U.name}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs",children:[(U.size/1024).toFixed(2)," KB"]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tY.default,{className:"w-10 h-10 text-slate-500 mx-auto"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Click to select an image"}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:"JPEG, PNG, GIF, WebP (Max 5MB)"})]})})]}),U&&D&&(0,t.jsx)("div",{className:"mt-3 rounded-lg overflow-hidden border border-slate-700",children:(0,t.jsx)("img",{src:D,alt:"Preview",className:"w-full h-32 object-cover"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"paste"===k,onChange:()=>C("paste"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"upload"===k,onChange:()=>C("upload"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"phonebook"===k,onChange:()=>C("phonebook"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{value:S,onChange:e=>M(e.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",S.split("\n").filter(e=>e.trim()).length]}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["● Valid Numbers: ",H.valid]}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["● Duplicates: ",H.duplicates]}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["● Invalid Numbers: ",H.invalid]})]})]})]}),"upload"===k&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,t.jsx)(tY.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===k&&(0,t.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Phonebook"}),(0,t.jsx)("option",{value:"customers",children:"Customers"}),(0,t.jsx)("option",{value:"leads",children:"Leads"}),(0,t.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"now"===I,onChange:()=>P("now"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"schedule"===I,onChange:()=>P("schedule"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:ey,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:ef,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-[#39FF14]/20 px-4 py-3 flex items-center justify-between border-b border-[#39FF14]/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:g||"Business Chat"}),(0,t.jsx)("p",{className:"text-[10px] text-[#39FF14]/80",children:"RCS Verified Account"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(t0.default,{className:"w-3 h-3 text-white"}),(0,t.jsx)(tZ.default,{className:"w-5 h-3 text-white"})]})]}),(0,t.jsxs)("div",{className:"h-[380px] bg-[#f0f2f5] p-4 overflow-y-auto",children:[(0,t.jsx)("div",{className:"text-center mb-4",children:(0,t.jsx)("span",{className:"text-[10px] bg-white/80 px-2 py-1 rounded-full text-slate-500 shadow-sm border border-slate-100",children:a?eF():"--:--"})}),(0,t.jsx)("div",{className:"flex justify-start mb-4",children:(0,t.jsxs)("div",{className:"max-w-[85%]",children:["card"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200 mb-2",children:[D&&"image"===L?(0,t.jsx)("div",{className:"h-32 bg-slate-200 overflow-hidden",children:(0,t.jsx)("img",{src:D,alt:"Rich card",className:"w-full h-full object-cover"})}):(0,t.jsx)("div",{className:"h-32 bg-slate-200 flex items-center justify-center",children:(0,t.jsx)(o.FileText,{className:"w-8 h-8 text-slate-400"})}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-1",children:"Rich Card Title"}),(0,t.jsx)("p",{className:"text-xs text-slate-600 mb-2",children:w||"Rich card content preview..."}),(0,t.jsx)("button",{className:"w-full py-2 bg-[#39FF14]/10 text-[#39FF14] rounded-lg text-xs font-semibold border border-[#39FF14]/20",children:"Action Button"})]})]}),"card"!==u&&(0,t.jsxs)("div",{className:"bg-white text-slate-800 rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm border border-slate-200",children:[D&&"image"===L&&(0,t.jsx)("div",{className:"mb-2 -mx-4 -mt-3 rounded-t-2xl overflow-hidden",children:(0,t.jsx)("img",{src:D,alt:"Media preview",className:"w-full h-32 object-cover"})}),(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:w||"Type your message..."}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 text-right mt-1",children:a?eF():"--:--"})]})]})})]}),(0,t.jsx)("div",{className:"bg-white border-t border-slate-200 p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-100 rounded-full px-4 py-2",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"RCS Message"})}),(0,t.jsx)("button",{className:"bg-[#39FF14] text-black p-2 rounded-full",children:(0,t.jsx)(tt.default,{className:"w-4 h-4"})})]})})]})}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:w.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:ew()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:H.valid})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:B.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-medium text-sm",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${e_(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"Scheduled"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:["Sent: ",e.valid_numbers?.toLocaleString()||0]}),(0,t.jsxs)("span",{children:["Delivered: ",e.valid_numbers?.toLocaleString()||0]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.created_at).toLocaleString()})]},e.id))}),B.length>3&&(0,t.jsx)("button",{onClick:()=>i("campaigns"),className:"w-full mt-3 text-[#39FF14] hover:text-[#32e012] text-sm py-2",children:"View All"})]})]})]}),"campaigns"===r&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,t.jsxs)("button",{onClick:()=>i("compose"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===n?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>c("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===n?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,t.jsx)("button",{onClick:()=>c("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===n?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,t.jsx)("button",{onClick:()=>c("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===n?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,t.jsx)("button",{onClick:()=>c("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===n?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,t.jsx)("button",{onClick:()=>c("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===n?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===B.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(T.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first RCS campaign to get started"}),(0,t.jsxs)("button",{onClick:()=>i("compose"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:B.map(e=>{let s=en[e.id]||[],a=er===e.id,l=ed[e.id],r=s.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${e_(e.status)}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>ej(e.id),className:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,t.jsx)(tc.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ev(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,t.jsx)(e2.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>eN(e.id),className:"bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>eh(e.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tp.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_recipients.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,t.jsx)("p",{className:"text-[#39FF14] text-lg font-semibold",children:e.valid_numbers.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[e.total_recipients>0?Math.round(e.valid_numbers/e.total_recipients*100):0,"%"]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(ee.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(T.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",r.delivered||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"Sent: ",r.sent||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),"Pending: ",r.pending||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"}),"Failed: ",r.failed||0]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Read At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(e=>{switch(e){case"delivered":case"sent":case"pending":case"failed":return"text-[#39FF14]";default:return"text-slate-400"}})(e.status)}`,children:[(e=>{switch(e){case"delivered":return(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,t.jsx)(tt.default,{className:"w-4 h-4"});case"pending":default:return(0,t.jsx)(ee.Clock,{className:"w-4 h-4"});case"failed":return(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"})}})(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.read_at?new Date(e.read_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.error_message?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-[#39FF14] text-xs",children:e.error_message})]}):(0,t.jsx)("span",{className:"text-slate-500",children:"-"})})]},e.id))})]})}),100===s.length&&(0,t.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},e.id)})})]}),"templates"===r&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"RCS Message Templates"}),(0,t.jsxs)("button",{onClick:()=>es(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===G.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"Default"})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===e.category||"transactional"===e.category||"marketing"===e.category||"reminder"===e.category?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:e.category})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),e.media_url&&(0,t.jsx)("div",{className:"mb-3 rounded overflow-hidden bg-slate-800 flex items-center justify-center min-h-[128px]",children:(0,t.jsx)("img",{src:e.media_url,alt:e.name,className:"w-full h-32 object-cover",onError:e=>{e.currentTarget.parentElement.style.display="none"}})}),(0,t.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-3",children:(0,t.jsx)("p",{className:"text-slate-300 text-xs line-clamp-3 font-mono",children:e.message_content})}),Array.isArray(e.buttons)&&e.buttons.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Action Buttons:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.buttons.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded border border-[#39FF14]/30",children:e.text},s))})]}),e.variables&&e.variables.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:e},s))})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:e.use_case}),(0,t.jsx)("button",{onClick:()=>{i("compose"),eb(e.id)},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},e.id))})]}),et&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create New RCS Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your Rich Communication Services template"})]}),(0,t.jsx)("button",{onClick:()=>es(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-800 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Template Name ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:ea.name,onChange:e=>el({...ea,name:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g. Order Confirmation"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:ea.category,onChange:e=>el({...ea,category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"otp",children:"OTP"}),(0,t.jsx)("option",{value:"alert",children:"Alert"}),(0,t.jsx)("option",{value:"reminder",children:"Reminder"}),(0,t.jsx)("option",{value:"survey",children:"Survey"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Use Case / Tag"}),(0,t.jsx)("input",{type:"text",value:ea.use_case,onChange:e=>el({...ea,use_case:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g. Retail, Banking"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,t.jsx)("div",{onClick:()=>el({...ea,is_default:!ea.is_default}),className:`w-12 h-6 rounded-full cursor-pointer relative transition-colors ${ea.is_default?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${ea.is_default?"left-7":"left-1"}`})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 cursor-pointer",onClick:()=>el({...ea,is_default:!ea.is_default}),children:"Set as Default"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:ea.description,onChange:e=>el({...ea,description:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Brief description of when to use this template"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Media URL (Optional)"}),(0,t.jsx)("input",{type:"text",value:ea.media_url,onChange:e=>el({...ea,media_url:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"https://example.com/image.jpg"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Content ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("textarea",{value:ea.message_content,onChange:e=>el({...ea,message_content:e.target.value}),rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] font-mono text-sm",placeholder:"Hi {{name}}, your order {{order_id}} has been shipped..."}),(0,t.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-slate-500 bg-slate-900/80 px-2 py-1 rounded",children:[ea.message_content.length," chars"]})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Click to insert variable:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["name","date","time","amount","link","otp","id"].map(e=>(0,t.jsx)("button",{onClick:()=>el({...ea,message_content:ea.message_content+` {{${e}}}`}),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-[#39FF14] text-[#39FF14] text-xs rounded transition-colors",children:`{{${e}}}`},e))})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Actions / Buttons"}),(0,t.jsxs)("button",{onClick:()=>el({...ea,buttons:[...ea.buttons,{text:"New Button",url:"",type:"url"}]}),className:"text-[#39FF14] hover:text-[#32e012] text-xs font-medium flex items-center gap-1",children:[(0,t.jsx)(_.default,{className:"w-3 h-3"}),"Add Button"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[ea.buttons.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{type:"text",value:e.text,onChange:e=>{let t=[...ea.buttons];t[s].text=e.target.value,el({...ea,buttons:t})},className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-[#39FF14] outline-none",placeholder:"Button Text"}),(0,t.jsxs)("select",{value:e.type,onChange:e=>{let t=[...ea.buttons];t[s].type=e.target.value,el({...ea,buttons:t})},className:"bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-[#39FF14] outline-none",children:[(0,t.jsx)("option",{value:"url",children:"URL"}),(0,t.jsx)("option",{value:"call",children:"Call"}),(0,t.jsx)("option",{value:"reply",children:"Reply"})]}),(0,t.jsx)("button",{onClick:()=>{let e=[...ea.buttons];e.splice(s,1),el({...ea,buttons:e})},className:"text-slate-500 hover:text-[#39FF14] p-1",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]}),"reply"!==e.type&&(0,t.jsx)("input",{type:"text",value:e.url,onChange:e=>{let t=[...ea.buttons];t[s].url=e.target.value,el({...ea,buttons:t})},className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-[#39FF14] outline-none placeholder-slate-600",placeholder:"call"===e.type?"+1234567890":"https://example.com"})]},s)),0===ea.buttons.length&&(0,t.jsx)("p",{className:"text-slate-500 text-xs italic text-center py-2",children:"No buttons added"})]})]})]}),(0,t.jsxs)("div",{className:"w-1/2 bg-[#012419] p-8 flex flex-col items-center justify-center border-l border-slate-800",children:[(0,t.jsx)("h4",{className:"text-slate-500 text-sm mb-4 uppercase tracking-wider font-semibold",children:"Live Preview"}),(0,t.jsxs)("div",{className:"w-[300px] h-[580px] bg-slate-900 border-4 border-slate-800 rounded-[3rem] p-4 relative shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),(0,t.jsxs)("div",{className:"h-full bg-[#012419] rounded-[2.2rem] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-900 p-4 pt-8 flex items-center gap-3 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#39FF14] flex items-center justify-center text-black font-bold text-xs",children:"promotional"===ea.category?"BR":"CP"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:"BrandName"}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Just now via RCS"})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 bg-[#012419]/50 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200 mb-2 max-w-[90%]",children:[ea.media_url?(0,t.jsx)("div",{className:"h-32 bg-slate-200 flex items-center justify-center overflow-hidden",children:(0,t.jsx)("img",{src:ea.media_url,alt:"Media",className:"w-full h-full object-cover"})}):(0,t.jsx)("div",{className:"h-24 bg-slate-100 flex items-center justify-center border-b border-slate-100",children:(0,t.jsx)(o.FileText,{className:"w-8 h-8 text-slate-300"})}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-1",children:ea.name||"Card Title"}),(0,t.jsx)("p",{className:"text-xs text-slate-600 mb-3 whitespace-pre-wrap leading-relaxed",children:ea.message_content||"Your message preview will appear here..."}),(0,t.jsxs)("div",{className:"space-y-2",children:[ea.buttons.map((e,s)=>(0,t.jsx)("div",{className:"w-full py-2 bg-[#39FF14]/90 text-black rounded-lg text-xs font-semibold border border-[#39FF14]/20 text-center shadow-sm",children:e.text},s)),0===ea.buttons.length&&(0,t.jsx)("div",{className:"w-full py-2 bg-slate-50 text-slate-400 rounded-lg text-xs font-semibold border border-slate-100 text-center",children:"Action Button"})]})]})]}),(0,t.jsx)("p",{className:"text-slate-600 text-[10px] ml-1 mt-1",children:"Delivered • R"})]}),(0,t.jsx)("div",{className:"p-3 bg-slate-900 border-t border-slate-800",children:(0,t.jsx)("div",{className:"h-8 bg-slate-800 border border-slate-700 rounded-full w-full flex items-center px-3",children:(0,t.jsx)("span",{className:"text-slate-600 text-xs",children:"Chat with BrandName"})})})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-6",children:"Preview represents how the message might appear on a mobile device."})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900 flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:(0,t.jsxs)("p",{children:["Fields marked with ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})," are required."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>es(!1),className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:ep,className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-8 py-2.5 rounded-lg font-medium shadow-lg shadow-[#39FF14]/20 hover:shadow-[#39FF14]/30 transition-all",children:"Save Template"})]})]})]})}),"configuration"===r&&(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:(0,t.jsx)(t6,{})})]})}):null}var tt=tt,tY=tY,l=l,O=O,_=_,t7=e.i(40412),t7=t7,tQ=tQ,t0=t0,tc=tc,e2=e2,v=v,A=A,tp=tp,se=e.i(47167),_=_,v=v,eT=eT,t4=t4,k=k,C=C,S=S,t7=t7,F=F,et=et,tQ=tQ;function st({onConfigUpdate:e}={}){let{user:a}=(0,Q.useAuth)(),[l,r]=(0,s.useState)("my-config"),[i,n]=(0,s.useState)(null),[o,d]=(0,s.useState)([]),[c,x]=(0,s.useState)([]),[m,u]=(0,s.useState)(!0),[p,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[C,S]=(0,s.useState)(null);(0,s.useEffect)(()=>{M(),A()},[]);let M=async()=>{try{let{data:e,error:t}=await h.db.from("tenant_whatsapp_configs").select("*").maybeSingle();if(t)throw t;if(n(e),e){let{data:t,error:s}=await h.db.from("tenant_whatsapp_numbers").select("*").eq("whatsapp_config_id",e.id).order("created_at",{ascending:!1});if(s)throw s;d(t||[])}}catch(e){console.error("Error loading Whatsapp API configuration:",e),w(e.message)}finally{u(!1)}},A=async()=>{try{let{data:e,error:t}=await h.db.from("sample_whatsapp_configs").select("*").order("created_at",{ascending:!1});if(t)throw t;if(e){let t=await Promise.all(e.map(async e=>{let t="string"==typeof e.config_data?JSON.parse(e.config_data):e.config_data,{data:s}=await h.db.from("sample_whatsapp_numbers").select("*").eq("config_id",e.id).limit(5);return{...e,config_data:t,phone_numbers:s||[]}}));x(t)}}catch(e){console.error("Error loading sample configurations:",e)}},I=async()=>{if(i&&confirm("Are you sure you want to delete this WhatsApp configuration? All associated numbers will be removed."))try{let{error:e}=await h.db.from("tenant_whatsapp_configs").delete().eq("id",i.id);if(e)throw e;n(null),d([]),S("WhatsApp configuration deleted successfully"),setTimeout(()=>S(null),3e3)}catch(e){console.error("Error deleting configuration:",e),w(e.message)}},P=async e=>{if(confirm("Are you sure you want to remove this number?"))try{let{error:t}=await h.db.from("tenant_whatsapp_numbers").delete().eq("id",e);if(t)throw t;d(o.filter(t=>t.id!==e)),S("Number removed successfully"),setTimeout(()=>S(null),3e3)}catch(e){console.error("Error deleting number:",e),w(e.message)}};return m?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(t4.default,{className:"w-8 h-8 text-[#39FF14] animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"WhatsApp Business Configuration"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Configure your WhatsApp Business Account to send and receive messages"})]}),(0,t.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Configuration"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,t.jsx)("button",{onClick:()=>r("my-config"),className:`px-4 py-3 font-medium transition-all ${"my-config"===l?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-white"}`,children:"My Configuration"}),(0,t.jsxs)("button",{onClick:()=>r("samples"),className:`px-4 py-3 font-medium transition-all ${"samples"===l?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-white"}`,children:["Sample Configurations (",c.length,")"]})]}),j&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(F.default,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Error"}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:j})]}),(0,t.jsx)("button",{onClick:()=>w(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),C&&(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-brand-lime flex-shrink-0 mt-0.5"}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-green-300 text-sm",children:C})}),(0,t.jsx)("button",{onClick:()=>S(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),"my-config"===l?i?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-r from-[#39FF14]/20 to-[#32e012]/20 rounded-lg",children:(0,t.jsx)(T.MessageSquare,{className:"w-6 h-6 text-brand-lime"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:"WhatsApp Business Account"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Account ID: ",i.business_account_id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i.is_verified?(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium border border-green-500/30",children:[(0,t.jsx)(eT.default,{className:"w-4 h-4"}),"Verified"]}):(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm font-medium border border-yellow-500/30",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"}),"Not Verified"]}),(0,t.jsx)("button",{onClick:I,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete configuration",children:(0,t.jsx)(et.default,{className:"w-5 h-5 text-brand-lime"})})]})]}),i.webhook_url&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Webhook Endpoint"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:i.webhook_url,readOnly:!0,className:"flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none"}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(i.webhook_url),S("Webhook URL copied to clipboard"),setTimeout(()=>S(null),2e3)},className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all",title:"Copy URL",children:(0,t.jsx)(k.default,{className:"w-5 h-5"})})]})]}),i.webhook_token&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Webhook Token"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"password",value:i.webhook_token,readOnly:!0,className:"flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none"}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(i.webhook_token),S("Token copied to clipboard"),setTimeout(()=>S(null),2e3)},className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all",title:"Copy token",children:(0,t.jsx)(k.default,{className:"w-5 h-5"})})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Connected Numbers"})}),0===o.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No phone numbers connected yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:o.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"text-white font-medium",children:e.display_phone_number||e.phone_number}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-xs font-medium border border-green-500/30",children:"Active"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.verified_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Verified Name:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.verified_name})]}),e.channel_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Channel:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.channel_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Quality:"}),(0,t.jsx)("span",{className:`ml-2 ${"GREEN"===e.quality_rating?"text-green-400":"YELLOW"===e.quality_rating?"text-yellow-400":"RED"===e.quality_rating?"text-red-400":"text-slate-400"}`,children:e.quality_rating})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Status:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.code_verification_status})]})]})]}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all ml-4",title:"Remove number",children:(0,t.jsx)(v.default,{className:"w-5 h-5"})})]},e.id))})]})]}):(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No WhatsApp Configuration"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Connect your WhatsApp Business Account to start sending messages"}),(0,t.jsx)("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all",children:"Add Configuration"})]}):(0,t.jsx)("div",{className:"space-y-6",children:0===c.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(t7.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Sample Configurations"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Sample configurations will appear here"})]}):c.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-r from-[#39FF14]/20 to-[#32e012]/20 rounded-lg",children:(0,t.jsx)(tQ.default,{className:"w-6 h-6 text-brand-lime"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.business_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.industry})]})]}),e.is_verified&&(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium border border-green-500/30",children:[(0,t.jsx)(eT.default,{className:"w-4 h-4"}),"Verified"]})]}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:e.description}),e.config_data&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.config_data.email&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Email:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.config_data.email})]}),e.config_data.phone&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Phone:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.config_data.phone})]}),e.config_data.website&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Website:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.config_data.website})]})]}),e.phone_numbers.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(eb.Phone,{className:"w-4 h-4"}),"Connected Numbers (",e.phone_numbers.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:e.phone_numbers.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-white font-medium",children:e.display_phone_number||e.phone_number}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-xs font-medium border border-green-500/30",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[e.verified_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Name:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.verified_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Quality:"}),(0,t.jsx)("span",{className:`ml-2 ${"HIGH"===e.quality_rating?"text-green-400":"MEDIUM"===e.quality_rating?"text-yellow-400":"LOW"===e.quality_rating?"text-red-400":"text-slate-400"}`,children:e.quality_rating})]})]})]},e.id))})]})]},e.id))}),p&&(0,t.jsx)(ss,{tenantId:a?.app_metadata?.tenant_id||a?.user_metadata?.tenant_id||"",onClose:()=>g(!1),onSuccess:()=>{g(!1),M(),S("WhatsApp Business Account configured successfully"),setTimeout(()=>S(null),3e3),e&&setTimeout(()=>e(),500)},onError:e=>w(e)})]})}function ss({tenantId:e,onClose:a,onSuccess:l,onError:r}){let[i,n]=(0,s.useState)({businessAccountId:"",accessToken:""}),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),m=async()=>{if(!i.businessAccountId||!i.accessToken)return void r("Please fill in all required fields");d(!0);try{let t=`${se.default.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/verify-whatsapp-business`,s={Authorization:`Bearer ${se.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},a=await fetch(t,{method:"POST",headers:s,body:JSON.stringify({businessAccountId:i.businessAccountId,accessToken:i.accessToken})}),n=await a.json();if(!n.success){r(n.error||"Failed to verify WhatsApp Business Account"),d(!1);return}let o=`${se.default.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/whatsapp-webhook`,c=crypto.randomUUID(),{data:x,error:m}=await h.db.from("tenant_whatsapp_configs").insert({tenant_id:e,business_account_id:i.businessAccountId,access_token:i.accessToken,webhook_url:o,webhook_token:c,is_verified:!0,verified_at:new Date().toISOString(),config_data:n.account}).select().single();if(m)throw m;if(n.phoneNumbers&&n.phoneNumbers.length>0){let t=n.phoneNumbers.map(t=>({tenant_id:e,whatsapp_config_id:x.id,phone_number:t.displayPhoneNumber,display_phone_number:t.displayPhoneNumber,verified_name:t.verifiedName,code_verification_status:t.codeVerificationStatus,quality_rating:t.qualityRating,phone_number_id:t.id,is_active:!0})),{error:s}=await h.db.from("tenant_whatsapp_numbers").insert(t);s&&console.error("Error inserting phone numbers:",s)}l()}catch(e){console.error("Error verifying WhatsApp account:",e),r(e.message||"An error occurred during verification")}finally{d(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl max-w-md w-full p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"WhatsApp Business Account ID"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"WhatsApp Business Account ID*"}),(0,t.jsx)("input",{type:"text",required:!0,value:i.businessAccountId,onChange:e=>n({...i,businessAccountId:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-green-500",placeholder:"1234567890"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Access Token*"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:c?"text":"password",required:!0,value:i.accessToken,onChange:e=>n({...i,accessToken:e.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-green-500",placeholder:"EABC..."}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!c),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:c?(0,t.jsx)(S.default,{className:"w-5 h-5"}):(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:a,disabled:o,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:m,disabled:o||!i.businessAccountId||!i.accessToken,className:"flex-1 px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(t4.default,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify"})]})]})})}function sa(){let{user:e}=(0,Q.useAuth)(),[a,r]=(0,s.useState)(!1),[i,n]=(0,s.useState)("compose"),[c,x]=(0,s.useState)("all"),[m,u]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[F,k]=(0,s.useState)(""),[C,S]=(0,s.useState)("paste"),[M,I]=(0,s.useState)(""),[P,D]=(0,s.useState)("now"),[R,L]=(0,s.useState)(""),[$,q]=(0,s.useState)("none"),[U,V]=(0,s.useState)("url"),[B,z]=(0,s.useState)(null),[G,K]=(0,s.useState)([]),[W,X]=(0,s.useState)([]),[H,J]=(0,s.useState)([]),[Y,Z]=(0,s.useState)(!1),[et,es]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[ea,el]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[er,ei]=(0,s.useState)(!0),[en,eo]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)({name:"",category:"marketing",description:"",body_content:"",language:"en_US",header_type:"none",header_content:"",footer_text:"",buttons:[],use_case:"",is_default:!1}),[ex,em]=(0,s.useState)(null),[eh,eu]=(0,s.useState)({}),[ep,eg]=(0,s.useState)({});(0,s.useEffect)(()=>{r(!0),Promise.all([ef(),eN(),ey()]).finally(()=>ei(!1))},[]),(0,s.useEffect)(()=>{e&&ef()},[c]),(0,s.useEffect)(()=>{M?ew(M):el({valid:0,duplicates:0,invalid:0})},[M]);let ef=async()=>{let e=h.db.from("whatsapp_campaigns").select("*").order("created_at",{ascending:!1});"all"!==c&&(e=e.eq("status",c));let{data:t,error:s}=await e;!s&&t&&K(t)},ej=async e=>{eg(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("whatsapp_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&eu(s=>({...s,[e]:t})),eg(t=>({...t,[e]:!1}))},ev=async e=>{ex===e?em(null):(em(e),eh[e]||await ej(e))},eN=async()=>{let{data:e,error:t}=await h.db.from("whatsapp_templates").select("*").order("name");!t&&e&&X(e.map(e=>{let t=e.variables;if("string"==typeof t&&t)try{t=t.startsWith("[")||t.startsWith("{")?JSON.parse(t):t.split(",").map(e=>e.trim())}catch(e){console.error("Error parsing WhatsApp template variables:",e),t=t.split(",").map(e=>e.trim())}else t||(t=[]);let s=e.buttons;if("string"==typeof s&&s)try{s=JSON.parse(s)}catch(e){console.error("Error parsing WhatsApp template buttons:",e),s=[]}else s||(s=[]);return{...e,variables:Array.isArray(t)?t:[t],buttons:Array.isArray(s)?s:[]}}))};(0,s.useEffect)(()=>{if(G.length>0){let e=G.reduce((e,t)=>e+(t.valid_numbers||0),0),t=G.filter(e=>"completed"===e.status||"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),s=G.filter(e=>"scheduled"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);es({totalSent:e,delivered:t,pending:s,failed:e-t-s})}else es({totalSent:0,delivered:0,pending:0,failed:0})},[G]);let ey=async()=>{let{data:e}=await h.db.from("tenant_whatsapp_configs").select("id, is_verified").maybeSingle();if(e&&e.is_verified){Z(!0);let{data:t}=await h.db.from("tenant_whatsapp_numbers").select("*").eq("whatsapp_config_id",e.id).eq("is_active",!0);t&&(J(t),t.length>0&&f(t[0].phone_number))}else Z(!1)},ew=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;el({valid:l.size,duplicates:r,invalid:i})},e_=e=>{w(e);let t=W.find(t=>t.id===e);t&&(k(t.body_content),"image"===t.header_type&&t.header_content?(L(t.header_content),q("image")):(L(""),q("none")))},eF=async()=>{if(!m||!p||!b||!F||!e)return void alert("Please fill in all required fields");if(0===ea.valid)return void alert("Please add valid phone numbers");try{let{data:t,error:s}=await h.db.from("whatsapp_campaigns").insert({user_id:e.id,campaign_name:m,message_type:p,sender_number:b,message:F,template_id:j||null,media_url:R||null,media_type:"none"!==$?$:null,recipient_source:C,total_recipients:M.split("\n").filter(e=>e.trim()).length,valid_numbers:ea.valid,invalid_numbers:ea.invalid,duplicate_numbers:ea.duplicates,status:"now"===P?"in_progress":"scheduled",created_by:e.id}).select().single();if(s)throw s;alert("Campaign created successfully!"),eA(),ef()}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},ek=async e=>{try{let{error:t}=await h.db.from("whatsapp_campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;alert("Campaign paused successfully"),ef()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},eC=async e=>{try{let{error:t}=await h.db.from("whatsapp_campaigns").update({status:"in_progress"}).eq("id",e);if(t)throw t;alert("Campaign resumed successfully"),ef()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}},eS=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("whatsapp_campaigns").delete().eq("id",e);if(t)throw t;alert("Campaign deleted successfully"),ef()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},eM=async()=>{if(!ed.name||!ed.body_content||!e)return void alert("Please fill in required fields (Name and Body Content)");try{let e,t=/{{([^}]+)}}/g,s=[];for(;null!==(e=t.exec(ed.body_content));)s.push(e[1].trim());let{error:a}=await h.db.from("whatsapp_templates").insert({name:ed.name,category:ed.category,description:ed.description,body_content:ed.body_content,language:ed.language,header_type:ed.header_type,header_content:ed.header_content,footer_text:ed.footer_text,buttons:JSON.stringify(ed.buttons),variables:JSON.stringify(s),use_case:ed.use_case,is_default:ed.is_default});if(a)throw a;alert("Template saved successfully!"),eo(!1),ec({name:"",category:"marketing",description:"",body_content:"",language:"en_US",header_type:"none",header_content:"",footer_text:"",buttons:[],use_case:"",is_default:!1}),eN()}catch(e){console.error("Error saving WhatsApp template:",e),alert("Failed to save template")}},eA=()=>{u(""),g(""),f(""),w(""),k(""),I(""),S("paste"),I(""),D("now"),L(""),q("none"),V("url"),z(null)},eI=()=>Math.ceil(F.length/160)||1,eP=e=>{switch(e){case"completed":case"in_progress":case"scheduled":case"failed":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},eT=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-[#012419]",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:et.totalSent.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(tt.default,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:et.delivered.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsxs)("p",{className:"text-[#39FF14] text-sm",children:[et.totalSent?Math.round(et.delivered/et.totalSent*100):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:et.pending.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(ee.Clock,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:et.failed.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-xl",children:(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-[#39FF14]"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>n("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===i?"bg-[#39FF14] text-black font-semibold":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,t.jsx)("button",{onClick:()=>n("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===i?"bg-[#39FF14] text-black font-semibold":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>n("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===i?"bg-[#39FF14] text-black font-semibold":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsxs)("button",{onClick:()=>n("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===i?"bg-[#39FF14] text-black font-semibold":"text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===i&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[!er&&!Y&&(0,t.jsx)("div",{className:"bg-[#39FF14]/5 border border-[#39FF14]/30 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-[#39FF14] flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-[#39FF14] font-semibold text-lg mb-2",children:"WhatsApp API Not Configured"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"You need to configure your WhatsApp Business Account before sending messages. Connect your Meta Business Account to start sending WhatsApp API campaigns."}),(0,t.jsxs)("button",{onClick:()=>n("configuration"),className:"flex items-center gap-2 px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg transition-all font-semibold",children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configure WhatsApp API Now"]})]})]})}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose Whatsapp API Message"}),(0,t.jsxs)("button",{className:"text-[#39FF14] hover:text-green-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Type ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"",children:"Select Message Type"}),(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"media",children:"Media Message"}),(0,t.jsx)("option",{value:"template",children:"Template Message"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender Number ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500",disabled:!Y||0===H.length,children:[(0,t.jsx)("option",{value:"",children:0===H.length?"No numbers available - Configure WhatsApp":"Select Sender Number"}),H.map(e=>(0,t.jsxs)("option",{value:e.phone_number,children:[e.display_phone_number||e.phone_number,e.verified_name&&` - ${e.verified_name}`]},e.id))]}),!er&&!Y&&(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Configure WhatsApp to see available numbers"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,t.jsxs)("button",{onClick:()=>n("templates"),className:"text-[#39FF14] hover:text-slate-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(o.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,t.jsxs)("select",{value:j,onChange:e=>e_(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Template"}),W.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsx)("textarea",{value:F,onChange:e=>k(e.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",F.length," | Total SMS: ",eI()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Add Media (Image)"}),R&&(0,t.jsxs)("button",{onClick:()=>{L(""),q("none"),z(null)},className:"text-[#39FF14] hover:text-red-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(y.X,{className:"w-3 h-3"}),"Remove Media"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("button",{onClick:()=>V("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"url"===U?"bg-green-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"URL"}),(0,t.jsx)("button",{onClick:()=>V("upload"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"upload"===U?"bg-green-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"Upload File"})]}),"url"===U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:B?"":R,onChange:e=>{L(e.target.value),e.target.value?q("image"):q("none"),z(null)},placeholder:"https://images.unsplash.com/photo-...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Provide a direct link to an image (JPEG, PNG, GIF, WebP)"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-6 text-center hover:border-green-500 transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, WebP)");if(t.size>5242880)return void alert("Image size must be less than 5MB");let s=new FileReader;s.onloadend=()=>{L(s.result),q("image"),z(t)},s.readAsDataURL(t)},className:"hidden",id:"whatsapp-image-upload"}),(0,t.jsx)("label",{htmlFor:"whatsapp-image-upload",className:"cursor-pointer",children:B?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-10 h-10 text-[#39FF14] mx-auto"}),(0,t.jsx)("p",{className:"text-white font-medium",children:B.name}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs",children:[(B.size/1024).toFixed(2)," KB"]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tY.default,{className:"w-10 h-10 text-slate-500 mx-auto"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Click to select an image"}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:"JPEG, PNG, GIF, WebP (Max 5MB)"})]})})]}),B&&R&&(0,t.jsx)("div",{className:"mt-3 rounded-lg overflow-hidden border border-slate-700",children:(0,t.jsx)("img",{src:R,alt:"Preview",className:"w-full h-32 object-cover"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"paste"===C,onChange:()=>S("paste"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"upload"===C,onChange:()=>S("upload"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"phonebook"===C,onChange:()=>S("phonebook"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{value:M,onChange:e=>I(e.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",M.split("\n").filter(e=>e.trim()).length]}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["● Valid Numbers: ",ea.valid]}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["● Duplicates: ",ea.duplicates]}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["● Invalid Numbers: ",ea.invalid]})]})]})]}),"upload"===C&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,t.jsx)(tY.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===C&&(0,t.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select Phonebook"}),(0,t.jsx)("option",{value:"customers",children:"Customers"}),(0,t.jsx)("option",{value:"leads",children:"Leads"}),(0,t.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"now"===P,onChange:()=>D("now"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"schedule"===P,onChange:()=>D("schedule"),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:eA,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:eF,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-[#075e54] px-4 py-3 flex items-center justify-between border-b border-[#054d44]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,t.jsx)(l.default,{className:"w-4 h-4 text-slate-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:b||"Business Name"}),(0,t.jsx)("p",{className:"text-[10px] text-green-200",children:"online"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tQ.default,{className:"w-4 h-4 text-white/70"}),(0,t.jsx)(t0.default,{className:"w-3 h-3 text-white/70"})]})]}),(0,t.jsxs)("div",{className:"h-[380px] bg-[#e5ddd5] p-3 overflow-y-auto relative border-x border-slate-100",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none",style:{backgroundImage:"radial-gradient(#000 1px, transparent 0)",backgroundSize:"20px 20px"}}),(0,t.jsx)("div",{className:"text-center mb-4 relative z-10",children:(0,t.jsx)("span",{className:"text-[10px] bg-[#dcf8c6] px-2 py-1 rounded shadow-sm text-slate-600",children:a?eT():"--:--"})}),(0,t.jsx)("div",{className:"flex justify-start mb-4 relative z-10",children:(0,t.jsx)("div",{className:"max-w-[85%]",children:(0,t.jsxs)("div",{className:"bg-white text-slate-800 rounded-lg rounded-tl-none px-3 py-2 shadow-sm relative",children:[(0,t.jsx)("div",{className:"absolute top-0 -left-2 w-0 h-0 border-t-[8px] border-t-white border-l-[8px] border-l-transparent"}),R&&"image"===$&&(0,t.jsx)("div",{className:"mb-2 -mx-3 -mt-2 rounded-t-lg overflow-hidden border-b border-slate-100",children:(0,t.jsx)("img",{src:R,alt:"Media preview",className:"w-full h-40 object-cover"})}),(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:F||"Hello! Type your message..."}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1 mt-1",children:[(0,t.jsx)("p",{className:"text-[9px] text-slate-400",children:a?eT():"--:--"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(N.CheckCircle,{className:"w-2 h-2 text-[#39FF14]"}),(0,t.jsx)(N.CheckCircle,{className:"w-2 h-2 text-[#39FF14] -ml-1"})]})]})]})})})]}),(0,t.jsxs)("div",{className:"bg-[#f0f0f0] p-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-white rounded-full px-4 py-2 flex items-center gap-2 h-9",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"Type a message"})}),(0,t.jsx)("button",{className:"bg-[#075e54] text-white p-2.5 rounded-full shadow-lg",children:(0,t.jsx)(tt.default,{className:"w-4 h-4"})})]})]})}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:F.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:eI()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:ea.valid})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:G.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-medium text-sm",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${eP(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"Scheduled"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:["Sent: ",e.valid_numbers?.toLocaleString()||0]}),(0,t.jsxs)("span",{children:["Delivered: ",e.valid_numbers?.toLocaleString()||0]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.created_at).toLocaleString()})]},e.id))}),G.length>3&&(0,t.jsx)("button",{onClick:()=>n("campaigns"),className:"w-full mt-3 text-[#39FF14] hover:text-green-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===i&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,t.jsxs)("button",{onClick:()=>n("compose"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===c?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>x("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===c?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,t.jsx)("button",{onClick:()=>x("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===c?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,t.jsx)("button",{onClick:()=>x("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===c?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,t.jsx)("button",{onClick:()=>x("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===c?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,t.jsx)("button",{onClick:()=>x("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===c?"bg-[#39FF14] text-black":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===G.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(T.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first WhatsApp campaign to get started"}),(0,t.jsxs)("button",{onClick:()=>n("compose"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:G.map(e=>{let s=eh[e.id]||[],a=ex===e.id,l=ep[e.id],r=s.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[e.media_url&&"image"===e.media_type&&(0,t.jsx)("div",{className:"w-10 h-10 rounded border border-slate-700 overflow-hidden flex-shrink-0",children:(0,t.jsx)("img",{src:e.media_url,alt:"Thumb",className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.campaign_name}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${eP(e.status)}`,children:e.status}),e.media_url&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-slate-500",children:[(0,t.jsx)(tY.default,{className:"w-3 h-3"})," Media Attached"]})]})]})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>ek(e.id),className:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,t.jsx)(tc.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>eC(e.id),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,t.jsx)(e2.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>eS(e.id),className:"bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ev(e.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tp.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_recipients.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,t.jsx)("p",{className:"text-[#39FF14] text-lg font-semibold",children:e.valid_numbers.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[e.total_recipients>0?Math.round(e.valid_numbers/e.total_recipients*100):0,"%"]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(ee.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(T.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Campaign Message Preview"})}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 mb-6 max-w-lg",children:[e.media_url&&"image"===e.media_type&&(0,t.jsx)("div",{className:"mb-3 rounded-lg overflow-hidden border border-slate-700",children:(0,t.jsx)("img",{src:e.media_url,alt:"Campaign Media",className:"w-full h-48 object-cover"})}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("p",{className:"text-sm text-white whitespace-pre-line",children:e.message||"No message content"}),e.template_id&&(0,t.jsxs)("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:["Template ID: ",e.template_id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"Read: ",r.read||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",r.delivered||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(tt.default,{className:"w-4 h-4"}),"Sent: ",r.sent||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),"Pending: ",r.pending||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[#39FF14]",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"}),"Failed: ",r.failed||0]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Read At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(e=>{switch(e){case"read":case"delivered":case"sent":case"pending":case"failed":return"text-[#39FF14]";default:return"text-slate-400"}})(e.status)}`,children:[(e=>{switch(e){case"read":case"delivered":return(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,t.jsx)(tt.default,{className:"w-4 h-4"});case"pending":default:return(0,t.jsx)(ee.Clock,{className:"w-4 h-4"});case"failed":return(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"})}})(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.read_at?new Date(e.read_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.error_message?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-[#39FF14] text-xs",children:e.error_message})]}):(0,t.jsx)("span",{className:"text-slate-500",children:"-"})})]},e.id))})]})}),100===s.length&&(0,t.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},e.id)})})]}),"configuration"===i&&(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:(0,t.jsx)(st,{onConfigUpdate:()=>{ey(),n("compose")}})}),"templates"===i&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"WhatsApp Message Templates"}),(0,t.jsxs)("button",{onClick:()=>eo(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===W.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded-full border border-[#39FF14]/30",children:"Default"})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===e.category||"transactional"===e.category||"marketing"===e.category||"otp"===e.category||"reminder"===e.category?"bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:e.category}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded",children:e.language})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),e.header_content&&"image"===e.header_type&&(0,t.jsx)("div",{className:"mb-3 rounded overflow-hidden",children:(0,t.jsx)("img",{src:e.header_content,alt:e.name,className:"w-full h-32 object-cover"})}),e.header_content&&"text"===e.header_type&&(0,t.jsx)("div",{className:"bg-slate-800 rounded p-2 mb-2",children:(0,t.jsx)("p",{className:"text-white text-sm font-semibold",children:e.header_content})}),(0,t.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-2",children:(0,t.jsx)("p",{className:"text-slate-300 text-xs line-clamp-4 whitespace-pre-line",children:e.body_content})}),e.footer_text&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("p",{className:"text-slate-500 text-xs italic",children:e.footer_text})}),e.buttons&&e.buttons.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Action Buttons:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.buttons.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded border border-[#39FF14]/30",children:e.text},s))})]}),e.variables&&e.variables.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:e},s))})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:e.use_case}),(0,t.jsx)("button",{onClick:()=>{n("compose"),e_(e.id)},className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},e.id))})]}),en&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create WhatsApp Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your message template for automated responses"})]}),(0,t.jsx)("button",{onClick:()=>eo(!1),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-slate-800 rounded-lg",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template Name*"}),(0,t.jsx)("input",{type:"text",value:ed.name,onChange:e=>ec({...ed,name:e.target.value}),placeholder:"e.g. welcome_message",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category*"}),(0,t.jsxs)("select",{value:ed.category,onChange:e=>ec({...ed,category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"marketing",children:"Marketing"}),(0,t.jsx)("option",{value:"utility",children:"Utility"}),(0,t.jsx)("option",{value:"authentication",children:"Authentication"}),(0,t.jsx)("option",{value:"promotional",children:"Promotional"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Language*"}),(0,t.jsxs)("select",{value:ed.language,onChange:e=>ec({...ed,language:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"en_US",children:"English (US)"}),(0,t.jsx)("option",{value:"ms_MY",children:"Malay (Malaysia)"}),(0,t.jsx)("option",{value:"zh_CN",children:"Chinese (Simplified)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Header Type"}),(0,t.jsxs)("select",{value:ed.header_type,onChange:e=>ec({...ed,header_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"none",children:"None"}),(0,t.jsx)("option",{value:"text",children:"Text"}),(0,t.jsx)("option",{value:"image",children:"Image URL"})]})]})]}),"none"!==ed.header_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"text"===ed.header_type?"Header Text":"Image URL"}),(0,t.jsx)("input",{type:"text",value:ed.header_content,onChange:e=>ec({...ed,header_content:e.target.value}),placeholder:"text"===ed.header_type?"Enter header text":"https://example.com/image.jpg",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Body Content*"}),(0,t.jsx)("textarea",{value:ed.body_content,onChange:e=>ec({...ed,body_content:e.target.value}),placeholder:"Hello {{name}}, welcome to our service!",rows:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Use double curly braces for variables, e.g., ","{{name}}"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Footer Text (Optional)"}),(0,t.jsx)("input",{type:"text",value:ed.footer_text,onChange:e=>ec({...ed,footer_text:e.target.value}),placeholder:"Reply STOP to opt out",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Buttons (Max 3)"}),ed.buttons.length<3&&(0,t.jsxs)("button",{onClick:()=>ec({...ed,buttons:[...ed.buttons,{text:"",type:"QUICK_REPLY"}]}),className:"text-xs text-[#39FF14] hover:text-green-300 flex items-center gap-1",children:[(0,t.jsx)(_.default,{className:"w-3 h-3"})," Add Button"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:ed.buttons.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-3 items-start bg-slate-800/50 p-3 rounded-lg border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("input",{type:"text",value:e.text,onChange:e=>{let t=[...ed.buttons];t[s].text=e.target.value,ec({...ed,buttons:t})},placeholder:"Button Text",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-1.5 text-sm text-white focus:outline-none"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:e.type,onChange:e=>{let t=[...ed.buttons];t[s].type=e.target.value,ec({...ed,buttons:t})},className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white",children:[(0,t.jsx)("option",{value:"QUICK_REPLY",children:"Quick Reply"}),(0,t.jsx)("option",{value:"URL",children:"Visit Website"}),(0,t.jsx)("option",{value:"PHONE_NUMBER",children:"Call Number"})]}),"QUICK_REPLY"!==e.type&&(0,t.jsx)("input",{type:"text",value:e.value||"",onChange:e=>{let t=[...ed.buttons];t[s].value=e.target.value,ec({...ed,buttons:t})},placeholder:"URL"===e.type?"https://...":"+1...",className:"flex-[2] bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white"})]})]}),(0,t.jsx)("button",{onClick:()=>ec({...ed,buttons:ed.buttons.filter((e,t)=>t!==s)}),className:"text-[#39FF14] hover:text-red-300 p-1",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/30 rounded-2xl p-6 border border-slate-700 flex flex-col items-center justify-center",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"WhatsApp Message Preview"}),(0,t.jsx)("div",{className:"w-full max-w-[320px] bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl scale-90 lg:scale-100 origin-top",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden min-h-[400px]",children:[(0,t.jsx)("div",{className:"bg-[#075e54] px-4 py-3 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,t.jsx)(t7.default,{className:"w-4 h-4 text-slate-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:"Business Name"}),(0,t.jsx)("p",{className:"text-[10px] text-green-200",children:"online"})]})]})}),(0,t.jsx)("div",{className:"p-3 space-y-0.5 bg-[#e5ddd5] min-h-[340px]",children:(0,t.jsxs)("div",{className:"max-w-[85%] bg-white rounded-lg rounded-tl-none shadow-sm overflow-hidden animate-in fade-in slide-in-from-left-2 duration-300",children:["image"===ed.header_type&&ed.header_content&&(0,t.jsx)("div",{className:"w-full h-32 overflow-hidden bg-slate-100",children:(0,t.jsx)("img",{src:ed.header_content,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"p-2 space-y-1",children:["text"===ed.header_type&&ed.header_content&&(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:ed.header_content}),(0,t.jsx)("p",{className:"text-sm text-slate-800 whitespace-pre-line",children:ed.body_content||"Body content preview will appear here..."}),ed.footer_text&&(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:ed.footer_text}),(0,t.jsx)("p",{className:"text-[9px] text-slate-400 text-right mt-1",children:"12:34 PM"})]}),ed.buttons.length>0&&(0,t.jsx)("div",{className:"border-t border-slate-100 divide-y divide-slate-100 bg-slate-50/50",children:ed.buttons.map((e,s)=>(0,t.jsxs)("div",{className:"py-2.5 px-3 flex items-center justify-center gap-2 text-[#00a884] text-sm font-medium",children:["URL"===e.type&&(0,t.jsx)(d.Settings,{className:"w-4 h-4 rotate-45"}),"PHONE_NUMBER"===e.type&&(0,t.jsx)(eb.Phone,{className:"w-4 h-4"}),e.text||"Button text"]},s))})]})})]})})]})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>eo(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Discard"}),(0,t.jsxs)("button",{onClick:eM,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-bold",children:[(0,t.jsx)(O.default,{className:"w-5 h-5"}),"Save Template"]})]})]})})]})}):null}var sl=e.i(37902),sr=e.i(44489),sr=sr,si=e.i(37423),si=si,e2=e2,sn=e.i(54832),sn=sn,p=p,eK=eK,x=x,_=_,v=v,t_=t_,C=C,so=e.i(73815),so=so,L=L,e3=e3,u=u,k=k,ew=ew;let sd=(0,s.createContext)(null);function sc(){let e=(0,s.useContext)(sd);if(!e)throw Error("useIVR must be used within IVRProvider");return e}function sx({children:e}){let[a,l]=(0,s.useState)({project:null,currentPage:null,selectedNodes:[],clipboard:[],history:[],historyIndex:-1,viewport:{x:0,y:0,zoom:1},validationErrors:[]}),r=(0,s.useCallback)(e=>{l(t=>{let s=t.history.slice(0,t.historyIndex+1);return s.push(JSON.parse(JSON.stringify(e))),{...t,history:s.slice(-50),historyIndex:Math.min(s.length-1,49)}})},[]),i=(0,s.useCallback)((e,t)=>{let s={id:`project_${Date.now()}`,name:e,description:t,pages:[{id:`page_${Date.now()}`,name:"Main",nodes:[],connections:[]}],variables:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"draft",version:1};l(e=>({...e,project:s,currentPage:s.pages[0].id,selectedNodes:[],history:[s],historyIndex:0}))},[]),n=(0,s.useCallback)(e=>{l(t=>({...t,project:e,currentPage:e.pages[0]?.id||null,selectedNodes:[],history:[e],historyIndex:0}))},[]),o=(0,s.useCallback)(e=>{l(t=>{if(!t.project)return t;let s={...t.project,...e,updated_at:new Date().toISOString()};return r(s),{...t,project:s}})},[r]),d=(0,s.useCallback)(()=>a.project&&a.currentPage&&a.project.pages.find(e=>e.id===a.currentPage)||null,[a.project,a.currentPage]),c=(0,s.useCallback)(e=>{l(t=>{if(!t.project)return t;let s={id:`page_${Date.now()}`,name:e,nodes:[],connections:[]},a={...t.project,pages:[...t.project.pages,s],updated_at:new Date().toISOString()};return r(a),{...t,project:a,currentPage:s.id}})},[r]),x=(0,s.useCallback)(e=>{l(t=>{if(!t.project||t.project.pages.length<=1)return t;let s=t.project.pages.filter(t=>t.id!==e),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a,currentPage:t.currentPage===e?s[0].id:t.currentPage}})},[r]),m=(0,s.useCallback)(e=>{l(t=>({...t,currentPage:e,selectedNodes:[]}))},[]),h=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage?s:{...s,nodes:[...s.nodes,e]}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a}})},[r]),u=(0,s.useCallback)((e,t)=>{l(s=>{if(!s.project||!s.currentPage)return s;let a=s.project.pages.map(a=>a.id!==s.currentPage?a:{...a,nodes:a.nodes.map(s=>s.id===e?{...s,...t}:s)}),l={...s.project,pages:a,updated_at:new Date().toISOString()};return r(l),{...s,project:l}})},[r]),p=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage?s:{...s,nodes:s.nodes.filter(t=>t.id!==e),connections:s.connections.filter(t=>t.from!==e&&t.to!==e)}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a,selectedNodes:t.selectedNodes.filter(t=>t!==e)}})},[r]),g=(0,s.useCallback)(e=>{e.forEach(e=>p(e))},[p]),b=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage||s.connections.some(t=>t.from===e.from&&t.to===e.to)?s:{...s,connections:[...s.connections,e]}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a}})},[r]),f=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage?s:{...s,connections:s.connections.filter(t=>t.id!==e)}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a}})},[r]),j=(0,s.useCallback)((e,t=!1)=>{l(s=>{if(t){let t=s.selectedNodes.includes(e);return{...s,selectedNodes:t?s.selectedNodes.filter(t=>t!==e):[...s.selectedNodes,e]}}return{...s,selectedNodes:[e]}})},[]),v=(0,s.useCallback)(()=>{l(e=>({...e,selectedNodes:[]}))},[]),N=(0,s.useCallback)(()=>{let e=d();if(!e)return;let t=e.nodes.filter(e=>a.selectedNodes.includes(e.id));l(e=>({...e,clipboard:t}))},[d,a.selectedNodes]),y=(0,s.useCallback)(e=>{if(0===a.clipboard.length)return;let t=e||{x:50,y:50};a.clipboard.map(e=>({...e,id:`node_${Date.now()}_${Math.random()}`,position:{x:e.position.x+t.x,y:e.position.y+t.y}})).forEach(e=>h(e))},[a.clipboard,h]),w=(0,s.useCallback)(()=>{l(e=>{if(e.historyIndex<=0)return e;let t=e.historyIndex-1;return{...e,project:e.history[t],historyIndex:t}})},[]),_=(0,s.useCallback)(()=>{l(e=>{if(e.historyIndex>=e.history.length-1)return e;let t=e.historyIndex+1;return{...e,project:e.history[t],historyIndex:t}})},[]),F=(0,s.useCallback)(e=>{l(t=>({...t,viewport:{...t.viewport,...e}}))},[]),k=(0,s.useCallback)(()=>{var e;let t;if(!a.project)return[];let s=(e=a.project,t=[],e.pages.forEach(e=>{var s,a;let l,r,i=e.nodes.filter(e=>"start"===e.type);0===i.length?t.push({nodeId:"page",type:"error",message:`Page "${e.name}" must have a start node`}):i.length>1&&t.push({nodeId:i[1].id,type:"error",message:`Page "${e.name}" can only have one start node`}),0===e.nodes.filter(e=>"endFlow"===e.type).length&&t.push({nodeId:"page",type:"warning",message:`Page "${e.name}" should have at least one end flow node`}),e.nodes.forEach(e=>{let s=function(e,t){let s=[];switch(e.type){case"setParams":e.parameters&&0!==Object.keys(e.parameters).length||s.push({nodeId:e.id,type:"warning",message:"SetParams node has no parameters defined",field:"parameters"});break;case"playMessage":e.messages&&0!==e.messages.length||s.push({nodeId:e.id,type:"error",message:"PlayMessage node must have at least one message",field:"messages"});break;case"getDigits":e.resultVariable&&""!==e.resultVariable.trim()||s.push({nodeId:e.id,type:"error",message:"GetDigits node must specify a result variable",field:"resultVariable"}),e.messages&&0!==e.messages.length||s.push({nodeId:e.id,type:"error",message:"GetDigits node must have at least one message",field:"messages"}),e.maxDigits<e.minDigits&&s.push({nodeId:e.id,type:"error",message:"Maximum digits cannot be less than minimum digits",field:"maxDigits"});break;case"playMenu":e.options&&0!==e.options.length||s.push({nodeId:e.id,type:"error",message:"PlayMenu node must have at least one option",field:"options"}),e.messages&&0!==e.messages.length||s.push({nodeId:e.id,type:"error",message:"PlayMenu node must have at least one message",field:"messages"});break;case"runScript":if(e.script&&""!==e.script.trim())try{Function(e.script)}catch(t){s.push({nodeId:e.id,type:"error",message:`Script has syntax errors: ${t.message}`,field:"script"})}else s.push({nodeId:e.id,type:"error",message:"RunScript node must have a script",field:"script"});break;case"switch":e.variable&&""!==e.variable.trim()||s.push({nodeId:e.id,type:"error",message:"Switch node must specify a variable",field:"variable"}),e.conditions&&0!==e.conditions.length||s.push({nodeId:e.id,type:"warning",message:"Switch node has no conditions",field:"conditions"});break;case"callAPI":e.url&&""!==e.url.trim()||s.push({nodeId:e.id,type:"error",message:"CallAPI node must specify a URL",field:"url"}),e.responseVariable&&""!==e.responseVariable.trim()||s.push({nodeId:e.id,type:"error",message:"CallAPI node must specify a response variable",field:"responseVariable"});break;case"endFlow":"transfer"!==e.endType||e.transferNumber&&""!==e.transferNumber.trim()||s.push({nodeId:e.id,type:"error",message:"Transfer end flow must specify a transfer number",field:"transferNumber"});break;case"jumperExit":e.jumperName&&""!==e.jumperName.trim()||s.push({nodeId:e.id,type:"error",message:"Jumper exit must specify a jumper name",field:"jumperName"});break;case"jumperEntry":e.jumperName&&""!==e.jumperName.trim()||s.push({nodeId:e.id,type:"error",message:"Jumper entry must specify a jumper name",field:"jumperName"})}return s}(e,0);t.push(...s)});let n=(s=e.nodes,a=e.connections,l=[],r=new Set(s.map(e=>e.id)),a.forEach(e=>{r.has(e.from)||l.push({nodeId:e.from,type:"error",message:`Connection references non-existent node: ${e.from}`}),r.has(e.to)||l.push({nodeId:e.to,type:"error",message:`Connection references non-existent node: ${e.to}`})}),s.forEach(e=>{"start"!==e.type&&"endFlow"!==e.type&&(a.some(t=>t.to===e.id)||l.push({nodeId:e.id,type:"warning",message:`Node "${e.name}" has no incoming connections`})),"endFlow"!==e.type&&"jumperExit"!==e.type&&(a.some(t=>t.from===e.id)||l.push({nodeId:e.id,type:"warning",message:`Node "${e.name}" has no outgoing connections`}))}),function(e,t,s){let a=new Map;e.forEach(e=>{a.set(e.id,[])}),t.forEach(e=>{let t=a.get(e.from)||[];t.push(e.to),a.set(e.from,t)});let l=new Set,r=new Set,i=[];for(let t of e)if(!l.has(t.id)&&function e(t){for(let s of(l.add(t),r.add(t),a.get(t)||[]))if(l.has(s)){if(r.has(s))return i.push(t),i.push(s),!0}else if(e(s))return i.push(t),!0;return r.delete(t),!1}(t.id)){s.push({nodeId:i[0],type:"warning",message:`Potential infinite loop detected involving these nodes: ${i.join(", ")}`});break}}(s,a,l),l);t.push(...n)}),t);return l(e=>({...e,validationErrors:s})),s},[a.project]),C=(0,s.useCallback)(()=>{let e=d();return e?e.nodes.filter(e=>a.selectedNodes.includes(e.id)):[]},[d,a.selectedNodes]),S={...a,createProject:i,loadProject:n,updateProject:o,addPage:c,deletePage:x,setCurrentPage:m,addNode:h,updateNode:u,deleteNode:p,deleteNodes:g,addConnection:b,deleteConnection:f,selectNode:j,clearSelection:v,copy:N,paste:y,undo:w,redo:_,setViewport:F,validate:k,getCurrentPage:d,getSelectedNodes:C};return(0,t.jsx)(sd.Provider,{value:S,children:e})}var e2=e2,sm=e.i(88081),sh=e.i(88284),sh=sh,tL=tL,su=e.i(60434),su=su,eO=eO,sp=e.i(63573),sp=sp;let sg={start:{icon:e2.default,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/50"},setParams:{icon:sm.Hash,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/50"},playMessage:{icon:tE.MessageCircle,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/50"},getDigits:{icon:sm.Hash,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/50"},playMenu:{icon:eb.Phone,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/50"},playConfirm:{icon:sp.default,color:"text-yellow-400",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/50"},runScript:{icon:P.Code,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/50"},switch:{icon:sh.default,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/20"},callAPI:{icon:Z.Globe,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/50"},endFlow:{icon:tL.default,color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/50"},connector:{icon:su.default,color:"text-slate-400",bgColor:"bg-slate-500/20",borderColor:"border-slate-500/50"},jumperEntry:{icon:eO.default,color:"text-emerald-400",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/50"},jumperExit:{icon:eO.default,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-amber-500/50"}};function sb({node:e,isSelected:s,onClick:a,onDoubleClick:l,hasError:r}){let i=sg[e.type]||sg.connector,n=i.icon;return(0,t.jsx)("div",{className:`absolute cursor-pointer transition-all duration-200 ${s?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":""}`,style:{left:e.position.x,top:e.position.y,width:200,height:80},onClick:a,onDoubleClick:l,children:(0,t.jsxs)("div",{className:`h-full rounded-xl border-2 backdrop-blur-sm ${i.bgColor} ${r?"border-red-500":i.borderColor} ${s?"shadow-lg shadow-[#39FF14]/20":""} flex items-center gap-3 px-4 relative`,children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${i.bgColor} ${r?"text-red-400":i.color}`,children:(0,t.jsx)(n,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-white font-semibold text-sm truncate",children:e.name}),e.description&&(0,t.jsx)("div",{className:"text-slate-400 text-xs truncate",children:e.description})]}),(0,t.jsx)("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-white border-2 border-slate-900"}),(0,t.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-white border-2 border-slate-900"})]})})}function sf({onNodeDoubleClick:e}){let a=(0,s.useRef)(null),{getCurrentPage:l,selectedNodes:r,selectNode:i,clearSelection:n,viewport:o,setViewport:d,validationErrors:c}=sc(),[x,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)({x:0,y:0}),[p,g]=(0,s.useState)(null),[b,f]=(0,s.useState)({x:0,y:0}),j=l(),v=j?.nodes||[],N=j?.connections||[],y=(0,s.useCallback)(e=>{0===e.button&&e.target===a.current&&(m(!0),u({x:e.clientX-o.x,y:e.clientY-o.y}),n())},[o,n]),w=(0,s.useCallback)(e=>{f({x:e.clientX,y:e.clientY}),x&&d({x:e.clientX-h.x,y:e.clientY-h.y})},[x,h,d]),_=(0,s.useCallback)(()=>{m(!1),g(null)},[]),F=(0,s.useCallback)(e=>{e.preventDefault();let t=e.deltaY>0?.9:1.1;d({zoom:Math.max(.25,Math.min(2,o.zoom*t))})},[o.zoom,d]);return(0,t.jsxs)("div",{ref:a,className:"relative w-full h-full bg-slate-900 overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:y,onMouseMove:w,onMouseUp:_,onWheel:F,children:[(()=>{if(!a.current)return null;let e=a.current.clientWidth,s=a.current.clientHeight,l=[],r=o.x%(20*o.zoom),i=o.y%(20*o.zoom);for(let a=r;a<e;a+=20*o.zoom)l.push((0,t.jsx)("line",{x1:a,y1:0,x2:a,y2:s,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1},`v-${a}`));for(let a=i;a<s;a+=20*o.zoom)l.push((0,t.jsx)("line",{x1:0,y1:a,x2:e,y2:a,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1},`h-${a}`));return(0,t.jsx)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:l})})(),N.map(e=>{let s=v.find(t=>t.id===e.from),a=v.find(t=>t.id===e.to);if(!s||!a)return null;let l=s.position.x+200+o.x,r=s.position.y+40+o.y,i=a.position.x+o.x,n=a.position.y+40+o.y,d=(l+i)/2;return(0,t.jsxs)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:(0,t.jsx)("polygon",{points:"0 0, 10 3, 0 6",fill:"#39FF14"})})}),(0,t.jsx)("path",{d:`M ${l} ${r} C ${d} ${r}, ${d} ${n}, ${i} ${n}`,stroke:"#39FF14",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",opacity:"0.6"}),e.label&&(0,t.jsx)("text",{x:d,y:(r+n)/2-5,fill:"#94a3b8",fontSize:"12",textAnchor:"middle",children:e.label})]},e.id)}),(0,t.jsx)("div",{className:"absolute",style:{transform:`translate(${o.x}px, ${o.y}px) scale(${o.zoom})`,transformOrigin:"0 0",zIndex:2},children:v.map(s=>{let a=c.some(e=>e.nodeId===s.id&&"error"===e.type);return(0,t.jsx)(sb,{node:s,isSelected:r.includes(s.id),onClick:()=>i(s.id,!1),onDoubleClick:()=>e?.(s),hasError:a},s.id)})}),(0,t.jsxs)("div",{className:"absolute bottom-4 right-4 bg-slate-800/90 backdrop-blur-sm px-3 py-1 rounded-lg text-white text-xs font-mono border border-white/10",children:[Math.round(100*o.zoom),"%"]}),0===v.length&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-slate-600 text-lg font-bold mb-2",children:"Empty Canvas"}),(0,t.jsx)("div",{className:"text-slate-700 text-sm",children:"Drag nodes from the toolbar to get started"})]})})]})}var e2=e2,sh=sh,tL=tL,su=su,eO=eO,sp=sp,sj=e.i(187),sj=sj,sv=e.i(63689),sv=sv,tN=tN,sN=e.i(68586),sN=sN,sy=e.i(49191),sy=sy,O=O,x=x,tY=tY,p=p;let sw=[{type:"start",label:"Start",icon:e2.default,category:"flow"},{type:"setParams",label:"Set Parameters",icon:sm.Hash,category:"flow"},{type:"playMessage",label:"Play Message",icon:tE.MessageCircle,category:"interaction"},{type:"getDigits",label:"Get Digits",icon:sm.Hash,category:"interaction"},{type:"playMenu",label:"Play Menu",icon:eb.Phone,category:"interaction"},{type:"playConfirm",label:"Confirmation",icon:sp.default,category:"interaction"},{type:"runScript",label:"Run Script",icon:P.Code,category:"logic"},{type:"switch",label:"Switch",icon:sh.default,category:"logic"},{type:"callAPI",label:"API Call",icon:Z.Globe,category:"integration"},{type:"endFlow",label:"End Flow",icon:tL.default,category:"flow"},{type:"connector",label:"Connector",icon:su.default,category:"flow"},{type:"jumperEntry",label:"Jump Entry",icon:eO.default,category:"flow"},{type:"jumperExit",label:"Jump Exit",icon:eO.default,category:"flow"}];function s_({onSave:e,onExport:a,onImport:l}){let{viewport:r,setViewport:i,undo:n,redo:o,history:d,historyIndex:c,addNode:m,validate:h,validationErrors:u,getCurrentPage:g}=sc(),[b,f]=(0,s.useState)(""),[j,v]=(0,s.useState)("all"),[y,w]=(0,s.useState)(!1),_=g(),F=c<d.length-1,k=sw.filter(e=>{let t=e.label.toLowerCase().includes(b.toLowerCase()),s="all"===j||e.category===j;return t&&s}),C=e=>{"fit"===e?i({zoom:1,x:0,y:0}):i({zoom:Math.max(.25,Math.min(2,r.zoom*("in"===e?1.2:.8)))})},S=u.filter(e=>"error"===e.type).length,M=u.filter(e=>"warning"===e.type).length;return(0,t.jsxs)("div",{className:"w-80 h-full bg-slate-900 border-r border-white/10 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"IVR Workflow Builder"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:n,disabled:!(c>0),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Undo",children:(0,t.jsx)(sN.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:o,disabled:!F,className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Redo",children:(0,t.jsx)(sy.default,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("button",{onClick:()=>C("out"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Zoom Out",children:(0,t.jsx)(sv.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>C("fit"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Fit to Screen",children:(0,t.jsx)(tN.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>C("in"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Zoom In",children:(0,t.jsx)(sj.default,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,t.jsxs)("button",{onClick:e,className:"flex-1 px-3 py-2 rounded-lg bg-[#39FF14] hover:bg-[#32e012] text-black text-sm font-semibold transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"}),"Save"]}),(0,t.jsx)("button",{onClick:()=>{h(),w(!0),setTimeout(()=>w(!1),3e3)},className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Validate Flow",children:(0,t.jsx)(E.AlertCircle,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:a,className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Export",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:l,className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Import",children:(0,t.jsx)(tY.default,{className:"w-4 h-4"})})]})]}),y&&u.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-white/5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"text-white font-semibold text-sm mb-2",children:"Validation Results"}),S>0&&(0,t.jsxs)("div",{className:"text-red-400 text-xs flex items-center gap-2 mb-1",children:[(0,t.jsx)(E.AlertCircle,{className:"w-3 h-3"}),S," error",1!==S?"s":""]}),M>0&&(0,t.jsxs)("div",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[(0,t.jsx)(E.AlertCircle,{className:"w-3 h-3"}),M," warning",1!==M?"s":""]})]}),y&&0===u.length&&(0,t.jsx)("div",{className:"p-4 bg-green-500/10 border-b border-green-500/20",children:(0,t.jsxs)("div",{className:"text-green-400 text-sm flex items-center gap-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"No validation errors"]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search nodes...",value:b,onChange:e=>f(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-4 flex-wrap",children:["all","flow","interaction","logic","integration"].map(e=>(0,t.jsx)("button",{onClick:()=>v(e),className:`px-3 py-1 rounded-lg text-xs font-semibold uppercase tracking-wider transition-all ${j===e?"bg-[#39FF14] text-black":"bg-white/5 text-slate-400 hover:bg-white/10"}`,children:e},e))}),(0,t.jsx)("div",{className:"space-y-2",children:k.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>(e=>{let t,s={id:`node_${Date.now()}`,name:sw.find(t=>t.type===e)?.label||e,position:{x:100,y:100},type:e};switch(e){case"start":t={...s,type:"start"};break;case"setParams":t={...s,type:"setParams",parameters:{},variables:{}};break;case"playMessage":t={...s,type:"playMessage",messages:[],loop:1,bargeIn:!0};break;case"getDigits":t={...s,type:"getDigits",messages:[],resultVariable:"userInput",minDigits:1,maxDigits:1,timeout:5e3,attempts:3};break;case"playMenu":t={...s,type:"playMenu",messages:[],options:[],timeout:5e3,attempts:3};break;case"playConfirm":t={...s,type:"playConfirm",messages:[],confirmKey:"1",cancelKey:"2",timeout:5e3};break;case"runScript":t={...s,type:"runScript",script:"// Enter JavaScript code here",variables:[]};break;case"switch":t={...s,type:"switch",variable:"",conditions:[],defaultAction:""};break;case"callAPI":t={...s,type:"callAPI",url:"",method:"GET",responseVariable:"apiResponse",timeout:3e4};break;case"endFlow":t={...s,type:"endFlow",endType:"disconnect"};break;case"connector":t={...s,type:"connector"};break;case"jumperEntry":t={...s,type:"jumperEntry",jumperName:"jumper1"};break;case"jumperExit":t={...s,type:"jumperExit",jumperName:"jumper1"};break;default:return}m(t)})(e.type),className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 hover:border-[#39FF14]/50 transition-all group",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-[#39FF14]/20 text-[#39FF14] group-hover:bg-[#39FF14]/20",children:(0,t.jsx)(s,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"text-white text-sm font-medium",children:e.label})]},e.type)})}),0===k.length&&(0,t.jsx)("div",{className:"text-center text-slate-500 text-sm py-8",children:"No nodes match your search"})]}),_&&(0,t.jsx)("div",{className:"p-4 border-t border-white/10 bg-white/5",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Nodes"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:_.nodes.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Connections"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:_.connections.length})]})]})})]})}function sF({node:e,onClose:a}){let{updateNode:l}=sc(),[r,i]=(0,s.useState)(e);if(!r)return(0,t.jsx)("div",{className:"w-80 h-full bg-slate-900 border-l border-white/10 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-slate-500",children:[(0,t.jsx)("div",{className:"mb-2",children:"No node selected"}),(0,t.jsx)("div",{className:"text-xs",children:"Double-click a node to edit its properties"})]})});let n=(e,t)=>{i({...r,[e]:t}),l(r.id,{[e]:t})};return(0,t.jsxs)("div",{className:"w-80 h-full bg-slate-900 border-l border-white/10 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:"Node Properties"}),(0,t.jsx)("button",{onClick:a,className:"p-1 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Node Name"}),(0,t.jsx)("input",{type:"text",value:r.name,onChange:e=>n("name",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{value:r.description||"",onChange:e=>n("description",e.target.value),rows:2,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] resize-none"})]}),function(e,s){switch(e.type){case"getDigits":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Result Variable"}),(0,t.jsx)("input",{type:"text",value:e.resultVariable,onChange:e=>s("resultVariable",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Min Digits"}),(0,t.jsx)("input",{type:"number",value:e.minDigits,onChange:e=>s("minDigits",parseInt(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Max Digits"}),(0,t.jsx)("input",{type:"number",value:e.maxDigits,onChange:e=>s("maxDigits",parseInt(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Timeout (ms)"}),(0,t.jsx)("input",{type:"number",value:e.timeout,onChange:e=>s("timeout",parseInt(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})]});case"runScript":return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"JavaScript Code"}),(0,t.jsx)("textarea",{value:e.script,onChange:e=>s("script",e.target.value),rows:10,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white font-mono focus:outline-none focus:ring-2 focus:ring-[#39FF14] resize-none",placeholder:"// Enter JavaScript code here"}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:[(0,t.jsx)(E.AlertCircle,{className:"w-3 h-3 inline mr-1"}),"Use $variableName to access IVR variables"]})]});case"switch":return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Variable to Switch On"}),(0,t.jsx)("input",{type:"text",value:e.variable,onChange:e=>s("variable",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",placeholder:"$variableName"})]});case"callAPI":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"API URL"}),(0,t.jsx)("input",{type:"url",value:e.url,onChange:e=>s("url",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",placeholder:"https://api.example.com/endpoint"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"HTTP Method"}),(0,t.jsxs)("select",{value:e.method,onChange:e=>s("method",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"}),(0,t.jsx)("option",{value:"DELETE",children:"DELETE"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Response Variable"}),(0,t.jsx)("input",{type:"text",value:e.responseVariable,onChange:e=>s("responseVariable",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})]});case"endFlow":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"End Type"}),(0,t.jsxs)("select",{value:e.endType,onChange:e=>s("endType",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"disconnect",children:"Disconnect"}),(0,t.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),"transfer"===e.endType&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Transfer Number"}),(0,t.jsx)("input",{type:"tel",value:e.transferNumber||"",onChange:e=>s("transferNumber",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",placeholder:"+1234567890"})]})]});case"jumperEntry":case"jumperExit":return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Jumper Name"}),(0,t.jsx)("input",{type:"text",value:e.jumperName,onChange:e=>s("jumperName",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",placeholder:"jumper1"})]});default:return(0,t.jsx)("div",{className:"text-center text-slate-500 text-sm py-4",children:"No additional properties for this node type"})}}(r,n)]})]})}var _=_,p=p,g=g,f=f;function sk({onProjectSelect:e,onCreateNew:a}){let[l]=(0,s.useState)([{id:"ivr_sample_1",name:"Customer Support Routing",description:"Routes customers to appropriate departments based on their selection. Includes sales, support, and billing options.",pages:[{id:"page_1",name:"Main Menu",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMenu",name:"Main Menu",position:{x:350,y:100},messages:[],options:[],timeout:5e3,attempts:3},{id:"node_3",type:"endFlow",name:"End Call",position:{x:600,y:100},endType:"disconnect"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"}]}],variables:{},created_at:"2026-02-15T10:00:00Z",updated_at:"2026-02-17T14:30:00Z",status:"active",version:2},{id:"ivr_sample_2",name:"After Hours Support",description:"Handles incoming calls outside business hours with AI-powered voicemail and emergency routing options.",pages:[{id:"page_1",name:"After Hours Flow",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMessage",name:"After Hours Message",position:{x:350,y:100},messages:[],loop:1,bargeIn:!0},{id:"node_3",type:"playConfirm",name:"Emergency?",position:{x:600,y:100},messages:[],confirmKey:"1",cancelKey:"2",timeout:5e3},{id:"node_4",type:"endFlow",name:"Disconnect",position:{x:850,y:100},endType:"disconnect"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"}]}],variables:{},created_at:"2026-02-10T08:00:00Z",updated_at:"2026-02-16T16:45:00Z",status:"active",version:3},{id:"ivr_sample_3",name:"Account Verification Flow",description:"Collects and verifies customer account information using DTMF input and API validation before routing to live agent.",pages:[{id:"page_1",name:"Verification",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"getDigits",name:"Get Account #",position:{x:350,y:100},messages:[],resultVariable:"accountNumber",minDigits:8,maxDigits:10,timeout:5e3,attempts:3},{id:"node_3",type:"callAPI",name:"Verify Account",position:{x:600,y:100},url:"https://api.example.com/verify",method:"POST",responseVariable:"apiResponse",timeout:3e4},{id:"node_4",type:"switch",name:"Check Result",position:{x:850,y:100},variable:"apiResponse",conditions:[],defaultAction:""},{id:"node_5",type:"endFlow",name:"Transfer to Agent",position:{x:1100,y:100},endType:"transfer",transferNumber:"+1234567890"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"},{id:"conn_4",from:"node_4",to:"node_5"}]}],variables:{accountNumber:"",apiResponse:""},created_at:"2026-02-12T12:00:00Z",updated_at:"2026-02-17T09:15:00Z",status:"draft",version:1},{id:"ivr_sample_4",name:"Multilingual Welcome",description:"Detects caller language preference and routes to appropriate language-specific menu and support team.",pages:[{id:"page_1",name:"Language Selection",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMenu",name:"Language Menu",position:{x:350,y:100},messages:[],options:[],timeout:5e3,attempts:3},{id:"node_3",type:"runScript",name:"Set Language",position:{x:600,y:100},script:"// Set language",variables:[]},{id:"node_4",type:"endFlow",name:"Transfer",position:{x:850,y:100},endType:"transfer"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"}]}],variables:{selectedLanguage:"en"},created_at:"2026-02-08T14:00:00Z",updated_at:"2026-02-17T11:20:00Z",status:"active",version:4}]),[r,i]=(0,s.useState)(""),n=l.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.description?.toLowerCase().includes(r.toLowerCase()));return(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-white mb-2",children:"IVR Workflows"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your interactive voice response flows"})]}),(0,t.jsxs)("button",{onClick:a,className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-[#39FF14]/30 flex items-center gap-2 transition-all",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Workflow"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search workflows...",value:r,onChange:e=>i(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),n.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-[#39FF14]/50 transition-all cursor-pointer group",onClick:()=>e(s),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-[#39FF14] transition-colors",children:s.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm line-clamp-2",children:s.description})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"p-2 hover:bg-white/10 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:(0,t.jsx)(g.default,{className:"w-4 h-4 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 pt-4 border-t border-white/10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Nodes"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:s.pages.reduce((e,t)=>e+t.nodes.length,0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Pages"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:s.pages.length})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.default,{className:"w-3 h-3"}),new Date(s.updated_at).toLocaleDateString()]}),(0,t.jsx)("div",{className:`px-2 py-1 rounded-full uppercase font-bold ${"active"===s.status?"bg-green-500/20 text-green-400":"draft"===s.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:s.status})]})]},s.id))}):(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center mb-6 mx-auto",children:(0,t.jsx)(m.Activity,{className:"w-10 h-10 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:r?"No workflows found":"No workflows yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:r?"Try adjusting your search term":"Create your first IVR workflow to get started"}),!r&&(0,t.jsxs)("button",{onClick:a,className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-[#39FF14]/30 flex items-center gap-2 transition-all mx-auto",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create First Workflow"]})]})]})}var sC=e.i(15186);function sS(){let[e,a]=(0,s.useState)("list"),[l,r]=(0,s.useState)(null),{loadProject:i,createProject:n,project:o}=sc();return"list"===e?(0,t.jsx)("div",{className:"h-full bg-slate-900",children:(0,t.jsx)(sk,{onProjectSelect:e=>{i(e),a("builder")},onCreateNew:()=>{n("New Workflow","Description of your workflow"),a("builder")}})}):(0,t.jsxs)("div",{className:"h-full flex overflow-hidden bg-slate-900",children:[(0,t.jsx)(s_,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:()=>{a("list"),r(null)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-all",children:[(0,t.jsx)(sC.Home,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:"Back to Projects"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-white font-bold text-lg",children:o?.name||"Workflow Builder"}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:o?.description||"Visual IVR Designer"})]}),(0,t.jsx)("div",{className:"w-32"})," "]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(sf,{onNodeDoubleClick:e=>{r(e)}})})]}),l&&(0,t.jsx)(sF,{node:l,onClose:()=>{r(null)}})]})}function sM(){return(0,t.jsx)(sx,{children:(0,t.jsx)(sS,{})})}var sA=e.i(53449),sA=sA,tj=tj;function sI({onClose:e}){let[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)("idle");return(0,t.jsxs)("div",{className:"fixed bottom-6 right-6 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl z-50 backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-[#39FF14]/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(eb.Phone,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("span",{className:"text-white font-bold",children:"Dialpad"})]}),(0,t.jsx)("button",{onClick:e,className:"p-1.5 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"p-6 bg-white/5 relative",children:[(0,t.jsxs)("div",{className:"text-center mb-2",children:["calling"===r&&(0,t.jsx)("span",{className:"text-xs text-yellow-400 font-semibold uppercase tracking-wider animate-pulse",children:"Calling..."}),"connected"===r&&(0,t.jsx)("span",{className:"text-xs text-green-400 font-semibold uppercase tracking-wider",children:"Connected"})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 rounded-xl p-4 min-h-[60px] flex items-center justify-center border border-white/5",children:(0,t.jsx)("input",{type:"text",value:a,readOnly:!0,placeholder:"Enter number",className:"bg-transparent text-white text-2xl font-mono text-center w-full outline-none"})}),a.length>0&&"idle"===r&&(0,t.jsx)("button",{onClick:()=>{l(e=>e.slice(0,-1))},className:"absolute right-8 top-1/2 -translate-y-1/2 mt-1 p-2 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,t.jsx)(sA.default,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"p-4 grid grid-cols-3 gap-3",children:[{label:"1",sub:""},{label:"2",sub:"ABC"},{label:"3",sub:"DEF"},{label:"4",sub:"GHI"},{label:"5",sub:"JKL"},{label:"6",sub:"MNO"},{label:"7",sub:"PQRS"},{label:"8",sub:"TUV"},{label:"9",sub:"WXYZ"},{label:"*",sub:""},{label:"0",sub:"+"},{label:"#",sub:""}].map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.label,void l(e=>e+t)},disabled:"idle"!==r,className:`aspect-square rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all flex flex-col items-center justify-center group ${"idle"!==r?"opacity-50 cursor-not-allowed":""}`,children:[(0,t.jsx)("span",{className:"text-2xl font-bold text-white group-hover:scale-110 transition-transform",children:e.label}),e.sub&&(0,t.jsx)("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider mt-1",children:e.sub})]},e.label))}),(0,t.jsx)("div",{className:"p-4 pt-0",children:"idle"===r?(0,t.jsxs)("button",{onClick:()=>{a.length>0&&(i("calling"),setTimeout(()=>i("connected"),2e3))},disabled:0===a.length,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed text-white py-4 rounded-2xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 transition-all",children:[(0,t.jsx)(tj.default,{className:"w-5 h-5"}),"Call"]}):(0,t.jsxs)("button",{onClick:()=>{i("idle"),l("")},className:"w-full bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white py-4 rounded-2xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-red-500/30 flex items-center justify-center gap-2 transition-all",children:[(0,t.jsx)(eb.Phone,{className:"w-5 h-5 rotate-[135deg]"}),"End Call"]})})]})}function sP(){let[e,a]=(0,s.useState)("inbound"),[l,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(null),[j,w]=(0,s.useState)(null),[F,S]=(0,s.useState)({alias:"",number:"",greeting:"",routing:"",hours:""}),[M,A]=(0,s.useState)({name:"",type:"sales",contacts:0,script:"",cps:10,retries:3}),[I,P]=(0,s.useState)(null),[T,D]=(0,s.useState)(!1),[R,E]=(0,s.useState)(null),[O,q]=(0,s.useState)({name:"",proxyNumber:"",userNumber:"",providerNumber:"",ttl:"1h"}),[U,V]=(0,s.useState)([{id:1,name:"Uber Ride Session",proxyNumber:"+60 3-2001-0001",userNumber:"+60 12-3456-7890",providerNumber:"+60 11-8765-4321",ttl:"1h",status:"active",calls:12,duration:"45m 23s"},{id:2,name:"Food Delivery Order",proxyNumber:"+60 3-2001-0002",userNumber:"+60 12-3456-7891",providerNumber:"+60 11-9876-5432",ttl:"30m",status:"active",calls:5,duration:"18m 12s"},{id:3,name:"OTP Verification",proxyNumber:"+60 3-2001-0003",userNumber:"+60 13-7946-0958",providerNumber:"+60 14-7946-0123",ttl:"10m",status:"expired",calls:3,duration:"2m 45s"},{id:4,name:"Sales Outreach Campaign",proxyNumber:"+60 3-2001-0004",userNumber:"+60 12-1112-2222",providerNumber:"+60 19-9998-8888",ttl:"24h",status:"active",calls:28,duration:"2h 15m"},{id:5,name:"Real Estate Inquiry",proxyNumber:"+60 3-2001-0005",userNumber:"+60 17-7776-6666",providerNumber:"+60 16-4443-3333",ttl:"1h",status:"active",calls:8,duration:"32m 56s"}]),[B,z]=(0,s.useState)(!1),[G,K]=(0,s.useState)("web"),[W,X]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),[Y,Q]=(0,s.useState)(null),[ee,et]=(0,s.useState)("whisper"),[es,ea]=(0,s.useState)([{id:1,callId:"CALL-2024-001",agentName:"Sarah Chen",agentNumber:"+60 12-3456-7890",customerNumber:"+60 11-2233-4455",supervisorName:"John Smith",mode:"whisper",status:"active",duration:"5m 23s",startTime:"14:32",notes:["Customer asking about pricing","Escalation needed"]},{id:2,callId:"CALL-2024-002",agentName:"Ahmad Rahman",agentNumber:"+60 13-5678-9012",customerNumber:"+60 12-8877-6655",supervisorName:"Lisa Wong",mode:"listen",status:"active",duration:"2m 15s",startTime:"14:38",notes:["Training session"]},{id:3,callId:"CALL-2024-003",agentName:"Mei Ling",agentNumber:"+60 14-2345-6789",customerNumber:"+60 19-4433-2211",supervisorName:"John Smith",mode:"barge",status:"active",duration:"8m 47s",startTime:"14:25",notes:["Complex technical issue","Manager joined"]}]),[el,er]=(0,s.useState)([{callId:"CALL-2024-004",agentName:"David Tan",customerNumber:"+60 11-5566-7788",duration:"1m 12s",queue:"Sales"},{callId:"CALL-2024-005",agentName:"Priya Kumar",customerNumber:"+60 12-9988-7766",duration:"3m 45s",queue:"Support"},{callId:"CALL-2024-006",agentName:"Wei Zhang",customerNumber:"+60 13-3344-5566",duration:"0m 38s",queue:"Billing"}]),[ei,en]=(0,s.useState)(!1),[eo,ed]=(0,s.useState)(!1),[ec,ex]=(0,s.useState)(null),[em,eh]=(0,s.useState)({name:"",source:"",channel:"",trackingNumbers:"",goal:""}),[eu,ep]=(0,s.useState)([{id:1,name:"Google PPC Q1 2024",trackingNumbers:["+60 3-2100-0001","+60 3-2100-0002"],source:"Google Ads",channel:"PPC",callCount:892,conversions:178,conversionRate:20,avgDuration:"4m 32s",costPerLead:18.5,totalRevenue:45600,roi:2.8,status:"active",created:"2024-01-15"},{id:2,name:"Facebook Lead Gen",trackingNumbers:["+60 3-2100-0003","+60 3-2100-0004","+60 3-2100-0005"],source:"Facebook",channel:"Social",callCount:654,conversions:124,conversionRate:19,avgDuration:"3m 18s",costPerLead:22.3,totalRevenue:31200,roi:2.1,status:"active",created:"2024-01-20"},{id:3,name:"Organic SEO Traffic",trackingNumbers:["+60 3-2100-0006"],source:"Google Organic",channel:"SEO",callCount:1247,conversions:287,conversionRate:23,avgDuration:"5m 45s",costPerLead:8.2,totalRevenue:68400,roi:4.5,status:"active",created:"2024-01-10"},{id:4,name:"LinkedIn B2B Campaign",trackingNumbers:["+60 3-2100-0007","+60 3-2100-0008"],source:"LinkedIn",channel:"Social",callCount:234,conversions:45,conversionRate:19.2,avgDuration:"6m 12s",costPerLead:45.8,totalRevenue:22500,roi:1.8,status:"paused",created:"2024-02-01"}]),[eg,ef]=(0,s.useState)([{alias:"Main Office Line",number:"+60 3-1234-5678",dest:"Smart IVR Flow",active:12,status:"active",greeting:"Welcome to Acme Corp",routing:"IVR Menu"},{alias:"Support Hotline",number:"+60 3-9876-5432",dest:"Queue: Tier 1",active:8,status:"active",greeting:"Thank you for calling support",routing:"Agent Queue"},{alias:"Sales Department",number:"+60 3-5555-1234",dest:"Round Robin",active:5,status:"active",greeting:"Sales team speaking",routing:"Round Robin"},{alias:"Emergency Hotline",number:"+60 3-9119-0000",dest:"Priority Queue",active:3,status:"active",greeting:"Emergency services",routing:"Priority Routing"},{alias:"Customer Service UK",number:"+44 20 7123 4567",dest:"UK Support Team",active:15,status:"active",greeting:"Hello, you've reached UK support",routing:"Skills-based"}]),[ej,ev]=(0,s.useState)([{name:"Q1 Sales Promo",contacts:1250,completed:892,success:487,status:"active",avgDuration:"3m 45s",conversionRate:"54.6%"},{name:"Customer Satisfaction Survey",contacts:5e3,completed:3200,success:2880,status:"active",avgDuration:"2m 20s",conversionRate:"90.0%"},{name:"Payment Reminder Campaign",contacts:800,completed:650,success:520,status:"completed",avgDuration:"1m 50s",conversionRate:"80.0%"},{name:"New Product Launch",contacts:2500,completed:450,success:180,status:"active",avgDuration:"4m 10s",conversionRate:"40.0%"},{name:"Appointment Reminders",contacts:1500,completed:1500,success:1425,status:"completed",avgDuration:"1m 15s",conversionRate:"95.0%"}]);(0,s.useEffect)(()=>{r(!0)},[]);let eN=[{id:"inbound",label:"Inbound Flows",icon:sr.default},{id:"outbound",label:"Outbound Campaign",icon:si.default},{id:"recordings",label:"Call Recordings",icon:t_.default},{id:"click2call",label:"Click to Call",icon:sn.default},{id:"masking",label:"Identity Protection",icon:e3.default},{id:"whisper",label:"Call Whisper",icon:so.default},{id:"tracking",label:"Call Tracking",icon:e7.BarChart3}];return l?(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c min-h-screen bg-[#01140f] p-8 pb-20 overflow-x-hidden",children:[(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c fixed top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[1000px] bg-[#39FF14]/5 rounded-full blur-[120px] pointer-events-none -z-10"}),(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c fixed bottom-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[100px] pointer-events-none -z-10"}),(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c max-w-[1400px] mx-auto",children:[(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c mb-8 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c",children:[(0,t.jsx)("h1",{className:"jsx-a54f60f4c5f8d68c text-4xl font-black text-white mb-2",children:"Voice API"}),(0,t.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-slate-400",children:"Manage your voice communication infrastructure"})]}),(0,t.jsxs)("button",{onClick:()=>g(!h),className:"jsx-a54f60f4c5f8d68c bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-xl font-bold shadow-lg shadow-[#39FF14]/30 flex items-center gap-2 transition-all",children:[(0,t.jsx)(eb.Phone,{className:"w-5 h-5"}),h?"Close":"Open"," Dialpad"]})]}),(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c w-full overflow-x-auto",children:(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c flex gap-2 p-2 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-xl shadow-2xl min-w-max",children:eN.map(s=>{let l=s.icon,r=e===s.id;return(0,t.jsxs)("button",{onClick:()=>a(s.id),className:`jsx-a54f60f4c5f8d68c nav-glass-btn flex items-center gap-3 px-6 py-3 rounded-xl transition-all duration-300 group relative whitespace-nowrap ${r?"bg-gradient-to-r from-[#39FF14] to-[#32e012] text-white shadow-lg shadow-[#39FF14]/30 font-bold":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)(l,{className:`jsx-a54f60f4c5f8d68c w-5 h-5 transition-transform group-hover:scale-110 ${r?"text-black":"text-[#39FF14]"}`}),(0,t.jsx)("span",{className:"jsx-a54f60f4c5f8d68c text-sm font-semibold",children:s.label}),r&&(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-white rounded-full shadow-[0_0_10px_white]"})]},s.id)})})}),(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c w-full",children:(()=>{switch(e){case"inbound":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Total Flows",value:eg.length.toString(),change:"+2",color:"from-[#39FF14]/20 to-[#32e012]/20"},{label:"Active Calls",value:eg.reduce((e,t)=>e+t.active,0).toString(),change:"+15%",color:"from-[#39FF14]/20 to-[#32e012]/20"},{label:"Success Rate",value:"94.2%",change:"+2.1%",color:"from-green-500/20 to-emerald-500/20"}].map((e,s)=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${e.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:e.label}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.value}),(0,t.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${e.change.startsWith("+")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.change})]})]},s))}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/5",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(sr.default,{className:"w-5 h-5 text-[#39FF14]"}),"Active Inbound Flows"]}),(0,t.jsxs)("button",{onClick:()=>o(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl transition-all shadow-[0_0_15px_rgba(57,255,20,0.3)] hover:shadow-[0_0_20px_rgba(57,255,20,0.5)] flex items-center gap-2 text-sm font-bold uppercase tracking-wider",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Inbound Flow"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Alias"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Virtual Number"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Greeting"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Routing Type"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Active Calls"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:eg.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:e.alias}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-[#39FF14]",children:e.number}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.greeting}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/10 text-[#39FF14] rounded-lg text-xs font-semibold",children:e.routing})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.active}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===e.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>w(e),className:"p-2 hover:bg-white/10 rounded-lg text-[#39FF14] transition-colors",title:"View Settings",children:(0,t.jsx)(d.Settings,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this inbound flow?")&&ef(e=>e.filter((e,t)=>t!==s))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})})]},s))})]})})]}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Inbound Flow"}),(0,t.jsx)("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Flow Name"}),(0,t.jsx)("input",{type:"text",value:F.alias,onChange:e=>S(t=>({...t,alias:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] transition-all",placeholder:"e.g., Customer Support Line"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Virtual Number"}),(0,t.jsx)("input",{type:"text",value:F.number,onChange:e=>S(t=>({...t,number:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] transition-all",placeholder:"+60 3-XXXX-XXXX"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Greeting Message"}),(0,t.jsx)("textarea",{rows:3,value:F.greeting,onChange:e=>S(t=>({...t,greeting:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] resize-none transition-all",placeholder:"Thank you for calling..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Routing Type"}),(0,t.jsxs)("select",{value:F.routing,onChange:e=>S(t=>({...t,routing:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] transition-all",children:[(0,t.jsx)("option",{value:"IVR Menu",children:"IVR Menu"}),(0,t.jsx)("option",{value:"Agent Queue",children:"Agent Queue"}),(0,t.jsx)("option",{value:"Round Robin",children:"Round Robin"}),(0,t.jsx)("option",{value:"Skills-based",children:"Skills-based"}),(0,t.jsx)("option",{value:"Priority Routing",children:"Priority Routing"}),(0,t.jsx)("option",{value:"Direct Transfer",children:"Direct Transfer"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>o(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!F.alias||!F.number)return void alert("Please fill in at least the flow name and number");let e={alias:F.alias,number:F.number,greeting:F.greeting||"Welcome",routing:F.routing,active:0,status:"active",dest:F.routing};ef(t=>[...t,e]),S({alias:"",number:"",greeting:"",routing:"IVR Menu",hours:""}),o(!1)},className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-xl font-bold shadow-[0_0_15px_rgba(57,255,20,0.4)] hover:shadow-[0_0_20px_rgba(57,255,20,0.6)] transition-all",children:"Create Flow"})]})]})]})}),j&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Flow Configuration"}),(0,t.jsx)("button",{onClick:()=>w(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Flow Name"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:j.alias})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Virtual Number"}),(0,t.jsx)("p",{className:"text-[#39FF14] font-mono",children:j.number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Routing Type"}),(0,t.jsx)("p",{className:"text-white",children:j.routing})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===j.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===j.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),j.status]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Greeting Message"}),(0,t.jsx)("p",{className:"text-slate-300",children:j.greeting})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Active Calls"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:j.active})]}),(0,t.jsx)("button",{onClick:()=>w(null),className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"outbound":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Active Campaigns",value:ej.filter(e=>"active"===e.status).length.toString(),change:"+2",color:"from-[#39FF14]/20 to-[#32e012]/20"},{label:"Calls Today",value:"2,450",change:"+18%",color:"from-[#39FF14]/20 to-[#32e012]/20"},{label:"Success Rate",value:"76.8%",change:"+3.2%",color:"from-green-500/20 to-emerald-500/20"}].map((e,s)=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${e.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:e.label}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.value}),(0,t.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${e.change.startsWith("+")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.change})]})]},s))}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/5",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(si.default,{className:"w-5 h-5 text-[#39FF14]"}),"Outbound Campaigns"]}),(0,t.jsxs)("button",{onClick:()=>m(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl transition-all shadow-lg shadow-[#39FF14]/20 flex items-center gap-2 text-sm font-bold uppercase tracking-wider",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Campaign"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Contacts"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Completed"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Success"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Avg Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Conversion"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:ej.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.contacts.toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.completed.toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.success.toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-[#39FF14]",children:e.avgDuration}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${parseFloat(e.conversionRate)>=80?"bg-green-500/20 text-green-400":parseFloat(e.conversionRate)>=50?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.conversionRate})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===e.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>P(e),className:"p-2 hover:bg-white/10 rounded-lg text-[#39FF14] transition-colors",title:"View Details",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this campaign?")&&ev(e=>e.filter((e,t)=>t!==s))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})})]},s))})]})})]}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Outbound Campaign"}),(0,t.jsx)("button",{onClick:()=>m(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",value:M.name,onChange:e=>A(t=>({...t,name:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",placeholder:"e.g., Summer Promotion 2026"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Campaign Type"}),(0,t.jsxs)("select",{value:M.type,onChange:e=>A(t=>({...t,type:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"sales",children:"Sales Outreach"}),(0,t.jsx)("option",{value:"survey",children:"Customer Survey"}),(0,t.jsx)("option",{value:"reminder",children:"Payment Reminder"}),(0,t.jsx)("option",{value:"notification",children:"Mass Notification"}),(0,t.jsx)("option",{value:"appointment",children:"Appointment Confirmation"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Number of Contacts"}),(0,t.jsx)("input",{type:"number",value:M.contacts||"",onChange:e=>A(t=>({...t,contacts:parseInt(e.target.value)||0})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",placeholder:"100",min:"1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Message Script"}),(0,t.jsx)("textarea",{rows:4,value:M.script,onChange:e=>A(t=>({...t,script:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14] resize-none",placeholder:"Hello, this is..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Call Rate (CPS)"}),(0,t.jsx)("input",{type:"number",value:M.cps,onChange:e=>A(t=>({...t,cps:parseInt(e.target.value)||10})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",min:"1",max:"50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Max Retries"}),(0,t.jsx)("input",{type:"number",value:M.retries,onChange:e=>A(t=>({...t,retries:parseInt(e.target.value)||3})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",min:"1",max:"5"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>m(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!M.name)return void alert("Please enter a campaign name");let e={name:M.name,contacts:M.contacts||100,completed:0,success:0,avgDuration:"0m 0s",conversionRate:"0%",status:"active"};ev(t=>[...t,e]),A({name:"",type:"sales",contacts:0,script:"",cps:10,retries:3}),m(!1)},className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-xl font-bold shadow-lg shadow-[#39FF14]/20 transition-all",children:"Create Campaign"})]})]})]})}),I&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Campaign Details"}),(0,t.jsx)("button",{onClick:()=>P(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Campaign Name"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:I.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===I.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===I.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),I.status]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Contacts"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:I.contacts.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Completed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:I.completed.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Success Count"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-400",children:I.success.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Conversion Rate"}),(0,t.jsx)("p",{className:`text-2xl font-bold ${parseFloat(I.conversionRate)>=80?"text-green-400":parseFloat(I.conversionRate)>=50?"text-yellow-400":"text-red-400"}`,children:I.conversionRate})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Average Call Duration"}),(0,t.jsx)("p",{className:"text-lg font-mono text-[#39FF14]",children:I.avgDuration})]}),(0,t.jsx)("button",{onClick:()=>P(null),className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"ivr":return(0,t.jsx)("div",{className:"h-[calc(100vh-400px)] min-h-[600px]",children:(0,t.jsx)(sM,{})});case"recordings":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Cloud Call Recordings"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by number...",className:"bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-sm text-white focus:border-[#39FF14] outline-none w-64"})]}),(0,t.jsx)("button",{className:"p-2 bg-white/5 border border-white/10 rounded-xl text-slate-400 hover:text-white",children:(0,t.jsx)(eK.default,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Direction"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Parties"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sentiment"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:[{id:1,time:"Today, 10:45 AM",dir:"Inbound",from:"+1...4567",to:"+1...9901",dur:"5m 20s",sentiment:"Positive"},{id:2,time:"Today, 10:30 AM",dir:"Outbound",from:"+1...8822",to:"+44...1234",dur:"0m 45s",sentiment:"Neutral"},{id:3,time:"Yesterday, 4:12 PM",dir:"Inbound",from:"+60...7766",to:"+60...0000",dur:"12m 10s",sentiment:"Negative"}].map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.time}),(0,t.jsx)("td",{className:"px-6 py-4",children:"Inbound"===e.dir?(0,t.jsx)(sr.default,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(si.default,{className:"w-4 h-4 text-[#39FF14]"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,t.jsx)("span",{className:"text-white",children:e.from}),(0,t.jsx)("span",{className:"text-slate-600",children:"→"}),(0,t.jsx)("span",{className:"text-white",children:e.to})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.dur}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight ${"Positive"===e.sentiment?"bg-green-500/20 text-green-400":"Negative"===e.sentiment?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.sentiment})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{var t;b===(t=e.id)?f(null):(f(t),setTimeout(()=>{f(null)},3e3))},className:`transition-colors ${b===e.id?"text-green-400 hover:text-green-300":"text-[#39FF14] hover:text-[#39FF14]"}`,title:b===e.id?"Stop":"Play",children:b===e.id?(0,t.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse"})}):(0,t.jsx)(e2.default,{className:"w-4 h-4 fill-current"})}),(0,t.jsx)("button",{onClick:()=>{let t,s,a;return t=new Blob([`Call Recording
Time: ${e.time}
Direction: ${e.dir}
From: ${e.from}
To: ${e.to}
Duration: ${e.dur}
Sentiment: ${e.sentiment}`],{type:"text/plain"}),s=URL.createObjectURL(t),void((a=document.createElement("a")).href=s,a.download=`recording-${e.id}-${e.time.replace(/[^a-zA-Z0-9]/g,"_")}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s))},className:"text-slate-400 hover:text-white transition-colors",title:"Download Recording",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]});case"masking":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-2xl shadow-[#39FF14]/20 border border-white/20",children:(0,t.jsx)(e3.default,{className:"w-12 h-12 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Identity Protection"}),(0,t.jsx)("p",{className:"text-slate-400 font-medium",children:"Anonymize conversations between users and providers without exposing real phone numbers."})]}),(0,t.jsxs)("button",{onClick:()=>D(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-3 rounded-xl transition-all shadow-lg shadow-[#39FF14]/20 flex items-center gap-2 font-bold uppercase tracking-wider",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Proxy"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Proxies",value:U.length.toString(),color:"from-orange-500/20 to-red-500/20"},{label:"Active Sessions",value:U.filter(e=>"active"===e.status).length.toString(),color:"from-green-500/20 to-emerald-500/20"},{label:"Total Calls Today",value:U.reduce((e,t)=>e+t.calls,0).toString(),color:"from-[#39FF14]/20 to-[#32e012]/20"},{label:"Privacy Score",value:"98.2%",color:"from-[#39FF14]/20 to-[#32e012]/20"}].map((e,s)=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${e.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-2",children:e.label}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.value})]},s))}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5",children:(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-[#39FF14]"}),"Active Proxy Sessions"]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Session Name"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Proxy Number"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"User → Provider"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"TTL"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Calls"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:U.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-[#39FF14]",children:e.proxyNumber}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,t.jsx)("span",{className:"text-[#39FF14]",children:e.userNumber}),(0,t.jsx)("span",{className:"text-slate-600",children:"→"}),(0,t.jsx)("span",{className:"text-green-400",children:e.providerNumber})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-lg text-xs font-semibold",children:e.ttl})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.calls}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-slate-300",children:e.duration}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===e.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>E(e),className:"p-2 hover:bg-white/10 rounded-lg text-[#39FF14] transition-colors",title:"View Details",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this proxy?")&&V(e=>e.filter((e,t)=>t!==s))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,t.jsx)("div",{className:"glass-card p-8 rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-[#39FF14]/20 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(so.default,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-bold text-xl leading-none mb-1",children:"Session TTL Config"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Define how long proxy numbers remain active."})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 bg-black/40 p-1 rounded-xl border border-white/10",children:["10m","30m","1h","24h","Custom"].map(e=>(0,t.jsx)("button",{className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${"1h"===e?"bg-[#39FF14] text-black":"text-slate-500 hover:text-white"}`,children:e},e))})]})}),T&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Proxy Session"}),(0,t.jsx)("button",{onClick:()=>D(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Session Name"}),(0,t.jsx)("input",{type:"text",value:O.name,onChange:e=>q(t=>({...t,name:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., Delivery Order #12345"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Proxy Number"}),(0,t.jsx)("input",{type:"text",value:O.proxyNumber,onChange:e=>q(t=>({...t,proxyNumber:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 3-XXXX-XXXX"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"The masked number that will be displayed to both parties"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"User Number"}),(0,t.jsx)("input",{type:"text",value:O.userNumber,onChange:e=>q(t=>({...t,userNumber:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 1X-XXXX-XXXX"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Provider Number"}),(0,t.jsx)("input",{type:"text",value:O.providerNumber,onChange:e=>q(t=>({...t,providerNumber:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 1X-XXXX-XXXX"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Time to Live (TTL)"}),(0,t.jsxs)("select",{value:O.ttl,onChange:e=>q(t=>({...t,ttl:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,t.jsx)("option",{value:"10m",children:"10 minutes"}),(0,t.jsx)("option",{value:"30m",children:"30 minutes"}),(0,t.jsx)("option",{value:"1h",children:"1 hour"}),(0,t.jsx)("option",{value:"24h",children:"24 hours"}),(0,t.jsx)("option",{value:"7d",children:"7 days"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>D(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!O.name||!O.proxyNumber)return void alert("Please enter proxy name and number");let e={id:U.length+1,name:O.name,proxyNumber:O.proxyNumber,userNumber:O.userNumber,providerNumber:O.providerNumber,ttl:O.ttl,status:"active",calls:0,duration:"0m 0s"};V(t=>[...t,e]),q({name:"",proxyNumber:"",userNumber:"",providerNumber:"",ttl:"1h"}),D(!1)},className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-[#39FF14]/20 transition-all",children:"Create Proxy"})]})]})]})}),R&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-orange-500/10 to-red-500/10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Proxy Session Details"}),(0,t.jsx)("button",{onClick:()=>E(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Session Name"}),(0,t.jsx)("p",{className:"text-white font-semibold text-lg",children:R.name})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Proxy Number"}),(0,t.jsx)("p",{className:"text-[#39FF14] font-mono text-lg",children:R.proxyNumber})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===R.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===R.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),R.status]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-white/5",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Connection Mapping"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"User"}),(0,t.jsx)("p",{className:"text-[#39FF14] font-mono text-sm",children:R.userNumber})]}),(0,t.jsx)("div",{className:"text-slate-600",children:"⟷"}),(0,t.jsxs)("div",{className:"flex-1 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Proxy"}),(0,t.jsx)("p",{className:"text-[#39FF14] font-mono text-sm",children:R.proxyNumber})]}),(0,t.jsx)("div",{className:"text-slate-600",children:"⟷"}),(0,t.jsxs)("div",{className:"flex-1 text-right",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Provider"}),(0,t.jsx)("p",{className:"text-green-400 font-mono text-sm",children:R.providerNumber})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"TTL"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:R.ttl})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Calls"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:R.calls})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Duration"}),(0,t.jsx)("p",{className:"text-white font-semibold font-mono",children:R.duration})]})]}),(0,t.jsx)("button",{onClick:()=>E(null),className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"click2call":let s,a;return s={web:`<!-- Click to Call Web SDK -->
<script src="https://cdn.acmecpaas.com/c2c-sdk.js"></script>
<script>
  // Initialize Click to Call Widget
  const c2c = new ClickToCallSDK({
    apiKey: 'YOUR_API_KEY',
    phoneNumber: '+60-3-XXXX-XXXX',
    theme: 'glass', // 'standard' | 'glass' | 'neumorphic' | 'minimal'
    position: 'bottom-right',
    
    // Customization
    brandColor: '#8b5cf6',
    brandName: 'Acme Corp',
    greeting: 'Need help? Click to call us!',
    
    // CRM Integration
    onCallStart: (callData) => {
      console.log('Call started:', callData);
      // Log to CRM
    },
    onCallEnd: (callData) => {
      console.log('Call ended:', callData);
      // Update CRM record
    },
    
    // WebRTC Configuration (optional)
    enableWebRTC: true,
    stunServers: ['stun:stun.l.google.com:19302']
  });
  
  // Initialize the widget
  c2c.init();
  
  // Available methods:
  // c2c.show() - Show widget
  // c2c.hide() - Hide widget
  // c2c.call(number) - Initiate call
  // c2c.destroy() - Remove widget
</script>`,android:`// Click to Call Android SDK (Kotlin)
// Add to build.gradle
dependencies {
    implementation 'com.acmecpaas:clicktocall:1.0.0'
}

// Initialize in Application class
class MyApp : Application() {
    override fun onCreate() {
        super.onCreate()
        
        ClickToCall.initialize(
            context = this,
            config = ClickToCallConfig(
                apiKey = "YOUR_API_KEY",
                phoneNumber = "+60-3-XXXX-XXXX",
                theme = ClickToCallTheme.MATERIAL_YOU,
                brandColor = Color(0xFF8B5CF6)
            )
        )
    }
}

// In your Activity/Fragment
class MainActivity : AppCompatActivity() {
    private lateinit var c2c: ClickToCallWidget
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Create floating widget
        c2c = ClickToCallWidget(this)
        c2c.setCallbacks(object : CallCallback {
            override fun onCallStarted(call: CallData) {
                // Log to analytics
                logCallEvent("call_started", call)
            }
            
            override fun onCallEnded(call: CallData) {
                // Update CRM
                updateCRMRecord(call)
            }
        })
        
        // Show widget
        c2c.show()
    }
    
    // Programmatic call
    fun makeCall(number: String) {
        c2c.initiateCall(number)
    }
}`,ios:`// Click to Call iOS SDK (Swift)
// Add to Package.swift or Podfile
dependencies: [
    .package(url: "https://github.com/acmecpaas/clicktocall-ios", from: "1.0.0")
]

import ClickToCallSDK
import SwiftUI

@main
struct MyApp: App {
    init() {
        // Initialize SDK
        ClickToCall.shared.configure(
            apiKey: "YOUR_API_KEY",
            phoneNumber: "+60-3-XXXX-XXXX",
            config: C2CConfiguration(
                theme: .glassmorphism,
                brandColor: .green,
                position: .bottomTrailing
            )
        )
    }
    
    var body: some Scene {
        WindowGroup {
            ContentView()
                .clickToCallWidget() // Add floating widget
        }
    }
}

// SwiftUI View Integration
struct ContentView: View {
    @StateObject private var c2c = ClickToCall.shared
    
    var body: some View {
        VStack {
            // Your content
            
            // Inline call button
            Button("Call Support") {
                c2c.initiateCall(number: "+60-3-1234-5678")
            }
        }
        .onCallEvent { event in
            switch event {
            case .started(let callData):
                // Analytics logging
                Analytics.log("call_started", data: callData)
            case .ended(let callData):
                // CRM update
                CRM.updateRecord(callData)
            }
        }
    }
}

// CallKit Integration
extension ClickToCall {
    func setupCallKit() {
        let provider = CXProvider(configuration: providerConfiguration)
        let controller = CXCallController()
        // CallKit integration handled automatically
    }
}`,windows:`// Click to Call Windows SDK (C#/.NET)
// Install via NuGet
// Install-Package AcmeCPaaS.ClickToCall

using AcmeCPaaS.ClickToCall;
using System.Windows;

namespace MyApp
{
    public partial class App : Application
    {
        protected override void OnStartup(StartupEventArgs e)
        {
            base.OnStartup(e);
            
            // Initialize Click to Call SDK
            var config = new C2CConfiguration
            {
                ApiKey = "YOUR_API_KEY",
                PhoneNumber = "+60-3-XXXX-XXXX",
                Theme = C2CTheme.ModernFluent,
                BrandColor = Colors.Purple,
                Position = WidgetPosition.BottomRight
            };
            
            ClickToCallManager.Initialize(config);
            
            // Set up event handlers
            ClickToCallManager.OnCallStarted += (sender, args) =>
            {
                // Log to analytics
                Analytics.TrackEvent("CallStarted", args.CallData);
            };
            
            ClickToCallManager.OnCallEnded += (sender, args) =>
            {
                // Update CRM
                CRMService.UpdateContact(args.CallData);
            };
        }
    }
    
    // In your Window/UserControl
    public partial class MainWindow : Window
    {
        private ClickToCallWidget _widget;
        
        public MainWindow()
        {
            InitializeComponent();
            
            // Create floating widget
            _widget = new ClickToCallWidget();
            _widget.Show();
        }
        
        // Programmatic call
        private void CallButton_Click(object sender, RoutedEventArgs e)
        {
            ClickToCallManager.InitiateCall("+60-3-1234-5678");
        }
        
        // System tray integration
        private void SetupTrayIcon()
        {
            var trayIcon = new NotifyIcon
            {
                Icon = Resources.AppIcon,
                Visible = true
            };
            
            var menu = new ContextMenuStrip();
            menu.Items.Add("Quick Call", null, (s, e) => _widget.Show());
            trayIcon.ContextMenuStrip = menu;
        }
    }
}`,macos:`// Click to Call macOS SDK (Swift)
// Add via Swift Package Manager
dependencies: [
    .package(url: "https://github.com/acmecpaas/clicktocall-macos", from: "1.0.0")
]

import Cocoa
import ClickToCallSDK

@main
class AppDelegate: NSObject, NSApplicationDelegate {
    var statusItem: NSStatusItem?
    var c2cManager: ClickToCallManager?
    
    func applicationDidFinishLaunching(_ notification: Notification) {
        // Initialize SDK
        let config = C2CConfiguration(
            apiKey: "YOUR_API_KEY",
            phoneNumber: "+60-3-XXXX-XXXX",
            theme: .aqua,
            brandColor: .systemPurple
        )
        
        c2cManager = ClickToCallManager.shared
        c2cManager?.configure(with: config)
        
        // Menu bar integration
        setupMenuBar()
        
        // Event handlers
        c2cManager?.onCallStarted = { callData in
            // Analytics
            Analytics.track("call_started", properties: callData.dictionary)
        }
        
        c2cManager?.onCallEnded = { callData in
            // CRM update
            CRMService.shared.updateContact(with: callData)
        }
    }
    
    private func setupMenuBar() {
        statusItem = NSStatusBar.system.statusItem(
            withLength: NSStatusItem.squareLength
        )
        
        if let button = statusItem?.button {
            button.image = NSImage(systemSymbolName: "phone.fill", 
                                   accessibilityDescription: "Click to Call")
        }
        
        let menu = NSMenu()
        menu.addItem(NSMenuItem(
            title: "Quick Call",
            action: #selector(quickCall),
            keyEquivalent: "c"
        ))
        menu.addItem(NSMenuItem.separator())
        menu.addItem(NSMenuItem(
            title: "Quit",
            action: #selector(NSApplication.terminate(_:)),
            keyEquivalent: "q"
        ))
        
        statusItem?.menu = menu
    }
    
    @objc func quickCall() {
        c2cManager?.showCallWidget()
    }
}

// SwiftUI View Integration
import SwiftUI

struct ContentView: View {
    @StateObject private var c2c = ClickToCallManager.shared
    
    var body: some View {
        VStack {
            Button("Call Support") {
                c2c.initiateCall(number: "+60-3-1234-5678")
            }
            .clickToCallButton(style: .primary)
        }
        .frame(minWidth: 400, minHeight: 300)
    }
}`},a={web:{name:"Web / CRM",icon:Z.Globe,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/20"},android:{name:"Android",icon:eb.Phone,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/20"},ios:{name:"iOS",icon:eb.Phone,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/20"},windows:{name:"Windows",icon:ew.default,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/500/20"},macos:{name:"macOS",icon:ew.default,color:"text-[#39FF14]",bgColor:"bg-[#39FF14]/20",borderColor:"border-[#39FF14]/20"}},(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"glass-card p-8 rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-2xl border-l-4 border-l-[#39FF14]",children:[(0,t.jsx)("h3",{className:"text-2xl font-black text-white mb-4",children:"Widget Generator"}),(0,t.jsx)("p",{className:"text-slate-400 mb-8",children:"Generate a highly customizable floating button or inline element for your website."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Theme Interface"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["Standard","Glass","Neumorphic","Minimal"].map(e=>(0,t.jsx)("button",{className:`py-3 rounded-xl border text-[10px] uppercase font-black transition-all ${"Glass"===e?"bg-[#39FF14]/20 border-[#39FF14]/50 text-[#39FF14]":"bg-white/5 border-white/10 text-slate-400"}`,children:e},e))})]}),(0,t.jsx)("button",{onClick:()=>z(!0),className:"w-full bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black py-4 rounded-2xl font-black uppercase text-sm tracking-widest shadow-xl shadow-[#39FF14]/20 hover:scale-[1.02] transition-transform",children:"Generate Snippet"})]})]}),(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl",children:[(0,t.jsxs)("h4",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)($.Info,{className:"w-4 h-4 text-[#39FF14]"}),"Integration Guide"]}),(0,t.jsx)("div",{className:"space-y-3",children:["Paste the <script> in your <head>","Initialize with your unique API Key","Customize callbacks for CRM logging","Enable WebRTC for browser-based audio"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded-full bg-[#39FF14]/10 border border-[#39FF14]/20 flex items-center justify-center text-xs font-black text-[#39FF14] flex-shrink-0",children:s+1}),e]},s))})]})]}),(0,t.jsxs)("div",{className:"glass-card bg-slate-900/40 border border-white/10 rounded-3xl overflow-hidden p-0 flex flex-col items-center justify-center min-h-[500px] relative shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#39FF14]/10 via-transparent to-[#32e012]/10"}),(0,t.jsxs)("div",{className:"text-center space-y-4 px-8 z-10",children:[(0,t.jsx)("h4",{className:"text-xs font-black text-[#39FF14] uppercase tracking-[0.3em]",children:"Live Preview"}),(0,t.jsxs)("div",{className:"w-64 h-96 bg-[#0a0a0a] rounded-[3rem] border-8 border-slate-800 shadow-2xl relative overflow-hidden flex flex-col items-center justify-center p-6 text-center transform rotate-2",children:[(0,t.jsx)("div",{className:"w-20 h-1 bg-slate-800 rounded-full absolute top-4"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-tr from-[#39FF14] to-[#32e012] rounded-full mx-auto flex items-center justify-center shadow-lg shadow-[#39FF14]/20",children:(0,t.jsx)(sr.default,{className:"w-8 h-8 text-white animate-bounce"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-black text-sm uppercase",children:"Calling Local Agent"}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Your identity is protected"})]}),(0,t.jsxs)("div",{className:"pt-8 grid grid-cols-2 gap-2 w-full",children:[(0,t.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[#39FF14] animate-[loading_2s_infinite]"})}),(0,t.jsx)("div",{className:"h-2 bg-white/10 rounded-full"})]})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-4",children:"Demo showing mobile widget interface"})]})]})]}),B&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Click to Call SDK Suite"}),(0,t.jsx)("button",{onClick:()=>z(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5",children:(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Object.entries(a).map(([e,s])=>(0,t.jsxs)("button",{onClick:()=>K(e),className:`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-all flex items-center gap-2 ${G===e?`${s.bgColor} ${s.color} border ${s.borderColor}`:"bg-white/5 text-slate-400 border border-white/10"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4"}),s.name]},e))})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl border border-white/10 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-slate-900",children:[(0,t.jsxs)("span",{className:"text-sm font-mono text-slate-400",children:["web"===G&&"JavaScript/TypeScript","android"===G&&"Kotlin","ios"===G&&"Swift","windows"===G&&"C# / .NET","macos"===G&&"Swift"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{let e;return e=s[G],void navigator.clipboard.writeText(e)},className:"px-3 py-1.5 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[(0,t.jsx)(k.default,{className:"w-3 h-3"}),"Copy Code"]}),(0,t.jsxs)("button",{onClick:()=>{let e,t,a;return e=new Blob([s[G]],{type:"text/plain"}),t=URL.createObjectURL(e),void((a=document.createElement("a")).href=t,a.download=({web:"clicktocall-web-sdk.js",android:"clicktocall-android-sdk.aar",ios:"ClickToCallSDK.xcframework.zip",windows:"AcmeCPaaS.ClickToCall.nupkg",macos:"ClickToCallSDK.xcframework.zip"})[G],document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t))},className:"px-3 py-1.5 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[(0,t.jsx)(x.default,{className:"w-3 h-3"}),"Download SDK"]})]})]}),(0,t.jsx)("div",{className:"p-6 overflow-x-auto",children:(0,t.jsx)("pre",{className:"text-sm text-slate-300 font-mono leading-relaxed",children:(0,t.jsx)("code",{children:s[G]})})})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-white/10 bg-white/5",children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white mb-4",children:"SDK Features"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Call Initiation","Status Tracking","Number Masking","Analytics Hooks","Theme Customization","Multi-language","CRM Integration","WebRTC Support"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),e]},s))})]})]})})]});case"whisper":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"glass-card p-10 rounded-[3rem] bg-gradient-to-br from-[#0f172a] to-[#1e293b] border border-white/10 backdrop-blur-3xl shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)] relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#39FF14]/10 rounded-full blur-[100px] -mr-32 -mt-32"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-12 relative z-10",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-8",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-[#39FF14]/10 border border-[#39FF14]/20 rounded-2xl",children:[(0,t.jsx)(so.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-[#39FF14] font-black text-xs uppercase tracking-widest",children:"Active Supervision"})]}),(0,t.jsxs)("h2",{className:"text-5xl font-black text-white tracking-tighter leading-[0.9]",children:["Real-time ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#39FF14] to-[#32e012]",children:"Call Coaching"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-lg leading-relaxed max-w-lg",children:'Guide your agents without the customer hearing. Enable "Listen", "Whisper", or "Barge" modes for mission-critical customer support.'}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsx)("button",{onClick:()=>{X(!0)},className:"px-8 py-4 bg-[#39FF14] text-black rounded-2xl font-black uppercase text-sm tracking-widest shadow-lg shadow-[#39FF14]/30 hover:bg-[#32e012] transition-all",children:"Start Monitoring"}),(0,t.jsx)("button",{onClick:()=>{J(!0)},className:"px-8 py-4 bg-white/5 border border-white/10 text-white rounded-2xl font-black uppercase text-sm tracking-widest hover:bg-white/10 transition-all",children:"Setup Supervisor"})]})]}),(0,t.jsx)("div",{className:"w-full md:w-80 space-y-4",children:[{label:"Listen Mode",mode:"listen",icon:t_.default},{label:"Whisper Mode",mode:"whisper",icon:td.Mic},{label:"Barge-In",mode:"barge",icon:L.default}].map((e,s)=>(0,t.jsxs)("button",{onClick:()=>{var t;et(t=e.mode),Y&&(ea(es.map(e=>e.id===Y.id?{...e,mode:t}:e)),Q({...Y,mode:t}))},className:`w-full p-5 rounded-3xl border transition-all duration-500 flex items-center justify-between ${ee===e.mode?"bg-[#39FF14]/10 border-[#39FF14]/50 shadow-[0_0_20px_rgba(6,182,212,0.15)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-2xl ${ee===e.mode?"bg-[#39FF14] text-black":"bg-slate-800 text-slate-500"}`,children:(0,t.jsx)(e.icon,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:`font-bold ${ee===e.mode?"text-white":"text-slate-500"}`,children:e.label})]}),ee===e.mode&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-[#39FF14] animate-ping"})]},s))})]})]}),(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Active Whisper Sessions"}),(0,t.jsxs)("span",{className:"text-xs text-slate-400",children:[es.filter(e=>"active"===e.status).length," Active"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[es.filter(e=>"active"===e.status).map(e=>(0,t.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-[#39FF14]/20 flex items-center justify-center",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.agentName}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:e.callId})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${("listen"===e.mode||e.mode,"bg-[#39FF14]/20 text-[#39FF14]")}`,children:e.mode.toUpperCase()}),(0,t.jsx)("span",{className:"text-xs text-slate-400",children:e.duration}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(ea(es.map(e=>e.id===t?{...e,status:"ended"}:e)),Y?.id===t&&Q(null))},className:"p-2 hover:bg-red-500/20 rounded-lg text-red-400 transition-all",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]})]}),e.notes.length>0&&(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10",children:(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Notes: ",e.notes.join(", ")]})})]},e.id)),0===es.filter(e=>"active"===e.status).length&&(0,t.jsx)("div",{className:"text-center py-8 text-slate-500",children:'No active whisper sessions. Click "Start Monitoring" to begin.'})]})]}),W&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-3xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Select Call to Monitor"}),(0,t.jsx)("button",{onClick:()=>X(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-6 max-h-96 overflow-y-auto",children:(0,t.jsx)("div",{className:"space-y-3",children:el.map((e,s)=>(0,t.jsx)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-white",children:e.agentName}),(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:[e.callId," • ",e.queue," • ",e.duration]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.customerNumber})]}),(0,t.jsx)("button",{onClick:()=>{let t;return t={id:es.length+1,callId:e.callId,agentName:e.agentName,agentNumber:e.agentNumber||"+60 12-XXXX-XXXX",customerNumber:e.customerNumber,supervisorName:"Current User",mode:ee,status:"active",duration:"0m 00s",startTime:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),notes:[]},void(ea([...es,t]),Q(t),X(!1))},className:"px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg text-sm font-bold transition-all",children:"Monitor"})]})},s))})})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Supervisor Configuration"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Supervisor Name"}),(0,t.jsx)("input",{type:"text",placeholder:"John Smith",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Extension/Number"}),(0,t.jsx)("input",{type:"text",placeholder:"+60 12-XXXX-XXXX",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Assigned Agents"}),(0,t.jsxs)("select",{multiple:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white h-32",children:[(0,t.jsx)("option",{children:"Sarah Chen"}),(0,t.jsx)("option",{children:"Ahmad Rahman"}),(0,t.jsx)("option",{children:"Mei Ling"}),(0,t.jsx)("option",{children:"David Tan"}),(0,t.jsx)("option",{children:"Priya Kumar"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Default Mode"}),(0,t.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"listen",children:"Listen Only"}),(0,t.jsx)("option",{value:"whisper",children:"Whisper to Agent"}),(0,t.jsx)("option",{value:"barge",children:"Barge-In (3-way)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>J(!1),className:"flex-1 px-4 py-3 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-xl font-bold transition-all",children:"Save Configuration"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})})]});case"tracking":let l;return l={totalCalls:eu.reduce((e,t)=>e+t.callCount,0),totalLeads:eu.reduce((e,t)=>e+t.conversions,0),avgConversionRate:(eu.reduce((e,t)=>e+t.conversionRate,0)/eu.length).toFixed(1),avgCostPerLead:(eu.reduce((e,t)=>e+t.costPerLead,0)/eu.length).toFixed(2)},(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Calls Tracked",value:l.totalCalls.toLocaleString(),icon:sr.default},{label:"Attributed Leads",value:l.totalLeads.toLocaleString(),icon:u.default},{label:"Conversion Rate",value:`${l.avgConversionRate}%`,icon:L.default},{label:"Cost Per Lead",value:`RM ${l.avgCostPerLead}`,icon:eU.CreditCard}].map((e,s)=>(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl hover:translate-y-[-2px] transition-all",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(e.icon,{className:"w-4 h-4 text-[#39FF14]"})}),(0,t.jsx)(e7.BarChart3,{className:"w-4 h-4 text-slate-700"})]}),(0,t.jsx)("p",{className:"text-[10px] uppercase font-black tracking-widest text-slate-500 mb-1",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-black text-white",children:e.value})]},s))}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Tracking Campaigns"}),(0,t.jsxs)("button",{onClick:()=>ed(!0),className:"px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg font-bold flex items-center gap-2 transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Create Campaign"]})]}),(0,t.jsx)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10",children:(0,t.jsx)("div",{className:"space-y-3",children:eu.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"font-bold text-white",children:e.name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:[e.source," • ",e.channel]}),(0,t.jsxs)("span",{children:[e.trackingNumbers.length," Number",e.trackingNumbers.length>1?"s":""]}),(0,t.jsxs)("span",{children:["Created ",e.created]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>ex(e),className:"p-2 hover:bg-[#39FF14]/20 rounded-lg text-[#39FF14] transition-all",title:"View Details",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void ep(eu.filter(e=>e.id!==t))},className:"p-2 hover:bg-red-500/20 rounded-lg text-red-400 transition-all",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 pt-3 border-t border-white/10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Calls"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.callCount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conversions"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.conversions})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conv Rate"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-green-400",children:[e.conversionRate,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Avg Duration"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.avgDuration})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Cost/Lead"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-[#39FF14]",children:["RM ",e.costPerLead.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"ROI"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-[#39FF14]",children:[e.roi,"x"]})]})]})]},e.id))})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 glass-card rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden min-h-[400px]",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold text-white uppercase tracking-widest text-xs",children:"Attributed Source Performance"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#39FF14]"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Inbound Volume"})]})]}),(0,t.jsx)("div",{className:"p-10 h-64 flex items-end gap-1",children:Array.from({length:40}).map((e,s)=>(0,t.jsx)("div",{className:"flex-1 bg-[#39FF14]/20 hover:bg-[#39FF14]/40 transition-all rounded-t-sm",style:{height:`${20+80*Math.random()}%`}},s))}),(0,t.jsxs)("div",{className:"p-6 bg-white/5 border-t border-white/10 grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-[#39FF14]",children:"PPC Google"}),(0,t.jsx)("p",{className:"text-lg font-black text-white",children:"42%"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-[#39FF14]",children:"Facebook Ads"}),(0,t.jsx)("p",{className:"text-lg font-black text-white",children:"28%"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-green-500",children:"Organic SEO"}),(0,t.jsx)("p",{className:"text-lg font-black text-white",children:"30%"})]})]})]}),(0,t.jsxs)("div",{className:"glass-card p-8 rounded-3xl bg-gradient-to-br from-[#012419] to-[#024d30] border border-[#39FF14]/20 text-white shadow-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all"}),(0,t.jsxs)("h4",{className:"text-2xl font-black mb-4 leading-tight",children:["Export ",(0,t.jsx)("br",{}),"Advanced ",(0,t.jsx)("br",{}),"Report"]}),(0,t.jsx)("p",{className:"text-[#39FF14]/80 text-sm mb-8",children:"Deep analytics including call heatmaps, agent performance ranking, and ROI attribution exportable in CSV, PDF, or JSON API."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([`Campaign Name,Source,Channel,Calls,Conversions,Conv Rate,Avg Duration,Cost Per Lead (MYR),Revenue (MYR),ROI
${eu.map(e=>`${e.name},${e.source},${e.channel},${e.callCount},${e.conversions},${e.conversionRate}%,${e.avgDuration},RM ${e.costPerLead.toFixed(2)},RM ${e.totalRevenue.toLocaleString()},${e.roi}x`).join("\n")}`],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`call-tracking-stats-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"w-full py-4 bg-white text-[#39FF14] rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-[#39FF14]/10 transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"})," Download Stats"]}),(0,t.jsx)("button",{onClick:()=>{en(!0)},className:"w-full py-4 bg-[#39FF14]/20 border border-[#39FF14]/20 text-[#39FF14] rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-[#39FF14]/30 transition-all",children:"Schedule Email"})]})]})]}),eo&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create Tracking Campaign"}),(0,t.jsx)("button",{onClick:()=>ed(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",value:em.name,onChange:e=>eh({...em,name:e.target.value}),placeholder:"Q1 2024 Google PPC",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Source"}),(0,t.jsx)("input",{type:"text",value:em.source,onChange:e=>eh({...em,source:e.target.value}),placeholder:"Google Ads",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Channel"}),(0,t.jsxs)("select",{value:em.channel,onChange:e=>eh({...em,channel:e.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select Channel"}),(0,t.jsx)("option",{value:"PPC",children:"PPC"}),(0,t.jsx)("option",{value:"Social",children:"Social Media"}),(0,t.jsx)("option",{value:"SEO",children:"SEO"}),(0,t.jsx)("option",{value:"Email",children:"Email"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Tracking Numbers (comma separated)"}),(0,t.jsx)("input",{type:"text",value:em.trackingNumbers,onChange:e=>eh({...em,trackingNumbers:e.target.value}),placeholder:"+60 3-2100-0001, +60 3-2100-0002",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Conversion Goal"}),(0,t.jsx)("input",{type:"text",value:em.goal,onChange:e=>eh({...em,goal:e.target.value}),placeholder:"Sales, Lead Generation, etc.",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{if(em.name&&em.source){let e={id:eu.length+1,name:em.name,trackingNumbers:em.trackingNumbers.split(",").map(e=>e.trim()).filter(e=>e),source:em.source,channel:em.channel||"Other",callCount:0,conversions:0,conversionRate:0,avgDuration:"0m 00s",costPerLead:0,totalRevenue:0,roi:0,status:"active",created:new Date().toISOString().split("T")[0]};ep([...eu,e]),eh({name:"",source:"",channel:"",trackingNumbers:"",goal:""}),ed(!1)}},className:"flex-1 px-4 py-3 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-xl font-bold transition-all",children:"Create Campaign"}),(0,t.jsx)("button",{onClick:()=>ed(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})}),ec&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-3xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:ec.name}),(0,t.jsx)("button",{onClick:()=>ex(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Source"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:ec.source})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Channel"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:ec.channel})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-2",children:"Tracking Numbers"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ec.trackingNumbers.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-sm font-mono",children:e},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-white/5 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Total Calls"}),(0,t.jsx)("p",{className:"text-2xl font-black text-white",children:ec.callCount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conversions"}),(0,t.jsx)("p",{className:"text-2xl font-black text-green-400",children:ec.conversions})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conv Rate"}),(0,t.jsxs)("p",{className:"text-2xl font-black text-[#39FF14]",children:[ec.conversionRate,"%"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Avg Duration"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:ec.avgDuration})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Cost Per Lead"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-[#39FF14]",children:["RM ",ec.costPerLead.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"ROI"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-green-400",children:[ec.roi,"x"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Total Revenue"}),(0,t.jsxs)("p",{className:"text-3xl font-black text-white",children:["RM ",ec.totalRevenue.toLocaleString()]})]})]})]})}),ei&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Schedule Report Email"}),(0,t.jsx)("button",{onClick:()=>en(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Email Address"}),(0,t.jsx)("input",{type:"email",placeholder:"reports@company.com",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Frequency"}),(0,t.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"daily",children:"Daily"}),(0,t.jsx)("option",{value:"weekly",children:"Weekly"}),(0,t.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Report Format"}),(0,t.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"csv",children:"CSV"}),(0,t.jsx)("option",{value:"pdf",children:"PDF"}),(0,t.jsx)("option",{value:"json",children:"JSON"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>en(!1),className:"flex-1 px-4 py-3 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-xl font-bold transition-all",children:"Schedule Report"}),(0,t.jsx)("button",{onClick:()=>en(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})})]});default:return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in duration-300",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center mb-6 backdrop-blur-xl",children:(0,t.jsx)(L.default,{className:"w-10 h-10 text-[#39FF14] animate-pulse"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Module Under Construction"}),(0,t.jsx)("p",{className:"text-slate-400 max-w-sm",children:"We are currently implementing the premium glassy interface for this module. Stay tuned!"})]})}})()})]})]}),h&&(0,t.jsx)(sI,{onClose:()=>g(!1)}),(0,t.jsx)(sl.default,{id:"a54f60f4c5f8d68c",children:'.glass-card.jsx-a54f60f4c5f8d68c{position:relative;overflow:hidden}.glass-card.jsx-a54f60f4c5f8d68c:before{content:"";background:linear-gradient(90deg,#0000,#ffffff0d,#0000);width:50%;height:100%;transition:all .75s;position:absolute;top:0;left:-100%;transform:skew(-25deg)}.glass-card.jsx-a54f60f4c5f8d68c:hover:before{left:150%}.nav-glass-btn.jsx-a54f60f4c5f8d68c{border:1px solid #fff0}.nav-glass-btn.jsx-a54f60f4c5f8d68c:hover{border:1px solid #ffffff1a}'})]}):null}var l=l,eD=eD,_=_,v=v,sT=e.i(23429),sT=sT,sD=e.i(73054),sD=sD,sR=e.i(44308),sR=sR,sL=e.i(17170),sL=sL,e$=e$,si=si,e2=e2,C=C,tj=tj,tD=tD,t_=t_,sE=e.i(33433),sE=sE,s$=e.i(75945),s$=s$;function sO(){let{user:e}=(0,Q.useAuth)(),[a,r]=(0,s.useState)("unified-desktop"),[i,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),[c,x]=(0,s.useState)([]),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[f,j]=(0,s.useState)([]),[w,F]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[M,A]=(0,s.useState)([]),[I,P]=(0,s.useState)([]),[D,R]=(0,s.useState)([]),[L,E]=(0,s.useState)([]),[$,O]=(0,s.useState)([]),[q,U]=(0,s.useState)(null),[V,B]=(0,s.useState)(!1),[z,G]=(0,s.useState)(!1),[K,W]=(0,s.useState)(!1),[X,H]=(0,s.useState)(!1),[J,Y]=(0,s.useState)(!1),[Z,et]=(0,s.useState)(!1),[es,ea]=(0,s.useState)(!1),[el,er]=(0,s.useState)(null),[ei,en]=(0,s.useState)(null),[eo,ed]=(0,s.useState)(null),[ec,ex]=(0,s.useState)(null),[em,eh]=(0,s.useState)(null),[eu,ep]=(0,s.useState)(null),[eg,ef]=(0,s.useState)(""),[ej,ev]=(0,s.useState)(!1),[eN,ey]=(0,s.useState)(!1),[ew,e_]=(0,s.useState)(!1),[eF,ek]=(0,s.useState)(0),[eC,eS]=(0,s.useState)({campaign_name:"",campaign_description:"",dialer_type:"predictive",max_call_attempts:3,retry_delay_minutes:30,calling_hours_start:"09:00",calling_hours_end:"18:00",timezone:"Asia/Kuala_Lumpur",scheduled_start_date:"",scheduled_end_date:"",script_template:""}),[eM,eA]=(0,s.useState)({customer_name:"",primary_phone:"",primary_email:"",secondary_phone:"",secondary_email:"",preferred_channel:"voice",customer_tier:"standard",company_name:"",job_title:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Malaysia",date_of_birth:"",notes:"",tags:"",preferred_language:"English",timezone:"Asia/Kuala_Lumpur",custom_field1:"",custom_field2:""}),[eI,eP]=(0,s.useState)({rule_name:"",rule_description:"",channel_type:"all",routing_strategy:"round_robin",priority:5,target_queue:"",target_skill:"",overflow_action:"voicemail",overflow_threshold_seconds:300,business_hours_only:!1,customer_tier_filter:"",min_skill_level:1,max_wait_time:600,enable_callback:!0,callback_threshold:180,agent_selection_criteria:"longest_idle",backup_queue:"",time_based_routing:!1,time_start:"09:00",time_end:"18:00",days_of_week:["monday","tuesday","wednesday","thursday","friday"]}),[eT,eR]=(0,s.useState)({agent_name:"",skill_name:"",skill_category:"language",proficiency_level:5,is_active:!0}),[eL,eO]=(0,s.useState)({priority_name:"",priority_description:"",priority_level:5,boost_percentage:50,is_active:!0,condition_type:"customer_tier",condition_value:"",wait_time_minutes:3,lifetime_value_min:0,interaction_count_min:0}),[eq,eU]=(0,s.useState)({menu_name:"",menu_description:"",greeting_text:"",greeting_audio_url:"",use_conversational_ai:!1,ai_model:"gpt-4",timeout_seconds:10,max_retries:3,invalid_option_message:"Invalid option. Please try again.",timeout_message:"We did not receive your response. Please try again.",is_active:!0}),[eV,eB]=(0,s.useState)([]);(0,s.useEffect)(()=>{e&&ez()},[e]),(0,s.useEffect)(()=>{o&&eG()},[o]);let ez=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).maybeSingle();t&&!s?d(t.tenant_id):console.error("Error fetching tenant_id:",s)},eG=async()=>{n(!0);try{await Promise.all([eK(),eW(),eX(),eH(),eJ(),eY(),eQ(),eZ(),e4(),e1()])}catch(e){console.error("Error loading data:",e)}finally{n(!1)}},eK=async()=>{try{let{data:e,error:t}=await h.db.from("cc_customer_context").select("*").order("total_interactions",{ascending:!1});if(t)throw t;x(e||[])}catch(e){console.error("Exception in loadCustomers:",e),x([])}},eW=async()=>{try{let{data:e,error:t}=await h.db.from("cc_unified_queues").select("*").order("priority",{ascending:!1});if(t)throw t;p(e||[])}catch(e){console.error("Exception in loadQueueItems:",e),p([])}},eX=async()=>{try{let{data:e,error:t}=await h.db.from("cc_ivr_menus").select("*").order("menu_name");if(t)throw t;b(e||[])}catch(e){console.error("Exception in loadIVRMenus:",e),b([])}},eH=async()=>{try{let{data:e,error:t}=await h.db.from("cc_ivr_menu_options").select("*").order("priority");if(t)throw t;j(e||[])}catch(e){console.error("Exception in loadIVROptions:",e),j([])}},eJ=async()=>{try{let{data:e,error:t}=await h.db.from("cc_acd_routing_rules").select("*").order("priority",{ascending:!1});if(t)throw t;F(e||[])}catch(e){console.error("Exception in loadACDRules:",e),F([])}},eY=async()=>{try{let{data:e,error:t}=await h.db.from("cc_agent_skills").select("*").order("agent_name");if(t)throw t;S(e||[])}catch(e){console.error("Exception in loadAgentSkills:",e),S([])}},eQ=async()=>{try{let{data:e,error:t}=await h.db.from("cc_routing_priorities").select("*").order("priority_level",{ascending:!1});if(t)throw t;A(e||[])}catch(e){console.error("Exception in loadPriorityRules:",e),A([])}},eZ=async()=>{try{let{data:e,error:t}=await h.db.from("cc_dialer_campaigns").select("*").order("campaign_name");if(t)throw t;P(e||[]),e&&e.length>0&&!q&&(U(e[0].id),e0(e[0].id))}catch(e){console.error("Exception in loadDialerCampaigns:",e),P([])}},e0=async e=>{if(e)try{let{data:t,error:s}=await h.db.from("cc_dialer_call_lists").select("*").eq("campaign_id",e).order("priority",{ascending:!1});if(s)throw s;R(t||[])}catch(e){console.error("Exception in loadCallLists:",e),R([])}},e4=async()=>{try{let{data:e,error:t}=await h.db.from("cc_dialer_sessions").select("*").eq("session_status","active").order("started_at",{ascending:!1});if(t)throw t;E(e||[])}catch(e){console.error("Exception in loadDialerSessions:",e),E([])}},e1=async()=>{try{let{data:e,error:t}=await h.db.from("cc_dialer_call_results").select("*").order("dialed_at",{ascending:!1}).limit(50);if(t)throw t;O(e||[])}catch(e){console.error("Exception in loadCallResults:",e),O([])}},e3=async()=>{if(!o)return void alert("Unable to determine tenant. Please try logging out and back in.");try{if(eu){let{error:e}=await h.db.from("cc_dialer_campaigns").update({campaign_name:eC.campaign_name,campaign_description:eC.campaign_description,dialer_type:eC.dialer_type,max_call_attempts:eC.max_call_attempts,retry_delay_minutes:eC.retry_delay_minutes,calling_hours_start:eC.calling_hours_start,calling_hours_end:eC.calling_hours_end,timezone:eC.timezone,scheduled_start_date:eC.scheduled_start_date||null,scheduled_end_date:eC.scheduled_end_date||null,script_template:eC.script_template}).eq("id",eu);if(e)throw e}else{let{data:e,error:t}=await h.db.from("cc_dialer_campaigns").insert({tenant_id:o,campaign_name:eC.campaign_name,campaign_description:eC.campaign_description,dialer_type:eC.dialer_type,status:"draft",max_call_attempts:eC.max_call_attempts,retry_delay_minutes:eC.retry_delay_minutes,calling_hours_start:eC.calling_hours_start,calling_hours_end:eC.calling_hours_end,timezone:eC.timezone,scheduled_start_date:eC.scheduled_start_date||null,scheduled_end_date:eC.scheduled_end_date||null,script_template:eC.script_template}).select().single();if(t)throw t}G(!1),ep(null),eS({campaign_name:"",campaign_description:"",dialer_type:"predictive",max_call_attempts:3,retry_delay_minutes:30,calling_hours_start:"09:00",calling_hours_end:"18:00",timezone:"Asia/Kuala_Lumpur",scheduled_start_date:"",scheduled_end_date:"",script_template:""}),await eZ()}catch(e){alert("Failed to save dialer campaign: "+e.message),console.error("Error saving dialer campaign:",e)}},e5=async(e,t)=>{let{error:s}=await h.db.from("cc_acd_routing_rules").update({is_active:!t}).eq("id",e);s?alert("Failed to toggle rule: "+s.message):eJ()},e9=async(e,t)=>{let{error:s}=await h.db.from("cc_routing_priorities").update({is_active:!t}).eq("id",e);s?alert("Failed to toggle rule: "+s.message):eQ()},e6=async(e,t)=>{let{error:s}=await h.db.from("cc_agent_skills").update({is_active:!t}).eq("id",e);s?alert("Failed to toggle skill: "+s.message):eY()},e8=async()=>{if(!eT.agent_name||!eT.skill_name)return void alert("Please fill in Agent Name and Skill Name");try{if(eo){let{error:e}=await h.db.from("cc_agent_skills").update({agent_name:eT.agent_name,skill_name:eT.skill_name,skill_category:eT.skill_category,proficiency_level:eT.proficiency_level,is_active:eT.is_active,updated_at:new Date().toISOString()}).eq("id",eo);if(e)throw e}else{let{error:e}=await h.db.from("cc_agent_skills").insert({tenant_id:"11111111-1111-1111-1111-111111111111",agent_id:"22222222-2222-2222-2222-222222222222",agent_name:eT.agent_name,skill_name:eT.skill_name,skill_category:eT.skill_category,proficiency_level:eT.proficiency_level,is_active:eT.is_active});if(e)throw e}Y(!1),ed(null),eY()}catch(e){alert("Failed to save agent skill: "+e.message)}},e7=async e=>{if(confirm("Are you sure you want to delete this skill?"))try{let{error:t}=await h.db.from("cc_agent_skills").delete().eq("id",e);if(t)throw t;eY()}catch(e){alert("Failed to delete skill: "+e.message)}},te=async()=>{if(!eL.priority_name)return void alert("Please fill in Priority Rule Name");let e={};switch(eL.condition_type){case"customer_tier":if(!eL.condition_value)return void alert("Please select a customer tier");e={customer_tier:eL.condition_value};break;case"wait_time":e={wait_time_minutes:`>${eL.wait_time_minutes}`};break;case"lifetime_value":e={lifetime_value_min:eL.lifetime_value_min};break;case"interaction_count":e={interaction_count_min:eL.interaction_count_min}}try{if(ec){let{error:t}=await h.db.from("cc_routing_priorities").update({priority_name:eL.priority_name,priority_description:eL.priority_description,priority_level:eL.priority_level,boost_percentage:eL.boost_percentage,conditions:e,is_active:eL.is_active,updated_at:new Date().toISOString()}).eq("id",ec);if(t)throw t}else{let{error:t}=await h.db.from("cc_routing_priorities").insert({tenant_id:null,priority_name:eL.priority_name,priority_description:eL.priority_description,priority_level:eL.priority_level,boost_percentage:eL.boost_percentage,conditions:e,is_active:eL.is_active});if(t)throw t}et(!1),ex(null),eQ()}catch(e){alert("Failed to save priority rule: "+e.message)}},tt=async e=>{if(confirm("Are you sure you want to delete this priority rule?"))try{let{error:t}=await h.db.from("cc_routing_priorities").delete().eq("id",e);if(t)throw t;eQ()}catch(e){alert("Failed to delete priority rule: "+e.message)}},ts=async e=>{eh(e.id),eU({menu_name:e.menu_name,menu_description:e.menu_description||"",greeting_text:e.greeting_text,greeting_audio_url:e.greeting_audio_url||"",use_conversational_ai:e.use_conversational_ai||!1,ai_model:e.ai_model||"gpt-4",timeout_seconds:e.timeout_seconds||10,max_retries:e.max_retries||3,invalid_option_message:e.invalid_option_message||"Invalid option. Please try again.",timeout_message:e.timeout_message||"We did not receive your response. Please try again.",is_active:e.is_active});try{let{data:t,error:s}=await h.db.from("cc_ivr_menu_options").select("*").eq("ivr_menu_id",e.id);if(s)throw s;let a=(t||[]).map(e=>({option_key:e.option_key,option_label:e.option_label,action_type:e.action_type,action_target:e.action_target||"",ai_intent:e.ai_intent||"",priority:e.priority||1,is_active:e.is_active}));eB(a)}catch(e){console.error("Failed to load IVR options:",e.message),eB([])}ea(!0)},ta=async()=>{if(!eq.menu_name||!eq.greeting_text)return void alert("Please fill in Menu Name and Greeting Text");if(0===eV.length)return void alert("Please add at least one menu option");try{let e=em;if(em){let{error:e}=await h.db.from("cc_ivr_menus").update({menu_name:eq.menu_name,menu_description:eq.menu_description,greeting_text:eq.greeting_text,greeting_audio_url:eq.greeting_audio_url||null,use_conversational_ai:eq.use_conversational_ai,ai_model:eq.ai_model,timeout_seconds:eq.timeout_seconds,max_retries:eq.max_retries,invalid_option_message:eq.invalid_option_message,timeout_message:eq.timeout_message,is_active:eq.is_active,updated_at:new Date().toISOString()}).eq("id",em);if(e)throw e;await h.db.from("cc_ivr_menu_options").delete().eq("ivr_menu_id",em)}else{let{data:t,error:s}=await h.db.from("cc_ivr_menus").insert({tenant_id:null,menu_name:eq.menu_name,menu_description:eq.menu_description,greeting_text:eq.greeting_text,greeting_audio_url:eq.greeting_audio_url||null,use_conversational_ai:eq.use_conversational_ai,ai_model:eq.ai_model,timeout_seconds:eq.timeout_seconds,max_retries:eq.max_retries,invalid_option_message:eq.invalid_option_message,timeout_message:eq.timeout_message,is_active:eq.is_active}).select().single();if(s)throw s;e=t.id}let t=eV.map(t=>({tenant_id:null,ivr_menu_id:e,option_key:t.option_key,option_label:t.option_label,action_type:t.action_type,action_target:t.action_target||null,ai_intent:t.ai_intent||null,priority:t.priority,is_active:t.is_active})),{error:s}=await h.db.from("cc_ivr_menu_options").insert(t);if(s)throw s;ea(!1),eh(null),eB([]),eX()}catch(e){alert("Failed to save IVR menu: "+e.message)}},tl=async e=>{if(confirm("Are you sure you want to delete this IVR menu? This will also delete all associated menu options."))try{await h.db.from("cc_ivr_menu_options").delete().eq("ivr_menu_id",e);let{error:t}=await h.db.from("cc_ivr_menus").delete().eq("id",e);if(t)throw t;eX()}catch(e){alert("Failed to delete IVR menu: "+e.message)}},tr=e=>{"traditional"===e?eB([...eV,{option_key:String(eV.filter(e=>!e.option_key.startsWith("AI")).length+1),option_label:"",action_type:"transfer_queue",action_target:"",ai_intent:"",priority:1,is_active:!0}]):eB([...eV,{option_key:`AI_INTENT_${eV.filter(e=>e.option_key.startsWith("AI")).length+1}`,option_label:"",action_type:"ai_intent",action_target:"",ai_intent:"",priority:1,is_active:!0}])},ti=(e,t,s)=>{let a=[...eV];a[e]={...a[e],[t]:s},eB(a)},tn=async e=>{if(confirm("Are you sure you want to delete this dialer campaign? This will also delete all associated call lists and sessions."))try{await h.db.from("cc_outbound_call_lists").delete().eq("campaign_id",e),await h.db.from("cc_dialer_sessions").delete().eq("campaign_id",e);let{error:t}=await h.db.from("cc_outbound_dialers").delete().eq("id",e);if(t)throw t;q===e&&U(null),eZ()}catch(e){alert("Failed to delete dialer campaign: "+e.message)}},to=async()=>{if(!eM.customer_name||!eM.primary_phone||!eM.primary_email)return void alert("Please fill in all required fields: Name, Phone, and Email");if(!o)return void alert("Unable to determine tenant. Please try logging out and back in.");let e=eM.tags?eM.tags.split(",").map(e=>e.trim()):[],t={};eM.custom_field1&&(t.field1=eM.custom_field1),eM.custom_field2&&(t.field2=eM.custom_field2),eM.company_name&&(t.company_name=eM.company_name),eM.job_title&&(t.job_title=eM.job_title),eM.date_of_birth&&(t.date_of_birth=eM.date_of_birth),eM.preferred_language&&(t.preferred_language=eM.preferred_language),eM.timezone&&(t.timezone=eM.timezone),eM.notes&&(t.notes=eM.notes),eM.address_line1&&(t.address={line1:eM.address_line1,line2:eM.address_line2,city:eM.city,state:eM.state,postal_code:eM.postal_code,country:eM.country});try{if(el){let{error:s}=await h.db.from("cc_customer_context").update({customer_name:eM.customer_name,primary_phone:eM.primary_phone,primary_email:eM.primary_email,secondary_phone:eM.secondary_phone||null,secondary_email:eM.secondary_email||null,preferred_channel:eM.preferred_channel,customer_tier:eM.customer_tier,tags:e,custom_fields:t,updated_at:new Date().toISOString()}).eq("id",el);s?alert("Failed to update customer: "+s.message):(alert("Customer updated successfully!"),W(!1),er(null),tc(),eK())}else{let s=`CUST-${String(c.length+100).padStart(5,"0")}`,{error:a}=await h.db.from("cc_customer_context").insert({tenant_id:o,customer_id:s,customer_name:eM.customer_name,primary_phone:eM.primary_phone,primary_email:eM.primary_email,secondary_phone:eM.secondary_phone||null,secondary_email:eM.secondary_email||null,preferred_channel:eM.preferred_channel,customer_tier:eM.customer_tier,lifetime_value:0,total_interactions:0,last_interaction_at:new Date().toISOString(),average_satisfaction:0,tags:e,custom_fields:t});a?alert("Failed to add customer: "+a.message):(alert("Customer added successfully!"),W(!1),tc(),eK())}}catch(e){alert("Failed to save customer. Please try again.")}},tc=()=>{eA({customer_name:"",primary_phone:"",primary_email:"",secondary_phone:"",secondary_email:"",preferred_channel:"voice",customer_tier:"standard",company_name:"",job_title:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Malaysia",date_of_birth:"",notes:"",tags:"",preferred_language:"English",timezone:"Asia/Kuala_Lumpur",custom_field1:"",custom_field2:""})},tx=async e=>{let t=e.custom_fields||{},s=t.address||{},a=Array.isArray(e.tags)?e.tags.join(", "):"";eA({customer_name:e.customer_name||"",primary_phone:e.primary_phone||"",primary_email:e.primary_email||"",secondary_phone:e.secondary_phone||"",secondary_email:e.secondary_email||"",preferred_channel:e.preferred_channel||"voice",customer_tier:e.customer_tier||"standard",company_name:t.company_name||"",job_title:t.job_title||"",address_line1:s.line1||"",address_line2:s.line2||"",city:s.city||"",state:s.state||"",postal_code:s.postal_code||"",country:s.country||"Malaysia",date_of_birth:t.date_of_birth||"",notes:t.notes||"",tags:a,preferred_language:t.preferred_language||"English",timezone:t.timezone||"Asia/Kuala_Lumpur",custom_field1:t.field1||"",custom_field2:t.field2||""}),er(e.id),W(!0)},tm=async e=>{if(!confirm("Are you sure you want to delete this customer?"))return;let{error:t}=await h.db.from("cc_customer_context").delete().eq("id",e);t?alert("Failed to delete customer: "+t.message):eK()},th=async()=>{if(!eI.rule_name)return void alert("Please enter a rule name");let e={};eI.business_hours_only&&(e.business_hours_only=!0),eI.customer_tier_filter&&(e.customer_tier=eI.customer_tier_filter),eI.min_skill_level>1&&(e.min_skill_level=eI.min_skill_level),600!==eI.max_wait_time&&(e.max_wait_time=eI.max_wait_time),eI.time_based_routing&&(e.time_based={enabled:!0,start_time:eI.time_start,end_time:eI.time_end,days_of_week:eI.days_of_week}),eI.enable_callback&&(e.callback={enabled:!0,threshold_seconds:eI.callback_threshold}),"longest_idle"!==eI.agent_selection_criteria&&(e.agent_selection=eI.agent_selection_criteria),eI.backup_queue&&(e.backup_queue=eI.backup_queue);let t={rule_name:eI.rule_name,rule_description:eI.rule_description,channel_type:"all"===eI.channel_type?null:eI.channel_type,routing_strategy:eI.routing_strategy,priority:eI.priority,target_queue:eI.target_queue||null,target_skill:eI.target_skill||null,overflow_action:eI.overflow_action,overflow_threshold_seconds:eI.overflow_threshold_seconds,conditions:Object.keys(e).length>0?e:null};try{if(ei){let{error:e}=await h.db.from("cc_acd_routing_rules").update(t).eq("id",ei);e?alert("Failed to update ACD rule: "+e.message):(alert("ACD Routing Rule updated successfully!"),H(!1),en(null),tu(),eJ())}else{let{error:e}=await h.db.from("cc_acd_routing_rules").insert({tenant_id:null,...t,is_active:!0});e?alert("Failed to create ACD rule: "+e.message):(alert("ACD Routing Rule created successfully!"),H(!1),tu(),eJ())}}catch(e){alert("Failed to save ACD rule. Please try again.")}},tu=()=>{eP({rule_name:"",rule_description:"",channel_type:"all",routing_strategy:"round_robin",priority:5,target_queue:"",target_skill:"",overflow_action:"voicemail",overflow_threshold_seconds:300,business_hours_only:!1,customer_tier_filter:"",min_skill_level:1,max_wait_time:600,enable_callback:!0,callback_threshold:180,agent_selection_criteria:"longest_idle",backup_queue:"",time_based_routing:!1,time_start:"09:00",time_end:"18:00",days_of_week:["monday","tuesday","wednesday","thursday","friday"]})},tp=async e=>{let t=e.conditions||{},s=t.time_based||{},a=t.callback||{};eP({rule_name:e.rule_name||"",rule_description:e.rule_description||"",channel_type:e.channel_type||"all",routing_strategy:e.routing_strategy||"round_robin",priority:e.priority||5,target_queue:e.target_queue||"",target_skill:e.target_skill||"",overflow_action:e.overflow_action||"voicemail",overflow_threshold_seconds:e.overflow_threshold_seconds||300,business_hours_only:t.business_hours_only||!1,customer_tier_filter:t.customer_tier||"",min_skill_level:t.min_skill_level||1,max_wait_time:t.max_wait_time||600,enable_callback:a.enabled||!1,callback_threshold:a.threshold_seconds||180,agent_selection_criteria:t.agent_selection||"longest_idle",backup_queue:t.backup_queue||"",time_based_routing:s.enabled||!1,time_start:s.start_time||"09:00",time_end:s.end_time||"18:00",days_of_week:s.days_of_week||["monday","tuesday","wednesday","thursday","friday"]}),en(e.id),H(!0)},tg=async e=>{if(!confirm("Are you sure you want to delete this ACD routing rule?"))return;let{error:t}=await h.db.from("cc_acd_routing_rules").delete().eq("id",e);t?alert("Failed to delete ACD rule: "+t.message):(eJ(),alert("ACD Routing Rule deleted successfully!"))},tb=e=>{switch(e){case"vip":case"premium":return"bg-[#39FF14]/20 text-[#39FF14]";case"online":return"text-brand-lime bg-green-500/10 border-green-500/20";case"busy":return"text-brand-lime bg-red-500/10 border-red-500/20";default:return"bg-gray-500/20 text-gray-400"}},tf=e=>{if(e<60)return`${e}s`;let t=Math.floor(e/60);return`${t}m ${e%60}s`};if(i)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading contact center data..."})});let tv=k.reduce((e,t)=>(e[t.agent_name]||(e[t.agent_name]=[]),e[t.agent_name].push(t),e),{});return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contact Center"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Omnichannel unified desktop with intelligent routing"}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Current Tenant: ",(0,t.jsx)("span",{className:"text-[#39FF14] font-medium",children:"Platform"})]})]}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg",children:[(0,t.jsx)(tj.default,{className:"w-5 h-5"}),"Dialpad"]})]})}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>r("unified-desktop"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"unified-desktop"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4 inline mr-2"}),"Unified Desktop"]}),(0,t.jsxs)("button",{onClick:()=>r("customer-context"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"customer-context"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(l.default,{className:"w-4 h-4 inline mr-2"}),"Customer Context"]}),(0,t.jsxs)("button",{onClick:()=>r("acd-routing"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"acd-routing"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(sL.default,{className:"w-4 h-4 inline mr-2"}),"ACD Routing"]}),(0,t.jsxs)("button",{onClick:()=>r("agent-skills"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"agent-skills"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eD.default,{className:"w-4 h-4 inline mr-2"}),"Agent Skills"]}),(0,t.jsxs)("button",{onClick:()=>r("priority-routing"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"priority-routing"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eE.TrendingUp,{className:"w-4 h-4 inline mr-2"}),"Priority Routing"]}),(0,t.jsxs)("button",{onClick:()=>r("ivr-config"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"ivr-config"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eb.Phone,{className:"w-4 h-4 inline mr-2"}),"IVR Configuration"]}),(0,t.jsxs)("button",{onClick:()=>r("outbound-dialers"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"outbound-dialers"===a?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(si.default,{className:"w-4 h-4 inline mr-2"}),"Outbound Dialers"]})]}),"unified-desktop"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Total in Queue"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:u.length})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Waiting"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:u.filter(e=>"waiting"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Active"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.filter(e=>"assigned"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Avg Wait Time"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-[#39FF14]",children:u.length>0?tf(Math.floor(u.reduce((e,t)=>e+t.wait_time_seconds,0)/u.length)):"0s"})]})]})}),0===u.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No items in queue"})}):(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Channel"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Customer"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Queue"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Priority"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Wait Time"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Agent"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-700",children:u.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${(e=>{switch(e){case"voice":case"chat":case"email":return"bg-[#39FF14]";case"sms":return"bg-green-600";case"whatsapp":return"bg-emerald-600";default:return"bg-gray-600"}})(e.channel_type)} text-white`,children:(0,t.jsx)("span",{className:"text-xs font-medium uppercase",children:e.channel_type})})}),(0,t.jsxs)("td",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.customer_name}),(0,t.jsx)("div",{className:"text-gray-400 text-sm",children:e.customer_phone})]}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-300",children:e.queue_name}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.priority>=8?"bg-red-500/20 text-red-400":e.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["P",e.priority]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-300",children:tf(e.wait_time_seconds)}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"waiting"===e.status?"bg-yellow-500/20 text-yellow-400":"assigned"===e.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-300",children:e.assigned_agent_name||"-"})]},e.id))})]})})]}),"customer-context"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Customer Context & History"}),(0,t.jsxs)("button",{onClick:()=>{er(null),tc(),W(!0)},className:"px-4 py-2 bg-[#39FF14] text-white rounded-lg hover:bg-[#32e012] flex items-center transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),0===c.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:"No customers found."})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.customer_name}),(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium mt-1 ${tb(e.customer_tier)}`,children:e.customer_tier.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>tx(e),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Edit Customer",children:(0,t.jsx)(sT.default,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("button",{onClick:()=>tm(e.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Delete Customer",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Phone:"}),(0,t.jsx)("span",{className:"text-gray-300",children:e.primary_phone})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,t.jsx)("span",{className:"text-gray-300 truncate ml-2",children:e.primary_email})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Channel:"}),(0,t.jsx)("span",{className:"text-gray-300 uppercase",children:e.preferred_channel})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Interactions:"}),(0,t.jsx)("span",{className:"text-white font-bold",children:e.total_interactions})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"LTV:"}),(0,t.jsxs)("span",{className:"text-green-400 font-bold",children:["RM ",parseFloat(e.lifetime_value).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Satisfaction:"}),(0,t.jsxs)("span",{className:"text-yellow-400 font-bold",children:[parseFloat(e.average_satisfaction).toFixed(1)," / 5.0"]})]})]})]},e.id))})]}),"acd-routing"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"ACD Routing Rules"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Automatic Call Distribution - Intelligent routing strategies"})]}),(0,t.jsxs)("button",{onClick:()=>{en(null),tu(),H(!0)},className:"px-4 py-2 bg-[#39FF14] text-white rounded-lg hover:bg-[#32e012] flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Create Rule"]})]}),0===w.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No routing rules configured"})}):(0,t.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.rule_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"skills_based":case"sticky_agent":case"least_busy":return"bg-[#39FF14]/20 text-[#39FF14]";case"priority_based":return"bg-red-500/20 text-red-400";case"round_robin":return"bg-green-500/20 text-green-400";case"away":return"text-brand-lime bg-yellow-500/10 border-yellow-500/20";default:return"bg-gray-500/20 text-gray-400"}})(e.routing_strategy)}`,children:e.routing_strategy.replace("_"," ").toUpperCase()}),(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.priority>=8?"bg-red-500/20 text-red-400":e.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["Priority ",e.priority]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:e.rule_description}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs text-gray-400",children:[e.target_queue&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Queue:"})," ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:e.target_queue})]}),e.target_skill&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Skill:"})," ",(0,t.jsx)("span",{className:"text-green-400",children:e.target_skill})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>tp(e),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Edit Rule",children:(0,t.jsx)(sT.default,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("button",{onClick:()=>tg(e.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Delete Rule",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>e5(e.id,e.is_active),children:e.is_active?(0,t.jsx)(sR.default,{className:"w-8 h-8 text-green-500"}):(0,t.jsx)(sD.default,{className:"w-8 h-8 text-gray-600"})})]})]})},e.id))})]}),"agent-skills"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Agent Skills"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Skills-based routing - Language proficiencies and department expertise"})]}),(0,t.jsxs)("button",{onClick:()=>{ed(null),eR({agent_name:"",skill_name:"",skill_category:"language",proficiency_level:5,is_active:!0}),Y(!0)},className:"px-4 py-2 bg-[#39FF14] text-white rounded-lg hover:bg-[#32e012] flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Add Skill"]})]}),0===Object.keys(tv).length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No agent skills configured"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(tv).map(([e,s])=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",children:[s.length," skills"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded p-3 flex justify-between items-center group hover:bg-gray-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:(e=>{switch(e){case"language":return"🌐";case"department":return"🏢";case"technical":return"🔧";case"product":return"📦";case"soft_skills":return"💼";case"industry":return"🏭";case"certification":return"🎓";default:return"⭐"}})(e.skill_category)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white text-sm font-medium",children:e.skill_name}),(0,t.jsx)("div",{className:"text-gray-400 text-xs capitalize",children:e.skill_category})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"text-yellow-400 font-bold text-sm",children:[e.proficiency_level,"/10"]}),(0,t.jsx)("button",{onClick:()=>{ed(e.id),eR({agent_name:e.agent_name,skill_name:e.skill_name,skill_category:e.skill_category,proficiency_level:e.proficiency_level,is_active:e.is_active}),Y(!0)},className:"p-1 hover:bg-[#39FF14] rounded transition-colors",title:"Edit Skill",children:(0,t.jsx)(sT.default,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("button",{onClick:()=>e7(e.id),className:"p-1 hover:bg-red-600 rounded transition-colors",title:"Delete Skill",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>e6(e.id,e.is_active),title:"Toggle Active Status",children:e.is_active?(0,t.jsx)(sR.default,{className:"w-6 h-6 text-green-500"}):(0,t.jsx)(sD.default,{className:"w-6 h-6 text-gray-600"})})]})]},e.id))})]},e))})]}),"priority-routing"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Priority Routing Rules"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Automatically boost priority for VIP customers, high-value accounts, and urgent situations"})]}),(0,t.jsxs)("button",{onClick:()=>{ex(null),eO({priority_name:"",priority_description:"",priority_level:5,boost_percentage:50,is_active:!0,condition_type:"customer_tier",condition_value:"",wait_time_minutes:3,lifetime_value_min:0,interaction_count_min:0}),et(!0)},className:"px-4 py-2 bg-[#39FF14] text-white rounded-lg hover:bg-[#32e012] flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Create Priority Rule"]})]}),0===M.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No priority rules configured"})}):(0,t.jsx)("div",{className:"space-y-3",children:M.map(e=>(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.priority_name}),(0,t.jsxs)("span",{className:"px-2 py-1 rounded bg-red-500/20 text-red-400 text-xs font-bold",children:["Level ",e.priority_level,"/10"]}),(0,t.jsxs)("span",{className:"px-2 py-1 rounded bg-green-500/20 text-green-400 text-xs font-bold",children:["+",e.boost_percentage,"% Priority"]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:e.priority_description}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Conditions: ",(0,t.jsx)("span",{className:"text-gray-400",children:JSON.stringify(e.conditions)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{let t;return ex(e.id),t=e.conditions.customer_tier?"customer_tier":e.conditions.wait_time_minutes?"wait_time":e.conditions.lifetime_value_min?"lifetime_value":e.conditions.interaction_count_min?"interaction_count":"customer_tier",void(eO({priority_name:e.priority_name,priority_description:e.priority_description||"",priority_level:e.priority_level,boost_percentage:e.boost_percentage,is_active:e.is_active,condition_type:t,condition_value:e.conditions.customer_tier||"",wait_time_minutes:e.conditions.wait_time_minutes||3,lifetime_value_min:e.conditions.lifetime_value_min||0,interaction_count_min:e.conditions.interaction_count_min||0}),et(!0))},className:"p-2 hover:bg-[#39FF14] rounded transition-colors",title:"Edit Rule",children:(0,t.jsx)(sT.default,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("button",{onClick:()=>tt(e.id),className:"p-2 hover:bg-red-600 rounded transition-colors",title:"Delete Rule",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>e9(e.id,e.is_active),title:"Toggle Active Status",children:e.is_active?(0,t.jsx)(sR.default,{className:"w-8 h-8 text-green-500"}):(0,t.jsx)(sD.default,{className:"w-8 h-8 text-gray-600"})})]})]})},e.id))})]}),"ivr-config"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"IVR Configuration"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Interactive Voice Response with traditional key press + Conversational AI"})]}),(0,t.jsxs)("button",{onClick:()=>{eh(null),eU({menu_name:"",menu_description:"",greeting_text:"",greeting_audio_url:"",use_conversational_ai:!1,ai_model:"gpt-4",timeout_seconds:10,max_retries:3,invalid_option_message:"Invalid option. Please try again.",timeout_message:"We did not receive your response. Please try again.",is_active:!0}),eB([]),ea(!0)},className:"px-4 py-2 bg-[#39FF14] text-white rounded-lg hover:bg-[#32e012] flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Configure New IVR"]})]}),0===g.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No IVR menus configured"})}):(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>{let s=f.filter(t=>t.ivr_menu_id===e.id),a=s.filter(e=>e.option_key&&!e.option_key.startsWith("AI")),l=s.filter(e=>e.option_key&&e.option_key.startsWith("AI"));return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.menu_name}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:e.menu_description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"Active":"Inactive"}),(0,t.jsx)("button",{onClick:()=>ts(e),className:"p-2 hover:bg-[#39FF14] rounded transition-colors",title:"Edit IVR",children:(0,t.jsx)(sT.default,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("button",{onClick:()=>tl(e.id),className:"p-2 hover:bg-red-600 rounded transition-colors",title:"Delete IVR",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded mb-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Greeting Message:"}),(0,t.jsx)("div",{className:"text-white",children:e.greeting_text}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Timeout: ",e.timeout_seconds,"s"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(eb.Phone,{className:"w-5 h-5 text-brand-lime"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Traditional Key Press"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",a.length," options)"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===a.length?(0,t.jsx)("div",{className:"text-gray-500 text-sm",children:"No traditional options"}):a.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 p-2 rounded flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-[#39FF14] text-white px-2 py-1 rounded font-bold text-sm min-w-[32px] text-center",children:e.option_key}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-white text-sm",children:e.option_label}),(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:e.action_target||e.action_type})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4 text-brand-lime"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Conversational AI"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",l.length," intents)"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===l.length?(0,t.jsx)("div",{className:"text-gray-500 text-sm",children:"No AI intents"}):l.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 p-2 rounded flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-[#39FF14] text-white px-2 py-1 rounded text-xs min-w-[32px] flex items-center justify-center",children:(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-white text-sm",children:e.option_label}),(0,t.jsxs)("div",{className:"text-gray-400 text-xs",children:["Intent: ",e.ai_intent]}),(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.action_target||e.action_type})]})]},e.id))})]})]})]},e.id)})})]}),"outbound-dialers"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Outbound Dialer Management"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Automated dialers to maximize agent productivity - Predictive, Power, and Preview modes"})]}),(0,t.jsxs)("button",{onClick:()=>G(!0),className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-[#32e012] hover:to-[#28b80f] transition-all shadow-lg",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Dialer"]})]}),0===I.length?(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,t.jsx)(si.default,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No dialer campaigns found"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first outbound dialer campaign to start calling"}),(0,t.jsxs)("button",{onClick:()=>G(!0),className:"bg-[#39FF14] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Campaign"]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:I.map(e=>{var s;let a,l,r,i=(s=e.id,l=(a=D.filter(e=>e.campaign_id===s)).length,r=a.filter(e=>e.attempts>0).length,{total_contacts:l,contacts_dialed:r,contacts_reached:a.filter(e=>"completed"===e.status||"connected"===e.status).length,contacts_converted:a.filter(e=>e.last_disposition?.toLowerCase().includes("sale")||e.last_disposition?.toLowerCase().includes("success")).length});return(0,t.jsxs)("div",{className:`bg-gray-800 rounded-lg p-4 transition-all ${q===e.id?"ring-2 ring-[#39FF14]":""}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>{U(e.id),e0(e.id)},children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.campaign_name}),(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium mt-1 ${"predictive"===e.dialer_type?"bg-red-500/20 text-red-400":(e.dialer_type,"bg-[#39FF14]/20 text-[#39FF14]")}`,children:e.dialer_type.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===e.status?"bg-green-500/20 text-green-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.status}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),ep(e.id),eS({campaign_name:e.campaign_name,campaign_description:e.campaign_description||"",dialer_type:e.dialer_type,max_call_attempts:e.max_call_attempts,retry_delay_minutes:e.retry_delay_minutes,calling_hours_start:e.calling_hours_start||"09:00",calling_hours_end:e.calling_hours_end||"18:00",timezone:e.timezone||"Asia/Kuala_Lumpur",scheduled_start_date:e.scheduled_start_date||"",scheduled_end_date:e.scheduled_end_date||"",script_template:e.script_template||""}),G(!0)},className:"p-1.5 hover:bg-[#39FF14] rounded transition-colors",title:"Edit Campaign",children:(0,t.jsx)(sT.default,{className:"w-4 h-4 text-brand-lime"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),tn(e.id)},className:"p-1.5 hover:bg-red-600 rounded transition-colors",title:"Delete Campaign",children:(0,t.jsx)(v.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:e.campaign_description}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Total Contacts:"}),(0,t.jsx)("span",{className:"text-white font-bold",children:i.total_contacts})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Dialed:"}),(0,t.jsx)("span",{className:"text-[#39FF14] font-bold",children:i.contacts_dialed})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Reached:"}),(0,t.jsx)("span",{className:"text-green-400 font-bold",children:i.contacts_reached})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Converted:"}),(0,t.jsx)("span",{className:"text-yellow-400 font-bold",children:i.contacts_converted})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Success Rate:"}),(0,t.jsxs)("span",{className:"text-[#39FF14] font-bold",children:[i.contacts_dialed>0?(i.contacts_converted/i.contacts_dialed*100).toFixed(1):0,"%"]})]})]})]},e.id)})}),q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"Active Sessions"}),0===L.filter(e=>e.campaign_id===q).length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No active sessions"}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:L.filter(e=>e.campaign_id===q).map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:e.agent_name}),(0,t.jsxs)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs flex items-center gap-1",children:[(0,t.jsx)(e2.default,{className:"w-3 h-3"}),"Active"]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Presented:"}),(0,t.jsx)("span",{className:"text-white",children:e.calls_presented})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Answered:"}),(0,t.jsx)("span",{className:"text-green-400 font-bold",children:e.calls_answered})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Converted:"}),(0,t.jsx)("span",{className:"text-yellow-400 font-bold",children:e.calls_converted})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Talk Time:"}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:[Math.floor(e.total_talk_time_seconds/60),"m"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-gray-300",children:[Math.floor((Date.now()-new Date(e.started_at).getTime())/6e4),"m"]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:"Call List"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("button",{className:"px-3 py-1 bg-[#39FF14] text-white rounded hover:bg-[#32e012] text-sm flex items-center gap-1",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Contact"]})})]}),0===D.length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No contacts in call list"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Contact"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Phone"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Tier"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Priority"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Status"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Attempts"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Last Result"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-700",children:D.map(e=>{let s=I.find(t=>t.id===e.campaign_id);return(0,t.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,t.jsxs)("td",{className:"px-3 py-2",children:[(0,t.jsx)("div",{className:"text-white text-sm font-medium",children:e.contact_name}),e.customer_id&&(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:e.customer_id})]}),(0,t.jsxs)("td",{className:"px-3 py-2",children:[(0,t.jsx)("div",{className:"text-gray-300 text-sm",children:e.phone_number}),e.alternate_phone&&(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.alternate_phone})]}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${tb(e.customer_tier)}`,children:e.customer_tier.toUpperCase()})}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.priority>=8?"bg-red-500/20 text-red-400":e.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["P",e.priority]})}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"pending"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"completed"===e.status?"bg-green-500/20 text-green-400":"callback_scheduled"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"no_answer"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.status.replace("_"," ")})}),(0,t.jsx)("td",{className:"px-3 py-2 text-gray-300 text-sm",children:e.attempts}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("div",{className:"text-gray-300 text-xs",children:e.last_disposition||"-"})}),(0,t.jsx)("td",{className:"px-3 py-2",children:s?.dialer_type==="preview"?(0,t.jsxs)("button",{className:"px-2 py-1 bg-[#39FF14] text-white rounded text-xs hover:bg-[#32e012] flex items-center gap-1",children:[(0,t.jsx)(C.default,{className:"w-3 h-3"}),"Preview"]}):(0,t.jsxs)("button",{className:"px-2 py-1 bg-[#39FF14] text-white rounded text-xs hover:bg-[#32e012] flex items-center gap-1",children:[(0,t.jsx)(eb.Phone,{className:"w-3 h-3"}),"Call"]})})]},e.id)})})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"Recent Call Results"}),0===$.filter(e=>e.campaign_id===q).length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No call results yet"}):(0,t.jsx)("div",{className:"space-y-2",children:$.filter(e=>e.campaign_id===q).slice(0,10).map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.phone_number}),(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:e.agent_name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:`text-xs font-bold ${e.is_converted?"text-green-400":e.is_answered?"text-[#39FF14]":"text-gray-400"}`,children:e.disposition}),e.sub_disposition&&(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.sub_disposition})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ee.Clock,{className:"w-3 h-3"}),Math.floor(e.talk_time_seconds/60),"m ",e.talk_time_seconds%60,"s"]}),e.is_converted&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-green-400",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"}),"Converted"]}),(0,t.jsx)("div",{className:"text-gray-500",children:new Date(e.dialed_at).toLocaleTimeString()})]}),e.agent_notes&&(0,t.jsx)("div",{className:"mt-2 text-xs text-gray-300 bg-gray-800 rounded p-2",children:e.agent_notes})]},e.id))})]})]})]})]}),V&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-96 p-6 relative border border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>B(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(tj.default,{className:"w-6 h-6 text-green-500"}),"Dialpad"]}),ej?(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/20 rounded-xl p-6 text-center",children:[(0,t.jsx)("div",{className:"text-white text-sm mb-2",children:"Calling"}),(0,t.jsx)("div",{className:"text-white text-2xl font-bold mb-1",children:eg}),(0,t.jsxs)("div",{className:"text-white/80 text-lg",children:[Math.floor(eF/60),":",(eF%60).toString().padStart(2,"0")]})]})}):(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 min-h-[60px] flex items-center justify-center",children:(0,t.jsx)("input",{type:"text",value:eg,onChange:e=>ef(e.target.value),placeholder:"Enter phone number",className:"bg-transparent text-white text-2xl text-center font-mono w-full outline-none"})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(e=>(0,t.jsx)("button",{onClick:()=>{ef(t=>t+e)},disabled:ej,className:"bg-gray-800 hover:bg-gray-700 text-white text-2xl font-semibold py-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e},e))}),ej?(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>ey(!eN),className:`${eN?"bg-red-600":"bg-gray-700"} hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1`,children:[eN?(0,t.jsx)(tD.default,{className:"w-6 h-6"}):(0,t.jsx)(td.Mic,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs",children:eN?"Unmute":"Mute"})]}),(0,t.jsxs)("button",{onClick:()=>e_(!ew),className:`${ew?"bg-[#39FF14]":"bg-gray-700"} hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1`,children:[ew?(0,t.jsx)(t_.default,{className:"w-6 h-6"}):(0,t.jsx)(sE.default,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs",children:"Speaker"})]}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1",children:[(0,t.jsx)(s$.default,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs",children:"Keypad"})]}),(0,t.jsxs)("button",{onClick:()=>{ev(!1),ef(""),ek(0),ey(!1)},className:"bg-red-600 hover:bg-red-700 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1",children:[(0,t.jsx)(eb.Phone,{className:"w-6 h-6 rotate-[135deg]"}),(0,t.jsx)("span",{className:"text-xs",children:"End"})]})]}):(0,t.jsxs)("div",{className:"flex gap-3",children:[eg&&(0,t.jsx)("button",{onClick:()=>{ef(e=>e.slice(0,-1))},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"⌫ Delete"}),(0,t.jsxs)("button",{onClick:()=>{eg&&(ev(!0),ek(0))},disabled:!eg,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(eb.Phone,{className:"w-5 h-5"}),"Call"]})]})]})}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{G(!1),ep(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(si.default,{className:"w-6 h-6 text-brand-lime"}),eu?"Edit Dialer Campaign":"Create New Dialer Campaign"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:eC.campaign_name,onChange:e=>eS({...eC,campaign_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Q1 Sales Campaign"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Dialer Type *"}),(0,t.jsxs)("select",{value:eC.dialer_type,onChange:e=>eS({...eC,dialer_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"predictive",children:"Predictive - High volume automated dialing"}),(0,t.jsx)("option",{value:"power",children:"Power - Progressive automated dialing"}),(0,t.jsx)("option",{value:"preview",children:"Preview - Agent reviews before calling"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eC.campaign_description,onChange:e=>eS({...eC,campaign_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-24",placeholder:"Describe the purpose and goals of this campaign..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Call Attempts"}),(0,t.jsx)("input",{type:"number",value:eC.max_call_attempts,onChange:e=>eS({...eC,max_call_attempts:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",min:"1",max:"10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Retry Delay (minutes)"}),(0,t.jsx)("input",{type:"number",value:eC.retry_delay_minutes,onChange:e=>eS({...eC,retry_delay_minutes:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",min:"15",step:"15"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),(0,t.jsxs)("select",{value:eC.timezone,onChange:e=>eS({...eC,timezone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Asia/Kuala_Lumpur (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Jakarta",children:"Asia/Jakarta (GMT+7)"}),(0,t.jsx)("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calling Hours Start"}),(0,t.jsx)("input",{type:"time",value:eC.calling_hours_start,onChange:e=>eS({...eC,calling_hours_start:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calling Hours End"}),(0,t.jsx)("input",{type:"time",value:eC.calling_hours_end,onChange:e=>eS({...eC,calling_hours_end:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:eC.scheduled_start_date,onChange:e=>eS({...eC,scheduled_start_date:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:eC.scheduled_end_date,onChange:e=>eS({...eC,scheduled_end_date:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Call Script Template"}),(0,t.jsx)("textarea",{value:eC.script_template,onChange:e=>eS({...eC,script_template:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-32 font-mono text-sm",placeholder:"Hello [CUSTOMER_NAME], this is [AGENT_NAME] from [COMPANY]..."})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{G(!1),ep(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e3,disabled:!eC.campaign_name,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:eu?"Update Campaign":"Create Campaign"})]})]})]})}),K&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{W(!1),er(null),tc()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-6 h-6 text-emerald-500"}),el?"Edit Customer":"Add New Customer"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",value:eM.customer_name,onChange:e=>eA({...eM,customer_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"John Doe"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier *"}),(0,t.jsxs)("select",{value:eM.customer_tier,onChange:e=>eA({...eM,customer_tier:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"basic",children:"Basic"}),(0,t.jsx)("option",{value:"standard",children:"Standard"}),(0,t.jsx)("option",{value:"premium",children:"Premium"}),(0,t.jsx)("option",{value:"vip",children:"VIP"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company Name"}),(0,t.jsx)("input",{type:"text",value:eM.company_name,onChange:e=>eA({...eM,company_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Acme Corp"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Job Title"}),(0,t.jsx)("input",{type:"text",value:eM.job_title,onChange:e=>eA({...eM,job_title:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Sales Manager"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Contact Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Phone *"}),(0,t.jsx)("input",{type:"tel",value:eM.primary_phone,onChange:e=>eA({...eM,primary_phone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"+60123456789"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secondary Phone"}),(0,t.jsx)("input",{type:"tel",value:eM.secondary_phone,onChange:e=>eA({...eM,secondary_phone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"+60198765432"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Email *"}),(0,t.jsx)("input",{type:"email",value:eM.primary_email,onChange:e=>eA({...eM,primary_email:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"john.doe@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secondary Email"}),(0,t.jsx)("input",{type:"email",value:eM.secondary_email,onChange:e=>eA({...eM,secondary_email:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"john@personal.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Channel"}),(0,t.jsxs)("select",{value:eM.preferred_channel,onChange:e=>eA({...eM,preferred_channel:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"voice",children:"Voice Call"}),(0,t.jsx)("option",{value:"sms",children:"SMS"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,t.jsx)("option",{value:"chat",children:"Live Chat"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Language"}),(0,t.jsxs)("select",{value:eM.preferred_language,onChange:e=>eA({...eM,preferred_language:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"English",children:"English"}),(0,t.jsx)("option",{value:"Malay",children:"Bahasa Malaysia"}),(0,t.jsx)("option",{value:"Chinese",children:"Chinese"}),(0,t.jsx)("option",{value:"Tamil",children:"Tamil"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Address Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address Line 1"}),(0,t.jsx)("input",{type:"text",value:eM.address_line1,onChange:e=>eA({...eM,address_line1:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"123 Main Street"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address Line 2"}),(0,t.jsx)("input",{type:"text",value:eM.address_line2,onChange:e=>eA({...eM,address_line2:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Unit 456, Tower B"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,t.jsx)("input",{type:"text",value:eM.city,onChange:e=>eA({...eM,city:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Kuala Lumpur"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"State / Province"}),(0,t.jsx)("input",{type:"text",value:eM.state,onChange:e=>eA({...eM,state:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Wilayah Persekutuan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Postal Code"}),(0,t.jsx)("input",{type:"text",value:eM.postal_code,onChange:e=>eA({...eM,postal_code:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"50000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Country"}),(0,t.jsxs)("select",{value:eM.country,onChange:e=>eA({...eM,country:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"Malaysia",children:"Malaysia"}),(0,t.jsx)("option",{value:"Singapore",children:"Singapore"}),(0,t.jsx)("option",{value:"Indonesia",children:"Indonesia"}),(0,t.jsx)("option",{value:"Thailand",children:"Thailand"}),(0,t.jsx)("option",{value:"Philippines",children:"Philippines"}),(0,t.jsx)("option",{value:"Vietnam",children:"Vietnam"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Additional Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Birth"}),(0,t.jsx)("input",{type:"date",value:eM.date_of_birth,onChange:e=>eA({...eM,date_of_birth:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),(0,t.jsxs)("select",{value:eM.timezone,onChange:e=>eA({...eM,timezone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Asia/Kuala_Lumpur (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Jakarta",children:"Asia/Jakarta (GMT+7)"}),(0,t.jsx)("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"}),(0,t.jsx)("option",{value:"Asia/Manila",children:"Asia/Manila (GMT+8)"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:eM.tags,onChange:e=>eA({...eM,tags:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"high-value, tech-savvy, frequent-caller"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,t.jsx)("textarea",{value:eM.notes,onChange:e=>eA({...eM,notes:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500 h-24",placeholder:"Additional notes about the customer..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Field 1"}),(0,t.jsx)("input",{type:"text",value:eM.custom_field1,onChange:e=>eA({...eM,custom_field1:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Custom data..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Field 2"}),(0,t.jsx)("input",{type:"text",value:eM.custom_field2,onChange:e=>eA({...eM,custom_field2:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Custom data..."})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{W(!1),er(null),tc()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:to,disabled:!eM.customer_name||!eM.primary_phone||!eM.primary_email,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:el?"Update Customer":"Save Customer"})]})]})]})}),X&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{H(!1),en(null),tu()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(sL.default,{className:"w-6 h-6 text-brand-lime"}),ei?"Edit ACD Routing Rule":"Create ACD Routing Rule"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rule Name *"}),(0,t.jsx)("input",{type:"text",value:eI.rule_name,onChange:e=>eP({...eI,rule_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"VIP Customer Priority Routing"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eI.rule_description,onChange:e=>eP({...eI,rule_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-20",placeholder:"Describe the purpose and behavior of this routing rule..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority Level *"}),(0,t.jsxs)("select",{value:eI.priority,onChange:e=>eP({...eI,priority:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"1",children:"1 - Lowest"}),(0,t.jsx)("option",{value:"2",children:"2 - Low"}),(0,t.jsx)("option",{value:"3",children:"3 - Below Normal"}),(0,t.jsx)("option",{value:"4",children:"4 - Normal"}),(0,t.jsx)("option",{value:"5",children:"5 - Standard"}),(0,t.jsx)("option",{value:"6",children:"6 - Above Normal"}),(0,t.jsx)("option",{value:"7",children:"7 - High"}),(0,t.jsx)("option",{value:"8",children:"8 - Very High"}),(0,t.jsx)("option",{value:"9",children:"9 - Critical"}),(0,t.jsx)("option",{value:"10",children:"10 - Emergency"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Channel Type"}),(0,t.jsxs)("select",{value:eI.channel_type,onChange:e=>eP({...eI,channel_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Channels"}),(0,t.jsx)("option",{value:"voice",children:"Voice Calls"}),(0,t.jsx)("option",{value:"chat",children:"Live Chat"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"sms",children:"SMS"}),(0,t.jsx)("option",{value:"whatsapp",children:"WhatsApp"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Routing Strategy"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Strategy Type *"}),(0,t.jsxs)("select",{value:eI.routing_strategy,onChange:e=>eP({...eI,routing_strategy:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"round_robin",children:"Round Robin - Distribute evenly"}),(0,t.jsx)("option",{value:"least_active",children:"Least Active - Route to least busy agent"}),(0,t.jsx)("option",{value:"longest_idle",children:"Longest Idle - Route to longest waiting agent"}),(0,t.jsx)("option",{value:"skills_based",children:"Skills-Based - Match by expertise"}),(0,t.jsx)("option",{value:"priority_weighted",children:"Priority Weighted - VIP gets priority"}),(0,t.jsx)("option",{value:"predictive",children:"Predictive - AI-based routing"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Selection"}),(0,t.jsxs)("select",{value:eI.agent_selection_criteria,onChange:e=>eP({...eI,agent_selection_criteria:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"longest_idle",children:"Longest Idle Time"}),(0,t.jsx)("option",{value:"most_skilled",children:"Most Skilled"}),(0,t.jsx)("option",{value:"best_satisfaction",children:"Best Satisfaction Score"}),(0,t.jsx)("option",{value:"random",children:"Random Selection"}),(0,t.jsx)("option",{value:"sequential",children:"Sequential Order"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Queue"}),(0,t.jsx)("input",{type:"text",value:eI.target_queue,onChange:e=>eP({...eI,target_queue:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"support_queue"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Required Skill"}),(0,t.jsx)("input",{type:"text",value:eI.target_skill,onChange:e=>eP({...eI,target_skill:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"technical_support"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Skill Level"}),(0,t.jsxs)("select",{value:eI.min_skill_level,onChange:e=>eP({...eI,min_skill_level:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"1",children:"1 - Beginner"}),(0,t.jsx)("option",{value:"2",children:"2 - Intermediate"}),(0,t.jsx)("option",{value:"3",children:"3 - Advanced"}),(0,t.jsx)("option",{value:"4",children:"4 - Expert"}),(0,t.jsx)("option",{value:"5",children:"5 - Master"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Backup Queue"}),(0,t.jsx)("input",{type:"text",value:eI.backup_queue,onChange:e=>eP({...eI,backup_queue:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"general_queue"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Overflow & Timing"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overflow Action"}),(0,t.jsxs)("select",{value:eI.overflow_action,onChange:e=>eP({...eI,overflow_action:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"voicemail",children:"Send to Voicemail"}),(0,t.jsx)("option",{value:"callback",children:"Offer Callback"}),(0,t.jsx)("option",{value:"queue",children:"Hold in Queue"}),(0,t.jsx)("option",{value:"redirect",children:"Redirect to Another Queue"}),(0,t.jsx)("option",{value:"disconnect",children:"Disconnect with Message"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overflow Threshold (seconds)"}),(0,t.jsx)("input",{type:"number",value:eI.overflow_threshold_seconds,onChange:e=>eP({...eI,overflow_threshold_seconds:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",min:"30",step:"30"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Wait Time (seconds)"}),(0,t.jsx)("input",{type:"number",value:eI.max_wait_time,onChange:e=>eP({...eI,max_wait_time:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",min:"60",step:"30"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Callback Threshold (seconds)"}),(0,t.jsx)("input",{type:"number",value:eI.callback_threshold,onChange:e=>eP({...eI,callback_threshold:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",min:"30",step:"30"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Advanced Conditions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier Filter"}),(0,t.jsxs)("select",{value:eI.customer_tier_filter,onChange:e=>eP({...eI,customer_tier_filter:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"All Tiers"}),(0,t.jsx)("option",{value:"vip",children:"VIP Only"}),(0,t.jsx)("option",{value:"premium",children:"Premium Only"}),(0,t.jsx)("option",{value:"standard",children:"Standard Only"}),(0,t.jsx)("option",{value:"basic",children:"Basic Only"})]})]}),(0,t.jsx)("div",{className:"flex items-center pt-6",children:(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eI.business_hours_only,onChange:e=>eP({...eI,business_hours_only:e.target.checked}),className:"w-5 h-5 text-brand-lime bg-gray-800 border-gray-700 rounded focus:ring-brand-lime"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Business Hours Only"})]})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eI.enable_callback,onChange:e=>eP({...eI,enable_callback:e.target.checked}),className:"w-5 h-5 text-[#39FF14] bg-gray-800 border-gray-700 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Enable Callback Option"})]})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eI.time_based_routing,onChange:e=>eP({...eI,time_based_routing:e.target.checked}),className:"w-5 h-5 text-[#39FF14] bg-gray-800 border-gray-700 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Enable Time-Based Routing"})]})})]}),eI.time_based_routing&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Time-Based Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time"}),(0,t.jsx)("input",{type:"time",value:eI.time_start,onChange:e=>eP({...eI,time_start:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:eI.time_end,onChange:e=>eP({...eI,time_end:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Active Days"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>(0,t.jsxs)("label",{className:"flex items-center cursor-pointer bg-gray-800 px-3 py-2 rounded-lg border border-gray-700",children:[(0,t.jsx)("input",{type:"checkbox",checked:eI.days_of_week.includes(e),onChange:t=>{t.target.checked?eP({...eI,days_of_week:[...eI.days_of_week,e]}):eP({...eI,days_of_week:eI.days_of_week.filter(t=>t!==e)})},className:"w-4 h-4 text-[#39FF14] bg-gray-900 border-gray-700 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300 capitalize text-sm",children:e})]},e))})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{H(!1),en(null),tu()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:th,disabled:!eI.rule_name,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ei?"Update Rule":"Create Rule"})]})]})]})}),J&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-2xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{Y(!1),ed(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eD.default,{className:"w-6 h-6 text-yellow-500"}),eo?"Edit Agent Skill":"Add New Agent Skill"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Name *"}),(0,t.jsx)("input",{type:"text",value:eT.agent_name,onChange:e=>eR({...eT,agent_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",placeholder:"John Smith"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Name *"}),(0,t.jsx)("input",{type:"text",value:eT.skill_name,onChange:e=>eR({...eT,skill_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",placeholder:"English, Technical Support, etc."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Category"}),(0,t.jsxs)("select",{value:eT.skill_category,onChange:e=>eR({...eT,skill_category:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",children:[(0,t.jsx)("option",{value:"language",children:"Language"}),(0,t.jsx)("option",{value:"department",children:"Department"}),(0,t.jsx)("option",{value:"technical",children:"Technical"}),(0,t.jsx)("option",{value:"product",children:"Product Knowledge"}),(0,t.jsx)("option",{value:"soft_skills",children:"Soft Skills"}),(0,t.jsx)("option",{value:"industry",children:"Industry Expertise"}),(0,t.jsx)("option",{value:"certification",children:"Certification"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Proficiency Level: ",eT.proficiency_level,"/10"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:eT.proficiency_level,onChange:e=>eR({...eT,proficiency_level:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"Beginner"}),(0,t.jsx)("span",{children:"Intermediate"}),(0,t.jsx)("span",{children:"Expert"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"is_active",checked:eT.is_active,onChange:e=>eR({...eT,is_active:e.target.checked}),className:"w-4 h-4 text-yellow-600 bg-gray-900 border-gray-700 rounded focus:ring-yellow-500"}),(0,t.jsx)("label",{htmlFor:"is_active",className:"text-sm text-gray-300",children:"Active (Available for skill-based routing)"})]}),(0,t.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"Skill Information"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,t.jsx)("li",{children:"• Skills are used for intelligent routing to match customer needs with agent expertise"}),(0,t.jsx)("li",{children:"• Higher proficiency levels indicate deeper expertise in the skill area"}),(0,t.jsx)("li",{children:"• Inactive skills are not considered during routing but remain in the system"}),(0,t.jsx)("li",{children:"• You can assign multiple skills to each agent for comprehensive coverage"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{Y(!1),ed(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e8,disabled:!eT.agent_name||!eT.skill_name,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:eo?"Update Skill":"Add Skill"})]})]})}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{et(!1),ex(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eE.TrendingUp,{className:"w-6 h-6 text-red-500"}),ec?"Edit Priority Rule":"Create Priority Rule"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-red-400 mb-2",children:"About Priority Routing"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Priority rules automatically boost the queue position for specific customers or situations. Higher priority levels and boost percentages mean faster service."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rule Name *"}),(0,t.jsx)("input",{type:"text",value:eL.priority_name,onChange:e=>eO({...eL,priority_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",placeholder:"VIP Customer Priority"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eL.priority_description,onChange:e=>eO({...eL,priority_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500 h-20",placeholder:"Describe when and why this priority boost should be applied..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Priority Level: ",eL.priority_level,"/10"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:eL.priority_level,onChange:e=>eO({...eL,priority_level:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"Low"}),(0,t.jsx)("span",{children:"Medium"}),(0,t.jsx)("span",{children:"High"}),(0,t.jsx)("span",{children:"Critical"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Boost Percentage: +",eL.boost_percentage,"%"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"300",step:"10",value:eL.boost_percentage,onChange:e=>eO({...eL,boost_percentage:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"0%"}),(0,t.jsx)("span",{children:"100%"}),(0,t.jsx)("span",{children:"200%"}),(0,t.jsx)("span",{children:"300%"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trigger Condition Type"}),(0,t.jsxs)("select",{value:eL.condition_type,onChange:e=>eO({...eL,condition_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",children:[(0,t.jsx)("option",{value:"customer_tier",children:"Customer Tier"}),(0,t.jsx)("option",{value:"wait_time",children:"Wait Time (Minutes)"}),(0,t.jsx)("option",{value:"lifetime_value",children:"Lifetime Value (Minimum)"}),(0,t.jsx)("option",{value:"interaction_count",children:"Interaction Count (Minimum)"})]})]}),"customer_tier"===eL.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier *"}),(0,t.jsxs)("select",{value:eL.condition_value,onChange:e=>eO({...eL,condition_value:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",children:[(0,t.jsx)("option",{value:"",children:"Select Tier"}),(0,t.jsx)("option",{value:"vip",children:"VIP"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"}),(0,t.jsx)("option",{value:"premium",children:"Premium"}),(0,t.jsx)("option",{value:"standard",children:"Standard"}),(0,t.jsx)("option",{value:"basic",children:"Basic"})]})]}),"wait_time"===eL.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Minimum Wait Time (Minutes): ",eL.wait_time_minutes]}),(0,t.jsx)("input",{type:"number",min:"1",max:"60",value:eL.wait_time_minutes,onChange:e=>eO({...eL,wait_time_minutes:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers waiting longer than this duration"})]}),"lifetime_value"===eL.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Lifetime Value (RM)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"100",value:eL.lifetime_value_min,onChange:e=>eO({...eL,lifetime_value_min:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers with lifetime value above this amount"})]}),"interaction_count"===eL.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Interaction Count"}),(0,t.jsx)("input",{type:"number",min:"1",value:eL.interaction_count_min,onChange:e=>eO({...eL,interaction_count_min:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers with this many or more interactions"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"priority_is_active",checked:eL.is_active,onChange:e=>eO({...eL,is_active:e.target.checked}),className:"w-4 h-4 text-red-600 bg-gray-900 border-gray-700 rounded focus:ring-red-500"}),(0,t.jsx)("label",{htmlFor:"priority_is_active",className:"text-sm text-gray-300",children:"Active (Apply this rule to incoming interactions)"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"Priority Rule Examples"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"VIP Customers:"})," Priority Level 10, +200% boost for customer_tier = VIP"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Long Wait:"})," Priority Level 7, +100% boost for wait_time greater than 3 minutes"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"High Value:"})," Priority Level 8, +150% boost for lifetime_value above RM 10,000"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Loyal Customers:"})," Priority Level 6, +75% boost for interaction_count above 20"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{et(!1),ex(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:te,disabled:!eL.priority_name,className:"flex-1 bg-gradient-to-r from-red-500 to-orange-600 hover:from-red-600 hover:to-orange-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ec?"Update Rule":"Create Rule"})]})]})}),es&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{ea(!1),eh(null),eB([])},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eb.Phone,{className:"w-6 h-6 text-[#39FF14]"}),em?"Edit IVR Configuration":"Create IVR Configuration"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-[#39FF14] mb-2",children:"About IVR Configuration"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Configure Interactive Voice Response menus with traditional key press options and modern Conversational AI intents. Customers can either press keys or speak naturally to navigate your system."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Menu Name *"}),(0,t.jsx)("input",{type:"text",value:eq.menu_name,onChange:e=>eU({...eq,menu_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Main Menu"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eq.menu_description,onChange:e=>eU({...eq,menu_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-20",placeholder:"Primary customer service menu..."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Greeting Message *"}),(0,t.jsx)("textarea",{value:eq.greeting_text,onChange:e=>eU({...eq,greeting_text:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-24",placeholder:"Thank you for calling. Press 1 for sales, 2 for support, or just say what you need..."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Greeting Audio URL (Optional)"}),(0,t.jsx)("input",{type:"text",value:eq.greeting_audio_url,onChange:e=>eU({...eq,greeting_audio_url:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"https://example.com/audio/greeting.mp3"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timeout (Seconds)"}),(0,t.jsx)("input",{type:"number",min:"5",max:"60",value:eq.timeout_seconds,onChange:e=>eU({...eq,timeout_seconds:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Retries"}),(0,t.jsx)("input",{type:"number",min:"1",max:"5",value:eq.max_retries,onChange:e=>eU({...eq,max_retries:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Invalid Option Message"}),(0,t.jsx)("input",{type:"text",value:eq.invalid_option_message,onChange:e=>eU({...eq,invalid_option_message:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timeout Message"}),(0,t.jsx)("input",{type:"text",value:eq.timeout_message,onChange:e=>eU({...eq,timeout_message:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"ivr_use_ai",checked:eq.use_conversational_ai,onChange:e=>eU({...eq,use_conversational_ai:e.target.checked}),className:"w-4 h-4 text-[#39FF14] bg-gray-900 border-gray-700 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("label",{htmlFor:"ivr_use_ai",className:"text-sm text-gray-300",children:"Enable Conversational AI"})]}),eq.use_conversational_ai&&(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("select",{value:eq.ai_model,onChange:e=>eU({...eq,ai_model:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,t.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,t.jsx)("option",{value:"claude-3",children:"Claude 3"}),(0,t.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"ivr_is_active",checked:eq.is_active,onChange:e=>eU({...eq,is_active:e.target.checked}),className:"w-4 h-4 text-[#39FF14] bg-gray-900 border-gray-700 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("label",{htmlFor:"ivr_is_active",className:"text-sm text-gray-300",children:"Active"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Menu Options"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>tr("traditional"),className:"px-3 py-1.5 bg-[#39FF14] hover:bg-[#32e012] text-white text-sm rounded-lg flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Key Press"]}),eq.use_conversational_ai&&(0,t.jsxs)("button",{onClick:()=>tr("ai"),className:"px-3 py-1.5 bg-[#39FF14] hover:bg-[#32e012] text-white text-sm rounded-lg flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Add AI Intent"]})]})]}),0===eV.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No menu options added yet"})}):(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:eV.map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:e.option_key.startsWith("AI")?"Intent Key":"Key Press"}),(0,t.jsx)("input",{type:"text",value:e.option_key,onChange:e=>ti(s,"option_key",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]",placeholder:e.option_key.startsWith("AI")?"AI_INTENT_1":"1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Label"}),(0,t.jsx)("input",{type:"text",value:e.option_label,onChange:e=>ti(s,"option_label",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]",placeholder:"Sales Department"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Action Type"}),(0,t.jsxs)("select",{value:e.action_type,onChange:e=>ti(s,"action_type",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"transfer_queue",children:"Transfer to Queue"}),(0,t.jsx)("option",{value:"transfer_agent",children:"Transfer to Agent"}),(0,t.jsx)("option",{value:"voicemail",children:"Voicemail"}),(0,t.jsx)("option",{value:"callback",children:"Request Callback"}),(0,t.jsx)("option",{value:"submenu",children:"Sub Menu"}),(0,t.jsx)("option",{value:"hangup",children:"Hang Up"}),e.option_key.startsWith("AI")&&(0,t.jsx)("option",{value:"ai_intent",children:"AI Intent"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Target"}),(0,t.jsx)("input",{type:"text",value:e.action_target,onChange:e=>ti(s,"action_target",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]",placeholder:"sales_queue"})]}),e.option_key.startsWith("AI")&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"AI Intent"}),(0,t.jsx)("input",{type:"text",value:e.ai_intent,onChange:e=>ti(s,"ai_intent",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]",placeholder:"speak_to_sales"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Priority"}),(0,t.jsx)("input",{type:"number",min:"1",max:"10",value:e.priority,onChange:e=>ti(s,"priority",parseInt(e.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("input",{type:"checkbox",id:`option_active_${s}`,checked:e.is_active,onChange:e=>ti(s,"is_active",e.target.checked),className:"w-4 h-4 text-[#39FF14] bg-gray-900 border-gray-700 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("label",{htmlFor:`option_active_${s}`,className:"text-xs text-gray-300",children:"Active"})]}),(0,t.jsx)("button",{onClick:()=>{eB(eV.filter((e,t)=>t!==s))},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Remove Option",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]})},s))})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{ea(!1),eh(null),eB([])},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:ta,disabled:!eq.menu_name||!eq.greeting_text||0===eV.length,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:em?"Update IVR":"Create IVR"})]})]})})]})}var e5=e5,l=l,ty=ty,D=D,so=so,L=L,sq=e.i(54619),sq=sq,eT=eT,_=_,v=v,e_=e_,sU=e.i(46467),sU=sU,r=r,t4=t4;function sV({botId:e}){let[a,i]=(0,s.useState)([]),[n,o]=(0,s.useState)([]),[c,x]=(0,s.useState)([]),[m,u]=(0,s.useState)("all"),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[F,k]=(0,s.useState)({}),[C,S]=(0,s.useState)(""),[M,A]=(0,s.useState)(null),[I,P]=(0,s.useState)(!0),R={MessageSquare:T.MessageSquare,Share2:e5.default,Users:l.default,Brain:ty.default,Database:D.default,Phone:eb.Phone,Headphones:so.default,CreditCard:eU.CreditCard,Package:eA.Package,BarChart3:e7.BarChart3,Zap:L.default,MoreHorizontal:sq.default,TrendingUp:eE.TrendingUp};(0,s.useEffect)(()=>{e&&$()},[e]);let $=async()=>{P(!0);try{let[t,s,a]=await Promise.all([h.db.from("cb_integration_categories").select("*").order("sort_order"),h.db.from("cb_integration_providers").select("*").eq("is_active",!0),h.db.from("cb_bot_integrations").select("*, cb_integration_providers(*)").eq("bot_id",e)]);t.data&&i(t.data),s.data&&o(s.data),a.data&&x(a.data)}catch(e){console.error("Error loading integration data:",e)}finally{P(!1)}},O=n.filter(e=>{let t="all"===m||e.category_id===m,s=e.provider_display_name.toLowerCase().includes(p.toLowerCase())||e.description?.toLowerCase().includes(p.toLowerCase());return t&&s}),q=(e,t)=>{if(w(e),A(t||null),S(t?.integration_name||`${e.provider_display_name} Integration`),t)k(t.configuration||{});else{let t={};Object.keys(e.configuration_schema||{}).forEach(e=>{t[e]=""}),k(t)}f(!0)},U=()=>{f(!1),w(null),A(null),k({}),S("")},V=async()=>{if(j)try{let t={bot_id:e,provider_id:j.id,integration_name:C,configuration:F,is_active:!0,sync_status:"configured"};if(M){let{error:e}=await h.db.from("cb_bot_integrations").update(t).eq("id",M.id);if(e)throw e}else{let{error:e}=await h.db.from("cb_bot_integrations").insert(t);if(e)throw e}U(),$()}catch(e){alert("Failed to save integration: "+e.message)}},B=async e=>{try{let{error:t}=await h.db.from("cb_bot_integrations").update({is_active:!e.is_active}).eq("id",e.id);if(t)throw t;$()}catch(e){alert("Failed to toggle integration: "+e.message)}},z=async e=>{if(confirm("Are you sure you want to delete this integration?"))try{let{error:t}=await h.db.from("cb_bot_integrations").delete().eq("id",e);if(t)throw t;$()}catch(e){alert("Failed to delete integration: "+e.message)}},G=async e=>{try{let{error:t}=await h.db.from("cb_bot_integrations").update({sync_status:"testing",last_sync_at:new Date().toISOString()}).eq("id",e.id);if(t)throw t;setTimeout(()=>{h.db.from("cb_bot_integrations").update({sync_status:"connected"}).eq("id",e.id).then(()=>$())},2e3),$()}catch(e){alert("Failed to test connection: "+e.message)}};return I?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)(t4.default,{className:"w-8 h-8 text-[#39FF14] animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Channel Integrations"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Connect your chatbot to messaging platforms, CRMs, and other services"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[c.filter(e=>e.is_active).length," Active"]})})]}),(0,t.jsx)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:(0,t.jsx)("input",{type:"text",placeholder:"Search integrations...",value:p,onChange:e=>g(e.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})}),(0,t.jsxs)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition-colors ${"all"===m?"bg-[#39FF14] text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["All (",n.length,")"]}),a.map(e=>{let s=n.filter(t=>t.category_id===e.id).length;return(0,t.jsxs)("button",{onClick:()=>u(e.id),className:`px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition-colors ${m===e.id?"bg-[#39FF14] text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[e.category_display_name," (",s,")"]},e.id)})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(e=>{let s,a=R[e.configuration_schema?.icon]||d.Settings,l=(s=e.id,c.some(e=>e.provider_id===s)),r=c.find(t=>t.provider_id===e.id),i=r?(e=>{if(!e.is_active)return{icon:y.X,color:"text-gray-500",bg:"bg-gray-500/20",label:"Inactive"};switch(e.sync_status){case"connected":return{icon:N.CheckCircle,color:"text-green-500",bg:"bg-green-500/20",label:"Connected"};case"testing":return{icon:t4.default,color:"text-[#39FF14]",bg:"bg-[#39FF14]/20",label:"Testing"};case"error":return{icon:E.AlertCircle,color:"text-red-500",bg:"bg-red-500/20",label:"Error"};default:return{icon:E.AlertCircle,color:"text-yellow-500",bg:"bg-yellow-500/20",label:"Configured"}}})(r):null;return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg ${l?"bg-[#39FF14]/20":"bg-gray-700"} flex items-center justify-center`,children:(0,t.jsx)(a,{className:`w-5 h-5 ${l?"text-[#39FF14]":"text-gray-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:e.provider_display_name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.provider_type})]})]}),l&&i&&(0,t.jsxs)("div",{className:`${i.bg} px-2 py-1 rounded flex items-center gap-1`,children:[(0,t.jsx)(i.icon,{className:`w-3 h-3 ${i.color} ${i.icon===t4.default?"animate-spin":""}`}),(0,t.jsx)("span",{className:`text-xs ${i.color}`,children:i.label})]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.capabilities?.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:e.replace(/_/g," ")},s)),e.capabilities?.length>3&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:["+",e.capabilities.length-3]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:l&&r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>q(e,r),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configure"]}),(0,t.jsx)("button",{onClick:()=>B(r),className:`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${r.is_active?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:r.is_active?(0,t.jsx)(y.X,{className:"w-4 h-4"}):(0,t.jsx)(eT.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>G(r),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors",children:(0,t.jsx)(e_.default,{className:"w-4 h-4"})})]}):(0,t.jsxs)("button",{onClick:()=>q(e),className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Connect"]})})]},e.id)})}),0===O.length&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[(0,t.jsx)(d.Settings,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No integrations found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or category filter"})]}),b&&j&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-700 sticky top-0 bg-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white",children:[M?"Configure":"Connect"," ",j.provider_display_name]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:j.description})]}),(0,t.jsx)("button",{onClick:U,className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Integration Name"}),(0,t.jsx)("input",{type:"text",value:C,onChange:e=>S(e.target.value),placeholder:"e.g., Production Slack Bot",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(r.default,{className:"w-5 h-5 text-[#39FF14] mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-[#39FF14] mb-1",children:["Authentication: ",j.auth_type]}),(0,t.jsxs)("p",{className:"text-xs text-[#39FF14]/80",children:["api_key"===j.auth_type&&"Enter your API key to authenticate","oauth2"===j.auth_type&&"OAuth 2.0 authentication required","token"===j.auth_type&&"Enter your access token","basic_auth"===j.auth_type&&"Enter your username and password"]})]})]})}),Object.entries(j.configuration_schema||{}).map(([e,s])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),(0,t.jsx)("input",{type:e.includes("secret")||e.includes("password")||e.includes("token")?"password":"text",value:F[e]||"",onChange:t=>k({...F,[e]:t.target.value}),placeholder:`Enter ${e.replace(/_/g," ")}`,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]},e)),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Capabilities"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:j.capabilities?.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-gray-200 text-xs rounded-full",children:e.replace(/_/g," ")},s))})]}),j.documentation_url&&(0,t.jsxs)("a",{href:j.documentation_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[#39FF14] hover:text-[#39FF14] text-sm",children:[(0,t.jsx)(sU.default,{className:"w-4 h-4"}),"View Documentation"]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-700 flex gap-3 sticky bottom-0 bg-gray-800",children:[M&&(0,t.jsxs)("button",{onClick:()=>z(M.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(v.default,{className:"w-4 h-4"}),"Delete"]}),(0,t.jsx)("button",{onClick:U,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:V,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:M?"Save Changes":"Connect Integration"})]})]})})]})}var eI=eI,D=D,i=i,ty=ty,e2=e2,_=_,j=j,v=v,O=O,eT=eT,l=l,L=L,tY=tY,tv=tv,t1=t1,sB=e.i(91338),sB=sB,t4=t4;function sz(){let[e,a]=(0,s.useState)("dashboard"),[r,n]=(0,s.useState)(!1),[d,c]=(0,s.useState)([]),[x,m]=(0,s.useState)(null),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[f,N]=(0,s.useState)([]),[w,F]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),[S,M]=(0,s.useState)([]),[A,I]=(0,s.useState)(!1),[P,R]=(0,s.useState)(!1),[$,q]=(0,s.useState)(!1),[U,V]=(0,s.useState)(null),[B,z]=(0,s.useState)(null),[G,K]=(0,s.useState)(null),[W,X]=(0,s.useState)({intent_name:"",intent_display_name:"",intent_description:"",training_phrases:[],action_type:"text",is_active:!0,priority:5}),[H,J]=(0,s.useState)(""),[Y,Q]=(0,s.useState)({entity_name:"",entity_display_name:"",entity_type:"list",values:[],regex_pattern:"",is_active:!0}),[Z,ee]=(0,s.useState)(""),[et,es]=(0,s.useState)(""),[ea,el]=(0,s.useState)(""),[er,ei]=(0,s.useState)([]),[en,eo]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)(""),[ex,em]=(0,s.useState)("openai"),[eh,eu]=(0,s.useState)(null),[ep,eg]=(0,s.useState)([]),[eb,ef]=(0,s.useState)(!1),[ej,ev]=(0,s.useState)([]),[eN,ey]=(0,s.useState)(!1),[ew,e_]=(0,s.useState)(null),[eF,ek]=(0,s.useState)({config_name:"",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,temperature:.7,max_tokens:500,is_active:!0}),[eC,eS]=(0,s.useState)({title:"",content:"",content_type:"article",category:"",tags:[],url:"",source_type:"manual",file:null,is_active:!0}),[eM,eA]=(0,s.useState)(""),[eP,eD]=(0,s.useState)(0),[eR,e$]=(0,s.useState)(!1),[eO,eq]=(0,s.useState)({intent_classifier:{status:"idle",last_trained:null,progress:0},entity_extractor:{status:"idle",last_trained:null,progress:0}});(0,s.useEffect)(()=>{eU()},[]),(0,s.useEffect)(()=>{x&&eB()},[x]);let eU=async()=>{n(!0);try{let{data:e,error:t}=await h.db.from("cb_bots").select("*").order("created_at",{ascending:!1});if(t)throw t;c(e||[]),e&&e.length>0&&!x&&m(e[0].id)}catch(e){console.error("Error loading bots:",e)}finally{n(!1)}},eV=async()=>{let e=[{name:"WhatsApp Customer Care",description:"Automated WhatsApp bot for customer support and order tracking",platform:"whatsapp",type:"support",status:"active",language:"en",greeting_message:"Hi! Welcome to our WhatsApp support. How can I help you today?",configuration:JSON.stringify({welcome_msg:!0,auto_reply:!0})},{name:"Telegram News Bot",description:"Telegram bot for delivering real-time news updates and alerts",platform:"telegram",type:"informational",status:"active",language:"en",greeting_message:"Welcome to the News Alert bot! You will receive updates here.",configuration:JSON.stringify({categories:["tech","world","finance"]})},{name:"Facebook Sales Assistant",description:"Facebook bot for handling product inquiries and lead generation",platform:"facebook",type:"sales",status:"active",language:"en",greeting_message:"Hello! Interested in our products? I can show you the latest catalog.",configuration:JSON.stringify({flow:"sales_funnel"})},{name:"TikTok Interactive Bot",description:"TikTok bot for engaging with followers and managing contests",platform:"tiktok",type:"engagement",status:"active",language:"en",greeting_message:"Hey TikToker! Ready to join the challenge?",configuration:JSON.stringify({mode:"contest"})},{name:"Messenger Support Bot",description:"Messenger bot for 24/7 automated customer service",platform:"messenger",type:"support",status:"active",language:"en",greeting_message:"How can we assist you on Messenger today?",configuration:JSON.stringify({persistent_menu:!0})},{name:"Instagram Shopping Bot",description:"Instagram bot for product catalogs and seamless shopping experience",platform:"instagram",type:"sales",status:"active",language:"en",greeting_message:"Welcome to our Instagram shop! Browse our latest collections.",configuration:JSON.stringify({shop_id:"instashop_1"})},{name:"Viber Business Bot",description:"Viber bot for secure business communications and notifications",platform:"viber",type:"business",status:"active",language:"en",greeting_message:"Welcome to our official Viber business account.",configuration:JSON.stringify({security:"high"})},{name:"Webchat Help Desk",description:"Webchat bot for real-time website assistance and FAQ handling",platform:"webchat",type:"support",status:"active",language:"en",greeting_message:"Hello! How can I help you with our website today?",configuration:JSON.stringify({theme:"blue"})},{name:"Line Service Bot",description:"Line bot for service bookings and appointment management",platform:"line",type:"service",status:"active",language:"en",greeting_message:"Welcome! Use this bot to book your next appointment.",configuration:JSON.stringify({calendar_id:"line_cal_1"})},{name:"Line Global Bot",description:"Global Line bot for multi-language customer engagement",platform:"line",type:"conversational",status:"active",language:"en",greeting_message:"Hello and welcome to our global Line channel.",configuration:JSON.stringify({regions:["APAC","EMEA","AMER"]})}];n(!0);try{await h.db.from("cb_bots").insert(e);let{data:t,error:s}=await h.db.from("cb_bots").select("*");if(s)throw s;for(let s of t||[]){if(!e.find(e=>e.name===s.name))continue;let t=[{bot_id:s.id,intent_name:"greeting",intent_display_name:"Greeting",intent_description:"User says hello",training_phrases:JSON.stringify(["Hi","Hello","Hey there"]),action_type:"text",priority:5},{bot_id:s.id,intent_name:"help",intent_display_name:"Help Request",intent_description:"User needs assistance",training_phrases:JSON.stringify(["Help","I need help","Support"]),action_type:"text",priority:4},{bot_id:s.id,intent_name:"bye",intent_display_name:"Goodbye",intent_description:"User says goodbye",training_phrases:JSON.stringify(["Bye","Goodbye","See you"]),action_type:"text",priority:5},{bot_id:s.id,intent_name:"status_check",intent_display_name:"Status Check",intent_description:"Check order/service status",training_phrases:JSON.stringify(["Where is my order?","Track status","Check my booking"]),action_type:"api",priority:3},{bot_id:s.id,intent_name:"refund",intent_display_name:"Refund Inquiry",intent_description:"Inquire about refunds",training_phrases:JSON.stringify(["I want a refund","Refund policy","Money back"]),action_type:"text",priority:2}];await h.db.from("cb_intents").insert(t);let a=[{bot_id:s.id,entity_name:"order_id",entity_display_name:"Order ID",entity_type:"regex",regex_pattern:"ORD-\\d{5}",is_active:!0},{bot_id:s.id,entity_name:"product_type",entity_display_name:"Product Type",entity_type:"list",values:JSON.stringify([{value:"electronics",synonyms:["gadget","tech"]},{value:"fashion",synonyms:["clothing","wear"]}]),is_active:!0}];await h.db.from("cb_entities").insert(a);let l=[{bot_id:s.id,title:"How to use this bot",content:"Simply type your request in natural language. I can help with orders, support, and FAQs.",content_type:"article",category:"General"},{bot_id:s.id,title:"Return Policy",content:"Our return policy allows items to be returned within 30 days of purchase.",content_type:"faq",category:"Policies"},{bot_id:s.id,title:"Shipping Times",content:"Standard shipping takes 3-5 business days. Express takes 1-2.",content_type:"faq",category:"Shipping"}];await h.db.from("cb_knowledge_base").insert(l);let r={bot_id:s.id,config_name:"Standard NLU Config",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,is_active:!0};await h.db.from("cb_ml_configs").insert(r);let i=`session-${Math.random().toString(36).substr(2,9)}`,{data:n,error:o}=await h.db.from("cb_conversations").insert({bot_id:s.id,session_id:i,user_id:`user-${Math.random().toString(36).substr(2,5)}`,channel:s.platform||"web",status:"completed",message_count:2});if(n){let e=Array.isArray(n)?n[0].id:n.id;await h.db.from("cb_messages").insert([{conversation_id:e,message_type:"user",message_text:"Hello, I need help with my order",detected_intent:"help",intent_confidence:.95},{conversation_id:e,message_type:"bot",message_text:"Hi! Sure, I can help you with that. What is your order ID?"}])}}alert("Successfully seeded 10 bots with full sample data sets!"),await eU()}catch(e){console.error("Error seeding bots:",e),alert("Failed to seed sample bots: "+e.message)}finally{n(!1)}},eB=async()=>{x&&await Promise.all([eG(),eK(),eW(),eX(),eH(),ez()])},ez=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_ml_configs").select("*").eq("bot_id",x).order("created_at",{ascending:!1});if(t)throw t;ev(e||[])}catch(e){console.error("Error loading ML configs:",e)}},eG=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_intents").select("*").eq("bot_id",x).order("priority",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>({...e,training_phrases:"string"==typeof e.training_phrases?JSON.parse(e.training_phrases):e.training_phrases||[]}));p(s)}catch(e){console.error("Error loading intents:",e)}},eK=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_entities").select("*").eq("bot_id",x).order("entity_display_name");if(t)throw t;let s=(e||[]).map(e=>({...e,values:"string"==typeof e.values?JSON.parse(e.values):e.values||[]}));b(s)}catch(e){console.error("Error loading entities:",e)}},eW=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_conversations").select("*").eq("bot_id",x).order("started_at",{ascending:!1}).limit(50);if(t)throw t;N(e||[])}catch(e){console.error("Error loading conversations:",e)}},eX=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_knowledge_base").select("*").eq("bot_id",x).order("created_at",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[]}));C(s)}catch(e){console.error("Error loading knowledge base:",e)}},eH=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_integrations").select("*").eq("bot_id",x).order("integration_name");if(t)throw t;M(e||[])}catch(e){console.error("Error loading integrations:",e)}},eJ=()=>{X({intent_name:"",intent_display_name:"",intent_description:"",training_phrases:[],action_type:"text",is_active:!0,priority:5}),J("")},eY=()=>{Q({entity_name:"",entity_display_name:"",entity_type:"list",values:[],regex_pattern:"",is_active:!0}),ee(""),es("")},eQ=()=>{H.trim()&&(X({...W,training_phrases:[...W.training_phrases,H.trim()]}),J(""))},eZ=async e=>{if(confirm("Are you sure you want to delete this intent?"))try{let{error:t}=await h.db.from("cb_intents").delete().eq("id",e);if(t)throw t;eG()}catch(e){alert("Failed to delete intent: "+e.message)}},e0=async()=>{if(!x||!W.intent_name||!W.intent_display_name)return void alert("Please fill in all required fields");try{if(U){let{error:e}=await h.db.from("cb_intents").update({intent_name:W.intent_name,intent_display_name:W.intent_display_name,intent_description:W.intent_description,training_phrases:W.training_phrases,action_type:W.action_type,is_active:W.is_active,priority:W.priority}).eq("id",U);if(e)throw e}else{let{error:e}=await h.db.from("cb_intents").insert({bot_id:x,intent_name:W.intent_name,intent_display_name:W.intent_display_name,intent_description:W.intent_description,training_phrases:W.training_phrases,action_type:W.action_type,is_system_intent:!1,is_active:W.is_active,priority:W.priority});if(e)throw e}I(!1),V(null),eJ(),eG()}catch(e){alert("Failed to save intent: "+e.message)}},e4=async e=>{if(confirm("Are you sure you want to delete this entity?"))try{let{error:t}=await h.db.from("cb_entities").delete().eq("id",e);if(t)throw t;eK()}catch(e){alert("Failed to delete entity: "+e.message)}},e3=async()=>{if(!x||!Y.entity_name||!Y.entity_display_name)return void alert("Please fill in all required fields");try{if(B){let{error:e}=await h.db.from("cb_entities").update({entity_name:Y.entity_name,entity_display_name:Y.entity_display_name,entity_type:Y.entity_type,values:Y.values,regex_pattern:Y.regex_pattern||null,is_active:Y.is_active}).eq("id",B);if(e)throw e}else{let{error:e}=await h.db.from("cb_entities").insert({bot_id:x,entity_name:Y.entity_name,entity_display_name:Y.entity_display_name,entity_type:Y.entity_type,values:Y.values,regex_pattern:Y.regex_pattern||null,is_active:Y.is_active});if(e)throw e}R(!1),z(null),eY(),eK()}catch(e){alert("Failed to save entity: "+e.message)}},e5=async()=>{if(!ea.trim()||en||!x)return;let e={type:"user",text:ea,timestamp:new Date};ei(t=>[...t,e]),el(""),eo(!0);try{let e=`${se.default.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/chatbot-query`,t=await fetch(e,{method:"POST",headers:{Authorization:`Bearer ${se.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({bot_id:x,message:ea,session_id:ed||void 0,user_id:"test_user",channel:"web_test",llm_provider:ex})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to get chatbot response")}let s=await t.json();!ed&&s.session_id&&ec(s.session_id);let a={type:"bot",text:s.response,timestamp:new Date,intent:s.detected_intent?.intent_name||null,confidence:s.detected_intent?.confidence||0,provider:s.provider,model:s.model,kb_used:s.knowledge_base_used,metadata:s.metadata};ei(e=>[...e,a])}catch(t){console.error("Error processing message:",t);let e={type:"bot",text:`Error: ${t.message||"Failed to process your message. Please check your API keys and try again."}`,timestamp:new Date,intent:null,confidence:0,isError:!0};ei(t=>[...t,e])}finally{eo(!1)}},e9=async e=>{try{let{data:t,error:s}=await h.db.from("cb_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(s)throw s;eg(t||[]),eu(e),ef(!0)}catch(e){console.error("Error loading conversation messages:",e)}},e6=()=>{ek({config_name:"",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,temperature:.7,max_tokens:500,is_active:!0})},e8=async e=>{if(confirm("Are you sure you want to delete this ML configuration?"))try{let{error:t}=await h.db.from("cb_ml_configs").delete().eq("id",e);if(t)throw t;ez()}catch(e){alert("Failed to delete ML config: "+e.message)}},e7=async()=>{if(!x||!eF.config_name)return void alert("Please fill in all required fields");try{if(ew){let{error:e}=await h.db.from("cb_ml_configs").update(eF).eq("id",ew);if(e)throw e}else{let{error:e}=await h.db.from("cb_ml_configs").insert({bot_id:x,...eF});if(e)throw e}ey(!1),e_(null),e6(),ez()}catch(e){alert("Failed to save ML config: "+e.message)}},te=async e=>{eq(t=>({...t,[e]:{...t[e],status:"training",progress:0}}));let t=setInterval(()=>{eq(s=>{let a=s[e].progress;return a>=100?(clearInterval(t),{...s,[e]:{status:"completed",last_trained:new Date().toISOString(),progress:100}}):{...s,[e]:{...s[e],progress:a+10}}})},300);setTimeout(()=>{clearInterval(t),eq(t=>({...t,[e]:{status:"completed",last_trained:new Date().toISOString(),progress:100}})),setTimeout(()=>{eq(t=>({...t,[e]:{...t[e],status:"idle",progress:0}}))},2e3)},3500)},tt=()=>{eS({title:"",content:"",content_type:"article",category:"",tags:[],url:"",source_type:"manual",file:null,is_active:!0}),eA(""),eD(0)},ts=()=>{eM.trim()&&!eC.tags.includes(eM.trim())&&(eS({...eC,tags:[...eC.tags,eM.trim()]}),eA(""))},ta=async e=>{if(confirm("Are you sure you want to delete this article?"))try{let{error:t}=await h.db.from("cb_knowledge_base").delete().eq("id",e);if(t)throw t;eX()}catch(e){alert("Failed to delete article: "+e.message)}},tl=async e=>{e$(!0),eD(0);try{let t=new FileReader;if(t.onprogress=e=>{e.lengthComputable&&eD(e.loaded/e.total*100)},t.onload=async t=>{let s=t.target?.result;eS(t=>({...t,content:s,title:t.title||e.name.replace(/\.[^/.]+$/,"")})),eD(100),e$(!1)},"application/pdf"===e.type){alert("PDF parsing requires a backend service. Please copy/paste content for now."),e$(!1);return}t.readAsText(e)}catch(e){alert("Failed to process file: "+e.message),e$(!1)}},tr=async e=>{e$(!0);try{let t=await fetch(e),s=await t.text(),a=new DOMParser().parseFromString(s,"text/html"),l=a.body.innerText;eS(t=>({...t,content:l,url:e,title:t.title||a.title||"Imported from URL"})),alert("Content imported successfully from URL")}catch(e){alert("Failed to fetch URL: "+e.message)}finally{e$(!1)}},ti=async()=>{if(!x||!eC.title||!eC.content)return void alert("Please fill in title and content");try{let e={title:eC.title,content:eC.content,content_type:eC.content_type,category:eC.category||null,tags:eC.tags.length>0?eC.tags:null,url:eC.url||null,is_active:eC.is_active,metadata:{source_type:eC.source_type,imported_at:new Date().toISOString()}};if(G){let{error:t}=await h.db.from("cb_knowledge_base").update(e).eq("id",G);if(t)throw t}else{let{error:t}=await h.db.from("cb_knowledge_base").insert({bot_id:x,...e});if(t)throw t}q(!1),K(null),tt(),eX()}catch(e){alert("Failed to save article: "+e.message)}};if(r)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading chatbot builder..."})]})});let tn=d.find(e=>e.id===x);return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eL.Bot,{className:"w-8 h-8 text-[#39FF14]"}),"AI Chatbot Builder"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Build intelligent conversational AI with advanced NLU and multi-turn conversations"}),tn&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Current Bot:"}),(0,t.jsx)("select",{value:x||"",onChange:e=>m(e.target.value),className:"bg-gray-800 border border-gray-700 text-[#39FF14] font-medium px-2 py-1 rounded transition-colors focus:outline-none focus:border-[#39FF14]",children:d.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"active"===tn.status?"bg-green-500/20 text-green-400":"training"===tn.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:tn.status}),(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded uppercase font-bold",children:tn.platform||"web"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:eV,disabled:r,className:"bg-gray-800 text-white px-4 py-2 rounded-lg font-semibold border border-gray-700 hover:bg-gray-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)(D.default,{className:"w-4 h-4 text-[#39FF14]"}),"Load Sample Bots"]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Chatbot"]})]})]})}),0===d.length?(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[(0,t.jsx)(eL.Bot,{className:"w-20 h-20 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No chatbots found"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"Create your first AI chatbot to get started"}),(0,t.jsxs)("button",{className:"bg-[#39FF14] text-black px-6 py-3 rounded-lg font-semibold hover:bg-[#32e012] transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5 inline mr-2"}),"Create Chatbot"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>a("dashboard"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"dashboard"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eE.TrendingUp,{className:"w-4 h-4"}),"Dashboard"]}),(0,t.jsxs)("button",{onClick:()=>a("intents"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"intents"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4"}),"Intents (",u.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("entities"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"entities"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eI.default,{className:"w-4 h-4"}),"Entities (",g.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("chat"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"chat"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(tE.MessageCircle,{className:"w-4 h-4"}),"Test Chat"]}),(0,t.jsxs)("button",{onClick:()=>a("logs"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"logs"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Conversation Logs (",f.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("ml-settings"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"ml-settings"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(ty.default,{className:"w-4 h-4"}),"ML Settings"]}),(0,t.jsxs)("button",{onClick:()=>a("knowledge-base"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"knowledge-base"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(e1.BookOpen,{className:"w-4 h-4"}),"Knowledge Base (",k.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("integrations"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"integrations"===e?"bg-[#39FF14] text-black font-semibold":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(i.default,{className:"w-4 h-4"}),"Integrations (",S.length,")"]})]}),"dashboard"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(T.MessageSquare,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Intents"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:u.length}),(0,t.jsxs)("div",{className:"text-white/70 text-sm mt-1",children:[u.filter(e=>e.is_active).length," active"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(eI.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Entities"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:g.length}),(0,t.jsxs)("div",{className:"text-white/70 text-sm mt-1",children:[g.filter(e=>e.is_active).length," active"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(l.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Conversations"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:f.length}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Total sessions"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(L.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Engine"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:tn?.nlu_engine}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"NLU Engine"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Bot Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bot Name"}),(0,t.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:tn?.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language"}),(0,t.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:tn?.language})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confidence Threshold"}),(0,t.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:tn?.confidence_threshold})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsx)("div",{className:`rounded px-4 py-2 font-medium ${tn?.status==="active"?"bg-green-500/20 text-green-400":tn?.status==="training"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:tn?.status})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Features Enabled"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Multi-turn Conversations"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Intent Recognition (ML)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Entity Extraction (ML)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"API Tool Calling"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Context Management"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Knowledge Base RAG"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Spacy Word Embeddings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Zero-shot NLU (LLM)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Channel Integrations"})]})]})]})]}),"intents"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Intent Management"}),(0,t.jsxs)("button",{onClick:()=>{V(null),eJ(),I(!0)},className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Intent"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:u.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.intent_display_name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:["(",e.intent_name,")"]}),e.is_system_intent&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded",children:"System"}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.is_active?"Active":"Inactive"}),(0,t.jsxs)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded",children:["Priority: ",e.priority]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:e.intent_description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{V(e.id),X({intent_name:e.intent_name,intent_display_name:e.intent_display_name,intent_description:e.intent_description,training_phrases:e.training_phrases||[],action_type:e.action_type,is_active:e.is_active,priority:e.priority}),I(!0)},className:"text-[#39FF14] hover:text-[#39FF14] p-2 hover:bg-[#39FF14]/20 rounded transition-colors",title:"Edit Intent",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>eZ(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",title:"Delete Intent",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Training Phrases (",e.training_phrases.length,"):"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.training_phrases.slice(0,5).map((e,s)=>(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-sm rounded",children:['"',e,'"']},s)),e.training_phrases.length>5&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-400 text-sm rounded",children:["+",e.training_phrases.length-5," more"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Action:"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"api"===e.action_type||"text"===e.action_type?"bg-[#39FF14]/20 text-[#39FF14]":"bg-gray-500/20 text-gray-400"}`,children:e.action_type})]})]})]},e.id))})]}),"entities"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Entity Management"}),(0,t.jsxs)("button",{onClick:()=>{z(null),eY(),R(!0)},className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Entity"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.entity_display_name}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"system"===e.entity_type||"regex"===e.entity_type?"bg-[#39FF14]/20 text-[#39FF14]":"list"===e.entity_type?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.entity_type}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.is_active?"Active":"Inactive"})]}),(0,t.jsxs)("p",{className:"text-gray-500 text-sm font-mono",children:["@",e.entity_name]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{z(e.id),Q({entity_name:e.entity_name,entity_display_name:e.entity_display_name,entity_type:e.entity_type,values:e.values||[],regex_pattern:e.regex_pattern||"",is_active:e.is_active}),R(!0)},className:"text-[#39FF14] hover:text-[#39FF14] p-2 hover:bg-[#39FF14]/20 rounded transition-colors",title:"Edit Entity",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>e4(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",title:"Delete Entity",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]}),e.regex_pattern&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-700 rounded",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Pattern:"}),(0,t.jsx)("code",{className:"text-xs text-green-400 font-mono block mt-1",children:e.regex_pattern})]})]},e.id))})]}),"chat"===e&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Chat Interface"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Test your chatbot with real LLM integration"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:()=>{ei([]),ec("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Clear Chat"})})]}),(0,t.jsxs)("div",{className:"mb-4 flex gap-2 items-center bg-gray-700 p-3 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 font-medium",children:"LLM Provider:"}),(0,t.jsx)("button",{onClick:()=>em("openai"),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-colors ${"openai"===ex?"bg-[#39FF14] text-black font-semibold":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"OpenAI"}),(0,t.jsx)("button",{onClick:()=>em("gemini"),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-colors ${"gemini"===ex?"bg-[#39FF14] text-black font-semibold":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Google Gemini"}),ed&&(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Session:"}),(0,t.jsxs)("span",{className:"text-gray-300 font-mono",children:[ed.substring(0,8),"..."]})]})]}),(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg h-96 overflow-y-auto p-4 mb-4",children:0===er.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"mb-2",children:"Start a conversation to test your bot"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["Using ","openai"===ex?"OpenAI GPT":"Google Gemini"]})]})}):(0,t.jsxs)("div",{className:"space-y-4",children:[er.map((e,s)=>(0,t.jsx)("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[80%] rounded-lg p-3 ${"user"===e.type?"bg-[#39FF14] text-black font-semibold":e.isError?"bg-red-900/50 text-red-200 border border-red-700":"bg-gray-700 text-gray-200"}`,children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.text}),"bot"===e.type&&!e.isError&&(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-600 space-y-1",children:[e.intent&&(0,t.jsxs)("div",{className:"text-xs opacity-75",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Intent:"})," ",e.intent," (",(100*e.confidence).toFixed(1),"%)"]}),e.provider&&(0,t.jsxs)("div",{className:"text-xs opacity-75",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Model:"})," ",e.provider,"/",e.model]}),e.kb_used&&(0,t.jsxs)("div",{className:"text-xs text-green-400",children:[(0,t.jsx)(eT.default,{className:"w-3 h-3 inline mr-1"}),"Knowledge Base Used (",e.metadata?.kb_matches||0," matches)"]})]})]})},s)),en&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-gray-700 text-gray-200 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(t4.default,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:"Thinking..."})]})})})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:ea,onChange:e=>el(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&e5(),placeholder:"Type your message here...",disabled:en,className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] disabled:opacity-50"}),(0,t.jsx)("button",{onClick:e5,disabled:en||!ea.trim(),className:"bg-[#39FF14] text-black px-6 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:en?"Sending...":"Send"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Debug Info"}),(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 h-[500px] overflow-y-auto",children:(0,t.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 font-semibold mb-1",children:"Configuration"}),(0,t.jsxs)("div",{className:"bg-gray-800 p-2 rounded",children:[(0,t.jsxs)("div",{className:"text-gray-300",children:["Bot ID: ",(0,t.jsx)("span",{className:"text-[#39FF14] font-mono",children:x})]}),(0,t.jsxs)("div",{className:"text-gray-300",children:["Session ID: ",(0,t.jsx)("span",{className:"text-[#39FF14] font-mono",children:ed||"Not started"})]}),(0,t.jsxs)("div",{className:"text-gray-300",children:["LLM Provider: ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:ex})]}),(0,t.jsxs)("div",{className:"text-gray-300",children:["Messages: ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:er.length})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 font-semibold mb-1",children:"Last Response Metadata"}),(0,t.jsx)("div",{className:"bg-gray-800 p-2 rounded",children:er.length>0&&"bot"===er[er.length-1].type?(0,t.jsx)("pre",{className:"text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(er[er.length-1],null,2)}):(0,t.jsx)("div",{className:"text-gray-500",children:"No bot response yet"})})]})]})})]})]}),"logs"===e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Conversation Logs"}),(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Session ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"User"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Channel"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Messages"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Started"})]})}),(0,t.jsx)("tbody",{children:f.map(e=>(0,t.jsxs)("tr",{onClick:()=>e9(e.id),className:"border-t border-gray-700 hover:bg-gray-700 cursor-pointer transition-colors",children:[(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-300 font-mono",children:[e.session_id.substring(0,12),"..."]}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.user_id}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded",children:e.channel})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.message_count}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"completed"===e.status?"bg-green-500/20 text-green-400":"active"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"bg-gray-500/20 text-gray-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-400",children:new Date(e.started_at).toLocaleString()})]},e.id))})]})})]}),"ml-settings"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"ML & NLU Configuration"}),(0,t.jsxs)("button",{onClick:()=>{e_(null),e6(),ey(!0)},className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New ML Config"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:ej.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.config_name}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.is_active?"Active":"Inactive"})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{e_(e.id),ek({config_name:e.config_name,nlu_engine:e.nlu_engine,llm_provider:e.llm_provider,llm_model:e.llm_model,confidence_threshold:e.confidence_threshold,temperature:e.temperature,max_tokens:e.max_tokens,is_active:e.is_active}),ey(!0)},className:"text-[#39FF14] hover:text-[#39FF14] p-2 hover:bg-[#39FF14]/20 rounded transition-colors",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>e8(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"NLU Engine:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.nlu_engine})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"LLM Provider:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.llm_provider})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Model:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.llm_model})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Confidence:"}),(0,t.jsxs)("p",{className:"text-white font-medium",children:[(100*e.confidence_threshold).toFixed(0),"%"]})]})]})]},e.id))}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-yellow-500"}),"Training Status"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-white font-semibold flex items-center gap-2",children:["Intent Classifier","training"===eO.intent_classifier.status&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#39FF14] border-t-transparent rounded-full animate-spin"}),"completed"===eO.intent_classifier.status&&(0,t.jsx)(eT.default,{className:"w-4 h-4 text-green-500"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:eO.intent_classifier.last_trained?`Last trained: ${new Date(eO.intent_classifier.last_trained).toLocaleString()}`:"Never trained"})]}),(0,t.jsxs)("button",{onClick:()=>te("intent_classifier"),disabled:"training"===eO.intent_classifier.status,className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Train Now"]})]}),"training"===eO.intent_classifier.status&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-[#39FF14] h-2 rounded-full transition-all duration-300",style:{width:`${eO.intent_classifier.progress}%`}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Training in progress... ",eO.intent_classifier.progress,"%"]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-white font-semibold flex items-center gap-2",children:["Entity Extractor","training"===eO.entity_extractor.status&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-[#39FF14] border-t-transparent rounded-full animate-spin"}),"completed"===eO.entity_extractor.status&&(0,t.jsx)(eT.default,{className:"w-4 h-4 text-green-500"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:eO.entity_extractor.last_trained?`Last trained: ${new Date(eO.entity_extractor.last_trained).toLocaleString()}`:"Never trained"})]}),(0,t.jsxs)("button",{onClick:()=>te("entity_extractor"),disabled:"training"===eO.entity_extractor.status,className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Train Now"]})]}),"training"===eO.entity_extractor.status&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-[#39FF14] h-2 rounded-full transition-all duration-300",style:{width:`${eO.entity_extractor.progress}%`}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Training in progress... ",eO.entity_extractor.progress,"%"]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,t.jsx)("p",{className:"font-semibold text-[#39FF14] mb-1",children:"Training Information"}),(0,t.jsx)("p",{children:"Training uses your configured intents and entities to improve the NLU model. The process typically takes 3-5 seconds and includes data validation, feature extraction, and model optimization."})]})]})})]})]}),"knowledge-base"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Knowledge Base & FAQ"}),(0,t.jsxs)("button",{onClick:()=>q(!0),className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Article"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:k.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.title}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"faq"===e.content_type||"article"===e.content_type?"bg-[#39FF14]/20 text-[#39FF14]":"bg-gray-500/20 text-gray-400"}`,children:e.content_type}),e.category&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:e.category})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm line-clamp-2",children:e.content})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{K(e.id),eS({title:e.title,content:e.content,content_type:e.content_type,category:e.category||"",tags:e.tags||[],url:"",source_type:"manual",file:null,is_active:e.is_active}),q(!0)},className:"text-[#39FF14] hover:text-[#39FF14] p-2",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ta(e.id),className:"text-red-400 hover:text-red-300 p-2",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.tags.map((e,s)=>(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:["#",e]},s))})]},e.id))})]}),"integrations"===e&&x&&(0,t.jsx)(sV,{botId:x})]}),A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{I(!1),V(null),eJ()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(T.MessageSquare,{className:"w-6 h-6 text-[#39FF14]"}),U?"Edit Intent":"Create New Intent"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Intent Name *"}),(0,t.jsx)("input",{type:"text",value:W.intent_name,onChange:e=>X({...W,intent_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"greeting"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase, no spaces (e.g., order_status)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),(0,t.jsx)("input",{type:"text",value:W.intent_display_name,onChange:e=>X({...W,intent_display_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Greeting"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:W.intent_description,onChange:e=>X({...W,intent_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-20",placeholder:"Describe what this intent represents..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Training Phrases"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("input",{type:"text",value:H,onChange:e=>J(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),eQ()),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Enter a training phrase and press Enter"}),(0,t.jsx)("button",{onClick:eQ,className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors",children:(0,t.jsx)(_.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:W.training_phrases.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-lg",children:[(0,t.jsx)("span",{className:"text-white text-sm",children:e}),(0,t.jsx)("button",{onClick:()=>{X({...W,training_phrases:W.training_phrases.filter((e,t)=>t!==s)})},className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Add at least 5 training phrases for better accuracy"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Type"}),(0,t.jsxs)("select",{value:W.action_type,onChange:e=>X({...W,action_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"text",children:"Text Response"}),(0,t.jsx)("option",{value:"api",children:"API Call"}),(0,t.jsx)("option",{value:"webhook",children:"Webhook"}),(0,t.jsx)("option",{value:"knowledge_base",children:"Knowledge Base"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),(0,t.jsx)("input",{type:"number",value:W.priority,onChange:e=>X({...W,priority:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",min:"1",max:"10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 h-10",children:[(0,t.jsx)("input",{type:"checkbox",checked:W.is_active,onChange:e=>X({...W,is_active:e.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,t.jsx)("span",{className:"text-white",children:"Active"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{I(!1),V(null),eJ()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e0,disabled:!W.intent_name||!W.intent_display_name,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Update Intent":"Create Intent"})]})]})]})}),P&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{R(!1),z(null),eY()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eI.default,{className:"w-6 h-6 text-[#39FF14]"}),B?"Edit Entity":"Create New Entity"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Name *"}),(0,t.jsx)("input",{type:"text",value:Y.entity_name,onChange:e=>Q({...Y,entity_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"product_name"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase, no spaces (e.g., product_type)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),(0,t.jsx)("input",{type:"text",value:Y.entity_display_name,onChange:e=>Q({...Y,entity_display_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Product Name"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Type"}),(0,t.jsxs)("select",{value:Y.entity_type,onChange:e=>Q({...Y,entity_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"list",children:"List - Predefined values with synonyms"}),(0,t.jsx)("option",{value:"regex",children:"Regex - Pattern matching"}),(0,t.jsx)("option",{value:"system",children:"System - Built-in (date, time, number, etc.)"})]})]}),"list"===Y.entity_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Values"}),(0,t.jsxs)("div",{className:"space-y-3 mb-3",children:[(0,t.jsx)("input",{type:"text",value:Z,onChange:e=>ee(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Enter value (e.g., laptop)"}),(0,t.jsx)("input",{type:"text",value:et,onChange:e=>es(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Enter synonyms separated by commas (e.g., notebook, computer)"}),(0,t.jsxs)("button",{onClick:()=>{if(Z.trim()){let e={value:Z.trim(),synonyms:et?et.split(",").map(e=>e.trim()):[]};Q({...Y,values:[...Y.values,e]}),ee(""),es("")}},className:"w-full bg-[#39FF14] text-black px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Value"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:Y.values.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:e.value}),e.synonyms&&e.synonyms.length>0&&(0,t.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Synonyms: ",e.synonyms.join(", ")]})]}),(0,t.jsx)("button",{onClick:()=>{Q({...Y,values:Y.values.filter((e,t)=>t!==s)})},className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))})]}),"regex"===Y.entity_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Regex Pattern"}),(0,t.jsx)("input",{type:"text",value:Y.regex_pattern,onChange:e=>Q({...Y,regex_pattern:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] font-mono text-sm",placeholder:"^[A-Z]{2}\\d{6}$"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid regular expression pattern"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:Y.is_active,onChange:e=>Q({...Y,is_active:e.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,t.jsx)("span",{className:"text-white",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{R(!1),z(null),eY()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e3,disabled:!Y.entity_name||!Y.entity_display_name,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:B?"Update Entity":"Create Entity"})]})]})]})}),eN&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{ey(!1),e_(null),e6()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(ty.default,{className:"w-6 h-6 text-[#39FF14]"}),ew?"Edit ML Configuration":"Create ML Configuration"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Configuration Name *"}),(0,t.jsx)("input",{type:"text",value:eF.config_name,onChange:e=>ek({...eF,config_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Production Config"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"NLU Engine"}),(0,t.jsxs)("select",{value:eF.nlu_engine,onChange:e=>ek({...eF,nlu_engine:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"spacy",children:"Spacy (Word Embeddings)"}),(0,t.jsx)("option",{value:"llm",children:"LLM (Zero-shot)"}),(0,t.jsx)("option",{value:"hybrid",children:"Hybrid (Spacy + LLM)"}),(0,t.jsx)("option",{value:"rasa",children:"Rasa NLU"}),(0,t.jsx)("option",{value:"dialogflow",children:"Dialogflow"}),(0,t.jsx)("option",{value:"luis",children:"Microsoft LUIS"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LLM Provider"}),(0,t.jsxs)("select",{value:eF.llm_provider,onChange:e=>ek({...eF,llm_provider:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"openai",children:"OpenAI"}),(0,t.jsx)("option",{value:"gemini",children:"Google Gemini"}),(0,t.jsx)("option",{value:"anthropic",children:"Anthropic (Claude)"}),(0,t.jsx)("option",{value:"azure",children:"Azure OpenAI"}),(0,t.jsx)("option",{value:"cohere",children:"Cohere"}),(0,t.jsx)("option",{value:"huggingface",children:"HuggingFace"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Model"}),(0,t.jsxs)("select",{value:eF.llm_model,onChange:e=>ek({...eF,llm_model:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:["openai"===eF.llm_provider&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,t.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,t.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]}),"gemini"===eF.llm_provider&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"}),(0,t.jsx)("option",{value:"gemini-pro-vision",children:"Gemini Pro Vision"}),(0,t.jsx)("option",{value:"gemini-ultra",children:"Gemini Ultra"})]}),"anthropic"===eF.llm_provider&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),(0,t.jsx)("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"}),(0,t.jsx)("option",{value:"claude-3-haiku",children:"Claude 3 Haiku"})]}),!["openai","gemini","anthropic"].includes(eF.llm_provider)&&(0,t.jsx)("option",{value:"default",children:"Default Model"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confidence Threshold"}),(0,t.jsx)("input",{type:"number",step:"0.05",min:"0",max:"1",value:eF.confidence_threshold,onChange:e=>ek({...eF,confidence_threshold:parseFloat(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0.0 - 1.0 (higher = more strict)"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Temperature"}),(0,t.jsx)("input",{type:"number",step:"0.1",min:"0",max:"2",value:eF.temperature,onChange:e=>ek({...eF,temperature:parseFloat(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0.0 = deterministic, 2.0 = creative"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Tokens"}),(0,t.jsx)("input",{type:"number",step:"50",min:"50",max:"4000",value:eF.max_tokens,onChange:e=>ek({...eF,max_tokens:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum response length"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:eF.is_active,onChange:e=>ek({...eF,is_active:e.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,t.jsx)("span",{className:"text-white",children:"Active Configuration"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{ey(!1),e_(null),e6()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e7,disabled:!eF.config_name,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ew?"Update Configuration":"Create Configuration"})]})]})]})}),eb&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{ef(!1),eu(null),eg([])},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-6 h-6 text-[#39FF14]"}),"Conversation Details"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Session Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Session ID:"}),(0,t.jsx)("p",{className:"text-white font-mono",children:eh})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Total Messages:"}),(0,t.jsx)("p",{className:"text-white",children:ep.length})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 max-h-[600px] overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:"Message History"}),(0,t.jsx)("div",{className:"space-y-4",children:ep.map((e,s)=>(0,t.jsx)("div",{className:`flex ${"user"===e.message_type?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[80%] rounded-lg p-4 ${"user"===e.message_type?"bg-[#39FF14] text-black font-semibold":"bg-gray-700 text-gray-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-xs font-semibold opacity-75",children:"user"===e.message_type?"User":"Bot"}),(0,t.jsx)("span",{className:"text-xs opacity-60",children:new Date(e.created_at).toLocaleTimeString()})]}),(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.message_text}),e.detected_intent&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-600 text-xs",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"opacity-75",children:["Intent: ",e.detected_intent]}),e.intent_confidence&&(0,t.jsxs)("span",{className:"opacity-75",children:["Confidence: ",(100*e.intent_confidence).toFixed(0),"%"]})]})})]})},e.id))})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:()=>{ef(!1),eu(null),eg([])},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold",children:"Close"})})]})]})}),$&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{q(!1),K(null),tt()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(e1.BookOpen,{className:"w-6 h-6 text-[#39FF14]"}),G?"Edit Article":"Add New Article"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-2 bg-gray-800 p-4 rounded-lg border border-gray-700",children:[(0,t.jsxs)("button",{onClick:()=>eS({...eC,source_type:"manual"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"manual"===eC.source_type?"bg-[#39FF14] text-black font-semibold":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(j.default,{className:"w-4 h-4"}),"Manual Entry"]}),(0,t.jsxs)("button",{onClick:()=>eS({...eC,source_type:"upload"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"upload"===eC.source_type?"bg-[#39FF14] text-black font-semibold":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(tY.default,{className:"w-4 h-4"}),"Upload Document"]}),(0,t.jsxs)("button",{onClick:()=>eS({...eC,source_type:"url"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"url"===eC.source_type?"bg-[#39FF14] text-black font-semibold":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(tv.default,{className:"w-4 h-4"}),"Import from URL"]}),(0,t.jsxs)("button",{onClick:()=>eS({...eC,source_type:"storage"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"storage"===eC.source_type?"bg-[#39FF14] text-black font-semibold":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(t1.default,{className:"w-4 h-4"}),"Storage"]})]}),"upload"===eC.source_type&&(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Upload Document"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-[#39FF14] transition-colors cursor-pointer",children:[(0,t.jsx)("input",{type:"file",accept:".txt,.md,.csv,.json,.xml,.html",onChange:e=>{let t=e.target.files?.[0];t&&(eS({...eC,file:t}),tl(t))},className:"hidden",id:"file-upload"}),(0,t.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,t.jsx)(tY.default,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-white font-semibold mb-1",children:"Click to upload or drag and drop"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Supported: TXT, MD, CSV, JSON, XML, HTML"})]})]}),eR&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[#39FF14] mb-2",children:[(0,t.jsx)(t4.default,{className:"w-4 h-4 animate-spin"}),(0,t.jsxs)("span",{className:"text-sm",children:["Processing file... ",Math.round(eP),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-[#39FF14] h-2 rounded-full transition-all duration-300",style:{width:`${eP}%`}})})]})]}),"url"===eC.source_type&&(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Import from URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"url",value:eC.url,onChange:e=>eS({...eC,url:e.target.value}),placeholder:"https://example.com/article",className:"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("button",{onClick:()=>eC.url&&tr(eC.url),disabled:!eC.url||eR,className:"bg-[#39FF14] text-black px-6 py-3 rounded-lg hover:bg-[#32e012] transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:eR?(0,t.jsx)(t4.default,{className:"w-5 h-5 animate-spin"}):"Import"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Paste a URL to import content from a webpage"})]}),"storage"===eC.source_type&&(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Connect to Storage"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(t1.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"FTP/SFTP"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Connect to FTP or SFTP server"})]}),(0,t.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(sB.default,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"NAS/SAN"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Connect to network storage"})]})]}),(0,t.jsx)("div",{className:"mt-4 bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-[#39FF14] text-sm",children:"Storage integrations require configuration. Contact your administrator to set up storage connections."})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:eC.title,onChange:e=>eS({...eC,title:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Article title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content Type"}),(0,t.jsxs)("select",{value:eC.content_type,onChange:e=>eS({...eC,content_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"article",children:"Article"}),(0,t.jsx)("option",{value:"faq",children:"FAQ"}),(0,t.jsx)("option",{value:"documentation",children:"Documentation"}),(0,t.jsx)("option",{value:"guide",children:"Guide"}),(0,t.jsx)("option",{value:"policy",children:"Policy"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,t.jsx)("input",{type:"text",value:eC.category,onChange:e=>eS({...eC,category:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"e.g., Product Info, Troubleshooting, Billing"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content *"}),(0,t.jsx)("textarea",{value:eC.content,onChange:e=>eS({...eC,content:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] h-48 resize-none",placeholder:"Enter the article content..."}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[eC.content.length," characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("input",{type:"text",value:eM,onChange:e=>eA(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),ts()),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"Add tag and press Enter"}),(0,t.jsx)("button",{onClick:ts,className:"bg-[#39FF14] text-black px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors",children:(0,t.jsx)(_.default,{className:"w-5 h-5"})})]}),eC.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:eC.tags.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-lg",children:[(0,t.jsxs)("span",{className:"text-white text-sm",children:["#",e]}),(0,t.jsx)("button",{onClick:()=>{eS({...eC,tags:eC.tags.filter((e,t)=>t!==s)})},className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"kb-active",checked:eC.is_active,onChange:e=>eS({...eC,is_active:e.target.checked}),className:"w-5 h-5 rounded bg-gray-800 border-gray-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsx)("label",{htmlFor:"kb-active",className:"text-gray-300 cursor-pointer",children:"Make this article active and searchable"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{q(!1),K(null),tt()},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsxs)("button",{onClick:ti,className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg transition-colors font-semibold flex items-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-5 h-5"}),G?"Update Article":"Save Article"]})]})]})]})})]})}var sG=e.i(10252),sG=sG,sK=e.i(37092),sK=sK,sW=e.i(36517),sW=sW,D=D,i=i,r=r,l=l,sX=e.i(89524),sX=sX,_=_,e2=e2,C=C,j=j,v=v,ty=ty,t_=t_,k=k,tN=tN,eT=eT,en=en,tI=tI,e$=e$;let sH=[{id:"openai",name:"OpenAI",models:["gpt-4","gpt-4-turbo","gpt-3.5-turbo"],description:"GPT-4 from OpenAI has broad general knowledge and domain expertise",logo:"🤖"},{id:"anthropic",name:"Anthropic",models:["claude-3-opus","claude-3-sonnet","claude-3-haiku"],description:"A faster, cheaper yet still very capable version of Claude",logo:"🔮"},{id:"gemini",name:"Gemini",models:["gemini-pro","gemini-2.5-pro"],description:"Gemini is Google latest family of large language models",logo:"💎"},{id:"mistral",name:"Mistral",models:["mistral-large","mistral-medium","mistral-small"],description:"Mistral specializes in creating fast, secure, open-source LLMs",logo:"🌪️"},{id:"cohere",name:"Cohere",models:["command","command-light"],description:"A smaller and faster version of Cohere's command model",logo:"🎯"},{id:"huggingface",name:"Hugging Face",models:["custom"],description:"Hugging Face is a machine learning platform and community",logo:"🤗"}],sJ=[{id:"assemblyai",name:"AssemblyAI",description:"Industry-leading AI models for speech-to-text, speaker diarization, and audio intelligence",logo:"🎙️",features:["real-time","diarization","sentiment","entity-detection","language-detection"]},{id:"deepgram",name:"Deepgram",description:"Cutting-edge speech recognition services using advanced AI",logo:"🎤"},{id:"openai",name:"OpenAI Whisper",description:"Robust speech recognition model from OpenAI",logo:"🤖"},{id:"google",name:"Google Cloud",description:"Google Cloud Speech-to-Text services",logo:"🌐"},{id:"azure",name:"Azure",description:"Azure Speech Services with advanced AI",logo:"🔷"}],sY=[{id:"assemblyai",name:"AssemblyAI",description:"High-quality neural text-to-speech with natural voices and emotional range",logo:"🎙️"},{id:"openai",name:"OpenAI",description:"OpenAI Text-to-Speech with natural voices",logo:"🤖"},{id:"elevenlabs",name:"ElevenLabs",description:"Premium AI voice generation with emotional intelligence",logo:"🎭"},{id:"azure",name:"Azure",description:"Azure Text-to-Speech with neural voices",logo:"🔷"},{id:"google",name:"Google Cloud",description:"Google Cloud Text-to-Speech services",logo:"🌐"}],sQ=[{id:"vonage",name:"Vonage",description:"Cloud communication platform that provides voice, messaging, and video solutions",logo:"📞"},{id:"twilio",name:"Twilio",description:"Cloud communications platform for building SMS, voice, and messaging applications",logo:"☎️"},{id:"exotel",name:"Exotel",description:"Cloud telephony platform offering voice and messaging services for businesses",logo:"📱"},{id:"aws",name:"AWS",description:"Amazon Web Services offers a broad set of global cloud-based products",logo:"☁️"},{id:"google",name:"Google Cloud",description:"Google Cloud offers a suite of cloud computing services",logo:"🌐"}];function sZ(){let[e,a]=(0,s.useState)("dashboard"),[c,x]=(0,s.useState)(""),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)(null),[f,w]=(0,s.useState)(!1),[F,S]=(0,s.useState)(!1),[M,A]=(0,s.useState)(!1),[L,E]=(0,s.useState)(!1),[O,q]=(0,s.useState)(null),[U,V]=(0,s.useState)(!1),[B,z]=(0,s.useState)(null),[G,K]=(0,s.useState)(1),[W,X]=(0,s.useState)(1),[H,J]=(0,s.useState)(!1),[Y,Q]=(0,s.useState)([]),[ee,et]=(0,s.useState)("neutral"),[es,ea]=(0,s.useState)([]),[el,er]=(0,s.useState)(0),[ei,eo]=(0,s.useState)(null),[ed,ec]=(0,s.useState)({apiKey:"",realtimeEnabled:!0,diarizationEnabled:!0,sentimentEnabled:!0,entityDetection:!0,languageDetection:!0,customVocabulary:[]}),[ex,em]=(0,s.useState)({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"assemblyai",tts_provider:"assemblyai",telephony_provider:"twilio",voice_provider:"assemblyai",system_prompt:"",status:"testing"}),[eh,eu]=(0,s.useState)([{role:"system",content:""}]),[ep,eg]=(0,s.useState)([]),[eb,ef]=(0,s.useState)(!1),[ej,ev]=(0,s.useState)({name:"knowledge_query",description:"Use this tool to retrieve specific information or data from provided queries before responding.",action:"knowledge_retrieval",retrievalSetting:"hybrid",topK:5,scoreThreshold:.5,parameters:JSON.stringify({properties:{context:{description:"Concise and searchable description of the users query or topic.",type:"string"},organizations:{description:"Names of organizations or companies mentioned in the content",type:"array"}}},null,2)}),[eN,ey]=(0,s.useState)("");(0,s.useEffect)(()=>{ew()},[]);let ew=async()=>{w(!0);try{let{data:e,error:t}=await h.db.from("voice_agents").select("*").order("created_at",{ascending:!1});if(t)throw t;p(e||[]),e&&e.length>0&&b(e[0])}catch(e){console.error("Error loading agents:",e)}finally{w(!1)}},e_=async()=>{let e=[{name:"Salesforce Sales Assistant",description:"AI assistant for Salesforce CRM - handles lead qualification, opportunity tracking, and sales pipeline management",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hello! I'm your Salesforce assistant. I can help you manage leads, track opportunities, and update your sales pipeline. How can I assist you today?"},{name:"ServiceNow IT Support Bot",description:"AI assistant for ServiceNow ITSM - manages incident tickets, service requests, and IT service catalog",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Welcome to IT Support. I can help you create incidents, track service requests, or browse our IT service catalog. What do you need help with?"},{name:"HubSpot Marketing Assistant",description:"AI assistant for HubSpot - handles contact management, deal tracking, and marketing automation",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hi! I'm your HubSpot marketing assistant. I can help with contact management, deal tracking, email campaigns, and marketing analytics. What would you like to do?"},{name:"Microsoft Teams Collaboration Bot",description:"AI assistant for Microsoft Teams - schedules meetings, manages tasks, and facilitates team collaboration",agent_type:"inbound",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your Teams collaboration assistant. I can schedule meetings, create tasks, share files, and help coordinate with your team. How can I help?"},{name:"Zoom Meeting Assistant",description:"AI assistant for Zoom - schedules meetings, manages recordings, and provides meeting analytics",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Welcome! I'm your Zoom meeting assistant. I can schedule meetings, share meeting links, manage recordings, and provide analytics. What would you like to do?"},{name:"Webex Enterprise Assistant",description:"AI assistant for Cisco Webex - manages enterprise communication, meetings, and team collaboration",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your Webex assistant. I can help with meeting scheduling, team spaces, messaging, and enterprise communication. How may I assist you?"},{name:"PBX Call Management Bot",description:"AI assistant for traditional PBX systems - handles call routing, extensions, and voicemail",agent_type:"inbound",status:"active",voice_type:"male",language:"en-US",greeting_message:"Thank you for calling. I'm your PBX assistant. I can route you to extensions, manage voicemail, or answer questions about our services. How can I direct your call?"},{name:"Genesys Contact Center Agent",description:"AI assistant for Genesys Cloud - manages customer interactions, queue management, and agent assistance",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Welcome to customer service. I'm your Genesys assistant. I can help route your call, provide information, or connect you with a specialist. How can I help you today?"},{name:"NICE Workforce Assistant",description:"AI assistant for NICE WFM - handles workforce optimization, scheduling, and performance management",agent_type:"inbound",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your NICE workforce assistant. I can help with scheduling, time-off requests, performance metrics, and workforce planning. What do you need?"},{name:"CUCM Call Manager Bot",description:"AI assistant for Cisco Unified Call Manager - manages enterprise telephony and call routing",agent_type:"inbound",status:"active",voice_type:"male",language:"en-US",greeting_message:"Welcome. I'm your CUCM assistant. I can help with call routing, extension management, and telephony services. How may I direct your call?"},{name:"UCCX Contact Center Bot",description:"AI assistant for Cisco Unified Contact Center Express - handles IVR, queuing, and agent routing",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Thank you for calling. I'm your UCCX contact center assistant. I can help route your call, provide self-service options, or connect you with an agent. How can I help?"},{name:"UCCE Enterprise Agent",description:"AI assistant for Cisco Unified Contact Center Enterprise - manages enterprise-scale omnichannel routing",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Welcome to enterprise customer service. I'm your UCCE assistant, handling omnichannel routing and customer interactions. How can I assist you?"},{name:"Talkdesk Cloud Agent",description:"AI assistant for Talkdesk - manages cloud contact center operations and customer engagement",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hello! I'm your Talkdesk assistant. I can help with customer inquiries, route calls, provide analytics, and enhance your contact center experience. How may I help?"}];w(!0);try{let t=e.map(e=>({name:e.name,description:e.description,agent_type:e.agent_type,status:e.status,voice_type:e.voice_type,language:e.language,greeting_message:e.greeting_message,total_calls:Math.floor(500*Math.random()),successful_calls:Math.floor(400*Math.random()),avg_duration:Math.floor(180*Math.random())+60,updated_at:new Date().toISOString()})),{data:s,error:a}=await h.db.from("voice_agents").insert(t);if(a)throw a;alert(`✅ Successfully created ${e.length} sample AI assistants!`),ew()}catch(e){console.error("Error seeding bots:",e),alert("Failed to create sample bots. Please try again.")}finally{w(!1)}},eF=async()=>{try{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return void alert("You must be logged in to create an agent");w(!0);let{error:t}=await h.db.from("voice_agents").insert([{name:ex.agent_name,description:ex.agent_description,status:ex.status,voice_type:"elevenlabs"===ex.voice_provider?"female":"neutral",language:"en-US",ai_model:ex.ai_model,prompts:JSON.stringify({system:ex.system_prompt}),greeting_message:"Hello! How can I help you today?",total_calls:0,successful_calls:0,avg_duration:0,created_by:e.id,updated_at:new Date().toISOString()}]);if(t)throw t;alert("Voice assistant created successfully!"),S(!1),K(1),em({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"deepgram",tts_provider:"elevenlabs",telephony_provider:"twilio",voice_provider:"elevenlabs",system_prompt:"",status:"testing"}),eu([{role:"system",content:""}]),eg([]),ew()}catch(e){console.error("Error creating agent:",e),alert("Failed to create voice assistant. Please check all required fields.")}finally{w(!1)}},ek=async()=>{try{if(!g)return;w(!0);let{error:e}=await h.db.from("voice_agents").update({name:ex.agent_name,description:ex.agent_description,status:ex.status,voice_type:"elevenlabs"===ex.voice_provider?"female":"neutral",language:"en-US",prompts:JSON.stringify({system:ex.system_prompt}),updated_at:new Date().toISOString()}).eq("id",g.id);if(e)throw e;alert("Voice assistant updated successfully!"),A(!1),X(1),b(null),em({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"deepgram",tts_provider:"elevenlabs",telephony_provider:"twilio",voice_provider:"elevenlabs",system_prompt:"",status:"testing"}),eu([{role:"system",content:""}]),eg([]),ew()}catch(e){console.error("Error updating agent:",e),alert("Failed to update voice assistant. Please try again.")}finally{w(!1)}},eC=(e,t="en-US")=>{if("speechSynthesis"in window){if(U&&B){window.speechSynthesis.cancel(),V(!1),z(null);return}let s=new SpeechSynthesisUtterance(e);s.lang=t,s.rate=.9,s.pitch=1;let a=window.speechSynthesis.getVoices().find(e=>e.lang.startsWith(t.split("-")[0]));a&&(s.voice=a),s.onstart=()=>{V(!0)},s.onend=()=>{V(!1),z(null)},s.onerror=()=>{V(!1),z(null)},z(s),window.speechSynthesis.speak(s)}else console.warn("Text-to-speech is not supported in your browser.")},eS=()=>{window.speechSynthesis&&(window.speechSynthesis.cancel(),V(!1),z(null))},eM=(e,t,s)=>{let a=[...eh];a[e]={...a[e],[t]:s},eu(a)},eA=[{id:"dashboard",label:"Dashboard",icon:sG.default,section:"main"},{id:"assistants",label:"Assistants",icon:T.MessageSquare,section:"main",badge:"beta"},{id:"endpoints",label:"Endpoints",icon:R.Network,section:"main"},{id:"knowledge",label:"Knowledge",icon:e1.BookOpen,section:"main"},{id:"models",label:"Models",icon:ty.default,section:"main"}],eI=[{id:"llm-logs",label:"LLM logs",icon:m.Activity},{id:"tool-logs",label:"Tool logs",icon:sK.default},{id:"webhook-logs",label:"Webhook logs",icon:sW.default},{id:"knowledge-logs",label:"Knowledge logs",icon:D.default},{id:"conversation-logs",label:"Conversation logs",icon:tE.MessageCircle}],eP=[{id:"external-integrations",label:"External integrations",icon:i.default},{id:"credentials",label:"Credentials",icon:r.default}],eD=[{id:"users-teams",label:"Users and Teams",icon:l.default},{id:"projects",label:"Projects",icon:sX.default}];return(0,t.jsxs)("div",{className:"flex flex-col h-screen bg-[#013221]",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30]",children:[(0,t.jsx)("div",{className:"px-6 py-4 flex items-center justify-between border-b border-[#024d30]",children:(0,t.jsx)("h2",{className:"text-lg font-bold text-white",children:"Voice Agent Platform"})}),(0,t.jsx)("div",{className:"px-6 py-3 overflow-x-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-6 min-w-max",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:eA.map(s=>(0,t.jsxs)("button",{onClick:()=>{a(s.id),x("")},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap ${e===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:e===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.label}),s.badge&&(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full font-semibold",children:s.badge})]},s.id))}),(0,t.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Observability"}),eI.map(s=>(0,t.jsxs)("button",{onClick:()=>{a("observability"),x(s.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"observability"===e&&c===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:"observability"===e&&c===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s.label})]},s.id))]}),(0,t.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Integrations"}),eP.map(s=>(0,t.jsxs)("button",{onClick:()=>{a("integrations"),x(s.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"integrations"===e&&c===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:"integrations"===e&&c===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s.label})]},s.id))]}),(0,t.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Organizations"}),eD.map(s=>(0,t.jsxs)("button",{onClick:()=>{a("organizations"),x(s.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"organizations"===e&&c===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:"organizations"===e&&c===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s.label})]},s.id))]})]})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"p-8",children:f?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin"})}):(()=>{switch(e){case"dashboard":default:return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-[#39FF14]/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(T.MessageSquare,{className:"w-7 h-7 text-green-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"AI Assistants"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Deploy domain-specific AI agents with custom skills, workflows, and multi-step reasoning."}),(0,t.jsx)("button",{onClick:()=>a("assistants"),className:"text-green-400 font-semibold text-sm hover:text-green-300 transition-colors",children:"Learn more →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-[#39FF14]/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(n.Shield,{className:"w-7 h-7 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Governance & Endpoints"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Secure API endpoints with fine-grained governance, audit trails, and enterprise-grade access control."}),(0,t.jsx)("button",{onClick:()=>a("endpoints"),className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14] transition-colors",children:"Learn more →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-[#39FF14]/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(ty.default,{className:"w-7 h-7 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Model Integration"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Bring your own model — support for OpenAI, Anthropic, and custom LLMs with fine-tuning capabilities."}),(0,t.jsx)("button",{onClick:()=>a("models"),className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14] transition-colors",children:"Learn more →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-[#39FF14]/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(m.Activity,{className:"w-7 h-7 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-time Testing & Monitoring"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Instantly test AI agents and monitor performance in a live sandbox to iterate faster with confidence."}),(0,t.jsx)("button",{onClick:()=>{a("observability"),x("llm-logs")},className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14] transition-colors",children:"Learn more →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-[#39FF14]/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(tE.MessageCircle,{className:"w-7 h-7 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Conversational AI"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Context-aware, LLM-powered chat experiences that understand user intent and deliver accurate responses."}),(0,t.jsx)("button",{onClick:()=>a("assistants"),className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14] transition-colors",children:"Learn more →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-[#39FF14]/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(i.default,{className:"w-7 h-7 text-[#39FF14]"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Integrations"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Connect to CRM, databases, and third-party APIs with secure credential management."}),(0,t.jsx)("button",{onClick:()=>{a("integrations"),x("external-integrations")},className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14] transition-colors",children:"Learn more →"})]})]}),g&&(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Active Agent Statistics"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Total Calls"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:g.total_calls||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Success Rate"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-400",children:[g.total_calls>0?(g.successful_calls/g.total_calls*100).toFixed(1):0,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Avg Duration"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white",children:[Math.floor((g.avg_duration||0)/60),"m"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Status"}),(0,t.jsx)("div",{className:`text-xl font-bold ${"active"===g.status?"text-green-400":"testing"===g.status?"text-yellow-400":"text-gray-400"}`,children:g.status})]})]})]})]});case"assistants":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(T.MessageSquare,{className:"w-8 h-8 text-green-400"}),"AI Assistants",(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-3 py-1 rounded-full font-medium",children:"BETA"})]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage and deploy intelligent voice assistants"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:e_,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",disabled:f,children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"Load Sample Bots"]}),(0,t.jsxs)("button",{onClick:()=>S(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create New Assistant"]})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:u.map(e=>(0,t.jsx)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all cursor-pointer",onClick:()=>b(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===e.status?"bg-green-500/20 text-green-400":"testing"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"AI Model"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.ai_model||"GPT-4"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Language"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.language})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Voice"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.voice_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Total Calls"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.total_calls})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Success Rate"}),(0,t.jsxs)("div",{className:"text-sm font-semibold text-green-400",children:[e.total_calls>0?(e.successful_calls/e.total_calls*100).toFixed(1):0,"%"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation();if(b(e),em({agent_name:e.name||e.agent_name||"",agent_description:e.description||e.agent_description||"",tags:[],ai_model:e.ai_model||"gpt-4",ai_provider:e.ai_provider||"openai",credential:"",stt_provider:e.stt_provider||"deepgram",tts_provider:e.voice_provider||"elevenlabs",telephony_provider:"twilio",voice_provider:e.voice_provider||"elevenlabs",system_prompt:e.prompts?"string"==typeof e.prompts?JSON.parse(e.prompts).system:e.prompts.system:"",status:e.status||"testing"}),eu([{role:"system",content:e.prompts?"string"==typeof e.prompts?JSON.parse(e.prompts).system:e.prompts.system:""}]),e.skills)try{eg("string"==typeof e.skills?JSON.parse(e.skills):e.skills)}catch(e){eg([])}else eg([]);A(!0),X(1)},className:"p-2 text-gray-400 hover:text-[#39FF14] hover:bg-[#024d30] rounded-lg transition-all",children:(0,t.jsx)(j.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),q(e),E(!0),V(!1),J(!1),Q([]),et("neutral"),ea([]),er(0),eo(null)},className:"p-2 text-gray-400 hover:text-green-400 hover:bg-[#024d30] rounded-lg transition-all",title:"Test Voice Assistant",children:(0,t.jsx)(e2.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-400 hover:bg-[#024d30] rounded-lg transition-all",children:(0,t.jsx)(v.default,{className:"w-5 h-5"})})]})]})},e.id))})]});case"endpoints":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(R.Network,{className:"w-8 h-8 text-[#39FF14]"}),"API Endpoints"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Secure API endpoints with governance and access control"})]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Endpoint"]})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Voice Agent API"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"RESTful API for voice agent interactions"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-bold rounded",children:"POST"}),(0,t.jsx)("code",{className:"text-[#39FF14]",children:"/api/v1/agents/call"})]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Initiate a voice call with an AI agent"})]}),(0,t.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs font-bold rounded",children:"GET"}),(0,t.jsx)("code",{className:"text-[#39FF14]",children:"/api/v1/agents/:id"})]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Get agent configuration and status"})]}),(0,t.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs font-bold rounded",children:"PUT"}),(0,t.jsx)("code",{className:"text-[#39FF14]",children:"/api/v1/agents/:id"})]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Update agent configuration"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Requests"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:"12,458"}),(0,t.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"↑ 23% from last week"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Avg Response Time"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:"145ms"}),(0,t.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"↓ 12% faster"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Error Rate"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:"0.3%"}),(0,t.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"↓ 0.2% improvement"})]})]})]});case"knowledge":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(e1.BookOpen,{className:"w-8 h-8 text-[#39FF14]"}),"Knowledge Base"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage training data and documentation for your AI agents"})]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Knowledge"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-[#39FF14]/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(o.FileText,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Documentation"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"24 documents"})]})]}),(0,t.jsx)("button",{className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14]",children:"View all →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(D.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"FAQs"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"156 questions"})]})]}),(0,t.jsx)("button",{className:"text-green-400 font-semibold text-sm hover:text-green-300",children:"View all →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-[#39FF14]/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(Z.Globe,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Web Sources"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"12 websites"})]})]}),(0,t.jsx)("button",{className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14]",children:"View all →"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-[#39FF14]/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(P.Code,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"API Integrations"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"8 endpoints"})]})]}),(0,t.jsx)("button",{className:"text-[#39FF14] font-semibold text-sm hover:text-[#39FF14]",children:"View all →"})]})]})]});case"models":return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(ty.default,{className:"w-8 h-8 text-[#39FF14]"}),"Integration Models"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Available AI models and service providers for your voice assistants"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Language Models"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:sH.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.models.length," models available"]})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.models.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#024d30] text-gray-300 rounded text-xs font-mono",children:e},e))})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Speech-to-Text Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:sJ.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Text-to-Speech Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:sY.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Telephony Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:sQ.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})]})]});case"observability":let s;return(s={"llm-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"LLM Request Logs"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"GPT-4 Request"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),(0,t.jsx)("span",{className:"text-[#39FF14] font-semibold",children:"124ms"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Tokens: 450 input / 230 output"})]},e))})]}),"tool-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Tool Execution Logs"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sK.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"API Call Tool"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"5 minutes ago"})]}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"Success"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Function: fetch_customer_data"})]},e))})]}),"webhook-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Webhook Activity"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sW.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Call Completed"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"10 minutes ago"})]}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"200 OK"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Endpoint: https://api.example.com/webhook"})]},e))})]}),"knowledge-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Knowledge Base Queries"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(D.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Vector Search"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"3 minutes ago"})]}),(0,t.jsx)("span",{className:"text-[#39FF14] font-semibold",children:"45ms"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Results: 5 documents retrieved"})]},e))})]}),"conversation-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Conversation History"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["Call Session #",1e3+e]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"1 hour ago"})]}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"Completed"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Duration: 3m 24s • Turns: 12"})]},e))})]})})[c]||s["llm-logs"];case"integrations":let l;return(l={"external-integrations":(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"External Integrations"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Connect to external services and APIs"})]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Integration"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:["Salesforce CRM","Zendesk","Slack","HubSpot"].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30] flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-[#39FF14]/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Connected"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-[#024d30] rounded-lg transition-all",children:(0,t.jsx)(d.Settings,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg font-semibold text-sm",children:"Active"})]})]},e))})]}),credentials:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"API Credentials"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage API keys and authentication"})]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Generate Key"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:["Production API Key","Development API Key","Test API Key"].map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e})]}),(0,t.jsx)("button",{className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(v.default,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"bg-[#013221] rounded p-3 font-mono text-sm text-gray-400 mb-3",children:["sk_live_••••••••••••••••",String(Math.random()).slice(2,6)]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Created ",s+1," months ago • Last used 2 days ago"]})]},e))})]})})[c]||l["external-integrations"];case"organizations":let h;return(h={"users-teams":(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Users and Teams"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage team members and permissions"})]}),(0,t.jsxs)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Invite User"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:["John Doe","Jane Smith","Mike Johnson"].map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30] flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-[#39FF14] to-[#32e012] rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold",children:e[0]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:["Admin","Developer","Developer"][s]})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg font-semibold text-sm",children:"Active"})]},e))})]}),projects:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Projects"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Organize your voice agents by project"})]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Project"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:["Customer Support","Sales Automation","Internal Tools"].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(sX.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"3 agents • 2 team members"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{className:"text-[#39FF14] hover:text-[#39FF14] text-sm font-semibold",children:"View agents →"})})]},e))})]})})[c]||h["users-teams"]}})()})}),F&&(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex",children:[(0,t.jsxs)("div",{className:"w-80 bg-gray-50 border-r border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Setup Progress"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Complete all steps to create new assistant"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${G>=1?"bg-[#39FF14] text-black":"bg-slate-700 text-slate-400"}`,children:G>1?(0,t.jsx)(eT.default,{className:"w-5 h-5"}):"01"}),(0,t.jsx)("div",{className:`w-0.5 h-16 ${G>1?"bg-[#39FF14]":"bg-slate-700"}`})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 1"}),(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Configuration"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Select the llm you want to use for your assistant."})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${G>=2?"bg-[#39FF14] text-black":"bg-slate-700 text-slate-400"}`,children:G>2?(0,t.jsx)(eT.default,{className:"w-5 h-5"}):"02"}),(0,t.jsx)("div",{className:`w-0.5 h-16 ${G>2?"bg-[#39FF14]":"bg-slate-700"}`})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 2"}),(0,t.jsx)("p",{className:`font-semibold mb-1 ${G>=2?"text-[#39FF14]":"text-slate-400"}`,children:"Tools (optional)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Let your assistant work with given differnt tools on behalf of you"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${G>=3?"bg-[#39FF14] text-black":"bg-slate-700 text-slate-400"}`,children:G>3?(0,t.jsx)(eT.default,{className:"w-5 h-5"}):"03"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 3"}),(0,t.jsx)("p",{className:`font-semibold mb-1 ${G>=3?"text-[#39FF14]":"text-slate-400"}`,children:"Profile"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Provide the name, a brief description, and relevant tags for your assistant to help identify and categorize it."})]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,t.jsx)("span",{children:"Deployment"}),(0,t.jsx)(I.ChevronRight,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Assistant"}),(0,t.jsx)(I.ChevronRight,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:"Create-Assistant"})]})}),(0,t.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[1===G&&(0,t.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex gap-3",children:[(0,t.jsx)($.Info,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("p",{className:"text-sm text-yellow-800",children:"Rapida Assistant enables you to deploy intelligent conversational agents across multiple channels."})}),(0,t.jsx)("a",{href:"#",className:"text-sm text-yellow-700 hover:text-yellow-800 font-semibold whitespace-nowrap",children:"Read documentation →"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Provider Model"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("select",{value:ex.ai_provider,onChange:e=>{let t=sH.find(t=>t.id===e.target.value);em({...ex,ai_provider:e.target.value,ai_model:t?.models[0]||""})},className:"bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sH.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)("select",{value:ex.ai_model,onChange:e=>em({...ex,ai_model:e.target.value}),className:"bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sH.find(e=>e.id===ex.ai_provider)?.models.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Credential"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:ex.credential,onChange:e=>em({...ex,credential:e.target.value}),className:"flex-1 bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:"Select credential"}),(0,t.jsx)("option",{value:"default",children:"Default Credential"})]}),(0,t.jsx)("button",{className:"p-2.5 border border-gray-300 rounded-lg hover:bg-gray-50",children:(0,t.jsx)(d.Settings,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsx)("button",{className:"p-2.5 border border-gray-300 rounded-lg hover:bg-gray-50",children:(0,t.jsx)(_.default,{className:"w-5 h-5 text-gray-600"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Instruction"}),eh.map((e,s)=>(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsxs)("select",{value:e.role,onChange:e=>eM(s,"role",e.target.value),className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 text-sm",children:[(0,t.jsx)("option",{value:"system",children:"System"}),(0,t.jsx)("option",{value:"user",children:"User"})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,t.jsx)("button",{onClick:()=>{eu(eh.filter((e,t)=>t!==s))},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:(0,t.jsx)(tN.default,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("textarea",{value:e.content,onChange:e=>eM(s,"content",e.target.value),placeholder:"Write your prompt here. enter {{variable}} to insert a variable.",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 min-h-32"})]},s)),(0,t.jsxs)("button",{onClick:()=>{eu([...eh,{role:"user",content:""}])},className:"text-[#39FF14] hover:text-[#32e012] font-semibold text-sm flex items-center gap-2",children:["Add new message",(0,t.jsx)(_.default,{className:"w-4 h-4"})]})]})]}),2===G&&(0,t.jsx)("div",{className:"space-y-6 max-w-3xl",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Configure Tools"}),ep.length>0&&(0,t.jsx)("div",{className:"space-y-3 mb-4",children:ep.map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-3 mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Action: ",e.action]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Retrieval: ",e.retrievalSetting]})]})]}),(0,t.jsx)("button",{onClick:()=>eg(ep.filter((e,t)=>t!==s)),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})},s))}),(0,t.jsxs)("button",{onClick:()=>ef(!0),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 w-full hover:border-[#39FF14] hover:bg-[#39FF14]/5 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-[#39FF14] font-semibold",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Tool"]})]})}),3===G&&(0,t.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),(0,t.jsx)("input",{type:"text",value:ex.agent_name,onChange:e=>em({...ex,agent_name:e.target.value}),placeholder:"e.g., assistant-pay-tales-how",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Provide a name, that will appear in the assistant list and help identify it."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{value:ex.agent_description,onChange:e=>em({...ex,agent_description:e.target.value}),placeholder:"What's the purpose of the assistant?",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 h-24"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Provide a description to explain what this assistant is about."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags (Optional)"}),(0,t.jsx)("div",{className:"flex gap-2 mb-2",children:(0,t.jsx)("input",{type:"text",value:eN,onChange:e=>ey(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),void(eN.trim()&&!ex.tags.includes(eN.trim())&&(em({...ex,tags:[...ex.tags,eN.trim()]}),ey("")))),placeholder:"Add tags",className:"flex-1 bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"})}),ex.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:ex.tags.map((e,s)=>(0,t.jsxs)("span",{className:"bg-[#39FF14]/20 text-[#39FF14] px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{onClick:()=>{em({...ex,tags:ex.tags.filter(t=>t!==e)})},className:"hover:text-[#32e012]",children:(0,t.jsx)(y.X,{className:"w-3 h-3"})})]},s))}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Add tags to organize and locate items more efficiently. Separate tags with commas and press Enter to add them."})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[G>1&&(0,t.jsx)("button",{onClick:()=>K(G-1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Back"}),G<3?(0,t.jsxs)("button",{onClick:()=>K(G+1),className:"px-6 py-2.5 bg-[#39FF14] text-black rounded-lg font-semibold hover:bg-[#32e012] flex items-center gap-2",children:["Continue",(0,t.jsx)(I.ChevronRight,{className:"w-5 h-5"})]}):(0,t.jsxs)("button",{onClick:eF,className:"px-6 py-2.5 bg-[#39FF14] text-black rounded-lg font-semibold hover:bg-[#32e012] flex items-center gap-2",children:["Create assistant",(0,t.jsx)(I.ChevronRight,{className:"w-5 h-5"})]})]})]})]})]}),eb&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto m-4",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Configure Assistant Tool"}),(0,t.jsx)("button",{onClick:()=>ef(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Action"}),(0,t.jsx)("div",{className:"space-y-2",children:[{id:"knowledge_retrieval",label:"Knowledge Retrieval",checked:!0},{id:"api_request",label:"API Request"},{id:"endpoint_llm",label:"Endpoint (LLM Call)"},{id:"put_on_hold",label:"Put On Hold"},{id:"end_conversation",label:"End Of Conversation"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:ej.action===e.id,onChange:()=>ev({...ej,action:e.id}),className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.label})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Retrieval Setting"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"hybrid",label:"Hybrid Search",desc:"Execute full-text search and vector searches simultaneously, re-rank to select the best match for the user's query."},{id:"semantic",label:"Semantic Search",desc:"Generate query embeddings and search for the text chunk most similar to its vector representation."},{id:"fulltext",label:"Full Text Search",desc:"Index all terms in the document, allowing users to search any term and retrieve relevant text chunk containing those terms."}].map(e=>(0,t.jsxs)("button",{onClick:()=>ev({...ej,retrievalSetting:e.id}),className:`text-left p-4 border-2 rounded-lg transition-all ${ej.retrievalSetting===e.id?"border-[#39FF14] bg-[#39FF14]/5":"border-gray-200 hover:border-gray-300"}`,children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900 mb-1 text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:e.desc})]},e.id))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Top K"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"1",max:"20",value:ej.topK,onChange:e=>ev({...ej,topK:parseInt(e.target.value)}),className:"flex-1"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 w-8",children:ej.topK})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Score Threshold"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:ej.scoreThreshold,onChange:e=>ev({...ej,scoreThreshold:parseFloat(e.target.value)}),className:"flex-1"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 w-8",children:ej.scoreThreshold})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Tool Definition"}),(0,t.jsx)("button",{className:"text-xs text-[#39FF14] hover:text-[#32e012]",children:"Collapse"})]}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:["Know more about knowledge tool definiation that can be supported by rapida",(0,t.jsx)("a",{href:"#",className:"ml-2 text-yellow-700 hover:text-yellow-900 font-semibold",children:"Read documentation →"})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,t.jsx)("input",{type:"text",value:ej.name,onChange:e=>ev({...ej,name:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:ej.description,onChange:e=>ev({...ej,description:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 h-20"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),(0,t.jsx)("textarea",{value:ej.parameters,onChange:e=>ev({...ej,parameters:e.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-green-400 font-mono text-sm h-48"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>ef(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{eg([...ep,ej]),ef(!1),ev({name:"knowledge_query",description:"Use this tool to retrieve specific information or data from provided queries before responding.",action:"knowledge_retrieval",retrievalSetting:"hybrid",topK:5,scoreThreshold:.5,parameters:JSON.stringify({properties:{context:{description:"Concise and searchable description of the users query or topic.",type:"string"}}},null,2)})},className:"px-6 py-2.5 bg-[#39FF14] text-black rounded-lg font-semibold hover:bg-[#32e012]",children:"Save tool"})]})]})})]}),M&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Assistant"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Update your voice assistant configuration"})]}),(0,t.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assistant Name"}),(0,t.jsx)("input",{type:"text",value:ex.agent_name,onChange:e=>em({...ex,agent_name:e.target.value}),placeholder:"Enter assistant name",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:ex.agent_description,onChange:e=>em({...ex,agent_description:e.target.value}),placeholder:"Describe your assistant",rows:3,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"AI Provider"}),(0,t.jsx)("select",{value:ex.ai_provider,onChange:e=>em({...ex,ai_provider:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sH.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"AI Model"}),(0,t.jsx)("select",{value:ex.ai_model,onChange:e=>em({...ex,ai_model:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sH.find(e=>e.id===ex.ai_provider)?.models.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"STT Provider"}),(0,t.jsx)("select",{value:ex.stt_provider,onChange:e=>em({...ex,stt_provider:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sJ.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Voice Provider"}),(0,t.jsx)("select",{value:ex.voice_provider,onChange:e=>em({...ex,voice_provider:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sY.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:ex.status,onChange:e=>em({...ex,status:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:[(0,t.jsx)("option",{value:"testing",children:"Testing"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"System Prompt"}),(0,t.jsx)("textarea",{value:ex.system_prompt,onChange:e=>em({...ex,system_prompt:e.target.value}),placeholder:"Enter system prompt for your assistant...",rows:6,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 font-mono text-sm"})]})]})}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:ek,className:"px-6 py-2.5 bg-[#39FF14] text-black rounded-lg font-semibold hover:bg-[#32e012] flex items-center gap-2",children:["Update Assistant",(0,t.jsx)(eT.default,{className:"w-5 h-5"})]})]})]})}),L&&O&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6 text-white flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-white/20 p-3 rounded-xl",children:(0,t.jsx)(t_.default,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:O.name}),(0,t.jsx)("p",{className:"text-green-100 text-sm",children:"Voice Assistant Demo"})]})]}),(0,t.jsx)("button",{onClick:()=>{eS(),E(!1),q(null)},className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]})}),(0,t.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,t.jsx)(td.Mic,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"System Configuration"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"AI Model:"})," ",O.ai_model||"GPT-4"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Voice Type:"})," ",O.voice_type||"Neutral"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Language:"})," ",O.language||"English (US)"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(en.default,{className:"w-5 h-5 text-green-600"}),"Voice Demonstrations"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"English (US)"})]}),(0,t.jsx)("button",{onClick:()=>eC(O.greeting_message||O.system_prompt||"Hello! I am your AI voice assistant. How can I help you today?","en-US"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${U?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',O.greeting_message||O.system_prompt||"Hello! I am your AI voice assistant. How can I help you today?",'"']})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Spanish (ES)"})]}),(0,t.jsx)("button",{onClick:()=>eC("¡Hola! Soy tu asistente de voz con inteligencia artificial. ¿En qué puedo ayudarte hoy?","es-ES"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${U?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"¡Hola! Soy tu asistente de voz con inteligencia artificial. ¿En qué puedo ayudarte hoy?"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"French (FR)"})]}),(0,t.jsx)("button",{onClick:()=>eC("Bonjour! Je suis votre assistant vocal intelligent. Comment puis-je vous aider aujourd'hui?","fr-FR"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${U?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Bonjour! Je suis votre assistant vocal intelligent. Comment puis-je vous aider aujourd\'hui?"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"German (DE)"})]}),(0,t.jsx)("button",{onClick:()=>eC("Hallo! Ich bin Ihr KI-Sprachassistent. Wie kann ich Ihnen heute helfen?","de-DE"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${U?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Hallo! Ich bin Ihr KI-Sprachassistent. Wie kann ich Ihnen heute helfen?"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Chinese (Mandarin)"})]}),(0,t.jsx)("button",{onClick:()=>eC("您好！我是您的人工智能语音助手。今天我能为您做些什么？","zh-CN"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${U?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"您好！我是您的人工智能语音助手。今天我能为您做些什么？"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Japanese"})]}),(0,t.jsx)("button",{onClick:()=>eC("こんにちは！私はあなたのAI音声アシスタントです。今日は何をお手伝いしましょうか？","ja-JP"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${U?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:U?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"こんにちは！私はあなたのAI音声アシスタントです。今日は何をお手伝いしましょうか？"'})]})]})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/5 border border-[#39FF14]/20 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)($.Info,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-[#39FF14]/80",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"Demo Mode"}),(0,t.jsxs)("p",{children:["This is a demonstration using your browser's built-in text-to-speech. In production, this assistant would use ",O.voice_provider||"ElevenLabs"," for high-quality, natural-sounding voices."]})]})]})})]})}),(0,t.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex justify-end flex-shrink-0",children:(0,t.jsx)("button",{onClick:()=>{eS(),E(!1),q(null)},className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700",children:"Close Demo"})})]})})]})}var _=_,p=p,C=C,j=j,k=k,eD=eD,s0=e.i(45433),s0=s0,er=er,t1=t1,s4=e.i(24566),s4=s4,l=l,eT=eT;let s1={casual:s0.default,sales:er.default,marketing:eE.TrendingUp,technical:P.Code,it:t1.default,board:s4.default,client:l.default,friendly:tE.MessageCircle},s2={green:{bg:"bg-green-500",text:"text-green-400",border:"border-green-500"},red:{bg:"bg-red-500",text:"text-red-400",border:"border-red-500"},purple:{bg:"bg-[#39FF14]/20",text:"text-[#39FF14]",border:"border-[#39FF14]"},blue:{bg:"bg-[#39FF14]/20",text:"text-[#39FF14]",border:"border-[#39FF14]"},cyan:{bg:"bg-[#39FF14]/20",text:"text-[#39FF14]",border:"border-[#39FF14]"},gray:{bg:"bg-gray-600",text:"text-gray-400",border:"border-gray-600"},orange:{bg:"bg-[#39FF14]/20",text:"text-[#39FF14]",border:"border-[#39FF14]"}};function s3(){let[e,a]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[n,d]=(0,s.useState)("all"),[c,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[N,w]=(0,s.useState)([]),[F,S]=(0,s.useState)("list");(0,s.useEffect)(()=>{M()},[]),(0,s.useEffect)(()=>{A()},[e,n,c]);let M=async()=>{u(!0);try{let{data:e,error:t}=await h.db.from("meeting_templates").select("*").order("template_category").order("template_name");if(t)throw t;a(e||[])}catch(e){console.error("Error loading templates:",e)}finally{u(!1)}},A=()=>{let t=e;if("all"!==n&&(t=t.filter(e=>e.template_category===n)),c){let e=c.toLowerCase();t=t.filter(t=>t.template_name.toLowerCase().includes(e)||t.template_description?.toLowerCase().includes(e))}i(t)},I=async e=>{try{let{data:t,error:s}=await h.db.from("meeting_template_sections").select("*").eq("template_id",e).order("section_order");if(s)throw s;w(t||[])}catch(e){console.error("Error loading template sections:",e)}},T=async e=>{v(e),await I(e.id),S("view")},D=async e=>{v(e),await I(e.id),S("edit")},R=async e=>{console.log("Copying template:",e.template_name)},L=[{id:"all",label:"All Templates",icon:eD.default},{id:"casual",label:"Casual",icon:s0.default},{id:"sales",label:"Sales",icon:er.default},{id:"marketing",label:"Marketing",icon:eE.TrendingUp},{id:"technical",label:"Technical",icon:P.Code},{id:"it",label:"It",icon:t1.default},{id:"board",label:"Board",icon:s4.default},{id:"client",label:"Client",icon:l.default},{id:"friendly",label:"Friendly",icon:tE.MessageCircle}];if(m)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading Templates..."})]})});if("view"===F&&f){let e;return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("button",{onClick:()=>{S("list"),v(null)},className:"mb-4 text-gray-400 hover:text-white flex items-center gap-2",children:"← Back to Templates"}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-16 h-16 ${s2[f.icon_color].bg} rounded-lg flex items-center justify-center`,children:(e=s1[f.template_category])?(0,t.jsx)(e,{className:"w-8 h-8 text-white"}):(0,t.jsx)(o.FileText,{className:"w-8 h-8 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:f.template_name}),(0,t.jsx)("p",{className:"text-gray-400",children:f.template_description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded capitalize",children:f.template_category}),f.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded",children:"Default"})]})]})]}),(0,t.jsxs)("button",{onClick:()=>D(f),className:"bg-[#39FF14] text-white px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(j.default,{className:"w-4 h-4"}),"Edit Template"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Template Sections (",N.length,")"]}),N.map(e=>(0,t.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.section_title}),e.section_description&&(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:e.section_description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 text-xs rounded capitalize",children:e.section_type.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Order: ",e.section_order]})]})]})})},e.id))]})]})]})}return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#012419] to-[#024d30] rounded-lg p-8 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(o.FileText,{className:"w-8 h-8"}),"Meeting Templates"]}),(0,t.jsx)("p",{className:"text-[#39FF14]",children:"Customize your meeting minutes documents"})]}),(0,t.jsxs)("button",{onClick:()=>b(!0),className:"bg-white text-[#39FF14] px-6 py-3 rounded-lg font-semibold hover:bg-[#39FF14]/10 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Template"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#39FF14] w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search templates...",value:c,onChange:e=>x(e.target.value),className:"w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg pl-12 pr-4 py-3 text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:L.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>d(e.id),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${n===e.id?"bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.label]},e.id)})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>{let s=s1[e.template_category]||o.FileText,a=s2[e.icon_color]||s2.blue;return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:`w-14 h-14 ${a.bg} rounded-lg flex items-center justify-center flex-shrink-0`,children:(0,t.jsx)(s,{className:"w-7 h-7 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.template_name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded capitalize flex items-center gap-1",children:["casual"===e.template_category&&(0,t.jsx)(s0.default,{className:"w-3 h-3"}),"sales"===e.template_category&&(0,t.jsx)(er.default,{className:"w-3 h-3"}),"marketing"===e.template_category&&(0,t.jsx)(eE.TrendingUp,{className:"w-3 h-3"}),"technical"===e.template_category&&(0,t.jsx)(P.Code,{className:"w-3 h-3"}),"it"===e.template_category&&(0,t.jsx)(t1.default,{className:"w-3 h-3"}),"board"===e.template_category&&(0,t.jsx)(s4.default,{className:"w-3 h-3"}),"client"===e.template_category&&(0,t.jsx)(l.default,{className:"w-3 h-3"}),"friendly"===e.template_category&&(0,t.jsx)(tE.MessageCircle,{className:"w-3 h-3"}),e.template_category]}),e.is_default&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded flex items-center gap-1",children:[(0,t.jsx)(eD.default,{className:"w-3 h-3"}),"Default"]})]})]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:e.template_description}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:[e.sections_count," sections included"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>T(e),className:"flex-1 bg-[#39FF14]/20 text-[#39FF14] px-4 py-2 rounded-lg hover:bg-[#39FF14]/30 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(C.default,{className:"w-4 h-4"}),"View"]}),(0,t.jsxs)("button",{onClick:()=>D(e),className:"flex-1 bg-[#39FF14]/20 text-[#39FF14] px-4 py-2 rounded-lg hover:bg-[#39FF14]/30 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(j.default,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsx)("button",{onClick:()=>R(e),className:"bg-gray-700 text-gray-300 p-2 rounded-lg hover:bg-gray-600 transition-colors",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})})]})]},e.id)})}),0===r.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.FileText,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-400 mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:c?"Try adjusting your search terms":"Create your first meeting template to get started"}),(0,t.jsxs)("button",{onClick:()=>b(!0),className:"bg-[#39FF14] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#32e012] transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Template"]})]}),g&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Template"}),(0,t.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Sprint Planning Meeting",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{placeholder:"Describe the purpose of this template...",rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,t.jsxs)("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"casual",children:"Casual"}),(0,t.jsx)("option",{value:"sales",children:"Sales"}),(0,t.jsx)("option",{value:"marketing",children:"Marketing"}),(0,t.jsx)("option",{value:"technical",children:"Technical"}),(0,t.jsx)("option",{value:"it",children:"IT"}),(0,t.jsx)("option",{value:"board",children:"Board"}),(0,t.jsx)("option",{value:"client",children:"Client"}),(0,t.jsx)("option",{value:"friendly",children:"Friendly"}),(0,t.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Set as default template"})]})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>b(!1),className:"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{b(!1)},className:"flex-1 bg-[#39FF14] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(eT.default,{className:"w-5 h-5"}),"Create Template"]})]})]})]})})]})}var f=f,tv=tv,en=en,l=l,tF=tF,tY=tY;function s5({onClose:e,onSuccess:a}){let[r,i]=(0,s.useState)({meetingTitle:"",description:"",meetingLink:"",referenceId:"",meetingDate:"",meetingTime:"",meetingPlatform:"direct_recording",documentTemplateId:"",documentLanguage:"english",transcriptionLanguage:"auto-detect",enableTranslation:!1,participantEmails:[]}),[n,d]=(0,s.useState)({liveTranscription:!0,microphoneDevice:"default",speakerDiarization:!0,languageEnhancement:!0,echoCancellation:!1,volumeNormalization:!1,voiceIsolation:!1,noiseReductionLevel:"medium"}),[c,x]=(0,s.useState)([]),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),[w,_]=(0,s.useState)("ready");(0,s.useEffect)(()=>{F()},[]);let F=async()=>{try{let{data:e,error:t}=await h.db.from("meeting_templates").select("id, template_name, template_category").order("template_name");if(t)throw t;if(x(e||[]),e&&e.length>0){let t=e.find(e=>e.template_name.includes("Board"));t&&i(e=>({...e,documentTemplateId:t.id}))}}catch(e){console.error("Error loading templates:",e)}},k=(e,t)=>{i(s=>({...s,[e]:t}))},C=(e,t)=>{d(s=>({...s,[e]:t}))},S=()=>{u&&u.includes("@")&&(r.participantEmails.includes(u)||i(e=>({...e,participantEmails:[...e.participantEmails,u]})),p(""))},M=async()=>{if(!r.meetingTitle)return void v("Meeting title is required");b(!0),v("");try{let t=null;r.meetingDate&&r.meetingTime&&(t=new Date(`${r.meetingDate}T${r.meetingTime}`).toISOString());let{data:s,error:l}=await h.db.from("meetings").insert({meeting_title:r.meetingTitle,meeting_description:r.description||null,meeting_type:"scheduled",meeting_link:r.meetingLink||null,reference_id:r.referenceId||null,scheduled_start_time:t,meeting_platform:r.meetingPlatform,document_template_id:r.documentTemplateId||null,document_language:r.documentLanguage,transcription_language:r.transcriptionLanguage,enable_translation:r.enableTranslation,translation_target_language:r.enableTranslation?"english":null,participant_emails:r.participantEmails.length>0?r.participantEmails:null,meeting_status:"scheduled"}).select().single();if(l)throw l;let{error:i}=await h.db.from("meeting_audio_settings").insert({meeting_id:s.id,live_transcription_enabled:n.liveTranscription,microphone_device:n.microphoneDevice,websocket_transcription_enabled:!0,speaker_diarization_enabled:n.speakerDiarization,language_enhancement_enabled:n.languageEnhancement,echo_cancellation_enabled:n.echoCancellation,volume_normalization_enabled:n.volumeNormalization,voice_isolation_enabled:n.voiceIsolation,noise_reduction_level:n.noiseReductionLevel});if(i)throw i;if(r.participantEmails.length>0){let e=r.participantEmails.map(e=>({meeting_id:s.id,participant_email:e,notify_on_transcript:!0})),{error:t}=await h.db.from("meeting_participants_list").insert(e);if(t)throw t}a(),e()}catch(e){console.error("Error scheduling meeting:",e),v(e.message||"Failed to schedule meeting")}finally{b(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-6xl w-full my-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Schedule New Meeting"}),(0,t.jsx)("button",{onClick:e,className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),j&&(0,t.jsxs)("div",{className:"mb-4 bg-red-500/10 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-red-200",children:j})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Meeting Title ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Weekly Team Sync, Client Discovery Call",value:r.meetingTitle,onChange:e=>k("meetingTitle",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{placeholder:"Brief overview of the meeting objective...",value:r.description,onChange:e=>k("description",e.target.value),rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(tv.default,{className:"w-4 h-4"}),"Meeting Link/ID (Optional)"]}),(0,t.jsx)("input",{type:"text",placeholder:"https://zoom.us/j/123456789 or Meeting ID",value:r.meetingLink,onChange:e=>k("meetingLink",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(sm.Hash,{className:"w-4 h-4"}),"Reference ID (Optional)"]}),(0,t.jsx)("input",{type:"text",placeholder:"Internal ID or code",value:r.referenceId,onChange:e=>k("referenceId",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),"Meeting Date (Optional)"]}),(0,t.jsx)("input",{type:"date",value:r.meetingDate,onChange:e=>k("meetingDate",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),"Meeting Time (Optional)"]}),(0,t.jsx)("input",{type:"time",value:r.meetingTime,onChange:e=>k("meetingTime",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(eR.Video,{className:"w-4 h-4"}),"Meeting Platform"]}),(0,t.jsxs)("select",{value:r.meetingPlatform,onChange:e=>k("meetingPlatform",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"direct_recording",children:"Direct Recording"}),(0,t.jsx)("option",{value:"zoom",children:"Zoom"}),(0,t.jsx)("option",{value:"google_meet",children:"Google Meet"}),(0,t.jsx)("option",{value:"microsoft_teams",children:"Microsoft Teams"}),(0,t.jsx)("option",{value:"webex",children:"Webex"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Document Template"]}),(0,t.jsx)("select",{value:r.documentTemplateId,onChange:e=>k("documentTemplateId",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:c.map(e=>(0,t.jsx)("option",{value:e.id,children:e.template_name},e.id))}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Template for meeting minutes document"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4"}),"Document Language"]}),(0,t.jsxs)("select",{value:r.documentLanguage,onChange:e=>k("documentLanguage",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"english",children:"English"}),(0,t.jsx)("option",{value:"malay",children:"Bahasa Melayu"}),(0,t.jsx)("option",{value:"chinese",children:"Chinese"}),(0,t.jsx)("option",{value:"tamil",children:"Tamil"}),(0,t.jsx)("option",{value:"spanish",children:"Spanish"}),(0,t.jsx)("option",{value:"french",children:"French"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Language for meeting minutes document"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(en.default,{className:"w-4 h-4"}),"Transcription Language"]}),(0,t.jsxs)("select",{value:r.transcriptionLanguage,onChange:e=>k("transcriptionLanguage",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"auto-detect",children:"Auto-Detect (Recommended for Mixed Languages)"}),(0,t.jsx)("option",{value:"english",children:"English"}),(0,t.jsx)("option",{value:"malay",children:"Bahasa Melayu"}),(0,t.jsx)("option",{value:"chinese",children:"Chinese"}),(0,t.jsx)("option",{value:"mixed",children:"Mixed (English + Bahasa Melayu)"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically detect language (supports English + Bahasa Malay mixed conversations)"})]})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:r.enableTranslation,onChange:e=>k("enableTranslation",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable Translation to English"}),(0,t.jsx)("p",{className:"text-sm text-[#39FF14] mt-1",children:"Translate non-English speech to English"}),r.enableTranslation&&(0,t.jsx)("p",{className:"text-xs text-[#39FF14] mt-2 italic",children:"When enabled, Malay speech will be transcribed in Malay and automatically translated to English"})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),"Participants (Optional)"]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{type:"email",placeholder:"email@example.com",value:u,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&S(),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"}),(0,t.jsx)("button",{onClick:S,className:"bg-[#39FF14] text-white px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors",children:"Add"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"✓ All participants with email addresses will automatically receive a notification when the meeting transcript is ready"}),r.participantEmails.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.participantEmails.map(e=>(0,t.jsxs)("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{onClick:()=>{i(t=>({...t,participantEmails:t.participantEmails.filter(t=>t!==e)}))},className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-3 h-3"})})]},e))}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Participants will receive an email with the transcript when the meeting is complete"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(tF.default,{className:"w-5 h-5 text-red-400"}),"Real-Time Audio Capture"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"Live Transcription"}),(0,t.jsx)("input",{type:"checkbox",checked:n.liveTranscription,onChange:e=>C("liveTranscription",e.target.checked),className:"w-4 h-4 rounded"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(td.Mic,{className:"w-4 h-4"}),"Microphone Device"]}),(0,t.jsxs)("select",{value:n.microphoneDevice,onChange:e=>C("microphoneDevice",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"default",children:"MacBook Pro Microphone (Built-in)"}),(0,t.jsx)("option",{value:"external",children:"External Microphone"}),(0,t.jsx)("option",{value:"headset",children:"Headset Microphone"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"}),"Real-time WebSocket transcription enabled - powered by Teleaon AI"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-5 h-5"}),"Audio Processing Settings"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.speakerDiarization,onChange:e=>C("speakerDiarization",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Speaker Diarization"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Identify speakers"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.languageEnhancement,onChange:e=>C("languageEnhancement",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Language Enhancement"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Context-aware AI"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.echoCancellation,onChange:e=>C("echoCancellation",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Echo Cancellation"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Remove echo"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.volumeNormalization,onChange:e=>C("volumeNormalization",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Volume Normalization"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Auto-adjust levels"})]})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.voiceIsolation,onChange:e=>C("voiceIsolation",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Voice Isolation"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-[#39FF14] text-black text-xs rounded font-bold",children:"PRO"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"AI voice extraction"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Noise Reduction Level"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["low","medium","high","aggressive"].map(e=>(0,t.jsx)("button",{onClick:()=>C("noiseReductionLevel",e),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n.noiseReductionLevel===e?"bg-[#39FF14] text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 text-center",children:[(0,t.jsx)(td.Mic,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Ready to Record"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Recording will be transcribed with speaker identification, action items, and insights"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{disabled:!0,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black px-6 py-3 rounded-lg font-semibold opacity-50 cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(td.Mic,{className:"w-5 h-5"}),"Start Recording"]}),(0,t.jsxs)("button",{disabled:!0,className:"flex-1 bg-gray-600 text-gray-300 px-6 py-3 rounded-lg font-semibold opacity-50 cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(tY.default,{className:"w-5 h-5"}),"Upload File"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Recording features will be available after scheduling"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:e,disabled:g,className:"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:M,disabled:g||!r.meetingTitle,className:"flex-1 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Scheduling..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}),"Schedule Meeting"]})})]})]})})}var tT=tT,tD=tD,ew=ew,tR=tR,l=l,g=g,s9=e.i(95828),s9=s9,tN=tN,t_=t_,sE=sE;let s6=({meetingId:e,meetingTitle:a,onLeave:r})=>{let i,n,[o,c]=(0,s.useState)([]),[x,u]=(0,s.useState)([]),[p,b]=(0,s.useState)(!0),[f,j]=(0,s.useState)(!0),[v,N]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!0),[_,F]=(0,s.useState)("participants"),[k,C]=(0,s.useState)(80),[S,M]=(0,s.useState)(80),[A,I]=(0,s.useState)(0);(0,s.useEffect)(()=>{P(),D();let e=setInterval(()=>{I(e=>e+1)},1e3),t=setInterval(()=>{D()},5e3);return()=>{clearInterval(e),clearInterval(t)}},[e]);let P=async()=>{try{let{data:t,error:s}=await h.db.from("meeting_participants").select("*").eq("meeting_id",e).order("role",{ascending:!1});if(s)throw s;c(t||[])}catch(e){console.error("Error loading participants:",e)}},D=async()=>{try{let{data:t,error:s}=await h.db.from("meeting_transcripts").select("*").eq("meeting_id",e).order("segment_number",{ascending:!0});if(s)throw s;u(t||[])}catch(e){console.error("Error loading transcripts:",e)}};return(0,t.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:a}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),(i=Math.floor(A/3600),n=Math.floor(A%3600/60),`${i.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${(A%60).toString().padStart(2,"0")}`)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),o.length," participants"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),(0,t.jsx)("span",{className:"text-sm font-semibold text-red-500",children:"LIVE"})]})]})]}),(0,t.jsx)("button",{onClick:()=>w(!y),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.default,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-1 bg-black p-4 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-full max-w-6xl",children:[(0,t.jsxs)("div",{className:"col-span-2 relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-[#39FF14] to-[#32e012] flex items-center justify-center text-black text-4xl font-bold",children:o[0]?.participant_name.charAt(0)||"H"})}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/70 px-3 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4 text-green-400 animate-pulse"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:o[0]?.participant_name||"Host"}),o[0]?.audio_enabled&&(0,t.jsx)(t_.default,{className:"w-4 h-4 text-green-400"}),!o[0]?.audio_enabled&&(0,t.jsx)(sE.default,{className:"w-4 h-4 text-red-400"})]})]}),o.slice(1,5).map((e,s)=>(0,t.jsxs)("div",{className:"relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center text-white text-2xl font-bold",children:e.participant_name.charAt(0)}),(0,t.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-sm flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-white",children:e.participant_name}),e.audio_enabled&&(0,t.jsx)(t_.default,{className:"w-3 h-3 text-green-400"}),!e.audio_enabled&&(0,t.jsx)(sE.default,{className:"w-3 h-3 text-red-400"})]})]},e.id))]})}),y&&(0,t.jsxs)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,t.jsxs)("button",{onClick:()=>F("participants"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"participants"===_?"text-white bg-gray-700 border-b-2 border-[#39FF14]":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,t.jsx)(l.default,{className:"w-4 h-4 mx-auto mb-1"}),"Participants"]}),(0,t.jsxs)("button",{onClick:()=>F("chat"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"chat"===_?"text-white bg-gray-700 border-b-2 border-[#39FF14]":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4 mx-auto mb-1"}),"Chat"]}),(0,t.jsxs)("button",{onClick:()=>F("transcript"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"transcript"===_?"text-white bg-gray-700 border-b-2 border-[#39FF14]":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4 mx-auto mb-1"}),"Transcript"]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:["participants"===_&&(0,t.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#39FF14] to-[#32e012] flex items-center justify-center text-black font-semibold",children:e.participant_name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.participant_name}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.role})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[e.audio_enabled?(0,t.jsx)(td.Mic,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(tD.default,{className:"w-4 h-4 text-red-400"}),e.video_enabled?(0,t.jsx)(eR.Video,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(tT.default,{className:"w-4 h-4 text-red-400"})]})]},e.id))}),"chat"===_&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Sarah Johnson"}),(0,t.jsx)("div",{className:"text-white text-sm",children:"Great discussion everyone!"})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Participant A"}),(0,t.jsx)("div",{className:"text-white text-sm",children:"Agreed, very productive session."})]})]}),"transcript"===_&&(0,t.jsx)("div",{className:"space-y-3",children:x.length>0?x.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.speaker_name}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[Math.floor(e.start_time_seconds/60),":",(e.start_time_seconds%60).toString().padStart(2,"0")]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:e.transcript_text}),e.is_question&&(0,t.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded",children:"Question"})]},e.id)):(0,t.jsxs)("div",{className:"text-center text-gray-400 py-8",children:[(0,t.jsx)(T.MessageSquare,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"Live transcription will appear here"})]})})]})]})]}),(0,t.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-700 rounded-lg px-3 py-2",children:[(0,t.jsx)(t_.default,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:k,onChange:e=>C(Number(e.target.value)),className:"w-20 accent-blue-500"}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 w-8",children:[k,"%"]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>j(!f),className:`p-4 rounded-full transition-colors ${f?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"}`,children:f?(0,t.jsx)(td.Mic,{className:"w-5 h-5 text-white"}):(0,t.jsx)(tD.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{onClick:()=>b(!p),className:`p-4 rounded-full transition-colors ${p?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"}`,children:p?(0,t.jsx)(eR.Video,{className:"w-5 h-5 text-white"}):(0,t.jsx)(tT.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{onClick:()=>N(!v),className:`p-4 rounded-full transition-colors ${v?"bg-[#39FF14] hover:bg-[#32e012]":"bg-gray-700 hover:bg-gray-600"}`,children:v?(0,t.jsx)(tR.default,{className:"w-5 h-5 text-white"}):(0,t.jsx)(ew.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to leave this meeting?")&&r()},className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors",children:(0,t.jsx)(eb.Phone,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,t.jsx)(s9.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,t.jsx)(tN.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,t.jsx)(d.Settings,{className:"w-5 h-5 text-white"})})]})]})})]})};var l=l,f=f,e2=e2,s8=e.i(18975),s8=s8,ty=ty,s7=e.i(72639),s7=s7,x=x,_=_,j=j,v=v,sL=sL,L=L,e$=e$,p=p,tv=tv,ae=e.i(76886),ae=ae,at=e.i(87170),at=at;function as(){let[e,a]=(0,s.useState)("upcoming"),[r,i]=(0,s.useState)(!1),[n,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),[g,b]=(0,s.useState)([]),[y,w]=(0,s.useState)(null),[F,k]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[M,A]=(0,s.useState)([]),[I,P]=(0,s.useState)([]),[D,R]=(0,s.useState)(null),[E,$]=(0,s.useState)([]);(0,s.useEffect)(()=>{O()},[]),(0,s.useEffect)(()=>{y&&q()},[y]);let O=async()=>{i(!0);try{let{data:e,error:t}=await h.db.from("meetings").select("*").order("scheduled_start_time",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[]}));b(s),s.length>0&&!y&&w(s[0].id)}catch(e){console.error("Error loading meetings:",e)}finally{i(!1)}},q=async()=>{y&&await Promise.all([U(),V(),B(),z(),G(),K()])},U=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_participants").select("*").eq("meeting_id",y).order("joined_at",{ascending:!1});if(t)throw t;k(e||[])}catch(e){console.error("Error loading participants:",e)}},V=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_transcripts").select("*").eq("meeting_id",y).order("segment_number");if(t)throw t;let s=(e||[]).map(e=>({...e,keywords:"string"==typeof e.keywords?JSON.parse(e.keywords):e.keywords||[],topics:"string"==typeof e.topics?JSON.parse(e.topics):e.topics||[]}));S(s)}catch(e){console.error("Error loading transcripts:",e)}},B=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_action_items").select("*").eq("meeting_id",y).order("priority",{ascending:!1});if(t)throw t;A(e||[])}catch(e){console.error("Error loading action items:",e)}},z=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_summaries").select("*").eq("meeting_id",y);if(t)throw t;let s=(e||[]).map(e=>({...e,key_points:"string"==typeof e.key_points?JSON.parse(e.key_points):e.key_points||[],decisions_made:"string"==typeof e.decisions_made?JSON.parse(e.decisions_made):e.decisions_made||[],next_steps:"string"==typeof e.next_steps?JSON.parse(e.next_steps):e.next_steps||[]}));P(s)}catch(e){console.error("Error loading summaries:",e)}},G=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_analytics").select("*").eq("meeting_id",y).maybeSingle();if(t)throw t;R(e)}catch(e){console.error("Error loading analytics:",e)}},K=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_ai_insights").select("*").eq("meeting_id",y).order("importance_score",{ascending:!1});if(t)throw t;$(e||[])}catch(e){console.error("Error loading AI insights:",e)}},W=e=>{let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`};if(r)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading Meetings AI..."})]})});let X=g.find(e=>e.id===y),H=g.filter(e=>"scheduled"===e.status),J=g.filter(e=>"live"===e.status),Y=g.filter(e=>"ended"===e.status);return c?(0,t.jsx)(s6,{meetingId:c.id,meetingTitle:c.meeting_title,onLeave:()=>u(null)}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eR.Video,{className:"w-8 h-8 text-[#39FF14]"}),"Meetings AI"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"AI-powered meeting platform with real-time transcription, summaries, and insights"})]}),(0,t.jsxs)("button",{onClick:()=>d(!0),className:"bg-[#39FF14] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Schedule Meeting"]})]})}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>a("upcoming"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"upcoming"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),"Upcoming (",H.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("live"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"live"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Live (",J.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("past"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"past"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"}),"Past (",Y.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("templates"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"templates"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(at.default,{className:"w-4 h-4"}),"Templates"]}),X&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>a("transcript"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"transcript"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(T.MessageSquare,{className:"w-4 h-4"}),"Transcript"]}),(0,t.jsxs)("button",{onClick:()=>a("summary"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"summary"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(o.FileText,{className:"w-4 h-4"}),"Summary"]}),(0,t.jsxs)("button",{onClick:()=>a("actions"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"actions"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(s7.default,{className:"w-4 h-4"}),"Actions (",M.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("insights"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"insights"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(ty.default,{className:"w-4 h-4"}),"AI Insights"]}),(0,t.jsxs)("button",{onClick:()=>a("analytics"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"analytics"===e?"bg-[#39FF14] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(e7.BarChart3,{className:"w-4 h-4"}),"Analytics"]})]})]}),("upcoming"===e||"live"===e||"past"===e)&&(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:("upcoming"===e?H:"live"===e?J:Y).map(e=>(0,t.jsxs)("div",{onClick:()=>w(e.id),className:`bg-gray-800 rounded-lg p-6 cursor-pointer transition-all hover:bg-gray-750 ${y===e.id?"ring-2 ring-[#39FF14]":""}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.meeting_title}),(0,t.jsx)("span",{className:`px-3 py-1 rounded text-xs font-semibold ${"live"===e.status?"bg-green-500/20 text-green-400 animate-pulse":"scheduled"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"ended"===e.status?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:"live"===e.status?"Live Now":e.status}),e.enable_ai_summary&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] text-xs rounded flex items-center gap-1",children:[(0,t.jsx)(e$.default,{className:"w-3 h-3"}),"AI Enabled"]})]}),(0,t.jsx)("p",{className:"text-gray-400 mb-3",children:e.meeting_description}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),new Date(e.scheduled_start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),"Host: ",e.host_name]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(s8.default,{className:"w-4 h-4"}),e.meeting_type]}),e.duration_minutes&&(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"}),e.duration_minutes," min"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:["live"===e.status&&(0,t.jsxs)("button",{onClick:()=>u(e),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Join"]}),"scheduled"===e.status&&(0,t.jsxs)("button",{className:"bg-[#39FF14] text-white px-4 py-2 rounded-lg font-semibold hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(tv.default,{className:"w-4 h-4"}),"Join Link"]})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:e},s))})]},e.id))}),"transcript"===e&&X&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(T.MessageSquare,{className:"w-5 h-5 text-[#39FF14]"}),"Real-Time Transcript"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Export"]}),(0,t.jsxs)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,t.jsx)(p.default,{className:"w-4 h-4"}),"Search"]})]})]}),(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:C.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:e.speaker_name}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:W(e.start_time_seconds)}),e.sentiment&&(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"positive"===e.sentiment?"bg-green-500/20 text-green-400":"negative"===e.sentiment?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:e.sentiment}),e.is_question&&(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] text-xs rounded",children:"Question"})]})}),(0,t.jsx)("p",{className:"text-gray-200 mb-2",children:e.transcript_text}),e.keywords&&e.keywords.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.keywords.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-600 text-gray-300 text-xs rounded",children:e},s))})]},e.id))})]})}),"summary"===e&&X&&I.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:I.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5 text-[#39FF14]"}),"AI-Generated Summary",(0,t.jsxs)("span",{className:"text-sm text-gray-400 font-normal ml-2",children:["(",e.summary_type,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ae.default,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[(100*e.confidence_score).toFixed(0),"% confidence"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Summary"}),(0,t.jsx)("p",{className:"text-gray-200 leading-relaxed",children:e.summary_text})]}),e.key_points&&e.key_points.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Key Points"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.key_points.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400 mt-1 flex-shrink-0"}),e]},s))})]}),e.decisions_made&&e.decisions_made.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Decisions Made"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.decisions_made.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,t.jsx)(L.default,{className:"w-4 h-4 text-yellow-400 mt-1 flex-shrink-0"}),e]},s))})]}),e.next_steps&&e.next_steps.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Next Steps"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.next_steps.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,t.jsx)(sL.default,{className:"w-4 h-4 text-[#39FF14] mt-1 flex-shrink-0"}),e]},s))})]})]})]},e.id))}),"actions"===e&&X&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(s7.default,{className:"w-5 h-5 text-green-400"}),"Action Items"]}),(0,t.jsxs)("button",{className:"bg-[#39FF14] text-white px-4 py-2 rounded-lg hover:bg-[#32e012] transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Action"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:M.map(e=>(0,t.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded font-semibold ${"urgent"===e.priority?"bg-red-500/20 text-red-400":"high"===e.priority?"bg-[#39FF14]/20 text-[#39FF14]":"medium"===e.priority?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.priority}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"task"===e.action_item_type||"decision"===e.action_item_type?"bg-[#39FF14]/20 text-[#39FF14]":"bg-green-500/20 text-green-400"}`,children:e.action_item_type}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"bg-gray-500/20 text-gray-400"}`,children:e.status.replace("_"," ")})]}),(0,t.jsx)("p",{className:"text-white mb-2",children:e.action_item_text}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,t.jsxs)("span",{children:["Assigned to: ",e.assigned_to]}),(0,t.jsxs)("span",{children:["Due: ",new Date(e.due_date).toLocaleDateString()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(ae.default,{className:"w-3 h-3"}),(100*e.confidence_score).toFixed(0),"%"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"text-gray-400 hover:text-white p-2",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-red-400 p-2",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]})},e.id))})]})}),"insights"===e&&X&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-[#012419] to-[#024d30] rounded-lg p-6 mb-4",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(ty.default,{className:"w-7 h-7"}),"AI-Powered Insights"]}),(0,t.jsx)("p",{className:"text-white/80",children:"Intelligent analysis of meeting dynamics, engagement, and outcomes"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:E.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:`p-2 rounded ${"topic"===e.insight_type?"bg-[#39FF14]/20 text-[#39FF14]":"sentiment"===e.insight_type?"bg-green-500/20 text-green-400":"engagement"===e.insight_type?"bg-[#39FF14]/20 text-[#39FF14]":"recommendation"===e.insight_type?"bg-yellow-500/20 text-yellow-400":"bg-[#39FF14]/20 text-[#39FF14]"}`,children:["topic"===e.insight_type&&(0,t.jsx)(T.MessageSquare,{className:"w-5 h-5"}),"sentiment"===e.insight_type&&(0,t.jsx)(m.Activity,{className:"w-5 h-5"}),"engagement"===e.insight_type&&(0,t.jsx)(eE.TrendingUp,{className:"w-5 h-5"}),"recommendation"===e.insight_type&&(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"highlight"===e.insight_type&&(0,t.jsx)(L.default,{className:"w-5 h-5"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.insight_title}),(0,t.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:e.insight_type})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ae.default,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[e.importance_score.toFixed(1),"/10"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4 text-green-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[(100*e.confidence_level).toFixed(0),"%"]})]})]})]}),(0,t.jsx)("p",{className:"text-gray-200",children:e.insight_description})]},e.id))})]}),"analytics"===e&&X&&D&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),"Participants"]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:D.total_participants}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Peak: ",D.peak_concurrent_participants]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,t.jsx)(eE.TrendingUp,{className:"w-4 h-4"}),"Engagement Score"]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:D.engagement_score.toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Out of 10"})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,t.jsx)(s7.default,{className:"w-4 h-4"}),"Action Items"]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:D.action_items_count}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Generated by AI"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Participation Overview"}),(0,t.jsx)("div",{className:"space-y-4",children:F.slice(0,5).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-white font-medium",children:e.participant_name}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:W(e.speaking_time_seconds)})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-[#39FF14]/20 h-2 rounded-full",style:{width:`${e.speaking_time_seconds/D.total_speaking_time_seconds*100}%`}})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:[e.questions_asked," questions"]}),(0,t.jsxs)("span",{children:[e.reactions_count," reactions"]}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded ${"excellent"===e.connection_quality?"bg-green-500/20 text-green-400":"good"===e.connection_quality?"bg-[#39FF14]/20 text-[#39FF14]":"fair"===e.connection_quality?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.connection_quality})]})]},e.id))})]})]}),"templates"===e&&(0,t.jsx)(s3,{}),n&&(0,t.jsx)(s5,{onClose:()=>d(!1),onSuccess:()=>{d(!1),O()}})]})}var v=v,t1=t1,aa=e.i(80127),aa=aa,eT=eT;function al({onNavigate:e}){let{user:a}=(0,Q.useAuth)(),[l,r]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0),[o,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&(g(),p())},[a]);let p=async()=>{let{data:e,error:t}=await h.db.from("payment_methods").select("*").eq("user_id",a?.id).eq("is_primary",!0).maybeSingle();t?console.error("Error loading payment method:",t):e&&(console.log("Loaded payment method:",e),x(e))};(0,s.useEffect)(()=>{if(m){let e=setTimeout(()=>u(null),5e3);return()=>clearTimeout(e)}},[m]);let g=async()=>{n(!0);let{data:e,error:t}=await h.db.from("cart_items").select("*").order("created_at",{ascending:!1});!t&&e&&r(e.map(e=>({...e,item_data:"string"==typeof e.item_data?JSON.parse(e.item_data):e.item_data}))),n(!1)},b=async e=>{let{error:t}=await h.db.from("cart_items").eq("id",e).delete();t||(r(t=>t.filter(t=>t.id!==e)),u({type:"success",message:"Item removed from cart"}))},f=async()=>{let{error:e}=await h.db.from("cart_items").eq("user_id",a?.id).delete();e||(r([]),u({type:"success",message:"Cart cleared"}))},j=async()=>{if(0===l.length||!a)return;let{data:t}=await h.db.from("payment_methods").select("*").eq("user_id",a.id).limit(1);if(!t||0===t.length){u({type:"error",message:"Please add a payment method before checking out."}),setTimeout(()=>{e("billing")},2e3);return}d(!0);let s=`ORD-${Date.now()}-${Math.random().toString(36).substring(7).toUpperCase()}`,r=l.reduce((e,t)=>e+Number(t.total_price),0),i=r+.1*r,{data:n}=await h.db.from("profiles").select("balance").eq("id",a.id).single(),o=(n?.balance||0)-i,{error:c}=await h.db.from("orders").insert({user_id:a.id,order_number:s,status:"completed",total_amount:i,items:JSON.stringify(l),completed_at:new Date().toISOString()});if(c){u({type:"error",message:"Checkout failed. Please try again."}),d(!1);return}let{error:x}=await h.db.from("transactions").insert({user_id:a.id,type:"debit",amount:-i,balance_after:o,description:`Order ${s}`,reference:s,metadata:JSON.stringify({items:l.map(e=>({type:e.item_type,name:N(e),quantity:e.quantity,price:e.unit_price}))})});x&&console.error("Failed to create transaction:",x);let{error:m}=await h.db.from("profiles").eq("id",a.id).update({balance:o});for(let e of(m&&console.error("Failed to update balance:",m),l))if("phone_number"===e.item_type)await h.db.from("phone_numbers").insert({user_id:a.id,phone_number:e.item_data.phone_number,country_code:e.item_data.country_code||"US",number_type:e.item_data.number_type,status:"active",monthly_cost:e.item_data.monthly_cost,setup_cost:e.item_data.setup_cost,business_name:"",business_location:e.item_data.region,capabilities:e.item_data.capabilities||{voice:!0,sms:!0,mms:!1},usage_minutes:0,purchased_at:new Date().toISOString(),expires_at:new Date(Date.now()+31536e6).toISOString()});else if("sip_trunk"===e.item_type)await h.db.from("sip_trunks").insert({user_id:a.id,trunk_name:e.item_data.trunk_name,trunk_type:e.item_data.trunk_type,status:"active",concurrent_channels:e.item_data.concurrent_channels,monthly_cost:e.item_data.monthly_cost,per_minute_cost:e.item_data.per_minute_cost,inbound_enabled:!0,outbound_enabled:!0,sip_uri:`sip-${Math.random().toString(36).substring(7)}.example.com:5060`,auth_username:`user_${a.id.substring(0,8)}`,regions:e.item_data.regions||["US","CA"],purchased_at:new Date().toISOString()});else if("product_tier"===e.item_type){let t=e.item_data.billing_cycle||"monthly",l="monthly"===t?30:"quarterly"===t?90:365,r=`${e.item_data.product_name.substring(0,3).toUpperCase()}-${Math.random().toString(36).substring(2,10).toUpperCase()}`;await h.db.from("user_subscriptions").insert({user_id:a.id,product_id:e.item_data.product_id,product_name:e.item_data.product_name,status:"active",billing_cycle:t,amount:e.unit_price,currency:"MYR",started_at:new Date().toISOString(),expires_at:new Date(Date.now()+24*l*36e5).toISOString(),auto_renew:!0,usage_count:0,usage_limit:e.item_data.usage_limit||1e4,license_key:r,license_type:e.item_data.tier_name.toLowerCase(),max_users:e.item_data.max_users||5,features:JSON.stringify(e.item_data.features||{}),metadata:JSON.stringify({tier_name:e.item_data.tier_name,tier_id:e.item_data.tier_id,order_number:s,purchased_at:new Date().toISOString()})}),await h.db.from("api_marketplace_keys").insert({user_id:a.id,product_id:e.item_data.product_id,product_name:e.item_data.product_name,key_name:`${e.item_data.product_name} Key`,api_key:`mk_${Math.random().toString(36).substring(2,15)}`,environment:"production",status:"active",permissions:JSON.stringify(["read","write"]),usage_limit:e.item_data.usage_limit||5e3,usage_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}await f(),u({type:"success",message:`Order ${s} completed successfully!`}),d(!1);let p=l.some(e=>"product_tier"===e.item_type);setTimeout(()=>{p?e("subscriptions"):e("voice-bot")},2e3)},N=e=>"phone_number"===e.item_type?e.item_data.phone_number:"sip_trunk"===e.item_type?e.item_data.trunk_name:"product_tier"===e.item_type?`${e.item_data.product_name} - ${e.item_data.tier_name}`:"Unknown Item",y=l.reduce((e,t)=>e+Number(t.total_price),0),w=.1*y,_=y+w;return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("button",{onClick:()=>e("product-catalog"),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6 transition-colors",children:[(0,t.jsx)(aa.default,{className:"w-5 h-5"}),"Continue Shopping"]}),i?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin"})}):0===l.length?(0,t.jsx)("div",{className:"text-center py-16",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-12 max-w-md mx-auto",children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Add items from the marketplace to get started"}),(0,t.jsx)("button",{onClick:()=>e("product-catalog"),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-3 rounded-lg",children:"Browse Marketplace"})]})}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Cart Items (",l.length,")"]}),(0,t.jsxs)("button",{onClick:f,className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(v.default,{className:"w-4 h-4"}),"Clear Cart"]})]}),l.map(e=>(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-[#39FF14]/20 p-3 rounded-lg",children:(e=>{switch(e){case"phone_number":return(0,t.jsx)(eb.Phone,{className:"w-6 h-6 text-brand-lime"});case"sip_trunk":return(0,t.jsx)(t1.default,{className:"w-6 h-6 text-brand-lime"});case"product_tier":return(0,t.jsx)(eP.ShoppingCart,{className:"w-6 h-6 text-brand-lime"});default:return(0,t.jsx)(eU.CreditCard,{className:"w-6 h-6 text-brand-lime"})}})(e.item_type)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:N(e)}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:(e=>{if("phone_number"===e.item_type)return`${e.item_data.region} • ${e.item_data.number_type}`;if("sip_trunk"===e.item_type)return`${e.item_data.concurrent_channels} channels • ${e.item_data.trunk_type}`;if("product_tier"===e.item_type){let t=e.item_data.setup_fee>0?` + RM ${Number(e.item_data.setup_fee).toFixed(2)} setup`:"";return`${e.item_data.description}${t}`}return""})(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-slate-400 text-sm",children:["Quantity: ",e.quantity]}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"•"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["RM ",Number(e.unit_price).toFixed(2)," each"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-white mb-2",children:["RM ",Number(e.total_price).toFixed(2)]}),(0,t.jsxs)("button",{onClick:()=>b(e.id),className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(v.default,{className:"w-4 h-4"}),"Remove"]})]})]})},e.id))]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 sticky top-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Subtotal"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["RM ",y.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Tax (10%)"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["RM ",w.toFixed(2)]})]}),(0,t.jsx)("div",{className:"border-t border-slate-700 pt-4",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:"Total"}),(0,t.jsxs)("span",{className:"text-white font-bold text-2xl",children:["RM ",_.toFixed(2)]})]})})]}),c?(0,t.jsxs)("div",{className:"mb-4 p-4 bg-slate-900/50 rounded-lg border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(eU.CreditCard,{className:"w-5 h-5 text-brand-lime"}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Payment Method"})]}),(0,t.jsxs)("div",{className:"text-white font-medium",children:[c.card_type," ending in ",c.last_four]}),(0,t.jsx)("button",{onClick:()=>e("billing"),className:"text-[#39FF14] hover:text-[#39FF14] text-xs mt-2",children:"Change payment method"})]}):(0,t.jsxs)("div",{className:"mb-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[(0,t.jsx)("p",{className:"text-yellow-400 text-sm mb-2",children:"No payment method on file"}),(0,t.jsx)("button",{onClick:()=>e("billing"),className:"text-yellow-400 hover:text-yellow-300 text-xs underline",children:"Add payment method"})]}),(0,t.jsx)("button",{onClick:j,disabled:o||!c,className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eT.default,{className:"w-5 h-5"}),"Complete Purchase"]})}),(0,t.jsx)("div",{className:"mt-4 p-4 bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg",children:(0,t.jsx)("p",{className:"text-[#39FF14] text-xs",children:"Secure checkout • 30-day money-back guarantee"})})]})})]})]}),m&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===m.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===m.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===m.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===m.type?"text-green-400":"text-red-400"}`,children:"success"===m.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:m.message})]}),(0,t.jsx)("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var p=p,r=r,k=k,x=x,V=V,ar=e.i(74690),ar=ar,ai=e.i(16437),ai=ai,C=C,S=S;let an=[{id:"all",name:"All Use Cases"},{id:"auth",name:"Authentication & Security"},{id:"marketing",name:"Customer Engagement"},{id:"ops",name:"Operational Services"},{id:"support",name:"Support & Concierge"},{id:"kyc",name:"Identity & Compliance"}],ao=[{id:"all",industry_name:"All Industries",icon:Z.Globe,description:"All available APIs"},{id:"finance",industry_name:"Finance & Banking",icon:n.Shield,description:"Secure financial communications"},{id:"retail",industry_name:"Retail & E-commerce",icon:eP.ShoppingCart,description:"Engagement and logistics"},{id:"health",industry_name:"Healthcare",icon:m.Activity,description:"Privacy-first medical connectivity"},{id:"tech",industry_name:"Tech & SaaS",icon:ai.default,description:"Developer-first infrastructure"}],ad=[{id:"otp-verify",title:"Omnichannel OTP Verify",useCaseId:"auth",industryId:"finance",description:"High-speed delivery of one-time passwords via SMS, WhatsApp, and Voice.",pricing:"RM 0.05 / verification",unitPrice:.05,status:"99.99%",latency:"1.2s",features:["Failover Logic","Country Filtering","Custom Templates"],icon:ar.default,productCode:"OTP_VERIFY"},{id:"verified-wa",title:"WhatsApp Verified Senders",useCaseId:"marketing",industryId:"retail",description:"Official API for WhatsApp Business Messaging with Green Badge support.",pricing:"RM 450.00 / month",unitPrice:450,status:"99.98%",latency:"0.8s",features:["Rich Media","Templates","Interactive Buttons"],icon:T.MessageSquare,productCode:"WA_SENDER"},{id:"sim-swap",title:"SIM Swap Detection",useCaseId:"auth",industryId:"finance",description:"Real-time detection of SIM change events to prevent account takeover.",pricing:"RM 0.12 / check",unitPrice:.12,status:"99.95%",latency:"0.4s",features:["Network Insights","Fraud Scoring","Telco-Grade"],icon:eb.Phone,productCode:"SIM_SWAP"},{id:"video-kyc",title:"Live Video KYC",useCaseId:"kyc",industryId:"finance",description:"Secure, low-latency video streaming for remote identity verification.",pricing:"RM 5.50 / session",unitPrice:5.5,status:"100%",latency:"150ms",features:["Face Matching","OCR Integration","Recording"],icon:eR.Video,productCode:"VIDEO_KYC"},{id:"voice-concierge",title:"AI Voice Concierge",useCaseId:"support",industryId:"health",description:"Natural language voice bot for appointment scheduling and triage.",pricing:"RM 0.85 / minute",unitPrice:.85,status:"99.90%",latency:"1.8s",features:["Multi-lingual","HIPAA Compliant","Sentiment Analysis"],icon:m.Activity,productCode:"VOICE_CONCIERGE"},{id:"device-loc",title:"Device Location API",useCaseId:"ops",industryId:"tech",description:"Accurate location data retrieved directly from mobile network operators.",pricing:"RM 0.25 / request",unitPrice:.25,status:"99.99%",latency:"0.6s",features:["Precision Radius","Battery Friendly","Consent Flow"],icon:Z.Globe,productCode:"DEV_LOC"}];function ac({onNavigate:e}){let{user:a}=(0,Q.useAuth)(),[l,i]=(0,s.useState)(""),[n,o]=(0,s.useState)("all"),[c,u]=(0,s.useState)("all"),[g,b]=(0,s.useState)("browse"),[f,j]=(0,s.useState)(null),[v,w]=(0,s.useState)({}),[_,F]=(0,s.useState)(null),[M,A]=(0,s.useState)(null),[I,P]=(0,s.useState)([]);(0,s.useEffect)(()=>{a&&T()},[a]);let T=async()=>{try{let{data:e}=await h.db.from("api_marketplace_keys").select("*").eq("user_id",a?.id).order("created_at",{ascending:!1});e&&P(e)}catch(e){console.error("Failed to load keys:",e)}};(0,s.useEffect)(()=>{if(M){let e=setTimeout(()=>A(null),5e3);return()=>clearTimeout(e)}},[M]);let D=(0,s.useMemo)(()=>ad.filter(e=>{let t=e.title.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase()),s="all"===n||e.industryId===n,a="all"===c||e.useCaseId===c;return t&&s&&a}),[l,n,c]),R=async e=>{if(!a)return void A({type:"error",message:"Please sign in to add items to cart"});F(e.id);try{let{error:t}=await h.db.from("cart_items").insert({user_id:a.id,item_type:"product_tier",item_data:JSON.stringify({product_id:e.id,product_name:e.title,product_sku:e.productCode,tier_name:"Marketplace API",tier_sku:`${e.productCode}_TIER`,description:e.description,price:e.unitPrice,setup_fee:0,price_unit:"request",features:{use_case:e.useCaseId,real_time:!0},support_level:"Community"}),quantity:1,unit_price:e.unitPrice,total_price:e.unitPrice});if(t)throw t;A({type:"success",message:`${e.title} added to cart!`})}catch(e){console.error("Cart Error:",e),A({type:"error",message:"Failed to add to cart"})}finally{F(null)}},L=e=>{A({type:"success",message:`Initializing SDK download for ${e}...`}),setTimeout(()=>{},1e3)},E=e=>{w(t=>({...t,[e]:!t[e]}))},O=(e,t)=>{navigator.clipboard.writeText(e),A({type:"success",message:`${t} copied to clipboard!`})};return(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe p-12",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex flex-col lg:flex-row gap-8 mb-12",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-1 bg-[#011a12] border border-[#024d30] rounded-2xl p-1 w-fit h-fit",children:[(0,t.jsx)("button",{onClick:()=>b("browse"),className:`jsx-3dc5895164da2bbe px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all ${"browse"===g?"bg-[#39FF14] text-black shadow-lg shadow-[#39FF14]/20":"text-slate-500 hover:text-white"}`,children:"Browse Ecosystem"}),(0,t.jsxs)("button",{onClick:()=>b("keys"),className:`jsx-3dc5895164da2bbe px-8 py-3 rounded-xl font-black text-xs uppercase tracking-widest transition-all ${"keys"===g?"bg-[#39FF14] text-black shadow-lg shadow-[#39FF14]/20":"text-slate-500 hover:text-white"}`,children:["My Subscriptions (",I.length,")"]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex-1 flex flex-wrap items-center gap-4",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe relative flex-1 min-w-[300px] group",children:[(0,t.jsx)(p.default,{className:"w-5 h-5 text-slate-500 absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#39FF14] transition-colors"}),(0,t.jsx)("input",{type:"text",placeholder:"Search use cases, features, or industries...",value:l,onChange:e=>i(e.target.value),className:"jsx-3dc5895164da2bbe w-full bg-[#011a12] border border-[#024d30] rounded-2xl pl-12 pr-6 py-4 text-white placeholder-slate-600 focus:outline-none focus:border-[#39FF14]/50 focus:ring-4 focus:ring-[#39FF14]/5 transition-all outline-none"})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-2",children:[(0,t.jsx)("select",{value:n,onChange:e=>o(e.target.value),className:"jsx-3dc5895164da2bbe bg-[#011a12] border border-[#024d30] rounded-2xl px-6 py-4 text-white text-sm font-bold appearance-none hover:border-[#39FF14]/30 transition-all outline-none cursor-pointer",children:ao.map(e=>(0,t.jsx)("option",{value:e.id,className:"jsx-3dc5895164da2bbe bg-[#011a12]",children:e.industry_name},e.id))}),(0,t.jsx)("select",{value:c,onChange:e=>u(e.target.value),className:"jsx-3dc5895164da2bbe bg-[#011a12] border border-[#024d30] rounded-2xl px-6 py-4 text-white text-sm font-bold appearance-none hover:border-[#39FF14]/30 transition-all outline-none cursor-pointer",children:an.map(e=>(0,t.jsx)("option",{value:e.id,className:"jsx-3dc5895164da2bbe bg-[#011a12]",children:e.name},e.id))})]})]})]}),"browse"===g?(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:D.map(e=>(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe group relative bg-[#011a12]/60 border border-[#024d30] rounded-[2.5rem] p-8 hover:border-[#39FF14]/50 hover:bg-[#011a12] transition-all duration-500 hover:-translate-y-2 overflow-hidden shadow-2xl h-full flex flex-col",children:[(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe absolute top-0 right-0 p-8 opacity-5 group-hover:opacity-10 transition-opacity",children:(0,t.jsx)(e.icon,{className:"w-32 h-32"})}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe relative flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-start justify-between mb-8",children:[(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe bg-[#39FF14]/10 p-4 rounded-2xl border border-[#39FF14]/20 group-hover:border-[#39FF14]/50 transition-all",children:(0,t.jsx)(e.icon,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe text-right",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-2 justify-end mb-1",children:[(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,t.jsxs)("span",{className:"jsx-3dc5895164da2bbe text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:[e.status," Uptime"]})]}),(0,t.jsxs)("span",{className:"jsx-3dc5895164da2bbe text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:["Avg Latency: ",e.latency]})]})]}),(0,t.jsx)("h3",{className:"jsx-3dc5895164da2bbe text-2xl font-black text-white mb-2 tracking-tight group-hover:text-[#39FF14] transition-colors",children:e.title}),(0,t.jsx)("p",{className:"jsx-3dc5895164da2bbe text-slate-400 text-sm font-medium mb-8 leading-relaxed h-12 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-2 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#012419] border border-[#024d30] rounded-2xl p-4",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-widest text-slate-500 block mb-1",children:"Pricing"}),(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-white font-black text-sm",children:e.pricing})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#012419] border border-[#024d30] rounded-2xl p-4",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-widest text-slate-500 block mb-1",children:"Endpoints"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-3 h-3 text-[#39FF14]"}),(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-white font-black text-xs",children:"Global Edge"})]})]})]}),(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe flex flex-wrap gap-2 mb-10 mt-auto",children:e.features.map((e,s)=>(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe px-3 py-1 bg-[#011a12] border border-[#024d30] rounded-lg text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:e},s))}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-2 gap-3 pb-2",children:[(0,t.jsx)("button",{onClick:()=>R(e),disabled:_===e.id,className:"jsx-3dc5895164da2bbe flex items-center justify-center gap-2 bg-[#39FF14] hover:bg-white text-black py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all shadow-lg shadow-[#39FF14]/10 active:scale-95 disabled:opacity-50",children:_===e.id?(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-4 h-4"}),"Buy Access"]})}),(0,t.jsxs)("button",{onClick:()=>j(e),className:"jsx-3dc5895164da2bbe flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 text-white py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all active:scale-95 border border-slate-700",children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Customize"]})]})]})]},e.id))}):(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe space-y-8",children:0===I.length?(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#011a12]/40 border border-[#024d30] border-dashed rounded-[3rem] p-24 text-center",children:[(0,t.jsx)(r.default,{className:"w-24 h-24 text-slate-800 mx-auto mb-8"}),(0,t.jsx)("h3",{className:"jsx-3dc5895164da2bbe text-3xl font-black text-white mb-2",children:"No active subscriptions"}),(0,t.jsx)("p",{className:"jsx-3dc5895164da2bbe text-slate-500 font-medium mb-10 max-w-lg mx-auto",children:"Purchase an API from the marketplace to start building industry-leading integrations."}),(0,t.jsx)("button",{onClick:()=>b("browse"),className:"jsx-3dc5895164da2bbe bg-[#39FF14] text-black px-10 py-5 rounded-2xl font-black text-xs uppercase tracking-[0.2em] shadow-2xl shadow-[#39FF14]/20 hover:bg-white transition-all font-bold",children:"Browse Ecosystem"})]}):(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-1 gap-6",children:I.map(e=>{let s=ad.find(t=>t.id===e.product_id);return(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#011a12] border border-[#024d30] rounded-[2.5rem] p-10 group hover:border-[#39FF14]/30 transition-all shadow-xl",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex flex-col lg:flex-row lg:items-center justify-between gap-8 mb-10 border-b border-[#024d30] pb-10",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-6",children:[(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe bg-[#39FF14]/10 p-5 rounded-3xl border border-[#39FF14]/20 shadow-inner",children:s?(0,t.jsx)(s.icon,{className:"w-10 h-10 text-[#39FF14]"}):(0,t.jsx)(V.default,{className:"w-10 h-10 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe",children:[(0,t.jsx)("h3",{className:"jsx-3dc5895164da2bbe text-3xl font-black text-white mb-1 tracking-tight",children:e.key_name||"My API Key"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-3",children:[(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-[10px] font-black text-[#39FF14] uppercase tracking-widest",children:s?.title||"Unknown API"}),(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe w-1 h-1 rounded-full bg-slate-700"}),(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-[10px] font-black text-slate-500 uppercase tracking-widest",children:(e.environment||"production").toUpperCase()})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-3 flex-wrap",children:[(0,t.jsxs)("button",{className:"jsx-3dc5895164da2bbe flex items-center gap-2 bg-[#012419] border border-[#024d30] hover:border-[#39FF14]/50 px-6 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest text-[#39FF14] transition-all",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"}),"Analytics"]}),(0,t.jsxs)("button",{onClick:()=>L(s?.title||"API"),className:"jsx-3dc5895164da2bbe flex items-center gap-2 bg-slate-800 hover:bg-slate-700 px-6 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest text-white transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Credentials"]}),(0,t.jsx)("button",{onClick:()=>j(s),className:"jsx-3dc5895164da2bbe p-4 bg-[#011a12] border border-[#024d30] hover:border-[#39FF14]/50 rounded-2xl text-slate-500 hover:text-[#39FF14] transition-all",children:(0,t.jsx)(d.Settings,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-1 md:grid-cols-2 gap-12",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-2 block font-bold",children:"Primary API Key"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-3 bg-[#012419] border border-[#024d30] p-5 rounded-2xl group/key focus-within:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("code",{className:"jsx-3dc5895164da2bbe flex-1 text-sm text-[#39FF14] font-mono tracking-wider truncate",children:v[`key_${e.id}`]?e.api_key:"••••••••••••••••••••••••••••••••"}),(0,t.jsx)("button",{onClick:()=>E(`key_${e.id}`),className:"jsx-3dc5895164da2bbe p-3 bg-[#011a12] rounded-xl text-slate-500 hover:text-[#39FF14] transition-all",children:v[`key_${e.id}`]?(0,t.jsx)(S.default,{className:"w-4 h-4"}):(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>O(e.api_key,"API Key"),className:"jsx-3dc5895164da2bbe p-3 bg-[#011a12] rounded-xl text-slate-500 hover:text-[#39FF14] transition-all",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-[0.2em] text-slate-500 mb-2 block font-bold",children:"API Secret"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-3 bg-[#012419] border border-[#024d30] p-5 rounded-2xl group/secret focus-within:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("code",{className:"jsx-3dc5895164da2bbe flex-1 text-sm text-[#39FF14] font-mono tracking-wider truncate",children:v[`sec_${e.id}`]?e.api_secret:"••••••••••••••••••••••••••••••••"}),(0,t.jsx)("button",{onClick:()=>E(`sec_${e.id}`),className:"jsx-3dc5895164da2bbe p-3 bg-[#011a12] rounded-xl text-slate-500 hover:text-[#39FF14] transition-all",children:v[`sec_${e.id}`]?(0,t.jsx)(S.default,{className:"w-4 h-4"}):(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>O(e.api_secret,"API Secret"),className:"jsx-3dc5895164da2bbe p-3 bg-[#011a12] rounded-xl text-slate-500 hover:text-[#39FF14] transition-all",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#012419] border border-[#024d30] rounded-3xl p-8 relative overflow-hidden flex flex-col justify-between",children:[(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe absolute top-0 right-0 p-8",children:(0,t.jsx)(ai.default,{className:"w-24 h-24 text-[#39FF14] opacity-[0.03]"})}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe",children:[(0,t.jsx)("h4",{className:"jsx-3dc5895164da2bbe text-sm font-black text-white mb-6 uppercase tracking-widest",children:"Integration Health"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center justify-between",children:[(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Total Requests (24h)"}),(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-sm font-black text-white",children:e.total_requests?.toLocaleString()||"0"})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center justify-between",children:[(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Integration Status"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-2",children:[(0,t.jsx)("span",{className:"jsx-3dc5895164da2bbe text-xs font-black text-emerald-500",children:"OPERATIONAL"}),(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe w-2 h-2 rounded-full bg-emerald-500 animate-pulse"})]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe pt-8 border-t border-[#024d30] flex items-center gap-3",children:[(0,t.jsxs)("button",{className:"jsx-3dc5895164da2bbe flex-1 flex items-center justify-center gap-2 bg-slate-800 hover:bg-slate-700 py-3 rounded-xl font-black text-[9px] uppercase tracking-widest text-white transition-all border border-slate-700",children:[(0,t.jsx)(V.default,{className:"w-3 h-3"}),"Debugger"]}),(0,t.jsxs)("button",{onClick:()=>L(s?.title||"API"),className:"jsx-3dc5895164da2bbe flex-1 flex items-center justify-center gap-2 bg-[#39FF14]/10 hover:bg-[#39FF14] border border-[#39FF14]/30 text-[#39FF14] hover:text-black py-3 rounded-xl font-black text-[9px] uppercase tracking-widest transition-all",children:[(0,t.jsx)(x.default,{className:"w-3 h-3"}),"Get SDK"]})]})]})]})]},e.id)})})})]}),M&&(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe fixed top-8 right-8 z-[100] animate-slide-in",children:(0,t.jsxs)("div",{className:`jsx-3dc5895164da2bbe ${"success"===M.type?"bg-[#011a12] border-[#39FF14]/50":"bg-red-950 border-red-500/50"} border-2 backdrop-blur-2xl rounded-3xl p-6 shadow-[0_20px_50px_rgba(0,0,0,0.5)] flex items-center gap-4 min-w-[320px]`,children:[(0,t.jsx)("div",{className:`jsx-3dc5895164da2bbe ${"success"===M.type?"bg-[#39FF14] text-black":"bg-red-500 text-white"} p-3 rounded-2xl`,children:"success"===M.type?(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6"}):(0,t.jsx)(ar.default,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe",children:[(0,t.jsx)("p",{className:"jsx-3dc5895164da2bbe font-black text-white text-sm uppercase tracking-widest",children:M.type}),(0,t.jsx)("p",{className:"jsx-3dc5895164da2bbe text-slate-400 text-xs font-bold leading-relaxed",children:M.message})]}),(0,t.jsx)("button",{onClick:()=>A(null),className:"jsx-3dc5895164da2bbe ml-auto text-slate-500 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),f&&(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe fixed inset-0 bg-black/80 backdrop-blur-xl flex items-center justify-center z-[110] p-6 overflow-y-auto",children:(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#011a12] border border-[#024d30] w-full max-w-2xl rounded-[3rem] overflow-hidden shadow-[0_0_100px_rgba(57,255,20,0.1)] my-auto animate-modal-in",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe p-10 border-b border-[#024d30] flex items-center justify-between bg-gradient-to-r from-[#012419] to-transparent",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-5",children:[(0,t.jsx)("div",{className:"jsx-3dc5895164da2bbe bg-[#39FF14]/10 p-4 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(d.Settings,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe",children:[(0,t.jsx)("h3",{className:"jsx-3dc5895164da2bbe text-2xl font-black text-white mb-0.5 tracking-tight uppercase",children:"API Customization"}),(0,t.jsx)("p",{className:"jsx-3dc5895164da2bbe text-slate-500 text-xs font-black uppercase tracking-widest",children:f.title})]})]}),(0,t.jsx)("button",{onClick:()=>j(null),className:"jsx-3dc5895164da2bbe text-slate-500 hover:text-white transition-colors p-2 hover:bg-white/5 rounded-full",children:(0,t.jsx)(y.X,{className:"w-8 h-8"})})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe p-10 space-y-8 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe space-y-4",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-widest text-[#39FF14] block",children:"Region Selection"}),(0,t.jsxs)("select",{className:"jsx-3dc5895164da2bbe w-full bg-[#012419] border border-[#024d30] rounded-2xl px-5 py-4 text-white text-sm font-bold flex items-center justify-between outline-none hover:border-[#39FF14]/30 transition-all cursor-pointer",children:[(0,t.jsx)("option",{className:"jsx-3dc5895164da2bbe bg-[#011a12]",children:"Global (Edge Acceleration)"}),(0,t.jsx)("option",{className:"jsx-3dc5895164da2bbe bg-[#011a12]",children:"Asia Pacific (Singapore)"}),(0,t.jsx)("option",{className:"jsx-3dc5895164da2bbe bg-[#011a12]",children:"Europe (Frankfurt)"}),(0,t.jsx)("option",{className:"jsx-3dc5895164da2bbe bg-[#011a12]",children:"US East (Virginia)"})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe space-y-4",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-widest text-[#39FF14] block",children:"Data Retention"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe grid grid-cols-2 gap-3",children:[(0,t.jsx)("button",{className:"jsx-3dc5895164da2bbe bg-[#39FF14] text-black py-4 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-[#39FF14]/10",children:"30 Days"}),(0,t.jsx)("button",{className:"jsx-3dc5895164da2bbe bg-[#012419] border border-[#024d30] text-slate-500 py-4 rounded-xl font-black text-[10px] uppercase tracking-widest hover:text-white hover:border-slate-500 transition-all",children:"90 Days"})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe space-y-4",children:[(0,t.jsx)("label",{className:"jsx-3dc5895164da2bbe text-[10px] font-black uppercase tracking-widest text-[#39FF14] block",children:"Webhook & Endpoint URL"}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe relative",children:[(0,t.jsx)(V.default,{className:"w-4 h-4 text-slate-600 absolute left-5 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"https://your-server.com/api/webhooks",className:"jsx-3dc5895164da2bbe w-full bg-[#012419] border border-[#024d30] rounded-2xl px-12 py-5 text-white font-mono text-xs outline-none focus:border-[#39FF14]/50 transition-all"})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe bg-[#012419] border border-[#024d30] border-dashed rounded-3xl p-8",children:[(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex items-center gap-4 mb-4",children:[(0,t.jsx)($.Info,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"jsx-3dc5895164da2bbe text-xs font-black text-white uppercase tracking-widest",children:"Advanced Configuration"})]}),(0,t.jsx)("p",{className:"jsx-3dc5895164da2bbe text-slate-500 text-xs font-medium leading-relaxed mb-6",children:"Enabling enterprise-grade configurations may affect your transaction throughput and base unit pricing. Contact architecture support for specialized scaling."}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe flex gap-3",children:[(0,t.jsx)("button",{className:"jsx-3dc5895164da2bbe flex-1 px-6 py-4 bg-[#011a12] border border-[#024d30] rounded-xl text-[10px] font-black text-white hover:border-[#39FF14]/50 hover:text-[#39FF14] transition-all uppercase tracking-widest",children:"Compliance Pack"}),(0,t.jsx)("button",{className:"jsx-3dc5895164da2bbe flex-1 px-6 py-4 bg-[#011a12] border border-[#024d30] rounded-xl text-[10px] font-black text-white hover:border-[#39FF14]/50 hover:text-[#39FF14] transition-all uppercase tracking-widest",children:"Failover Logic"})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3dc5895164da2bbe p-10 bg-[#012419]/50 border-t border-[#024d30] flex items-center justify-end gap-6",children:[(0,t.jsx)("button",{onClick:()=>j(null),className:"jsx-3dc5895164da2bbe px-8 py-5 text-slate-500 font-black text-[10px] uppercase tracking-widest hover:text-white transition-all font-bold",children:"Discard Changes"}),(0,t.jsx)("button",{onClick:()=>{A({type:"success",message:"API configuration updated successfully! Changes are being deployed to the edge."}),j(null)},className:"jsx-3dc5895164da2bbe bg-[#39FF14] text-black px-12 py-5 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-2xl shadow-[#39FF14]/20 hover:bg-white transition-all transform active:scale-95 font-bold",children:"Save & Deploy"})]})]})}),(0,t.jsx)(sl.default,{id:"3dc5895164da2bbe",children:".animate-fade-in.jsx-3dc5895164da2bbe{animation:.8s cubic-bezier(.16,1,.3,1) fadeIn}.animate-modal-in.jsx-3dc5895164da2bbe{animation:.5s cubic-bezier(.16,1,.3,1) modalIn}.animate-slide-in.jsx-3dc5895164da2bbe{animation:.5s cubic-bezier(.16,1,.3,1) slideIn}@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes modalIn{0%{opacity:0;transform:scale(.95)translateY(20px)}to{opacity:1;transform:scale(1)translateY(0)}}@keyframes slideIn{0%{opacity:0;transform:translate(50px)}to{opacity:1;transform:translate(0)}}.custom-scrollbar.jsx-3dc5895164da2bbe::-webkit-scrollbar{width:8px}.custom-scrollbar.jsx-3dc5895164da2bbe::-webkit-scrollbar-track{background:#024d301a}.custom-scrollbar.jsx-3dc5895164da2bbe::-webkit-scrollbar-thumb{background:#024d30;border-radius:10px}.custom-scrollbar.jsx-3dc5895164da2bbe.jsx-3dc5895164da2bbe::-webkit-scrollbar-thumb:hover{background:#39ff14}"})]})}var tt=tt,l=l,f=f,_=_,p=p,C=C,ax=e.i(20491),ax=ax,sT=sT,k=k,e2=e2,tc=tc,D=D,L=L,sL=sL,e_=e_,tY=tY,tQ=tQ,am=e.i(30909),am=am;function ah(){let{user:e}=(0,Q.useAuth)(),[a,r]=(0,s.useState)("campaigns"),[i,n]=(0,s.useState)([]),[c,x]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[g,j]=(0,s.useState)([]),[v,w]=(0,s.useState)([]),[F,S]=(0,s.useState)([]),[M,A]=(0,s.useState)([]),[P,T]=(0,s.useState)([]),[R,$]=(0,s.useState)(!0),[O,q]=(0,s.useState)(""),[U,V]=(0,s.useState)("all"),[B,z]=(0,s.useState)(null),[G,K]=(0,s.useState)(!1),[W,X]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),[Y,Z]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(!1),[es,ea]=(0,s.useState)(!1),[el,er]=(0,s.useState)(!1),[ei,en]=(0,s.useState)(!1),[eo,ed]=(0,s.useState)(!1),[ec,ex]=(0,s.useState)(!1),[em,eh]=(0,s.useState)(!1),[eu,ep]=(0,s.useState)(1),[eg,eb]=(0,s.useState)(null),[ef,ej]=(0,s.useState)(null),[ev,eN]=(0,s.useState)(null),[ey,ew]=(0,s.useState)(!1),[eF,ek]=(0,s.useState)(null),[eC,eS]=(0,s.useState)({campaign_name:"",campaign_type:"regular",template_id:"",subject_line:"",preview_text:"",from_email:"",from_name:"",reply_to_email:"",selected_lists:[],schedule_type:"send_now",scheduled_at:"",ab_test_enabled:!1,ab_subject_variants:["",""],tags:""}),[eM,eA]=(0,s.useState)({template_name:"",template_category:"general",subject_line:"",preview_text:"",html_content:"",plain_text_content:"",template_variables:"",thumbnail_url:"",is_responsive:!0}),[eI,eP]=(0,s.useState)({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]}),[eT,eD]=(0,s.useState)({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]}),[eR,eL]=(0,s.useState)({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1});(0,s.useEffect)(()=>{e&&Promise.all([e$(),eO(),eq(),eU(),eV(),eB(),ez(),eG()]).finally(()=>$(!1))},[e]),(0,s.useEffect)(()=>{if(B){let e=setTimeout(()=>z(null),5e3);return()=>clearTimeout(e)}},[B]);let e$=async()=>{let{data:e,error:t}=await h.db.from("email_campaigns").select("*").order("created_at",{ascending:!1});!t&&e&&n(e.map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[],ab_test_config:"string"==typeof e.ab_test_config?JSON.parse(e.ab_test_config):e.ab_test_config||{}})))},eO=async()=>{let{data:e,error:t}=await h.db.from("email_templates").select("*").order("created_at",{ascending:!1});!t&&e&&x(e.map(e=>({...e,template_variables:"string"==typeof e.template_variables?JSON.parse(e.template_variables):e.template_variables||[]})))},eq=async()=>{let{data:e,error:t}=await h.db.from("email_contact_lists").select("*").order("created_at",{ascending:!1});!t&&e&&u(e.map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[]})))},eU=async()=>{let{data:e,error:t}=await h.db.from("email_contacts").select("*").order("created_at",{ascending:!1}).limit(100);!t&&e&&j(e.map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[],custom_fields:"string"==typeof e.custom_fields?JSON.parse(e.custom_fields):e.custom_fields||{}})))},eV=async()=>{let{data:e,error:t}=await h.db.from("email_automation_sequences").select("*").order("created_at",{ascending:!1});!t&&e&&w(e.map(e=>({...e,entry_conditions:"string"==typeof e.entry_conditions?JSON.parse(e.entry_conditions):e.entry_conditions||{}})))},eB=async()=>{let{data:e,error:t}=await h.db.from("email_provider_configs").select("*").order("is_default",{ascending:!1});!t&&e&&S(e)},ez=async()=>{let{data:e,error:t}=await h.db.from("email_campaign_analytics").select("*").order("date",{ascending:!1}).limit(50);!t&&e&&A(e)},eG=async()=>{let{data:e,error:t}=await h.db.from("email_sending_quotas").select("*").order("created_at",{ascending:!1});!t&&e&&T(e)},eK=async()=>{if(!eC.campaign_name||!eC.subject_line||!eC.from_email)return void z({type:"error",message:"Please fill in required fields"});if(0===eC.selected_lists.length&&2===eu)return void z({type:"error",message:"Please select at least one contact list"});eh(!0);try{let t=eC.tags?eC.tags.split(",").map(e=>e.trim()).filter(e=>e):[],{data:s,error:a}=await h.db.from("email_campaigns").insert([{campaign_name:eC.campaign_name,campaign_type:eC.campaign_type,template_id:eC.template_id||null,subject_line:eC.subject_line,preview_text:eC.preview_text||null,from_email:eC.from_email,from_name:eC.from_name||null,reply_to_email:eC.reply_to_email||null,status:"send_now"===eC.schedule_type?"sending":"scheduled",scheduled_at:"schedule"===eC.schedule_type?eC.scheduled_at:null,ab_test_enabled:eC.ab_test_enabled,ab_test_config:eC.ab_test_enabled?{subject_variants:eC.ab_subject_variants.filter(e=>e)}:null,tags:t,created_by:e?.id}]).select().single();if(a)throw a;if(s&&eC.selected_lists.length>0){let e=(await Promise.all(eC.selected_lists.map(async e=>{let{data:t}=await h.db.from("email_contact_list_members").select("contact_id, email_contacts(email)").eq("list_id",e);return t||[]}))).flat(),t=Array.from(new Map(e.map(e=>[e.contact_id,e])).values());t.length>0&&(await h.db.from("email_campaign_recipients").insert(t.map(e=>({campaign_id:s.id,contact_id:e.contact_id,email:e.email_contacts[0]?.email}))),await h.db.from("email_campaigns").update({total_recipients:t.length}).eq("id",s.id))}z({type:"success",message:"Campaign created successfully"}),K(!1),ep(1),eS({campaign_name:"",campaign_type:"regular",template_id:"",subject_line:"",preview_text:"",from_email:"",from_name:"",reply_to_email:"",selected_lists:[],schedule_type:"send_now",scheduled_at:"",ab_test_enabled:!1,ab_subject_variants:["",""],tags:""}),e$()}catch(e){console.error("Error creating campaign:",e),z({type:"error",message:"Failed to create campaign"})}finally{eh(!1)}},eW=async()=>{if(!eM.template_name||!eM.subject_line||!eM.html_content)return void z({type:"error",message:"Please fill in required fields"});eh(!0);try{let t=eM.template_variables?eM.template_variables.split(",").map(e=>e.trim()).filter(e=>e):[],{error:s}=await h.db.from("email_templates").insert([{template_name:eM.template_name,template_category:eM.template_category,subject_line:eM.subject_line,preview_text:eM.preview_text||null,html_content:eM.html_content,plain_text_content:eM.plain_text_content||null,template_variables:t,thumbnail_url:eM.thumbnail_url||null,is_responsive:eM.is_responsive,created_by:e?.id}]);if(s)throw s;z({type:"success",message:"Template created successfully"}),X(!1),eA({template_name:"",template_category:"general",subject_line:"",preview_text:"",html_content:"",plain_text_content:"",template_variables:"",thumbnail_url:"",is_responsive:!0}),eO()}catch(e){console.error("Error creating template:",e),z({type:"error",message:"Failed to create template"})}finally{eh(!1)}},eX=async()=>{if(!eI.email)return void z({type:"error",message:"Please enter an email address"});eh(!0);try{let e=eI.tags?eI.tags.split(",").map(e=>e.trim()).filter(e=>e):[],{data:t,error:s}=await h.db.from("email_contacts").insert([{email:eI.email,first_name:eI.first_name||null,last_name:eI.last_name||null,phone_number:eI.phone_number||null,company:eI.company||null,job_title:eI.job_title||null,country:eI.country||null,custom_fields:eI.custom_fields,tags:e,subscription_status:eI.subscription_status,source:"manual"}]).select().single();!s&&t?(eI.selected_lists.length>0&&await h.db.from("email_contact_list_members").insert(eI.selected_lists.map(e=>({list_id:e,contact_id:t.id}))),z({type:"success",message:"Contact added successfully"}),J(!1),eP({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]}),eU()):z({type:"error",message:s?.message||"Failed to add contact"})}catch(e){console.error("Error adding contact:",e),z({type:"error",message:"Failed to add contact"})}finally{eh(!1)}},eH=async()=>{if(!eF)return void z({type:"error",message:"Please select a file to import"});eh(!0);try{let e=(await eF.text()).split("\n").filter(e=>e.trim());if(e.length<2){z({type:"error",message:"CSV file must contain headers and at least one contact"}),eh(!1);return}let t=e[0].split(",").map(e=>e.trim()),s=t.findIndex(e=>"email"===e.toLowerCase());if(-1===s){z({type:"error",message:'CSV must contain an "email" column'}),eh(!1);return}let a=[];for(let l=1;l<e.length;l++){let r=e[l].split(",").map(e=>e.trim()),i=r[s];if(i&&i.includes("@")){let e={email:i,source:"import"},s=t.findIndex(e=>"first_name"===e.toLowerCase()||"firstname"===e.toLowerCase()),l=t.findIndex(e=>"last_name"===e.toLowerCase()||"lastname"===e.toLowerCase()),n=t.findIndex(e=>"company"===e.toLowerCase()),o=t.findIndex(e=>"phone"===e.toLowerCase()||"phone_number"===e.toLowerCase());-1!==s&&(e.first_name=r[s]||null),-1!==l&&(e.last_name=r[l]||null),-1!==n&&(e.company=r[n]||null),-1!==o&&(e.phone_number=r[o]||null),a.push(e)}}if(0===a.length){z({type:"error",message:"No valid contacts found in CSV"}),eh(!1);return}let{error:l}=await h.db.from("email_contacts").insert(a);l?z({type:"error",message:"Failed to import contacts"}):(z({type:"success",message:`Successfully imported ${a.length} contacts`}),Z(!1),ek(null),eU())}catch(e){console.error("Error importing contacts:",e),z({type:"error",message:"Failed to import contacts"})}finally{eh(!1)}},eJ=async()=>{if(eg){eh(!0);try{let{error:e}=await h.db.from("email_contacts").update({subscription_status:eg.subscription_status,tags:eg.tags}).eq("id",eg.id);e?z({type:"error",message:"Failed to update contact settings"}):(z({type:"success",message:"Contact settings updated successfully"}),et(!1),eb(null),eU())}catch(e){console.error("Error updating contact:",e),z({type:"error",message:"Failed to update contact settings"})}finally{eh(!1)}}},eY=async()=>{if(!eT.sequence_name)return void z({type:"error",message:"Please enter a sequence name"});eh(!0);try{let{error:e}=await h.db.from("email_automation_sequences").insert([{sequence_name:eT.sequence_name,sequence_description:eT.sequence_description||null,trigger_type:eT.trigger_type,trigger_event:eT.trigger_event||null,entry_conditions:eT.entry_conditions?JSON.parse(eT.entry_conditions):null,is_active:eT.is_active}]);e?z({type:"error",message:"Failed to create sequence"}):(z({type:"success",message:"Automation sequence created successfully"}),ea(!1),eD({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]}),eV())}catch(e){console.error("Error creating sequence:",e),z({type:"error",message:"Failed to create sequence"})}finally{eh(!1)}},eQ=async(e,t)=>{try{let{error:s}=await h.db.from("email_automation_sequences").update({is_active:!t}).eq("id",e);s?z({type:"error",message:"Failed to update sequence"}):(z({type:"success",message:`Sequence ${!t?"activated":"paused"} successfully`}),eV())}catch(e){console.error("Error updating sequence:",e),z({type:"error",message:"Failed to update sequence"})}},eZ=async()=>{if(!eR.provider_name||!eR.from_email)return void z({type:"error",message:"Please fill in required fields"});if("smtp"===eR.provider_type&&(!eR.smtp_host||!eR.smtp_username))return void z({type:"error",message:"Please fill in SMTP configuration"});if("api"===eR.provider_type&&!eR.api_key)return void z({type:"error",message:"Please provide API key"});eh(!0);try{let{error:e}=await h.db.from("email_provider_configs").insert([{provider_name:eR.provider_name,provider_type:eR.provider_type,smtp_host:"smtp"===eR.provider_type?eR.smtp_host:null,smtp_port:"smtp"===eR.provider_type?parseInt(eR.smtp_port):null,smtp_username:"smtp"===eR.provider_type?eR.smtp_username:null,smtp_password:"smtp"===eR.provider_type?eR.smtp_password:null,smtp_encryption:"smtp"===eR.provider_type?eR.smtp_encryption:null,api_key:"api"===eR.provider_type?eR.api_key:null,api_secret:"api"===eR.provider_type?eR.api_secret:null,sending_domain:eR.sending_domain||null,from_email:eR.from_email,from_name:eR.from_name||null,is_default:eR.is_default,is_verified:!1}]);e?z({type:"error",message:"Failed to add provider"}):(z({type:"success",message:"Email provider added successfully"}),ed(!1),eL({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1}),eB())}catch(e){console.error("Error adding provider:",e),z({type:"error",message:"Failed to add provider"})}finally{eh(!1)}},e0=async()=>{if(ev){eh(!0);try{let{error:e}=await h.db.from("email_provider_configs").update({is_active:ev.is_active,is_default:ev.is_default,daily_sending_limit:ev.daily_sending_limit}).eq("id",ev.id);e?z({type:"error",message:"Failed to configure provider"}):(z({type:"success",message:"Provider configured successfully"}),ex(!1),eN(null),eB())}catch(e){console.error("Error configuring provider:",e),z({type:"error",message:"Failed to configure provider"})}finally{eh(!1)}}},e4=async e=>{ew(!0);try{await new Promise(e=>setTimeout(e,2e3));let t=Math.random()>.3;await h.db.from("email_provider_configs").update({is_verified:t,last_verified_at:t?new Date().toISOString():null}).eq("id",e),t?z({type:"success",message:"Connection test successful"}):z({type:"error",message:"Connection test failed"}),eB()}catch(e){console.error("Error testing connection:",e),z({type:"error",message:"Connection test failed"})}finally{ew(!1)}},e1=i.filter(e=>{let t=e.campaign_name.toLowerCase().includes(O.toLowerCase())||e.subject_line.toLowerCase().includes(O.toLowerCase()),s="all"===U||e.status===U;return t&&s}),e3=i.reduce((e,t)=>e+(t.emails_sent||0),0),e5=i.reduce((e,t)=>e+(t.emails_delivered||0),0),e9=i.reduce((e,t)=>e+(t.emails_opened||0),0),e6=i.reduce((e,t)=>e+(t.emails_clicked||0),0),e8=e5>0?(e9/e5*100).toFixed(2):0,te=e5>0?(e6/e5*100).toFixed(2):0;return R?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#39FF14]"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[B&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===B.type?"bg-green-500":"bg-red-500"} text-white`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["success"===B.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:B.message})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Email Campaigns"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Create, manage, and analyze email marketing campaigns"})]}),(0,t.jsxs)("button",{onClick:()=>K(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 inline-flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>r("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===a?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>r("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===a?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsx)("button",{onClick:()=>r("contacts"),className:`px-6 py-2 rounded-lg transition-colors ${"contacts"===a?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Contacts"}),(0,t.jsx)("button",{onClick:()=>r("automation"),className:`px-6 py-2 rounded-lg transition-colors ${"automation"===a?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Automation"}),(0,t.jsx)("button",{onClick:()=>r("analytics"),className:`px-6 py-2 rounded-lg transition-colors ${"analytics"===a?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Analytics"}),(0,t.jsx)("button",{onClick:()=>r("providers"),className:`px-6 py-2 rounded-lg transition-colors ${"providers"===a?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Providers"})]}),"campaigns"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:O,onChange:e=>q(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-[#39FF14]"})]}),(0,t.jsxs)("select",{value:U,onChange:e=>V(e.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-[#39FF14]",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"sending",children:"Sending"}),(0,t.jsx)("option",{value:"sent",children:"Sent"}),(0,t.jsx)("option",{value:"paused",children:"Paused"})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:e1.map(e=>(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"sent"===e.status?"bg-green-500/20 text-green-400":"sending"===e.status?"bg-[#39FF14]/20/20 text-[#39FF14] animate-pulse":"scheduled"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"draft"===e.status?"bg-slate-500/20 text-slate-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status.toUpperCase()}),"ab_test"===e.campaign_type&&(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-semibold",children:"A/B TEST"})]}),(0,t.jsxs)("p",{className:"text-slate-400 mb-1",children:[(0,t.jsx)(b.Mail,{className:"w-4 h-4 inline mr-2"}),e.subject_line]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[(0,t.jsxs)("span",{children:["From: ",e.from_email]}),e.scheduled_at&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Scheduled: ",new Date(e.scheduled_at).toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Recipients"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.total_recipients?.toLocaleString()||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Sent"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.emails_sent?.toLocaleString()||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Delivered"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.emails_delivered?.toLocaleString()||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Opened"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.emails_opened?.toLocaleString()||0,e.emails_delivered>0&&(0,t.jsxs)("span",{className:"text-green-400 text-xs ml-1",children:["(",(e.emails_opened/e.emails_delivered*100).toFixed(1),"%)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Clicked"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.emails_clicked?.toLocaleString()||0,e.emails_delivered>0&&(0,t.jsxs)("span",{className:"text-[#39FF14] text-xs ml-1",children:["(",(e.emails_clicked/e.emails_delivered*100).toFixed(1),"%)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Bounced"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.emails_bounced?.toLocaleString()||0})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"View Details",children:(0,t.jsx)(e7.BarChart3,{className:"w-5 h-5 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-5 h-5 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Duplicate",children:(0,t.jsx)(k.default,{className:"w-5 h-5 text-slate-400"})}),"draft"===e.status&&(0,t.jsx)("button",{className:"p-2 hover:bg-green-600 rounded-lg transition-colors",title:"Send",children:(0,t.jsx)(tt.default,{className:"w-5 h-5 text-green-400"})})]})]})},e.id))})]}),"templates"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Templates"}),(0,t.jsxs)("button",{onClick:()=>X(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Template"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:c.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:bg-[#39FF14]/10 hover:text-[#39FF14] hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg mb-3 flex items-center justify-center",children:(0,t.jsx)(o.FileText,{className:"w-12 h-12 text-slate-600"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:e.template_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${"promotional"===e.template_category||"transactional"===e.template_category?"bg-[#39FF14]/20 text-[#39FF14]":"newsletter"===e.template_category?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.template_category})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.subject_line}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,t.jsxs)("span",{children:["Used ",e.usage_count||0," times"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"hover:text-[#39FF14] transition-colors",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"hover:text-[#39FF14] transition-colors",children:(0,t.jsx)(sT.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"hover:text-[#39FF14] transition-colors",children:(0,t.jsx)(k.default,{className:"w-4 h-4"})})]})]})]},e.id))})]}),"contacts"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Contact Management"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>Z(!0),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(tY.default,{className:"w-5 h-5"}),"Import"]}),(0,t.jsxs)("button",{onClick:()=>J(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Contact"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:m.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.list_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:e.list_description})]}),(0,t.jsx)(D.default,{className:"w-6 h-6 text-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Total"}),(0,t.jsx)("p",{className:"text-white font-semibold text-lg",children:e.total_contacts?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Active"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold text-lg",children:e.active_contacts?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Unsubscribed"}),(0,t.jsx)("p",{className:"text-red-400 font-semibold text-lg",children:e.unsubscribed_contacts?.toLocaleString()})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded text-xs",children:e},s))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-lg text-sm transition-colors",children:"View Contacts"}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(d.Settings,{className:"w-5 h-5 text-slate-400"})})]})]},e.id))}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Contacts"}),(0,t.jsx)("div",{className:"space-y-2",children:g.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/50 rounded-lg transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[#39FF14] to-[#32e012] rounded-full flex items-center justify-center text-white font-semibold",children:e.first_name?.[0]||e.email[0].toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.first_name," ",e.last_name]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.company&&(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:e.company}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"subscribed"===e.subscription_status?"bg-green-500/20 text-green-400":"unsubscribed"===e.subscription_status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.subscription_status}),(0,t.jsx)("button",{onClick:()=>{eb(e),et(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Manage contact",children:(0,t.jsx)(d.Settings,{className:"w-4 h-4 text-slate-400"})})]})]},e.id))})]})]}),"automation"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Automation"}),(0,t.jsxs)("button",{onClick:()=>ea(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Sequence"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${e.is_active?"bg-green-500/20":"bg-slate-700"}`,children:(0,t.jsx)(L.default,{className:`w-6 h-6 ${e.is_active?"text-green-400":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.sequence_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.sequence_description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-semibold uppercase",children:e.trigger_type.replace("_"," ")})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Subscribers"}),(0,t.jsx)("p",{className:"text-white text-2xl font-bold",children:e.total_subscribers?.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Active"}),(0,t.jsx)("p",{className:"text-[#39FF14] text-2xl font-bold",children:e.active_subscribers?.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Completed"}),(0,t.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:e.completed_subscribers?.toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{ej(e),en(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(C.default,{className:"w-4 h-4"}),"View Sequence"]}),(0,t.jsxs)("button",{onClick:()=>{ej(e),er(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(sT.default,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsxs)("button",{onClick:()=>eQ(e.id,e.is_active),className:`px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2 ${e.is_active?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"}`,children:[e.is_active?(0,t.jsx)(tc.default,{className:"w-4 h-4"}):(0,t.jsx)(e2.default,{className:"w-4 h-4"}),e.is_active?"Pause":"Activate"]})]})]},e.id))})]}),"analytics"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Analytics"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Metrics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Average Open Rate"}),(0,t.jsxs)("p",{className:"text-white text-2xl font-bold",children:[e8,"%"]})]})]}),(0,t.jsx)(eE.TrendingUp,{className:"w-8 h-8 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(ax.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Average Click Rate"}),(0,t.jsxs)("p",{className:"text-white text-2xl font-bold",children:[te,"%"]})]})]}),(0,t.jsx)(eE.TrendingUp,{className:"w-8 h-8 text-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,t.jsxs)("p",{className:"text-white text-2xl font-bold",children:[e3>0?(e5/e3*100).toFixed(1):0,"%"]})]})]}),(0,t.jsx)(eE.TrendingUp,{className:"w-8 h-8 text-[#39FF14]"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Device Breakdown"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(am.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white",children:"Desktop"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[#39FF14] rounded-full",style:{width:"58%"}})}),(0,t.jsx)("span",{className:"text-white font-semibold w-12 text-right",children:"58%"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white",children:"Mobile"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[#39FF14] rounded-full",style:{width:"42%"}})}),(0,t.jsx)("span",{className:"text-white font-semibold w-12 text-right",children:"42%"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Top Performing Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:i.filter(e=>"sent"===e.status&&e.emails_delivered>0).sort((e,t)=>t.emails_opened/t.emails_delivered-e.emails_opened/e.emails_delivered).slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.campaign_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.subject_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Open Rate"}),(0,t.jsxs)("p",{className:"text-green-400 font-bold text-lg",children:[(e.emails_opened/e.emails_delivered*100).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Click Rate"}),(0,t.jsxs)("p",{className:"text-[#39FF14] font-bold text-lg",children:[(e.emails_clicked/e.emails_delivered*100).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Delivered"}),(0,t.jsx)("p",{className:"text-white font-bold text-lg",children:e.emails_delivered.toLocaleString()})]})]})]},e.id))})]})]}),"providers"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Providers"}),(0,t.jsxs)("button",{onClick:()=>ed(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Provider"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:F.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${e.is_active?"bg-green-500/20":"bg-slate-700"}`,children:(0,t.jsx)(b.Mail,{className:`w-6 h-6 ${e.is_active?"text-green-400":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.provider_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.from_email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_default&&(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-semibold",children:"DEFAULT"}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded-full text-xs font-semibold uppercase",children:e.provider_type.replace("_"," ")})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.smtp_host&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"SMTP Host"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.smtp_host})]}),e.smtp_port&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Port"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.smtp_port})]}),e.daily_sending_limit&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Daily Limit"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.daily_sending_limit.toLocaleString()})]}),e.monthly_sending_limit&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Monthly Limit"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.monthly_sending_limit.toLocaleString()})]})]}),P.filter(t=>t.provider_config_id===e.id).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("p",{className:"text-slate-400 text-sm capitalize",children:[e.quota_period," Usage"]}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.emails_sent.toLocaleString()," / ",e.quota_limit.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full ${e.emails_sent/e.quota_limit>.9?"bg-red-500":e.emails_sent/e.quota_limit>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(e.emails_sent/e.quota_limit*100,100)}%`}})})]},e.id)),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsxs)("button",{onClick:()=>{eN(e),ex(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(d.Settings,{className:"w-4 h-4"}),"Configure"]}),(0,t.jsxs)("button",{onClick:()=>e4(e.id),disabled:ey,className:"bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(e_.default,{className:`w-4 h-4 ${ey?"animate-spin":""}`}),ey?"Testing...":"Test Connection"]})]})]},e.id))})]}),G&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Email Campaign"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Design and schedule your email marketing campaign"})]}),(0,t.jsx)("button",{onClick:()=>{K(!1),ep(1)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${eu>=e?"bg-[#39FF14] text-white":"bg-slate-700 text-slate-400"}`,children:e}),(0,t.jsx)("div",{className:`flex-1 h-1 mx-2 ${eu>e?"bg-[#39FF14]":"bg-slate-700"}`})]},e))}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs",children:[(0,t.jsx)("span",{className:eu>=1?"text-[#39FF14]":"text-slate-500",children:"Campaign Details"}),(0,t.jsx)("span",{className:eu>=2?"text-[#39FF14]":"text-slate-500",children:"Select Audience"}),(0,t.jsx)("span",{className:eu>=3?"text-[#39FF14]":"text-slate-500",children:"Schedule & Review"})]})]}),(0,t.jsxs)("div",{className:"p-6",children:[1===eu&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:eC.campaign_name,onChange:e=>eS({...eC,campaign_name:e.target.value}),placeholder:"Summer Sale 2024",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Campaign Type"}),(0,t.jsxs)("select",{value:eC.campaign_type,onChange:e=>eS({...eC,campaign_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"regular",children:"Regular Campaign"}),(0,t.jsx)("option",{value:"ab_test",children:"A/B Test Campaign"}),(0,t.jsx)("option",{value:"automated",children:"Automated"}),(0,t.jsx)("option",{value:"drip",children:"Drip Campaign"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Select Template (Optional)"}),(0,t.jsxs)("select",{value:eC.template_id,onChange:e=>{let t=e.target.value;eS({...eC,template_id:t});let s=c.find(e=>e.id===t);s&&eS(e=>({...e,subject_line:s.subject_line,preview_text:s.preview_text||""}))},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Create from scratch"}),c.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.template_name," (",e.template_category,")"]},e.id))]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Choose a template or design from scratch"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subject Line *"}),(0,t.jsx)("input",{type:"text",value:eC.subject_line,onChange:e=>eS({...eC,subject_line:e.target.value}),placeholder:"Your exclusive offer awaits!",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Preview Text"}),(0,t.jsx)("input",{type:"text",value:eC.preview_text,onChange:e=>eS({...eC,preview_text:e.target.value}),placeholder:"Don't miss out on our biggest sale of the year",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Displayed in email client preview pane"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Email *"}),(0,t.jsx)("input",{type:"email",value:eC.from_email,onChange:e=>eS({...eC,from_email:e.target.value}),placeholder:"newsletter@company.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Name"}),(0,t.jsx)("input",{type:"text",value:eC.from_name,onChange:e=>eS({...eC,from_name:e.target.value}),placeholder:"Company Team",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Reply-To Email"}),(0,t.jsx)("input",{type:"email",value:eC.reply_to_email,onChange:e=>eS({...eC,reply_to_email:e.target.value}),placeholder:"support@company.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),"ab_test"===eC.campaign_type&&(0,t.jsxs)("div",{className:"border border-[#39FF14]/30 bg-[#39FF14]/10 rounded-lg p-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:eC.ab_test_enabled,onChange:e=>eS({...eC,ab_test_enabled:e.target.checked}),className:"w-5 h-5 rounded"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable A/B Testing"})]}),eC.ab_test_enabled&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:"Test different subject lines to see which performs better:"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white text-sm mb-1",children:"Variant A (Original)"}),(0,t.jsx)("input",{type:"text",value:eC.ab_subject_variants[0],onChange:e=>{let t=[...eC.ab_subject_variants];t[0]=e.target.value,eS({...eC,ab_subject_variants:t})},placeholder:"First subject line option",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white text-sm mb-1",children:"Variant B (Alternative)"}),(0,t.jsx)("input",{type:"text",value:eC.ab_subject_variants[1],onChange:e=>{let t=[...eC.ab_subject_variants];t[1]=e.target.value,eS({...eC,ab_subject_variants:t})},placeholder:"Second subject line option",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14]"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,t.jsx)("input",{type:"text",value:eC.tags,onChange:e=>eS({...eC,tags:e.target.value}),placeholder:"promotion, summer, sale",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Comma-separated tags for organization"})]})]}),2===eu&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Select Contact Lists"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Choose which contact lists will receive this campaign"}),(0,t.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[m.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg hover:border-[#39FF14]/50 cursor-pointer transition-all",children:[(0,t.jsx)("input",{type:"checkbox",checked:eC.selected_lists.includes(e.id),onChange:t=>{t.target.checked?eS({...eC,selected_lists:[...eC.selected_lists,e.id]}):eS({...eC,selected_lists:eC.selected_lists.filter(t=>t!==e.id)})},className:"w-5 h-5 rounded"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.list_name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.default,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:[e.total_contacts," contacts"]})]})]}),e.list_description&&(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:e.list_description}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded text-xs",children:e},s))})]})]},e.id)),0===m.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(l.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No contact lists found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Create contact lists to send campaigns"})]})]}),eC.selected_lists.length>0&&(0,t.jsxs)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-[#39FF14] mb-1",children:[(0,t.jsx)(sL.default,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"Estimated Recipients"})]}),(0,t.jsx)("p",{className:"text-white text-2xl font-bold",children:m.filter(e=>eC.selected_lists.includes(e.id)).reduce((e,t)=>e+(t.active_contacts||0),0).toLocaleString()}),(0,t.jsxs)("p",{className:"text-slate-300 text-sm mt-1",children:["Active contacts across ",eC.selected_lists.length," selected lists"]})]})]}),3===eu&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Schedule Campaign"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("input",{type:"radio",name:"schedule_type",value:"send_now",checked:"send_now"===eC.schedule_type,onChange:e=>eS({...eC,schedule_type:e.target.value}),className:"w-5 h-5 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Send Immediately"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Campaign will be sent as soon as it's created"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("input",{type:"radio",name:"schedule_type",value:"schedule",checked:"schedule"===eC.schedule_type,onChange:e=>eS({...eC,schedule_type:e.target.value}),className:"w-5 h-5 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(f.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Schedule for Later"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:"Choose a specific date and time to send"}),"schedule"===eC.schedule_type&&(0,t.jsx)("input",{type:"datetime-local",value:eC.scheduled_at,onChange:e=>eS({...eC,scheduled_at:e.target.value}),min:new Date().toISOString().slice(0,16),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Campaign Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Campaign Name"}),(0,t.jsx)("p",{className:"text-white font-medium",children:eC.campaign_name||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Type"}),(0,t.jsx)("p",{className:"text-white font-medium capitalize",children:eC.campaign_type.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Subject Line"}),(0,t.jsx)("p",{className:"text-white font-medium",children:eC.subject_line||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"From"}),(0,t.jsx)("p",{className:"text-white font-medium",children:eC.from_email||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Lists Selected"}),(0,t.jsx)("p",{className:"text-white font-medium",children:eC.selected_lists.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white font-medium",children:m.filter(e=>eC.selected_lists.includes(e.id)).reduce((e,t)=>e+(t.active_contacts||0),0).toLocaleString()})]})]})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Before Sending"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Ensure your content complies with email marketing regulations"}),(0,t.jsx)("li",{children:"Include an unsubscribe link in your email template"}),(0,t.jsx)("li",{children:"Test your email on different devices and email clients"}),(0,t.jsx)("li",{children:"Review all links and personalization variables"})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[eu>1&&(0,t.jsx)("button",{onClick:()=>ep(eu-1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Back"}),(0,t.jsx)("button",{onClick:()=>{K(!1),ep(1)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),eu<3?(0,t.jsxs)("button",{onClick:()=>ep(eu+1),disabled:1===eu&&(!eC.campaign_name||!eC.subject_line||!eC.from_email),className:"flex-1 px-6 py-3 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:["Next Step",(0,t.jsx)(I.ChevronRight,{className:"w-5 h-5"})]}):(0,t.jsx)("button",{onClick:eK,disabled:em,className:"flex-1 px-6 py-3 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Creating Campaign..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),"Create Campaign"]})})]})]})]})}),W&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Email Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Design a reusable email template with rich content"})]}),(0,t.jsx)("button",{onClick:()=>X(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Template Name *"}),(0,t.jsx)("input",{type:"text",value:eM.template_name,onChange:e=>eA({...eM,template_name:e.target.value}),placeholder:"Welcome Email",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,t.jsxs)("select",{value:eM.template_category,onChange:e=>eA({...eM,template_category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"general",children:"General"}),(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"newsletter",children:"Newsletter"}),(0,t.jsx)("option",{value:"welcome",children:"Welcome"}),(0,t.jsx)("option",{value:"abandoned_cart",children:"Abandoned Cart"}),(0,t.jsx)("option",{value:"announcement",children:"Announcement"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subject Line *"}),(0,t.jsx)("input",{type:"text",value:eM.subject_line,onChange:e=>eA({...eM,subject_line:e.target.value}),placeholder:"Welcome to our platform!",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Preview Text"}),(0,t.jsx)("input",{type:"text",value:eM.preview_text,onChange:e=>eA({...eM,preview_text:e.target.value}),placeholder:"Get started with your new account",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Shown in email client preview"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Thumbnail URL (Optional)"}),(0,t.jsx)("input",{type:"url",value:eM.thumbnail_url,onChange:e=>eA({...eM,thumbnail_url:e.target.value}),placeholder:"https://example.com/template-preview.jpg",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Image URL for template preview"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"HTML Content *"}),(0,t.jsx)("textarea",{value:eM.html_content,onChange:e=>eA({...eM,html_content:e.target.value}),placeholder:`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email Template</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background: #007bff; color: white; padding: 20px; text-align: center; }
    .content { padding: 20px; background: #f9f9f9; }
    .button { display: inline-block; padding: 12px 24px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; }
    .footer { text-align: center; padding: 20px; font-size: 12px; color: #666; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Welcome to {{company_name}}!</h1>
    </div>
    <div class="content">
      <h2>Hello {{first_name}},</h2>
      <p>Thank you for joining us. We're excited to have you on board!</p>
      <p><a href="{{action_url}}" class="button">Get Started</a></p>
      <img src="https://via.placeholder.com/600x300" alt="Welcome" style="max-width: 100%; height: auto;">
    </div>
    <div class="footer">
      <p>&copy; 2024 {{company_name}}. All rights reserved.</p>
      <p><a href="{{unsubscribe_url}}">Unsubscribe</a></p>
    </div>
  </div>
</body>
</html>`,rows:15,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-[#39FF14] resize-none"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Full HTML email template with inline CSS for best compatibility"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Plain Text Content (Fallback)"}),(0,t.jsx)("textarea",{value:eM.plain_text_content,onChange:e=>eA({...eM,plain_text_content:e.target.value}),placeholder:"Plain text version for email clients that don't support HTML...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] resize-none"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Plain text fallback for non-HTML email clients"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Template Variables"}),(0,t.jsx)("input",{type:"text",value:eM.template_variables,onChange:e=>eA({...eM,template_variables:e.target.value}),placeholder:"first_name, last_name, company_name, action_url, unsubscribe_url",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:["Comma-separated list of merge variables (e.g., ","{{first_name}}",")"]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eM.is_responsive,onChange:e=>eA({...eM,is_responsive:e.target.checked}),className:"w-5 h-5 rounded"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Responsive Design"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Template adapts to mobile and desktop screens"})]})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(o.FileText,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Template Best Practices"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Use inline CSS for styling (many email clients strip style tags)"}),(0,t.jsx)("li",{children:"Include image URLs from reliable hosting (avoid relative paths)"}),(0,t.jsx)("li",{children:"Test templates across different email clients"}),(0,t.jsx)("li",{children:"Keep width under 600px for best mobile compatibility"}),(0,t.jsx)("li",{children:"Always include alt text for images"}),(0,t.jsx)("li",{children:"Add unsubscribe link for compliance"})]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>X(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eW,disabled:em,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Creating Template..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.FileText,{className:"w-5 h-5"}),"Create Template"]})})]})]})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New Contact"}),(0,t.jsx)("button",{onClick:()=>{J(!1),eP({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",value:eI.email,onChange:e=>eP({...eI,email:e.target.value}),placeholder:"contact@example.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"First Name"}),(0,t.jsx)("input",{type:"text",value:eI.first_name,onChange:e=>eP({...eI,first_name:e.target.value}),placeholder:"John",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Last Name"}),(0,t.jsx)("input",{type:"text",value:eI.last_name,onChange:e=>eP({...eI,last_name:e.target.value}),placeholder:"Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Company"}),(0,t.jsx)("input",{type:"text",value:eI.company,onChange:e=>eP({...eI,company:e.target.value}),placeholder:"Company Name",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Job Title"}),(0,t.jsx)("input",{type:"text",value:eI.job_title,onChange:e=>eP({...eI,job_title:e.target.value}),placeholder:"Marketing Manager",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:eI.phone_number,onChange:e=>eP({...eI,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Country"}),(0,t.jsx)("input",{type:"text",value:eI.country,onChange:e=>eP({...eI,country:e.target.value}),placeholder:"Malaysia",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,t.jsxs)("select",{value:eI.subscription_status,onChange:e=>eP({...eI,subscription_status:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,t.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:eI.tags,onChange:e=>eP({...eI,tags:e.target.value}),placeholder:"customer, vip, newsletter",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Add to Lists"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:m.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 p-3 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer hover:border-[#39FF14] transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:eI.selected_lists.includes(e.id),onChange:t=>{t.target.checked?eP({...eI,selected_lists:[...eI.selected_lists,e.id]}):eP({...eI,selected_lists:eI.selected_lists.filter(t=>t!==e.id)})},className:"w-4 h-4 text-[#39FF14] bg-slate-700 border-slate-600 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white text-sm",children:e.list_name})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{J(!1),eP({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eX,disabled:em,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Adding Contact..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Contact"]})})]})]})]})}),Y&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Import Contacts"}),(0,t.jsx)("button",{onClick:()=>{Z(!1),ek(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"CSV Format Instructions"}),(0,t.jsxs)("ul",{className:"text-slate-400 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"• First row must contain headers"}),(0,t.jsx)("li",{children:"• Required column: email"}),(0,t.jsx)("li",{children:"• Optional columns: first_name, last_name, company, phone, phone_number"}),(0,t.jsx)("li",{children:"• All other columns will be ignored"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Upload CSV File"}),(0,t.jsx)("input",{type:"file",accept:".csv",onChange:e=>ek(e.target.files?.[0]||null),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-[#39FF14] file:text-white hover:file:bg-[#32e012]"}),eF&&(0,t.jsxs)("p",{className:"text-[#39FF14] text-sm mt-2",children:["Selected: ",eF.name]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{Z(!1),ek(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eH,disabled:em||!eF,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Importing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tY.default,{className:"w-5 h-5"}),"Import Contacts"]})})]})]})]})}),ee&&eg&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Contact Settings"}),(0,t.jsx)("button",{onClick:()=>{et(!1),eb(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Contact"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:eg.email}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:[eg.first_name," ",eg.last_name]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subscription Status"}),(0,t.jsxs)("select",{value:eg.subscription_status,onChange:e=>eb({...eg,subscription_status:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,t.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:eg.tags?eg.tags.join(", "):"",onChange:e=>eb({...eg,tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),placeholder:"customer, vip, newsletter",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{et(!1),eb(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eJ,disabled:em,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Settings,{className:"w-5 h-5"}),"Save Settings"]})})]})]})]})}),es&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Automation Sequence"}),(0,t.jsx)("button",{onClick:()=>{ea(!1),eD({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sequence Name *"}),(0,t.jsx)("input",{type:"text",value:eT.sequence_name,onChange:e=>eD({...eT,sequence_name:e.target.value}),placeholder:"Welcome Series",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eT.sequence_description,onChange:e=>eD({...eT,sequence_description:e.target.value}),placeholder:"Describe your automation sequence...",rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Trigger Type"}),(0,t.jsxs)("select",{value:eT.trigger_type,onChange:e=>eD({...eT,trigger_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"manual",children:"Manual"}),(0,t.jsx)("option",{value:"signup",children:"On Signup"}),(0,t.jsx)("option",{value:"purchase",children:"On Purchase"}),(0,t.jsx)("option",{value:"abandoned_cart",children:"Abandoned Cart"}),(0,t.jsx)("option",{value:"date_based",children:"Date Based"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,t.jsxs)("select",{value:eT.is_active?"active":"inactive",onChange:e=>eD({...eT,is_active:"active"===e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ea(!1),eD({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eY,disabled:em,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Sequence"]})})]})]})]})}),ei&&ef&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:ef.sequence_name}),(0,t.jsx)("button",{onClick:()=>{en(!1),ej(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-white",children:ef.sequence_description||"No description provided"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Total Subscribers"}),(0,t.jsx)("p",{className:"text-white text-2xl font-bold",children:ef.total_subscribers||0})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Active"}),(0,t.jsx)("p",{className:"text-[#39FF14] text-2xl font-bold",children:ef.active_subscribers||0})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Completed"}),(0,t.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:ef.completed_subscribers||0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-3",children:"Sequence Details"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Trigger Type"}),(0,t.jsx)("span",{className:"text-white font-medium capitalize",children:ef.trigger_type.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Status"}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ef.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:ef.is_active?"ACTIVE":"INACTIVE"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Created"}),(0,t.jsx)("span",{className:"text-white",children:new Date(ef.created_at).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{en(!1),ej(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Close"}),(0,t.jsxs)("button",{onClick:()=>{en(!1),er(!0)},className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(sT.default,{className:"w-5 h-5"}),"Edit Sequence"]})]})]})]})}),el&&ef&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Sequence"}),(0,t.jsx)("button",{onClick:()=>{er(!1),ej(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Sequence Name"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:ef.sequence_name})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Note: Full sequence editing will be available soon. For now, you can pause/activate sequences from the main list."}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{onClick:()=>{er(!1),ej(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Close"})})]})]})}),eo&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Email Provider"}),(0,t.jsx)("button",{onClick:()=>{ed(!1),eL({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Provider Name *"}),(0,t.jsx)("input",{type:"text",value:eR.provider_name,onChange:e=>eL({...eR,provider_name:e.target.value}),placeholder:"My Email Provider",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Provider Type"}),(0,t.jsxs)("select",{value:eR.provider_type,onChange:e=>eL({...eR,provider_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"smtp",children:"SMTP"}),(0,t.jsx)("option",{value:"api",children:"API (SendGrid, Mailgun, etc.)"})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Email *"}),(0,t.jsx)("input",{type:"email",value:eR.from_email,onChange:e=>eL({...eR,from_email:e.target.value}),placeholder:"noreply@yourdomain.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Name"}),(0,t.jsx)("input",{type:"text",value:eR.from_name,onChange:e=>eL({...eR,from_name:e.target.value}),placeholder:"Your Company",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sending Domain"}),(0,t.jsx)("input",{type:"text",value:eR.sending_domain,onChange:e=>eL({...eR,sending_domain:e.target.value}),placeholder:"yourdomain.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),"smtp"===eR.provider_type&&(0,t.jsxs)("div",{className:"space-y-4 border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:"SMTP Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"SMTP Host *"}),(0,t.jsx)("input",{type:"text",value:eR.smtp_host,onChange:e=>eL({...eR,smtp_host:e.target.value}),placeholder:"smtp.gmail.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"SMTP Port"}),(0,t.jsx)("input",{type:"number",value:eR.smtp_port,onChange:e=>eL({...eR,smtp_port:e.target.value}),placeholder:"587",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Username *"}),(0,t.jsx)("input",{type:"text",value:eR.smtp_username,onChange:e=>eL({...eR,smtp_username:e.target.value}),placeholder:"your@email.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Password *"}),(0,t.jsx)("input",{type:"password",value:eR.smtp_password,onChange:e=>eL({...eR,smtp_password:e.target.value}),placeholder:"••••••••",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Encryption"}),(0,t.jsxs)("select",{value:eR.smtp_encryption,onChange:e=>eL({...eR,smtp_encryption:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"tls",children:"TLS"}),(0,t.jsx)("option",{value:"ssl",children:"SSL"}),(0,t.jsx)("option",{value:"none",children:"None"})]})]})]})]}),"api"===eR.provider_type&&(0,t.jsxs)("div",{className:"space-y-4 border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:"API Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"API Key *"}),(0,t.jsx)("input",{type:"password",value:eR.api_key,onChange:e=>eL({...eR,api_key:e.target.value}),placeholder:"Your API key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"API Secret (optional)"}),(0,t.jsx)("input",{type:"password",value:eR.api_secret,onChange:e=>eL({...eR,api_secret:e.target.value}),placeholder:"Your API secret",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:eR.is_default,onChange:e=>eL({...eR,is_default:e.target.checked}),className:"w-4 h-4 text-[#39FF14] bg-slate-700 border-slate-600 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white",children:"Set as default provider"})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ed(!1),eL({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eZ,disabled:em,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Adding Provider..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Provider"]})})]})]})]})}),ec&&ev&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Configure Provider"}),(0,t.jsx)("button",{onClick:()=>{ex(!1),eN(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Provider"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:ev.provider_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:ev.from_email})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",checked:ev.is_active,onChange:e=>eN({...ev,is_active:e.target.checked}),className:"w-4 h-4 text-[#39FF14] bg-slate-700 border-slate-600 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white",children:"Provider is active"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:ev.is_default,onChange:e=>eN({...ev,is_default:e.target.checked}),className:"w-4 h-4 text-[#39FF14] bg-slate-700 border-slate-600 rounded focus:ring-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white",children:"Set as default provider"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Daily Sending Limit"}),(0,t.jsx)("input",{type:"number",value:ev.daily_sending_limit||"",onChange:e=>eN({...ev,daily_sending_limit:parseInt(e.target.value)||null}),placeholder:"1000",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Maximum emails to send per day (leave empty for unlimited)"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ex(!1),eN(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e0,disabled:em,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:em?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Settings,{className:"w-5 h-5"}),"Save Configuration"]})})]})]})]})})]})}var tQ=tQ,au=e.i(51485),au=au,e_=e_,et=et,t0=t0,q=q,sL=sL,L=L,ap=e.i(17302),ap=ap,e2=e2,tc=tc,C=C,ag=e.i(53487),ag=ag,tF=tF,x=x,sW=sW,sT=sT,v=v;function ab({onNavigate:e}){let{user:a}=(0,Q.useAuth)(),[l,r]=(0,s.useState)("sim-swap"),[i,o]=(0,s.useState)([]),[c,u]=(0,s.useState)([]),[p,g]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[j,w]=(0,s.useState)([]),[_,F]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[M,A]=(0,s.useState)([]),[I,T]=(0,s.useState)(!0),[D,R]=(0,s.useState)(""),[$,O]=(0,s.useState)(null),[U,V]=(0,s.useState)(!1),[B,z]=(0,s.useState)("providers"),[G,K]=(0,s.useState)(!1),[W,X]=(0,s.useState)("sim-swap"),[H,J]=(0,s.useState)(""),[Y,es]=(0,s.useState)(null),[ea,el]=(0,s.useState)(!1),[er,ei]=(0,s.useState)(!1),[en,eo]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)(!1),[ex,em]=(0,s.useState)(!1),[eh,eu]=(0,s.useState)(!1),[ep,eg]=(0,s.useState)(!1),[eb,ef]=(0,s.useState)(!1),[ej,ev]=(0,s.useState)(!1),[eN,ew]=(0,s.useState)(!1),[eF,ek]=(0,s.useState)(!1),[eC,eS]=(0,s.useState)(!1),[eM,eA]=(0,s.useState)(null),[eI,eP]=(0,s.useState)({phone_number:"",lookback_days:"7"}),[eT,eD]=(0,s.useState)({phone_number:"",verification_method:"network_auth"}),[eR,eL]=(0,s.useState)({phone_number:"",request_type:"precise",geofence_id:""}),[e$,eO]=(0,s.useState)({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),[eq,eU]=(0,s.useState)({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1});(0,s.useEffect)(()=>{a&&Promise.all([eV(),eB(),ez(),eG(),eK(),eW(),eX(),eH()]).finally(()=>T(!1))},[a]),(0,s.useEffect)(()=>{if($){let e=setTimeout(()=>O(null),5e3);return()=>clearTimeout(e)}},[$]);let eV=async()=>{let{data:e,error:t}=await h.db.from("telco_api_providers").select("*").order("is_active",{ascending:!1});!t&&e&&o(e)},eB=async()=>{let{data:e,error:t}=await h.db.from("sim_swap_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&u(e)},ez=async()=>{let{data:e,error:t}=await h.db.from("number_verification_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&g(e)},eG=async()=>{let{data:e,error:t}=await h.db.from("device_location_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&f(e)},eK=async()=>{let{data:e,error:t}=await h.db.from("geofences").select("*").order("created_at",{ascending:!1});!t&&e&&w(e)},eW=async()=>{let{data:e,error:t}=await h.db.from("qod_sessions").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&F(e)},eX=async()=>{let{data:e,error:t}=await h.db.from("telco_api_usage").select("*").order("usage_date",{ascending:!1}).limit(100);!t&&e&&S(e)},eH=async()=>{let{data:e,error:t}=await h.db.from("telco_tracked_devices").select("*").order("created_at",{ascending:!1});!t&&e&&A(e)},eJ=async()=>{if(!H)return void O({type:"error",message:"Please enter a phone number"});el(!0),es(null);try{if("sim-swap"===W){let e={phone_number:H,swap_detected:Math.random()>.7,fraud_score:Math.floor(100*Math.random()),last_swap_date:new Date(Date.now()-30*Math.random()*864e5).toISOString(),days_since_swap:Math.floor(30*Math.random()),response_time_ms:Math.floor(200*Math.random())+100};es(e),O({type:"success",message:"SIM Swap check completed"})}else if("number-verify"===W){let e={phone_number:H,is_verified:Math.random()>.3,match_score:Math.floor(100*Math.random()),network_name:["Maxis","Celcom","DiGi","U Mobile"][Math.floor(4*Math.random())],network_type:"4G",response_time_ms:Math.floor(150*Math.random())+80};es(e),O({type:"success",message:"Number verification completed"})}else if("location"===W)es({phone_number:H,latitude:3.139+(Math.random()-.5)*.1,longitude:101.6869+(Math.random()-.5)*.1,accuracy_meters:Math.floor(100*Math.random())+50,city:"Kuala Lumpur",country:"Malaysia",response_time_ms:Math.floor(300*Math.random())+150}),O({type:"success",message:"Location retrieved successfully"});else if("qod"===W){let e={session_id:`qod_${Date.now()}`,phone_number:H,status:"active",target_latency_ms:50,actual_latency_ms:Math.floor(40*Math.random())+20,target_bandwidth_mbps:100,actual_bandwidth_mbps:Math.floor(100*Math.random())+80,packet_loss_percent:(2*Math.random()).toFixed(2),jitter_ms:Math.floor(10*Math.random())+5};es(e),O({type:"success",message:"QoD session created successfully"})}}catch(e){O({type:"error",message:"API test failed"})}finally{el(!1)}},eY=async(e,t)=>{let{error:s}=await h.db.from("telco_api_providers").update({is_active:!t}).eq("id",e);s?O({type:"error",message:"Failed to update provider"}):(O({type:"success",message:`Provider ${!t?"activated":"deactivated"}`}),eV())},eQ=async e=>{let{error:t}=await h.db.from("geofences").delete().eq("id",e);t?O({type:"error",message:"Failed to delete geofence"}):(O({type:"success",message:"Geofence deleted successfully"}),eK())},eZ=async()=>{if(!eI.phone_number)return void O({type:"error",message:"Please enter a phone number"});eg(!0);try{let e=Math.random()>.7,t=Math.floor(100*Math.random()),s=Math.floor(Math.random()*parseInt(eI.lookback_days)),{error:a}=await h.db.from("sim_swap_requests").insert([{phone_number:eI.phone_number,provider_id:i.find(e=>e.is_active)?.id,swap_detected:e,fraud_score:t,last_swap_date:e?new Date(Date.now()-24*s*36e5).toISOString():null,days_since_swap:e?s:null,response_time_ms:Math.floor(200*Math.random())+100,request_timestamp:new Date().toISOString()}]);a?O({type:"error",message:"Failed to create SIM Swap check"}):(O({type:"success",message:"SIM Swap check completed successfully"}),ei(!1),eP({phone_number:"",lookback_days:"7"}),eB())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},e0=async()=>{if(!eT.phone_number)return void O({type:"error",message:"Please enter a phone number"});eg(!0);try{let e=Math.random()>.3,t=Math.floor(100*Math.random()),s=["Maxis","Celcom","DiGi","U Mobile"],{error:a}=await h.db.from("number_verification_requests").insert([{phone_number:eT.phone_number,provider_id:i.find(e=>e.is_active)?.id,verification_method:eT.verification_method,is_verified:e,match_score:t,network_name:s[Math.floor(Math.random()*s.length)],network_type:["4G","5G"][Math.floor(2*Math.random())],response_time_ms:Math.floor(150*Math.random())+80,request_timestamp:new Date().toISOString()}]);a?O({type:"error",message:"Failed to verify number"}):(O({type:"success",message:"Number verification completed successfully"}),eo(!1),eD({phone_number:"",verification_method:"network_auth"}),ez())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},e4=async()=>{if(!eR.phone_number)return void O({type:"error",message:"Please enter a phone number"});eg(!0);try{let e=3.139+(Math.random()-.5)*.1,t=101.6869+(Math.random()-.5)*.1,s=Math.floor(100*Math.random())+50,{error:a}=await h.db.from("device_location_requests").insert([{phone_number:eR.phone_number,provider_id:i.find(e=>e.is_active)?.id,request_type:eR.request_type,geofence_id:eR.geofence_id||null,latitude:e,longitude:t,accuracy_meters:s,city:"Kuala Lumpur",country:"Malaysia",is_within_area:eR.geofence_id?Math.random()>.5:null,status:"completed",response_time_ms:Math.floor(300*Math.random())+150,request_timestamp:new Date().toISOString()}]);a?O({type:"error",message:"Failed to create location request"}):(O({type:"success",message:"Location request completed successfully"}),ec(!1),eL({phone_number:"",request_type:"precise",geofence_id:""}),eG())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},e1=async()=>{if(!e$.phone_number)return void O({type:"error",message:"Please enter a phone number"});eg(!0);try{let e=`qod_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,t=parseInt(e$.target_latency_ms),s=Math.floor(.8*t*Math.random())+.2*t,a=parseInt(e$.target_bandwidth_mbps),l=Math.floor(.3*a*Math.random())+.7*a,{error:r}=await h.db.from("qod_sessions").insert([{session_id:e,phone_number:e$.phone_number,provider_id:i.find(e=>e.is_active)?.id,qos_profile:e$.qos_profile,target_latency_ms:t,actual_latency_ms:s,target_bandwidth_mbps:a,actual_bandwidth_mbps:l,session_duration_minutes:parseInt(e$.session_duration_minutes),packet_loss_percent:parseFloat((2*Math.random()).toFixed(2)),jitter_ms:Math.floor(10*Math.random())+5,status:"active",request_timestamp:new Date().toISOString()}]);r?O({type:"error",message:"Failed to create QoD session"}):(O({type:"success",message:"QoD session created successfully"}),em(!1),eO({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),eW())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},e3=async()=>{if(!eq.device_name||!eq.phone_number)return void O({type:"error",message:"Please enter device name and phone number"});eg(!0);try{let e=eq.tags?eq.tags.split(",").map(e=>e.trim()).filter(e=>e):[],{error:t}=await h.db.from("telco_tracked_devices").insert([{user_id:a?.id,device_name:eq.device_name,phone_number:eq.phone_number,device_type:eq.device_type,os_version:eq.os_version||null,device_model:eq.device_model||null,imei:eq.imei||null,tracking_enabled:eq.tracking_enabled,location_consent:eq.location_consent,precision_level:eq.precision_level,update_frequency_minutes:parseInt(eq.update_frequency_minutes),battery_optimization:eq.battery_optimization,tags:e,notes:eq.notes||null,alert_on_movement:eq.alert_on_movement,alert_on_geofence_exit:eq.alert_on_geofence_exit,alert_on_geofence_enter:eq.alert_on_geofence_enter,is_active:!0}]);t?O({type:"error",message:"Failed to add device"}):(O({type:"success",message:"Device added successfully"}),eu(!1),eU({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1}),eH())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},e5=async e=>{if(!confirm("Are you sure you want to delete this SIM Swap check?"))return;let{error:t}=await h.db.from("sim_swap_requests").delete().eq("id",e);t?O({type:"error",message:"Failed to delete SIM Swap check"}):(O({type:"success",message:"SIM Swap check deleted successfully"}),eB())},e9=async e=>{if(!confirm("Are you sure you want to delete this verification request?"))return;let{error:t}=await h.db.from("number_verification_requests").delete().eq("id",e);t?O({type:"error",message:"Failed to delete verification request"}):(O({type:"success",message:"Verification request deleted successfully"}),ez())},e6=async e=>{if(!confirm("Are you sure you want to delete this location request?"))return;let{error:t}=await h.db.from("location_verification_requests").delete().eq("id",e);t?O({type:"error",message:"Failed to delete location request"}):(O({type:"success",message:"Location request deleted successfully"}),eG())},e8=async e=>{if(!confirm("Are you sure you want to delete this QoD session?"))return;let{error:t}=await h.db.from("qod_sessions").delete().eq("id",e);t?O({type:"error",message:"Failed to delete QoD session"}):(O({type:"success",message:"QoD session deleted successfully"}),eW())},e7=async e=>{if(!confirm("Are you sure you want to delete this tracked device?"))return;let{error:t}=await h.db.from("telco_tracked_devices").delete().eq("id",e);t?O({type:"error",message:"Failed to delete tracked device"}):(O({type:"success",message:"Tracked device deleted successfully"}),eH())},te=async()=>{if(!eM||!eI.phone_number)return void O({type:"error",message:"Please fill in required fields"});eg(!0);try{let{error:e}=await h.db.from("sim_swap_requests").update({phone_number:eI.phone_number,request_timestamp:new Date().toISOString()}).eq("id",eM.id);e?O({type:"error",message:"Failed to update SIM Swap check"}):(O({type:"success",message:"SIM Swap check updated successfully"}),ef(!1),eA(null),eP({phone_number:"",lookback_days:"7"}),eB())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},tt=async()=>{if(!eM||!eT.phone_number)return void O({type:"error",message:"Please fill in required fields"});eg(!0);try{let{error:e}=await h.db.from("number_verification_requests").update({phone_number:eT.phone_number,verification_method:eT.verification_method,request_timestamp:new Date().toISOString()}).eq("id",eM.id);e?O({type:"error",message:"Failed to update verification request"}):(O({type:"success",message:"Verification request updated successfully"}),ev(!1),eA(null),eD({phone_number:"",verification_method:"network_auth"}),ez())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},ts=async()=>{if(!eM||!eR.phone_number)return void O({type:"error",message:"Please fill in required fields"});eg(!0);try{let{error:e}=await h.db.from("location_verification_requests").update({phone_number:eR.phone_number,request_type:eR.request_type,geofence_id:eR.geofence_id||null,request_timestamp:new Date().toISOString()}).eq("id",eM.id);e?O({type:"error",message:"Failed to update location request"}):(O({type:"success",message:"Location request updated successfully"}),ew(!1),eA(null),eL({phone_number:"",request_type:"precise",geofence_id:""}),eG())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},ta=async()=>{if(!eM||!e$.phone_number)return void O({type:"error",message:"Please fill in required fields"});eg(!0);try{let{error:e}=await h.db.from("qod_sessions").update({phone_number:e$.phone_number,qos_profile:e$.qos_profile,session_duration_minutes:parseInt(e$.session_duration_minutes),target_latency_ms:parseInt(e$.target_latency_ms),target_bandwidth_mbps:parseInt(e$.target_bandwidth_mbps)}).eq("id",eM.id);e?O({type:"error",message:"Failed to update QoD session"}):(O({type:"success",message:"QoD session updated successfully"}),ek(!1),eA(null),eO({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),eW())}catch(e){O({type:"error",message:"An error occurred"})}finally{eg(!1)}},tl=c.length,tr=c.filter(e=>e.swap_detected).length,ti=c.reduce((e,t)=>e+(t.fraud_score||0),0)/(tl||1),tn=p.length,to=p.filter(e=>e.is_verified).length,td=p.reduce((e,t)=>e+(t.match_score||0),0)/(tn||1),tx=b.length,tm=b.filter(e=>"completed"===e.status).length,th=_.length,tu=_.filter(e=>"active"===e.status).length,tp=k.filter(e=>{let t=new Date(e.usage_date),s=new Date;return t.toDateString()===s.toDateString()}),tg=tp.reduce((e,t)=>e+(t.total_requests||0),0),tb=tp.reduce((e,t)=>e+parseFloat(t.total_cost||0),0);return I?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#39FF14]"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[$&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===$.type?"bg-green-500":"bg-red-500"} text-white`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["success"===$.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:$.message})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Telco API"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Network intelligence APIs for authentication, fraud prevention, and QoS"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>K(!0),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(e2.default,{className:"w-5 h-5"}),"Test APIs"]}),(0,t.jsxs)("button",{onClick:()=>e?.("resources"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(P.Code,{className:"w-5 h-5"}),"API Docs"]}),(0,t.jsxs)("button",{onClick:()=>V(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(d.Settings,{className:"w-5 h-5"}),"Configure"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"API Requests Today"}),(0,t.jsx)(m.Activity,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:tg.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Across all services"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Success Rate"}),(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[tg>0?(tp.reduce((e,t)=>e+t.successful_requests,0)/tg*100).toFixed(1):0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"API reliability"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Active QoD Sessions"}),(0,t.jsx)(au.default,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:tu}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Live network optimization"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Cost Today"}),(0,t.jsx)(eE.TrendingUp,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",tb.toFixed(2)]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"API usage cost"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 inline-flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>r("sim-swap"),className:`px-6 py-2 rounded-lg transition-colors ${"sim-swap"===l?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"SIM Swap"}),(0,t.jsx)("button",{onClick:()=>r("number-verify"),className:`px-6 py-2 rounded-lg transition-colors ${"number-verify"===l?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Number Verification"}),(0,t.jsx)("button",{onClick:()=>r("location"),className:`px-6 py-2 rounded-lg transition-colors ${"location"===l?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Device Location"}),(0,t.jsx)("button",{onClick:()=>r("qod"),className:`px-6 py-2 rounded-lg transition-colors ${"qod"===l?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Quality on Demand"}),(0,t.jsx)("button",{onClick:()=>r("analytics"),className:`px-6 py-2 rounded-lg transition-colors ${"analytics"===l?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Analytics"})]}),"sim-swap"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-8 h-8 text-red-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"SIM Swap Detection"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Protect your users from SIM swap fraud by detecting recent SIM card changes or port-outs. This API checks if a phone number has been associated with a different SIM card recently."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Real-time Detection"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Instant verification of SIM card status and recent changes"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ee.Clock,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Timestamp History"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Returns exact date and time of last SIM swap or port"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(et.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Fraud Scoring"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Risk assessment based on swap timing and patterns"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Checks"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:tl}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"API requests processed"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Swaps Detected"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-red-400 mb-1",children:tr}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:[tl>0?(tr/tl*100).toFixed(1):0,"% detection rate"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Fraud Score"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-[#39FF14] mb-1",children:ti.toFixed(0)}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Risk assessment average"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent SIM Swap Checks"}),(0,t.jsx)("button",{onClick:()=>ei(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"New Check"})]}),(0,t.jsx)("div",{className:"space-y-3",children:c.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-[#39FF14]/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.phone_number}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.swap_detected?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:e.swap_detected?"SWAP DETECTED":"NO SWAP"}),e.fraud_score>=70&&(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-semibold",children:"HIGH RISK"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Fraud Score"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.fraud_score||0,"/100"]})]}),e.last_swap_date&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Swap"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:new Date(e.last_swap_date).toLocaleDateString()})]}),null!==e.days_since_swap&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Days Since Swap"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.days_since_swap," days"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Response Time"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.response_time_ms,"ms"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eA(e),eP({phone_number:e.phone_number,lookback_days:"7"}),ef(!0)},className:"p-2 hover:bg-[#39FF14]/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>e5(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"number-verify"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(tQ.default,{className:"w-8 h-8 text-green-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Number Verification"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Silently verify user identity in the background using network intelligence. No SMS OTP required - the API confirms the mobile number matches the device using the network connection."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Silent Authentication"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Background verification with zero user friction"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(t0.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Network-Based"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Uses carrier network data for instant verification"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ap.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"No SMS Required"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Eliminates OTP friction and SMS costs"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Verifications"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:tn}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"API requests processed"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Verified Users"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-green-400 mb-1",children:to}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:[tn>0?(to/tn*100).toFixed(1):0,"% success rate"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Match Score"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-[#39FF14] mb-1",children:[td.toFixed(0),"%"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Confidence level"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent Verifications"}),(0,t.jsx)("button",{onClick:()=>eo(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"New Verification"})]}),(0,t.jsx)("div",{className:"space-y-3",children:p.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-[#39FF14]/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.phone_number}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_verified?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_verified?"VERIFIED":"NOT VERIFIED"}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs uppercase",children:e.verification_method})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Match Score"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.match_score||0,"%"]})]}),e.network_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Network"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.network_name})]}),e.network_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Network Type"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.network_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Response Time"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.response_time_ms,"ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Timestamp"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:new Date(e.request_timestamp).toLocaleTimeString()})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eA(e),eD({phone_number:e.phone_number,verification_method:e.verification_method||"network_auth"}),ev(!0)},className:"p-2 hover:bg-[#39FF14]/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>e9(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"location"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(ey.MapPin,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Device Location"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Access device location data through network intelligence. Verify if a device is within a specific area (geofencing) or retrieve precise GPS coordinates with user consent."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sL.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Geofence Verification"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Check if device is within defined geographic area"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ag.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Precise Coordinates"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Get exact latitude/longitude with meter-level accuracy"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ap.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Consent-Based"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Privacy-first location access with user permission"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Active Geofences"}),(0,t.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sL.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.geofence_name})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Center"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.center_latitude?.toFixed(4),", ",e.center_longitude?.toFixed(4)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Radius"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.radius_meters/1e3).toFixed(1)," km"]})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded text-xs",children:e},s))})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Location Statistics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Requests"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:tx})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Successful Locations"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-400",children:tm}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:[tx>0?(tm/tx*100).toFixed(1):0,"% success rate"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Active Geofences"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-[#39FF14]",children:j.filter(e=>e.is_active).length})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Tracked Devices"}),(0,t.jsxs)("button",{onClick:()=>eu(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(tQ.default,{className:"w-4 h-4"}),"Add Device"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[M.slice(0,5).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-[#39FF14]/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:e.device_name}),(0,t.jsx)("span",{className:"text-slate-400 font-mono text-sm",children:e.phone_number}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),e.tracking_enabled&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-[#39FF14]/20/20 text-[#39FF14] rounded-full text-xs font-semibold flex items-center gap-1",children:[(0,t.jsx)(sL.default,{className:"w-3 h-3"}),"TRACKING"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Device Type"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.device_type})]}),e.device_model&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Model"}),(0,t.jsx)("p",{className:"text-white",children:e.device_model})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Precision"}),(0,t.jsx)("p",{className:"text-white capitalize",children:e.precision_level})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Update Frequency"}),(0,t.jsxs)("p",{className:"text-white",children:[e.update_frequency_minutes," min"]})]})]}),e.last_known_latitude&&e.last_known_longitude&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Last Known Location"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.last_known_latitude.toFixed(4),", ",e.last_known_longitude.toFixed(4)]}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:["Updated: ",e.last_location_update?new Date(e.last_location_update).toLocaleString():"Never"]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded text-xs",children:e},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eA(e),eU({device_name:e.device_name,phone_number:e.phone_number,device_type:e.device_type,os_version:e.os_version||"",device_model:e.device_model||"",imei:e.imei||"",tracking_enabled:e.tracking_enabled,location_consent:e.location_consent,precision_level:e.precision_level,update_frequency_minutes:e.update_frequency_minutes?.toString()||"60",battery_optimization:e.battery_optimization,tags:e.tags?e.tags.join(", "):"",notes:e.notes||"",alert_on_movement:e.alert_on_movement,alert_on_geofence_exit:e.alert_on_geofence_exit,alert_on_geofence_enter:e.alert_on_geofence_enter}),eS(!0)},className:"p-2 hover:bg-[#39FF14]/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>e7(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id)),0===M.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(tQ.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No tracked devices yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Add your first device to start tracking"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent Location Requests"}),(0,t.jsx)("button",{onClick:()=>ec(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"New Request"})]}),(0,t.jsx)("div",{className:"space-y-3",children:b.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-[#39FF14]/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(ey.MapPin,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.phone_number}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"completed"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status.toUpperCase()}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs uppercase",children:e.request_type})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.latitude&&e.longitude&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Coordinates"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.latitude?.toFixed(4),", ",e.longitude?.toFixed(4)]})]}),e.accuracy_meters&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Accuracy"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.accuracy_meters,"m"]})]}),e.city&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Location"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.city})]}),null!==e.is_within_area&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"In Geofence"}),(0,t.jsx)("p",{className:`font-semibold ${e.is_within_area?"text-green-400":"text-red-400"}`,children:e.is_within_area?"Yes":"No"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eA(e),eL({phone_number:e.phone_number,request_type:e.request_type||"precise",geofence_id:e.geofence_id||""}),ew(!0)},className:"p-2 hover:bg-[#39FF14]/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>e6(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"qod"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(au.default,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Quality on Demand (QoD)"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Request guaranteed network performance for specific sessions. Ensure stable latency and prioritized bandwidth for critical applications like gaming, video streaming, or IoT."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(au.default,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Stable Latency"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Guarantee consistent low-latency connections"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(q.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Prioritized Bandwidth"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Reserve dedicated bandwidth for your application"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(m.Activity,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Session-Based"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"QoS guarantees for specific time periods"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Sessions"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:th}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Lifetime requests"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Active Now"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-green-400 mb-1",children:tu}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Live QoD sessions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Latency"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-[#39FF14] mb-1",children:[_.filter(e=>e.actual_latency_ms).length>0?(_.reduce((e,t)=>e+(t.actual_latency_ms||0),0)/_.filter(e=>e.actual_latency_ms).length).toFixed(0):0,"ms"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active sessions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Bandwidth"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-[#39FF14] mb-1",children:[_.filter(e=>e.actual_bandwidth_mbps).length>0?(_.reduce((e,t)=>e+(t.actual_bandwidth_mbps||0),0)/_.filter(e=>e.actual_bandwidth_mbps).length).toFixed(0):0," Mbps"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active sessions"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"QoD Sessions"}),(0,t.jsx)("button",{onClick:()=>em(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"New Session"})]}),(0,t.jsx)("div",{className:"space-y-3",children:_.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-[#39FF14]/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(au.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono text-sm",children:e.session_id}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===e.status?"bg-green-500/20 text-green-400 animate-pulse":"requested"===e.status?"bg-yellow-500/20 text-yellow-400":"terminated"===e.status?"bg-slate-500/20 text-slate-400":"bg-red-500/20 text-red-400"}`,children:e.status.toUpperCase()}),(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded text-xs uppercase",children:e.qos_profile.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Phone Number"}),(0,t.jsx)("p",{className:"text-white font-mono text-xs",children:e.phone_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Target Latency"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.target_latency_ms,"ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Actual Latency"}),(0,t.jsxs)("p",{className:`font-semibold ${e.actual_latency_ms&&e.actual_latency_ms<=e.target_latency_ms?"text-green-400":"text-[#39FF14]"}`,children:[e.actual_latency_ms||"-","ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Bandwidth"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.actual_bandwidth_mbps||e.target_bandwidth_mbps," Mbps"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Duration"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.session_duration_minutes," min"]})]})]}),"active"===e.status&&null!==e.packet_loss_percent&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-400",children:"Packet Loss:"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:[e.packet_loss_percent,"%"]})]}),null!==e.jitter_ms&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tF.default,{className:"w-4 h-4 text-[#39FF14]"}),(0,t.jsx)("span",{className:"text-slate-400",children:"Jitter:"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:[e.jitter_ms,"ms"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:["active"===e.status&&(0,t.jsx)("button",{className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Terminate",children:(0,t.jsx)(tc.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>{eA(e),eO({phone_number:e.phone_number,qos_profile:e.qos_profile,session_duration_minutes:e.session_duration_minutes?.toString()||"60",target_latency_ms:e.target_latency_ms?.toString()||"50",target_bandwidth_mbps:e.target_bandwidth_mbps?.toString()||"100"}),ek(!0)},className:"p-2 hover:bg-[#39FF14]/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsx)("button",{onClick:()=>e8(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(v.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"analytics"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"API Analytics & Usage"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Today's Usage"}),(0,t.jsx)("div",{className:"space-y-3",children:["sim_swap","number_verification","device_location","qod"].map(e=>{let s=tp.find(t=>t.api_service===e);return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-semibold capitalize",children:e.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-slate-400 text-sm",children:["$",s?.total_cost?.toFixed(2)||"0.00"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Requests"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:s?.total_requests||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Success"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold",children:s?.successful_requests||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Failed"}),(0,t.jsx)("p",{className:"text-red-400 font-semibold",children:s?.failed_requests||0})]})]})]},e)})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"API Providers"}),(0,t.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-5 h-5 text-[#39FF14]"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.provider_name})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.supported_services.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:e},e))}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Rate Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.rate_limit_per_second,"/sec"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Daily Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.rate_limit_per_day/1e3).toFixed(0),"K/day"]})]})]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"30-Day Usage Trend"}),(0,t.jsx)("div",{className:"space-y-2",children:k.slice(0,30).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg hover:bg-slate-900 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm w-24",children:new Date(e.usage_date).toLocaleDateString()}),(0,t.jsx)("span",{className:"text-white font-semibold w-32 capitalize",children:e.api_service.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Requests: "}),(0,t.jsx)("span",{className:"text-white font-semibold",children:e.total_requests})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Success Rate: "}),(0,t.jsxs)("span",{className:"text-green-400 font-semibold",children:[e.total_requests>0?(e.successful_requests/e.total_requests*100).toFixed(1):0,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Avg Response: "}),(0,t.jsxs)("span",{className:"text-[#39FF14] font-semibold",children:[e.avg_response_time_ms,"ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Cost: "}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["$",parseFloat(e.total_cost).toFixed(2)]})]})]})]},e.id))})]})]}),U&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Telco API Configuration"}),(0,t.jsx)("button",{onClick:()=>V(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>z("providers"),className:`px-4 py-2 rounded-lg transition-colors ${"providers"===B?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Providers"}),(0,t.jsx)("button",{onClick:()=>z("api-keys"),className:`px-4 py-2 rounded-lg transition-colors ${"api-keys"===B?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"API Keys"}),(0,t.jsx)("button",{onClick:()=>z("webhooks"),className:`px-4 py-2 rounded-lg transition-colors ${"webhooks"===B?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Webhooks"}),(0,t.jsx)("button",{onClick:()=>z("geofences"),className:`px-4 py-2 rounded-lg transition-colors ${"geofences"===B?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Geofences"}),(0,t.jsx)("button",{onClick:()=>z("qos"),className:`px-4 py-2 rounded-lg transition-colors ${"qos"===B?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"QoS Profiles"}),(0,t.jsx)("button",{onClick:()=>z("testing"),className:`px-4 py-2 rounded-lg transition-colors ${"testing"===B?"bg-[#39FF14] text-white":"text-slate-400 hover:text-white"}`,children:"Testing"})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["providers"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your Telco API providers and their configurations"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"Add Provider"})]}),i.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(Z.Globe,{className:"w-8 h-8 text-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.provider_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.provider_region})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.is_active,onChange:()=>eY(e.id,e.is_active),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#39FF14]"})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Rate Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.rate_limit_per_second,"/sec"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Daily Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.rate_limit_per_day/1e3).toFixed(0),"K/day"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Priority"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.priority})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Fallback"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.failover_provider_id?"Yes":"No"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Supported Services"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.supported_services.map(e=>(0,t.jsx)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-semibold",children:e.replace("_"," ").toUpperCase()},e))})]})]},e.id))]}),"api-keys"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Manage API keys and authentication credentials"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"Generate New Key"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(ap.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Production API Key"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Use this key for production environments"})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"sk_live_••••••••••••••••••••••••••••"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(C.default,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(x.default,{className:"w-4 h-4 text-slate-400"})})]})]})}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Created"}),(0,t.jsx)("p",{className:"text-white",children:"Dec 15, 2024"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Used"}),(0,t.jsx)("p",{className:"text-white",children:"2 hours ago"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-green-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Sandbox API Key"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Use this key for testing and development"})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"sk_test_••••••••••••••••••••••••••••"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(C.default,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(x.default,{className:"w-4 h-4 text-slate-400"})})]})]})})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Security Best Practices"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Never share your API keys publicly or commit them to version control"}),(0,t.jsx)("li",{children:"Rotate keys regularly and revoke unused keys immediately"}),(0,t.jsx)("li",{children:"Use environment variables to store keys in your applications"}),(0,t.jsx)("li",{children:"Monitor API key usage for suspicious activity"})]})]})]})})]}),"webhooks"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Configure webhook endpoints to receive real-time notifications"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"Add Webhook"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sW.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"SIM Swap Alerts"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"https://api.yourapp.com/webhooks/sim-swap"})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Events"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"sim_swap.detected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Triggered"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"2 hours ago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Success Rate"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold",children:"99.8%"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sW.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"QoD Session Events"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"https://api.yourapp.com/webhooks/qod"})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Events"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"qod.started, qod.ended"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Triggered"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"15 mins ago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Success Rate"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold",children:"100%"})]})]})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(et.default,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Webhook Requirements"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Endpoints must respond with 2xx status codes within 5 seconds"}),(0,t.jsx)("li",{children:"Failed deliveries are retried 3 times with exponential backoff"}),(0,t.jsx)("li",{children:"Verify webhook signatures to ensure authenticity"})]})]})]})})]}),"geofences"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Create and manage geofences for location-based services"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"Create Geofence"})]}),j.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sL.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.geofence_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("button",{onClick:()=>eQ(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Center Coordinates"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.center_latitude?.toFixed(6),", ",e.center_longitude?.toFixed(6)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Radius"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.radius_meters/1e3).toFixed(2)," km"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Shape"}),(0,t.jsx)("p",{className:"text-white font-semibold capitalize",children:e.shape_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Created"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:new Date(e.created_at).toLocaleDateString()})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded text-xs",children:e},s))})]},e.id)),0===j.length&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(ey.MapPin,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No geofences configured yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Create your first geofence to start using location-based services"})]})]}),"qos"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Configure Quality of Service profiles for different use cases"}),(0,t.jsx)("button",{className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg text-sm transition-colors",children:"Create Profile"})]}),["gaming","video_streaming","voice_call","video_conference","iot","file_transfer"].map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(au.default,{className:"w-8 h-8 text-[#39FF14]"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white capitalize",children:e.replace("_"," ")}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Optimized QoS parameters for ",e.replace("_"," ")," applications"]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"AVAILABLE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Target Latency"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e?"20ms":"video_streaming"===e?"100ms":"voice_call"===e?"50ms":"video_conference"===e?"40ms":"iot"===e?"200ms":"500ms"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Bandwidth"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e?"10 Mbps":"video_streaming"===e?"25 Mbps":"voice_call"===e?"1 Mbps":"video_conference"===e?"5 Mbps":"iot"===e?"0.5 Mbps":"100 Mbps"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Packet Loss"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e||"voice_call"===e?"<0.1%":"<1%"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Jitter"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e||"voice_call"===e?"<5ms":"<30ms"})]})]})]},e))]}),"testing"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Test your Telco API integrations before deploying to production"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-red-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test SIM Swap"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Check if a phone number has recently swapped SIM cards"}),(0,t.jsx)("button",{onClick:()=>{X("sim-swap"),K(!0)},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(tQ.default,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Number Verification"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Verify phone number ownership without SMS"}),(0,t.jsx)("button",{onClick:()=>{X("number-verify"),K(!0)},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(ey.MapPin,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Device Location"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Retrieve GPS coordinates and geofence verification"}),(0,t.jsx)("button",{onClick:()=>{X("location"),K(!0)},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(au.default,{className:"w-6 h-6 text-[#39FF14]"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Quality on Demand"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Request guaranteed network performance"}),(0,t.jsx)("button",{onClick:()=>{X("qod"),K(!0)},className:"w-full bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]})]})]})]})]})}),G&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Test ",W.replace("-"," ").toUpperCase()," API"]}),(0,t.jsx)("button",{onClick:()=>{K(!1),es(null),J("")},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:H,onChange:e=>J(e.target.value),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Enter a Malaysian phone number in E.164 format"})]}),(0,t.jsx)("button",{onClick:eJ,disabled:ea,className:"w-full bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ea?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Testing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e2.default,{className:"w-5 h-5"}),"Run Test"]})}),Y&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Result"})]}),(0,t.jsx)("pre",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 text-sm text-slate-300 overflow-x-auto",children:JSON.stringify(Y,null,2)})]})]})]})}),er&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New SIM Swap Check"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Detect recent SIM card changes and fraud activity"})]}),(0,t.jsx)("button",{onClick:()=>{ei(!1),eP({phone_number:"",lookback_days:"7"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eI.phone_number,onChange:e=>eP({...eI,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Malaysian phone number in E.164 format"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Lookback Period (Days)"}),(0,t.jsxs)("select",{value:eI.lookback_days,onChange:e=>eP({...eI,lookback_days:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"3",children:"Last 3 days"}),(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"14",children:"Last 14 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"How far back to check for SIM swap activity"})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"What This API Does"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Checks if the phone number has been associated with a different SIM card within the specified period. Returns fraud risk score and swap detection details."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ei(!1),eP({phone_number:"",lookback_days:"7"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eZ,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Checking..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5"}),"Run Check"]})})]})]})]})}),en&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Number Verification"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Silently verify phone number ownership without SMS"})]}),(0,t.jsx)("button",{onClick:()=>{eo(!1),eD({phone_number:"",verification_method:"network_auth"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eT.phone_number,onChange:e=>eD({...eT,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Phone number to verify"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Verification Method"}),(0,t.jsxs)("select",{value:eT.verification_method,onChange:e=>eD({...eT,verification_method:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"network_auth",children:"Network Authentication"}),(0,t.jsx)("option",{value:"sim_check",children:"SIM Card Verification"}),(0,t.jsx)("option",{value:"carrier_verify",children:"Carrier Direct Verify"}),(0,t.jsx)("option",{value:"oidc",children:"OpenID Connect"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Method used for silent verification"})]}),(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-green-400 font-semibold mb-1",children:"Zero-Friction Verification"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Uses network intelligence to verify phone number ownership instantly in the background. No SMS OTP required, eliminating user friction and reducing SMS costs."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{eo(!1),eD({phone_number:"",verification_method:"network_auth"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e0,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5"}),"Verify Number"]})})]})]})]})}),ed&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Location Request"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Retrieve device location or verify geofence presence"})]}),(0,t.jsx)("button",{onClick:()=>{ec(!1),eL({phone_number:"",request_type:"precise",geofence_id:""})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eR.phone_number,onChange:e=>eL({...eR,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device phone number to locate"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Request Type"}),(0,t.jsxs)("select",{value:eR.request_type,onChange:e=>eL({...eR,request_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"precise",children:"Precise GPS Coordinates"}),(0,t.jsx)("option",{value:"approximate",children:"Approximate Area"}),(0,t.jsx)("option",{value:"geofence",children:"Geofence Verification"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Level of location accuracy required"})]}),"geofence"===eR.request_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Geofence (Optional)"}),(0,t.jsxs)("select",{value:eR.geofence_id,onChange:e=>eL({...eR,geofence_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select a geofence..."}),j.filter(e=>e.is_active).map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.geofence_name," - ",(e.radius_meters/1e3).toFixed(1),"km radius"]},e.id))]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Check if device is within this geofence"})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(ey.MapPin,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Privacy & Consent"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Location requests require user consent in accordance with privacy regulations. Precise coordinates provide meter-level accuracy for fraud prevention and delivery verification."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ec(!1),eL({phone_number:"",request_type:"precise",geofence_id:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e4,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Requesting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ag.default,{className:"w-5 h-5"}),"Request Location"]})})]})]})]})}),ex&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New QoD Session"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Request guaranteed network performance"})]}),(0,t.jsx)("button",{onClick:()=>{em(!1),eO({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:e$.phone_number,onChange:e=>eO({...e$,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device requiring guaranteed QoS"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"QoS Profile"}),(0,t.jsxs)("select",{value:e$.qos_profile,onChange:e=>{let t=e.target.value,s="50",a="100";"gaming"===t?(s="20",a="10"):"video_streaming"===t?(s="100",a="25"):"voice_call"===t?(s="50",a="1"):"video_conference"===t?(s="40",a="5"):"iot"===t?(s="200",a="0.5"):"file_transfer"===t&&(s="500",a="100"),eO({...e$,qos_profile:t,target_latency_ms:s,target_bandwidth_mbps:a})},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"gaming",children:"Gaming (Low Latency)"}),(0,t.jsx)("option",{value:"video_streaming",children:"Video Streaming"}),(0,t.jsx)("option",{value:"voice_call",children:"Voice Call"}),(0,t.jsx)("option",{value:"video_conference",children:"Video Conference"}),(0,t.jsx)("option",{value:"iot",children:"IoT / M2M"}),(0,t.jsx)("option",{value:"file_transfer",children:"File Transfer"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Pre-configured QoS profile for your use case"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Target Latency (ms)"}),(0,t.jsx)("input",{type:"number",value:e$.target_latency_ms,onChange:e=>eO({...e$,target_latency_ms:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Target Bandwidth (Mbps)"}),(0,t.jsx)("input",{type:"number",value:e$.target_bandwidth_mbps,onChange:e=>eO({...e$,target_bandwidth_mbps:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Session Duration (minutes)"}),(0,t.jsxs)("select",{value:e$.session_duration_minutes,onChange:e=>eO({...e$,session_duration_minutes:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"15",children:"15 minutes"}),(0,t.jsx)("option",{value:"30",children:"30 minutes"}),(0,t.jsx)("option",{value:"60",children:"1 hour"}),(0,t.jsx)("option",{value:"120",children:"2 hours"}),(0,t.jsx)("option",{value:"240",children:"4 hours"}),(0,t.jsx)("option",{value:"480",children:"8 hours"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"How long to maintain guaranteed QoS"})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(au.default,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Network Performance Guarantee"}),(0,t.jsx)("p",{className:"text-slate-300",children:"QoD reserves dedicated network resources to ensure stable latency and bandwidth for critical applications. Sessions are monitored in real-time with automatic adjustments to maintain QoS guarantees."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{em(!1),eO({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e1,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(L.default,{className:"w-5 h-5"}),"Create Session"]})})]})]})]})}),eh&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Device for Tracking"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Register a new device for location tracking and monitoring"})]}),(0,t.jsx)("button",{onClick:()=>{eu(!1),eU({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Name *"}),(0,t.jsx)("input",{type:"text",value:eq.device_name,onChange:e=>eU({...eq,device_name:e.target.value}),placeholder:"CEO iPhone",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Friendly name for this device"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eq.phone_number,onChange:e=>eU({...eq,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device phone number"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Type"}),(0,t.jsxs)("select",{value:eq.device_type,onChange:e=>eU({...eq,device_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"iOS",children:"iOS"}),(0,t.jsx)("option",{value:"Android",children:"Android"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"OS Version"}),(0,t.jsx)("input",{type:"text",value:eq.os_version,onChange:e=>eU({...eq,os_version:e.target.value}),placeholder:"17.2",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Model"}),(0,t.jsx)("input",{type:"text",value:eq.device_model,onChange:e=>eU({...eq,device_model:e.target.value}),placeholder:"iPhone 15 Pro",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"IMEI"}),(0,t.jsx)("input",{type:"text",value:eq.imei,onChange:e=>eU({...eq,imei:e.target.value}),placeholder:"356789012345678",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"International Mobile Equipment Identity"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tracking Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Precision Level"}),(0,t.jsxs)("select",{value:eq.precision_level,onChange:e=>eU({...eq,precision_level:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"coarse",children:"Coarse (City level)"}),(0,t.jsx)("option",{value:"approximate",children:"Approximate (100m accuracy)"}),(0,t.jsx)("option",{value:"precise",children:"Precise (GPS accuracy)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Update Frequency"}),(0,t.jsxs)("select",{value:eq.update_frequency_minutes,onChange:e=>eU({...eq,update_frequency_minutes:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"5",children:"Every 5 minutes"}),(0,t.jsx)("option",{value:"15",children:"Every 15 minutes"}),(0,t.jsx)("option",{value:"30",children:"Every 30 minutes"}),(0,t.jsx)("option",{value:"60",children:"Every hour"}),(0,t.jsx)("option",{value:"120",children:"Every 2 hours"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 mt-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.tracking_enabled,onChange:e=>eU({...eq,tracking_enabled:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable Tracking"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Start tracking this device immediately"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.location_consent,onChange:e=>eU({...eq,location_consent:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Location Consent"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"User has provided consent for location tracking"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.battery_optimization,onChange:e=>eU({...eq,battery_optimization:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Battery Optimization"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Optimize tracking for battery life"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Alert Settings"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.alert_on_movement,onChange:e=>eU({...eq,alert_on_movement:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Alert on Movement"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Get notified when device moves"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.alert_on_geofence_enter,onChange:e=>eU({...eq,alert_on_geofence_enter:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Alert on Geofence Entry"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Notify when device enters a geofenced area"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.alert_on_geofence_exit,onChange:e=>eU({...eq,alert_on_geofence_exit:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-[#39FF14] focus:ring-[#39FF14]"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Alert on Geofence Exit"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Notify when device exits a geofenced area"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,t.jsx)("input",{type:"text",value:eq.tags,onChange:e=>eU({...eq,tags:e.target.value}),placeholder:"executive, high-priority, fleet",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Comma-separated tags for organization"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Notes"}),(0,t.jsx)("textarea",{value:eq.notes,onChange:e=>eU({...eq,notes:e.target.value}),placeholder:"Additional information about this device...",rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] resize-none"})]})]}),(0,t.jsx)("div",{className:"bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-[#39FF14] flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-[#39FF14] font-semibold mb-1",children:"Privacy & Compliance"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Ensure you have proper consent from device owners before enabling tracking. All location data is encrypted and stored securely in compliance with privacy regulations."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{eu(!1),eU({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e3,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Adding Device..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tQ.default,{className:"w-5 h-5"}),"Add Device"]})})]})]})]})}),eb&&eM&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit SIM Swap Check"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update SIM swap check details"})]}),(0,t.jsx)("button",{onClick:()=>{ef(!1),eA(null),eP({phone_number:"",lookback_days:"7"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eI.phone_number,onChange:e=>eP({...eI,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ef(!1),eA(null),eP({phone_number:"",lookback_days:"7"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:te,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sT.default,{className:"w-5 h-5"}),"Update Check"]})})]})]})]})}),ej&&eM&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Number Verification"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update verification request details"})]}),(0,t.jsx)("button",{onClick:()=>{ev(!1),eA(null),eD({phone_number:"",verification_method:"network_auth"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eT.phone_number,onChange:e=>eD({...eT,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Verification Method"}),(0,t.jsxs)("select",{value:eT.verification_method,onChange:e=>eD({...eT,verification_method:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"network_auth",children:"Network Authentication"}),(0,t.jsx)("option",{value:"sms_verify",children:"SMS Verification"}),(0,t.jsx)("option",{value:"voice_verify",children:"Voice Verification"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ev(!1),eA(null),eD({phone_number:"",verification_method:"network_auth"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:tt,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sT.default,{className:"w-5 h-5"}),"Update Request"]})})]})]})]})}),eN&&eM&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Location Request"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update location verification details"})]}),(0,t.jsx)("button",{onClick:()=>{ew(!1),eA(null),eL({phone_number:"",request_type:"precise",geofence_id:""})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eR.phone_number,onChange:e=>eL({...eR,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Request Type"}),(0,t.jsxs)("select",{value:eR.request_type,onChange:e=>eL({...eR,request_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"precise",children:"Precise Location"}),(0,t.jsx)("option",{value:"approximate",children:"Approximate Location"}),(0,t.jsx)("option",{value:"geofence_check",children:"Geofence Check"})]})]}),"geofence_check"===eR.request_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Geofence"}),(0,t.jsxs)("select",{value:eR.geofence_id,onChange:e=>eL({...eR,geofence_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"",children:"Select geofence"}),j.map(e=>(0,t.jsx)("option",{value:e.id,children:e.geofence_name},e.id))]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ew(!1),eA(null),eL({phone_number:"",request_type:"precise",geofence_id:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:ts,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sT.default,{className:"w-5 h-5"}),"Update Request"]})})]})]})]})}),eF&&eM&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit QoD Session"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update quality on demand session"})]}),(0,t.jsx)("button",{onClick:()=>{ek(!1),eA(null),eO({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:e$.phone_number,onChange:e=>eO({...e$,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"QoS Profile"}),(0,t.jsxs)("select",{value:e$.qos_profile,onChange:e=>eO({...e$,qos_profile:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",children:[(0,t.jsx)("option",{value:"gaming",children:"Gaming (Low latency)"}),(0,t.jsx)("option",{value:"streaming",children:"Video Streaming"}),(0,t.jsx)("option",{value:"voip",children:"VoIP Calling"}),(0,t.jsx)("option",{value:"iot",children:"IoT Priority"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Duration (min)"}),(0,t.jsx)("input",{type:"number",value:e$.session_duration_minutes,onChange:e=>eO({...e$,session_duration_minutes:e.target.value}),min:"1",max:"480",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Latency (ms)"}),(0,t.jsx)("input",{type:"number",value:e$.target_latency_ms,onChange:e=>eO({...e$,target_latency_ms:e.target.value}),min:"10",max:"500",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Bandwidth (Mbps)"}),(0,t.jsx)("input",{type:"number",value:e$.target_bandwidth_mbps,onChange:e=>eO({...e$,target_bandwidth_mbps:e.target.value}),min:"1",max:"1000",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ek(!1),eA(null),eO({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:ta,disabled:ep,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sT.default,{className:"w-5 h-5"}),"Update Session"]})})]})]})]})})]})}var _=_,sT=sT,p=p,k=k,F=F,af=e.i(53339),aj=e.i(38714),aj=aj,L=L,er=er,C=C,av=e.i(14299),av=av,e5=e5,e$=e$;let aN=e=>{let t=[],s=["running","paused","completed","draft"],a=["Short (15s)","Medium (60s)","Long (3m)","Live"];for(let l=0;l<e;l++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.floor(5e3*Math.random())+500,i=Math.floor(5e5*Math.random())+1e4,n=Math.floor(.15*i),o=Math.floor(.05*i),d=Math.floor(.02*i);t.push({id:`tt_camp_${Math.random().toString(36).substr(2,9)}`,name:`TikTok Trend ${Math.floor(10*Math.random())+1} Campaign`,description:"Viral campaign leveraging top hashtags",status:e,videoFormat:l,budget:r,spent:"draft"===e?0:Math.floor(Math.random()*r),views:"draft"===e?0:i,likes:"draft"===e?0:n,shares:"draft"===e?0:o,comments:"draft"===e?0:d,engagementRate:"draft"===e?0:((n+o+d)/i*100).toFixed(2),created_at:new Date(Date.now()-60*Math.floor(60*Math.random()*1440)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())};function ay(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[x,h]=(0,s.useState)([{tag:"#fyp",views:"12.5B",growth:"+15%"},{tag:"#viral",views:"8.2B",growth:"+10%"},{tag:"#tiktokmademebuyit",views:"5.1B",growth:"+25%"},{tag:"#dance",views:"4.8B",growth:"+5%"}]),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(null),[w,S]=(0,s.useState)("all"),[M,A]=(0,s.useState)(""),[I,P]=(0,s.useState)(null),[T,D]=(0,s.useState)({name:"",description:"",budget:"",videoFormat:"short",duetEnabled:!1,stitchEnabled:!1,shopEnabled:!1,creatorMarketplace:!1,sparkAdsEnabled:!1});(0,s.useEffect)(()=>{i(aN(20)),o(!1)},[]),(0,s.useEffect)(()=>{let e;return d&&(e=setInterval(()=>{i(e=>e.map(e=>{if("running"===e.status){let t=Math.floor(500*Math.random());return{...e,views:e.views+t,likes:e.likes+Math.floor(.15*t),shares:e.shares+Math.floor(.05*t),spent:e.spent+Math.floor(5*Math.random())}}return e})),Math.random()>.7&&h(e=>e.map(e=>({...e,views:(parseFloat(e.views)+.1).toFixed(1)+"B"})))},1500)),()=>clearInterval(e)},[d]);let R=(0,s.useMemo)(()=>({totalViews:r.reduce((e,t)=>e+t.views,0),totalLikes:r.reduce((e,t)=>e+t.likes,0),totalShares:r.reduce((e,t)=>e+t.shares,0),totalSpent:r.reduce((e,t)=>e+t.spent,0),avgEngagement:r.length?(r.reduce((e,t)=>e+parseFloat(t.engagementRate||0),0)/r.length).toFixed(2):"0.00"}),[r]),E=r.filter(e=>{let t="all"===w||e.status===w,s=e.name?.toLowerCase().includes(M.toLowerCase());return t&&s}),$=`
// Node.js - Upload Video to TikTok
const fs = require('fs');
const request = require('request');

const ACCESS_TOKEN = 'YOUR_ACCESS_TOKEN';
const OPEN_ID = 'YOUR_OPEN_ID';

const uploadVideo = (filePath) => {
  const url = \`https://open-api.tiktok.com/share/video/upload/?open_id=\${OPEN_ID}&access_token=\${ACCESS_TOKEN}\`;
  
  const formData = {
    video: fs.createReadStream(filePath)
  };

  request.post({url, formData}, (err, httpResponse, body) => {
    if (err) {
      return console.error('Upload failed:', err);
    }
    console.log('Upload successful! Server responded with:', body);
  });
};

uploadVideo('./cool_video.mp4');
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8 overflow-y-auto",children:[I&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===I.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-slate-500/20 border-slate-500/50 text-slate-400"} flex items-center gap-3 animate-slide-in`,children:["success"===I.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(F.default,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:I.message})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(af.Music,{className:"w-10 h-10 text-[#39FF14]"}),"TikTok"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your TikTok campaigns"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>c(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${d?"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/20 hover:bg-[#39FF14]/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"} transition-all`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${d?"animate-pulse":""}`}),d?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>{v(null),g(!0)},className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-[#39FF14]/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Trending & AI Analysis"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)(m.Activity,{className:`w-5 h-5 text-[#39FF14] ${d?"animate-pulse":""}`})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.totalViews.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Views"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(av.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.totalLikes.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Likes"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-green-500/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(e5.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.totalShares.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Shares"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(L.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[R.avgEngagement,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Avg. Engagement"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(er.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",R.totalSpent.toLocaleString()]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),"overview"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:M,onChange:e=>A(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("select",{value:w,onChange:e=>S(e.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Views"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Likes"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Shares"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Eng. Rate"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Spend"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:n?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"p-8 text-center text-slate-400",children:"Loading campaigns..."})}):0===E.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(af.Music,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No TikTok campaigns found"})]})}):E.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(aj.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm hidden md:block",children:e.description})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"completed":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white font-mono",children:e.views.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:e.likes.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:e.shares.toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:[e.engagementRate,"%"]}),(0,t.jsxs)("td",{className:"p-4 text-right text-white font-mono",children:["RM ",e.spent.toLocaleString()]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 text-slate-400 hover:text-white rounded-lg transition-colors",children:(0,t.jsx)(sT.default,{className:"w-4 h-4"})})})})]},e.id))})]})})})]}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(sm.Hash,{className:"w-5 h-5 text-[#39FF14]"})," Trending Hashtags"]}),(0,t.jsx)("div",{className:"space-y-4",children:x.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800 hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("span",{className:"text-lg font-bold text-white",children:e.tag})}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-white font-mono font-bold",children:e.views}),(0,t.jsxs)("div",{className:"text-xs text-[#39FF14]",children:[e.growth," this week"]})]})]},s))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5 text-[#39FF14]"})," AI Content Predictor"]}),(0,t.jsxs)("div",{className:"p-6 bg-slate-900 rounded-lg border border-slate-800 text-center mb-6",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-[#39FF14] mb-2",children:"High Viral Potential"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Based on your recent drafts, your next campaign has an 85% chance of trending."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-300",children:"Recommended Actions"}),(0,t.jsxs)("div",{className:"p-3 bg-[#39FF14]/10 border border-[#39FF14]/20 rounded-lg flex gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14] shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:'Use trending music "Night Walker" to boost reach by 2x.'})]}),(0,t.jsxs)("div",{className:"p-3 bg-[#39FF14]/10 border border-[#39FF14]/20 rounded-lg flex gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14] shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Keep video duration under 25s for higher retention."})]})]})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({platform:"tiktok",api_version:"v2",features:["ads_management","video_upload","analytics"],permissions:["ads.read","ads.management","video.publish"]},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:$.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})}),u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(af.Music,{className:"w-7 h-7 text-[#39FF14]"}),j?"Edit Campaign":"Create TikTok Campaign"]}),(0,t.jsx)("button",{onClick:()=>{g(!1),v(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:T.name,onChange:e=>D({...T,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:T.description,onChange:e=>D({...T,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:T.budget,onChange:e=>D({...T,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Video Format"}),(0,t.jsxs)("select",{value:T.videoFormat,onChange:e=>D({...T,videoFormat:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"short",children:"Short (15-60 seconds)"}),(0,t.jsx)("option",{value:"long",children:"Long (1-3 minutes)"}),(0,t.jsx)("option",{value:"live",children:"Live Video"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"TikTok Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:T.duetEnabled,onChange:e=>D({...T,duetEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable Duet"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:T.stitchEnabled,onChange:e=>D({...T,stitchEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable Stitch"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:T.shopEnabled,onChange:e=>D({...T,shopEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"TikTok Shop Integration"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:T.creatorMarketplace,onChange:e=>D({...T,creatorMarketplace:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Creator Marketplace"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:T.sparkAdsEnabled,onChange:e=>D({...T,sparkAdsEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Spark Ads Enabled"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{g(!1),v(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{o(!0);let e=aN(1)[0];e.name=T.name,e.description=T.description,e.budget=parseFloat(T.budget)||1e3,e.status="running",e.created_at=new Date().toISOString(),i(t=>[e,...t]),P({type:"success",message:"Campaign created successfully"}),g(!1),o(!1)},className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),j?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,p=p,eK=eK,k=k,F=F,tf=tf,aw=e.i(3408),aw=aw,C=C,av=av,a_=e.i(87867),a_=a_,eB=eB;let aF=e=>{let t=[],s=["running","paused","completed","draft"],a=["Story","Post","Reel","Carousel"];for(let l=0;l<e;l++){let e=s[Math.floor(Math.random()*s.length)],r=a[Math.floor(Math.random()*a.length)],i=Math.floor(5e3*Math.random())+500,n=Math.floor(5e4*Math.random())+1e3,o=Math.floor(.8*n),d=Math.floor(.1*n),c=Math.floor(.05*d),x=Math.floor(.02*d);t.push({id:`ig_camp_${Math.random().toString(36).substr(2,9)}`,name:`Summer Sale ${r} Campaign ${2024+l}`,description:`Promoting seasonal products via ${r}`,status:e,type:r,budget:i,spent:"draft"===e?0:Math.floor(Math.random()*i),impressions:"draft"===e?0:n,reach:"draft"===e?0:o,likes:"draft"===e?0:d,comments:"draft"===e?0:c,shares:"draft"===e?0:x,created_at:new Date(Date.now()-60*Math.floor(90*Math.random()*1440)*1e3).toISOString(),sentiment_score:100*Math.random()})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())};function ak(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[x,h]=(0,s.useState)({positive:65,neutral:25,negative:10}),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(null),[w,S]=(0,s.useState)("all"),[M,A]=(0,s.useState)(""),[I,P]=(0,s.useState)(null),[T,D]=(0,s.useState)({name:"",description:"",budget:"",shoppingEnabled:!1,carouselPosts:!0,guidesEnabled:!1,influencerCollaboration:!1,brandedContentAds:!1});(0,s.useEffect)(()=>{i(aF(25)),o(!1)},[]),(0,s.useEffect)(()=>{let e;return d&&(e=setInterval(()=>{i(e=>e.map(e=>"running"===e.status?{...e,impressions:e.impressions+Math.floor(50*Math.random()),likes:e.likes+Math.floor(10*Math.random()),comments:e.comments+ +(Math.random()>.7)}:e))},2e3)),()=>clearInterval(e)},[d]);let R=(0,s.useMemo)(()=>({totalImpressions:r.reduce((e,t)=>e+t.impressions,0),totalLikes:r.reduce((e,t)=>e+t.likes,0),totalComments:r.reduce((e,t)=>e+t.comments,0),activeCampaigns:r.filter(e=>"running"===e.status).length,avgEngagement:r.length?(r.reduce((e,t)=>e+t.likes+t.comments,0)/r.reduce((e,t)=>e+(t.impressions||1),0)*100).toFixed(2):"0.00"}),[r]),L=`
// Node.js - Publish Instagram Photo
const axios = require('axios');

async function publishPhoto(igUserId, imageUrl, caption) {
  try {
    // 1. Create Media Container
    const containerRes = await axios.post(\`https://graph.facebook.com/v18.0/\${igUserId}/media\`, {
      image_url: imageUrl,
      caption: caption,
      access_token: process.env.IG_ACCESS_TOKEN
    });

    const creationId = containerRes.data.id;

    // 2. Publish Media
    const publishRes = await axios.post(\`https://graph.facebook.com/v18.0/\${igUserId}/media_publish\`, {
      creation_id: creationId,
      access_token: process.env.IG_ACCESS_TOKEN
    });

    console.log('Published ID:', publishRes.data.id);
  } catch (error) {
    console.error('IG Publish Error:', error.response.data);
  }
}
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] overflow-y-auto",children:[I&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===I.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-slate-500/20 border-slate-500/50 text-slate-400"} flex items-center gap-3 animate-slide-in`,children:["success"===I.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(F.default,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:I.message})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tf.default,{className:"w-10 h-10 text-[#39FF14]"}),"Instagram"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor engagement, manage campaigns, and analyze sentiment."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>c(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${d?"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/20 hover:bg-[#39FF14]/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"} transition-all`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${d?"animate-pulse":""}`}),d?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>{v(null),f(!0)},className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black shadow-lg hover:shadow-[#39FF14]/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Advanced Analytics"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)("p",{className:"text-[#39FF14]",children:(0,t.jsx)(C.default,{})})}),(0,t.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${d?"bg-green-500/20 text-green-400 animate-pulse":"bg-slate-700 text-slate-400"}`,children:d?"LIVE":"TOTAL"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.totalImpressions.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Impressions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(av.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.totalLikes.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Likes"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(tE.MessageCircle,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.totalComments.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Comments Received"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(eE.TrendingUp,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("span",{className:"text-green-400 text-sm font-semibold",children:[R.avgEngagement,"%"]})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:"Engagement Rate"}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Avg per Impression"})]})]}),"overview"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:M,onChange:e=>A(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eK.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsxs)("select",{value:w,onChange:e=>S(e.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})]})})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Impressions"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Likes"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Comments"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Spent"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:n?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"p-8 text-center text-slate-400",children:"Loading campaigns..."})}):0===r.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(tf.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No Instagram campaigns found"})]})}):r.filter(e=>"all"===w||e.status===w).map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(aw.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":case"failed":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"completed":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:e.type}),(0,t.jsx)("td",{className:"p-4 text-right text-white font-mono",children:e.impressions.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:e.likes.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:e.comments.toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-white font-mono",children:["RM ",e.spent.toLocaleString()]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 text-slate-400 hover:text-white rounded-lg transition-colors",children:(0,t.jsx)(e7.BarChart3,{className:"w-4 h-4"})})})]},e.id))})]})})})]}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(a_.default,{className:"w-5 h-5 text-[#39FF14]"})," Audience Sentiment"]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-8 mb-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-400",children:[x.positive,"%"]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Positive"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-slate-300",children:[x.neutral,"%"]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Neutral"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-slate-400",children:[x.negative,"%"]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Negative"})]})]}),(0,t.jsxs)("div",{className:"h-4 bg-slate-700 rounded-full overflow-hidden flex",children:[(0,t.jsx)("div",{className:"h-full bg-green-500",style:{width:`${x.positive}%`}}),(0,t.jsx)("div",{className:"h-full bg-slate-400",style:{width:`${x.neutral}%`}}),(0,t.jsx)("div",{className:"h-full bg-slate-500",style:{width:`${x.negative}%`}})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-slate-900 rounded-lg border border-slate-700",children:[(0,t.jsx)("p",{className:"text-sm text-slate-300 italic",children:'"Love the new summer collection! 😍 Can\'t wait to buy."'}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Just now"}),(0,t.jsx)("span",{className:"text-green-400 font-bold",children:"Positive (0.98)"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eB.default,{className:"w-5 h-5 text-[#39FF14]"})," A/B Testing Simulator"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900 rounded-lg border border-slate-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-medium",children:"Variant A (Carousel)"}),(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:["CTR: ",(0,t.jsx)("span",{className:"text-white font-bold",children:"2.4%"})]})]}),(0,t.jsx)("div",{className:"h-2 w-24 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[#39FF14]",style:{width:"45%"}})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900 rounded-lg border border-slate-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-medium",children:"Variant B (Reel)"}),(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:["CTR: ",(0,t.jsx)("span",{className:"text-green-400 font-bold",children:"4.1%"})]})]}),(0,t.jsx)("div",{className:"h-2 w-24 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500",style:{width:"85%"}})})]})]}),(0,t.jsx)("button",{onClick:()=>g(!u),className:`mt-6 w-full py-3 rounded-lg font-medium transition-colors ${u?"bg-[#39FF14]/20 text-[#39FF14] hover:bg-[#39FF14]/30":"bg-green-500/20 text-green-400 hover:bg-green-500/30"}`,children:u?"Stop Test":"Start New A/B Test"})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({platform:"instagram",api_version:"v18.0",features:["shopping","reels","stories","direct_messages"],permissions:["instagram_basic","instagram_content_publish","instagram_manage_comments"]},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:L.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})})]}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(tf.default,{className:"w-7 h-7 text-[#39FF14]"}),j?"Edit Campaign":"Create Instagram Campaign"]}),(0,t.jsx)("button",{onClick:()=>{f(!1),v(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:T.name,onChange:e=>D({...T,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:T.description,onChange:e=>D({...T,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:T.budget,onChange:e=>D({...T,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{f(!1),v(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{o(!0);let e=aF(1)[0];e.name=T.name,e.description=T.description,e.budget=parseFloat(T.budget)||1e3,e.status="running",e.created_at=new Date().toISOString(),i(t=>[e,...t]),P({type:"success",message:"Campaign created successfully"}),f(!1),o(!1)},className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),j?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,sT=sT,p=p,l=l,C=C,L=L,ax=ax,k=k,er=er;let aC=e=>{let t=[],s=["running","paused","completed","draft"],a=["Engagement","Traffic","Leads","Sales"];for(let l=0;l<e;l++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.floor(1e4*Math.random())+1e3,i=Math.floor(1e5*Math.random())+5e3,n=Math.floor(1.5*i),o=Math.floor(.05*i),d=(2*Math.random()+.5).toFixed(2);t.push({id:`fb_camp_${Math.random().toString(36).substr(2,9)}`,name:`Q${Math.floor(4*Math.random())+1} ${l} Campaign`,description:`Targeting lookalike audiences for ${l.toLowerCase()}`,status:e,objective:l,budget:r,spent:"draft"===e?0:Math.floor(Math.random()*r),reach:"draft"===e?0:i,impressions:"draft"===e?0:n,clicks:"draft"===e?0:o,cpc:"draft"===e?0:d,ctr:"draft"===e?0:(o/n*100).toFixed(2),created_at:new Date(Date.now()-60*Math.floor(90*Math.random()*1440)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())};function aS(){let{user:e}=(0,Q.useAuth)(),[a,r]=(0,s.useState)("overview"),[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[h,u]=(0,s.useState)({bid:1.5,winRate:45,competitors:12}),[g,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[v,N]=(0,s.useState)("all"),[w,F]=(0,s.useState)(""),[S,M]=(0,s.useState)(null),[A,I]=(0,s.useState)({name:"",description:"",budget:"",objective:"engagement",boostedPosts:!1,carouselAds:!0,messengerAds:!1,marketplaceAds:!1});(0,s.useEffect)(()=>{n(aC(25)),d(!1)},[]),(0,s.useEffect)(()=>{let e;return c&&(e=setInterval(()=>{n(e=>e.map(e=>"running"===e.status?{...e,impressions:e.impressions+Math.floor(100*Math.random()),clicks:e.clicks+Math.floor(5*Math.random()),spent:e.spent+Math.floor(10*Math.random())}:e)),u(e=>({bid:e.bid+(.1*Math.random()-.05),winRate:Math.min(100,Math.max(0,e.winRate+(5*Math.random()-2.5))),competitors:Math.max(1,e.competitors+Math.floor(3*Math.random()-1))}))},2e3)),()=>clearInterval(e)},[c]);let P=(0,s.useMemo)(()=>({totalImpressions:i.reduce((e,t)=>e+t.impressions,0),totalReach:i.reduce((e,t)=>e+t.reach,0),totalClicks:i.reduce((e,t)=>e+t.clicks,0),totalSpent:i.reduce((e,t)=>e+t.spent,0),ctx:i.length?(i.reduce((e,t)=>e+parseFloat(t.ctr||0),0)/i.length).toFixed(2):"0.00",activeCampaigns:i.filter(e=>"running"===e.status).length}),[i]),T=i.filter(e=>{let t="all"===v||e.status===v,s=e.name?.toLowerCase().includes(w.toLowerCase());return t&&s}),D=`
// Node.js - Create Facebook Ad Campaign
const bizSdk = require('facebook-nodejs-business-sdk');
const AdAccount = bizSdk.AdAccount;
const Campaign = bizSdk.Campaign;

const access_token = 'YOUR_ACCESS_TOKEN';
const ad_account_id = 'act_YOUR_AD_ACCOUNT_ID';
const api = bizSdk.FacebookAdsApi.init(access_token);

async function createCampaign(name, objective) {
  const account = new AdAccount(ad_account_id);
  
  try {
    const campaign = await account.createCampaign([], {
      [Campaign.Fields.name]: name,
      [Campaign.Fields.objective]: objective,
      [Campaign.Fields.status]: Campaign.Status.paused,
      [Campaign.Fields.special_ad_categories]: []
    });
    
    console.log('Campaign Created:', campaign.id);
  } catch (error) {
    console.error('Error creating campaign:', error);
  }
}
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8",children:[S&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===S.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-slate-500/20 border-slate-500/50 text-slate-400"}`,children:S.message}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tM.Facebook,{className:"w-10 h-10 text-[#39FF14]"}),"Facebook"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your Facebook campaigns"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>x(!c),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${c?"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/20 hover:bg-[#39FF14]/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${c?"animate-pulse":""}`}),c?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>{j(null),b(!0)},className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Advanced Analytics"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>r(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${c?"bg-green-500/20 text-green-400 animate-pulse":"bg-slate-700 text-slate-400"}`,children:c?"LIVE":"TOTAL"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:P.totalImpressions.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Impressions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(ax.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:P.totalClicks.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Clicks"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(e7.BarChart3,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)("span",{className:"text-[#39FF14] text-sm font-semibold",children:"LIVE"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:P.activeCampaigns}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(Z.Globe,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(P.totalReach/1e3).toFixed(1),"K"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Reach"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(er.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",P.totalSpent.toLocaleString()]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),"overview"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:w,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Objective"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Impressions"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Clicks"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"CPC"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"CTR"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Spend"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:o?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,className:"p-8 text-center text-slate-400",children:"Loading campaigns..."})}):0===T.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:9,className:"p-12 text-center",children:[(0,t.jsx)(tM.Facebook,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No Facebook campaigns found"})]})}):i.filter(e=>"all"===v||e.status===v).map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(tM.Facebook,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"completed":case"scheduled":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-slate-300",children:e.objective}),(0,t.jsx)("td",{className:"p-4 text-right text-white font-mono",children:e.impressions.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:e.clicks.toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-slate-300 font-mono",children:["RM ",e.cpc]}),(0,t.jsxs)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:[e.ctr,"%"]}),(0,t.jsxs)("td",{className:"p-4 text-right text-white font-mono",children:["RM ",e.spent.toLocaleString()]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 text-slate-400 hover:text-white rounded-lg transition-colors",children:(0,t.jsx)(sT.default,{className:"w-4 h-4"})})})})]},e.id))})]})})})]}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-[#39FF14]"})," Audience Demographics"]}),(0,t.jsx)("div",{className:"space-y-4",children:[{age:"18-24",pct:15},{age:"25-34",pct:45},{age:"35-44",pct:25},{age:"45+",pct:15}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1 text-slate-300",children:[(0,t.jsxs)("span",{children:["Age ",e.age]}),(0,t.jsxs)("span",{children:[e.pct,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 h-2 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"bg-[#39FF14]/20 h-full",style:{width:`${e.pct}%`}})})]},e.age))}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-700 flex justify-center gap-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-[#39FF14] rounded-full"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Male (52%)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-[#39FF14] rounded-full"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Female (48%)"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-[#39FF14]"})," Real-time Ad Auction"]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700 text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-[#39FF14]",children:["RM ",h.bid.toFixed(2)]}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Current Bid"})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700 text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-[#39FF14]",children:[Math.floor(h.winRate),"%"]}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Win Rate"})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-slate-400",children:h.competitors}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Competitors"})]})]}),(0,t.jsx)("div",{className:"relative h-32 bg-slate-900 rounded-lg border border-slate-700 overflow-hidden flex items-end",children:Array.from({length:20}).map((e,s)=>(0,t.jsx)("div",{className:"flex-1 bg-[#39FF14]/10 hover:bg-[#39FF14]/30 transition-all border-t border-[#39FF14]/30",style:{height:`${30+60*Math.random()}%`}},s))})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({platform:"facebook",api_version:"v18.0",features:["ads_management","pages_read_engagement","pages_manage_posts"],permissions:["business_management","ads_management","pages_show_list"]},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:D.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})}),g&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(tM.Facebook,{className:"w-7 h-7 text-[#39FF14]"}),f?"Edit Campaign":"Create Facebook Campaign"]}),(0,t.jsx)("button",{onClick:()=>{b(!1),j(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:A.name,onChange:e=>I({...A,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:A.description,onChange:e=>I({...A,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Lifetime Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:A.budget,onChange:e=>I({...A,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Objective"}),(0,t.jsxs)("select",{value:A.objective,onChange:e=>I({...A,objective:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"engagement",children:"Engagement"}),(0,t.jsx)("option",{value:"brand_awareness",children:"Brand Awareness"}),(0,t.jsx)("option",{value:"reach",children:"Reach"}),(0,t.jsx)("option",{value:"traffic",children:"Traffic"}),(0,t.jsx)("option",{value:"conversions",children:"Conversions"}),(0,t.jsx)("option",{value:"lead_generation",children:"Lead Generation"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Facebook Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.boostedPosts,onChange:e=>I({...A,boostedPosts:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Boosted Posts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.carouselAds,onChange:e=>I({...A,carouselAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Carousel Ads"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.messengerAds,onChange:e=>I({...A,messengerAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Messenger Ads"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.marketplaceAds,onChange:e=>I({...A,marketplaceAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Marketplace Ads"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{b(!1),j(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{d(!0);let e=aC(1)[0];e.name=A.name,e.description=A.description,e.budget=parseFloat(A.budget)||2e3,e.status="running",e.created_at=new Date().toISOString(),n(t=>[e,...t]),M({type:"success",message:"Campaign created successfully"}),b(!1),d(!1)},className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),f?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,sT=sT,p=p,C=C,l=l,L=L,k=k,aM=e.i(299),aM=aM,sL=sL,er=er;let aA=e=>{let t=[],s=["running","paused","completed","draft"],a=["Long Form","Shorts","Live Stream","Premiere"];for(let l=0;l<e;l++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.floor(5e3*Math.random())+500,i=Math.floor(1e6*Math.random())+5e3,n=Math.floor(.08*i),o=Math.floor(.005*i),d=Math.floor(.01*i),c=Math.floor(.02*i),x=Math.floor(.005*i);t.push({id:`yt_camp_${Math.random().toString(36).substr(2,9)}`,name:`Tube Growth ${Math.floor(20*Math.random())+1} Campaign`,description:`Targeting tech enthusiasts with ${l} content`,status:e,strategy:l,budget:r,spent:"draft"===e?0:Math.floor(Math.random()*r),views:"draft"===e?0:i,likes:"draft"===e?0:n,dislikes:"draft"===e?0:o,comments:"draft"===e?0:d,shares:"draft"===e?0:c,subscribersGained:"draft"===e?0:x,ctr:(10*Math.random()+2).toFixed(1),avgViewDuration:`${Math.floor(10*Math.random())}:${Math.floor(60*Math.random()).toString().padStart(2,"0")}`,created_at:new Date(Date.now()-60*Math.floor(60*Math.random()*1440)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())};function aI(){let{user:e}=(0,Q.useAuth)(),[a,r]=(0,s.useState)("overview"),[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,h]=(0,s.useState)([{keyword:"tech review",volume:"High",competition:"Medium",cpc:"$2.50"},{keyword:"coding tutorial",volume:"Medium",competition:"Low",cpc:"$1.20"},{keyword:"unboxing",volume:"Very High",competition:"High",cpc:"$3.00"},{keyword:"gadget hacks",volume:"High",competition:"Medium",cpc:"$1.80"}]),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(null),[j,v]=(0,s.useState)("all"),[w,F]=(0,s.useState)(""),[S,M]=(0,s.useState)(null),[A,I]=(0,s.useState)({name:"",description:"",budget:"",contentStrategy:"long_form",premiereEnabled:!1,shortsEnabled:!0,liveStreaming:!1,monetizationEnabled:!1});(0,s.useEffect)(()=>{n(aA(20)),d(!1)},[]),(0,s.useEffect)(()=>{let e;return c&&(e=setInterval(()=>{n(e=>e.map(e=>{if("running"===e.status){let t=Math.floor(100*Math.random());return{...e,views:e.views+t,likes:e.likes+Math.floor(.1*t),spent:e.spent+Math.floor(3*Math.random()),subscribersGained:e.subscribersGained+ +(Math.random()>.8)}}return e}))},2e3)),()=>clearInterval(e)},[c]);let P=(0,s.useMemo)(()=>({totalViews:i.reduce((e,t)=>e+t.views,0),totalSubscribers:i.reduce((e,t)=>e+t.subscribersGained,0),totalSpent:i.reduce((e,t)=>e+t.spent,0),avgCTR:i.length?(i.reduce((e,t)=>e+parseFloat(t.ctr||0),0)/i.length).toFixed(1):"0.0",totalLikes:i.reduce((e,t)=>e+t.likes,0)}),[i]),T=i.filter(e=>{let t="all"===j||e.status===j,s=e.name?.toLowerCase().includes(w.toLowerCase());return t&&s}),D=`
// Python - Create YouTube Live Broadcast
import google_auth_oauthlib.flow
import googleapiclient.discovery

def create_broadcast():
    youtube = googleapiclient.discovery.build("youtube", "v3", credentials=credentials)
    
    request = youtube.liveBroadcasts().insert(
        part="snippet,status",
        body={
          "snippet": {
            "title": "My New Broadcast",
            "scheduledStartTime": "2024-03-01T00:00:00Z"
          },
          "status": {
            "privacyStatus": "public"
          }
        }
    )
    response = request.execute()
    print(response)

create_broadcast()
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8 overflow-y-auto",children:[S&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===S.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-slate-500/20 border-slate-500/50 text-slate-400"} flex items-center gap-3 animate-slide-in`,children:["success"===S.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:S.message})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tC.Youtube,{className:"w-10 h-10 text-[#39FF14]"}),"YouTube Studio"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage video campaigns and live streams"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>x(!c),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${c?"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/20 hover:bg-[#39FF14]/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"} transition-all`,children:[(0,t.jsx)(L.default,{className:`w-4 h-4 ${c?"animate-pulse":""}`}),c?"Stop Live Updates":"Start Live Updates"]}),(0,t.jsxs)("button",{onClick:()=>{f(null),g(!0)},className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-[#39FF14]/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"SEO & Content Strategist"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>r(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)(eE.TrendingUp,{className:`w-5 h-5 text-[#39FF14] ${c?"animate-pulse":""}`})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(P.totalViews/1e6).toFixed(2),"M"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Views"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["+",P.totalSubscribers.toLocaleString()]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Subs Gained"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(aM.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:P.totalLikes.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Likes"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(sL.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[P.avgCTR,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Avg. CTR"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(er.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",P.totalSpent.toLocaleString()]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),"overview"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:w,onChange:e=>F(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Views"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Subscribers"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"CTR"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Avg. View Dur."}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Spend"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:o?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"p-8 text-center text-slate-400",children:"Loading campaigns..."})}):0===T.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(tC.Youtube,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No YouTube campaigns found"})]})}):T.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(eR.Video,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm hidden md:block",children:e.description})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"completed":return"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white font-mono",children:e.views.toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:["+",e.subscribersGained.toLocaleString()]}),(0,t.jsxs)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:[e.ctr,"%"]}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-300 font-mono",children:e.avgViewDuration}),(0,t.jsxs)("td",{className:"p-4 text-right text-white font-mono",children:["RM ",e.spent.toLocaleString()]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 text-slate-400 hover:text-white rounded-lg transition-colors",children:(0,t.jsx)(sT.default,{className:"w-4 h-4"})})})})]},e.id))})]})})})]}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(p.default,{className:"w-5 h-5 text-[#39FF14]"})," SEO Keyword Analysis"]}),(0,t.jsx)("div",{className:"space-y-4",children:m.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800 hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-bold text-white mb-1",children:e.keyword}),(0,t.jsxs)("div",{className:"text-xs text-slate-400 flex gap-2",children:[(0,t.jsxs)("span",{className:"text-green-400",children:["Vol: ",e.volume]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{className:"text-[#39FF14]",children:["Comp: ",e.competition]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-white font-mono font-bold",children:e.cpc}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"CPC"})]})]},s))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-[#39FF14]"})," AI Content Strategist"]}),(0,t.jsxs)("div",{className:"p-6 bg-slate-900 rounded-lg border border-slate-800 text-center mb-6",children:[(0,t.jsx)("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#39FF14] to-[#32e012] mb-2",children:"Excellent Score"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Your planned content matches 92% of current viewer interests."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-slate-300",children:"Optimization Tips"}),(0,t.jsxs)("div",{className:"p-3 bg-[#39FF14]/10 border border-[#39FF14]/20 rounded-lg flex gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14] shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Adding chapters to your video descriptions increases retention by 15%."})]}),(0,t.jsxs)("div",{className:"p-3 bg-[#39FF14]/10 border border-[#39FF14]/20 rounded-lg flex gap-3",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14] shrink-0"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Posting Shorts between main uploads can boost subscribers by 20%."})]})]})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({platform:"youtube",api_version:"v3",features:["analytics","live_streaming","content_id"],scopes:["https://www.googleapis.com/auth/youtube.force-ssl"]},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:D.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})}),u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(tC.Youtube,{className:"w-7 h-7 text-[#39FF14]"}),b?"Edit Campaign":"Create YouTube Campaign"]}),(0,t.jsx)("button",{onClick:()=>{g(!1),f(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:A.name,onChange:e=>I({...A,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:A.description,onChange:e=>I({...A,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:A.budget,onChange:e=>I({...A,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Strategy"}),(0,t.jsxs)("select",{value:A.contentStrategy,onChange:e=>I({...A,contentStrategy:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"long_form",children:"Long Form (8+ minutes)"}),(0,t.jsx)("option",{value:"short_form",children:"Short Form (2-8 minutes)"}),(0,t.jsx)("option",{value:"shorts",children:"YouTube Shorts (60 seconds)"}),(0,t.jsx)("option",{value:"mixed",children:"Mixed Strategy"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"YouTube Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.premiereEnabled,onChange:e=>I({...A,premiereEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Premiere Videos"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.shortsEnabled,onChange:e=>I({...A,shortsEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"YouTube Shorts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.liveStreaming,onChange:e=>I({...A,liveStreaming:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Live Streaming"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:A.monetizationEnabled,onChange:e=>I({...A,monetizationEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Monetization"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{g(!1),f(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{d(!0);let e=aA(1)[0];e.name=A.name,e.description=A.description,e.budget=parseFloat(A.budget)||1e3,e.status="running",e.created_at=new Date().toISOString(),n(t=>[e,...t]),M({type:"success",message:"Campaign created successfully"}),g(!1),d(!1)},className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),b?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,sT=sT,p=p,aP=e.i(51348),l=l,sL=sL,s4=s4,t7=t7,eB=eB,k=k,L=L;let aT=e=>{let t=[],s=["running","paused","completed","draft"],a=["Brand Awareness","Lead Generation","Website Visits","Job Applications"],l=["Technology","Finance","Healthcare","Education","Retail"];for(let r=0;r<e;r++){let e=s[Math.floor(Math.random()*s.length)],r=a[Math.floor(Math.random()*a.length)],i=l[Math.floor(Math.random()*l.length)],n=Math.floor(1e4*Math.random())+2e3,o=Math.floor(5e5*Math.random())+1e4,d=Math.floor(o*(.03*Math.random()+.01)),c="Lead Generation"===r?Math.floor(.15*d):0,x="draft"===e?0:Math.floor(Math.random()*n);t.push({id:`li_camp_${Math.random().toString(36).substr(2,9)}`,name:`B2B ${i} ${Math.floor(4*Math.random())+1} Campaign`,description:`Targeting decision makers in ${i}`,status:e,objective:r,industry:i,budget:n,spent:x,impressions:"draft"===e?0:o,clicks:"draft"===e?0:d,ctr:"draft"===e?0:(d/o*100).toFixed(2),leads:c,cpc:(x/d).toFixed(2),created_at:new Date(Date.now()-60*Math.floor(60*Math.random()*1440)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())};function aD(){let{user:e}=(0,Q.useAuth)(),[a,r]=(0,s.useState)("overview"),[i,n]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,h]=(0,s.useState)([{jobFunction:"Decision Makers",percentage:45,growth:"+12%"},{jobFunction:"IT Engineering",percentage:30,growth:"+5%"},{jobFunction:"Business Dev",percentage:15,growth:"+8%"},{jobFunction:"Operations",percentage:10,growth:"-2%"}]),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(null),[j,v]=(0,s.useState)("all"),[w,F]=(0,s.useState)(""),[C,S]=(0,s.useState)(null),[M,A]=(0,s.useState)({name:"",description:"",budget:"",objective:"brand_awareness",sponsoredContent:!1,textAds:!1,messageAds:!1,dynamicAds:!1});(0,s.useEffect)(()=>{n(aT(20)),d(!1)},[]),(0,s.useEffect)(()=>{let e;return c&&(e=setInterval(()=>{n(e=>e.map(e=>{if("running"===e.status){let t=Math.floor(50*Math.random()),s=Math.floor(5*Math.random());return{...e,impressions:e.impressions+t,clicks:e.clicks+s,spent:e.spent+5*Math.random(),leads:"Lead Generation"===e.objective&&Math.random()>.8?e.leads+1:e.leads}}return e}))},3e3)),()=>clearInterval(e)},[c]);let I=(0,s.useMemo)(()=>({totalImpressions:i.reduce((e,t)=>e+t.impressions,0),totalClicks:i.reduce((e,t)=>e+t.clicks,0),totalLeads:i.reduce((e,t)=>e+t.leads,0),totalSpent:i.reduce((e,t)=>e+t.spent,0),avgCTR:i.length?(i.reduce((e,t)=>e+parseFloat(t.ctr||0),0)/i.length).toFixed(1):"0.0"}),[i]),P=i.filter(e=>{let t="all"===j||e.status===j,s=e.name?.toLowerCase().includes(w.toLowerCase());return t&&s}),T=`
// Node.js - Create LinkedIn Campaign
const axios = require('axios');

const createCampaign = async () => {
  const accessToken = 'YOUR_ACCESS_TOKEN';
  const accountId = 'urn:li:sponsoredAccount:123456789';

  try {
    const response = await axios.post(
      'https://api.linkedin.com/v2/adCampaignsV2',
      {
        account: accountId,
        name: 'My New B2B Campaign',
        type: 'SPONSORED_UPDATES',
        status: 'ACTIVE',
        dailyBudget: { amount: '50.00', currencyCode: 'USD' },
        costType: 'CPC',
        targetingCriteria: { ... }
      },
      { headers: { Authorization: \`Bearer \${accessToken}\` } }
    );
    console.log('Campaign Created:', response.data);
  } catch (error) {
    console.error('Error creating campaign:', error.response.data);
  }
};

createCampaign();
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8 overflow-y-auto",children:[C&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===C.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===C.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(E.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:C.message})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(aP.Linkedin,{className:"w-10 h-10 text-[#39FF14]"}),"LinkedIn Ads"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"B2B marketing and professional targeting"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>x(!c),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${c?"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/20 hover:bg-[#39FF14]/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(L.default,{className:`w-4 h-4 ${c?"animate-pulse":""}`}),c?"Stop Live Updates":"Start Live Updates"]}),(0,t.jsxs)("button",{onClick:()=>{f(null),g(!0)},className:"bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-[#39FF14]/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"insights",label:"Audience Insights"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>r(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]/20":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6 hover:border-[#39FF14]/20 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(s4.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)(eE.TrendingUp,{className:`w-5 h-5 text-[#39FF14] ${c?"animate-pulse":""}`})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(I.totalImpressions/1e3).toFixed(1),"k"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Impressions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/20 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(sL.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.totalClicks.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Clicks"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-green-500/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.totalLeads.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Leads"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(eB.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[I.avgCTR,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Avg. CTR"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(t7.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",I.totalSpent.toLocaleString()]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),"overview"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:w,onChange:e=>F(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Impressions"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Clicks"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"CTR"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Leads"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"CPC"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Spend"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:o?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,className:"p-8 text-center text-slate-400",children:"Loading campaigns..."})}):0===P.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:9,className:"p-12 text-center",children:[(0,t.jsx)(aP.Linkedin,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No LinkedIn campaigns found"})]})}):P.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(s4.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm hidden md:block",children:[e.objective," • ",e.industry]})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white font-mono",children:e.impressions.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-300 font-mono",children:e.clicks.toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-[#39FF14] font-mono",children:[e.ctr,"%"]}),(0,t.jsx)("td",{className:"p-4 text-right text-green-400 font-mono",children:e.leads}),(0,t.jsxs)("td",{className:"p-4 text-right text-slate-300 font-mono",children:["RM ",e.cpc]}),(0,t.jsxs)("td",{className:"p-4 text-right text-white font-mono",children:["RM ",e.spent.toLocaleString()]}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 text-slate-400 hover:text-white rounded-lg transition-colors",children:(0,t.jsx)(sT.default,{className:"w-4 h-4"})})})})]},e.id))})]})})})]}),"insights"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-[#39FF14]"})," Audience Demographics"]}),(0,t.jsx)("div",{className:"space-y-4",children:m.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg border border-slate-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"w-10 h-10 rounded-full bg-[#39FF14]/20/20 flex items-center justify-center text-[#39FF14] font-bold",children:[e.percentage,"%"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.jobFunction}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Job Function"})]})]}),(0,t.jsx)("div",{className:`text-sm font-medium ${e.growth.startsWith("+")?"text-green-400":"text-red-400"}`,children:e.growth})]},s))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(e7.BarChart3,{className:"w-5 h-5 text-[#39FF14]"})," Global Benchmarks"]}),(0,t.jsx)("div",{className:"p-6 bg-slate-900 rounded-lg border border-slate-800 mb-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Avg. Cost Per Lead (Technology)"}),(0,t.jsx)("div",{className:"text-4xl font-bold text-white mb-4",children:"RM 45.20"}),(0,t.jsx)("div",{className:"inline-block px-3 py-1 rounded-full bg-green-500/20 text-green-400 text-xs font-medium",children:"You are performing 15% better"})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Average CTR"}),(0,t.jsx)("span",{className:"text-white",children:"0.4% - 0.9%"})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-[#39FF14]/20 h-2 rounded-full",style:{width:"65%"}})})]})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({platform:"linkedin",api_version:"v2",features:["marketing_developer_platform","ads_management","lead_sync"],permissions:["r_ads","w_ads","r_organization_social"]},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-green-300 overflow-x-auto",children:(0,t.jsx)("pre",{children:T.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})}),u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(aP.Linkedin,{className:"w-7 h-7 text-[#39FF14]"}),b?"Edit Campaign":"Create LinkedIn Campaign"]}),(0,t.jsx)("button",{onClick:()=>{g(!1),f(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:M.name,onChange:e=>A({...M,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:M.description,onChange:e=>A({...M,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:M.budget,onChange:e=>A({...M,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Objective"}),(0,t.jsxs)("select",{value:M.objective,onChange:e=>A({...M,objective:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-[#39FF14] transition-colors",children:[(0,t.jsx)("option",{value:"brand_awareness",children:"Brand Awareness"}),(0,t.jsx)("option",{value:"website_visits",children:"Website Visits"}),(0,t.jsx)("option",{value:"engagement",children:"Engagement"}),(0,t.jsx)("option",{value:"lead_generation",children:"Lead Generation"}),(0,t.jsx)("option",{value:"website_conversions",children:"Website Conversions"}),(0,t.jsx)("option",{value:"job_applicants",children:"Job Applicants"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"LinkedIn Ad Types"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:M.sponsoredContent,onChange:e=>A({...M,sponsoredContent:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Sponsored Content"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:M.textAds,onChange:e=>A({...M,textAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Text Ads"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:M.messageAds,onChange:e=>A({...M,messageAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Message Ads (InMail)"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:M.dynamicAds,onChange:e=>A({...M,dynamicAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-[#39FF14] focus:ring-[#39FF14] focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Dynamic Ads"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{g(!1),f(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{d(!0);let e=aT(1)[0];e.name=M.name,e.description=M.description,e.budget=parseFloat(M.budget)||2e3,e.status="running",e.objective="brand_awareness"===M.objective?"Brand Awareness":"Lead Generation",e.created_at=new Date().toISOString(),n(t=>[e,...t]),S({type:"success",message:"Campaign created successfully"}),g(!1),d(!1)},className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),b?"Update Campaign":"Create Campaign"]})]})]})})]})}var tt=tt,_=_,L=L,k=k,C=C;function aR(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)("text"),[f,j]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[w,F]=(0,s.useState)(50),[S,M]=(0,s.useState)("business");(0,s.useEffect)(()=>{i((e=>{let t=[],s=["completed","in_progress","scheduled","draft","failed"],a=["text","image","video","file"];for(let e=0;e<15;e++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.floor(5e3*Math.random())+500,i=new Date(Date.now()-60*Math.floor(30*Math.random()*1440)*1e3),n=0,o=0,d=0;"completed"===e?(o=Math.floor((n=Math.floor(r*(.85+.1*Math.random())))*(.6+.2*Math.random())),d=r-n):"in_progress"===e&&(o=Math.floor((n=Math.floor(r*(.3+.2*Math.random())))*(.4+.1*Math.random())),d=Math.floor(.05*r)),t.push({id:`viber_${Math.random().toString(36).substr(2,9)}`,campaign_name:`${l.charAt(0).toUpperCase()+l.slice(1)} Promo ${i.toLocaleDateString()}`,status:e,message_type:l,total_recipients:r,valid_numbers:r,delivered:n,seen:o,failed:d,created_at:i.toISOString(),scheduled_at:"scheduled"===e?new Date(Date.now()+864e5).toISOString():null})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())})(0)),o(!1)},[]),(0,s.useEffect)(()=>{let e;return d&&(e=setInterval(()=>{i(e=>e.map(e=>{if("in_progress"===e.status){let t=Math.floor(5*Math.random()),s=Math.floor(3*Math.random());return{...e,delivered:Math.min(e.total_recipients,e.delivered+t),seen:Math.min(e.total_recipients,e.seen+s)}}return e}))},2e3)),()=>clearInterval(e)},[d]);let A=(0,s.useMemo)(()=>({totalSent:r.reduce((e,t)=>e+t.total_recipients,0),delivered:r.reduce((e,t)=>e+t.delivered,0),seen:r.reduce((e,t)=>e+t.seen,0),failed:r.reduce((e,t)=>e+t.failed,0),deliveryRate:r.length?(r.reduce((e,t)=>e+t.delivered/t.total_recipients,0)/r.length*100).toFixed(1):"0.0"}),[r]),I=`
// Node.js - Send Viber Message
const axios = require('axios');

async function sendViberMessage() {
  const response = await axios.post('https://chatapi.viber.com/pa/send_message', {
    receiver: "01234567890",
    min_api_version: 1,
    sender: {
      name: "MyBrand",
      avatar: "http://avatar.example.com"
    },
    tracking_data: "tracking_id_123",
    type: "text",
    text: "Hello from Viber Business API!"
  }, {
    headers: { 'X-Viber-Auth-Token': 'YOUR_AUTH_TOKEN' }
  });
  
  console.log(response.data);
}
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8",children:[x&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===x.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} animate-in slide-in-from-top-2`,children:x.message}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eb.Phone,{className:"w-10 h-10 text-brand-lime"}),"Viber Business Messaging"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Send bulk messages and manage high-volume Viber campaigns"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>c(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${d?"bg-[#39FF14]/10 text-[#39FF14] border-[#39FF14]/20 hover:bg-[#39FF14]/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${d?"animate-pulse":""}`}),d?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2 font-medium shadow-lg hover:shadow-[#39FF14]/20",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"compose",label:"Compose"},{id:"advanced",label:"Advanced Features"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),"overview"===a&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(tt.default,{className:"w-6 h-6 text-brand-lime"})}),(0,t.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${d?"bg-green-500/20 text-brand-lime animate-pulse":"bg-slate-700 text-slate-400"}`,children:d?"LIVE":"TOTAL"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.totalSent.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-brand-lime"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.delivered.toLocaleString()}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm",children:["Delivered (",A.deliveryRate,"%)"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-6 h-6 text-brand-lime"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.seen.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Seen"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.failed.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Campaigns"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700 bg-slate-900/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Recipients"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Seen"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Date"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30",children:[(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.campaign_name}),(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase",children:e.message_type})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-brand-lime":"in_progress"===e.status?"bg-[#39FF14]/20/20 text-brand-lime":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.status.replace("_"," ")})}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-300",children:e.total_recipients.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-brand-lime",children:e.delivered.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-brand-lime",children:e.seen.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-400",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]}),"compose"===a&&(0,t.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Campaign"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-[#39FF14] focus:outline-none",placeholder:"e.g. Summer Sale Promo"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type"}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-[#39FF14] focus:outline-none",children:[(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"image",children:"Image Message"}),(0,t.jsx)("option",{value:"video",children:"Video Message"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients (One per line)"}),(0,t.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),rows:5,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-[#39FF14] focus:outline-none font-mono",placeholder:"+60123456789 +60198765432"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content"}),(0,t.jsx)("textarea",{value:f,onChange:e=>j(e.target.value),rows:4,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-[#39FF14] focus:outline-none",placeholder:"Type your message here..."})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)("button",{onClick:()=>{o(!0);let e={id:`viber_${Math.random().toString(36).substr(2,9)}`,campaign_name:u||"New Campaign",status:"in_progress",message_type:g,total_recipients:v.split("\n").length||100,valid_numbers:v.split("\n").length||100,delivered:0,seen:0,failed:0,created_at:new Date().toISOString()};i(t=>[e,...t]),h({type:"success",message:"Campaign started successfully"}),p(""),j(""),y(""),l("overview"),o(!1),i(t=>[e,...t]),h({type:"success",message:"Campaign started successfully"}),p(""),j(""),y(""),l("overview"),o(!1)},disabled:n||!u||!f,className:"px-8 py-4 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg font-bold transition-all shadow-lg hover:shadow-[#39FF14]/20 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),n?"Sending...":"Launch Campaign"]})})]})]})}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-yellow-400"})," Throughput Control"]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[(0,t.jsx)("span",{children:"Delivery Speed"}),(0,t.jsxs)("span",{className:"text-[#39FF14] font-bold",children:[w," msgs/sec"]})]}),(0,t.jsx)("input",{type:"range",min:"1",max:"100",value:w,onChange:e=>F(parseInt(e.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-[#39FF14]"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Adjust throughput to manage server load and carrier limits."})]})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(T.MessageSquare,{className:"w-5 h-5 text-[#39FF14]"})," Session Management"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:"Business Messages"}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Standard bulk messaging"})]}),(0,t.jsx)("div",{className:"h-4 w-4 rounded-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]"})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700 flex items-center justify-between opacity-50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:"Transcoding Session"}),(0,t.jsx)("div",{className:"text-xs text-slate-400",children:"Video compression active"})]}),(0,t.jsx)("div",{className:"h-4 w-4 rounded-full bg-slate-600"})]})]})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"API Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({auth_token:"445da6...-8ef...-...",webhook_url:"https://your-domain.com/viber/webhook",sender_name:"MyBrand",avatar_url:"https://your-domain.com/avatar.jpg"},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Node.js Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-green-300 overflow-x-auto",children:(0,t.jsx)("pre",{children:I.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})})]})}var tt=tt,_=_,L=L,k=k,C=C;function aL(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)("text"),[j,v]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[F,S]=(0,s.useState)(30),[M,A]=(0,s.useState)("");(0,s.useEffect)(()=>{i((e=>{let t=[],s=["completed","in_progress","scheduled","draft","failed"],a=["text","image","video","sticker","template"];for(let e=0;e<15;e++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.floor(5e3*Math.random())+500,i=new Date(Date.now()-60*Math.floor(30*Math.random()*1440)*1e3),n=0,o=0,d=0;"completed"===e?(o=Math.floor((n=Math.floor(r*(.9+.08*Math.random())))*(.7+.2*Math.random())),d=r-n):"in_progress"===e&&(o=Math.floor((n=Math.floor(r*(.3+.2*Math.random())))*(.5+.1*Math.random())),d=Math.floor(.02*r)),t.push({id:`line_${Math.random().toString(36).substr(2,9)}`,campaign_name:`${l.charAt(0).toUpperCase()+l.slice(1)} Blast ${i.toLocaleDateString()}`,status:e,message_type:l,total_recipients:r,valid_numbers:r,delivered:n,read:o,failed:d,created_at:i.toISOString(),scheduled_at:"scheduled"===e?new Date(Date.now()+864e5).toISOString():null})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())})(0)),o(!1)},[]),(0,s.useEffect)(()=>{let e;return c&&(e=setInterval(()=>{i(e=>e.map(e=>{if("in_progress"===e.status){let t=Math.floor(8*Math.random()),s=Math.floor(5*Math.random());return{...e,delivered:Math.min(e.total_recipients,e.delivered+t),read:Math.min(e.total_recipients,e.read+s)}}return e}))},2e3)),()=>clearInterval(e)},[c]);let I=(0,s.useMemo)(()=>({totalSent:r.reduce((e,t)=>e+t.total_recipients,0),delivered:r.reduce((e,t)=>e+t.delivered,0),read:r.reduce((e,t)=>e+t.read,0),failed:r.reduce((e,t)=>e+t.failed,0),readRate:r.length?(r.reduce((e,t)=>t.delivered>0?e+t.read/t.delivered:e,0)/r.length*100).toFixed(1):"0.0"}),[r]),P=`
// Node.js - Send LINE Message
const line = require('@line/bot-sdk');

const client = new line.Client({
  channelAccessToken: 'YOUR_CHANNEL_ACCESS_TOKEN'
});

async function sendLineMessage() {
  await client.pushMessage('USER_ID', {
    type: 'text',
    text: 'Hello from LINE Official Account!'
  });
  
  console.log('Message sent!');
}
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8",children:[h&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===h.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} animate-in slide-in-from-top-2`,children:h.message}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tE.MessageCircle,{className:"w-10 h-10 text-green-500"}),"LINE Official Account"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage broadcasts and engage with your LINE audience"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>x(!c),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${c?"bg-green-500/10 text-green-400 border-green-500/20 hover:bg-green-500/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${c?"animate-pulse":""}`}),c?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2 font-medium shadow-lg hover:shadow-green-500/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Broadcast"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"compose",label:"Compose"},{id:"advanced",label:"Advanced Features"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-green-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-green-400":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),"overview"===a&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(tt.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${c?"bg-green-500/20 text-green-400 animate-pulse":"bg-slate-700 text-slate-400"}`,children:c?"LIVE":"TOTAL"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.totalSent.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Targeted Users"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-emerald-500/20 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-emerald-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.delivered.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.read.toLocaleString()}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm",children:["Read (",I.readRate,"%)"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.failed.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed (Blocked)"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Broadcasts"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700 bg-slate-900/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Broadcast Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Targeted"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Read"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Date"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30",children:[(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.campaign_name}),(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase",children:e.message_type})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.status.replace("_"," ")})}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-300",children:e.total_recipients.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-emerald-300",children:e.delivered.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14]",children:e.read.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-400",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]}),"compose"===a&&(0,t.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Broadcast"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Broadcast Name"}),(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none",placeholder:"e.g. Monthly Newsletter"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type"}),(0,t.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"sticker",children:"Sticker"}),(0,t.jsx)("option",{value:"image",children:"Image"}),(0,t.jsx)("option",{value:"video",children:"Video"}),(0,t.jsx)("option",{value:"template",children:"Rich Message (Template)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"User IDs (One per line)"}),(0,t.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),rows:5,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none font-mono",placeholder:"U1234567890abcdef... U0987654321fedcba..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content"}),(0,t.jsx)("textarea",{value:j,onChange:e=>v(e.target.value),rows:4,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none",placeholder:"Type your message here..."})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)("button",{onClick:()=>{o(!0);let e={id:`line_${Math.random().toString(36).substr(2,9)}`,campaign_name:p||"New Campaign",status:"in_progress",message_type:b,total_recipients:y.split("\n").length||100,valid_numbers:y.split("\n").length||100,delivered:0,read:0,failed:0,created_at:new Date().toISOString()};i(t=>[e,...t]),u({type:"success",message:"Campaign broadcast started"}),g(""),v(""),w(""),l("overview"),o(!1),i(t=>[e,...t]),u({type:"success",message:"Campaign broadcast started"}),g(""),v(""),w(""),l("overview"),o(!1)},disabled:n||!p||!j,className:"px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-lg font-bold transition-all shadow-lg hover:shadow-green-500/25 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),n?"Sending...":"Send Broadcast"]})})]})]})}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-yellow-400"})," Messaging Options"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[(0,t.jsx)("span",{children:"Multicast Speed"}),(0,t.jsxs)("span",{className:"text-green-400 font-bold",children:[F," req/sec"]})]}),(0,t.jsx)("input",{type:"range",min:"1",max:"60",value:F,onChange:e=>S(parseInt(e.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-700 bg-slate-900 text-green-500 focus:ring-green-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Disable Push Notifications (Silent Message)"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(d.Settings,{className:"w-5 h-5 text-[#39FF14]"})," Rich Menus"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Default Rich Menu ID"}),(0,t.jsx)("input",{type:"text",value:M,onChange:e=>A(e.target.value),placeholder:"richmenu-1234567890...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white text-sm font-mono focus:border-green-500 focus:outline-none"}),(0,t.jsx)("button",{className:"text-sm text-green-400 hover:text-green-300 font-medium",children:"Manage Rich Menus →"})]})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Channel Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({channel_id:"165...",channel_secret:"92c...",channel_access_token:"eyJ...",webhook_url:"https://your-domain.com/line/webhook"},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Node.js Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-green-300 overflow-x-auto",children:(0,t.jsx)("pre",{children:P.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})})]})}var tt=tt,_=_,L=L,k=k,C=C,aE=e.i(40183),aE=aE;function a$(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)("text"),[f,j]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[w,F]=(0,s.useState)(20),[S,M]=(0,s.useState)("");(0,s.useEffect)(()=>{i((e=>{let t=[],s=["completed","in_progress","scheduled","draft","failed"],a=["text","image","video","news","miniprogram"];for(let e=0;e<15;e++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.floor(5e3*Math.random())+500,i=new Date(Date.now()-60*Math.floor(30*Math.random()*1440)*1e3),n=0,o=0,d=0;"completed"===e?(o=Math.floor((n=Math.floor(r*(.9+.08*Math.random())))*(.6+.2*Math.random())),d=r-n):"in_progress"===e&&(o=Math.floor((n=Math.floor(r*(.3+.2*Math.random())))*(.4+.1*Math.random())),d=Math.floor(.02*r)),t.push({id:`wx_${Math.random().toString(36).substr(2,9)}`,campaign_name:`${"miniprogram"===l?"Mini Program":l.charAt(0).toUpperCase()+l.slice(1)} Push ${i.toLocaleDateString()}`,status:e,message_type:l,total_recipients:r,valid_numbers:r,delivered:n,read:o,failed:d,created_at:i.toISOString(),scheduled_at:"scheduled"===e?new Date(Date.now()+864e5).toISOString():null})}return t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())})(0)),o(!1)},[]),(0,s.useEffect)(()=>{let e;return d&&(e=setInterval(()=>{i(e=>e.map(e=>{if("in_progress"===e.status){let t=Math.floor(8*Math.random()),s=Math.floor(5*Math.random());return{...e,delivered:Math.min(e.total_recipients,e.delivered+t),read:Math.min(e.total_recipients,e.read+s)}}return e}))},2e3)),()=>clearInterval(e)},[d]);let A=(0,s.useMemo)(()=>({totalSent:r.reduce((e,t)=>e+t.total_recipients,0),delivered:r.reduce((e,t)=>e+t.delivered,0),read:r.reduce((e,t)=>e+t.read,0),failed:r.reduce((e,t)=>e+t.failed,0),readRate:r.length?(r.reduce((e,t)=>t.delivered>0?e+t.read/t.delivered:e,0)/r.length*100).toFixed(1):"0.0"}),[r]),I=`
// Node.js - Send WeChat Message (Official Account)
const axios = require('axios');

async function sendWeChatMessage() {
  const token = 'YOUR_ACCESS_TOKEN';
  const url = \`https://api.weixin.qq.com/cgi-bin/message/custom/send?access_token=\${token}\`;

  await axios.post(url, {
    touser: 'OPENID',
    msgtype: 'text',
    text: {
      content: 'Hello from WeChat Official Account!'
    }
  });
  
  console.log('Message sent!');
}
  `;return(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8",children:[x&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===x.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} animate-in slide-in-from-top-2`,children:x.message}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(T.MessageSquare,{className:"w-10 h-10 text-green-500"}),"WeChat Official Account"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage broadcasts and engage with your WeChat followers"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>c(!d),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${d?"bg-green-500/10 text-green-400 border-green-500/20 hover:bg-green-500/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${d?"animate-pulse":""}`}),d?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all flex items-center gap-2 font-medium shadow-lg hover:shadow-green-500/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Broadcast"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mb-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"compose",label:"Compose"},{id:"advanced",label:"Advanced Features"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-green-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-green-400":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))}),"overview"===a&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(tt.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsx)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${d?"bg-green-500/20 text-green-400 animate-pulse":"bg-slate-700 text-slate-400"}`,children:d?"LIVE":"TOTAL"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.totalSent.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Targeted Users"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-emerald-500/20 rounded-lg",children:(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-emerald-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.delivered.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.read.toLocaleString()}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm",children:["Read (",A.readRate,"%)"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(E.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:A.failed.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed (Blocked)"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Recent Broadcasts"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700 bg-slate-900/50",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Broadcast Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Targeted"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Read"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Date"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30",children:[(0,t.jsxs)("td",{className:"p-4",children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.campaign_name}),(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase",children:e.message_type})]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.status.replace("_"," ")})}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-300",children:e.total_recipients.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-emerald-300",children:e.delivered.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-[#39FF14]",children:e.read.toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-slate-400",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]}),"compose"===a&&(0,t.jsx)("div",{className:"max-w-4xl mx-auto space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Create New Broadcast"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Broadcast Name"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none",placeholder:"e.g. Monthly Newsletter"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type"}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"image",children:"Image"}),(0,t.jsx)("option",{value:"video",children:"Video"}),(0,t.jsx)("option",{value:"news",children:"News / Article"}),(0,t.jsx)("option",{value:"miniprogram",children:"Mini Program"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"User OpenIDs (One per line)"}),(0,t.jsx)("textarea",{value:v,onChange:e=>y(e.target.value),rows:5,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none font-mono",placeholder:"oUpF8uMuAJO_M2pxb1Q9zNjWeS6o... oUpF8uMuAJO_M2pxb1Q9zNjWeS6p..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content"}),(0,t.jsx)("textarea",{value:f,onChange:e=>j(e.target.value),rows:4,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none",placeholder:"Type your message here..."})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)("button",{onClick:()=>{o(!0);let e={id:`wx_${Math.random().toString(36).substr(2,9)}`,campaign_name:u||"New Campaign",status:"in_progress",message_type:g,total_recipients:v.split("\n").length||100,valid_numbers:v.split("\n").length||100,delivered:0,read:0,failed:0,created_at:new Date().toISOString()};i(t=>[e,...t]),h({type:"success",message:"Campaign broadcast started"}),p(""),j(""),y(""),l("overview"),o(!1),i(t=>[e,...t]),h({type:"success",message:"Campaign broadcast started"}),p(""),j(""),y(""),l("overview"),o(!1)},disabled:n||!u||!f,className:"px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-lg font-bold transition-all shadow-lg hover:shadow-green-500/25 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(tt.default,{className:"w-5 h-5"}),n?"Sending...":"Send Broadcast"]})})]})]})}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-yellow-400"})," Messaging Options"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-slate-300 mb-2",children:[(0,t.jsx)("span",{children:"Multicast Speed"}),(0,t.jsxs)("span",{className:"text-green-400 font-bold",children:[w," req/sec"]})]}),(0,t.jsx)("input",{type:"range",min:"1",max:"50",value:w,onChange:e=>F(parseInt(e.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-green-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-700 bg-slate-900 text-green-500 focus:ring-green-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-300",children:"Target Specific Tags/Groups"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(aE.default,{className:"w-5 h-5 text-[#39FF14]"})," Mini Programs"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Link Mini Program AppID"}),(0,t.jsx)("input",{type:"text",value:S,onChange:e=>M(e.target.value),placeholder:"wx1234567890...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white text-sm font-mono focus:border-green-500 focus:outline-none"}),(0,t.jsx)("button",{className:"text-sm text-green-400 hover:text-green-300 font-medium",children:"Configure Mini Program Settings →"})]})]})]})}),"configuration"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Channel Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({app_id:"wx888...",app_secret:"e1a...",token:"my_wechat_token",encoding_aes_key:"M5t..."},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Node.js Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-green-300 overflow-x-auto",children:(0,t.jsx)("pre",{children:I.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]})})]})}var f=f,F=F,e_=e_,x=x,ae=ae,L=L,eI=eI,aO=e.i(35832),aO=aO;function aq(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{e&&c()},[e]),(0,s.useEffect)(()=>{if(!e)return;let t=h.db.channel("user-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_subscriptions",filter:`user_id=eq.${e.id}`},()=>{c()}).subscribe(),s=h.db.channel("user-offers-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_offers",filter:`user_id=eq.${e.id}`},()=>{c()}).subscribe();return()=>{h.db.removeChannel(t),h.db.removeChannel(s)}},[e]);let c=async()=>{try{let{data:t,error:s}=await h.db.from("user_subscriptions").select(`
          *,
          product:products(*)
        `).eq("user_id",e?.id).order("created_at",{ascending:!1});if(s)throw s;let{data:a,error:r}=await h.db.from("user_offers").select("*").eq("user_id",e?.id).eq("status","active").order("expires_at",{ascending:!0});if(r)throw r;l(t||[]),i(a||[])}catch(e){console.error("Error loading data:",e)}finally{d(!1)}},u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=a.filter(e=>"active"===e.status),g=a.filter(e=>"active"===e.status).reduce((e,t)=>e+parseFloat(t.amount||0),0);return o?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-[#012419]",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(e_.default,{className:"w-8 h-8 text-[#39FF14] animate-spin"}),(0,t.jsx)("div",{className:"text-slate-400",children:"Loading subscriptions..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-[#012419] p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eU.CreditCard,{className:"w-10 h-10 text-[#39FF14]"}),"My Subscriptions"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your subscriptions, licenses, and offers"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(eA.Package,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)(eE.TrendingUp,{className:"w-5 h-5 text-[#39FF14]"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:p.length}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Subscriptions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(eU.CreditCard,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",g.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Monthly Spending"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(aO.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsx)("span",{className:"text-[#39FF14] text-sm font-semibold",children:"NEW"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:r.length}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Available Offers"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(ae.default,{className:"w-6 h-6 text-[#39FF14]"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:a.filter(e=>e.license_key).length}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Licenses"})]})]}),r.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(aO.default,{className:"w-6 h-6 text-[#39FF14]"}),"Special Offers for You"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(eI.default,{className:"w-6 h-6 text-[#39FF14]"})}),(0,t.jsxs)("span",{className:"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-bold",children:[e.discount_percentage,"% OFF"]})]}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.offer_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-500",children:["Expires: ",u(e.expires_at)]}),(0,t.jsx)("button",{className:"px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg text-xs font-medium transition-colors",children:"Redeem Now"})]})]},e.id))})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Active Subscriptions"})}),(0,t.jsx)("div",{className:"space-y-4",children:0===a.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eA.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No subscriptions found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Subscribe to products to get started"})]}):a.map(e=>{var s,a,l;let r,i=(s=e.expires_at,r=new Date,Math.ceil((new Date(s).getTime()-r.getTime())/864e5)),o=(a=e.usage_count||0,0===(l=e.usage_limit||0)?0:Math.min(a/l*100,100));return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(eA.Package,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:e.product?.name||e.product_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.product?.description||"Premium subscription"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),"Started: ",u(e.started_at)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,t.jsx)(ee.Clock,{className:"w-4 h-4"}),i>0?`${i} days remaining`:"Expired"]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(e=>{switch(e){case"active":return(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30 flex items-center gap-1.5",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3.5 h-3.5"}),"Active"]});case"expired":return(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30 flex items-center gap-1.5",children:[(0,t.jsx)(F.default,{className:"w-3.5 h-3.5"}),"Expired"]});case"cancelled":return(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30 flex items-center gap-1.5",children:[(0,t.jsx)(E.AlertCircle,{className:"w-3.5 h-3.5"}),"Cancelled"]});default:return(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-500/20 text-slate-400 border border-slate-500/30",children:e})}})(e.status),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white mt-3",children:["RM ",parseFloat(e.amount).toFixed(2)]}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm",children:["per ",e.billing_cycle]})]})]}),e.usage_limit&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Usage"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.usage_count?.toLocaleString()||0," / ",e.usage_limit?.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:`h-full transition-all ${o>=90?"bg-red-500":"bg-[#39FF14]"}`,style:{width:`${o}%`}})})]}),e.license_key&&(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-green-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"License Key"}),(0,t.jsx)("div",{className:"font-mono text-white text-sm",children:e.license_key})]})]}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(x.default,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20/20 rounded-lg",children:(0,t.jsx)(m.Activity,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Status"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium capitalize",children:e.status})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(f.default,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Renewal Date"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:u(e.expires_at)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20 rounded-lg",children:(0,t.jsx)(L.default,{className:"w-5 h-5 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Auto Renew"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:e.auto_renew?"Enabled":"Disabled"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsxs)("button",{className:"flex-1 px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(e7.BarChart3,{className:"w-4 h-4"}),"View Usage"]}),(0,t.jsxs)("button",{className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(e_.default,{className:"w-4 h-4"}),"Manage Subscription"]}),(0,t.jsx)("button",{className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors",children:(0,t.jsx)($.Info,{className:"w-4 h-4"})})]})]},e.id)})})]})}var e_=e_,et=et,k=k,p=p,v=v,L=L,ap=ap;let aU=e=>{let t=[],s=["Maxis","Celcom","DiGi","U Mobile"];for(let a=0;a<e;a++){let e=Math.random()>.85;t.push({id:`req_${Math.random().toString(36).substr(2,9)}`,phone_number:`+601${Math.floor(9*Math.random())} ${Math.floor(1e3*Math.random())} ${Math.floor(1e4*Math.random())}`,swap_detected:e,fraud_score:e?Math.floor(40*Math.random())+60:Math.floor(20*Math.random()),last_swap_date:e?new Date(Date.now()-24*Math.floor(10*Math.random())*36e5).toISOString():null,network_provider:s[Math.floor(Math.random()*s.length)],response_time_ms:Math.floor(200*Math.random())+50,request_timestamp:new Date(Date.now()-60*Math.floor(24*Math.random()*60)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.request_timestamp).getTime()-new Date(e.request_timestamp).getTime())};function aV(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[x,h]=(0,s.useState)(null),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)({phone_number:"",lookback_days:"7"}),[_,F]=(0,s.useState)(!1),[C,S]=(0,s.useState)(70),[M,A]=(0,s.useState)(!0),[I,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d(!0),setTimeout(()=>{i(aU(50)),d(!1)},800)},[]),(0,s.useEffect)(()=>{let e;return u&&(e=setInterval(()=>{let e=aU(1)[0];e.request_timestamp=new Date().toISOString(),i(t=>[e,...t].slice(0,100))},3e3)),()=>clearInterval(e)},[u]);let T=(0,s.useMemo)(()=>{let e=r.length,t=r.filter(e=>e.swap_detected).length,s=Math.round(r.reduce((e,t)=>e+t.fraud_score,0)/(e||1)),a=Math.round(r.reduce((e,t)=>e+t.response_time_ms,0)/(e||1));return{total:e,swaps:t,avgScore:s,avgTime:a}},[r]),D=async()=>{j.phone_number?(F(!0),setTimeout(()=>{let e=Math.random()>.7,t={id:`req_${Date.now()}`,phone_number:j.phone_number,swap_detected:e,fraud_score:e?Math.floor(30*Math.random())+70:Math.floor(20*Math.random()),last_swap_date:e?new Date(Date.now()-1728e5).toISOString():null,network_provider:"Maxis",response_time_ms:Math.floor(150*Math.random())+50,request_timestamp:new Date().toISOString()};i(e=>[t,...e]),h({type:"success",message:"Check completed successfully"}),f(!1),w({phone_number:"",lookback_days:"7"}),F(!1)},1e3)):h({type:"error",message:"Please enter a phone number"})},R=`
// Node.js Example
const axios = require('axios');

async function checkSimSwap(phoneNumber) {
  try {
    const response = await axios.post('https://api.cpaas.com/v1/sim-swap/check', {
      phone_number: phoneNumber,
      lookback_hours: 168 // 7 days
    }, {
      headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
      }
    });

    if (response.data.swapped) {
      console.log('SIM Swap detected!');
    } else {
      console.log('SIM is safe.');
    }
  } catch (error) {
    console.error('Error checking SIM swap:', error);
  }
}
  `;return(0,t.jsxs)("div",{className:"flex-1 bg-[#012419] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30] p-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/10 rounded-xl border border-[#39FF14]/20",children:(0,t.jsx)(n.Shield,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"SIM Swap Detection"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Protect user accounts by detecting recent SIM card changes before sending OTPs."})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>g(!u),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${u?"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${u?"animate-pulse":""}`}),u?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 shadow-lg shadow-[#39FF14]/5",children:[(0,t.jsx)(e_.default,{className:"w-4 h-4"}),"Check Number"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mt-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Advanced Stats"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))})]}),(0,t.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[x&&(0,t.jsxs)("div",{className:`p-4 rounded-lg flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${"success"===x.type?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:["success"===x.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(et.default,{className:"w-5 h-5"}),x.message]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"})," Total Checks"]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:T.total}),u&&(0,t.jsx)("span",{className:"text-xs text-green-400 animate-pulse",children:"+1 just now"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(et.default,{className:"w-4 h-4"})," Swaps Detected"]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-[#39FF14]",children:T.swaps})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(n.Shield,{className:"w-4 h-4"})," Avg Risk Score"]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-[#39FF14]",children:T.avgScore})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-4 h-4"})," Avg Latency"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-[#39FF14]",children:[T.avgTime," ms"]})]})]}),"overview"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-800 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Recent Checks"}),u&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400 font-mono",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"LIVE"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search phone number...",className:"bg-[#012419] border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-[#39FF14] w-64"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-[#012419] text-slate-400 font-medium",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Provider"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Risk Score"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:o?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:"Loading requests..."})}):0===r.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:"No requests found."})}):r.slice(0,15).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-3 text-slate-400 whitespace-nowrap",children:[new Date(e.request_timestamp).toLocaleTimeString()," ",(0,t.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.request_timestamp).toLocaleDateString()})]}),(0,t.jsx)("td",{className:"px-6 py-3 text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-6 py-3 text-slate-300",children:e.network_provider}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${e.swap_detected?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:e.swap_detected?"SWAP DETECTED":"SAFE"})}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 w-20 h-1.5 bg-slate-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full ${e.fraud_score>70?"bg-red-500":e.fraud_score>30?"bg-yellow-500":"bg-green-500"}`,style:{width:`${e.fraud_score}%`}})}),(0,t.jsx)("span",{className:"text-xs text-slate-400 w-6",children:e.fraud_score})]})}),(0,t.jsx)("td",{className:"px-6 py-3 text-right",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Delete this record?")&&(i(e=>e.filter(e=>e.id!==t)),h({type:"success",message:"Record deleted"})))},className:"p-1.5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 rounded transition-colors",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})})]},e.id))})]})})]})}),"advanced"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Risk Score Distribution"}),(0,t.jsx)("div",{className:"h-64 flex items-end justify-center gap-4 px-4",children:[10,25,45,80,50,30,15,5].map((e,s)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[(0,t.jsx)("div",{className:`w-full rounded-t-lg transition-all duration-500 ${s>5?"bg-red-500/80 group-hover:bg-red-400":"bg-[#39FF14]/50 group-hover:bg-[#39FF14]"}`,style:{height:`${e}%`}}),(0,t.jsxs)("span",{className:"text-xs text-slate-500",children:[10*s,"-",(s+1)*10]})]},s))}),(0,t.jsxs)("div",{className:"flex justify-between mt-4 text-xs text-slate-400 px-2",children:[(0,t.jsx)("span",{children:"Low Risk (0-30)"}),(0,t.jsx)("span",{children:"Medium Risk (31-70)"}),(0,t.jsx)("span",{children:"High Risk (71-100)"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Advanced Risk Settings"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300",children:"Risk Threshold Score"}),(0,t.jsx)("span",{className:"text-sm font-bold text-[#39FF14]",children:C})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:C,onChange:e=>S(parseInt(e.target.value)),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Scores above this threshold will trigger high-risk alerts."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419] rounded-lg border border-slate-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/10 rounded-lg text-[#39FF14]",children:(0,t.jsx)(ap.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white",children:"Auto-Block Swapped Sims"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Automatically flag transactions from swapped numbers."})]})]}),(0,t.jsx)("button",{onClick:()=>A(!M),className:`w-12 h-6 rounded-full transition-colors relative ${M?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${M?"translate-x-6":"translate-x-0"}`})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419] rounded-lg border border-slate-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/10 rounded-lg text-[#39FF14]",children:(0,t.jsx)(c.Bell,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white",children:"Real-time Webhook"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Send JSON payload to configured URL on detection."})]})]}),(0,t.jsx)("button",{onClick:()=>P(!I),className:`w-12 h-6 rounded-full transition-colors relative ${I?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${I?"translate-x-6":"translate-x-0"}`})})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Provider Latency (Real-time)"}),(0,t.jsx)("div",{className:"space-y-4",children:["Maxis","Celcom","DiGi","U Mobile"].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-24 text-sm font-medium text-slate-400",children:e}),(0,t.jsx)("div",{className:"flex-1 h-3 bg-slate-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-[#39FF14] to-[#32e012] rounded-full transition-all duration-1000",style:{width:`${40*Math.random()+20}%`}})}),(0,t.jsxs)("div",{className:"w-16 text-right text-sm font-mono text-[#39FF14]",children:[Math.floor(50*Math.random()+20),"ms"]})]},e))})]})]}),"configuration"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"JSON Configuration"}),(0,t.jsx)("div",{className:"px-2 py-1 bg-slate-800 rounded text-xs text-slate-300",children:"v1.2.0"})]}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-xs md:text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({base_url:"https://api.cpaas.com/v1/sim-swap",auth_header:"Authorization: Bearer <YOUR_API_KEY>",timeout_ms:5e3,retry_policy:{max_retries:3,backoff_factor:2}},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Integration Example"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-500/10 text-yellow-500 border border-yellow-500/20 rounded text-xs",children:"Node.js"}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-800 text-slate-500 border border-slate-700 rounded text-xs",children:"Python"})]})]}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-xs md:text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:R.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"API Capabilities"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsx)(et.default,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Real-time Anomaly Detection"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Instantly flag transactions when a SIM swap event is detected within the timestamp window."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsx)(Z.Globe,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Global Carrier Coverage"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Connect to over 800+ mobile networks worldwide through a single unified API."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-green-500/30 transition-colors",children:[(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-green-400 mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Compliance Ready"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Fully compliant with GDPR and CCPA data privacy regulations for user tracking."})]})]})]})]})]}),b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"New SIM Check"}),(0,t.jsx)("button",{onClick:()=>f(!1),children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"+1234567890",value:j.phone_number,onChange:e=>w({...j,phone_number:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Lookback Period"}),(0,t.jsxs)("select",{className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",value:j.lookback_days,onChange:e=>w({...j,lookback_days:e.target.value}),children:[(0,t.jsx)("option",{value:"1",children:"24 Hours"}),(0,t.jsx)("option",{value:"3",children:"3 Days"}),(0,t.jsx)("option",{value:"7",children:"7 Days (Standard)"}),(0,t.jsx)("option",{value:"15",children:"15 Days"}),(0,t.jsx)("option",{value:"30",children:"30 Days"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>f(!1),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:D,disabled:_,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-black py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}),_?"Checking...":"Run Check"]})]})]})]})})]})}var aB=e.i(18566),tQ=tQ,e_=e_,et=et,ap=ap,k=k,p=p,v=v,L=L,aM=aM;let az=e=>{let t=[],s=["Maxis","Celcom","DiGi","U Mobile"],a=["Network Auth","Silent OTP","Flash Call","SMS OTP"];for(let l=0;l<e;l++){let e=Math.random()>.2,l=a[Math.floor(Math.random()*a.length)],r=100;"SMS OTP"===l?r=5e3:"Flash Call"===l&&(r=3e3),t.push({id:`req_${Math.random().toString(36).substr(2,9)}`,phone_number:`+601${Math.floor(9*Math.random())} ${Math.floor(1e3*Math.random())} ${Math.floor(1e4*Math.random())}`,verification_method:l,is_verified:e,match_score:e?Math.floor(20*Math.random())+80:Math.floor(40*Math.random()),network_name:s[Math.floor(Math.random()*s.length)],network_type:["4G","5G","LTE"][Math.floor(3*Math.random())],response_time_ms:Math.floor(500*Math.random())+r,request_timestamp:new Date(Date.now()-60*Math.floor(24*Math.random()*60)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.request_timestamp).getTime()-new Date(e.request_timestamp).getTime())};function aG(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(null),[h,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)({phone_number:"",verification_method:"Network Auth"}),[w,_]=(0,s.useState)(!1),[F,C]=(0,s.useState)(!0),[S,M]=(0,s.useState)(!1),[A,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{d(!0),setTimeout(()=>{i(az(50)),d(!1)},800)},[]),(0,s.useEffect)(()=>{let e;return h&&(e=setInterval(()=>{let e=az(1)[0];e.request_timestamp=new Date().toISOString(),i(t=>[e,...t].slice(0,100))},2500)),()=>clearInterval(e)},[h]);let P=(0,s.useMemo)(()=>{let e=r.length,t=r.filter(e=>e.is_verified).length,s=e>0?Math.round(t/e*100):0,a=Math.round(r.reduce((e,t)=>e+t.match_score,0)/(e||1)),l=Math.round(r.reduce((e,t)=>e+t.response_time_ms,0)/(e||1));return{total:e,verified:t,rate:s,avgScore:a,avgLatency:l}},[r]),T=async()=>{f.phone_number?(_(!0),setTimeout(()=>{let e=Math.random()>.3,t=["Maxis","Celcom","DiGi","U Mobile"],s={id:`req_${Date.now()}`,phone_number:f.phone_number,verification_method:f.verification_method,is_verified:e,match_score:e?Math.floor(20*Math.random())+80:Math.floor(40*Math.random()),network_name:t[Math.floor(Math.random()*t.length)],network_type:"5G",response_time_ms:Math.floor(200*Math.random())+100,request_timestamp:new Date().toISOString()};i(e=>[s,...e]),x({type:e?"success":"error",message:e?"Number verified successfully":"Verification failed"}),b(!1),j({phone_number:"",verification_method:"Network Auth"}),_(!1)},1500)):x({type:"error",message:"Please enter a phone number"})},D=`
// Node.js - Seamless Verification
const axios = require('axios');

async function verifyNumber(phoneNumber) {
  try {
    // Step 1: Attempt Silent Network Auth
    const auth = await axios.post('https://api.cpaas.com/v1/number-verify/auth', {
      phone_number: phoneNumber,
      redirect_uri: 'https://myapp.com/callback'
    }, { headers: { 'Authorization': 'Bearer KEY' } });

    console.log('Auth URL:', auth.data.url);

    // Step 2: On Callback, validate token
    // ...
  } catch (error) {
    // Step 3: Fallback to OTP if silent auth fails
    console.log('Silent auth unavailable, falling back to SMS...');
    await sendSmsOtp(phoneNumber);
  }
}
  `;return(0,t.jsxs)("div",{className:"flex-1 bg-[#012419] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30] p-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/10 rounded-xl border border-green-500/20",children:(0,t.jsx)(tQ.default,{className:"w-8 h-8 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Number Verification"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Silent, secure phone number verification utilizing carrier networks."})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>u(!h),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${h?"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${h?"animate-pulse":""}`}),h?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>b(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 shadow-lg shadow-green-900/20",children:[(0,t.jsx)(e_.default,{className:"w-4 h-4"}),"Verify Number"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mt-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Advanced Metrics"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-green-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-green-400":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))})]}),(0,t.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[c&&(0,t.jsxs)("div",{className:`p-4 rounded-lg flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${"success"===c.type?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:["success"===c.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(et.default,{className:"w-5 h-5"}),c.message]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-green-500/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"})," Total Verifications"]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:P.total}),h&&(0,t.jsx)("span",{className:"text-xs text-green-400 animate-pulse",children:"+1 just now"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-green-500/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(aM.default,{className:"w-4 h-4"})," Success Rate"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[P.rate,"%"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(n.Shield,{className:"w-4 h-4"})," Avg Authenticity"]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-[#39FF14]",children:P.avgScore})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-4 h-4"})," Avg Latency"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-[#39FF14]",children:[P.avgLatency," (ms)"]})]})]}),"overview"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-800 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Recent Verifications"}),h&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400 font-mono",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"LIVE"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search phone number...",className:"bg-[#012419] border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-green-500 w-64"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-[#012419] text-slate-400 font-medium",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Network"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Method"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:o?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:"Loading requests..."})}):0===r.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:"No verifications found."})}):r.slice(0,15).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-3 text-slate-400 whitespace-nowrap",children:[new Date(e.request_timestamp).toLocaleTimeString()," ",(0,t.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.request_timestamp).toLocaleDateString()})]}),(0,t.jsx)("td",{className:"px-6 py-3 text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${e.is_verified?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_verified?"VERIFIED":"FAILED"})}),(0,t.jsx)("td",{className:"px-6 py-3 text-slate-300",children:e.network_name||"-"}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs px-2 py-0.5 bg-slate-800 rounded text-slate-400",children:e.verification_method})}),(0,t.jsx)("td",{className:"px-6 py-3 text-right",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Delete this record?")&&(i(e=>e.filter(e=>e.id!==t)),x({type:"success",message:"Record deleted"})))},className:"p-1.5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 rounded transition-colors",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})})]},e.id))})]})})]})}),"advanced"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Success Rate by Method"}),(0,t.jsx)("div",{className:"space-y-4",children:[{m:"Network Auth",v:98,c:"bg-green-500"},{m:"Silent OTP",v:92,c:"bg-[#39FF14]"},{m:"Flash Call",v:85,c:"bg-yellow-500"},{m:"SMS OTP",v:78,c:"bg-slate-500"}].map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-slate-300",children:e.m}),(0,t.jsxs)("span",{className:"text-white font-bold",children:[e.v,"%"]})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full ${e.c}`,style:{width:`${e.v}%`}})})]},e.m))})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Failover Logic"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419] rounded-lg border border-slate-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20/10 rounded-lg text-[#39FF14]",children:(0,t.jsx)(e_.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white",children:"Auto-Failover"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Try next method if primary fails."})]})]}),(0,t.jsx)("button",{onClick:()=>C(!F),className:`w-12 h-6 rounded-full transition-colors relative ${F?"bg-green-600":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${F?"translate-x-6":"translate-x-0"}`})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419] rounded-lg border border-slate-800",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/10 rounded-lg text-[#39FF14]",children:(0,t.jsx)(tQ.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white",children:"Voice Fallback"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Use TTS call if SMS fails."})]})]}),(0,t.jsx)("button",{onClick:()=>M(!S),className:`w-12 h-6 rounded-full transition-colors relative ${S?"bg-green-600":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${S?"translate-x-6":"translate-x-0"}`})})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Regional Latency Map (Mock)"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{region:"Kuala Lumpur",lat:"45ms"},{region:"Penang",lat:"120ms"},{region:"Johor Bahru",lat:"80ms"},{region:"Sabah/Sarawak",lat:"320ms"}].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] p-4 rounded-lg text-center border border-slate-800",children:[(0,t.jsx)("div",{className:"text-slate-400 text-sm mb-1",children:e.region}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:e.lat})]},e.region))})]})]}),"configuration"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-green-300 overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({base_url:"https://api.cpaas.com/v1/number-verify",auth_header:"Authorization: Bearer <YOUR_API_KEY>",workflow:{silent_auth_enabled:!0,fallback_channels:["sms","voice","whatsapp"],timeout_sec:30}},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:D.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"API Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-green-500/30 transition-all",children:[(0,t.jsx)(ap.default,{className:"w-6 h-6 text-green-400 mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Silent Auth"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Verify numbers without user interaction or SMS."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Carrier Grade"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Direct integration with MNOs for high reliability."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Instant Results"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Get verification status in milliseconds."})]})]})]})]})]}),g&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"New Verification"}),(0,t.jsx)("button",{onClick:()=>b(!1),children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",placeholder:"+1234567890",value:f.phone_number,onChange:e=>j({...f,phone_number:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Method"}),(0,t.jsxs)("select",{className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",value:f.verification_method,onChange:e=>j({...f,verification_method:e.target.value}),children:[(0,t.jsx)("option",{value:"Network Auth",children:"Network Authentication (Silent)"}),(0,t.jsx)("option",{value:"Silent OTP",children:"Silent OTP"}),(0,t.jsx)("option",{value:"Flash Call",children:"Flash Call"}),(0,t.jsx)("option",{value:"SMS OTP",children:"SMS OTP"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>b(!1),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:T,disabled:w,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[w&&(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}),w?"Verifying...":"Verify Now"]})]})]})]})})]})}var e_=e_,et=et,ag=ag,k=k,p=p,v=v,sL=sL,L=L;let aK=e=>{let t=[],s=["Kuala Lumpur","Petaling Jaya","Johor Bahru","Penang","Shah Alam"];for(let a=0;a<e;a++){let e=Math.random()>.1,a=e?"Located":Math.random()>.5?"Consent Pending":"Failed",l=s[Math.floor(Math.random()*s.length)],r=3.139+(Math.random()-.5)*.1,i=101.6869+(Math.random()-.5)*.1;t.push({id:`req_${Math.random().toString(36).substr(2,9)}`,phone_number:`+601${Math.floor(9*Math.random())} ${Math.floor(1e3*Math.random())} ${Math.floor(1e4*Math.random())}`,status:a,latitude:e?r:null,longitude:e?i:null,accuracy_meters:e?Math.floor(50*Math.random())+5:null,city:e?l:"-",request_type:Math.random()>.3?"Precise (GNSS)":"Coarse (Network)",response_time_ms:Math.floor(800*Math.random())+200,request_timestamp:new Date(Date.now()-60*Math.floor(24*Math.random()*60)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.request_timestamp).getTime()-new Date(e.request_timestamp).getTime())};function aW(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)({phone_number:"",request_type:"Precise (GNSS)"}),[j,w]=(0,s.useState)(!1),[_,F]=(0,s.useState)(!1),[C,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o(!0),setTimeout(()=>{i(aK(50)),o(!1)},800)},[]),(0,s.useEffect)(()=>{let e;return x&&(e=setInterval(()=>{let e=aK(1)[0];e.request_timestamp=new Date().toISOString(),i(t=>[e,...t].slice(0,100))},3e3)),()=>clearInterval(e)},[x]);let M=(0,s.useMemo)(()=>{let e=r.length,t=r.filter(e=>"Located"===e.status).length,s=e>0?Math.round(t/e*100):0,a=Math.round(r.filter(e=>e.accuracy_meters).reduce((e,t)=>e+t.accuracy_meters,0)/(t||1)),l=Math.round(r.reduce((e,t)=>e+t.response_time_ms,0)/(e||1));return{total:e,rate:s,avgAccuracy:a,avgLatency:l}},[r]),A=async()=>{b.phone_number?(w(!0),setTimeout(()=>{let e=Math.random()>.1,t=3.139+(Math.random()-.5)*.1,s=101.6869+(Math.random()-.5)*.1,a=["Kuala Lumpur","Petaling Jaya"][Math.floor(2*Math.random())],l={id:`req_${Date.now()}`,phone_number:b.phone_number,status:e?"Located":"Failed",latitude:e?t:null,longitude:e?s:null,accuracy_meters:e?Math.floor(50*Math.random())+5:null,city:e?a:"-",request_type:b.request_type,response_time_ms:Math.floor(400*Math.random())+200,request_timestamp:new Date().toISOString()};i(e=>[l,...e]),c({type:e?"success":"error",message:e?"Device located successfully":"Location request failed"}),g(!1),f({phone_number:"",request_type:"Precise (GNSS)"}),w(!1)},1500)):c({type:"error",message:"Please enter a phone number"})},I=`
// Node.js - Retrieve Location
const axios = require('axios');

async function locateDevice(phoneNumber) {
  try {
    const response = await axios.post('https://api.cpaas.com/v1/location/retrieve', {
      phone_number: phoneNumber,
      type: "precise"
    }, {
      headers: { 'Authorization': 'Bearer YOUR_API_KEY' }
    });

    if (response.data.status === 'located') {
       console.log(\`Device at \${response.data.lat}, \${response.data.lng}\`);
       console.log(\`Accuracy: \${response.data.accuracy} meters\`);
    } else {
       console.log('Location status:', response.data.status);
    }
  } catch (error) {
    console.error('Error:', error.message);
  }
}
  `;return(0,t.jsxs)("div",{className:"flex-1 bg-[#012419] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30] p-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/10 rounded-xl border border-[#39FF14]/20",children:(0,t.jsx)(ey.MapPin,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Device Location"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Retrieve precise device coordinates or verify location against geofences."})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>h(!x),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${x?"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${x?"animate-pulse":""}`}),x?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>g(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 shadow-lg shadow-[#39FF14]/20",children:[(0,t.jsx)(ag.default,{className:"w-4 h-4"}),"Locate Device"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mt-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Live Map & Geofencing"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))})]}),(0,t.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[d&&(0,t.jsxs)("div",{className:`p-4 rounded-lg flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${"success"===d.type?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:["success"===d.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(et.default,{className:"w-5 h-5"}),d.message]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-4 h-4"})," Total Requests"]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:M.total}),x&&(0,t.jsx)("span",{className:"text-xs text-green-400 animate-pulse",children:"+1 just now"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-green-500/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Success Rate"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[M.rate,"%"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(sL.default,{className:"w-4 h-4"})," Avg Accuracy"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-[#39FF14]",children:[M.avgAccuracy," m"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-yellow-500/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-4 h-4"})," Avg Latency"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-yellow-400",children:[M.avgLatency," ms"]})]})]}),"overview"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-800 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Recent Locations"}),x&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400 font-mono",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"LIVE"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search phone number...",className:"bg-[#012419] border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-[#39FF14] w-64"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-[#012419] text-slate-400 font-medium",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Coordinates"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Accuracy"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Method"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:n?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:"Loading requests..."})}):0===r.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:"No requests found."})}):r.slice(0,15).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-3 text-slate-400 whitespace-nowrap",children:[new Date(e.request_timestamp).toLocaleTimeString()," ",(0,t.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.request_timestamp).toLocaleDateString()})]}),(0,t.jsx)("td",{className:"px-6 py-3 text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-6 py-3",children:"Located"===e.status?(0,t.jsxs)("span",{className:"text-[#39FF14] font-mono text-xs",children:[e.latitude?.toFixed(4),", ",e.longitude?.toFixed(4)]}):(0,t.jsx)("span",{className:"text-red-400 text-xs italic",children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-3 text-slate-300",children:e.accuracy_meters?`${e.accuracy_meters}m`:"-"}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs px-2 py-0.5 bg-slate-800 rounded text-slate-400",children:e.request_type})}),(0,t.jsx)("td",{className:"px-6 py-3 text-right",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Delete this record?")&&(i(e=>e.filter(e=>e.id!==t)),c({type:"success",message:"Record deleted"})))},className:"p-1.5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 rounded transition-colors",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})})]},e.id))})]})})]})}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2 bg-slate-900 border border-slate-800 rounded-xl p-1 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-5 border-b border-slate-800 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Live Device Map"}),(0,t.jsxs)("div",{className:"flex gap-2 text-xs",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-slate-400",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#39FF14]"})," Active"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-slate-400",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"})," Moving"]})]})]}),(0,t.jsxs)("div",{className:"relative h-96 bg-[#012419] m-1 rounded-lg overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 1px 1px, #334155 1px, transparent 0)",backgroundSize:"20px 20px"}}),[...Array(8)].map((e,s)=>(0,t.jsx)("div",{className:"absolute w-3 h-3 bg-[#39FF14] rounded-full shadow-[0_0_10px_rgba(57,255,20,0.5)] transition-all duration-[3000ms] ease-in-out",style:{top:`${20+60*Math.random()}%`,left:`${20+60*Math.random()}%`},children:(0,t.jsxs)("div",{className:"absolute -top-6 -left-8 bg-slate-800 px-2 py-0.5 rounded text-[10px] text-white whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:["Device_0",s+1]})},s)),_&&(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border-2 border-[#39FF14]/50 bg-[#39FF14]/10 rounded-full flex items-center justify-center animate-pulse",children:(0,t.jsx)("span",{className:"text-[#39FF14] text-xs font-bold bg-slate-900/50 px-2 py-1 rounded",children:"Restricted Zone"})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Geofencing"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419] rounded-lg border border-slate-800 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/10 rounded-lg text-[#39FF14]",children:(0,t.jsx)(sL.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white",children:"Active Monitor"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Alert on zone entry/exit."})]})]}),(0,t.jsx)("button",{onClick:()=>F(!_),className:`w-12 h-6 rounded-full transition-colors relative ${_?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${_?"translate-x-6":"translate-x-0"}`})})]}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,t.jsxs)("p",{children:["Current Zone: ",(0,t.jsx)("strong",{children:"Kuala Lumpur Central"})]}),(0,t.jsxs)("p",{children:["Radius: ",(0,t.jsx)("strong",{children:"5 km"})]}),(0,t.jsxs)("p",{children:["Tracked Devices: ",(0,t.jsx)("strong",{children:"12"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-6",children:"Tracking Mode"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419] rounded-lg border border-slate-800 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-[#39FF14]/20/10 rounded-lg text-[#39FF14]",children:(0,t.jsx)(ag.default,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white",children:"Real-time Path"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"High frequency updates."})]})]}),(0,t.jsx)("button",{onClick:()=>S(!C),className:`w-12 h-6 rounded-full transition-colors relative ${C?"bg-[#39FF14]":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${C?"translate-x-6":"translate-x-0"}`})})]})]})]})]})}),"configuration"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({base_url:"https://api.cpaas.com/v1/location",auth_header:"Authorization: Bearer <YOUR_API_KEY>",settings:{consent_flow:"network_initiated",cache_age:300}},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:I.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"API Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(sL.default,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"High Precision"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Get location accuracy down to 5-10 meters using GNSS/Network triangulation."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(Z.Globe,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Global Coverage"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Locate devices across multiple countries and networks."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-green-500/30 transition-all",children:[(0,t.jsx)(N.CheckCircle,{className:"w-6 h-6 text-green-400 mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Privacy First"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Built-in consent management flows to ensure compliance."})]})]})]})]})]}),u&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Locate Device"}),(0,t.jsx)("button",{onClick:()=>g(!1),children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"+1234567890",value:b.phone_number,onChange:e=>f({...b,phone_number:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Request Type"}),(0,t.jsxs)("select",{className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",value:b.request_type,onChange:e=>f({...b,request_type:e.target.value}),children:[(0,t.jsx)("option",{value:"Precise (GNSS)",children:"Precise (GNSS)"}),(0,t.jsx)("option",{value:"Coarse (Network)",children:"Coarse (Network)"}),(0,t.jsx)("option",{value:"Geofence Check",children:"Geofence Check"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>g(!1),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:A,disabled:j,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-white py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[j&&(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}),j?"Locating...":"Get Location"]})]})]})]})})]})}var L=L,e_=e_,et=et,k=k,p=p,v=v,au=au,t0=t0,ai=ai,tA=tA;let aX=e=>{let t=[],s=["gaming","video","voice","cloud-gaming"],a=["active","completed","active","failed"];for(let l=0;l<e;l++){let e=s[Math.floor(Math.random()*s.length)],l=a[Math.floor(Math.random()*a.length)],r=Math.random()>.3,i=50;"gaming"===e&&(i=20),"cloud-gaming"===e&&(i=15),"voice"===e&&(i=80);let n=Math.max(5,i+(10*Math.random()-5));t.push({id:`qod_${Math.random().toString(36).substr(2,9)}`,session_id:`ses_${Math.random().toString(36).substr(2,12)}`,phone_number:`+601${Math.floor(9*Math.random())} ${Math.floor(1e3*Math.random())} ${Math.floor(1e4*Math.random())}`,qos_profile:e,status:l,target_latency_ms:i,actual_latency_ms:Math.floor(n),target_bandwidth_mbps:"video"===e?50:10,actual_bandwidth_mbps:"video"===e?Math.floor(45+10*Math.random()):Math.floor(8+4*Math.random()),network_slice:r?"5G-URLLC":"4G-LTE",packet_loss:(.5*Math.random()).toFixed(2),request_timestamp:new Date(Date.now()-60*Math.floor(24*Math.random()*60)*1e3).toISOString()})}return t.sort((e,t)=>new Date(t.request_timestamp).getTime()-new Date(e.request_timestamp).getTime())};function aH(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(!0),[d,c]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)({gaming:40,video:30,voice:30}),[j,w]=(0,s.useState)(!1),[_,F]=(0,s.useState)({phone_number:"",qos_profile:"gaming",duration:"60"}),[C,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o(!0),setTimeout(()=>{i(aX(50)),o(!1)},800)},[]),(0,s.useEffect)(()=>{let e;return x&&(e=setInterval(()=>{let e=aX(1)[0];e.request_timestamp=new Date().toISOString(),i(t=>[e,...t].slice(0,100))},3500)),()=>clearInterval(e)},[x]);let M=(0,s.useMemo)(()=>{let e=r.length,t=r.filter(e=>"active"===e.status).length,s=Math.round(r.reduce((e,t)=>e+t.actual_latency_ms,0)/(e||1)),a=Math.round(r.reduce((e,t)=>e+t.actual_bandwidth_mbps,0)/(e||1));return{total:e,active:t,avgLatency:s,avgBandwidth:a}},[r]),A=async()=>{_.phone_number?(S(!0),setTimeout(()=>{if(Math.random()>.1){let e=aX(1)[0];e.phone_number=_.phone_number,e.qos_profile=_.qos_profile,e.status="active",e.request_timestamp=new Date().toISOString(),i(t=>[e,...t]),c({type:"success",message:"QoD session activated successfully"}),w(!1),F({phone_number:"",qos_profile:"gaming",duration:"60"})}else c({type:"error",message:"Failed to activate session (Simulated)"});S(!1)},1500)):c({type:"error",message:"Please enter a phone number"})};(0,s.useEffect)(()=>{if(d){let e=setTimeout(()=>c(null),5e3);return()=>clearTimeout(e)}},[d]);let I=`
// Node.js - Create QoS Session
const axios = require('axios');

async function boostConnection(phoneNumber) {
  try {
    const response = await axios.post('https://api.cpaas.com/v1/qod/sessions', {
      phone_number: phoneNumber,
      profile: "gaming", // Optimized for low latency
      duration_seconds: 3600
    }, {
      headers: { 'Authorization': 'Bearer YOUR_API_KEY' }
    });

    console.log('Session Active:', response.data.session_id);
    console.log('Target Latency:', response.data.target_latency, 'ms');
  } catch (error) {
    console.error('QoD Error:', error.message);
  }
}
  `;return(0,t.jsxs)("div",{className:"flex-1 bg-[#012419] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30] p-8",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-[#39FF14]/10 rounded-xl border border-[#39FF14]/20",children:(0,t.jsx)(L.default,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Quality on Demand (QoD)"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Request guaranteed network performance for critical applications."})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>h(!x),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 border ${x?"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20":"bg-slate-800 text-slate-300 border-slate-700 hover:bg-slate-700"}`,children:[(0,t.jsx)(m.Activity,{className:`w-4 h-4 ${x?"animate-pulse":""}`}),x?"Stop Live Feed":"Start Live Feed"]}),(0,t.jsxs)("button",{onClick:()=>w(!0),className:"bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 shadow-lg shadow-[#39FF14]/5",children:[(0,t.jsx)(L.default,{className:"w-4 h-4"}),"New Session"]})]})]}),(0,t.jsx)("div",{className:"flex gap-6 mt-8 border-b border-slate-800",children:[{id:"overview",label:"Overview"},{id:"advanced",label:"Network Slicing"},{id:"configuration",label:"Configuration"}].map(e=>(0,t.jsx)("button",{onClick:()=>l(e.id),className:`pb-4 px-2 text-sm font-medium transition-all relative ${a===e.id?"text-[#39FF14] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#39FF14]":"text-slate-400 hover:text-slate-300"}`,children:e.label},e.id))})]}),(0,t.jsxs)("div",{className:"p-8 max-w-7xl mx-auto space-y-6",children:[d&&(0,t.jsxs)("div",{className:`p-4 rounded-lg flex items-center gap-3 animate-in fade-in slide-in-from-top-2 ${"success"===d.type?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:["success"===d.type?(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(et.default,{className:"w-5 h-5"}),d.message]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"})," Total Sessions"]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:M.total}),x&&(0,t.jsx)("span",{className:"text-xs text-green-400 animate-pulse",children:"+1"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-green-500/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(N.CheckCircle,{className:"w-4 h-4"})," Active Now"]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-400",children:M.active})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-[#39FF14]/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(au.default,{className:"w-4 h-4"})," Avg Latency"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-[#39FF14]",children:[M.avgLatency," ms"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6 hover:border-yellow-500/30 transition-colors",children:[(0,t.jsxs)("h3",{className:"text-slate-400 text-sm font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(t0.default,{className:"w-4 h-4"})," Avg Bandwidth"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-yellow-400",children:[M.avgBandwidth," Mbps"]})]})]}),"overview"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 border-b border-slate-800 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Recent Sessions"}),x&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-xs text-red-400 font-mono",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"LIVE"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search session ID...",className:"bg-[#012419] border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-[#39FF14] w-64"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,t.jsx)("thead",{className:"bg-[#012419] text-slate-400 font-medium",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Session ID"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Phone"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Profile"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Network"}),(0,t.jsx)("th",{className:"px-6 py-3",children:"Latency"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:n?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-400",children:"Loading sessions..."})}):0===r.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-400",children:"No sessions found."})}):r.slice(0,15).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[(0,t.jsxs)("td",{className:"px-6 py-3 text-slate-400 whitespace-nowrap",children:[new Date(e.request_timestamp).toLocaleTimeString()," ",(0,t.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.request_timestamp).toLocaleDateString()})]}),(0,t.jsx)("td",{className:"px-6 py-3 text-white font-mono text-xs",children:e.session_id}),(0,t.jsx)("td",{className:"px-6 py-3 text-slate-300 font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${"active"===e.status?"bg-green-500/10 text-green-400 border border-green-500/20":"completed"===e.status?"bg-slate-500/10 text-slate-400 border border-slate-500/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:e.status.toUpperCase()})}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-[#39FF14]/10 border border-[#39FF14]/20 text-[#39FF14] rounded text-xs font-medium uppercase",children:e.qos_profile})}),(0,t.jsx)("td",{className:"px-6 py-3",children:(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:e.network_slice})}),(0,t.jsxs)("td",{className:"px-6 py-3 text-[#39FF14] font-mono text-xs",children:[e.actual_latency_ms," ms"]}),(0,t.jsx)("td",{className:"px-6 py-3 text-right",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Are you sure you want to terminate this session?")&&(i(e=>e.filter(e=>e.id!==t)),c({type:"success",message:"Session terminated"})))},className:"p-1.5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 rounded transition-colors",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})})]},e.id))})]})})]})}),"advanced"===a&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"md:col-span-2 bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Network Slice Allocation"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Simulate bandwidth prioritization per slice."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-[#012419] rounded-lg border border-slate-800",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-green-400 font-mono",children:"NETWORK: HEALTHY"})]})]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-[#39FF14]",children:[(0,t.jsx)(ai.default,{className:"w-4 h-4"})," Gaming / VR"]}),(0,t.jsxs)("span",{className:"text-white font-mono",children:[b.gaming,"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:b.gaming,onChange:e=>f({...b,gaming:parseInt(e.target.value)}),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-[#39FF14]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-[#39FF14]",children:[(0,t.jsx)(tA.default,{className:"w-4 h-4"})," HD Video"]}),(0,t.jsxs)("span",{className:"text-white font-mono",children:[b.video,"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:b.video,onChange:e=>f({...b,video:parseInt(e.target.value)}),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-[#39FF14]",children:[(0,t.jsx)(t0.default,{className:"w-4 h-4"})," Voice / VoIP"]}),(0,t.jsxs)("span",{className:"text-white font-mono",children:[b.voice,"%"]})]}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:b.voice,onChange:e=>f({...b,voice:parseInt(e.target.value)}),className:"w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-[#39FF14]"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:`p-6 rounded-xl border transition-all duration-500 ${u?"bg-gradient-to-br from-[#39FF14]/10 to-[#39FF14]/5 border-[#39FF14]/50 shadow-[0_0_30px_rgba(57,255,20,0.1)]":"bg-slate-900 border-slate-800"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:`text-lg font-bold ${u?"text-white":"text-slate-200"}`,children:"Turbo Mode"}),(0,t.jsx)("button",{onClick:()=>g(!u),className:`w-14 h-8 rounded-full transition-colors relative ${u?"bg-green-500":"bg-slate-700"}`,children:(0,t.jsx)("span",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full transition-transform shadow-sm ${u?"translate-x-6":"translate-x-0"}`})})]}),(0,t.jsx)("p",{className:`text-sm mb-4 ${u?"text-[#39FF14]/80":"text-slate-400"}`,children:u?"Priority Routing ACTIVE. Latency minimized for all streams.":"Standard routing active. Enable Turbo for critical traffic."}),u&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-green-300 animate-pulse",children:[(0,t.jsx)(L.default,{className:"w-3 h-3"})," LATENCY -45%"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-slate-400 mb-4",children:"Real-time Quality"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Jitter"}),(0,t.jsx)("span",{className:"text-white font-mono",children:"2.4 ms"})]}),(0,t.jsx)("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"bg-green-500 h-full w-[15%]"})}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Packet Loss"}),(0,t.jsx)("span",{className:"text-white font-mono",children:"0.05 %"})]}),(0,t.jsx)("div",{className:"w-full bg-slate-800 h-1.5 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"bg-green-500 h-full w-[2%]"})})]})]})]})]})}),"configuration"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Sample Configuration"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14]/70 overflow-x-auto",children:(0,t.jsx)("pre",{children:JSON.stringify({base_url:"https://api.cpaas.com/v1/qod",auth_header:"Authorization: Bearer <YOUR_API_KEY>",profiles:["gaming","video","iot","voice","cloud-gaming"],defaults:{duration_sec:3600,fallback_behavior:"best_effort"}},null,2)})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Configuration"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Integration Example"}),(0,t.jsx)("div",{className:"bg-[#012419] p-4 rounded-lg border border-slate-800 font-mono text-sm text-[#39FF14] overflow-x-auto",children:(0,t.jsx)("pre",{children:I.trim()})}),(0,t.jsxs)("button",{className:"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[(0,t.jsx)(k.default,{className:"w-4 h-4"})," Copy Code"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"API Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(au.default,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Latency Guarantee"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Ensure consistent low latency for gaming and real-time apps."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(t0.default,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Bandwidth Priority"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Reserve dedicated throughout during congestion."})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419] border border-slate-800 rounded-lg group hover:border-[#39FF14]/30 transition-all",children:[(0,t.jsx)(e_.default,{className:"w-6 h-6 text-[#39FF14] mb-3 group-hover:scale-110 transition-transform"}),(0,t.jsx)("h4",{className:"text-white font-medium mb-1",children:"Dynamic Control"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Start and stop QoS sessions programmatically on the fly."})]})]})]})]})]}),j&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Start QoD Session"}),(0,t.jsx)("button",{onClick:()=>w(!1),children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",placeholder:"+1234567890",value:_.phone_number,onChange:e=>F({..._,phone_number:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Profile"}),(0,t.jsxs)("select",{className:"w-full bg-[#012419] border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]",value:_.qos_profile,onChange:e=>F({..._,qos_profile:e.target.value}),children:[(0,t.jsx)("option",{value:"gaming",children:"Gaming (Low Latency)"}),(0,t.jsx)("option",{value:"video",children:"Video Streaming (High BW)"}),(0,t.jsx)("option",{value:"voice",children:"Voice Call (Reliability)"}),(0,t.jsx)("option",{value:"cloud-gaming",children:"Cloud Gaming (Ultra Low Latency)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>w(!1),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:A,disabled:C,className:"flex-1 bg-[#39FF14] hover:bg-[#32e012] text-white py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[C&&(0,t.jsx)(e_.default,{className:"w-4 h-4 animate-spin"}),C?"Creating...":"Create Session"]})]})]})]})})]})}var _=_,sT=sT,v=v,O=O,et=et,ap=ap,tF=tF,e_=e_,q=q,t1=t1,L=L,C=C,S=S;let aJ=[{id:"overview",label:"Overview",icon:m.Activity},{id:"trunks",label:"Trunk Config",icon:t1.default},{id:"inbound",label:"Inbound Routes",icon:eb.Phone},{id:"outbound",label:"Outbound Routes",icon:function(e){return(0,t.jsx)(eb.Phone,{...e})}},{id:"codecs",label:"Codecs & Media",icon:tF.default},{id:"security",label:"Security",icon:n.Shield},{id:"nat",label:"NAT & RTP",icon:q.default},{id:"advanced",label:"Advanced",icon:d.Settings}],aY=(e,s)=>(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${e}`,children:s}),aQ=({children:e,className:s=""})=>(0,t.jsx)("div",{className:`bg-slate-800/50 border border-slate-700 rounded-xl p-6 ${s}`,children:e}),aZ=({label:e,...s})=>(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:e}),(0,t.jsx)("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 transition-all",...s})]}),a0=({label:e,children:s,...a})=>(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:e}),(0,t.jsx)("select",{className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-[#39FF14] transition-all",...a,children:s})]}),a4=({checked:e,onChange:s,label:a})=>(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"checkbox",checked:e,onChange:s,className:"sr-only"}),(0,t.jsx)("div",{className:`w-11 h-6 rounded-full transition-colors ${e?"bg-[#39FF14]":"bg-slate-700"}`}),(0,t.jsx)("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform ${e?"translate-x-5":""}`})]}),a&&(0,t.jsx)("span",{className:"text-sm text-slate-300",children:a})]}),a1=({icon:e,label:s,value:a,sub:l,color:r="#39FF14"})=>(0,t.jsx)(aQ,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:s}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:a}),l&&(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:l})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl",style:{background:`${r}20`},children:(0,t.jsx)(e,{className:"w-6 h-6",style:{color:r}})})]})}),a2=[{id:"1",name:"Primary PSTN",host:"sip.telco.my",port:5060,transport:"UDP",username:"trunk001",status:"active",codecs:["G.711a","G.729"],concurrent_calls:30,cps:10,registration:!0,dtmf:"RFC2833",created_at:"2026-01-15"},{id:"2",name:"Backup Trunk",host:"sip2.telco.my",port:5061,transport:"TLS",username:"trunk002",status:"standby",codecs:["G.711u","Opus"],concurrent_calls:10,cps:5,registration:!0,dtmf:"SIP INFO",created_at:"2026-01-20"},{id:"3",name:"International",host:"int.sip.my",port:5060,transport:"UDP",username:"trunk003",status:"inactive",codecs:["G.729","G.722"],concurrent_calls:20,cps:3,registration:!1,dtmf:"RFC2833",created_at:"2026-02-01"}],a3=[{id:"1",did:"+60331234567",description:"Main Number",destination_type:"IVR",destination:"Main IVR",trunk_id:"1",active:!0},{id:"2",did:"+60331234568",description:"Support Line",destination_type:"Extension",destination:"101",trunk_id:"1",active:!0},{id:"3",did:"+60331234569",description:"Sales Line",destination_type:"Queue",destination:"Sales Queue",trunk_id:"2",active:!1}],a5=[{id:"1",name:"Emergency",pattern:"_000X",trunk_id:"1",priority:1,prefix:"",active:!0,failover_trunk_id:""},{id:"2",name:"Local MY",pattern:"_0[3-9]XXXXXXXX",trunk_id:"1",priority:2,prefix:"",active:!0,failover_trunk_id:"2"},{id:"3",name:"International",pattern:"_00X.",trunk_id:"3",priority:3,prefix:"",active:!0,failover_trunk_id:""}],a9=[{id:"1",ip:"203.0.113.10",description:"Primary SIP Provider",active:!0},{id:"2",ip:"203.0.113.20",description:"Backup SIP Provider",active:!0},{id:"3",ip:"10.0.0.0/8",description:"Internal Office Network",active:!0}],a6="cpaas_sip_trunks",a8="cpaas_sip_inbound_routes";function a7(){let[e,a]=(0,s.useState)("overview"),[l,r]=(0,s.useState)(a2),[i,n]=(0,s.useState)(a3),[o,d]=(0,s.useState)(a5),[c,x]=(0,s.useState)(a9),[h,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),[F,k]=(0,s.useState)(null),[M,A]=(0,s.useState)(!1),[I,P]=(0,s.useState)(["G.711a (PCMA)","G.711u (PCMU)","G.729","G.722","Opus","G.723.1","GSM"]),[T,D]=(0,s.useState)(["G.711a (PCMA)","G.711u (PCMU)","G.729","Opus"]);(0,s.useEffect)(()=>{try{let e=JSON.parse(localStorage.getItem(a6)||"null");e&&e.length>0&&r(e);let t=JSON.parse(localStorage.getItem(a8)||"null");t&&t.length>0&&n(t)}catch{}},[]),(0,s.useEffect)(()=>{try{localStorage.setItem(a6,JSON.stringify(l))}catch{}},[l]),(0,s.useEffect)(()=>{try{localStorage.setItem(a8,JSON.stringify(i))}catch{}},[i]);let[E,$]=(0,s.useState)({t38_enabled:!0,prack_enabled:!1,rtpTimeout:30,sessionTimer:1800,maxForwards:70,userAgent:"CPaaSPlatform/2.0",fromDomain:"platform.local",stunServer:"stun:stun.cloudflare.com:3478",rtpStart:1e4,rtpEnd:2e4,tlsEnabled:!0,srtpEnabled:!0,fail2banEnabled:!0,fail2banMaxRetry:5,fail2banBanTime:3600,natMode:"auto",dtmfMode:"RFC2833",faxDetect:!0,directMedia:!1,trustRpid:!0,sendRpid:!0}),U=l.filter(e=>"active"===e.status).length,V=l.reduce((e,t)=>e+t.concurrent_calls,0),B=l.reduce((e,t)=>e+t.cps,0);return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsx)("div",{className:"relative bg-gradient-to-br from-[#39FF14]/10 via-[#012419] to-[#012419] border-b border-slate-800 px-8 py-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/10 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(R.Network,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white",children:"SIP Trunk Manager"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Configure SIP trunking, routing, codecs, security, and advanced telephony options"})]})]})}),(0,t.jsx)("div",{className:"border-b border-slate-800 px-6 bg-[#012419]/80 backdrop-blur-sm sticky top-0 z-10",children:(0,t.jsx)("div",{className:"flex gap-1 overflow-x-auto",children:aJ.map(s=>{let l=s.icon,r=e===s.id;return(0,t.jsxs)("button",{onClick:()=>a(s.id),className:`flex items-center gap-2 px-4 py-4 text-sm font-medium whitespace-nowrap border-b-2 transition-all ${r?"border-[#39FF14] text-[#39FF14]":"border-transparent text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(l,{className:"w-4 h-4"}),s.label]},s.id)})})}),(0,t.jsx)("div",{className:"p-6 lg:p-8",children:(()=>{switch(e){case"overview":default:return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(a1,{icon:R.Network,label:"Active Trunks",value:U,sub:`${l.length} total configured`}),(0,t.jsx)(a1,{icon:eb.Phone,label:"Max Conc. Calls",value:V,sub:"across all trunks",color:"#22c55e"}),(0,t.jsx)(a1,{icon:L.default,label:"Max CPS",value:B,sub:"calls per second",color:"#f59e0b"}),(0,t.jsx)(a1,{icon:N.CheckCircle,label:"SIP Registration",value:`${l.filter(e=>e.registration).length}/${l.length}`,sub:"trunks registered",color:"#3b82f6"})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Trunk Status"}),(0,t.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-3 h-3 rounded-full ${"active"===e.status?"bg-[#39FF14] shadow-[0_0_6px_#39FF14]":"standby"===e.status?"bg-yellow-400":"bg-slate-600"}`}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-white",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:[e.host,":",e.port," · ",e.transport]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Codecs: ",(0,t.jsx)("strong",{className:"text-white",children:e.codecs.join(", ")})]}),(0,t.jsxs)("span",{children:["CPS: ",(0,t.jsx)("strong",{className:"text-white",children:e.cps})]}),(0,t.jsxs)("span",{children:["Channels: ",(0,t.jsx)("strong",{className:"text-white",children:e.concurrent_calls})]}),aY("active"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"standby"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-700 text-slate-400",e.status)]})]},e.id))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Stats"}),(0,t.jsx)("dl",{className:"space-y-3",children:[["Inbound DIDs",i.length],["Outbound Routes",o.length],["IP Whitelist Entries",c.length],["Enabled Codecs",T.length],["TLS Enabled",E.tlsEnabled?"Yes":"No"],["SRTP Enabled",E.srtpEnabled?"Yes":"No"]].map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1 border-b border-slate-800 last:border-0",children:[(0,t.jsx)("dt",{className:"text-slate-400 text-sm",children:e}),(0,t.jsx)("dd",{className:"text-white font-semibold text-sm",children:String(s)})]},String(e)))})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"SIP Diagnostics"}),(0,t.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.host})]}),(0,t.jsxs)("button",{className:"px-3 py-1 bg-[#39FF14]/10 border border-[#39FF14]/30 text-[#39FF14] text-xs rounded-lg hover:bg-[#39FF14]/20 transition-colors flex items-center gap-1",children:[(0,t.jsx)(e_.default,{className:"w-3 h-3"})," Ping"]})]},e.id))})]})]})]});case"trunks":return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Manage SIP trunk connections to your PSTN carrier or VoIP provider"}),(0,t.jsxs)("button",{onClick:()=>{k(null),u(!0)},className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Add Trunk"]})]}),l.map(e=>(0,t.jsxs)(aQ,{children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-xl ${"active"===e.status?"bg-[#39FF14]/10":"standby"===e.status?"bg-yellow-500/10":"bg-slate-700/30"}`,children:(0,t.jsx)(t1.default,{className:`w-6 h-6 ${"active"===e.status?"text-[#39FF14]":"standby"===e.status?"text-yellow-400":"text-slate-500"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.name}),aY("active"===e.status?"bg-[#39FF14]/20 text-[#39FF14]":"standby"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-700 text-slate-400",e.status)]}),(0,t.jsxs)("p",{className:"text-sm text-slate-400 mt-0.5",children:[e.host,":",e.port," · ",e.transport," · User: ",e.username]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{k(e),u(!0)},className:"p-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg",children:(0,t.jsx)(sT.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>r(l.filter(t=>t.id!==e.id)),className:"p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-4 mt-4 pt-4 border-t border-slate-700/50",children:[["Codecs",e.codecs.join(", ")],["Max Channels",e.concurrent_calls],["CPS",e.cps],["DTMF",e.dtmf],["Registration",e.registration?"Yes":"No"]].map(([e,s])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:e}),(0,t.jsx)("p",{className:"text-sm font-semibold text-white",children:String(s)})]},String(e)))})]},e.id))]});case"inbound":return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Map phone numbers (DIDs) to internal extensions, IVRs, or queues"}),(0,t.jsxs)("button",{onClick:()=>{k(null),g(!0)},className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Add DID Route"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-slate-700",children:["DID / Number","Description","Trunk","Destination","Status","Actions"].map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:e},e))})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:i.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4 font-mono text-[#39FF14] font-semibold text-sm",children:e.did}),(0,t.jsx)("td",{className:"py-4 px-4 text-slate-300 text-sm",children:e.description}),(0,t.jsx)("td",{className:"py-4 px-4 text-slate-300 text-sm",children:l.find(t=>t.id===e.trunk_id)?.name||"–"}),(0,t.jsxs)("td",{className:"py-4 px-4 text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-500",children:[e.destination_type,":"]})," ",(0,t.jsx)("strong",{className:"text-white",children:e.destination})]}),(0,t.jsx)("td",{className:"py-4 px-4",children:aY(e.active?"bg-[#39FF14]/20 text-[#39FF14]":"bg-slate-700 text-slate-400",e.active?"Active":"Disabled")}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{k(e),g(!0)},className:"p-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>n(i.filter(t=>t.id!==e.id)),className:"p-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})})]},e.id))})]})})]});case"outbound":return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Define dial plan patterns and route outgoing calls through trunks"}),(0,t.jsxs)("button",{onClick:()=>{k(null),f(!0)},className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Add Outbound Route"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-slate-700",children:["Priority","Route Name","Dial Pattern","Primary Trunk","Failover","Status","Actions"].map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:e},e))})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-800",children:[...o].sort((e,t)=>e.priority-t.priority).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)("span",{className:"w-8 h-8 rounded-lg bg-[#39FF14]/10 text-[#39FF14] font-bold text-sm flex items-center justify-center",children:e.priority})}),(0,t.jsx)("td",{className:"py-4 px-4 font-semibold text-white text-sm",children:e.name}),(0,t.jsx)("td",{className:"py-4 px-4 font-mono text-slate-300 text-sm",children:e.pattern}),(0,t.jsx)("td",{className:"py-4 px-4 text-slate-300 text-sm",children:l.find(t=>t.id===e.trunk_id)?.name||"–"}),(0,t.jsx)("td",{className:"py-4 px-4 text-slate-400 text-sm",children:l.find(t=>t.id===e.failover_trunk_id)?.name||"–"}),(0,t.jsx)("td",{className:"py-4 px-4",children:aY(e.active?"bg-[#39FF14]/20 text-[#39FF14]":"bg-slate-700 text-slate-400",e.active?"Active":"Off")}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{k(e),f(!0)},className:"p-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>d(o.filter(t=>t.id!==e.id)),className:"p-1.5 bg-red-500/10 text-red-400 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})})]},e.id))})]})})]});case"codecs":return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Codec Priority Order"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Drag to reorder. Codecs higher in the list are preferred during SIP negotiation."}),(0,t.jsx)("div",{className:"space-y-2",children:I.map((e,s)=>{let a=T.includes(e);return(0,t.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg border ${a?"border-[#39FF14]/30 bg-[#39FF14]/5":"border-slate-700 bg-slate-900/30"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-slate-500 w-5",children:s+1}),(0,t.jsx)("span",{className:`font-mono text-sm font-semibold ${a?"text-white":"text-slate-500"}`,children:e})]}),(0,t.jsx)(a4,{checked:a,onChange:()=>D(a?T.filter(t=>t!==e):[...T,e])})]},e)})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"DTMF Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(a0,{label:"DTMF Mode",value:E.dtmfMode,onChange:e=>$({...E,dtmfMode:e.target.value}),children:[(0,t.jsx)("option",{children:"RFC2833"}),(0,t.jsx)("option",{children:"SIP INFO"}),(0,t.jsx)("option",{children:"In-band"}),(0,t.jsx)("option",{children:"Auto"})]}),(0,t.jsx)(a4,{checked:E.faxDetect,onChange:e=>$({...E,faxDetect:e.target.checked}),label:"Enable T.38 Fax Detection"}),(0,t.jsx)(a4,{checked:E.t38_enabled,onChange:e=>$({...E,t38_enabled:e.target.checked}),label:"T.38 Fax Relay"})]})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Media Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(a4,{checked:E.directMedia,onChange:e=>$({...E,directMedia:e.target.checked}),label:"Direct Media (bypass media server)"}),(0,t.jsx)(aZ,{label:"RTP Timeout (seconds)",type:"number",value:E.rtpTimeout,onChange:e=>$({...E,rtpTimeout:parseInt(e.target.value)})}),(0,t.jsx)(aZ,{label:"Session Timer (seconds)",type:"number",value:E.sessionTimer,onChange:e=>$({...E,sessionTimer:parseInt(e.target.value)})})]})]})]})]})});case"security":return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:"IP Whitelist"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Only whitelisted IPs can send SIP traffic. Protects against unauthorized access."}),(0,t.jsx)("div",{className:"space-y-2 mb-4",children:c.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-mono text-sm font-semibold text-white",children:e.ip}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:e.description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[aY(e.active?"bg-[#39FF14]/20 text-[#39FF14]":"bg-slate-700 text-slate-400",e.active?"Active":"Off"),(0,t.jsx)("button",{onClick:()=>{k(e),w(!0)},className:"p-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>x(c.filter(t=>t.id!==e.id)),className:"p-1.5 bg-red-500/10 text-red-400 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})]},e.id))}),(0,t.jsxs)("button",{onClick:()=>{k(null),w(!0)},className:"w-full py-2 border border-dashed border-slate-600 text-slate-400 hover:text-white hover:border-[#39FF14] rounded-lg text-sm flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Add IP"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(ap.default,{className:"w-5 h-5 text-[#39FF14]"})," Encryption"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(a4,{checked:E.tlsEnabled,onChange:e=>$({...E,tlsEnabled:e.target.checked}),label:"TLS (SIP transport encryption)"}),(0,t.jsx)(a4,{checked:E.srtpEnabled,onChange:e=>$({...E,srtpEnabled:e.target.checked}),label:"SRTP (Media encryption)"})]})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(et.default,{className:"w-5 h-5 text-yellow-400"})," Fail2Ban Protection"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(a4,{checked:E.fail2banEnabled,onChange:e=>$({...E,fail2banEnabled:e.target.checked}),label:"Enable Fail2Ban"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(aZ,{label:"Max Failed Auth",type:"number",value:E.fail2banMaxRetry,onChange:e=>$({...E,fail2banMaxRetry:parseInt(e.target.value)})}),(0,t.jsx)(aZ,{label:"Ban Duration (sec)",type:"number",value:E.fail2banBanTime,onChange:e=>$({...E,fail2banBanTime:parseInt(e.target.value)})})]})]})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Caller Identity"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(a4,{checked:E.trustRpid,onChange:e=>$({...E,trustRpid:e.target.checked}),label:"Trust Remote-Party-ID header"}),(0,t.jsx)(a4,{checked:E.sendRpid,onChange:e=>$({...E,sendRpid:e.target.checked}),label:"Send Remote-Party-ID header"})]})]})]})]})});case"nat":return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-5 h-5 text-[#39FF14]"})," NAT Traversal"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(a0,{label:"NAT Mode",value:E.natMode,onChange:e=>$({...E,natMode:e.target.value}),children:[(0,t.jsx)("option",{value:"auto",children:"Auto Detect"}),(0,t.jsx)("option",{value:"yes",children:"Always (force NAT handling)"}),(0,t.jsx)("option",{value:"no",children:"Disabled"}),(0,t.jsx)("option",{value:"force_rport",children:"Force rport"})]}),(0,t.jsx)(aZ,{label:"STUN Server",placeholder:"stun:stun.cloudflare.com:3478",value:E.stunServer,onChange:e=>$({...E,stunServer:e.target.value})})]})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(q.default,{className:"w-5 h-5 text-[#39FF14]"})," RTP Port Range"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(aZ,{label:"RTP Start Port",type:"number",value:E.rtpStart,onChange:e=>$({...E,rtpStart:parseInt(e.target.value)})}),(0,t.jsx)(aZ,{label:"RTP End Port",type:"number",value:E.rtpEnd,onChange:e=>$({...E,rtpEnd:parseInt(e.target.value)})})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Total Ports Available"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:E.rtpEnd-E.rtpStart}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Supports up to ~",Math.floor((E.rtpEnd-E.rtpStart)/2)," concurrent calls"]})]}),(0,t.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:(0,t.jsx)("p",{className:"text-xs text-yellow-400",children:"⚠ Ensure these UDP ports are open on your firewall for media to flow correctly."})})]})]})]})});case"advanced":return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"SIP Protocol Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(aZ,{label:"User-Agent Header",value:E.userAgent,onChange:e=>$({...E,userAgent:e.target.value})}),(0,t.jsx)(aZ,{label:"From Domain",value:E.fromDomain,onChange:e=>$({...E,fromDomain:e.target.value})}),(0,t.jsx)(aZ,{label:"Max Forwards",type:"number",value:E.maxForwards,onChange:e=>$({...E,maxForwards:parseInt(e.target.value)})}),(0,t.jsx)(a4,{checked:E.prack_enabled,onChange:e=>$({...E,prack_enabled:e.target.checked}),label:"Enable PRACK (Reliable Provisional Responses)"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"SIP Trunk Ping Test"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Test connectivity to each SIP trunk by sending an OPTIONS ping."}),(0,t.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 font-mono",children:[e.host,":",e.port]})]}),(0,t.jsxs)("button",{className:"px-3 py-1.5 bg-[#39FF14]/10 border border-[#39FF14]/30 text-[#39FF14] text-xs rounded-lg hover:bg-[#39FF14]/20 transition-colors flex items-center gap-1",children:[(0,t.jsx)(e_.default,{className:"w-3 h-3"})," Send OPTIONS"]})]},e.id))})]}),(0,t.jsxs)(aQ,{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"SIP Trace Capture"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Capture SIP signalling messages for debugging call issues."}),(0,t.jsxs)("button",{className:"w-full py-2.5 bg-[#39FF14]/10 border border-[#39FF14]/30 text-[#39FF14] rounded-xl text-sm font-semibold hover:bg-[#39FF14]/20 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(m.Activity,{className:"w-4 h-4"})," Start SIP Capture"]})]})]})]})})}})()}),h&&(0,t.jsx)(()=>{let[e,a]=(0,s.useState)(F||{name:"",host:"",port:5060,transport:"UDP",username:"",password:"",concurrent_calls:30,cps:10,registration:!0,dtmf:"RFC2833",status:"active"});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[F?"Edit":"Add"," SIP Trunk"]}),(0,t.jsx)("button",{onClick:()=>{u(!1),k(null)},children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(aZ,{label:"Trunk Name",placeholder:"Primary PSTN",value:e.name,onChange:t=>a({...e,name:t.target.value})}),(0,t.jsxs)(a0,{label:"Status",value:e.status,onChange:t=>a({...e,status:t.target.value}),children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"standby",children:"Standby"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsx)(aZ,{label:"SIP Host / IP",placeholder:"sip.provider.com",value:e.host,onChange:t=>a({...e,host:t.target.value})})}),(0,t.jsx)(aZ,{label:"Port",type:"number",value:e.port,onChange:t=>a({...e,port:parseInt(t.target.value)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)(a0,{label:"Transport",value:e.transport,onChange:t=>a({...e,transport:t.target.value}),children:[(0,t.jsx)("option",{children:"UDP"}),(0,t.jsx)("option",{children:"TCP"}),(0,t.jsx)("option",{children:"TLS"}),(0,t.jsx)("option",{children:"WSS"})]}),(0,t.jsx)(aZ,{label:"Username",placeholder:"trunk001",value:e.username,onChange:t=>a({...e,username:t.target.value})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:M?"text":"password",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm pr-10 focus:outline-none focus:border-[#39FF14]",placeholder:"••••••••",value:e.password||"",onChange:t=>a({...e,password:t.target.value})}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-2 text-slate-400",onClick:()=>A(!M),children:M?(0,t.jsx)(S.default,{className:"w-4 h-4"}):(0,t.jsx)(C.default,{className:"w-4 h-4"})})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsx)(aZ,{label:"Max Concurrent Calls",type:"number",value:e.concurrent_calls,onChange:t=>a({...e,concurrent_calls:parseInt(t.target.value)})}),(0,t.jsx)(aZ,{label:"CPS (Calls/Sec)",type:"number",value:e.cps,onChange:t=>a({...e,cps:parseInt(t.target.value)})}),(0,t.jsxs)(a0,{label:"DTMF Mode",value:e.dtmf,onChange:t=>a({...e,dtmf:t.target.value}),children:[(0,t.jsx)("option",{children:"RFC2833"}),(0,t.jsx)("option",{children:"SIP INFO"}),(0,t.jsx)("option",{children:"In-band"}),(0,t.jsx)("option",{children:"Auto"})]})]}),(0,t.jsx)(a4,{checked:e.registration,onChange:t=>a({...e,registration:t.target.checked}),label:"Enable Registration (Outbound trunk registers to provider)"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>{u(!1),k(null)},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-xl text-sm",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{F?r(l.map(t=>t.id===F.id?{...t,...e}:t)):r([...l,{...e,id:Date.now().toString(),codecs:["G.711a"],created_at:new Date().toISOString().slice(0,10)}]),u(!1),k(null)},className:"px-6 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"}),"Save Trunk"]})]})]})})},{}),p&&(0,t.jsx)(()=>{let[e,a]=(0,s.useState)(F||{did:"",description:"",destination_type:"Extension",destination:"",trunk_id:l[0]?.id||"",active:!0});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-slate-700 rounded-2xl p-6 max-w-lg w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[F?"Edit":"Add"," Inbound Route"]}),(0,t.jsx)("button",{onClick:()=>{g(!1),k(null)},children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(aZ,{label:"DID / Phone Number",placeholder:"+60331234567",value:e.did,onChange:t=>a({...e,did:t.target.value})}),(0,t.jsx)(aZ,{label:"Description",placeholder:"Main Reception",value:e.description,onChange:t=>a({...e,description:t.target.value})}),(0,t.jsx)(a0,{label:"SIP Trunk",value:e.trunk_id,onChange:t=>a({...e,trunk_id:t.target.value}),children:l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)(a0,{label:"Destination Type",value:e.destination_type,onChange:t=>a({...e,destination_type:t.target.value}),children:[(0,t.jsx)("option",{children:"Extension"}),(0,t.jsx)("option",{children:"IVR"}),(0,t.jsx)("option",{children:"Queue"}),(0,t.jsx)("option",{children:"Ring Group"}),(0,t.jsx)("option",{children:"Voicemail"}),(0,t.jsx)("option",{children:"External Number"})]}),(0,t.jsx)(aZ,{label:"Destination",placeholder:"101",value:e.destination,onChange:t=>a({...e,destination:t.target.value})})]}),(0,t.jsx)(a4,{checked:e.active,onChange:t=>a({...e,active:t.target.checked}),label:"Route Active"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>{g(!1),k(null)},className:"px-4 py-2 bg-slate-800 text-white rounded-xl text-sm",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{F?n(i.map(t=>t.id===F.id?{...t,...e}:t)):n([...i,{...e,id:Date.now().toString()}]),g(!1),k(null)},className:"px-6 py-2 bg-[#39FF14] text-black rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"}),"Save Route"]})]})]})})},{}),b&&(0,t.jsx)(()=>{let[e,a]=(0,s.useState)(F||{name:"",pattern:"",trunk_id:l[0]?.id||"",priority:o.length+1,prefix:"",active:!0,failover_trunk_id:""});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-slate-700 rounded-2xl p-6 max-w-lg w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[F?"Edit":"Add"," Outbound Route"]}),(0,t.jsx)("button",{onClick:()=>{f(!1),k(null)},children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(aZ,{label:"Route Name",placeholder:"Local Calls",value:e.name,onChange:t=>a({...e,name:t.target.value})}),(0,t.jsx)(aZ,{label:"Priority",type:"number",value:e.priority,onChange:t=>a({...e,priority:parseInt(t.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Dial Pattern"}),(0,t.jsx)("input",{className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm font-mono focus:outline-none focus:border-[#39FF14]",placeholder:"_0[3-9]XXXXXXXX",value:e.pattern,onChange:t=>a({...e,pattern:t.target.value})}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Use _ prefix, X=any digit, Z=1-9, N=2-9, [1-5]=range, .=wildcard"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(aZ,{label:"Strip Digits Prefix",placeholder:"0",value:e.prefix,onChange:t=>a({...e,prefix:t.target.value})}),(0,t.jsx)(a0,{label:"Primary Trunk",value:e.trunk_id,onChange:t=>a({...e,trunk_id:t.target.value}),children:l.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)(a0,{label:"Failover Trunk (optional)",value:e.failover_trunk_id,onChange:t=>a({...e,failover_trunk_id:t.target.value}),children:[(0,t.jsx)("option",{value:"",children:"None"}),l.filter(t=>t.id!==e.trunk_id).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsx)(a4,{checked:e.active,onChange:t=>a({...e,active:t.target.checked}),label:"Route Active"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>{f(!1),k(null)},className:"px-4 py-2 bg-slate-800 text-white rounded-xl text-sm",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{F?d(o.map(t=>t.id===F.id?{...t,...e}:t)):d([...o,{...e,id:Date.now().toString()}]),f(!1),k(null)},className:"px-6 py-2 bg-[#39FF14] text-black rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"}),"Save Route"]})]})]})})},{}),j&&(0,t.jsx)(()=>{let[e,a]=(0,s.useState)(F||{ip:"",description:"",active:!0});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-slate-700 rounded-2xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:[F?"Edit":"Add"," IP Whitelist"]}),(0,t.jsx)("button",{onClick:()=>{w(!1),k(null)},children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(aZ,{label:"IP Address / CIDR",placeholder:"203.0.113.10 or 10.0.0.0/8",value:e.ip,onChange:t=>a({...e,ip:t.target.value})}),(0,t.jsx)(aZ,{label:"Description",placeholder:"Primary SIP Provider",value:e.description,onChange:t=>a({...e,description:t.target.value})}),(0,t.jsx)(a4,{checked:e.active,onChange:t=>a({...e,active:t.target.checked}),label:"Active"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>{w(!1),k(null)},className:"px-4 py-2 bg-slate-800 text-white rounded-xl text-sm",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{F?x(c.map(t=>t.id===F.id?{...t,...e}:t)):x([...c,{...e,id:Date.now().toString()}]),w(!1),k(null)},className:"px-6 py-2 bg-[#39FF14] text-black rounded-xl font-semibold text-sm flex items-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"}),"Save"]})]})]})})},{})]})}var p=p,_=_,sT=sT,v=v,O=O,k=k,L=L,sU=sU,U=U;let le="cpaas_did_numbers",lt="cpaas_sip_inbound_routes",ls=[{id:"c1",number:"+60331234100",country:"Malaysia",countryCode:"MY",region:"Kuala Lumpur",type:"local",status:"available",monthlyRate:15,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c2",number:"+60331234101",country:"Malaysia",countryCode:"MY",region:"Kuala Lumpur",type:"local",status:"available",monthlyRate:15,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c3",number:"+60331234102",country:"Malaysia",countryCode:"MY",region:"Selangor",type:"local",status:"available",monthlyRate:12,setupFee:0,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c4",number:"+601800880001",country:"Malaysia",countryCode:"MY",region:"National",type:"toll-free",status:"available",monthlyRate:45,setupFee:50,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c5",number:"+601800880002",country:"Malaysia",countryCode:"MY",region:"National",type:"toll-free",status:"available",monthlyRate:45,setupFee:50,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c6",number:"+60111234567",country:"Malaysia",countryCode:"MY",region:"Mobile",type:"mobile",status:"available",monthlyRate:25,setupFee:20,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c7",number:"+6561234100",country:"Singapore",countryCode:"SG",region:"Singapore",type:"local",status:"available",monthlyRate:22,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c8",number:"+6561234101",country:"Singapore",countryCode:"SG",region:"Singapore",type:"local",status:"available",monthlyRate:22,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c9",number:"+6581234100",country:"Singapore",countryCode:"SG",region:"Mobile",type:"mobile",status:"available",monthlyRate:30,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c10",number:"+12125550100",country:"United States",countryCode:"US",region:"New York, NY",type:"local",status:"available",monthlyRate:5,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!0}},{id:"c11",number:"+14155550100",country:"United States",countryCode:"US",region:"San Francisco, CA",type:"local",status:"available",monthlyRate:5,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!0}},{id:"c12",number:"+18005550100",country:"United States",countryCode:"US",region:"National",type:"toll-free",status:"available",monthlyRate:8,setupFee:15,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c13",number:"+442071234100",country:"United Kingdom",countryCode:"GB",region:"London",type:"local",status:"available",monthlyRate:6,setupFee:0,capabilities:{voice:!0,sms:!1,fax:!0}},{id:"c14",number:"+441612345100",country:"United Kingdom",countryCode:"GB",region:"Manchester",type:"local",status:"available",monthlyRate:6,setupFee:0,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c15",number:"+61291234100",country:"Australia",countryCode:"AU",region:"Sydney, NSW",type:"local",status:"available",monthlyRate:8,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c16",number:"+61381234100",country:"Australia",countryCode:"AU",region:"Melbourne, VIC",type:"local",status:"available",monthlyRate:8,setupFee:0,capabilities:{voice:!0,sms:!0,fax:!1}},{id:"c17",number:"+622112345100",country:"Indonesia",countryCode:"ID",region:"Jakarta",type:"local",status:"available",monthlyRate:18,setupFee:10,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c18",number:"+622212345100",country:"Indonesia",countryCode:"ID",region:"Bandung",type:"local",status:"available",monthlyRate:18,setupFee:10,capabilities:{voice:!0,sms:!1,fax:!1}},{id:"c19",number:"+6621234100",country:"Thailand",countryCode:"TH",region:"Bangkok",type:"local",status:"available",monthlyRate:15,setupFee:5,capabilities:{voice:!0,sms:!1,fax:!1}}],la=[{id:"1",name:"Primary PSTN",host:"sip.telco.my",port:5060,status:"active"},{id:"2",name:"Backup Trunk",host:"sip2.telco.my",port:5061,status:"standby"},{id:"3",name:"International",host:"int.sip.my",port:5060,status:"inactive"}],ll=["All","Malaysia","Singapore","United States","United Kingdom","Australia","Indonesia","Thailand"],lr={local:"Local","toll-free":"Toll-Free",international:"Intl",mobile:"Mobile"},li={local:"bg-blue-500/20 text-blue-400 border-blue-500/30","toll-free":"bg-purple-500/20 text-purple-400 border-purple-500/30",international:"bg-amber-500/20 text-amber-400 border-amber-500/30",mobile:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"},ln={active:"bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30",pending:"bg-amber-500/20 text-amber-400 border-amber-500/30",suspended:"bg-red-500/20 text-red-400 border-red-500/30",available:"bg-slate-500/20 text-slate-400 border-slate-500/30"},lo={MY:"🇲🇾",SG:"🇸🇬",US:"🇺🇸",GB:"🇬🇧",AU:"🇦🇺",ID:"🇮🇩",TH:"🇹🇭"};function ld(e){localStorage.setItem(le,JSON.stringify(e))}let lc=({className:e,children:s})=>(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${e}`,children:s}),lx=({on:e,label:s})=>(0,t.jsx)("span",{className:`px-1.5 py-0.5 rounded text-[9px] font-bold ${e?"bg-[#39FF14]/15 text-[#39FF14]":"bg-slate-800 text-slate-600"}`,children:s});function lm({did:e,trunks:a,onConfirm:l,onClose:r,loading:i}){let[n,o]=(0,s.useState)(a[0]?.id||""),[d,c]=(0,s.useState)(""),[x,m]=(0,s.useState)("100"),[h,u]=(0,s.useState)("Extension"),[p,g]=(0,s.useState)("config");return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-lg shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsx)("h2",{className:"text-white font-black text-lg",children:"config"===p?"Configure DID":"Confirm Purchase"}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-[#024d30] rounded-xl transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border border-[#024d30] rounded-xl p-4 flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-3xl",children:lo[e.countryCode]||"🌍"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-white font-black font-mono text-lg",children:e.number}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs",children:[e.region," · ",e.country]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-[#39FF14] font-black",children:["RM ",e.monthlyRate,"/mo"]}),e.setupFee>0&&(0,t.jsxs)("p",{className:"text-slate-500 text-xs",children:["+RM ",e.setupFee," setup"]})]})]}),"config"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Number Label (optional)"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"e.g. Sales Hotline",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:["Assign SIP Trunk ",(0,t.jsx)("span",{className:"text-[#39FF14]",children:"*"})]}),(0,t.jsxs)("select",{value:n,onChange:e=>o(e.target.value),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:[0===a.length&&(0,t.jsx)("option",{value:"",children:"No trunks available — add one in SIP Trunk"}),a.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.status,")"]},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Destination Type"}),(0,t.jsx)("select",{value:h,onChange:e=>u(e.target.value),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:["Extension","IVR","Queue","Ring Group","Voicemail","External Number"].map(e=>(0,t.jsx)("option",{children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Destination"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"101 / IVR Name",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]})]}),(0,t.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-3 flex items-start gap-2",children:[(0,t.jsx)($.Info,{className:"w-4 h-4 text-blue-400 shrink-0 mt-0.5"}),(0,t.jsxs)("p",{className:"text-blue-300 text-xs",children:["This DID will also appear as an ",(0,t.jsx)("strong",{children:"Inbound Route"})," in the SIP Trunk page for further configuration."]})]}),(0,t.jsx)("button",{onClick:()=>g("confirm"),disabled:!n,className:"w-full py-3 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm uppercase tracking-widest transition-all disabled:opacity-40",children:"Review Order →"})]}),"confirm"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[[["Trunk",a.find(e=>e.id===n)?.name||"—"],["Destination",`${h}: ${x}`],["Label",d||"(none)"],["Monthly Cost",`RM ${e.monthlyRate}`],["Setup Fee",e.setupFee>0?`RM ${e.setupFee}`:"Free"]].map(([e,s])=>(0,t.jsxs)("div",{className:"flex justify-between py-1.5 border-b border-[#024d30]",children:[(0,t.jsx)("span",{className:"text-slate-400",children:e}),(0,t.jsx)("span",{className:"text-white font-semibold",children:s})]},e)),(0,t.jsxs)("div",{className:"flex justify-between py-2 mt-1",children:[(0,t.jsx)("span",{className:"text-white font-black",children:"Total Today"}),(0,t.jsxs)("span",{className:"text-[#39FF14] font-black text-lg",children:["RM ",e.monthlyRate+e.setupFee]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>g("config"),disabled:i,className:"flex-1 py-2.5 border border-[#024d30] text-slate-400 hover:text-white rounded-xl text-sm font-black uppercase tracking-widest disabled:opacity-40",children:"← Back"}),(0,t.jsx)("button",{onClick:()=>l(e,n,d,x,h),disabled:i,className:"flex-1 py-2.5 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-60",children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.default,{className:"w-4 h-4 animate-spin"})," Adding to Cart…"]}):"Confirm & Add to Cart"})]})]})]})]})})}function lh({did:e,trunks:a,onSave:l,onClose:r}){let[i,n]=(0,s.useState)({...e});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-md shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsx)("h2",{className:"text-white font-black text-lg",children:"Edit DID"}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-[#024d30] rounded-xl",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Label"}),(0,t.jsx)("input",{value:i.label||"",onChange:e=>n({...i,label:e.target.value}),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",placeholder:"e.g. Support Line"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Assigned Trunk"}),(0,t.jsxs)("select",{value:i.trunkId||"",onChange:e=>{let t=a.find(t=>t.id===e.target.value);n({...i,trunkId:e.target.value,trunkName:t?.name})},className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:[(0,t.jsx)("option",{value:"",children:"None"}),a.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Destination Type"}),(0,t.jsx)("select",{value:i.destinationType||"Extension",onChange:e=>n({...i,destinationType:e.target.value}),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:["Extension","IVR","Queue","Ring Group","Voicemail","External Number"].map(e=>(0,t.jsx)("option",{children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Destination"}),(0,t.jsx)("input",{value:i.destination||"",onChange:e=>n({...i,destination:e.target.value}),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",placeholder:"101 / Main IVR"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Status"}),(0,t.jsx)("select",{value:i.status,onChange:e=>n({...i,status:e.target.value}),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:["active","suspended"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-1",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 py-2.5 border border-[#024d30] text-slate-400 hover:text-white rounded-xl text-sm font-black",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>l(i),className:"flex-1 py-2.5 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm flex items-center justify-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"})," Save"]})]})]})]})})}let lu=[{id:"browse",label:"Browse Numbers",icon:p.default},{id:"my-numbers",label:"My Numbers",icon:sm.Hash},{id:"analytics",label:"Analytics",icon:L.default}];function lp(){let{user:e}=(0,Q.useAuth)(),[a,l]=(0,s.useState)("browse"),[r,i]=(0,s.useState)([]),[n,o]=(0,s.useState)(la),[c,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(""),[y,w]=(0,s.useState)("All"),[F,C]=(0,s.useState)(""),[S,M]=(0,s.useState)("all");(0,s.useEffect)(()=>{let e=function(){try{return JSON.parse(localStorage.getItem(le)||"[]")}catch{return[]}}();e.length>0&&i(e);let t=function(){try{return JSON.parse(localStorage.getItem("cpaas_sip_trunks")||"[]")}catch{return[]}}();t.length>0&&o(t)},[]),(0,s.useEffect)(()=>{if(f){let e=setTimeout(()=>j(""),4e3);return()=>clearTimeout(e)}},[f]);let A=ls.filter(e=>!r.some(t=>t.number===e.number)&&("All"===y||e.country===y)&&("all"===S||e.type===S)&&(!F||!!e.number.includes(F)||!!e.region.toLowerCase().includes(F.toLowerCase()))),I=async(t,s,a,o,d)=>{if(!e)return void j("⚠ Please log in to add items to cart");b(!0);let c=n.find(e=>e.id===s),m=t.monthlyRate+t.setupFee;try{let{error:n}=await h.db.from("cart_items").insert({user_id:e.id,item_type:"phone_number",item_data:JSON.stringify({phone_number:t.number,country_code:t.countryCode,region:t.region,number_type:lr[t.type],monthly_cost:t.monthlyRate,setup_cost:t.setupFee,capabilities:t.capabilities,label:a||`${t.region} DID`,trunk_id:s,trunk_name:c?.name||"",destination:o,destination_type:d}),quantity:1,unit_price:m,total_price:m});if(n)throw n;let u={...t,status:"pending",trunkId:s,trunkName:c?.name,label:a||`${t.region} DID`,destination:o,destinationType:d,purchasedAt:new Date().toISOString()},p=[...r,u];i(p),ld(p),c&&function(e,t){try{let s=JSON.parse(localStorage.getItem(lt)||"[]"),a={id:`did_${e.id}_${Date.now()}`,did:e.number,description:e.label||`${e.region} DID`,destination_type:"Extension",destination:"100",trunk_id:t.id,active:!0,_source:"did_manager"};s.push(a),localStorage.setItem(lt,JSON.stringify(s))}catch{}}(u,c),x(null),j(`✓ ${t.number} added to cart!`),l("my-numbers")}catch(e){console.error("Cart add error:",e),j(`✗ Failed to add to cart: ${e?.message||"Unknown error"}`)}finally{b(!1)}},P=r.filter(e=>"active"===e.status).length,T=r.reduce((e,t)=>e+t.monthlyRate,0);return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"relative bg-gradient-to-br from-[#39FF14]/10 via-[#012419] to-[#012419] border-b border-[#024d30] px-8 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-gradient-to-br from-[#39FF14]/20 to-[#32e012]/10 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(eb.Phone,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-black text-white tracking-tight",children:"DID Management"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"Buy, manage, and route Direct Inward Dialing numbers with SIP trunk integration"})]})]}),(0,t.jsxs)("button",{onClick:()=>l("browse"),className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-5 py-3 rounded-xl font-black text-sm uppercase tracking-widest transition-all shadow-lg shadow-[#39FF14]/20",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Buy Number"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4 mt-8",children:[{label:"My Numbers",value:r.length,icon:sm.Hash,color:"#39FF14"},{label:"Active",value:P,icon:N.CheckCircle,color:"#39FF14"},{label:"Countries",value:new Set(r.map(e=>e.countryCode)).size,icon:Z.Globe,color:"#818cf8"},{label:"Monthly Cost",value:`RM ${T}`,icon:eP.ShoppingCart,color:"#f59e0b"}].map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(s,{className:"w-5 h-5",style:{color:e.color}}),(0,t.jsx)("span",{className:"text-2xl font-black text-white",children:e.value})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs uppercase tracking-widest font-bold",children:e.label})]},e.label)})})]}),f&&(0,t.jsxs)("div",{className:"mx-8 mt-4 flex items-center gap-3 px-4 py-3 bg-[#39FF14]/10 border border-[#39FF14]/30 rounded-xl",children:[(0,t.jsx)(N.CheckCircle,{className:"w-5 h-5 text-[#39FF14] shrink-0"}),(0,t.jsx)("p",{className:"text-[#39FF14] text-sm font-bold",children:f}),f.includes("added to cart")&&(0,t.jsxs)("a",{href:"/cart",className:"ml-auto flex items-center gap-1 text-[#39FF14] text-xs font-black hover:underline",children:["View Cart ",(0,t.jsx)(eP.ShoppingCart,{className:"w-3 h-3"})]})]}),(0,t.jsx)("div",{className:"border-b border-[#024d30] px-6 bg-[#012419]/80 sticky top-0 z-10",children:(0,t.jsx)("div",{className:"flex gap-1",children:lu.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>l(e.id),className:`flex items-center gap-2 px-5 py-4 text-sm font-black whitespace-nowrap border-b-2 transition-all ${a===e.id?"border-[#39FF14] text-[#39FF14]":"border-transparent text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.label,"my-numbers"===e.id&&r.length>0&&(0,t.jsx)("span",{className:"ml-1 px-1.5 py-0.5 rounded-full bg-[#39FF14]/20 text-[#39FF14] text-[10px]",children:r.length})]},e.id)})})}),(0,t.jsxs)("div",{className:"p-6 lg:p-8",children:["browse"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-48",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by number or region…",value:F,onChange:e=>C(e.target.value),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-4 py-2.5 text-white text-sm outline-none pl-10"})]}),(0,t.jsx)("select",{value:y,onChange:e=>w(e.target.value),className:"bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:ll.map(e=>(0,t.jsx)("option",{children:e},e))}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","local","toll-free","mobile","international"].map(e=>(0,t.jsx)("button",{onClick:()=>M(e),className:`px-3 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${S===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 text-slate-400 border border-[#024d30]"}`,children:"all"===e?"All Types":lr[e]||e},e))})]}),(0,t.jsxs)("p",{className:"text-slate-500 text-sm",children:[(0,t.jsx)("span",{className:"text-white font-bold",children:A.length})," numbers available"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:A.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] hover:border-[#39FF14]/40 rounded-2xl p-5 transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:lo[e.countryCode]||"🌍"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:e.region}),(0,t.jsx)(lc,{className:li[e.type],children:lr[e.type]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-[#39FF14] font-black",children:["RM ",e.monthlyRate,(0,t.jsx)("span",{className:"text-slate-500 font-normal text-xs",children:"/mo"})]}),e.setupFee>0&&(0,t.jsxs)("p",{className:"text-slate-500 text-[10px]",children:["+RM ",e.setupFee," setup"]})]})]}),(0,t.jsx)("p",{className:"font-mono text-white text-xl font-black tracking-wider mb-3",children:e.number}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-4",children:[(0,t.jsx)(lx,{on:e.capabilities.voice,label:"Voice"}),(0,t.jsx)(lx,{on:e.capabilities.sms,label:"SMS"}),(0,t.jsx)(lx,{on:e.capabilities.fax,label:"Fax"})]}),(0,t.jsxs)("button",{onClick:()=>x(e),className:"w-full py-2.5 bg-[#39FF14]/10 hover:bg-[#39FF14] text-[#39FF14] hover:text-black border border-[#39FF14]/20 hover:border-[#39FF14] rounded-xl text-xs font-black uppercase tracking-widest transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(eP.ShoppingCart,{className:"w-3.5 h-3.5"})," Buy Number"]})]},e.id))}),0===A.length&&(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(eb.Phone,{className:"w-12 h-12 text-slate-700 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400 font-bold",children:"No numbers match your filters"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm mt-1",children:"Try changing the country or type filter"})]})]}),"my-numbers"===a&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Manage your purchased DID numbers and SIP trunk assignments.",(0,t.jsx)("a",{href:"/sip-trunk",className:"ml-2 text-[#39FF14] hover:underline text-xs",children:"→ Configure SIP Trunks"})]}),(0,t.jsxs)("button",{onClick:()=>l("browse"),className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Buy More"]})]}),0===r.length?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(sm.Hash,{className:"w-14 h-14 text-slate-700 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-white font-black text-xl mb-2",children:"No DID numbers yet"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"Purchase your first DID number to get started"}),(0,t.jsx)("button",{onClick:()=>l("browse"),className:"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-3 rounded-xl font-black text-sm uppercase tracking-widest",children:"Browse Numbers"})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-[#024d30]",children:["Number","Label","Country","Type","Trunk","Destination","Status","Monthly","Actions"].map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-4 text-[10px] font-black uppercase tracking-widest text-slate-500",children:e},e))})}),(0,t.jsx)("tbody",{className:"divide-y divide-[#024d30]",children:r.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#024d30]/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-[#39FF14] font-black text-sm",children:e.number}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.number,void navigator.clipboard.writeText(t).catch(()=>{})},className:"opacity-0 group-hover:opacity-100 hover:opacity-100 p-0.5 text-slate-500 hover:text-[#39FF14] transition-all",children:(0,t.jsx)(k.default,{className:"w-3 h-3"})})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-slate-300 text-sm",children:e.label||"—"}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm",children:(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{children:lo[e.countryCode]||"🌍"}),(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:e.country})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)(lc,{className:li[e.type],children:lr[e.type]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:e.trunkName?(0,t.jsxs)("a",{href:"/sip-trunk",className:"flex items-center gap-1 text-blue-400 hover:text-blue-300 text-xs font-bold",children:[(0,t.jsx)(R.Network,{className:"w-3 h-3"})," ",e.trunkName]}):(0,t.jsx)("span",{className:"text-slate-600 text-xs",children:"None"})}),(0,t.jsx)("td",{className:"py-4 px-4 text-sm",children:e.destination?(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{className:"text-slate-500",children:[e.destinationType,":"]})," ",(0,t.jsx)("strong",{className:"text-white",children:e.destination})]}):(0,t.jsx)("span",{className:"text-slate-600 text-xs",children:"—"})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsx)(lc,{className:ln[e.status],children:e.status})}),(0,t.jsxs)("td",{className:"py-4 px-4 text-[#39FF14] font-black text-sm",children:["RM ",e.monthlyRate]}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>u(e),className:"p-1.5 bg-[#024d30] hover:bg-[#39FF14]/20 text-slate-300 hover:text-[#39FF14] rounded-lg transition-all",title:"Edit",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("a",{href:"/sip-trunk",className:"p-1.5 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-all",title:"Configure in SIP Trunk",children:(0,t.jsx)(d.Settings,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>(e=>{if(!confirm("Release this DID? This action cannot be undone."))return;let t=r.filter(t=>t.id!==e);i(t),ld(t)})(e.id),className:"p-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-all",title:"Release number",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})})]},e.id))})]})})]}),"analytics"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Numbers",value:r.length,icon:sm.Hash,color:"#39FF14",sub:"across all countries"},{label:"Active",value:r.filter(e=>"active"===e.status).length,icon:N.CheckCircle,color:"#39FF14",sub:"in service"},{label:"With SIP Trunk",value:r.filter(e=>e.trunkId).length,icon:R.Network,color:"#818cf8",sub:"trunk assigned"},{label:"Monthly Spend",value:`RM ${T}`,icon:eP.ShoppingCart,color:"#f59e0b",sub:"recurring"}].map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-2.5 bg-[#024d30]/60 rounded-xl",children:(0,t.jsx)(s,{className:"w-5 h-5",style:{color:e.color}})}),(0,t.jsx)("span",{className:"text-3xl font-black text-white",children:e.value})]}),(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-0.5",children:e.sub})]},e.label)})}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(Z.Globe,{className:"w-5 h-5 text-[#39FF14]"})," Numbers by Country"]}),0===r.length?(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"No numbers purchased yet."}):(0,t.jsx)("div",{className:"space-y-3",children:Array.from(new Set(r.map(e=>e.countryCode))).map(e=>{let s=r.filter(t=>t.countryCode===e);return(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-xl",children:lo[e]||"🌍"}),(0,t.jsx)("span",{className:"text-slate-300 text-sm w-32",children:s[0].country}),(0,t.jsx)("div",{className:"flex-1 bg-[#024d30]/40 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-[#39FF14] h-2 rounded-full",style:{width:`${s.length/r.length*100}%`}})}),(0,t.jsx)("span",{className:"text-white font-black text-sm w-6 text-right",children:s.length})]},e)})})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(R.Network,{className:"w-5 h-5 text-[#39FF14]"})," SIP Trunk Assignment"]}),0===n.length?(0,t.jsxs)("p",{className:"text-slate-500 text-sm",children:["No SIP trunks configured. ",(0,t.jsx)("a",{href:"/sip-trunk",className:"text-[#39FF14]",children:"Add a trunk →"})]}):(0,t.jsx)("div",{className:"space-y-3",children:n.map(e=>{let s=r.filter(t=>t.trunkId===e.id);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#024d30]/30 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-2.5 h-2.5 rounded-full ${"active"===e.status?"bg-[#39FF14]":"standby"===e.status?"bg-yellow-400":"bg-slate-600"}`}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:e.name}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs",children:[e.host,":",e.port]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-slate-400 text-sm",children:[s.length," DID",1!==s.length?"s":""]}),(0,t.jsxs)("a",{href:"/sip-trunk",className:"flex items-center gap-1 text-[#39FF14] text-xs font-black hover:underline",children:["Configure ",(0,t.jsx)(sU.default,{className:"w-3 h-3"})]})]})]},e.id)})})]})]})]}),c&&(0,t.jsx)(lm,{did:c,trunks:n,onConfirm:I,onClose:()=>x(null),loading:g}),m&&(0,t.jsx)(lh,{did:m,trunks:n,onSave:e=>{let t=r.map(t=>t.id===e.id?e:t);i(t),ld(t),u(null),j("DID updated successfully")},onClose:()=>u(null)})]})}var lg=e.i(77258),lg=lg,lb=e.i(5848),lb=lb,lf=e.i(26805),lf=lf,lj=e.i(89505),lj=lj,_=_,sT=sT,v=v,O=O,p=p,lv=e.i(51361),lv=lv,lN=e.i(49957),lN=lN,ly=e.i(58929),ly=ly,x=x;let lw="cpaas_itsm_tickets",l_="cpaas_itsm_incidents",lF="cpaas_itsm_changes";function lk(e,t){try{let s=localStorage.getItem(e);return s?JSON.parse(s):t}catch{return t}}function lC(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch{}}let lS=[{id:"t1",title:"SMS gateway latency spike",description:"P95 latency elevated to 2.3s, affecting bulk campaigns.",priority:"high",status:"in_progress",assignee:"Ali Hassan",category:"Performance",createdAt:"2026-02-20T08:00:00Z",updatedAt:"2026-02-20T09:30:00Z"},{id:"t2",title:"WhatsApp template rejection",description:"Business template rejected by Meta API — 403 on send.",priority:"critical",status:"open",assignee:"Priya Nair",category:"API",createdAt:"2026-02-20T10:00:00Z",updatedAt:"2026-02-20T10:00:00Z"},{id:"t3",title:"User cannot reset password",description:"Reset email not being delivered via SMTP route.",priority:"medium",status:"resolved",assignee:"David Lim",category:"Auth",createdAt:"2026-02-19T14:00:00Z",updatedAt:"2026-02-20T07:00:00Z"},{id:"t4",title:"RCS campaign stuck in pending",description:"Campaign ID 4829 has been queued for 6 hours.",priority:"high",status:"open",assignee:"Unassigned",category:"Campaigns",createdAt:"2026-02-20T04:00:00Z",updatedAt:"2026-02-20T04:00:00Z"},{id:"t5",title:"SIP trunk registration failing",description:"Primary PSTN trunk loses registration every ~2 hours.",priority:"critical",status:"in_progress",assignee:"Ali Hassan",category:"Telephony",createdAt:"2026-02-20T06:00:00Z",updatedAt:"2026-02-20T11:00:00Z"}],lM=[{id:"i1",title:"API Gateway 503 errors",description:"Increased 503 rate on /api/sms/send endpoint.",priority:"critical",status:"investigating",affectedService:"SMS API",createdAt:"2026-02-20T09:00:00Z"},{id:"i2",title:"Email delivery delays",description:"SMTP relay queuing causing 30–60 min delays.",priority:"high",status:"resolved",affectedService:"Email API",resolvedAt:"2026-02-20T08:30:00Z",createdAt:"2026-02-20T07:00:00Z"},{id:"i3",title:"DID number provisioning timeout",description:"Number purchase API timing out at 30s limit.",priority:"medium",status:"active",affectedService:"DID Management",createdAt:"2026-02-20T11:00:00Z"}],lA=[{id:"c1",title:"Upgrade SMS gateway software to v4.2",description:"Apply patch for CVE-2025-1234 and performance improvements.",priority:"high",status:"approved",requestedBy:"Ali Hassan",scheduledDate:"2026-02-22",createdAt:"2026-02-18T10:00:00Z"},{id:"c2",title:"Add failover trunk for international calls",description:"Configure secondary SIP trunk for international routes.",priority:"medium",status:"pending",requestedBy:"David Lim",scheduledDate:"2026-02-25",createdAt:"2026-02-19T14:00:00Z"},{id:"c3",title:"Migrate RCS configs to new schema",description:"Breaking schema change requires coordinated deployment.",priority:"critical",status:"in_progress",requestedBy:"Priya Nair",scheduledDate:"2026-02-21",createdAt:"2026-02-20T08:00:00Z"}],lI={critical:"bg-red-500/20 text-red-400 border-red-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",medium:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",low:"bg-slate-500/20 text-slate-400 border-slate-500/30"},lP={open:"bg-blue-500/20 text-blue-400 border-blue-500/30",in_progress:"bg-[#39FF14]/15 text-[#39FF14] border-[#39FF14]/30",resolved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",closed:"bg-slate-600/20 text-slate-500 border-slate-600/30"},lT={active:"bg-red-500/20 text-red-400 border-red-500/30",investigating:"bg-orange-500/20 text-orange-400 border-orange-500/30",resolved:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30"},lD={pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",approved:"bg-blue-500/20 text-blue-400 border-blue-500/30",in_progress:"bg-[#39FF14]/15 text-[#39FF14] border-[#39FF14]/30",completed:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"},lR=({p:e})=>"critical"===e?(0,t.jsx)(lv.default,{className:"w-3.5 h-3.5 text-red-400"}):"high"===e?(0,t.jsx)(lv.default,{className:"w-3.5 h-3.5 text-orange-400"}):"medium"===e?(0,t.jsx)(ly.default,{className:"w-3.5 h-3.5 text-yellow-400"}):(0,t.jsx)(lN.default,{className:"w-3.5 h-3.5 text-slate-400"}),lL=({className:e,children:s})=>(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${e}`,children:s}),lE=e=>{try{return new Date(e).toLocaleString("en-MY",{dateStyle:"short",timeStyle:"short"})}catch{return e}},l$=["API","Auth","Performance","Campaigns","Telephony","Billing","DID","Email","Other"],lO=["Ali Hassan","Priya Nair","David Lim","Sarah Wong","Unassigned"],lq=["SMS API","WhatsApp API","RCS API","Voice API","Email API","SIP Trunk","DID Management","Billing","Auth"];function lU({initial:e,onSave:a,onClose:l}){let[r,i]=(0,s.useState)(e?{title:e.title,description:e.description,priority:e.priority,status:e.status,assignee:e.assignee,category:e.category}:{title:"",description:"",priority:"medium",status:"open",assignee:"Unassigned",category:"API"});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsx)("h2",{className:"text-white font-black",children:e?"Edit Ticket":"New Ticket"}),(0,t.jsx)("button",{onClick:l,children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400 hover:text-white"})})]}),(0,t.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Title *"}),(0,t.jsx)("input",{value:r.title,onChange:e=>i(t=>({...t,title:e.target.value})),placeholder:"Describe the issue",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Description"}),(0,t.jsx)("textarea",{rows:3,value:r.description,onChange:e=>i(t=>({...t,description:e.target.value})),placeholder:"Additional details...",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none resize-none"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Priority",key:"priority",options:["critical","high","medium","low"]},{label:"Status",key:"status",options:["open","in_progress","resolved","closed"]},{label:"Category",key:"category",options:l$},{label:"Assignee",key:"assignee",options:lO}].map(({label:e,key:s,options:a})=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:e}),(0,t.jsx)("select",{value:r[s],onChange:e=>i(t=>({...t,[s]:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:a.map(e=>(0,t.jsx)("option",{value:e,children:e.replace("_"," ")},e))})]},s))}),(0,t.jsxs)("div",{className:"flex gap-3 pt-1",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 py-2.5 border border-[#024d30] text-slate-400 hover:text-white rounded-xl text-sm font-black",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!r.title.trim())return;let t=new Date().toISOString();a(e?{...e,...r,updatedAt:t}:{id:`t${Date.now()}`,...r,createdAt:t,updatedAt:t})},disabled:!r.title.trim(),className:"flex-1 py-2.5 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm disabled:opacity-40 flex items-center justify-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"})," Save Ticket"]})]})]})]})})}function lV({initial:e,onSave:a,onClose:l}){let[r,i]=(0,s.useState)(e?{title:e.title,description:e.description,priority:e.priority,status:e.status,affectedService:e.affectedService}:{title:"",description:"",priority:"high",status:"active",affectedService:"SMS API"});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsx)("h2",{className:"text-white font-black",children:e?"Edit Incident":"Report Incident"}),(0,t.jsx)("button",{onClick:l,children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400 hover:text-white"})})]}),(0,t.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Title *"}),(0,t.jsx)("input",{value:r.title,onChange:e=>i(t=>({...t,title:e.target.value})),placeholder:"Incident summary",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Description"}),(0,t.jsx)("textarea",{rows:3,value:r.description,onChange:e=>i(t=>({...t,description:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none resize-none"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Priority",key:"priority",options:["critical","high","medium","low"]},{label:"Status",key:"status",options:["active","investigating","resolved"]},{label:"Affected Service",key:"affectedService",options:lq}].map(({label:e,key:s,options:a})=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:e}),(0,t.jsx)("select",{value:r[s],onChange:e=>i(t=>({...t,[s]:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:a.map(e=>(0,t.jsx)("option",{children:e.replace("_"," ")},e))})]},s))}),(0,t.jsxs)("div",{className:"flex gap-3 pt-1",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 py-2.5 border border-[#024d30] text-slate-400 hover:text-white rounded-xl text-sm font-black",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!r.title.trim())return;let t=new Date().toISOString();a(e?{...e,...r,resolvedAt:"resolved"===r.status?t:e.resolvedAt}:{id:`i${Date.now()}`,...r,createdAt:t})},disabled:!r.title.trim(),className:"flex-1 py-2.5 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm disabled:opacity-40 flex items-center justify-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"})," Save"]})]})]})]})})}function lB({initial:e,onSave:a,onClose:l}){let[r,i]=(0,s.useState)(e?{title:e.title,description:e.description,priority:e.priority,status:e.status,requestedBy:e.requestedBy,scheduledDate:e.scheduledDate}:{title:"",description:"",priority:"medium",status:"pending",requestedBy:"Ali Hassan",scheduledDate:""});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:l,children:(0,t.jsxs)("div",{className:"bg-[#011a12] border border-[#024d30] rounded-2xl w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#024d30]",children:[(0,t.jsx)("h2",{className:"text-white font-black",children:e?"Edit Change Request":"New Change Request"}),(0,t.jsx)("button",{onClick:l,children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400 hover:text-white"})})]}),(0,t.jsxs)("div",{className:"px-6 py-5 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Title *"}),(0,t.jsx)("input",{value:r.title,onChange:e=>i(t=>({...t,title:e.target.value})),placeholder:"Change summary",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Description"}),(0,t.jsx)("textarea",{rows:3,value:r.description,onChange:e=>i(t=>({...t,description:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none resize-none"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[[{label:"Priority",key:"priority",options:["critical","high","medium","low"]},{label:"Status",key:"status",options:["pending","approved","in_progress","completed","rejected"]},{label:"Requested By",key:"requestedBy",options:lO.filter(e=>"Unassigned"!==e)}].map(({label:e,key:s,options:a})=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:e}),(0,t.jsx)("select",{value:r[s],onChange:e=>i(t=>({...t,[s]:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none",children:a.map(e=>(0,t.jsx)("option",{value:e,children:e.replace("_"," ")},e))})]},s)),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-400 mb-1.5",children:"Scheduled Date"}),(0,t.jsx)("input",{type:"date",value:r.scheduledDate,onChange:e=>i(t=>({...t,scheduledDate:e.target.value})),className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-3 py-2.5 text-white text-sm outline-none"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-1",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 py-2.5 border border-[#024d30] text-slate-400 hover:text-white rounded-xl text-sm font-black",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{if(!r.title.trim())return;let t=new Date().toISOString();a(e?{...e,...r}:{id:`c${Date.now()}`,...r,createdAt:t})},disabled:!r.title.trim(),className:"flex-1 py-2.5 bg-[#39FF14] hover:bg-[#32e012] text-black font-black rounded-xl text-sm disabled:opacity-40 flex items-center justify-center gap-2",children:[(0,t.jsx)(O.default,{className:"w-4 h-4"})," Save"]})]})]})]})})}let lz=[{id:"tickets",label:"Tickets",icon:lg.default},{id:"incidents",label:"Incidents",icon:lb.default},{id:"changes",label:"Change Requests",icon:lf.default},{id:"sla",label:"SLA Dashboard",icon:lj.default}];function lG(){let[e,a]=(0,s.useState)("tickets"),[l,r]=(0,s.useState)(()=>lk(lw,lS)),[i,o]=(0,s.useState)(()=>lk(l_,lM)),[d,c]=(0,s.useState)(()=>lk(lF,lA)),[m,h]=(0,s.useState)(),[u,g]=(0,s.useState)(),[b,f]=(0,s.useState)(),[j,y]=(0,s.useState)(!1),[w,F]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1),[S,M]=(0,s.useState)(""),[A,I]=(0,s.useState)("all"),[P,T]=(0,s.useState)("all");(0,s.useEffect)(()=>{lC(lw,l)},[l]),(0,s.useEffect)(()=>{lC(l_,i)},[i]),(0,s.useEffect)(()=>{lC(lF,d)},[d]);let D=l.filter(e=>{let t=S.toLowerCase(),s=!t||e.title.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||e.assignee.toLowerCase().includes(t),a="all"===A||e.status===A,l="all"===P||e.priority===P;return s&&a&&l}),R=l.filter(e=>"open"===e.status||"in_progress"===e.status).length,L=l.filter(e=>"critical"===e.priority&&("open"===e.status||"in_progress"===e.status)).length,E=i.filter(e=>"resolved"!==e.status).length,$=l.filter(e=>"resolved"===e.status&&e.updatedAt.startsWith(new Date().toISOString().slice(0,10))).length;return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#012419]",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#39FF14]/10 via-[#012419] to-[#012419] border-b border-[#024d30] px-8 py-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-[#39FF14]/15 rounded-2xl border border-[#39FF14]/20",children:(0,t.jsx)(n.Shield,{className:"w-8 h-8 text-[#39FF14]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-black text-white",children:"IT Service Management"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"Manage tickets, incidents, and change requests across the platform"})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4 mt-8",children:[{label:"Open Tickets",value:R,icon:lg.default,color:"#39FF14",sub:`${L} critical`},{label:"Active Incidents",value:E,icon:lb.default,color:E>0?"#ef4444":"#39FF14",sub:"service impact"},{label:"Pending Changes",value:d.filter(e=>"pending"===e.status).length,icon:lf.default,color:"#f59e0b",sub:"awaiting approval"},{label:"Resolved Today",value:$,icon:N.CheckCircle,color:"#39FF14",sub:"tickets closed"}].map(e=>{let s=e.icon;return(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-5",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)(s,{className:"w-5 h-5",style:{color:e.color}}),(0,t.jsx)("span",{className:"text-3xl font-black text-white",children:e.value})]}),(0,t.jsx)("p",{className:"text-white font-bold text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-0.5",children:e.sub})]},e.label)})})]}),(0,t.jsx)("div",{className:"border-b border-[#024d30] px-6 bg-[#012419]/80 sticky top-0 z-10",children:(0,t.jsx)("div",{className:"flex gap-1",children:lz.map(s=>{let l=s.icon;return(0,t.jsxs)("button",{onClick:()=>a(s.id),className:`flex items-center gap-2 px-5 py-4 text-sm font-black whitespace-nowrap border-b-2 transition-all ${e===s.id?"border-[#39FF14] text-[#39FF14]":"border-transparent text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(l,{className:"w-4 h-4"}),s.label]},s.id)})})}),(0,t.jsxs)("div",{className:"p-6 lg:p-8",children:["tickets"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-48",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),(0,t.jsx)("input",{value:S,onChange:e=>M(e.target.value),placeholder:"Search tickets…",className:"w-full bg-[#012419] border border-[#024d30] focus:border-[#39FF14] rounded-xl px-4 py-2.5 text-white text-sm outline-none pl-10"})]}),["all","open","in_progress","resolved","closed"].map(e=>(0,t.jsx)("button",{onClick:()=>I(e),className:`px-3 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${A===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 border border-[#024d30] text-slate-400"}`,children:e.replace("_"," ")},e)),["all","critical","high","medium","low"].map(e=>(0,t.jsx)("button",{onClick:()=>T(e),className:`px-3 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${P===e?"bg-[#39FF14] text-black":"bg-[#024d30]/40 border border-[#024d30] text-slate-400"}`,children:e},e)),(0,t.jsxs)("div",{className:"ml-auto flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([[["ID","Title","Priority","Status","Category","Assignee","Created","Updated"],...l.map(e=>[e.id,e.title,e.priority,e.status,e.category,e.assignee,lE(e.createdAt),lE(e.updatedAt)])].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`itsm-tickets-${new Date().toISOString().slice(0,10)}.csv`,s.click(),URL.revokeObjectURL(t)},className:"flex items-center gap-2 border border-[#024d30] text-slate-400 hover:text-[#39FF14] px-3 py-2 rounded-xl text-xs font-black transition-all",children:[(0,t.jsx)(x.default,{className:"w-3.5 h-3.5"})," Export CSV"]}),(0,t.jsxs)("button",{onClick:()=>{h(void 0),y(!0)},className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2 rounded-xl font-black text-xs uppercase tracking-widest",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," New Ticket"]})]})]}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-[#024d30]",children:["Title","Priority","Status","Category","Assignee","Updated","Actions"].map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-4 text-[10px] font-black uppercase tracking-widest text-slate-500",children:e},e))})}),(0,t.jsx)("tbody",{className:"divide-y divide-[#024d30]",children:D.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#024d30]/20 transition-colors",children:[(0,t.jsxs)("td",{className:"py-3 px-4",children:[(0,t.jsx)("p",{className:"text-white text-sm font-bold",children:e.title}),(0,t.jsx)("p",{className:"text-slate-500 text-xs truncate max-w-xs",children:e.description})]}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(lR,{p:e.priority}),(0,t.jsx)(lL,{className:lI[e.priority],children:e.priority})]})}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsx)(lL,{className:lP[e.status],children:e.status.replace("_"," ")})}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 text-xs",children:e.category}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-300 text-sm",children:e.assignee}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-500 text-xs",children:lE(e.updatedAt)}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex gap-1.5",children:[("open"===e.status||"in_progress"===e.status)&&(0,t.jsx)("button",{onClick:()=>{let t;return t=e.id,r(e=>e.map(e=>e.id===t?{...e,status:"resolved",updatedAt:new Date().toISOString()}:e))},className:"p-1.5 bg-[#39FF14]/10 hover:bg-[#39FF14]/20 text-[#39FF14] rounded-lg",title:"Resolve",children:(0,t.jsx)(N.CheckCircle,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{h(e),y(!0)},className:"p-1.5 bg-[#024d30] hover:bg-[#024d30]/80 text-slate-300 rounded-lg",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{let t;return t=e.id,r(e=>e.filter(e=>e.id!==t))},className:"p-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})})]},e.id))})]}),0===D.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(lg.default,{className:"w-10 h-10 text-slate-700 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400 font-bold",children:"No tickets match your filters"})]})]})]}),"incidents"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Track and manage service-affecting incidents in real time."}),(0,t.jsxs)("button",{onClick:()=>{g(void 0),F(!0)},className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," Report Incident"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[i.map(e=>(0,t.jsx)("div",{className:`border rounded-2xl p-5 transition-all ${"active"===e.status?"bg-red-500/5 border-red-500/20":"investigating"===e.status?"bg-orange-500/5 border-orange-500/20":"bg-[#012419]/80 border-[#024d30]"}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[(0,t.jsx)("h3",{className:"text-white font-black text-sm",children:e.title}),(0,t.jsx)(lL,{className:lT[e.status],children:e.status}),(0,t.jsx)(lL,{className:lI[e.priority],children:e.priority})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,t.jsxs)("span",{children:["Service: ",(0,t.jsx)("strong",{className:"text-slate-300",children:e.affectedService})]}),(0,t.jsxs)("span",{children:["Opened: ",lE(e.createdAt)]}),e.resolvedAt&&(0,t.jsxs)("span",{className:"text-emerald-500",children:["Resolved: ",lE(e.resolvedAt)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1.5 ml-4 shrink-0",children:["resolved"!==e.status&&(0,t.jsxs)("button",{onClick:()=>{let t;return t=e.id,o(e=>e.map(e=>e.id===t?{...e,status:"resolved",resolvedAt:new Date().toISOString()}:e))},className:"flex items-center gap-1 px-2.5 py-1.5 bg-[#39FF14]/10 hover:bg-[#39FF14]/20 text-[#39FF14] rounded-xl text-xs font-black",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"})," Resolve"]}),(0,t.jsx)("button",{onClick:()=>{g(e),F(!0)},className:"p-1.5 bg-[#024d30] hover:bg-[#024d30]/80 text-slate-300 rounded-xl",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{let t;return t=e.id,o(e=>e.filter(e=>e.id!==t))},className:"p-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})]})},e.id)),0===i.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(lb.default,{className:"w-10 h-10 text-slate-700 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400 font-bold",children:"No incidents reported — all systems operational"})]})]})]}),"changes"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Submit and track change requests with approval workflow."}),(0,t.jsxs)("button",{onClick:()=>{f(void 0),C(!0)},className:"flex items-center gap-2 bg-[#39FF14] hover:bg-[#32e012] text-black px-4 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"})," New Change Request"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,t.jsx)("div",{className:"bg-[#012419]/80 border border-[#024d30] hover:border-[#39FF14]/20 rounded-2xl p-5 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[(0,t.jsx)("h3",{className:"text-white font-black text-sm",children:e.title}),(0,t.jsx)(lL,{className:lD[e.status],children:e.status.replace("_"," ")}),(0,t.jsx)(lL,{className:lI[e.priority],children:e.priority})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,t.jsxs)("span",{children:["Requested by: ",(0,t.jsx)("strong",{className:"text-slate-300",children:e.requestedBy})]}),e.scheduledDate&&(0,t.jsxs)("span",{children:["Scheduled: ",(0,t.jsx)("strong",{className:"text-slate-300",children:e.scheduledDate})]}),(0,t.jsxs)("span",{children:["Created: ",lE(e.createdAt)]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1.5 ml-4 shrink-0",children:["pending"===e.status&&(0,t.jsxs)("button",{onClick:()=>{let t;return t=e.id,c(e=>e.map(e=>e.id===t?{...e,status:"approved"}:e))},className:"flex items-center gap-1 px-2.5 py-1.5 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 rounded-xl text-xs font-black",children:[(0,t.jsx)(N.CheckCircle,{className:"w-3 h-3"})," Approve"]}),(0,t.jsx)("button",{onClick:()=>{f(e),C(!0)},className:"p-1.5 bg-[#024d30] hover:bg-[#024d30]/80 text-slate-300 rounded-xl",children:(0,t.jsx)(sT.default,{className:"w-3.5 h-3.5"})}),(0,t.jsx)("button",{onClick:()=>{let t;return t=e.id,c(e=>e.filter(e=>e.id!==t))},className:"p-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-xl",children:(0,t.jsx)(v.default,{className:"w-3.5 h-3.5"})})]})]})},e.id))})]}),"sla"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(lg.default,{className:"w-5 h-5 text-[#39FF14]"})," Ticket Status"]}),["open","in_progress","resolved","closed"].map(e=>{let s=l.filter(t=>t.status===e).length,a=l.length>0?s/l.length*100:0;return(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-slate-400 capitalize",children:e.replace("_"," ")}),(0,t.jsx)("span",{className:"text-white font-bold",children:s})]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-full h-2",children:(0,t.jsx)("div",{className:`h-2 rounded-full transition-all duration-500 ${lP[e].includes("39FF14")?"bg-[#39FF14]":"open"===e?"bg-blue-500":"resolved"===e?"bg-emerald-500":"bg-slate-600"}`,style:{width:`${a}%`}})})]},e)})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(lv.default,{className:"w-5 h-5 text-[#39FF14]"})," Priority Breakdown"]}),["critical","high","medium","low"].map(e=>{let s=l.filter(t=>t.priority===e).length,a=l.length>0?s/l.length*100:0,r="critical"===e?"bg-red-500":"high"===e?"bg-orange-500":"medium"===e?"bg-yellow-500":"bg-slate-500";return(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{className:"text-slate-400 capitalize",children:e}),(0,t.jsx)("span",{className:"text-white font-bold",children:s})]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-full h-2",children:(0,t.jsx)("div",{className:`h-2 rounded-full transition-all duration-500 ${r}`,style:{width:`${a}%`}})})]},e)})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(lb.default,{className:"w-5 h-5 text-[#39FF14]"})," Incident Summary"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[["active","investigating","resolved"].map(e=>{let s=i.filter(t=>t.status===e).length;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#024d30]/30 rounded-xl",children:[(0,t.jsx)("span",{className:"text-slate-300 text-sm capitalize",children:e}),(0,t.jsx)(lL,{className:lT[e],children:s})]},e)}),(0,t.jsx)("div",{className:"pt-1 border-t border-[#024d30]",children:(0,t.jsxs)("p",{className:"text-slate-500 text-xs",children:["Total Incidents: ",(0,t.jsx)("strong",{className:"text-white",children:i.length})]})})]})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(lf.default,{className:"w-5 h-5 text-[#39FF14]"})," Change Request Summary"]}),(0,t.jsx)("div",{className:"space-y-3",children:["pending","approved","in_progress","completed","rejected"].map(e=>{let s=d.filter(t=>t.status===e).length;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#024d30]/30 rounded-xl",children:[(0,t.jsx)("span",{className:"text-slate-300 text-sm capitalize",children:e.replace("_"," ")}),(0,t.jsx)(lL,{className:lD[e],children:s})]},e)})})]})]}),(0,t.jsxs)("div",{className:"bg-[#012419]/80 border border-[#024d30] rounded-2xl p-6",children:[(0,t.jsxs)("h3",{className:"text-white font-black text-base mb-4 flex items-center gap-2",children:[(0,t.jsx)(eE.TrendingUp,{className:"w-5 h-5 text-[#39FF14]"})," SLA Compliance"]}),(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-[#024d30]",children:["Priority","SLA Target","Avg Resolution","Compliance","Status"].map(e=>(0,t.jsx)("th",{className:"text-left py-3 px-4 text-[10px] font-black uppercase tracking-widest text-slate-500",children:e},e))})}),(0,t.jsx)("tbody",{className:"divide-y divide-[#024d30]",children:[{priority:"Critical",target:"4h",avg:"3.2h",pct:92},{priority:"High",target:"8h",avg:"6.8h",pct:88},{priority:"Medium",target:"24h",avg:"18h",pct:95},{priority:"Low",target:"72h",avg:"48h",pct:98}].map(e=>(0,t.jsxs)("tr",{className:"hover:bg-[#024d30]/20",children:[(0,t.jsx)("td",{className:"py-3 px-4 text-slate-300 font-bold text-sm",children:e.priority}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:e.target}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-300 text-sm",children:e.avg}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-900 rounded-full h-2",children:(0,t.jsx)("div",{className:`h-2 rounded-full ${e.pct>=90?"bg-[#39FF14]":"bg-yellow-500"}`,style:{width:`${e.pct}%`}})}),(0,t.jsxs)("span",{className:"text-white font-black text-sm w-10",children:[e.pct,"%"]})]})}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsx)(lL,{className:e.pct>=90?"bg-[#39FF14]/15 text-[#39FF14] border-[#39FF14]/30":"bg-yellow-500/15 text-yellow-400 border-yellow-500/30",children:e.pct>=90?"Compliant":"At Risk"})})]},e.priority))})]})]})]})]}),j&&(0,t.jsx)(lU,{initial:m,onSave:e=>{r(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[...t,e]),y(!1),h(void 0)},onClose:()=>{y(!1),h(void 0)}}),w&&(0,t.jsx)(lV,{initial:u,onSave:e=>{o(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[...t,e]),F(!1),g(void 0)},onClose:()=>{F(!1),g(void 0)}}),k&&(0,t.jsx)(lB,{initial:b,onSave:e=>{c(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[...t,e]),C(!1),f(void 0)},onClose:()=>{C(!1),f(void 0)}})]})}function lK({params:e}){let l=(0,aB.useRouter)(),r=(0,s.use)(e).slug;switch(r?r[0]:"dashboard"){case"dashboard":default:return(0,t.jsx)(a.default,{});case"product-catalog":return(0,t.jsx)(eq,{});case"billing":return(0,t.jsx)(e0,{});case"settings":return(0,t.jsx)(eM,{});case"subscriptions":return(0,t.jsx)(aq,{});case"resources":return(0,t.jsx)(e6,{});case"reports":return(0,t.jsx)(to,{});case"recordings":return(0,t.jsx)(tx,{});case"documentation":return(0,t.jsx)(tu,{});case"feature-validation":return(0,t.jsx)(tb,{});case"tiktok":return(0,t.jsx)(ay,{});case"instagram":return(0,t.jsx)(ak,{});case"facebook":return(0,t.jsx)(aS,{});case"youtube":return(0,t.jsx)(aI,{});case"linkedin":return(0,t.jsx)(aD,{});case"viber":return(0,t.jsx)(aR,{});case"line":return(0,t.jsx)(aL,{});case"wechat":return(0,t.jsx)(a$,{});case"sms":return(0,t.jsx)(t5,{});case"rcs":return(0,t.jsx)(t8,{});case"whatsapp":return(0,t.jsx)(sa,{});case"voice-api":return(0,t.jsx)(sP,{});case"cc":return(0,t.jsx)(sO,{});case"chatbot":return(0,t.jsx)(sz,{});case"voice-agent":return(0,t.jsx)(sZ,{});case"meetings-ai":return(0,t.jsx)(as,{});case"video-api":return(0,t.jsx)(tJ,{});case"api-marketplace":return(0,t.jsx)(ac,{});case"email":return(0,t.jsx)(ah,{});case"sim-swap":return(0,t.jsx)(aV,{});case"number-verification":return(0,t.jsx)(aG,{});case"device-location":return(0,t.jsx)(aW,{});case"qod":return(0,t.jsx)(aH,{});case"sip-trunk":return(0,t.jsx)(a7,{});case"did":return(0,t.jsx)(lp,{});case"it-service":return(0,t.jsx)(lG,{});case"telco-api":return(0,t.jsx)(ab,{onNavigate:e=>l.push(e.startsWith("/")?e:`/${e}`)});case"cart":return(0,t.jsx)(al,{onNavigate:e=>l.push(e.startsWith("/")?e:`/${e}`)})}}e.s(["default",()=>lK],70157)}]);