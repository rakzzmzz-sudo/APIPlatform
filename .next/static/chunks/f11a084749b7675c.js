(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,s)=>{},98547,(e,t,s)=>{var a=e.i(47167);e.r(16015);var l=e.r(71645),r=l&&"object"==typeof l&&"default"in l?l:{default:l},i=void 0!==a.default&&a.default.env&&!0,n=function(e){return"[object String]"===Object.prototype.toString.call(e)},d=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,l=t.optimizeForSpeed,r=void 0===l?i:l;c(n(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var d="u">typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=d?d.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"u">typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(n(e),"`insertRule` accepts only strings"),"u"<typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"u"<typeof window){var s="u">typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},s.deleteRule=function(e){if("u"<typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"u">typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"u"<typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(n(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var l=document.head||document.getElementsByTagName("head")[0];return s?l.insertBefore(a,s):l.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var o=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},x={};function m(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return x[a]||(x[a]="jsx-"+o(e+"-"+s)),x[a]}function h(e,t){"u"<typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return x[s]||(x[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),x[s]}var u=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,a=void 0===s?null:s,l=t.optimizeForSpeed,r=void 0!==l&&l;this._sheet=a||new d({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),a&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"u">typeof window&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),a=s.styleId,l=s.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var r=l.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=r,this._instancesCounts[a]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var a=this._fromServer&&this._fromServer[s];a?(a.parentNode.removeChild(a),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],a=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,a=e.id;if(s){var l=m(a,s);return{styleId:l,rules:Array.isArray(t)?t.map(function(e){return h(l,e)}):[h(l,t)]}}return{styleId:m(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=l.createContext(null);function g(){return new u}function b(){return l.useContext(p)}p.displayName="StyleSheetContext";var f=r.default.useInsertionEffect||r.default.useLayoutEffect,j="u">typeof window?g():void 0;function N(e){var t=j||b();return t&&("u"<typeof window?t.add(e):f(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}N.dynamic=function(e){return e.map(function(e){return m(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,a=l.useContext(p),i=l.useState(function(){return a||t||g()})[0];return r.default.createElement(p.Provider,{value:i},s)},s.createStyleRegistry=g,s.style=N,s.useStyleRegistry=b},37902,(e,t,s)=>{t.exports=e.r(98547).style},70157,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(71076),l=e.i(98740),l=l,r=e.i(81692),r=r,i=e.i(65577),i=i,n=e.i(98919),d=e.i(78583),c=e.i(39616),o=e.i(45423),x=e.i(84023),x=x,m=e.i(57353),m=m,h=e.i(69152),u=e.i(27330),u=u,p=e.i(54943),p=p,g=e.i(85528),g=g,b=e.i(63488),f=e.i(61277),f=f,j=e.i(68260),j=j,N=e.i(12329),N=N,v=e.i(5631),y=e.i(37727);function w(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[i,d]=(0,s.useState)(""),[c,o]=(0,s.useState)("all"),[x,m]=(0,s.useState)(!1),[w,_]=(0,s.useState)({email:"",password:"",full_name:"",role:"user",balance:"0"}),[k,C]=(0,s.useState)(null);(0,s.useEffect)(()=>{S()},[]),(0,s.useEffect)(()=>{if(k){let e=setTimeout(()=>C(null),5e3);return()=>clearTimeout(e)}},[k]);let S=async()=>{r(!0);let e=[{id:"admin@cpaas.com",email:"admin@cpaas.com",full_name:"Admin User",role:"admin",balance:1e3,created_at:new Date().toISOString()},{id:"presales@cpaas.com",email:"presales@cpaas.com",full_name:"Presales User",role:"user",balance:1e3,created_at:new Date().toISOString()},{id:"sales@cpaas.com",email:"sales@cpaas.com",full_name:"Sales User",role:"user",balance:1e3,created_at:new Date().toISOString()}];try{let{data:t,error:s}=await h.db.from("profiles").select("*").order("created_at",{ascending:!1});if(s)console.log("Database not available, showing predefined users only"),a(e);else{let s=[...e];(t||[]).forEach(t=>{e.find(e=>e.email===t.email)||s.push(t)}),a(s)}}catch(t){console.log("Error fetching users, showing predefined users only:",t),a(e)}finally{r(!1)}},A=async e=>{e.preventDefault();try{let{data:e,error:t}=await h.db.auth.signUp({email:w.email,password:w.password,options:{data:{full_name:w.full_name}}});if(t)throw t;if(e.user){let{error:t}=await h.db.from("profiles").update({full_name:w.full_name,role:w.role,balance:parseFloat(w.balance)}).eq("id",e.user.id);if(t)throw t}C({type:"success",message:"User added successfully"}),m(!1),_({email:"",password:"",full_name:"",role:"user",balance:"0"}),await S()}catch(e){console.error("Error adding user:",e),C({type:"error",message:e.message||"Failed to add user"})}},T=e.filter(e=>{let t=e.email.toLowerCase().includes(i.toLowerCase())||e.full_name?.toLowerCase().includes(i.toLowerCase()),s="all"===c||e.role===c;return t&&s}),P=async e=>{if(!confirm("Are you sure you want to delete this user?"))return;let{error:t}=await h.db.from("profiles").delete().eq("id",e);t?(console.error("Error deleting user:",t),alert("Failed to delete user")):S()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"User Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage user accounts, roles, and permissions"})]}),(0,t.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(u.default,{className:"w-4 h-4"}),"Add User"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by email or name...",value:i,onChange:e=>d(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"all",children:"All Roles"}),(0,t.jsx)("option",{value:"admin",children:"Admin"}),(0,t.jsx)("option",{value:"developer",children:"Developer"}),(0,t.jsx)("option",{value:"user",children:"User"})]})]}),l?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading users..."})]}):(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"User"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"Role"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-400",children:"Balance"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"Joined"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-400",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-400",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:T.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-semibold text-sm",children:e.full_name?.charAt(0)||e.email.charAt(0).toUpperCase()})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.full_name||"N/A"}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm flex items-center gap-2",children:[(0,t.jsx)(b.Mail,{className:"w-3 h-3"}),e.email]})]})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-semibold border ${(e=>{switch(e){case"admin":return"bg-red-500/20 text-red-400 border-red-500/50";case"developer":return"bg-blue-500/20 text-blue-400 border-blue-500/50";default:return"bg-slate-500/20 text-slate-400 border-slate-500/50"}})(e.role)}`,children:[(0,t.jsx)(n.Shield,{className:"w-3 h-3"}),e.role.toUpperCase()]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-right",children:(0,t.jsxs)("span",{className:"text-emerald-400 font-semibold",children:["RM ",e.balance.toFixed(2)]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString()]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-semibold bg-emerald-500/20 text-emerald-400 border border-emerald-500/50",children:[(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"ACTIVE"]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(j.default,{className:"w-4 h-4 text-slate-400 group-hover:text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(g.default,{className:"w-4 h-4 text-slate-400"})})]})})]},e.id))})]}),0===T.length&&(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-slate-400",children:"No users found"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"All registered users"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Admins"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"admin"===e.role).length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Full access users"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"100% active"})]})]}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New User"}),(0,t.jsx)("button",{onClick:()=>{m(!1),_({email:"",password:"",full_name:"",role:"user",balance:"0"})},className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email *"}),(0,t.jsx)("input",{type:"email",value:w.email,onChange:e=>_({...w,email:e.target.value}),placeholder:"user@example.com",required:!0,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password *"}),(0,t.jsx)("input",{type:"password",value:w.password,onChange:e=>_({...w,password:e.target.value}),placeholder:"Minimum 6 characters",required:!0,minLength:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:w.full_name,onChange:e=>_({...w,full_name:e.target.value}),placeholder:"John Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),(0,t.jsxs)("select",{value:w.role,onChange:e=>_({...w,role:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"user",children:"User"}),(0,t.jsx)("option",{value:"developer",children:"Developer"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Initial Balance (RM)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:w.balance,onChange:e=>_({...w,balance:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{m(!1),_({email:"",password:"",full_name:"",role:"user",balance:"0"})},className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Add User"})]})]})]})}),k&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===k.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===k.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===k.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===k.type?"text-green-400":"text-red-400"}`,children:"success"===k.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:k.message})]}),(0,t.jsx)("button",{onClick:()=>C(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var r=r,_=e.i(3908),_=_,k=e.i(78466),k=k,C=e.i(91124),C=C,S=e.i(87942),S=S,A=e.i(11749),A=A,N=N;function T(){let[e,a]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),[o,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),[p,g]=(0,s.useState)({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1}),[b,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{y()},[]),(0,s.useEffect)(()=>{if(b){let e=setTimeout(()=>f(null),5e3);return()=>clearTimeout(e)}},[b]);let j=async()=>{if(!m.trim())return void f({type:"error",message:"Please enter a key name"});try{let{data:{user:e}}=await h.db.auth.getUser();if(!e)throw Error("Not authenticated");let t=(()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="sk_";for(let s=0;s<32;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t})(),s=t.substring(0,7),{error:a}=await h.db.from("api_keys").insert({user_id:e.id,name:m,key_prefix:s,key_hash:t,permissions:p,is_active:!0});if(a)throw a;f({type:"success",message:`API key generated: ${t}`}),u(""),g({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1}),x(!1),y()}catch(e){console.error("Error generating API key:",e),f({type:"error",message:e.message||"Failed to generate API key"})}},y=async()=>{c(!0);let[e,t]=await Promise.all([h.db.from("api_keys").select("*").order("created_at",{ascending:!1}),h.db.from("user_permissions").select("*")]);e.data&&a(e.data),t.data&&i(t.data),c(!1)},w=async(e,t)=>{let{error:s}=await h.db.from("api_keys").update({is_active:!t}).eq("id",e);s||y()},T=async e=>{if(!confirm("Are you sure you want to delete this API key?"))return;let{error:t}=await h.db.from("api_keys").delete().eq("id",e);t||y()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage API keys, permissions, and access controls"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,t.jsx)(r.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total API Keys"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Active and inactive"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Keys"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>e.is_active).length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Currently active"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Permissions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:l.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Custom permissions"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"API Keys"}),(0,t.jsxs)("button",{onClick:()=>x(!o),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Generate New Key"]})]}),o&&(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Generate New API Key"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Key Name"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Production API Key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Permissions"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.send_messages,onChange:e=>g({...p,send_messages:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Send Messages"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.read_analytics,onChange:e=>g({...p,read_analytics:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Read Analytics"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.manage_campaigns,onChange:e=>g({...p,manage_campaigns:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Campaigns"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:p.manage_webhooks,onChange:e=>g({...p,manage_webhooks:e.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,t.jsx)("span",{className:"text-sm",children:"Manage Webhooks"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:j,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Generate Key"}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(""),g({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1})},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg font-medium transition-all",children:"Cancel"})]})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(r.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No API keys generated yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Create your first API key to get started"})]}):e.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.name}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold ${e.is_active?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/50":"bg-slate-500/20 text-slate-400 border border-slate-500/50"}`,children:[e.is_active?(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}):(0,t.jsx)(k.default,{className:"w-3 h-3"}),e.is_active?"Active":"Inactive"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsxs)("span",{className:"font-mono",children:[e.key_prefix,"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"]}),(0,t.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]}),e.last_used_at&&(0,t.jsxs)("span",{children:["Last used: ",new Date(e.last_used_at).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(C.default,{className:"w-4 h-4 text-slate-400 group-hover:text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>w(e.id,e.is_active),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:e.is_active?(0,t.jsx)(A.default,{className:"w-4 h-4 text-slate-400 group-hover:text-amber-400"}):(0,t.jsx)(S.default,{className:"w-4 h-4 text-slate-400 group-hover:text-emerald-400"})}),(0,t.jsx)("button",{onClick:()=>T(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})})]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Role Permissions"}),(0,t.jsx)("div",{className:"space-y-4",children:["admin","developer","user"].map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${"admin"===e?"bg-red-500/20":"developer"===e?"bg-blue-500/20":"bg-slate-500/20"}`,children:(0,t.jsx)(n.Shield,{className:`w-5 h-5 ${"admin"===e?"text-red-400":"developer"===e?"text-blue-400":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold capitalize",children:e}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["admin"===e&&"Full system access","developer"===e&&"API and campaign management","user"===e&&"Basic read access"]})]})]}),(0,t.jsx)("button",{className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"Edit Permissions"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:["admin"===e&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs rounded-full border border-emerald-500/30",children:"All Permissions"})}),"developer"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Campaigns"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Channels"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"API Keys"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Messages"})]}),"user"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-500/20 text-slate-400 text-xs rounded-full border border-slate-500/30",children:"View Campaigns"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-500/20 text-slate-400 text-xs rounded-full border border-slate-500/30",children:"View Messages"})]})]})]},e))})]}),b&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,t.jsx)("div",{className:`${"success"===b.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===b.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===b.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===b.type?"text-green-400":"text-red-400"}`,children:"success"===b.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1 break-all",children:b.message})]}),(0,t.jsx)("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var i=i,_=_,k=k,N=N,P=e.i(63906),P=P;let I=[{name:"Twilio",type:"sms_provider",description:"SMS and voice communications",icon:"ðŸ“±"},{name:"SendGrid",type:"email_provider",description:"Email delivery service",icon:"âœ‰ï¸"},{name:"Stripe",type:"payment_gateway",description:"Payment processing",icon:"ðŸ’³"},{name:"Salesforce",type:"crm",description:"Customer relationship management",icon:"ðŸ”µ"},{name:"HubSpot",type:"crm",description:"Marketing and sales CRM",icon:"ðŸŸ "},{name:"Google Analytics",type:"analytics",description:"Web analytics platform",icon:"ðŸ“Š"},{name:"Slack",type:"webhook",description:"Team communication",icon:"ðŸ’¬"},{name:"Zapier",type:"webhook",description:"Automation platform",icon:"âš¡"}];function M(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)({api_key:"",api_secret:"",endpoint:""}),[b,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{y()},[]),(0,s.useEffect)(()=>{if(b){let e=setTimeout(()=>f(null),5e3);return()=>clearTimeout(e)}},[b]);let j=async()=>{if(m)try{let{data:{user:e}}=await h.db.auth.getUser();if(!e)throw Error("Not authenticated");let{error:t}=await h.db.from("integrations").insert({user_id:e.id,name:m.name,type:m.type,config:p,status:"active",is_active:!0});if(t)throw t;f({type:"success",message:`${m.name} connected successfully`}),x(!1),u(null),g({api_key:"",api_secret:"",endpoint:""}),y()}catch(e){console.error("Error connecting integration:",e),f({type:"error",message:e.message||"Failed to connect integration"})}},y=async()=>{r(!0);let{data:e,error:t}=await h.db.from("integrations").select("*").order("created_at",{ascending:!1});t?console.error("Error fetching integrations:",t):a(e||[]),r(!1)},w=async(e,t)=>{let{error:s}=await h.db.from("integrations").update({is_active:!t}).eq("id",e);s||y()},C=async e=>{if(!confirm("Are you sure you want to remove this integration?"))return;let{error:t}=await h.db.from("integrations").delete().eq("id",e);t||y()};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Integrations Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Connect third-party services and manage integrations"})]}),(0,t.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Integration"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,t.jsx)(i.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Integrations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>e.is_active).length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Connected"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-slate-500/20 p-3 rounded-lg",children:(0,t.jsx)(k.default,{className:"w-5 h-5 text-slate-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Inactive"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>!e.is_active).length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Disconnected"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(k.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Errors"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"error"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:"Need attention"})]})]}),n&&(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Available Integrations"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:I.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 hover:border-cyan-500/50 rounded-lg p-4 transition-all group",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"text-4xl",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsx)("button",{onClick:()=>{u(e),x(!0),d(!1)},className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"Connect â†’"})]})]})},e.name))}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg font-medium transition-all",children:"Close"})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Connected Integrations"}),l?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading integrations..."})]}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(i.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"No integrations connected yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Connect your first integration to get started"})]}):(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-3 rounded-lg",children:(0,t.jsx)(i.default,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.name}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold border ${(e=>{switch(e){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"inactive":default:return"bg-slate-500/20 text-slate-400 border-slate-500/50";case"error":return"bg-red-500/20 text-red-400 border-red-500/50"}})(e.status)}`,children:["active"===e.status&&(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"error"===e.status&&(0,t.jsx)(k.default,{className:"w-3 h-3"}),e.status.toUpperCase()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsx)("span",{className:"capitalize",children:e.type.replace("_"," ")}),e.last_synced_at&&(0,t.jsxs)("span",{children:["Last synced: ",new Date(e.last_synced_at).toLocaleString()]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(P.default,{className:"w-4 h-4 text-slate-400 group-hover:text-cyan-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(c.Settings,{className:"w-4 h-4 text-slate-400 group-hover:text-blue-400"})}),(0,t.jsx)("button",{onClick:()=>w(e.id,e.is_active),className:`px-3 py-1 rounded-lg text-xs font-semibold transition-all ${e.is_active?"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:e.is_active?"Enabled":"Disabled"}),(0,t.jsx)("button",{onClick:()=>C(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})})]})]})},e.id))})]}),o&&m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Configure ",m.name]}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null),g({api_key:"",api_secret:"",endpoint:""})},className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Key"}),(0,t.jsx)("input",{type:"text",value:p.api_key,onChange:e=>g({...p,api_key:e.target.value}),placeholder:"Enter API key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Secret"}),(0,t.jsx)("input",{type:"password",value:p.api_secret,onChange:e=>g({...p,api_secret:e.target.value}),placeholder:"Enter API secret",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Endpoint (Optional)"}),(0,t.jsx)("input",{type:"text",value:p.endpoint,onChange:e=>g({...p,endpoint:e.target.value}),placeholder:"https://api.example.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{x(!1),u(null),g({api_key:"",api_secret:"",endpoint:""})},className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:j,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Connect"})]})]})]})}),b&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,t.jsx)("div",{className:`${"success"===b.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===b.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===b.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===b.type?"text-green-400":"text-red-400"}`,children:"success"===b.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:b.message})]}),(0,t.jsx)("button",{onClick:()=>f(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var D=e.i(57951),E=e.i(48256),R=e.i(3116),r=r,L=e.i(69847),L=L;function F(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)({two_factor_enabled:!1,ip_whitelist:[],session_timeout:60,login_notifications:!0,api_rate_limit:1e3,allowed_domains:["*"]}),[i,d]=(0,s.useState)(!0),[c,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(""),[p,g]=(0,s.useState)("");(0,s.useEffect)(()=>{b()},[]);let b=async()=>{if(!e)return;d(!0);let{data:t,error:s}=await h.db.from("security_settings").select("*").eq("user_id",e.id).maybeSingle();s?console.error("Error fetching security settings:",s):t&&l(t),d(!1)},f=async t=>{if(!e)return;x(!0);let s={...a,...t},{error:r}=await h.db.from("security_settings").upsert({user_id:e.id,...s,updated_at:new Date().toISOString()});r?(console.error("Error updating security settings:",r),alert("Failed to update settings")):l(s),x(!1)},j=()=>{m&&!a.ip_whitelist.includes(m)&&(f({ip_whitelist:[...a.ip_whitelist,m]}),u(""))};return i?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading security settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Security Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Configure security settings and access controls"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${a.two_factor_enabled?"bg-emerald-500/20":"bg-slate-500/20"}`,children:(0,t.jsx)(n.Shield,{className:`w-5 h-5 ${a.two_factor_enabled?"text-emerald-400":"text-slate-400"}`,style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"2FA Status"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:a.two_factor_enabled?"Enabled":"Disabled"})]})]}),(0,t.jsx)("p",{className:`text-sm ${a.two_factor_enabled?"text-emerald-400":"text-slate-500"}`,children:a.two_factor_enabled?"Protected":"Not protected"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(E.Globe,{className:"w-5 h-5 text-blue-400",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"IP Whitelist"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:a.ip_whitelist.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Allowed IPs"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,t.jsx)(r.default,{className:"w-5 h-5 text-cyan-400",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"API Rate Limit"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:a.api_rate_limit})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Requests/hour"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Authentication Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-cyan-400",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Two-Factor Authentication"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Add an extra layer of security to your account"})]})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.two_factor_enabled,onChange:e=>f({two_factor_enabled:e.target.checked}),className:"sr-only peer",disabled:c}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(o.Bell,{className:"w-5 h-5 text-blue-400",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Login Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Get notified when someone logs into your account"})]})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.login_notifications,onChange:e=>f({login_notifications:e.target.checked}),className:"sr-only peer",disabled:c}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:(0,t.jsx)(R.Clock,{className:"w-5 h-5 text-purple-400",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Session Timeout"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Automatically log out after period of inactivity"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"15",max:"480",step:"15",value:a.session_timeout,onChange:e=>f({session_timeout:parseInt(e.target.value)}),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer",disabled:c}),(0,t.jsxs)("span",{className:"text-white font-semibold min-w-[80px]",children:[a.session_timeout," min"]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"IP Whitelist"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"===e.key&&m&&!c&&j()},placeholder:"Enter IP address (e.g., 192.168.1.1)",className:"flex-1 bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),(0,t.jsx)("button",{onClick:j,disabled:!m||c,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:"Add"})]})}),(0,t.jsx)("div",{className:"space-y-2",children:0===a.ip_whitelist.length?(0,t.jsx)("p",{className:"text-slate-400 text-center py-8",children:"No IP addresses in whitelist"}):a.ip_whitelist.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsx)("span",{className:"text-white font-mono",children:e}),(0,t.jsx)("button",{onClick:()=>{f({ip_whitelist:a.ip_whitelist.filter(t=>t!==e)})},className:"text-red-400 hover:text-red-300 text-sm font-medium",disabled:c,children:"Remove"})]},e))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"CORS Allowed Domains"}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Enter domain (e.g., example.com)",className:"flex-1 bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),(0,t.jsx)("button",{onClick:()=>{p&&!a.allowed_domains.includes(p)&&(f({allowed_domains:[...a.allowed_domains,p]}),g(""))},disabled:!p||c,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:"Add"})]})}),(0,t.jsx)("div",{className:"space-y-2",children:a.allowed_domains.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-slate-400",style:{color:"#40C706"}}),(0,t.jsx)("span",{className:"text-white font-mono",children:e})]}),"*"!==e&&(0,t.jsx)("button",{onClick:()=>{f({allowed_domains:a.allowed_domains.filter(t=>t!==e)})},className:"text-red-400 hover:text-red-300 text-sm font-medium",disabled:c,children:"Remove"})]},e))})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-amber-500/20 p-3 rounded-lg",children:(0,t.jsx)(L.default,{className:"w-5 h-5 text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-amber-400 font-semibold mb-2",children:"Security Best Practices"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Enable two-factor authentication for enhanced security"}),(0,t.jsx)("li",{children:"â€¢ Use IP whitelisting if you access from fixed locations"}),(0,t.jsx)("li",{children:"â€¢ Regularly rotate your API keys"}),(0,t.jsx)("li",{children:"â€¢ Monitor login notifications for suspicious activity"}),(0,t.jsx)("li",{children:"â€¢ Keep your session timeout reasonable for your use case"})]})]})]})})]})}var x=x,p=p,k=k,f=f,$=e.i(84614),m=m;function q(){let[e,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[i,n]=(0,s.useState)(""),[c,o]=(0,s.useState)("all"),[u,g]=(0,s.useState)("7");(0,s.useEffect)(()=>{b()},[u]);let b=async()=>{r(!0);let e=new Date;e.setDate(e.getDate()-parseInt(u));let{data:t,error:s}=await h.db.from("audit_logs").select(`
        *,
        profiles:user_id (
          email,
          full_name
        )
      `).gte("created_at",e.toISOString()).order("created_at",{ascending:!1}).limit(100);s?console.error("Error fetching audit logs:",s):a(t||[]),r(!1)},j=e.filter(e=>{let t=e.action.toLowerCase().includes(i.toLowerCase())||e.resource_type.toLowerCase().includes(i.toLowerCase())||e.profiles?.email.toLowerCase().includes(i.toLowerCase()),s="all"===c||e.status===c;return t&&s});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Audit Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor and review system activity logs"})]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([["Timestamp,User,Action,Resource,Status,IP Address",...j.map(e=>[new Date(e.created_at).toISOString(),e.profiles?.email||"Unknown",e.action,e.resource_type,e.status,e.ip_address||"N/A"].join(","))].join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`audit-logs-${new Date().toISOString()}.csv`,s.click()},className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Export Logs"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(d.FileText,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Events"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,t.jsxs)("p",{className:"text-slate-500 text-sm",children:["Last ",u," days"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Successful"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"success"===e.status).length})]})]}),(0,t.jsxs)("p",{className:"text-emerald-400 text-sm",children:[e.length>0?(e.filter(e=>"success"===e.status).length/e.length*100).toFixed(1):0,"% success rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(k.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Failed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:e.filter(e=>"failed"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:e.filter(e=>"failed"===e.status).length>0?"Needs attention":"All clear"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,t.jsx)(m.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:new Set(e.map(e=>e.profiles?.email)).size})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Unique users"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by action, resource, or user...",value:i,onChange:e=>n(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"success",children:"Success"}),(0,t.jsx)("option",{value:"failed",children:"Failed"})]}),(0,t.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90",children:"Last 90 days"})]})]}),l?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading audit logs..."})]}):(0,t.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===j.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.FileText,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No audit logs found"})]}):j.map(e=>{var s,a;return(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"text-2xl",children:(s=e.action).includes("create")?"âž•":s.includes("update")?"âœï¸":s.includes("delete")?"ðŸ—‘ï¸":s.includes("login")?"ðŸ”":"ðŸ“"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:`font-semibold ${(a=e.action).includes("create")?"text-emerald-400":a.includes("update")?"text-blue-400":a.includes("delete")?"text-red-400":a.includes("login")?"text-cyan-400":"text-slate-400"}`,children:e.action}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold border ${"success"===e.status?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-red-500/20 text-red-400 border-red-500/50"}`,children:["success"===e.status?(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}):(0,t.jsx)(k.default,{className:"w-3 h-3"}),e.status.toUpperCase()]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-1 text-sm text-slate-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($.User,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.profiles?.email||"Unknown user"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"capitalize",children:e.resource_type})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleString()})]}),e.ip_address&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"font-mono text-xs",children:e.ip_address})})]}),e.error_message&&(0,t.jsx)("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded text-xs text-red-400",children:e.error_message})]})]})})},e.id)})})]})]})}var f=f,U=e.i(49550),U=U,O=e.i(13036),O=O,V=e.i(44609),V=V,z=e.i(51854),z=z;let B=[{id:"dark",name:"Dark",description:"Dark theme for low-light environments"},{id:"light",name:"Light",description:"Light theme for bright environments"},{id:"auto",name:"Auto",description:"Automatically switch based on system"}],K=[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"ms",name:"Bahasa Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{code:"zh",name:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ta",name:"à®¤à®®à®¿à®´à¯",flag:"ðŸ‡®ðŸ‡³"}],W=["Asia/Kuala_Lumpur","Asia/Singapore","Asia/Bangkok","Asia/Jakarta","Asia/Manila","UTC"],G=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD","DD MMM YYYY"],X=["12h","24h"],H=["MYR","USD","SGD","EUR","GBP"];function J(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)({theme:"dark",language:"en",timezone:"Asia/Kuala_Lumpur",date_format:"DD/MM/YYYY",time_format:"24h",currency:"MYR",notifications_enabled:!0,email_notifications:!0,sms_notifications:!1,push_notifications:!0,marketing_emails:!1}),[r,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1),[c,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){x();try{let t=h.db.channel("preferences-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_preferences",filter:`user_id=eq.${e.id}`},()=>x()).subscribe();return()=>{h.db.removeChannel(t)}}catch(e){console.log("Realtime preferences sync not available")}}},[e]),(0,s.useEffect)(()=>{if(c){let e=setTimeout(()=>o(!1),3e3);return()=>clearTimeout(e)}},[c]);let x=async()=>{if(e)try{let{data:t,error:s}=await h.db.from("user_preferences").select("*").eq("user_id",e.id).maybeSingle();if(s){if(s.message?.includes("not found")||s.message?.includes("does not exist"))return void console.log("User preferences table not available, using defaults");console.error("Error loading preferences:",s.message);return}t&&l(t)}catch(e){console.log("Error loading preferences, using defaults:",e)}finally{i(!1)}},m=async()=>{if(e){d(!0);try{let{error:t}=await h.db.from("user_preferences").upsert({user_id:e.id,...a,updated_at:new Date().toISOString()});t?t.message?.includes("not found")||t.message?.includes("does not exist")?(console.log("User preferences table not available, settings saved locally only"),o(!0)):(console.error("Error saving preferences:",t),alert("Failed to save preferences")):o(!0)}catch(e){console.log("Preferences saved locally (database not available)"),o(!0)}finally{d(!1)}}},u=(e,t)=>{l(s=>({...s,[e]:t}))};return r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading preferences..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Preferences"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Customize your experience"})]}),(0,t.jsx)("button",{onClick:m,disabled:n,className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}),"Saved!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.default,{className:"w-5 h-5"}),"Save Changes"]})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:(0,t.jsx)(O.default,{className:"w-6 h-6",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Appearance"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Customize the look and feel"})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Theme"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4",children:B.map(e=>(0,t.jsxs)("button",{onClick:()=>u("theme",e.id),className:`p-4 rounded-lg border-2 transition-all ${a.theme===e.id?"border-cyan-500 bg-cyan-500/20":"border-[#024d30] bg-[#012419]/50 hover:border-[#024d30]/80"}`,children:[(0,t.jsx)("p",{className:"text-white font-semibold mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:e.description})]},e.id))})]})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(V.default,{className:"w-6 h-6",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Language & Region"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Set your language and regional preferences"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Language"}),(0,t.jsx)("select",{value:a.language,onChange:e=>u("language",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:K.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.flag," ",e.name]},e.code))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Timezone"]}),(0,t.jsx)("select",{value:a.timezone,onChange:e=>u("timezone",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:W.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Date Format"]}),(0,t.jsx)("select",{value:a.date_format,onChange:e=>u("date_format",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:G.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Time Format"}),(0,t.jsx)("select",{value:a.time_format,onChange:e=>u("time_format",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:X.map(e=>(0,t.jsx)("option",{value:e,children:"12h"===e?"12-hour (AM/PM)":"24-hour"},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,t.jsx)(U.default,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Currency"]}),(0,t.jsx)("select",{value:a.currency,onChange:e=>u("currency",e.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:H.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Notification Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"All Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Master control for all notifications"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.notifications_enabled,onChange:e=>u("notifications_enabled",e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Email Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive updates via email"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.email_notifications,onChange:e=>u("email_notifications",e.target.checked),disabled:!a.notifications_enabled,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600 disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"SMS Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive updates via SMS"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.sms_notifications,onChange:e=>u("sms_notifications",e.target.checked),disabled:!a.notifications_enabled,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600 disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Push Notifications"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive browser push notifications"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.push_notifications,onChange:e=>u("push_notifications",e.target.checked),disabled:!a.notifications_enabled,className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600 disabled:opacity-50"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Marketing Emails"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive promotional and marketing content"})]}),(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:a.marketing_emails,onChange:e=>u("marketing_emails",e.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]})]})]})]})}var Y=e.i(86311),Q=e.i(43432),z=z;let Z=[{event_type:"campaign_started",label:"Campaign Started",description:"When a new campaign begins"},{event_type:"campaign_completed",label:"Campaign Completed",description:"When a campaign finishes"},{event_type:"campaign_failed",label:"Campaign Failed",description:"When a campaign encounters errors"},{event_type:"low_balance",label:"Low Balance",description:"When account balance is running low"},{event_type:"payment_received",label:"Payment Received",description:"When a payment is processed"},{event_type:"api_key_created",label:"API Key Created",description:"When a new API key is generated"},{event_type:"api_key_revoked",label:"API Key Revoked",description:"When an API key is revoked"},{event_type:"webhook_failed",label:"Webhook Failed",description:"When a webhook delivery fails"},{event_type:"security_alert",label:"Security Alert",description:"Security-related notifications"},{event_type:"system_maintenance",label:"System Maintenance",description:"Scheduled maintenance notifications"}];function ee(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){m();let t=h.db.channel("notification-prefs-changes").on("postgres_changes",{event:"*",schema:"public",table:"notification_preferences",filter:`user_id=eq.${e.id}`},()=>m()).subscribe();return()=>{h.db.removeChannel(t)}}},[e]),(0,s.useEffect)(()=>{if(c){let e=setTimeout(()=>x(!1),3e3);return()=>clearTimeout(e)}},[c]);let m=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("notification_preferences").select("*").eq("user_id",e.id);s?(console.error("Error loading notification preferences:",s),l(Z.map(e=>({...e,email_enabled:!0,sms_enabled:!1,push_enabled:!0,slack_enabled:!1})))):t&&t.length>0?l(t):l(Z.map(e=>({...e,email_enabled:!0,sms_enabled:!1,push_enabled:!0,slack_enabled:!1}))),i(!1)},u=(e,t,s)=>{l(a=>a.map(a=>a.event_type===e?{...a,[t]:s}:a))},p=async()=>{if(e){for(let t of(d(!0),a))await h.db.from("notification_preferences").upsert({user_id:e.id,event_type:t.event_type,email_enabled:t.email_enabled,sms_enabled:t.sms_enabled,push_enabled:t.push_enabled,slack_enabled:t.slack_enabled,updated_at:new Date().toISOString()});x(!0),d(!1)}};return r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading notification settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Notification Preferences"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Control how you receive notifications for different events"})]}),(0,t.jsx)("button",{onClick:p,disabled:n,className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}),"Saved!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.default,{className:"w-5 h-5"}),"Save Changes"]})})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-[#024d30]",children:[(0,t.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Event"}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(b.Mail,{className:"w-4 h-4",style:{color:"#40C706"}}),"Email"]})}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4",style:{color:"#40C706"}}),"SMS"]})}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(o.Bell,{className:"w-4 h-4",style:{color:"#40C706"}}),"Push"]})}),(0,t.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(Q.Phone,{className:"w-4 h-4",style:{color:"#40C706"}}),"Slack"]})})]})}),(0,t.jsx)("tbody",{children:a.map((e,s)=>(0,t.jsxs)("tr",{className:`border-b border-[#024d30]/50 hover:bg-[#012419]/30 transition-colors ${s%2==0?"bg-[#012419]/10":""}`,children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-medium",children:e.label}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.email_enabled,onChange:t=>u(e.event_type,"email_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.sms_enabled,onChange:t=>u(e.event_type,"sms_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.push_enabled,onChange:t=>u(e.event_type,"push_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.slack_enabled,onChange:t=>u(e.event_type,"slack_enabled",t.target.checked),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})})]},e.event_type))})]})})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(o.Bell,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"About Notifications"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Email notifications are sent to your registered email address"}),(0,t.jsx)("li",{children:"â€¢ SMS notifications require a verified phone number"}),(0,t.jsx)("li",{children:"â€¢ Push notifications require browser permissions"}),(0,t.jsx)("li",{children:"â€¢ Slack notifications require a configured webhook"}),(0,t.jsx)("li",{children:"â€¢ You can customize preferences for each event type"})]})]})]})})]})}var x=x,N=N,L=L;let et=[{id:"profile",label:"Profile Data",description:"Your personal information and preferences"},{id:"campaigns",label:"Campaigns",description:"All campaign data and history"},{id:"messages",label:"Messages",description:"Message logs and content"},{id:"transactions",label:"Transactions",description:"Payment and billing history"},{id:"api_keys",label:"API Keys",description:"API key information (excluding secrets)"},{id:"activity_logs",label:"Activity Logs",description:"Your activity and usage logs"}];function es(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[c,o]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)([]),[b,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){j();let t=h.db.channel("exports-changes").on("postgres_changes",{event:"*",schema:"public",table:"data_exports",filter:`user_id=eq.${e.id}`},()=>j()).subscribe();return()=>{h.db.removeChannel(t)}}},[e]);let j=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("data_exports").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});s?console.error("Error loading exports:",s):l(t||[]),i(!1)},y=async()=>{if(!e||0===p.length)return;f(!0);let{error:t}=await h.db.from("data_exports").insert({user_id:e.id,export_type:"partial",status:"pending",data_types:p,expires_at:new Date(Date.now()+6048e5).toISOString()});t?(console.error("Error requesting export:",t),alert("Failed to request export")):(o(!1),g([]),setTimeout(async()=>{let{data:t}=await h.db.from("data_exports").select("id").eq("user_id",e.id).eq("status","pending").order("created_at",{ascending:!1}).limit(1);t&&t[0]&&await h.db.from("data_exports").update({status:"completed",file_url:`https://example.com/exports/${t[0].id}.zip`,completed_at:new Date().toISOString()}).eq("id",t[0].id)},2e3)),f(!1)};return r?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading data privacy settings..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Data & Privacy"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your data, exports, and privacy settings"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(x.default,{className:"w-5 h-5",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Exports"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Data exports requested"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Completed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(e=>"completed"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Ready to download"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,t.jsx)(R.Clock,{className:"w-5 h-5 text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Processing"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(e=>"pending"===e.status||"processing"===e.status).length})]})]}),(0,t.jsx)("p",{className:"text-yellow-400 text-sm",children:"In progress"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Export Your Data"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Download a copy of your data in a portable format"})]}),(0,t.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Request Export"]})]}),0===a.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.FileText,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"No exports yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Request your first data export to get started"})]}):(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsx)("div",{className:"bg-[#012419]/50 border border-[#024d30] rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold border ${(e=>{switch(e){case"completed":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/50";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"failed":return"bg-red-500/20 text-red-400 border-red-500/50";default:return"bg-slate-500/20 text-slate-400 border-slate-500/50"}})(e.status)}`,children:["completed"===e.status&&(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"pending"===e.status&&(0,t.jsx)(R.Clock,{className:"w-3 h-3"}),e.status.toUpperCase()]}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.data_types.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#024d30]/30 text-slate-300 text-xs rounded",children:e},e))}),e.expires_at&&"completed"===e.status&&(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-2",children:["Expires: ",new Date(e.expires_at).toLocaleDateString()]})]}),"completed"===e.status&&e.file_url&&(0,t.jsxs)("a",{href:e.file_url,className:"ml-4 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]})]})},e.id))})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border border-red-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(N.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-red-400 mb-1",children:"Delete Account"}),(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:"Permanently delete your account and all associated data"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:"This action cannot be undone. All your data will be permanently removed."})]})]}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete Account"})]})}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"Data Protection & Privacy"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Your data is encrypted at rest and in transit"}),(0,t.jsx)("li",{children:"â€¢ Data exports are available for 7 days after completion"}),(0,t.jsx)("li",{children:"â€¢ We comply with GDPR and PDPA regulations"}),(0,t.jsx)("li",{children:"â€¢ You have the right to request data deletion at any time"}),(0,t.jsx)("li",{children:"â€¢ Export files are password-protected and encrypted"})]})]})]})}),c&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-[#024d30] rounded-xl p-6 max-w-2xl w-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Request Data Export"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Select the types of data you want to export"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:et.map(e=>(0,t.jsxs)("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${p.includes(e.id)?"border-cyan-500 bg-cyan-500/10":"border-[#024d30] bg-[#012419]/50 hover:border-[#024d30]/80"}`,children:[(0,t.jsx)("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>{var t;return t=e.id,void g(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},className:"mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-semibold",children:e.label}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]})]},e.id))}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{o(!1),g([])},className:"flex-1 bg-[#024d30]/30 hover:bg-[#024d30]/50 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:y,disabled:0===p.length||b,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Processing...":`Export ${p.length} Type${1!==p.length?"s":""}`})]})]})}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-[#012419] border border-red-500/50 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,t.jsx)(L.default,{className:"w-6 h-6 text-red-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-red-400",children:"Delete Account?"})]}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:[(0,t.jsx)("p",{className:"text-red-400 text-sm font-semibold mb-2",children:"The following will be deleted:"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ All campaigns and message history"}),(0,t.jsx)("li",{children:"â€¢ API keys and integrations"}),(0,t.jsx)("li",{children:"â€¢ Payment history and transaction data"}),(0,t.jsx)("li",{children:"â€¢ All settings and preferences"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>u(!1),className:"flex-1 bg-[#024d30]/30 hover:bg-[#024d30]/50 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{alert("Account deletion would be processed here"),u(!1)},className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete Account"})]})]})})]})}var m=m,p=p,f=f,ea=e.i(55607),ea=ea,el=e.i(38745),el=el,P=P;let er={created:"bg-emerald-500/20 text-emerald-400",updated:"bg-blue-500/20 text-blue-400",deleted:"bg-red-500/20 text-red-400",login:"bg-cyan-500/20 text-cyan-400",logout:"bg-slate-500/20 text-slate-400",export:"bg-purple-500/20 text-purple-400",import:"bg-yellow-500/20 text-yellow-400"},ei={created:"âœ¨",updated:"ðŸ“",deleted:"ðŸ—‘ï¸",login:"ðŸ”“",logout:"ðŸ”’",export:"ðŸ“¤",import:"ðŸ“¥",viewed:"ðŸ‘ï¸",downloaded:"â¬‡ï¸"};function en(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[n,d]=(0,s.useState)(!0),[c,o]=(0,s.useState)(""),[x,u]=(0,s.useState)("all"),[g,b]=(0,s.useState)("all"),[j,N]=(0,s.useState)("all"),[v,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){w();let t=h.db.channel("activity-logs-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"activity_logs",filter:`user_id=eq.${e.id}`},e=>{l(t=>[e.new,...t])}).subscribe();return()=>{h.db.removeChannel(t)}}},[e]),(0,s.useEffect)(()=>{k()},[a,c,x,g,j]);let w=async()=>{if(!e)return;d(!0);let{data:t,error:s}=await h.db.from("activity_logs").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(100);s?console.error("Error loading activity logs:",s):l(t||[]),d(!1)},_=async()=>{y(!0),await w(),setTimeout(()=>y(!1),500)},k=()=>{let e=[...a];if(c&&(e=e.filter(e=>e.action.toLowerCase().includes(c.toLowerCase())||e.resource_type.toLowerCase().includes(c.toLowerCase())||e.ip_address?.toLowerCase().includes(c.toLowerCase()))),"all"!==x&&(e=e.filter(e=>e.action===x)),"all"!==g&&(e=e.filter(e=>e.resource_type===g)),"all"!==j){let t=new Date,s=new Date;switch(j){case"1h":s.setHours(t.getHours()-1);break;case"24h":s.setHours(t.getHours()-24);break;case"7d":s.setDate(t.getDate()-7);break;case"30d":s.setDate(t.getDate()-30)}e=e.filter(e=>new Date(e.created_at)>=s)}i(e)},C=Array.from(new Set(a.map(e=>e.action))),S=Array.from(new Set(a.map(e=>e.resource_type)));return n?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading activity logs..."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Activity Logs"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor your account activity in real-time"})]}),(0,t.jsxs)("button",{onClick:_,disabled:v,className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:[(0,t.jsx)(P.default,{className:`w-4 h-4 ${v?"animate-spin":""}`}),"Refresh"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,t.jsx)(m.default,{className:"w-5 h-5",style:{color:"#40C706"}})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Events"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"All time"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(f.default,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Last 24h"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(e=>new Date(e.created_at)>new Date(Date.now()-864e5)).length})]})]}),(0,t.jsx)("p",{className:"text-blue-400 text-sm",children:"Recent activity"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:(0,t.jsx)(ea.default,{className:"w-5 h-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Unique IPs"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:new Set(a.map(e=>e.ip_address).filter(Boolean)).size})]})]}),(0,t.jsx)("p",{className:"text-purple-400 text-sm",children:"Locations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,t.jsx)(el.default,{className:"w-5 h-5 text-emerald-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Actions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:C.length})]})]}),(0,t.jsx)("p",{className:"text-emerald-400 text-sm",children:"Types"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,t.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:"Search activity...",className:"w-full bg-[#012419] border border-[#024d30] rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})}),(0,t.jsxs)("select",{value:x,onChange:e=>u(e.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"all",children:"All Actions"}),C.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"all",children:"All Resources"}),S.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"all",children:"All Time"}),(0,t.jsx)("option",{value:"1h",children:"Last Hour"}),(0,t.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,t.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,t.jsx)("option",{value:"30d",children:"Last 30 Days"})]})]}),0===r.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(m.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"No activity logs found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Try adjusting your filters"})]}):(0,t.jsx)("div",{className:"space-y-2",children:r.map(e=>{let s,a,l,r,i;return(0,t.jsx)("div",{className:"bg-[#012419]/50 border border-[#024d30] rounded-lg p-4 hover:bg-[#012419]/70 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"text-2xl",children:ei[e.action]||"ðŸ“‹"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${er[e.action]||"bg-slate-500/20 text-slate-400"}`,children:e.action.toUpperCase()}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:(s=new Date(e.created_at),i=Math.floor((r=Math.floor((l=Math.floor((a=Math.floor((new Date().getTime()-s.getTime())/1e3))/60))/60))/24),a<60?"Just now":l<60?`${l}m ago`:r<24?`${r}h ago`:i<7?`${i}d ago`:s.toLocaleDateString())}),(0,t.jsx)("span",{className:"text-slate-500 text-sm",children:"â€¢"}),(0,t.jsx)("span",{className:"text-slate-400 text-sm capitalize",children:e.resource_type}),e.resource_id&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-slate-500 text-sm",children:"â€¢"}),(0,t.jsxs)("span",{className:"text-slate-500 text-xs font-mono",children:[e.resource_id.substring(0,8),"..."]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[e.ip_address&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ea.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"font-mono",children:e.ip_address})]}),e.user_agent&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(el.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"truncate max-w-[300px]",children:e.user_agent})]})]})]})]})},e.id)})})]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(m.default,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"About Activity Logs"}),(0,t.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Activity logs are updated in real-time"}),(0,t.jsx)("li",{children:"â€¢ Logs are retained for 90 days"}),(0,t.jsx)("li",{children:"â€¢ Includes IP addresses and user agents for security"}),(0,t.jsx)("li",{children:"â€¢ Can be exported along with your data"}),(0,t.jsx)("li",{children:"â€¢ Helps you monitor unauthorized access"})]})]})]})})]})}let ed=[{id:"preferences",label:"Preferences",icon:c.Settings},{id:"users",label:"User Management",icon:l.default},{id:"access",label:"Access Management",icon:r.default},{id:"integrations",label:"Integrations",icon:i.default},{id:"security",label:"Security",icon:n.Shield},{id:"notifications",label:"Notifications",icon:o.Bell},{id:"privacy",label:"Data & Privacy",icon:x.default},{id:"activity",label:"Activity",icon:m.default},{id:"audit",label:"Audit Logs",icon:d.FileText}];function ec(){let[e,a]=(0,s.useState)("preferences");return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-[#013221] p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Settings"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your platform configuration and preferences"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-2xl overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-[#024d30]",children:(0,t.jsx)("div",{className:"flex overflow-x-auto",children:ed.map(s=>{let l=s.icon,r=e===s.id;return(0,t.jsxs)("button",{onClick:()=>a(s.id),className:`flex items-center gap-3 px-6 py-4 font-medium transition-all relative whitespace-nowrap ${r?"text-cyan-400 bg-[#024d30]/50":"text-slate-400 hover:text-white hover:bg-[#024d30]/30"}`,children:[(0,t.jsx)(l,{className:"w-5 h-5",style:{color:"#40C706"}}),s.label,r&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-cyan-500 to-blue-500"})]},s.id)})})}),(0,t.jsx)("div",{className:"p-8",children:(()=>{switch(e){case"preferences":default:return(0,t.jsx)(J,{});case"users":return(0,t.jsx)(w,{});case"access":return(0,t.jsx)(T,{});case"integrations":return(0,t.jsx)(M,{});case"security":return(0,t.jsx)(F,{});case"notifications":return(0,t.jsx)(ee,{});case"privacy":return(0,t.jsx)(es,{});case"activity":return(0,t.jsx)(en,{});case"audit":return(0,t.jsx)(q,{})}})()})]})]})}var eo=e.i(88844),p=p,ex=e.i(55087),ex=ex,em=e.i(1928),eh=e.i(78745),eh=eh,eu=e.i(17079),eu=eu,ep=e.i(78716),eg=e.i(31245),eb=e.i(25652),l=l,ef=e.i(76144),ef=ef,ej=e.i(52571),eN=e.i(63921),eN=eN;function ev(){let e,{user:a}=(0,D.useAuth)(),[r,i]=(0,s.useState)([]),[d,c]=(0,s.useState)(""),[o,x]=(0,s.useState)("All"),[m,u]=(0,s.useState)(null),[g,b]=(0,s.useState)(!0),[f,j]=(0,s.useState)(null),[N,v]=(0,s.useState)(null),[w,_]=(0,s.useState)("grid"),k=[{id:"All",name:"All Products",icon:eo.Package,color:"cyan"},{id:"Messaging",name:"Messaging",icon:Y.MessageSquare,color:"blue"},{id:"Voice",name:"Voice & Calling",icon:Q.Phone,color:"green"},{id:"Video",name:"Video",icon:ep.Video,color:"purple"},{id:"Bot",name:"AI & Bots",icon:eg.Bot,color:"orange"},{id:"Social",name:"Social",icon:l.default,color:"pink"}];(0,s.useEffect)(()=>{C()},[]),(0,s.useEffect)(()=>{if(N){let e=setTimeout(()=>v(null),5e3);return()=>clearTimeout(e)}},[N]);let C=async()=>{b(!0);try{let{data:e,error:t}=await h.db.from("products").select("*").eq("status","active").order("name");if(t)throw t;let{data:s,error:a}=await h.db.from("product_tiers").select("*").order("sort_order");if(a)throw a;let l=(e||[]).map(e=>({...e,features:e.features||[],tiers:(s||[]).filter(t=>t.product_id===e.id)}));i(l)}catch(e){console.error("Error loading products:",e)}finally{b(!1)}},S=async(e,t)=>{if(!a)return void v({type:"error",message:"Please log in to add items to cart"});j(t.id);try{let s=Number(t.price)+Number(t.setup_fee),{error:l}=await h.db.from("cart_items").insert({user_id:a.id,item_type:"product_tier",item_data:{product_name:e.name,product_sku:e.sku,tier_name:t.tier_name,tier_sku:t.tier_sku,description:t.description,price:t.price,setup_fee:t.setup_fee,price_unit:t.price_unit,features:t.features,support_level:t.support_level},quantity:1,unit_price:s,total_price:s});if(l)throw l;v({type:"success",message:`${e.name} (${t.tier_name}) added to cart`})}catch(e){console.error("Error adding to cart:",e),v({type:"error",message:e.message||"Failed to add to cart"})}finally{j(null)}},A=r.filter(e=>{let t=e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase())||e.sku.toLowerCase().includes(d.toLowerCase()),s="All"===o||e.category===o;return t&&s}),T=e=>{switch(e){case"Messaging":return"from-blue-500/20 to-cyan-500/20 border-blue-500/30";case"Social":return"from-pink-500/20 to-rose-500/20 border-pink-500/30";case"Voice":return"from-green-500/20 to-emerald-500/20 border-green-500/30";case"Video":return"from-purple-500/20 to-violet-500/20 border-purple-500/30";case"Bot":return"from-orange-500/20 to-amber-500/20 border-orange-500/30";default:return"from-slate-500/20 to-slate-600/20 border-slate-500/30"}},P=e=>{switch(e){case"Messaging":return"text-blue-400";case"Social":return"text-pink-400";case"Voice":return"text-green-400";case"Video":return"text-purple-400";case"Bot":return"text-orange-400";default:return"text-slate-400"}},I=e=>{switch(e){case"Basic":default:return"bg-slate-500/20 text-slate-300 border-slate-500/50";case"Standard":return"bg-blue-500/20 text-blue-300 border-blue-500/50";case"Premium":return"bg-purple-500/20 text-purple-300 border-purple-500/50";case"Enterprise":return"bg-gradient-to-r from-orange-500/20 to-amber-500/20 text-orange-300 border-orange-500/50"}},M=e=>{let t=k.find(t=>t.id===e);return t?.icon||eo.Package};return g?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading products..."})]})}):(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,t.jsxs)("div",{className:"relative bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10 border-b border-slate-700",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"}),(0,t.jsx)("div",{className:"relative p-8 md:p-12",children:(0,t.jsxs)("div",{className:"max-w-4xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-xl",children:(0,t.jsx)(eo.Package,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h1",{className:"text-5xl font-bold text-white",children:"Product Catalog"})]}),(0,t.jsx)("p",{className:"text-xl text-slate-300 mb-6",children:"Explore our comprehensive suite of communication APIs and services. Choose the perfect plan for your business needs."}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:"99.9% Uptime"}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Enterprise SLA"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(E.Globe,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:"Global Coverage"}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"200+ Countries"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:"Secure & Compliant"}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"SOC 2, GDPR"})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search products...",value:d,onChange:e=>c(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl pl-12 pr-4 py-3.5 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"}),d&&(0,t.jsx)("button",{onClick:()=>c(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:k.map(e=>{let s=e.icon,a=o===e.id;return(0,t.jsxs)("button",{onClick:()=>x(e.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border-2 font-medium whitespace-nowrap transition-all ${a?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border-cyan-500 text-cyan-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600 hover:text-slate-300"}`,children:[(0,t.jsx)(s,{className:"w-5 h-5"}),e.name]},e.id)})})]}),(0,t.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,t.jsxs)("p",{className:"text-slate-400",children:["Showing ",(0,t.jsx)("span",{className:"text-white font-semibold",children:A.length})," product",1!==A.length?"s":""]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:A.map(e=>{var s,a;let l=M(e.category);return(0,t.jsxs)("div",{className:"group bg-slate-800/50 border border-slate-700 rounded-2xl overflow-hidden hover:border-slate-600 transition-all hover:shadow-xl hover:shadow-cyan-500/10 cursor-pointer",onClick:()=>u(e),children:[(0,t.jsxs)("div",{className:`bg-gradient-to-br ${T(e.category)} border-b p-6`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-800/50 rounded-xl border border-slate-700/50",children:(0,t.jsx)(l,{className:`w-8 h-8 ${P(e.category)}`})}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-900/50 text-slate-300 text-xs font-medium rounded-full border border-slate-700",children:e.category})]}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:e.name}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ex.default,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"text-xs font-mono text-slate-400",children:e.sku})]})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-2 mb-4",children:[(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Starting from"}),(0,t.jsx)("span",{className:"text-3xl font-bold text-white",children:e.tiers.length>0?(s=e.tiers[0].price,"month"===(a=e.tiers[0].price_unit)?`RM ${s.toFixed(2)}/mo`:`RM ${s.toFixed(4)}/${a}`):"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)("div",{className:"flex -space-x-2",children:e.tiers.slice(0,4).map((e,s)=>(0,t.jsx)("div",{className:`w-8 h-8 rounded-full border-2 border-slate-800 flex items-center justify-center text-xs font-bold ${I(e.tier_name)}`,title:e.tier_name,children:e.tier_name[0]},e.id))}),(0,t.jsxs)("span",{className:"text-sm text-slate-400",children:[e.tiers.length," pricing tier",1!==e.tiers.length?"s":""]})]}),(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation(),u(e)},className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 group",children:["View Plans",(0,t.jsx)(eN.default,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]},e.id)})}),0===A.length&&(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-16 text-center",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(eo.Package,{className:"w-10 h-10 text-slate-500"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-3",children:"No products found"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"We couldn't find any products matching your search criteria. Try adjusting your filters or search terms."}),(0,t.jsx)("button",{onClick:()=>{c(""),x("All")},className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Clear Filters"})]})})]}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-7xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:`bg-gradient-to-br ${T(m.category)} border-b border-slate-700 p-8 sticky top-0 z-10`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:(e=M(m.category),(0,t.jsx)(e,{className:`w-10 h-10 ${P(m.category)}`}))}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-white",children:m.name}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-900/50 text-slate-300 text-sm font-medium rounded-full border border-slate-700",children:m.category})]}),(0,t.jsx)("p",{className:"text-slate-300 text-lg mb-3",children:m.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ex.default,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"text-sm font-mono text-slate-400",children:m.sku})]})]})]}),(0,t.jsx)("button",{onClick:()=>u(null),className:"p-2 hover:bg-slate-800/50 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]})}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,t.jsx)(ef.default,{className:"w-7 h-7 text-cyan-400"}),"Choose Your Plan"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:m.tiers.map(e=>(0,t.jsxs)("div",{className:`relative bg-slate-800/50 border-2 rounded-2xl p-6 transition-all hover:scale-105 ${e.is_popular?"border-cyan-500 shadow-lg shadow-cyan-500/25":"border-slate-700 hover:border-slate-600"}`,children:[e.is_popular&&(0,t.jsx)("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-xs font-bold px-4 py-1.5 rounded-full flex items-center gap-1 shadow-lg",children:[(0,t.jsx)(eu.default,{className:"w-3 h-3 fill-current"}),"MOST POPULAR"]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:`inline-block px-3 py-1.5 rounded-lg text-sm font-bold mb-4 border ${I(e.tier_name)}`,children:e.tier_name}),(0,t.jsxs)("div",{className:"flex items-baseline gap-2 mb-2",children:[(0,t.jsxs)("span",{className:"text-4xl font-bold text-white",children:["RM ",e.price.toFixed(2)]}),(0,t.jsxs)("span",{className:"text-slate-400",children:["/",e.price_unit]})]}),e.setup_fee>0&&(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:["+ RM ",e.setup_fee.toFixed(2)," setup fee"]}),(0,t.jsx)("p",{className:"text-sm text-slate-300 mt-3 min-h-[40px]",children:e.description})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(n.Shield,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-slate-300",children:[e.support_level," Support"]})]}),e.max_users&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.default,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Up to ",e.max_users.toLocaleString()," users"]})]}),e.max_volume&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(eb.TrendingUp,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-slate-300",children:[e.max_volume.toLocaleString()," volume"]})]}),e.features&&Object.entries(e.features).slice(0,3).map(([e,s])=>(0,t.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,t.jsx)(eh.default,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("span",{className:"text-slate-300",children:[e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()),": ","boolean"==typeof s?s?"Yes":"No":s.toString()]})]},e))]}),(0,t.jsx)("button",{onClick:()=>S(m,e),disabled:f===e.id,className:`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${e.is_popular?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white shadow-lg shadow-cyan-500/25":"bg-slate-700 hover:bg-slate-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:f===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(em.ShoppingCart,{className:"w-5 h-5"}),"Buy Now"]})})]},e.id))}),(0,t.jsx)("div",{className:"mt-8 bg-blue-500/10 border border-blue-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(ej.Info,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Need help choosing?"}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Our sales team can help you find the perfect plan for your business needs."}),(0,t.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Contact Sales"})]})]})})]})]})}),N&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===N.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-xl p-4 max-w-md shadow-xl`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===N.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===N.type?(0,t.jsx)(eh.default,{className:"w-5 h-5 text-white"}):(0,t.jsx)(y.X,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===N.type?"text-green-400":"text-red-400"}`,children:"success"===N.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:N.message})]}),(0,t.jsx)("button",{onClick:()=>v(null),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})})})]})}var ey=e.i(61659),x=x,U=U,f=f,_=_,x=x,ew=e.i(83635),ew=ew,e_=e.i(49715),e_=e_,ek=e.i(24274),ek=ek;function eC({invoiceId:e,onClose:a}){let[l,r]=(0,s.useState)(null),[i,n]=(0,s.useState)([]),[c,o]=(0,s.useState)(null),[m,u]=(0,s.useState)(!0),[p,g]=(0,s.useState)("");(0,s.useEffect)(()=>{f()},[e]);let f=async()=>{try{let{data:t,error:s}=await h.db.from("invoices").select("*").eq("id",e).single();if(s)throw s;let{data:a,error:l}=await h.db.from("invoice_items").select("*").eq("invoice_id",e);if(l)throw l;let{data:i}=await h.db.from("company_settings").select("*").limit(1).maybeSingle(),d={company_name:"RAPIDACOM SDN BHD",company_registration_number:"202201234567 (1234567-A)",sst_registration_number:"W10-1808-32000123",tin:"202201234567",msic_code:"61100",address_line1:"Level 10, Menara RapidaCOM",address_line2:"Jalan Sultan Ismail",city:"Kuala Lumpur",state:"Wilayah Persekutuan",postal_code:"50250",country:"Malaysia",phone:"+603-2181-8888",email:"billing@rapidacom.com",bank_name:"Malayan Banking Berhad (Maybank)",bank_account_number:"514012345678",bank_account_name:"RAPIDACOM SDN BHD"},c=t.myinvois_uuid||j(t.invoice_number),x=t.myinvois_validation_link||`https://myinvois.hasil.gov.my/verify/${c}`,m={...t,myinvois_uuid:c,myinvois_submission_date:t.myinvois_submission_date||t.invoice_date,myinvois_validation_link:x};r(m),n(a||[]),o(i||d);let u=N(m,i||d);g(u)}catch(e){console.error("Error loading invoice:",e),alert("Failed to load invoice")}finally{u(!1)}},j=e=>{let t=Date.now().toString(36),s=Math.random().toString(36).substring(2,15);return`${e}-${t}-${s}`.toUpperCase()},N=(e,t)=>{let s=[t.company_name,t.company_registration_number,e.myinvois_uuid||"",e.invoice_date,e.total_amount.toFixed(2),e.sst_amount.toFixed(2),e.myinvois_validation_link||""].join("|");return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(s)}`},v=async()=>{alert("Email functionality will be implemented with email service integration")};return m?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"bg-white rounded-lg p-8",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"})})}):l&&c?(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"print:hidden flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Malaysian E-Invoice"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"MyInvois Compliant"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:v,className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Email Invoice",children:(0,t.jsx)(b.Mail,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{let e=window.open("","","width=800,height=600");if(!e)return;let t=document.getElementById("invoice-content");t&&(e.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${l?.invoice_number}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              padding: 20px;
              color: #1e293b;
            }
            .invoice-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
            }
            .invoice-header {
              border-bottom: 2px solid #0ea5e9;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .company-info h1 {
              font-size: 24px;
              font-weight: bold;
              color: #0ea5e9;
              margin-bottom: 8px;
            }
            .company-info p {
              font-size: 13px;
              color: #64748b;
              line-height: 1.6;
            }
            .invoice-details {
              display: flex;
              justify-content: space-between;
              margin-bottom: 30px;
            }
            .invoice-meta h2 {
              font-size: 28px;
              font-weight: bold;
              color: #0f172a;
              margin-bottom: 12px;
            }
            .invoice-meta .meta-item {
              display: flex;
              gap: 12px;
              margin-bottom: 6px;
            }
            .invoice-meta .label {
              font-size: 13px;
              color: #64748b;
              width: 120px;
            }
            .invoice-meta .value {
              font-size: 13px;
              color: #0f172a;
              font-weight: 500;
            }
            .status-badge {
              display: inline-block;
              padding: 4px 12px;
              border-radius: 12px;
              font-size: 11px;
              font-weight: 600;
              text-transform: uppercase;
              background: #dcfce7;
              color: #166534;
            }
            .customer-section {
              background: #f8fafc;
              padding: 20px;
              border-radius: 8px;
              margin-bottom: 30px;
            }
            .customer-section h3 {
              font-size: 14px;
              font-weight: 600;
              color: #0f172a;
              margin-bottom: 12px;
            }
            .customer-section p {
              font-size: 13px;
              color: #475569;
              line-height: 1.6;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 30px;
            }
            thead {
              background: #0ea5e9;
              color: white;
            }
            th {
              padding: 12px;
              text-align: left;
              font-size: 12px;
              font-weight: 600;
              text-transform: uppercase;
            }
            td {
              padding: 12px;
              border-bottom: 1px solid #e2e8f0;
              font-size: 13px;
            }
            tbody tr:hover {
              background: #f8fafc;
            }
            .text-right {
              text-align: right;
            }
            .summary {
              max-width: 350px;
              margin-left: auto;
            }
            .summary-row {
              display: flex;
              justify-content: space-between;
              padding: 8px 0;
              font-size: 13px;
            }
            .summary-row.total {
              border-top: 2px solid #0ea5e9;
              padding-top: 12px;
              margin-top: 8px;
              font-size: 16px;
              font-weight: bold;
              color: #0ea5e9;
            }
            .footer {
              margin-top: 40px;
              padding-top: 20px;
              border-top: 1px solid #e2e8f0;
            }
            .footer p {
              font-size: 12px;
              color: #64748b;
              line-height: 1.6;
            }
            .qr-section {
              text-align: center;
              margin-top: 30px;
              padding: 20px;
              background: #f8fafc;
              border-radius: 8px;
            }
            .qr-section p {
              font-size: 11px;
              color: #64748b;
              margin-top: 8px;
            }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          ${t.innerHTML}
        </body>
      </html>
    `),e.document.close(),e.focus(),setTimeout(()=>{e.print(),e.close()},250))},className:"p-2 text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Download as PDF",children:(0,t.jsx)(x.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{if(!l)return;let e=new Blob([JSON.stringify({invoice:l,items:i,company:c,generated_at:new Date().toISOString()},null,2)],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`invoice-${l.invoice_number}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"p-2 text-slate-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download JSON Data",children:(0,t.jsx)(d.FileText,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{if(!l||!i.length)return;let e="Invoice Details\n";e+=`Invoice Number,${l.invoice_number}
Invoice Date,${l.invoice_date}
Due Date,${l.due_date}
Customer,${l.customer_name}
Status,${l.status}

Line Items
Description,Quantity,Unit Price,Amount
`,i.forEach(t=>{e+=`"${t.description}",${t.quantity},${t.unit_price},${t.amount}
`});let t=new Blob([e+=`
Summary
Subtotal,${l.subtotal}
SST (${l.sst_rate}%),${l.sst_amount}
Total,${l.total_amount}
`],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`invoice-${l.invoice_number}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},className:"p-2 text-slate-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Download CSV",children:(0,t.jsx)(ek.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{window.print()},className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",title:"Print",children:(0,t.jsx)(ew.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:a,className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})]}),(0,t.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,t.jsxs)("div",{className:"p-8 bg-white",id:"invoice-content",children:[(0,t.jsx)("div",{className:"mb-6 pb-6 border-b-4 border-emerald-600",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-1",children:c.company_name}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["Co. Reg. No.: ",c.company_registration_number]}),c.sst_registration_number&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["SST Reg. No.: ",c.sst_registration_number]}),c.tin&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["TIN: ",c.tin]}),c.msic_code&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["MSIC Code: ",c.msic_code]}),(0,t.jsxs)("div",{className:"text-slate-600 text-sm space-y-0.5 mt-2",children:[(0,t.jsx)("p",{children:c.address_line1}),c.address_line2&&(0,t.jsx)("p",{children:c.address_line2}),(0,t.jsxs)("p",{children:[c.postal_code," ",c.city]}),(0,t.jsxs)("p",{children:[c.state,", ",c.country]}),(0,t.jsxs)("p",{className:"mt-2",children:["Tel: ",c.phone]}),(0,t.jsxs)("p",{children:["Email: ",c.email]})]})]}),(0,t.jsxs)("div",{className:"text-right ml-6",children:[p&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("img",{src:p,alt:"MyInvois QR Code",className:"w-32 h-32 mx-auto border-2 border-slate-200 rounded"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Scan to verify"})]}),(0,t.jsx)("span",{className:`inline-block px-4 py-2 rounded-lg text-sm font-bold border-2 ${(e=>{switch(e){case"paid":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"issued":return"bg-blue-100 text-blue-800 border-blue-300";case"overdue":return"bg-red-100 text-red-800 border-red-300";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-slate-100 text-slate-800 border-slate-300"}})(l.status)}`,children:l.status.toUpperCase()})]})]})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-600 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(e_.default,{className:"w-5 h-5 text-emerald-600"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-emerald-900",children:"TAX INVOICE / E-INVOICE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"MyInvois UUID:"}),(0,t.jsx)("p",{className:"font-mono text-xs text-slate-900 break-all",children:l.myinvois_uuid})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Submission Date:"}),(0,t.jsx)("p",{className:"text-slate-900",children:new Date(l.myinvois_submission_date||l.invoice_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]})]}),l.myinvois_validation_link&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold text-sm",children:"Validation:"}),(0,t.jsx)("p",{className:"text-xs text-blue-600 break-all",children:l.myinvois_validation_link})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded",children:"Bill To"}),(0,t.jsxs)("div",{className:"text-slate-900",children:[(0,t.jsx)("p",{className:"font-bold text-lg mb-1",children:l.customer_name}),l.customer_company&&(0,t.jsx)("p",{className:"font-semibold text-slate-700",children:l.customer_company}),l.customer_registration_number&&(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Co. Reg. No.: ",l.customer_registration_number]}),l.customer_tin&&(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["TIN: ",l.customer_tin]}),l.customer_sst_number&&(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["SST No.: ",l.customer_sst_number]}),l.customer_address&&(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-2 whitespace-pre-line",children:l.customer_address}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:l.customer_email})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded",children:"Invoice Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Invoice No.:"}),(0,t.jsx)("span",{className:"font-bold text-slate-900",children:l.invoice_number})]}),(0,t.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Invoice Date:"}),(0,t.jsx)("span",{className:"text-slate-900",children:new Date(l.invoice_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Due Date:"}),(0,t.jsx)("span",{className:"text-slate-900",children:new Date(l.due_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Currency:"}),(0,t.jsx)("span",{className:"text-slate-900 font-bold",children:l.currency})]})]})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-slate-800 text-white",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 font-bold text-sm",children:"Description"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 font-bold text-sm",children:"Qty"}),(0,t.jsxs)("th",{className:"text-right py-3 px-4 font-bold text-sm",children:["Unit Price",(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"text-xs",children:["(",l.currency,")"]})]}),(0,t.jsxs)("th",{className:"text-right py-3 px-4 font-bold text-sm",children:["Amount",(0,t.jsx)("br",{}),(0,t.jsxs)("span",{className:"text-xs",children:["(",l.currency,")"]})]})]})}),(0,t.jsx)("tbody",{children:i.map((e,s)=>(0,t.jsxs)("tr",{className:`border-b border-slate-200 ${s%2==0?"bg-slate-50":"bg-white"}`,children:[(0,t.jsxs)("td",{className:"py-3 px-4 text-slate-900",children:[(0,t.jsx)("p",{className:"font-medium",children:e.description}),e.classification_code&&(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Classification: ",e.classification_code]})]}),(0,t.jsx)("td",{className:"text-center py-3 px-4 text-slate-900",children:e.quantity}),(0,t.jsx)("td",{className:"text-right py-3 px-4 text-slate-900",children:e.unit_price.toFixed(2)}),(0,t.jsx)("td",{className:"text-right py-3 px-4 text-slate-900 font-semibold",children:e.amount.toFixed(2)})]},e.id))})]})}),(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsxs)("div",{className:"w-96",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-slate-700 text-sm",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Subtotal:"}),(0,t.jsxs)("span",{className:"font-bold",children:[l.currency," ",l.subtotal.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-slate-700 text-sm border-t border-slate-300 pt-2",children:[(0,t.jsxs)("span",{className:"font-semibold",children:["Sales & Service Tax (SST @ ",l.sst_rate,"%):"]}),(0,t.jsxs)("span",{className:"font-bold",children:[l.currency," ",l.sst_amount.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-lg font-bold text-white bg-emerald-600 px-4 py-3 rounded-lg mt-3",children:[(0,t.jsx)("span",{children:"TOTAL AMOUNT:"}),(0,t.jsxs)("span",{children:[l.currency," ",l.total_amount.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"text-center text-xs text-slate-600 mt-2",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Amount in Words:"}),(0,t.jsxs)("p",{className:"italic",children:[function(e){if(0===e)return"Zero";let[t,s]=e.toFixed(2).split("."),a=parseInt(t),l="";if(a>=1e6){l+=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"][Math.floor(a/1e6)]+" Million ";let e=a%1e6;e>0&&(l+=eS(e))}else l=eS(a);return parseInt(s)>0&&(l+=` and ${s}/100`),l.trim()}(l.total_amount)," ",l.currency," Only"]})]})]})}),l.notes&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 border-l-4 border-amber-400 rounded",children:[(0,t.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Notes:"}),(0,t.jsx)("p",{className:"text-slate-700 text-sm whitespace-pre-line",children:l.notes})]}),(0,t.jsxs)("div",{className:"border-t-2 border-slate-300 pt-6 mb-4",children:[(0,t.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Payment Terms & Conditions:"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm mb-4",children:l.payment_terms}),c.bank_name&&c.bank_account_number&&(0,t.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4 mb-4",children:[(0,t.jsxs)("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Bank Transfer Details:"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Bank Name:"}),(0,t.jsx)("p",{className:"font-bold text-slate-900",children:c.bank_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Account Number:"}),(0,t.jsx)("p",{className:"font-bold text-slate-900",children:c.bank_account_number})]}),c.bank_account_name&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-600 font-semibold",children:"Account Name:"}),(0,t.jsx)("p",{className:"font-bold text-slate-900",children:c.bank_account_name})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded p-3 text-xs text-slate-600",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"Important Information:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,t.jsx)("li",{children:"This is a computer-generated e-invoice and does not require a signature"}),(0,t.jsx)("li",{children:"This invoice has been submitted to MyInvois portal in compliance with Malaysian Digital Economy regulations"}),(0,t.jsx)("li",{children:"Payment should be made to the bank account specified above"}),(0,t.jsx)("li",{children:"Please quote the invoice number in your payment reference"}),(0,t.jsxs)("li",{children:["For any queries, please contact us at ",c.email," or ",c.phone]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-300 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"This E-Invoice is MyInvois Compliant"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Generated on: ",new Date().toLocaleString("en-MY")]})]})]})})]}),(0,t.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #invoice-content,
          #invoice-content * {
            visibility: visible;
          }
          #invoice-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          @page {
            size: A4;
            margin: 15mm;
          }
        }
      `})]}):(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[(0,t.jsx)("p",{className:"text-slate-900 text-center mb-4",children:"Invoice not found"}),(0,t.jsx)("button",{onClick:a,className:"w-full bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700",children:"Close"})]})})}function eS(e){let t="";return e>=1e3&&(t+=eA(Math.floor(e/1e3))+" Thousand ",e%=1e3),e>0&&(t+=eA(e)),t}function eA(e){let t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],s="";if(e>=100&&(s+=t[Math.floor(e/100)]+" Hundred ",e%=100),e>=20)s+=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+" ",e%=10;else if(e>=10)return s+(["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"][e-10]+" ");return e>0&&(s+=t[e]+" "),s}function eT(){let{user:e,profile:a}=(0,D.useAuth)(),[l,r]=(0,s.useState)(!1),[i,n]=(0,s.useState)(!1),[d,c]=(0,s.useState)(""),[o,m]=(0,s.useState)("add"),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[v,w]=(0,s.useState)(""),[k,C]=(0,s.useState)(!0),[S,A]=(0,s.useState)([]),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)(null),[E,R]=(0,s.useState)(!1),[L,F]=(0,s.useState)(null),[$,q]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&(O(),V())},[e]);let O=async()=>{let{data:e,error:t}=await h.db.from("transactions").select("*").order("created_at",{ascending:!1}).limit(10);!t&&e&&A(e.map(e=>({id:e.id,date:e.created_at,description:e.description,amount:Math.abs(Number(e.amount)),status:"paid",type:e.type}))),C(!1)},V=async()=>{let{data:e,error:t}=await h.db.from("payment_methods").select("*").order("is_primary",{ascending:!1});if(!t&&e){P(e);let t=e.find(e=>e.is_primary);t&&M(t.id)}},z=S.length>0?S:[{id:"1",date:"2024-12-20",description:"SMS API Campaign - December",amount:10890,status:"paid"},{id:"2",date:"2024-12-18",description:"Whatsapp API Usage",amount:8402.5,status:"paid"},{id:"3",date:"2024-12-15",description:"Voice Calls - Q4",amount:3001.25,status:"paid"},{id:"4",date:"2024-12-10",description:"RCS API Messaging",amount:5555,status:"paid"},{id:"5",date:"2024-12-05",description:"Email API Credits",amount:555,status:"paid"}],B=z.reduce((e,t)=>e+t.amount,0),K=a?.balance||0,W=(e,t)=>{if(m(e),"update"===e&&t){let e=T.find(e=>e.id===t);e&&(p(`**** **** **** ${e.last_four}`),b(e.cardholder_name),N(`${e.expiry_month}/${e.expiry_year}`),w(""),M(t))}else p(""),b(""),N(""),w(""),M(null);r(!0)},G=()=>{r(!1),p(""),b(""),N(""),w(""),M(null)},X=async t=>{let s;t.preventDefault();let[a,l]=j.split("/"),r=u.replace(/\s/g,"").slice(-4),i=(s=u.replace(/\s/g,"")).startsWith("4")?"Visa":s.startsWith("5")?"Mastercard":s.startsWith("3")?"American Express":"Unknown";if("update"===o&&I){let{error:e}=await h.db.from("payment_methods").update({card_type:i,last_four:r,expiry_month:a,expiry_year:l,cardholder_name:g,updated_at:new Date().toISOString()}).eq("id",I);e||(alert("Payment method updated successfully!"),V())}else{let{error:t}=await h.db.from("payment_methods").insert({user_id:e?.id,card_type:i,last_four:r,expiry_month:a,expiry_year:l,cardholder_name:g,is_primary:0===T.length});t||(alert("Payment method added successfully!"),V())}G()},H=async()=>{if(!d||0>=parseFloat(d))return void alert("Please enter a valid amount");if(!I)return void alert("Please select a payment method");R(!0);try{let t=parseFloat(d),{error:s}=await h.db.from("transactions").insert({user_id:e?.id,type:"topup",amount:t,description:`Account Top-up - RM ${t.toFixed(2)}`,status:"completed"});if(s)throw s;let l=(a?.balance||0)+t,{error:r}=await h.db.from("user_profiles").update({balance:l}).eq("user_id",e?.id);if(r)throw r;alert(`Successfully topped up RM ${t.toFixed(2)}!`),n(!1),c(""),O(),window.location.reload()}catch(e){console.error("Error processing top-up:",e),alert("Failed to process top-up. Please try again.")}finally{R(!1)}},J=async t=>{q(t);try{let{data:s}=await h.db.from("invoices").select("id").eq("transaction_id",t).maybeSingle();if(s){F(s.id),q(null);return}if(!a){alert("Tenant information not available"),q(null);return}let{data:l}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e?.id).maybeSingle(),{data:r}=await h.db.from("company_settings").select("*").eq("tenant_id",l?.tenant_id).maybeSingle();if(!r){alert("Company settings not configured. Please contact administrator."),q(null);return}let i=S.find(e=>e.id===t);if(!i){alert("Transaction not found"),q(null);return}let{data:n}=await h.db.rpc("get_next_invoice_number",{p_tenant_id:l?.tenant_id}),d=new Date,c=new Date;c.setDate(c.getDate()+30);let o=i.amount,x=.06*o,m=o+x,{data:u,error:p}=await h.db.from("invoices").insert({tenant_id:l?.tenant_id,user_id:e?.id,invoice_number:n,invoice_date:d.toISOString().split("T")[0],due_date:c.toISOString().split("T")[0],transaction_id:t,status:"issued",customer_name:a.full_name||"Customer",customer_email:a.email,customer_address:"",customer_company:"Platform",subtotal:o,sst_rate:6,sst_amount:x,total_amount:m,currency:"MYR",payment_terms:"Payment due within 30 days"}).select().single();if(p)throw p;let{error:g}=await h.db.from("invoice_items").insert({invoice_id:u.id,description:i.description,quantity:1,unit_price:o,amount:o});if(g)throw g;F(u.id)}catch(e){console.error("Error generating invoice:",e),alert("Failed to generate invoice")}finally{q(null)}};return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Billing & Payments"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your billing information and payment history"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Current Balance"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-white",children:["RM ",K.toLocaleString()]})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(U.default,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-green-400 text-sm",children:"Available credits"}),(0,t.jsxs)("button",{onClick:()=>n(!0),className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg transition-all text-sm font-semibold flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Top Up"]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Spent"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-white",children:["RM ",B.toLocaleString()]})]}),(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,t.jsx)(eb.TrendingUp,{className:"w-6 h-6 text-blue-400"})})]}),(0,t.jsx)("p",{className:"text-blue-400 text-sm",children:"This month"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending Charges"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-white",children:["RM ","0.00"]})]}),(0,t.jsx)("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:(0,t.jsx)(f.default,{className:"w-6 h-6 text-orange-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Awaiting processing"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Payment Methods"}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsxs)("button",{onClick:()=>W("add"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors text-sm flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Payment Method"]})})]}),k?(0,t.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):0===T.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(ey.CreditCard,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"No payment methods added yet"}),(0,t.jsx)("button",{onClick:()=>W("add"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Add your first payment method"})]}):(0,t.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-900/50 rounded-lg hover:bg-slate-900/70 transition-colors",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,t.jsx)(ey.CreditCard,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-white font-medium",children:[e.card_type," ending in ",e.last_four]}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm",children:["Expires ",e.expiry_month,"/",e.expiry_year]})]}),e.is_primary&&(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full border border-green-500/30",children:"Primary"}),(0,t.jsx)("button",{onClick:()=>W("update",e.id),className:"text-blue-400 hover:text-blue-300 text-sm px-3 py-1 rounded bg-blue-500/10 hover:bg-blue-500/20 transition-colors",children:"Edit"})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Transaction History"}),(0,t.jsxs)("button",{className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Export"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium text-sm",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium text-sm",children:"Description"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Amount"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-slate-400 font-medium text-sm",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-4 text-slate-400 font-medium text-sm",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:z.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-4 px-4 text-slate-300",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,t.jsx)("td",{className:"py-4 px-4 text-white",children:e.description}),(0,t.jsxs)("td",{className:"py-4 px-4 text-right text-white font-medium",children:["RM ",e.amount.toFixed(2)]}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"paid":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"py-4 px-4 text-center",children:(0,t.jsx)("button",{onClick:()=>J(e.id),disabled:$===e.id,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:$===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),"Generating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Invoice"]})})})]},e.id))})]})})]}),l&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"add"===o?"Add Payment Method":"Update Payment Method"}),(0,t.jsx)("button",{onClick:G,className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:X,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Card Number"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"1234 5678 9012 3456",required:!0,maxLength:19,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Cardholder Name"}),(0,t.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"John Doe",required:!0,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Expiry Date"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"MM/YY",required:!0,maxLength:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"CVV"}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"123",required:!0,maxLength:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:G,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-3 rounded-lg transition-colors font-medium",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:"add"===o?"Add Card":"Update Card"})]})]})]})}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Top Up Balance"}),(0,t.jsx)("button",{onClick:()=>n(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Amount (RM)"}),(0,t.jsx)("input",{type:"number",value:d,onChange:e=>c(e.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:[100,500,1e3,5e3].map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>c(e.toString()),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg transition-colors text-sm",children:["RM ",e]},e))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Payment Method"}),0===T.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:"No payment methods available"}),(0,t.jsx)("button",{type:"button",onClick:()=>{n(!1),W("add")},className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Add Payment Method"})]}):(0,t.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,t.jsxs)("label",{className:`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${I===e.id?"bg-blue-500/10 border-blue-500":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[(0,t.jsx)("input",{type:"radio",name:"paymentMethod",value:e.id,checked:I===e.id,onChange:e=>M(e.target.value),className:"text-blue-500"}),(0,t.jsx)(ey.CreditCard,{className:"w-5 h-5 text-slate-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"text-white text-sm font-medium",children:[e.card_type," â€¢â€¢â€¢â€¢ ",e.last_four]}),(0,t.jsxs)("div",{className:"text-slate-400 text-xs",children:["Expires ",e.expiry_month,"/",e.expiry_year]})]}),e.is_primary&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded",children:"Primary"})]},e.id))})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>n(!1),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-3 rounded-lg transition-colors font-medium",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:H,disabled:E||!d||!I,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Processing...":"Confirm Top Up"})]})]})]})}),L&&(0,t.jsx)(eC,{invoiceId:L,onClose:()=>F(null)})]})}var eP=e.i(10980),eI=e.i(58472),eM=e.i(46467),eM=eM,p=p,eD=e.i(31343),x=x;function eE(){let[e,a]=(0,s.useState)(""),[l,r]=(0,s.useState)(null),[i]=(0,s.useState)([{id:"1",title:"Getting Started Guide",description:"Learn the basics of our platform and start sending messages",type:"guide",category:"Onboarding",url:"#",content:{overview:"Welcome to our CPaaS platform! This guide will help you get started with sending your first message and understanding the core features of our communication platform.",features:["Quick setup in under 5 minutes","Multi-channel messaging support","Real-time analytics dashboard","Developer-friendly API","Comprehensive documentation"],sections:[{title:"Creating Your Account",content:"Start by signing up for a free account. You'll receive instant access to our dashboard and API credentials."},{title:"Getting API Credentials",content:"Navigate to Settings > Access Management to generate your first API key. Keep this secure as it will be used to authenticate all API requests."},{title:"Sending Your First Message",content:"Use our simple REST API to send your first SMS. You can also use our dashboard to send test messages.",code:`curl -X POST https://api.example.com/v1/messages \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "to": "+1234567890",
    "from": "YourBrand",
    "message": "Hello from CPaaS!"
  }'`}],learningPath:[{step:1,title:"Create Account",duration:"2 min",completed:!0},{step:2,title:"Get API Keys",duration:"3 min",completed:!1},{step:3,title:"Send First Message",duration:"5 min",completed:!1},{step:4,title:"Explore Dashboard",duration:"10 min",completed:!1}]}},{id:"2",title:"SMS API Documentation",description:"Complete reference for SMS API endpoints and parameters",type:"api",category:"API Reference",url:"#",content:{overview:"Comprehensive API documentation for SMS messaging. Send single or bulk messages, check delivery status, and manage your messaging campaigns programmatically.",features:["RESTful API architecture","JSON request/response format","Unicode and emoji support","Delivery receipts and webhooks","Rate limiting and error handling"],sections:[{title:"Authentication",content:"All API requests must include your API key in the Authorization header using Bearer token authentication.",code:"Authorization: Bearer YOUR_API_KEY"},{title:"Send SMS",content:"POST /v1/sms/send - Send an SMS message to one or more recipients.",code:`{
  "to": ["+1234567890"],
  "from": "YourBrand",
  "message": "Your verification code is 123456",
  "callback_url": "https://your-domain.com/webhook"
}`},{title:"Check Status",content:"GET /v1/sms/{message_id} - Retrieve the delivery status of a sent message.",code:`{
  "id": "msg_12345",
  "status": "delivered",
  "delivered_at": "2024-01-15T10:30:00Z"
}`}],learningPath:[{step:1,title:"API Authentication",duration:"5 min",completed:!1},{step:2,title:"Send Your First SMS",duration:"10 min",completed:!1},{step:3,title:"Handle Webhooks",duration:"15 min",completed:!1},{step:4,title:"Bulk Messaging",duration:"20 min",completed:!1}]}},{id:"3",title:"Whatsapp API Integration Tutorial",description:"Step-by-step video tutorial for Whatsapp API",type:"video",category:"Tutorials",url:"#",content:{overview:"Learn how to integrate Whatsapp API into your platform. This video series covers everything from initial setup to advanced message templates and interactive buttons.",features:["Whatsapp API Account setup","Message templates creation","Rich media messaging","Interactive button messages","Session management"],sections:[{title:"Prerequisites",content:"Before starting, ensure you have a Facebook Business Manager account and a verified business profile. You'll need these credentials to access the WhatsApp Business API."},{title:"API Configuration",content:"Configure your Whatsapp API credentials in the platform dashboard. Navigate to Settings > Integrations and select Whatsapp API.",code:`{
  "provider": "whatsapp",
  "phone_number_id": "YOUR_PHONE_ID",
  "business_account_id": "YOUR_BUSINESS_ID",
  "access_token": "YOUR_ACCESS_TOKEN"
}`},{title:"Sending Messages",content:"Use template messages for initial contact and session messages for conversations within 24 hours.",code:`POST /v1/whatsapp/messages
{
  "to": "+1234567890",
  "type": "template",
  "template": {
    "name": "welcome_message",
    "language": { "code": "en" }
  }
}`}],learningPath:[{step:1,title:"Account Setup",duration:"15 min",completed:!0},{step:2,title:"Create Message Templates",duration:"20 min",completed:!1},{step:3,title:"Send Your First Message",duration:"10 min",completed:!1},{step:4,title:"Handle Incoming Messages",duration:"25 min",completed:!1}]}},{id:"4",title:"Authentication & Security",description:"Best practices for securing your API credentials",type:"documentation",category:"Security",url:"#",content:{overview:"Security is paramount when working with communication APIs. This guide covers best practices for authentication, credential management, and securing your integration.",features:["API key management","OAuth 2.0 implementation","IP whitelisting","Rate limiting strategies","Encryption standards"],sections:[{title:"API Key Best Practices",content:"Never expose API keys in client-side code or public repositories. Store keys in environment variables and rotate them regularly."},{title:"Implementing OAuth 2.0",content:"For user-specific operations, implement OAuth 2.0 authorization flow to ensure secure access without exposing credentials.",code:`const authUrl = 'https://api.example.com/oauth/authorize';
const params = {
  client_id: 'YOUR_CLIENT_ID',
  redirect_uri: 'YOUR_CALLBACK_URL',
  response_type: 'code',
  scope: 'messages.send messages.read'
};`},{title:"IP Whitelisting",content:"Restrict API access to known IP addresses. Configure this in Settings > Security > IP Whitelist."}],learningPath:[{step:1,title:"Understanding API Security",duration:"10 min",completed:!1},{step:2,title:"Implementing OAuth",duration:"30 min",completed:!1},{step:3,title:"Setting Up IP Whitelist",duration:"15 min",completed:!1},{step:4,title:"Security Audit",duration:"20 min",completed:!1}]}},{id:"5",title:"Campaign Management Guide",description:"How to create and manage effective campaigns",type:"guide",category:"Features",url:"#",content:{overview:"Master the art of creating, managing, and optimizing messaging campaigns. Learn how to segment audiences, schedule messages, and track campaign performance.",features:["Audience segmentation","Message personalization","A/B testing","Campaign analytics","Automated workflows"],sections:[{title:"Creating Your First Campaign",content:"Navigate to Campaigns > Create New. Choose your channel (SMS API, Whatsapp API, or RCS API) and define your target audience."},{title:"Audience Segmentation",content:"Create targeted segments based on user behavior, demographics, or custom attributes for more effective messaging."},{title:"Message Personalization",content:"Use dynamic variables to personalize messages for each recipient.",code:`Hello {{first_name}},
Your order #{{order_id}} has been shipped!
Track it here: {{tracking_url}}`}],learningPath:[{step:1,title:"Campaign Basics",duration:"15 min",completed:!1},{step:2,title:"Audience Segmentation",duration:"20 min",completed:!1},{step:3,title:"A/B Testing",duration:"25 min",completed:!1},{step:4,title:"Analytics & Optimization",duration:"30 min",completed:!1}]}},{id:"6",title:"Voice API Reference",description:"Complete documentation for voice calling features",type:"api",category:"API Reference",url:"#"},{id:"7",title:"RCS Messaging Setup",description:"Video walkthrough of RCS configuration",type:"video",category:"Tutorials",url:"#"},{id:"8",title:"Webhooks Configuration",description:"How to set up and manage webhook notifications",type:"documentation",category:"Integration",url:"#"}]),n=i.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.category.toLowerCase().includes(e.toLowerCase())),c=e=>{switch(e){case"documentation":return"bg-blue-500/20 text-blue-400";case"video":return"bg-red-500/20 text-red-400";case"guide":return"bg-green-500/20 text-green-400";case"api":return"bg-purple-500/20 text-purple-400";default:return"bg-slate-500/20 text-slate-400"}};return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Resources"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Documentation, guides, and tutorials to help you succeed"})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search resources...",value:e,onChange:e=>a(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map(e=>{let s=(e=>{switch(e){case"documentation":default:return d.FileText;case"video":return ep.Video;case"guide":return eP.BookOpen;case"api":return eI.Code}})(e.type);return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${c(e.type)}`,children:(0,t.jsx)(s,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.title}),(0,t.jsx)(eM.default,{className:"w-5 h-5 text-slate-500"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"Onboarding":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"API Reference":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"Tutorials":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"Security":return"bg-red-500/20 text-red-400 border-red-500/30";case"Features":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"Integration":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.category)}`,children:e.category}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 text-xs font-medium rounded-full",children:e.type})]})]})]}),(0,t.jsxs)("button",{onClick:()=>r(e),className:"w-full bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)("span",{children:"View Resource"}),(0,t.jsx)(eM.default,{className:"w-4 h-4"})]})]},e.id)})}),0===n.length&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eP.BookOpen,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"No resources found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Try adjusting your search criteria"})]}),l&&l.content&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-auto",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-700 p-6 flex items-center justify-between z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:`p-3 rounded-lg ${c(l.type)}`,children:["video"===l.type&&(0,t.jsx)(ep.Video,{className:"w-6 h-6"}),"documentation"===l.type&&(0,t.jsx)(d.FileText,{className:"w-6 h-6"}),"guide"===l.type&&(0,t.jsx)(eP.BookOpen,{className:"w-6 h-6"}),"api"===l.type&&(0,t.jsx)(eI.Code,{className:"w-6 h-6"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:l.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:l.category})]})]}),(0,t.jsx)("button",{onClick:()=>r(null),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Overview"}),(0,t.jsx)("p",{className:"text-slate-300 leading-relaxed",children:l.content.overview})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Key Features"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.content.features.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-slate-300",children:e})]},s))})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Documentation"}),(0,t.jsx)("div",{className:"space-y-6",children:l.content.sections.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:e.title}),(0,t.jsx)("p",{className:"text-slate-300 mb-4 leading-relaxed",children:e.content}),e.code&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-4 overflow-x-auto",children:(0,t.jsx)("code",{className:"text-sm text-green-400 font-mono",children:e.code})}),(0,t.jsx)("button",{className:"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 rounded border border-slate-600 transition-colors",children:(0,t.jsx)(x.default,{className:"w-4 h-4 text-slate-400"})})]})]},s))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Learning Path"}),(0,t.jsx)("p",{className:"text-slate-300 mb-6",children:"Follow this structured path to master this topic"}),(0,t.jsx)("div",{className:"space-y-3",children:l.content.learningPath.map(e=>(0,t.jsxs)("div",{className:`flex items-center gap-4 p-4 rounded-lg border transition-colors ${e.completed?"bg-green-500/10 border-green-500/30":"bg-slate-800/50 border-slate-700 hover:border-cyan-500/50"}`,children:[(0,t.jsx)("div",{className:`flex items-center justify-center w-10 h-10 rounded-full font-bold ${e.completed?"bg-green-500 text-white":"bg-slate-700 text-slate-300"}`,children:e.completed?(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6"}):e.step}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:`font-semibold ${e.completed?"text-green-400":"text-white"}`,children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.duration})]}),!e.completed&&"video"===l.type&&(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Start"})]}),e.completed&&(0,t.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"Completed"})]},e.step))})]})]})]})})]})}var eR=e.i(1523),x=x,l=l,U=U,eL=e.i(34982),eL=eL,eF=e.i(98791),e$=e.i(54089),e$=e$,S=S;function eq(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)("7days"),[i,n]=(0,s.useState)(!1),[d,c]=(0,s.useState)("all"),[o,m]=(0,s.useState)([]),[u,p]=(0,s.useState)(!0),[g,b]=(0,s.useState)([]),[f,j]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[_,k]=(0,s.useState)([]),[C,A]=(0,s.useState)([]),[T,P]=(0,s.useState)([]),I=[{label:"Messages Sent",value:"1,124,800",change:"+12.5%",trend:"up",icon:Y.MessageSquare,color:"blue"},{label:"Delivery Rate",value:"97.8%",change:"+2.3%",trend:"up",icon:eb.TrendingUp,color:"green"},{label:"Active Users",value:"15,234",change:"+8.1%",trend:"up",icon:l.default,color:"purple"},{label:"Revenue",value:"RM 110,560",change:"+15.3%",trend:"up",icon:U.default,color:"orange"}],M=[{name:"SMS API",sku:"SMS-001",messages:48e4,revenue:106680,deliveryRate:99.2,category:"Messaging"},{name:"Whatsapp API",sku:"WA-001",messages:39e4,revenue:104010,deliveryRate:98.8,category:"Social"},{name:"RCS API",sku:"RCS-001",messages:156e3,revenue:55485,deliveryRate:97.5,category:"Messaging"},{name:"Email API",sku:"EMAIL-001",messages:78e3,revenue:3465,deliveryRate:96.5,category:"Messaging"},{name:"Voice API",sku:"VOICE-001",messages:18e3,revenue:12005,deliveryRate:99.5,category:"Voice"},{name:"Voice Bot",sku:"VBOT-001",messages:12e3,revenue:5988,deliveryRate:97.8,category:"Bot"},{name:"Video Bot",sku:"VIDEO-001",messages:2800,revenue:3110,deliveryRate:96.2,category:"Video"}],E="all"===d?M:M.filter(e=>e.sku===d);(0,s.useEffect)(()=>{e&&(L(),"SMS-001"===d?F():"RCS-001"===d?$():"WA-001"===d?q():"EMAIL-001"===d?O():"VOICE-001"===d?V():("VIDEO-001"===d||"VIDEO-API-001"===d||"VAPI-001"===d)&&z())},[e,d]);let L=async()=>{p(!0);let{data:e,error:t}=await h.db.from("products").select("id, sku, name, category").eq("status","active").order("name");!t&&e&&m(e),p(!1)},F=async()=>{let{data:e,error:t}=await h.db.from("sms_messages").select("*").order("sent_at",{ascending:!1}).limit(50);!t&&e&&b(e.map(e=>({mobile:e.to_number,message:e.message,smsLength:e.message.length,status:e.status,errorCode:e.error_code||"",errorDesc:e.error_description||"",senderId:e.sender_id||"MAXIS",routeType:e.route_type||"Promotional",sendingTime:new Date(e.sent_at).toLocaleString(),deliveryTime:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"})))},$=async()=>{let{data:e,error:t}=await h.db.from("rcs_messages").select("*").order("sent_at",{ascending:!1}).limit(50);!t&&e&&j(e.map(e=>({mobile:e.phone_number,message:e.message,credits:e.credits||.5,status:e.status,errorCode:e.error_code||"",ctaAction:e.cta_action||"-",sendingTime:e.sent_at?new Date(e.sent_at).toLocaleString():"-",deliveryTime:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-",readTime:e.read_at?new Date(e.read_at).toLocaleString():"-"})))},q=async()=>{let{data:e,error:t}=await h.db.from("whatsapp_messages").select("*").order("sent_at",{ascending:!1}).limit(50);!t&&e&&w(e.map(e=>({mobile:e.phone_number,message:e.message_body||e.message||"",status:e.status,messageType:e.message_type||"text",templateName:e.template_name||"-",sendingTime:e.sent_at?new Date(e.sent_at).toLocaleString():"-",deliveryTime:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-",readTime:e.read_at?new Date(e.read_at).toLocaleString():"-"})))},O=async()=>{let{data:e,error:t}=await h.db.from("email_sends").select("*").order("sent_at",{ascending:!1}).limit(50);!t&&e&&k(e.map(e=>({email:e.recipient_email,subject:e.subject,status:e.status,openCount:e.open_count||0,clickCount:e.click_count||0,sentTime:e.sent_at?new Date(e.sent_at).toLocaleString():"-",openedTime:e.opened_at?new Date(e.opened_at).toLocaleString():"-"})))},V=async()=>{let{data:e,error:t}=await h.db.from("voice_agent_calls").select("*").order("created_at",{ascending:!1}).limit(50);!t&&e&&A(e.map(e=>({fromNumber:e.caller_number||"Unknown",toNumber:e.callee_number||e.phone_number||"Unknown",duration:e.duration_seconds||0,status:e.status,callType:e.call_type||"outbound",cost:e.cost||0,startTime:e.created_at?new Date(e.created_at).toLocaleString():"-",endTime:e.ended_at?new Date(e.ended_at).toLocaleString():"-"})))},z=async()=>{let{data:e,error:t}=await h.db.from("video_rooms").select("*").order("started_at",{ascending:!1}).limit(50);!t&&e&&P(e.map(e=>({roomId:e.room_id,participants:e.current_participants||0,duration:e.duration_minutes||0,status:e.status,recording:e.recording_enabled||!1,startTime:e.started_at?new Date(e.started_at).toLocaleString():"-",endTime:e.ended_at?new Date(e.ended_at).toLocaleString():"-"})))};return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Reports & Analytics"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mt-2",children:"all"===d?"Track your performance and gain insights":`${o.find(e=>e.sku===d)?.name||"Product"} Performance Report`})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 min-w-[200px]",children:[(0,t.jsx)("option",{value:"all",children:"All Products"}),o.map(e=>(0,t.jsx)("option",{value:e.sku,children:e.name},e.id))]}),(0,t.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"24hours",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"7days",children:"Last 7 days"}),(0,t.jsx)("option",{value:"30days",children:"Last 30 days"}),(0,t.jsx)("option",{value:"90days",children:"Last 90 days"})]}),(0,t.jsxs)("button",{onClick:()=>{n(!0);let e=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),t="all"===d?"All Products":o.find(e=>e.sku===d)?.name||"Product",s="all"===d?"Platform Reports & Analytics":`${t} Performance Report`,l="";"SMS-001"===d&&g.length>0&&(l=`
        <div class="section" style="page-break-before: always;">
          <h2>SMS Campaign Message Details</h2>
          <table>
            <thead>
              <tr>
                <th>Mobile</th>
                <th>Message</th>
                <th>Length</th>
                <th>Status</th>
                <th>Error Code</th>
                <th>Error Desc</th>
                <th>Sender ID</th>
                <th>Route Type</th>
                <th>Sending Time</th>
                <th>Delivery Time</th>
              </tr>
            </thead>
            <tbody>
              ${g.map(e=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${e.mobile}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${e.message}</td>
                  <td style="text-align: center;">${e.smsLength}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===e.status?"#10b981":"pending"===e.status?"#f59e0b":"#ef4444"}">${e.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${e.errorCode||"-"}</td>
                  <td style="font-size: 11px;">${e.errorDesc||"-"}</td>
                  <td style="text-align: center; font-size: 11px;">${e.senderId}</td>
                  <td style="text-align: center; font-size: 11px;">${e.routeType}</td>
                  <td style="font-size: 10px;">${e.sendingTime}</td>
                  <td style="font-size: 10px;">${e.deliveryTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"RCS-001"===d&&f.length>0&&(l=`
        <div class="section" style="page-break-before: always;">
          <h2>RCS Campaign Message Details</h2>
          <table>
            <thead>
              <tr>
                <th>Mobile Number</th>
                <th>Message</th>
                <th>Credits</th>
                <th>Status</th>
                <th>Error Code</th>
                <th>CTA Action</th>
                <th>Send Time</th>
                <th>Delivery Time</th>
                <th>Read Time</th>
              </tr>
            </thead>
            <tbody>
              ${f.map(e=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${e.mobile}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${e.message}</td>
                  <td style="text-align: center;">${e.credits.toFixed(2)}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===e.status?"#10b981":"pending"===e.status?"#f59e0b":"#ef4444"}">${e.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${e.errorCode||"-"}</td>
                  <td style="text-align: center; font-size: 11px;">${e.ctaAction}</td>
                  <td style="font-size: 10px;">${e.sendingTime}</td>
                  <td style="font-size: 10px;">${e.deliveryTime}</td>
                  <td style="font-size: 10px;">${e.readTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"WA-001"===d&&N.length>0&&(l=`
        <div class="section" style="page-break-before: always;">
          <h2>WhatsApp Message Details</h2>
          <table>
            <thead>
              <tr>
                <th>Mobile Number</th>
                <th>Message</th>
                <th>Status</th>
                <th>Type</th>
                <th>Template</th>
                <th>Send Time</th>
                <th>Delivery Time</th>
                <th>Read Time</th>
              </tr>
            </thead>
            <tbody>
              ${N.map(e=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${e.mobile}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${e.message}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===e.status?"#10b981":"pending"===e.status?"#f59e0b":"#ef4444"}">${e.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${e.messageType}</td>
                  <td style="text-align: center; font-size: 11px;">${e.templateName}</td>
                  <td style="font-size: 10px;">${e.sendingTime}</td>
                  <td style="font-size: 10px;">${e.deliveryTime}</td>
                  <td style="font-size: 10px;">${e.readTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"EMAIL-001"===d&&_.length>0&&(l=`
        <div class="section" style="page-break-before: always;">
          <h2>Email Campaign Details</h2>
          <table>
            <thead>
              <tr>
                <th>Email</th>
                <th>Subject</th>
                <th>Status</th>
                <th>Opens</th>
                <th>Clicks</th>
                <th>Sent Time</th>
                <th>Opened Time</th>
              </tr>
            </thead>
            <tbody>
              ${_.map(e=>`
                <tr>
                  <td style="font-size: 11px;">${e.email}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${e.subject}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===e.status?"#10b981":"pending"===e.status?"#f59e0b":"#ef4444"}">${e.status}</strong></td>
                  <td style="text-align: center;">${e.openCount}</td>
                  <td style="text-align: center;">${e.clickCount}</td>
                  <td style="font-size: 10px;">${e.sentTime}</td>
                  <td style="font-size: 10px;">${e.openedTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"VOICE-001"===d&&C.length>0&&(l=`
        <div class="section" style="page-break-before: always;">
          <h2>Voice Call Details</h2>
          <table>
            <thead>
              <tr>
                <th>From</th>
                <th>To</th>
                <th>Duration (s)</th>
                <th>Status</th>
                <th>Type</th>
                <th>Cost (RM)</th>
                <th>Start Time</th>
                <th>End Time</th>
              </tr>
            </thead>
            <tbody>
              ${C.map(e=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${e.fromNumber}</td>
                  <td style="font-family: monospace; font-size: 11px;">${e.toNumber}</td>
                  <td style="text-align: center;">${e.duration}</td>
                  <td style="text-align: center;"><strong style="color: ${"completed"===e.status?"#10b981":"ongoing"===e.status?"#3b82f6":"#ef4444"}">${e.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${e.callType}</td>
                  <td style="text-align: center;">RM ${e.cost.toFixed(4)}</td>
                  <td style="font-size: 10px;">${e.startTime}</td>
                  <td style="font-size: 10px;">${e.endTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),("VIDEO-001"===d||"VIDEO-API-001"===d||"VAPI-001"===d)&&T.length>0&&(l=`
        <div class="section" style="page-break-before: always;">
          <h2>Video Session Details</h2>
          <table>
            <thead>
              <tr>
                <th>Room ID</th>
                <th>Participants</th>
                <th>Duration (min)</th>
                <th>Status</th>
                <th>Recording</th>
                <th>Start Time</th>
                <th>End Time</th>
              </tr>
            </thead>
            <tbody>
              ${T.map(e=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${e.roomId}</td>
                  <td style="text-align: center;">${e.participants}</td>
                  <td style="text-align: center;">${e.duration}</td>
                  <td style="text-align: center;"><strong style="color: ${"active"===e.status?"#10b981":"ended"===e.status?"#64748b":"#3b82f6"}">${e.status}</strong></td>
                  <td style="text-align: center;">${e.recording?"Yes":"No"}</td>
                  <td style="font-size: 10px;">${e.startTime}</td>
                  <td style="font-size: 10px;">${e.endTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `);let r=new Blob([`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${s} - ${e}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      color: #333;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 3px solid #0891b2;
    }
    .header h1 {
      color: #0891b2;
      margin: 0;
      font-size: 32px;
    }
    .header p {
      color: #666;
      margin: 10px 0;
      font-size: 14px;
    }
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }
    .metric-card {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 20px;
      background: #f9fafb;
    }
    .metric-card h3 {
      color: #6b7280;
      font-size: 12px;
      margin: 0 0 8px 0;
      text-transform: uppercase;
      font-weight: 600;
    }
    .metric-card .value {
      font-size: 28px;
      font-weight: bold;
      color: #111827;
      margin-bottom: 8px;
    }
    .metric-card .change {
      color: #10b981;
      font-size: 14px;
      font-weight: 600;
    }
    .section {
      margin-bottom: 40px;
      page-break-inside: avoid;
    }
    .section h2 {
      color: #111827;
      font-size: 20px;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e5e7eb;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th {
      background: #f3f4f6;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      color: #374151;
      border-bottom: 2px solid #e5e7eb;
    }
    td {
      padding: 12px;
      border-bottom: 1px solid #e5e7eb;
    }
    tr:hover {
      background: #f9fafb;
    }
    .footer {
      margin-top: 60px;
      padding-top: 20px;
      border-top: 1px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 12px;
    }
    @media print {
      body { margin: 20px; }
      .metric-card { page-break-inside: avoid; }
      .section { page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>${s}</h1>
    <p>Report Period: ${{"24hours":"Last 24 Hours","7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days"}[a]||"Last 7 Days"}</p>
    <p>Generated on: ${e}</p>
  </div>

  <div class="metrics-grid">
    ${I.map(e=>`
      <div class="metric-card">
        <h3>${e.label}</h3>
        <div class="value">${e.value}</div>
        <div class="change">${e.change} vs last period</div>
      </div>
    `).join("")}
  </div>

  <div class="section">
    <h2>Platform Performance Summary</h2>
    <table>
      <thead>
        <tr>
          <th>Platform</th>
          <th>Messages Sent</th>
          <th>Delivery Rate</th>
          <th>Revenue (RM)</th>
          <th>Avg Cost (RM)</th>
        </tr>
      </thead>
      <tbody>
        ${E.map(e=>`
          <tr>
            <td><strong>${e.name}</strong></td>
            <td>${e.messages.toLocaleString()}</td>
            <td><strong>${e.deliveryRate}%</strong></td>
            <td>RM ${e.revenue.toLocaleString()}</td>
            <td>RM ${(e.revenue/e.messages).toFixed(4)}</td>
          </tr>
        `).join("")}
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2>Key Insights</h2>
    <ul>
      <li><strong>Total Messages:</strong> ${E.reduce((e,t)=>e+t.messages,0).toLocaleString()} messages sent across all platforms</li>
      <li><strong>Total Revenue:</strong> RM ${E.reduce((e,t)=>e+t.revenue,0).toLocaleString()}</li>
      <li><strong>Average Delivery Rate:</strong> ${(E.reduce((e,t)=>e+t.deliveryRate,0)/E.length).toFixed(2)}%</li>
      <li><strong>Top Performing Platform:</strong> ${E.reduce((e,t)=>t.revenue>e.revenue?t:e).name} (by revenue)</li>
      <li><strong>Most Used Platform:</strong> ${E.reduce((e,t)=>t.messages>e.messages?t:e).name} (by message volume)</li>
    </ul>
  </div>

  ${l}

  <div class="footer">
    <p>This report was automatically generated by the CPaaS Platform Analytics System</p>
    <p>&copy; ${new Date().getFullYear()} Maxis Communications. All rights reserved.</p>
  </div>
</body>
</html>
    `],{type:"text/html"}),i=URL.createObjectURL(r),c=window.open(i,"_blank");c?c.onload=()=>{setTimeout(()=>{c.print(),n(!1)},250)}:(n(!1),alert("Please allow pop-ups to generate the PDF report"))},disabled:i,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[(0,t.jsx)(eL.default,{className:"w-5 h-5"}),i?"Generating...":"Export as PDF"]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob(["SMS-001"===d&&g.length>0?[["Mobile","Message","Length","Status","Error Code","Error Description","Sender ID","Route Type","Sending Time","Delivery Time"],...g.map(e=>[e.mobile,`"${e.message.replace(/"/g,'""')}"`,e.smsLength,e.status,e.errorCode||"",`"${(e.errorDesc||"").replace(/"/g,'""')}"`,e.senderId,e.routeType,e.sendingTime,e.deliveryTime])].map(e=>e.join(",")).join("\n"):"RCS-001"===d&&f.length>0?[["Mobile Number","Message","Credits","Status","Error Code","CTA Action","Send Time","Delivery Time","Read Time"],...f.map(e=>[e.mobile,`"${e.message.replace(/"/g,'""')}"`,e.credits.toFixed(2),e.status,e.errorCode||"",e.ctaAction,e.sendingTime,e.deliveryTime,e.readTime])].map(e=>e.join(",")).join("\n"):"WA-001"===d&&N.length>0?[["Mobile Number","Message","Status","Type","Template","Send Time","Delivery Time","Read Time"],...N.map(e=>[e.mobile,`"${e.message.replace(/"/g,'""')}"`,e.status,e.messageType,e.templateName,e.sendingTime,e.deliveryTime,e.readTime])].map(e=>e.join(",")).join("\n"):"EMAIL-001"===d&&_.length>0?[["Email","Subject","Status","Opens","Clicks","Sent Time","Opened Time"],..._.map(e=>[e.email,`"${e.subject.replace(/"/g,'""')}"`,e.status,e.openCount,e.clickCount,e.sentTime,e.openedTime])].map(e=>e.join(",")).join("\n"):"VOICE-001"===d&&C.length>0?[["From","To","Duration (s)","Status","Type","Cost (RM)","Start Time","End Time"],...C.map(e=>[e.fromNumber,e.toNumber,e.duration,e.status,e.callType,e.cost.toFixed(4),e.startTime,e.endTime])].map(e=>e.join(",")).join("\n"):("VIDEO-001"===d||"VIDEO-API-001"===d||"VAPI-001"===d)&&T.length>0?[["Room ID","Participants","Duration (min)","Status","Recording","Start Time","End Time"],...T.map(e=>[e.roomId,e.participants,e.duration,e.status,e.recording?"Yes":"No",e.startTime,e.endTime])].map(e=>e.join(",")).join("\n"):[["Platform","Messages","Delivery Rate","Revenue (RM)","Avg Cost (RM)"],...E.map(e=>[e.name,e.messages,`${e.deliveryRate}%`,e.revenue,(e.revenue/e.messages).toFixed(4)])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t;let a="all"===d?"all-products":d.toLowerCase(),l=new Date().toISOString().split("T")[0];s.download=`${a}-report-${l}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(x.default,{className:"w-5 h-5"}),"Export CSV"]})]})]}),"all"!==d&&(0,t.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 bg-blue-500/10 border border-blue-500/30 text-blue-400 px-4 py-2 rounded-lg",children:[(0,t.jsx)(eo.Package,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["Showing data for: ",o.find(e=>e.sku===d)?.name]}),(0,t.jsx)("button",{onClick:()=>c("all"),className:"ml-2 hover:bg-blue-500/20 rounded p-1 transition-colors",title:"Clear filter",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]})]}),0===E.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eo.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No Data Available"}),(0,t.jsxs)("p",{className:"text-slate-400 mb-4",children:["There is no data available for ",o.find(e=>e.sku===d)?.name," in the selected time period."]}),(0,t.jsx)("button",{onClick:()=>c("all"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"View All Products"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:I.map((e,s)=>{let a=e.icon;return(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e.label}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:e.value})]}),(0,t.jsx)("div",{className:`p-3 rounded-xl ${(e=>{switch(e){case"blue":return"bg-blue-500/20 text-blue-400";case"green":return"bg-green-500/20 text-green-400";case"purple":return"bg-purple-500/20 text-purple-400";case"orange":return"bg-orange-500/20 text-orange-400";default:return"bg-slate-500/20 text-slate-400"}})(e.color)}`,children:(0,t.jsx)(a,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-400 text-sm font-medium",children:e.change}),(0,t.jsx)("span",{className:"text-slate-500 text-sm",children:"vs last period"})]})]},s)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"all"===d?"Message Volume":"Volume"}),(0,t.jsx)(eR.BarChart3,{className:"w-6 h-6 text-slate-400"})]}),(0,t.jsx)("div",{className:"space-y-4",children:E.map((e,s)=>{let a=Math.max(...E.map(e=>e.messages)),l=e.messages/a*100;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-300 font-medium",children:e.name}),(0,t.jsx)("span",{className:"text-white",children:e.messages.toLocaleString()})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900/50 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-500",style:{width:`${l}%`}})})]},s)})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"all"===d?"Revenue by Platform":"Revenue"}),(0,t.jsx)(U.default,{className:"w-6 h-6 text-slate-400"})]}),(0,t.jsx)("div",{className:"space-y-4",children:E.map((e,s)=>{let a=Math.max(...E.map(e=>e.revenue)),l=e.revenue/a*100;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-300 font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-white",children:["RM ",e.revenue.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-900/50 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${l}%`}})})]},s)})})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"all"===d?"Platform Performance":"Performance Metrics"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium text-sm",children:"Platform"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Messages"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Delivery Rate"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Revenue"}),(0,t.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Avg Cost"})]})}),(0,t.jsx)("tbody",{children:E.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-4 px-4 text-white font-medium",children:e.name}),(0,t.jsx)("td",{className:"py-4 px-4 text-right text-slate-300",children:e.messages.toLocaleString()}),(0,t.jsx)("td",{className:"py-4 px-4 text-right",children:(0,t.jsxs)("span",{className:"text-green-400 font-medium",children:[e.deliveryRate,"%"]})}),(0,t.jsxs)("td",{className:"py-4 px-4 text-right text-white font-medium",children:["RM ",e.revenue.toLocaleString()]}),(0,t.jsxs)("td",{className:"py-4 px-4 text-right text-slate-300",children:["RM ",(e.revenue/e.messages).toFixed(4)]})]},s))})]})})]}),"SMS-001"===d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"480,000"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-blue-500/20 text-blue-400",children:(0,t.jsx)(e$.default,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"+12.5% vs last period"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-green-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"476,160"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-green-500/20 text-green-400",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"99.2% delivery rate"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 border border-yellow-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"960"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-yellow-500/20 text-yellow-400",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm font-medium",children:"0.2% in queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"2,880"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-red-500/20 text-red-400",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-red-400 text-sm font-medium",children:"0.6% error rate"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"SMS Features & Details"}),(0,t.jsx)(Y.MessageSquare,{className:"w-6 h-6 text-slate-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Delivery Status Breakdown"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Delivered"}),(0,t.jsx)("span",{className:"text-green-400 font-medium",children:"476,160 (99.2%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Pending"}),(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:"960 (0.2%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Failed"}),(0,t.jsx)("span",{className:"text-red-400 font-medium",children:"2,880 (0.6%)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Error Codes"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Invalid Number"}),(0,t.jsx)("span",{className:"text-red-400 font-medium",children:"1,440 (50%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Network Error"}),(0,t.jsx)("span",{className:"text-red-400 font-medium",children:"864 (30%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"DND Number"}),(0,t.jsx)("span",{className:"text-red-400 font-medium",children:"576 (20%)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Route Type Distribution"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Promotional"}),(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"336,000 (70%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Transactional"}),(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"144,000 (30%)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sender IDs Used"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"MAXIS"}),(0,t.jsx)("span",{className:"text-slate-400 font-medium",children:"288,000 (60%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"MAXISONE"}),(0,t.jsx)("span",{className:"text-slate-400 font-medium",children:"192,000 (40%)"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Message Details"}),(0,t.jsxs)("button",{onClick:F,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Mobile"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Message"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Length"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Error Code"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Error Desc"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Sender ID"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Route Type"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Sending Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Delivery Time"})]})}),(0,t.jsx)("tbody",{children:g.length>0?g.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:e.mobile}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:e.message}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.smsLength}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.errorCode||"-"}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.errorDesc||"-"}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.senderId}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.routeType}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.sendingTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.deliveryTime})]},s)):(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:10,className:"py-12 text-center",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No SMS messages found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Messages will appear here once campaigns are sent"})]})})})]})})]})]}),"RCS-001"===d&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8 mt-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-blue-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"156,000"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-blue-500/20 text-blue-400",children:(0,t.jsx)(e$.default,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"+8.3% vs last period"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-green-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"152,100"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-green-500/20 text-green-400",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"97.5% delivery rate"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-purple-400 text-sm font-medium mb-1",children:"Read"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"124,320"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-purple-500/20 text-purple-400",children:(0,t.jsx)(S.default,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-purple-400 text-sm font-medium",children:"81.7% read rate"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 border border-yellow-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"312"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-yellow-500/20 text-yellow-400",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm font-medium",children:"0.2% in queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:"3,588"})]}),(0,t.jsx)("div",{className:"p-3 rounded-xl bg-red-500/20 text-red-400",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"text-red-400 text-sm font-medium",children:"2.3% error rate"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"RCS Features & Details"}),(0,t.jsx)(Y.MessageSquare,{className:"w-6 h-6 text-slate-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Delivery Status Breakdown"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Delivered"}),(0,t.jsx)("span",{className:"text-green-400 font-medium",children:"152,100 (97.5%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Pending"}),(0,t.jsx)("span",{className:"text-yellow-400 font-medium",children:"312 (0.2%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Failed"}),(0,t.jsx)("span",{className:"text-red-400 font-medium",children:"3,588 (2.3%)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Engagement Metrics"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Read Rate"}),(0,t.jsx)("span",{className:"text-purple-400 font-medium",children:"81.7%"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"CTA Click Rate"}),(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"24.6%"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Avg Response Time"}),(0,t.jsx)("span",{className:"text-slate-400 font-medium",children:"3.2 mins"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Message Type Distribution"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Rich Card"}),(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"93,600 (60%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Carousel"}),(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"46,800 (30%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Text Only"}),(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"15,600 (10%)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top CTA Actions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"View Product"}),(0,t.jsx)("span",{className:"text-slate-400 font-medium",children:"18,720 (50%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Call Now"}),(0,t.jsx)("span",{className:"text-slate-400 font-medium",children:"11,232 (30%)"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Visit Website"}),(0,t.jsx)("span",{className:"text-slate-400 font-medium",children:"7,488 (20%)"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Message Details"}),(0,t.jsxs)("button",{onClick:$,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Mobile Number"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Message"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Credits"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Error Code"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"CTA Action"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Send Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Delivery Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Read Time"})]})}),(0,t.jsx)("tbody",{children:f.length>0?f.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:e.mobile}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:e.message}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.credits.toFixed(2)}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.errorCode||"-"}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.ctaAction}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.sendingTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.deliveryTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.readTime})]},s)):(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:9,className:"py-12 text-center",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No RCS messages found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Messages will appear here once campaigns are sent"})]})})})]})})]})]}),"WA-001"===d&&N.length>0&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"WhatsApp Message Details"}),(0,t.jsxs)("button",{onClick:q,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Mobile Number"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Message"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Template"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Send Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Delivery Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Read Time"})]})}),(0,t.jsx)("tbody",{children:N.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:e.mobile}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:e.message}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.messageType}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.templateName}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.sendingTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.deliveryTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.readTime})]},s))})]})})]}),"EMAIL-001"===d&&_.length>0&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Campaign Details"}),(0,t.jsxs)("button",{onClick:O,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Email"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Subject"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Opens"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Clicks"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Sent Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Opened Time"})]})}),(0,t.jsx)("tbody",{children:_.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.email}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:e.subject}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.openCount}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.clickCount}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.sentTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.openedTime})]},s))})]})})]}),"VOICE-001"===d&&C.length>0&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Voice Call Details"}),(0,t.jsxs)("button",{onClick:V,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"From"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"To"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Duration (s)"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Type"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Cost (RM)"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Start Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"End Time"})]})}),(0,t.jsx)("tbody",{children:C.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:e.fromNumber}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:e.toNumber}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.duration}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-green-400":"ongoing"===e.status?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.callType}),(0,t.jsxs)("td",{className:"py-3 px-3 text-center text-slate-300",children:["RM ",e.cost.toFixed(4)]}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.startTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.endTime})]},s))})]})})]}),("VIDEO-001"===d||"VIDEO-API-001"===d||"VAPI-001"===d)&&T.length>0&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Video Session Details"}),(0,t.jsxs)("button",{onClick:z,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Room ID"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Participants"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Duration (min)"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Recording"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Start Time"}),(0,t.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"End Time"})]})}),(0,t.jsx)("tbody",{children:T.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:e.roomId}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.participants}),(0,t.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:e.duration}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"active"===e.status?"bg-green-500/20 text-green-400":"ended"===e.status?"bg-slate-500/20 text-slate-400":"bg-blue-500/20 text-blue-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"py-3 px-3 text-center",children:e.recording?(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 mx-auto"}):(0,t.jsx)(y.X,{className:"w-4 h-4 text-slate-600 mx-auto"})}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.startTime}),(0,t.jsx)("td",{className:"py-3 px-3 text-slate-300",children:e.endTime})]},s))})]})})]})]})]})}var eU=e.i(87951),x=x,N=N,p=p,f=f,eO=e.i(61839),eO=eO;function eV(){let[e,a]=(0,s.useState)(""),[l,r]=(0,s.useState)("all"),[i,n]=(0,s.useState)(null),[d,c]=(0,s.useState)(!1),o=(0,s.useRef)(null),m=(0,s.useRef)(null),[h,u]=(0,s.useState)([{id:"1",type:"voice",title:"Customer Support Call - #12345",date:"2024-12-26 10:30 AM",duration:"5:42",size:"2.8 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"},{id:"2",type:"video",title:"Product Demo Session",date:"2024-12-25 2:15 PM",duration:"12:30",size:"45.6 MB",status:"available",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{id:"3",type:"voice",title:"Sales Call - Lead Qualification",date:"2024-12-25 11:00 AM",duration:"8:15",size:"4.2 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"},{id:"4",type:"video",title:"Team Meeting Recording",date:"2024-12-24 3:00 PM",duration:"45:20",size:"156.3 MB",status:"available",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},{id:"5",type:"voice",title:"Technical Support Call",date:"2024-12-24 9:45 AM",duration:"15:30",size:"7.8 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"},{id:"6",type:"video",title:"Webinar - Q4 Review",date:"2024-12-23 1:00 PM",duration:"60:00",size:"210.5 MB",status:"processing"}]),g=h.filter(t=>{let s=t.title.toLowerCase().includes(e.toLowerCase()),a="all"===l||t.type===l;return s&&a}),b=h.length,j=h.filter(e=>"voice"===e.type).length,v=h.filter(e=>"video"===e.type).length,w=h.reduce((e,t)=>e+parseFloat(t.size),0),_=()=>{n(null),c(!1),o.current&&(o.current.pause(),o.current.currentTime=0),m.current&&(m.current.pause(),m.current.currentTime=0)},k=e=>{if("available"!==e.status)return void alert("This recording is not available for download yet.");if(e.url){let t=document.createElement("a");t.href=e.url,t.download=`${e.title}.${"voice"===e.type?"mp3":"mp4"}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)}};return(0,s.useEffect)(()=>{let e=i?.type==="voice"?o.current:m.current;if(e){let t=()=>c(!1),s=()=>c(!0),a=()=>c(!1);return e.addEventListener("ended",t),e.addEventListener("play",s),e.addEventListener("pause",a),()=>{e.removeEventListener("ended",t),e.removeEventListener("play",s),e.removeEventListener("pause",a)}}},[i]),(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Recordings"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your voice and video recordings"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Recordings"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:b})]}),(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,t.jsx)(eU.Mic,{className:"w-6 h-6 text-blue-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All types"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Voice Calls"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:j})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(Q.Phone,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsx)("p",{className:"text-green-400 text-sm",children:"Audio only"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Video Calls"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:v})]}),(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,t.jsx)(ep.Video,{className:"w-6 h-6 text-red-400"})})]}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:"With video"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Storage Used"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:w.toFixed(1)})]}),(0,t.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-xl",children:(0,t.jsx)(f.default,{className:"w-6 h-6 text-purple-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"MB total"})]})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search recordings...",value:e,onChange:e=>a(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-lg transition-colors ${"all"===l?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>r("voice"),className:`px-4 py-2 rounded-lg transition-colors ${"voice"===l?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Voice"}),(0,t.jsx)("button",{onClick:()=>r("video"),className:`px-4 py-2 rounded-lg transition-colors ${"video"===l?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Video"})]})]})}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${"voice"===e.type?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:"voice"===e.type?(0,t.jsx)(Q.Phone,{className:"w-6 h-6"}):(0,t.jsx)(ep.Video,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsx)("span",{children:e.date}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:e.duration}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:e.size})]})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"available":return"bg-green-500/20 text-green-400 border-green-500/30";case"processing":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{"available"!==e.status?alert("This recording is not available for playback yet."):(n(e),c(!0))},disabled:"available"!==e.status,className:`p-2 rounded-lg transition-colors ${"available"===e.status?"bg-blue-500/20 hover:bg-blue-500/30 text-blue-400":"bg-slate-700/20 text-slate-500 cursor-not-allowed"}`,title:"available"===e.status?"Play recording":"Recording not available",children:(0,t.jsx)(eD.Play,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>k(e),disabled:"available"!==e.status,className:`p-2 rounded-lg transition-colors ${"available"===e.status?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-slate-700/20 text-slate-500 cursor-not-allowed"}`,title:"available"===e.status?"Download recording":"Recording not available",children:(0,t.jsx)(x.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(confirm("Are you sure you want to delete this recording? This action cannot be undone.")&&(u(h.filter(e=>e.id!==t)),i?.id===t&&_()))},className:"p-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors",title:"Delete recording",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]})]})},e.id))}),0===g.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(eU.Mic,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"No recordings found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Try adjusting your search or filter"})]})]}),i&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl mx-4 overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:i.title}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:[i.date," â€¢ ",i.duration]})]}),(0,t.jsx)("button",{onClick:_,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"p-6",children:["voice"===i.type?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl p-12 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(Q.Phone,{className:"w-16 h-16 text-blue-400"})}),(0,t.jsx)("p",{className:"text-white font-medium text-lg",children:"Audio Recording"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-2",children:"Playing voice call"})]})}),(0,t.jsx)("audio",{ref:o,src:i.url,className:"w-full",controls:!0,autoPlay:!0})]}):(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("video",{ref:m,src:i.url,className:"w-full rounded-lg bg-black",controls:!0,autoPlay:!0})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{let e=i?.type==="voice"?o.current:m.current;e&&(d?e.pause():e.play(),c(!d))},className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:d?(0,t.jsx)(eO.default,{className:"w-6 h-6"}):(0,t.jsx)(eD.Play,{className:"w-6 h-6"})}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded ${"voice"===i.type?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:"voice"===i.type?"Voice":"Video"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>k(i),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]}),(0,t.jsx)("button",{onClick:_,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Close"})]})]})]})]})})]})}var ez=e.i(71631),ez=ez,eN=eN,C=C,r=r,eB=e.i(49988),eB=eB,eK=e.i(12798),eK=eK,eW=e.i(55546),eW=eW,S=S,A=A,P=P,eh=eh,e$=e$,eG=e.i(91774),eG=eG,eX=e.i(17302),eX=eX,m=m,ef=ef,eM=eM,eH=e.i(69205),eH=eH,eJ=e.i(93506),eJ=eJ,eY=e.i(36517),eY=eY,p=p,eQ=e.i(6289),eQ=eQ;function eZ(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)(1),[i,d]=(0,s.useState)(""),[c,o]=(0,s.useState)(""),[x,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)("javascript"),[f,j]=(0,s.useState)("sms"),[N,w]=(0,s.useState)(null),[_,k]=(0,s.useState)(!1),[T,I]=(0,s.useState)(null),[M,L]=(0,s.useState)(null),[F,$]=(0,s.useState)(""),[q,U]=(0,s.useState)("quickstart"),[O,V]=(0,s.useState)("messaging"),[z,B]=(0,s.useState)(""),[K,W]=(0,s.useState)({method:"POST",endpoint:"/v1/messages/sms",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"+60123456789",from:"YourBrand",message:"Hello!"},null,2)}),[G,X]=(0,s.useState)([]),[H,J]=(0,s.useState)(""),[Z,ee]=(0,s.useState)(""),et={messaging:{name:"Messaging API",icon:Y.MessageSquare,color:"blue",apis:[{name:"SMS API",description:"Send and receive SMS messages globally",methods:[{name:"Send SMS",method:"POST",endpoint:"/v1/messages/sms",description:"Send an SMS message to a phone number",parameters:[{name:"to",type:"string",required:!0,description:"Recipient phone number in E.164 format"},{name:"from",type:"string",required:!0,description:"Sender ID or phone number"},{name:"message",type:"string",required:!0,description:"Message content (up to 1600 characters)"},{name:"callback_url",type:"string",required:!1,description:"Webhook URL for delivery receipts"}],response:{messageId:"msg_123",status:"sent",cost:.05}},{name:"Get SMS Status",method:"GET",endpoint:"/v1/messages/sms/{messageId}",description:"Retrieve the status of a sent SMS",parameters:[{name:"messageId",type:"string",required:!0,description:"Message ID returned from send request"}],response:{messageId:"msg_123",status:"delivered",deliveredAt:"2024-01-02T10:30:00Z"}},{name:"List SMS Messages",method:"GET",endpoint:"/v1/messages/sms",description:"List all SMS messages with filtering",parameters:[{name:"from",type:"string",required:!1,description:"Filter by sender"},{name:"to",type:"string",required:!1,description:"Filter by recipient"},{name:"status",type:"string",required:!1,description:"Filter by status"},{name:"limit",type:"number",required:!1,description:"Number of results (1-100)"}],response:{messages:[],totalCount:0,hasMore:!1}}]},{name:"Whatsapp API",description:"Send messages via WhatsApp Business Platform",methods:[{name:"Send WhatsApp Message",method:"POST",endpoint:"/v1/messages/whatsapp",description:"Send a message through WhatsApp Business",parameters:[{name:"to",type:"string",required:!0,description:"Recipient WhatsApp number"},{name:"template",type:"string",required:!1,description:"Template name"},{name:"message",type:"string",required:!1,description:"Text message (if not using template)"},{name:"media_url",type:"string",required:!1,description:"URL for media attachment"}],response:{messageId:"wa_456",status:"sent"}},{name:"Send Template Message",method:"POST",endpoint:"/v1/messages/whatsapp/templates",description:"Send a pre-approved WhatsApp template",parameters:[{name:"to",type:"string",required:!0,description:"Recipient number"},{name:"template_name",type:"string",required:!0,description:"Approved template name"},{name:"language",type:"string",required:!0,description:"Language code (e.g., en_US)"},{name:"parameters",type:"array",required:!1,description:"Template parameter values"}],response:{messageId:"wa_789",status:"queued"}}]},{name:"RCS API",description:"Rich Communication Services with rich media",methods:[{name:"Send RCS Message",method:"POST",endpoint:"/v1/messages/rcs",description:"Send rich media message via RCS",parameters:[{name:"to",type:"string",required:!0,description:"Recipient phone number"},{name:"from",type:"string",required:!0,description:"RCS agent ID"},{name:"content",type:"object",required:!0,description:"RCS message content"},{name:"suggestions",type:"array",required:!1,description:"Suggested replies/actions"}],response:{messageId:"rcs_321",status:"sent"}}]},{name:"Email API",description:"Transactional and marketing email delivery",methods:[{name:"Send Email",method:"POST",endpoint:"/v1/messages/email",description:"Send an email message",parameters:[{name:"to",type:"string",required:!0,description:"Recipient email address"},{name:"from",type:"string",required:!0,description:"Sender email address"},{name:"subject",type:"string",required:!0,description:"Email subject"},{name:"html",type:"string",required:!1,description:"HTML content"},{name:"text",type:"string",required:!1,description:"Plain text content"},{name:"attachments",type:"array",required:!1,description:"File attachments"}],response:{emailId:"email_654",status:"queued"}}]}]},voice:{name:"Voice API",icon:Q.Phone,color:"green",apis:[{name:"Voice API",description:"Make and receive voice calls with programmable features",methods:[{name:"Make Outbound Call",method:"POST",endpoint:"/v1/calls",description:"Initiate an outbound call",parameters:[{name:"to",type:"string",required:!0,description:"Destination phone number"},{name:"from",type:"string",required:!0,description:"Caller ID number"},{name:"twiml_url",type:"string",required:!1,description:"TwiML instructions URL"},{name:"callback_url",type:"string",required:!1,description:"Status callback webhook"}],response:{callId:"call_789",status:"initiated"}},{name:"Get Call Details",method:"GET",endpoint:"/v1/calls/{callId}",description:"Retrieve call information and status",parameters:[{name:"callId",type:"string",required:!0,description:"Call identifier"}],response:{callId:"call_789",status:"completed",duration:120}},{name:"Modify Live Call",method:"POST",endpoint:"/v1/calls/{callId}",description:"Modify an in-progress call",parameters:[{name:"callId",type:"string",required:!0,description:"Call identifier"},{name:"action",type:"string",required:!0,description:"Action: redirect, hangup, mute"},{name:"twiml_url",type:"string",required:!1,description:"New TwiML URL (for redirect)"}],response:{callId:"call_789",status:"updated"}}]},{name:"SIP Trunking",description:"Connect your PBX to the PSTN network",methods:[{name:"Create SIP Trunk",method:"POST",endpoint:"/v1/sip/trunks",description:"Provision a new SIP trunk",parameters:[{name:"name",type:"string",required:!0,description:"Trunk friendly name"},{name:"domain",type:"string",required:!0,description:"SIP domain"},{name:"auth_type",type:"string",required:!0,description:"Authentication method"}],response:{trunkId:"trunk_123",domain:"customer.sip.maxis.com"}},{name:"List SIP Trunks",method:"GET",endpoint:"/v1/sip/trunks",description:"List all SIP trunks",parameters:[],response:{trunks:[]}}]},{name:"Cloud PBX",description:"Manage virtual phone system",methods:[{name:"Create Extension",method:"POST",endpoint:"/v1/pbx/extensions",description:"Create a new phone extension",parameters:[{name:"extension",type:"string",required:!0,description:"Extension number"},{name:"name",type:"string",required:!0,description:"Extension name"},{name:"features",type:"object",required:!1,description:"Feature configuration"}],response:{extensionId:"ext_456",extension:"101"}}]},{name:"Number Management",description:"Search, purchase, and manage phone numbers",methods:[{name:"Search Available Numbers",method:"GET",endpoint:"/v1/numbers/available",description:"Search for available phone numbers",parameters:[{name:"country",type:"string",required:!0,description:"Country code (e.g., MY)"},{name:"type",type:"string",required:!1,description:"Number type: local, mobile, tollfree"},{name:"pattern",type:"string",required:!1,description:"Pattern to match"}],response:{numbers:["+60123456789"],totalAvailable:50}},{name:"Purchase Number",method:"POST",endpoint:"/v1/numbers",description:"Purchase a phone number",parameters:[{name:"phone_number",type:"string",required:!0,description:"Number to purchase"},{name:"friendly_name",type:"string",required:!1,description:"Display name"}],response:{numberId:"num_789",phoneNumber:"+60123456789"}}]}]},video:{name:"Video APIs",icon:ep.Video,color:"purple",apis:[{name:"Video Rooms",description:"Create and manage video conferencing rooms",methods:[{name:"Create Video Room",method:"POST",endpoint:"/v1/video/rooms",description:"Create a new video room",parameters:[{name:"name",type:"string",required:!0,description:"Room name"},{name:"max_participants",type:"number",required:!1,description:"Maximum participants"},{name:"recording",type:"boolean",required:!1,description:"Enable recording"}],response:{roomId:"room_abc",roomUrl:"https://meet.maxis.com/room/abc"}},{name:"Generate Access Token",method:"POST",endpoint:"/v1/video/rooms/{roomId}/tokens",description:"Generate participant access token",parameters:[{name:"roomId",type:"string",required:!0,description:"Room identifier"},{name:"identity",type:"string",required:!0,description:"Participant identity"},{name:"ttl",type:"number",required:!1,description:"Token validity in seconds"}],response:{token:"eyJ0eXAi...",expiresAt:"2024-01-02T12:00:00Z"}}]},{name:"Meeting AI",description:"AI-powered meeting features",methods:[{name:"Start Transcription",method:"POST",endpoint:"/v1/video/rooms/{roomId}/transcription",description:"Enable AI transcription for a meeting",parameters:[{name:"roomId",type:"string",required:!0,description:"Room ID"},{name:"language",type:"string",required:!1,description:"Transcription language"}],response:{transcriptionId:"trans_123",status:"active"}}]}]},verification:{name:"Verification & Identity",icon:n.Shield,color:"orange",apis:[{name:"OTP Verification",description:"One-time password verification",methods:[{name:"Send Verification Code",method:"POST",endpoint:"/v1/verify/send",description:"Send OTP to user",parameters:[{name:"to",type:"string",required:!0,description:"Phone or email"},{name:"channel",type:"string",required:!0,description:"sms, whatsapp, or email"},{name:"code_length",type:"number",required:!1,description:"OTP length (4-10)"}],response:{verificationId:"verify_123",status:"pending"}},{name:"Check Verification Code",method:"POST",endpoint:"/v1/verify/check",description:"Verify the OTP code",parameters:[{name:"verification_id",type:"string",required:!0,description:"Verification ID"},{name:"code",type:"string",required:!0,description:"User-provided code"}],response:{status:"approved",valid:!0}}]},{name:"Number Lookup",description:"Phone number intelligence",methods:[{name:"Lookup Phone Number",method:"GET",endpoint:"/v1/lookup/{phoneNumber}",description:"Get phone number information",parameters:[{name:"phoneNumber",type:"string",required:!0,description:"Phone number to lookup"},{name:"type",type:"string",required:!1,description:"carrier, caller-name, or both"}],response:{number:"+60123456789",carrier:"Maxis",valid:!0}}]}]},analytics:{name:"Analytics & Insights",icon:eR.BarChart3,color:"cyan",apis:[{name:"Usage Analytics",description:"API usage and metrics",methods:[{name:"Get Usage Statistics",method:"GET",endpoint:"/v1/analytics/usage",description:"Retrieve usage statistics",parameters:[{name:"start_date",type:"string",required:!0,description:"Start date (ISO 8601)"},{name:"end_date",type:"string",required:!0,description:"End date (ISO 8601)"},{name:"granularity",type:"string",required:!1,description:"hour, day, or month"}],response:{total_requests:1e3,total_cost:50}}]},{name:"Call Analytics",description:"Voice call metrics and quality",methods:[{name:"Get Call Metrics",method:"GET",endpoint:"/v1/analytics/calls",description:"Retrieve call quality metrics",parameters:[{name:"call_id",type:"string",required:!1,description:"Specific call ID"},{name:"date_range",type:"string",required:!1,description:"Date range filter"}],response:{averageDuration:120,totalCalls:500}}]}]}};(0,s.useEffect)(()=>{e&&(es(),ea())},[e]),(0,s.useEffect)(()=>{if(T){let e=setTimeout(()=>I(null),4e3);return()=>clearTimeout(e)}},[T]);let es=async()=>{try{let{data:t,error:s}=await h.db.from("developer_progress").select("*").eq("user_id",e?.id).maybeSingle();if(s&&"PGRST116"!==s.code)throw s;if(t)L(t),l(t.current_step);else{let t={user_id:e?.id||"",current_step:1,api_key_generated:!1,sdk_downloaded:!1,first_api_call:!1,completed_tutorial:!1,test_calls_made:0,last_activity:new Date().toISOString()},{data:s,error:a}=await h.db.from("developer_progress").insert(t).select().single();!a&&s&&L(s)}}catch(e){console.error("Error loading progress:",e)}},ea=async()=>{try{let{data:t,error:s}=await h.db.from("api_keys").select("api_key_prefix, key_name").eq("tenant_id",e?.user_metadata?.tenant_id).eq("status","active").maybeSingle();t&&t.api_key_prefix&&(d(t.api_key_prefix+"_"+"â€¢".repeat(32)),o("sk_"+"â€¢".repeat(48)))}catch(e){console.error("Error checking API keys:",e)}},el=async t=>{if(M)try{let{error:s}=await h.db.from("developer_progress").update({...t,last_activity:new Date().toISOString()}).eq("user_id",e?.id);if(s)throw s;L({...M,...t})}catch(e){console.error("Error updating progress:",e)}},er=async()=>{try{let t=`mk_live_${Math.random().toString(36).substring(2,10)}`,s=`${t}_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,a=`sk_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,{error:r}=await h.db.from("api_keys").insert({tenant_id:e?.user_metadata?.tenant_id,key_name:"Production API Key",key_description:"API key for production use",api_key_hash:s,api_key_prefix:t,status:"active",total_requests:0});if(r)throw r;d(s),o(a),await el({api_key_generated:!0,current_step:3}),l(3),I({type:"success",message:"API keys generated successfully!"})}catch(e){console.error("Error generating API keys:",e),I({type:"error",message:"Failed to generate API keys"})}},ei=async(e,t)=>{try{await navigator.clipboard.writeText(e),$(t),setTimeout(()=>$(""),2e3),I({type:"success",message:"Copied to clipboard!"})}catch(e){I({type:"error",message:"Failed to copy"})}},en=async()=>{if(!i)return void I({type:"error",message:"Please generate API keys first"});k(!0);try{await new Promise(e=>setTimeout(e,1500));let e={success:!0,messageId:`msg_${Date.now()}`,status:"sent",timestamp:new Date().toISOString(),requestId:`req_${Math.random().toString(36).substring(7)}`};w(e);let t={timestamp:new Date().toISOString(),method:K.method,endpoint:K.endpoint,status:200,duration:Math.floor(500*Math.random())+100};X(e=>[t,...e].slice(0,10));let s=(M?.test_calls_made||0)+1;await el({first_api_call:!0,test_calls_made:s}),I({type:"success",message:"API call successful!"})}catch(e){w({success:!1,error:"API call failed",message:"Please check your credentials and try again"}),I({type:"error",message:"API call failed"})}finally{k(!1)}},ed=e=>{let t={javascript:`// Install SDK: npm install @maxis/communications-sdk
import { MaxisClient } from '@maxis/communications-sdk';

const client = new MaxisClient({
  apiKey: '${i||"your-api-key"}',
  apiSecret: '${c?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"your-api-secret"}'
});

// ${e.name}
const response = await client.${e.method.toLowerCase()}('${e.endpoint}', ${JSON.stringify(Object.fromEntries(e.parameters.slice(0,3).map(e=>[e.name,`<${e.type}>`])),null,2)});

console.log(response);`,python:`# Install SDK: pip install maxis-communications
from maxis import MaxisClient

client = MaxisClient(
    api_key='${i||"your-api-key"}',
    api_secret='${c?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"your-api-secret"}'
)

# ${e.name}
response = client.${e.method.toLowerCase()}('${e.endpoint}', ${JSON.stringify(Object.fromEntries(e.parameters.slice(0,3).map(e=>[e.name,`<${e.type}>`])))})

print(response)`,curl:`# ${e.name}
curl -X ${e.method} 'https://api.maxis.com${e.endpoint}' \\
  -H 'Authorization: Bearer ${i||"your-api-key"}' \\
  -H 'Content-Type: application/json' \\
  -d '${JSON.stringify(Object.fromEntries(e.parameters.slice(0,3).map(e=>[e.name,`<${e.type}>`])),null,2)}'`};return t[g]||t.javascript},ec=[{id:"javascript",name:"JavaScript",icon:"ðŸ“¦"},{id:"python",name:"Python",icon:"ðŸ"},{id:"curl",name:"cURL",icon:"ðŸ’»"}],ex=Math.min(100,a/5*100),em=Object.entries(et).filter(([e,t])=>""===Z||t.name.toLowerCase().includes(Z.toLowerCase())||t.apis.some(e=>e.name.toLowerCase().includes(Z.toLowerCase())||e.description.toLowerCase().includes(Z.toLowerCase())));return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[T&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===T.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===T.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(y.X,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:T.message})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eW.default,{className:"w-10 h-10 text-cyan-400"}),"Developer Hub"]}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Comprehensive API library and interactive playground"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[ex.toFixed(0),"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Complete"})]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-800 rounded-full h-3 mb-8",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${ex}%`}})})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-6 border-b border-slate-700",children:[{id:"quickstart",label:"Quick Start",icon:ez.default},{id:"api-library",label:"API Library",icon:eK.default},{id:"playground",label:"API Playground",icon:eH.default},{id:"resources",label:"Resources",icon:eo.Package}].map(e=>{let s=e.icon;return(0,t.jsx)("button",{onClick:()=>U(e.id),className:`px-6 py-3 font-medium transition-all border-b-2 ${q===e.id?"text-cyan-400 border-cyan-400":"text-slate-400 border-transparent hover:text-slate-300"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:"w-5 h-5"}),e.label]})},e.id)})}),"quickstart"===q&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"bg-blue-500/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(eI.Code,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Easy Integration"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Simple REST APIs and SDKs for all major programming languages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"bg-green-500/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(ez.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Fast & Reliable"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"99.9% uptime with global infrastructure for low-latency delivery"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"bg-purple-500/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Production Ready"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Battle-tested at scale with enterprise-grade security and compliance"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(ef.default,{className:"w-6 h-6 text-yellow-400"}),"Quick Start Guide"]}),(0,t.jsx)("div",{className:"space-y-6",children:[{number:1,title:"Create Your Account",description:"Sign up for a free account and get instant access to all communication APIs",status:"completed",action:null},{number:2,title:"Generate API Credentials",description:"Create your API key and secret to authenticate your requests",status:2===a?"current":a>2?"completed":"pending",action:er},{number:3,title:"Explore API Library",description:"Browse our comprehensive API documentation and examples",status:3===a?"current":a>3?"completed":"pending",action:()=>U("api-library")},{number:4,title:"Test in Playground",description:"Make your first API call in our interactive playground",status:4===a?"current":a>4?"completed":"pending",action:()=>U("playground")},{number:5,title:"Go Live",description:"Deploy to production and start building amazing experiences",status:5===a?"completed":"pending",action:null}].map(e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${"completed"===e.status?"bg-green-500/20 text-green-400 border-2 border-green-500":"current"===e.status?"bg-blue-500/20 text-blue-400 border-2 border-blue-500 animate-pulse":"bg-slate-700/50 text-slate-500 border-2 border-slate-600"}`,children:"completed"===e.status?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)("span",{className:"font-bold",children:e.number})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]}),"current"===e.status&&e.action&&(0,t.jsxs)("button",{onClick:e.action,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/25 self-start",children:["Continue",(0,t.jsx)(eN.default,{className:"w-4 h-4"})]})]},e.number))})]}),i&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(r.default,{className:"w-6 h-6 text-yellow-400"}),"Your API Credentials"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"API Key"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:i,readOnly:!0,className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm"}),(0,t.jsx)("button",{onClick:()=>ei(i,"apiKey"),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"apiKey"===F?(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}):(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"API Secret"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:x?"text":"password",value:c,readOnly:!0,className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm"}),(0,t.jsx)("button",{onClick:()=>u(!x),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:x?(0,t.jsx)(A.default,{className:"w-5 h-5"}):(0,t.jsx)(S.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>ei(c,"apiSecret"),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"apiSecret"===F?(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}):(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(eX.default,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-yellow-200",children:[(0,t.jsx)("strong",{children:"Keep your API secret secure!"})," Never commit it to version control or expose it in client-side code."]})]})]})]})]}),"api-library"===q&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(eK.default,{className:"w-6 h-6 text-blue-400"}),"Complete API Reference"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Browse all available APIs, methods, and parameters"})]}),(0,t.jsxs)("div",{className:"relative w-80",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search APIs...",value:Z,onChange:e=>ee(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500"})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:Object.entries(et).map(([e,s])=>{let a=s.icon;return(0,t.jsx)("button",{onClick:()=>V(e),className:`px-4 py-2 rounded-lg border transition-all ${O===e?`bg-${s.color}-500/20 border-${s.color}-500 text-${s.color}-400`:"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a,{className:"w-4 h-4"}),s.name]})},e)})})]}),em.map(([e,s])=>O&&O!==e?null:(0,t.jsx)("div",{className:"space-y-4",children:s.apis.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]}),(0,t.jsxs)("button",{onClick:()=>B(z===e.name?"":e.name),className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:[z===e.name?"Hide":"Show"," Methods"]})]})}),z===e.name&&(0,t.jsx)("div",{className:"p-6 space-y-6",children:e.methods.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${"GET"===e.method?"bg-green-500/20 text-green-400":"POST"===e.method?"bg-blue-500/20 text-blue-400":"PUT"===e.method?"bg-orange-500/20 text-orange-400":"DELETE"===e.method?"bg-red-500/20 text-red-400":"bg-purple-500/20 text-purple-400"}`,children:e.method}),(0,t.jsx)("code",{className:"text-cyan-400 font-mono text-sm",children:e.endpoint})]}),(0,t.jsxs)("button",{onClick:()=>{W({...K,method:e.method,endpoint:e.endpoint}),U("playground")},className:"text-xs bg-cyan-600 hover:bg-cyan-700 text-white px-3 py-1 rounded-lg transition-colors flex items-center gap-1",children:[(0,t.jsx)(eD.Play,{className:"w-3 h-3"}),"Try it"]})]}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Parameters"}),(0,t.jsx)("div",{className:"space-y-2",children:e.parameters.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,t.jsx)("code",{className:"text-cyan-400 font-mono",children:e.name}),(0,t.jsx)("span",{className:"text-slate-500",children:e.type}),e.required&&(0,t.jsx)("span",{className:"text-red-400 text-xs",children:"required"}),(0,t.jsx)("span",{className:"text-slate-400 flex-1",children:e.description})]},s))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white mb-2",children:"Example Response"}),(0,t.jsx)("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto",children:(0,t.jsx)("code",{children:JSON.stringify(e.response,null,2)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white",children:"Code Example"}),(0,t.jsx)("div",{className:"flex gap-2",children:ec.map(e=>(0,t.jsx)("button",{onClick:()=>b(e.id),className:`px-3 py-1 rounded text-xs ${g===e.id?"bg-cyan-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:e.name},e.id))})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{onClick:()=>ei(ed(e),`code-${s}`),className:"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 text-slate-400 rounded-lg transition-colors z-10",children:F===`code-${s}`?(0,t.jsx)(eh.default,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto pr-12",children:(0,t.jsx)("code",{children:ed(e)})})]})]})]},s))})]},s))},e))]}),"playground"===q&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(eH.default,{className:"w-6 h-6 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Advanced API Playground"})]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Test APIs with real-time request/response inspection and logging"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Request Builder"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Method"}),(0,t.jsxs)("select",{value:K.method,onChange:e=>W({...K,method:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"}),(0,t.jsx)("option",{value:"DELETE",children:"DELETE"}),(0,t.jsx)("option",{value:"PATCH",children:"PATCH"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Endpoint"}),(0,t.jsx)("input",{type:"text",value:K.endpoint,onChange:e=>W({...K,endpoint:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-cyan-500",placeholder:"/v1/messages/sms"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Request Body (JSON)"}),(0,t.jsx)("textarea",{value:K.body,onChange:e=>W({...K,body:e.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-cyan-500 h-40",placeholder:'{ "key": "value" }'})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Webhook URL (Optional)"}),(0,t.jsx)("input",{type:"text",value:H,onChange:e=>J(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white text-sm focus:outline-none focus:border-cyan-500",placeholder:"https://your-app.com/webhook"})]}),(0,t.jsx)("button",{onClick:en,disabled:_||!i,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-4 rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/25 font-medium",children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Sending Request..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"Send Request"]})}),!i&&(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("div",{className:"text-sm text-yellow-200",children:"Please generate API credentials from the Quick Start tab first"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(R.Clock,{className:"w-5 h-5 text-slate-400"}),"Request Log"]}),(0,t.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:0===G.length?(0,t.jsx)("p",{className:"text-slate-500 text-sm text-center py-8",children:"No requests yet"}):G.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-3 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${200===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.status}),(0,t.jsx)("span",{className:"text-blue-400 font-mono",children:e.method}),(0,t.jsx)("span",{className:"text-slate-400",children:e.endpoint})]}),(0,t.jsxs)("span",{className:"text-slate-500",children:[e.duration,"ms"]})]}),(0,t.jsx)("div",{className:"text-slate-500",children:e.timestamp})]},s))})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Response"}),N?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[N.success?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}):(0,t.jsx)(y.X,{className:"w-5 h-5 text-red-400"}),(0,t.jsx)("span",{className:`font-medium ${N.success?"text-green-400":"text-red-400"}`,children:N.success?"Success (200 OK)":"Error"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 relative",children:[(0,t.jsx)("button",{onClick:()=>ei(JSON.stringify(N,null,2),"response"),className:"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 text-slate-400 rounded-lg transition-colors",children:"response"===F?(0,t.jsx)(eh.default,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("pre",{className:"text-sm text-slate-300 overflow-x-auto pr-12",children:(0,t.jsx)("code",{children:JSON.stringify(N,null,2)})})]})]}):(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-12 text-center",children:[(0,t.jsx)(m.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-500",children:"No response yet"}),(0,t.jsx)("p",{className:"text-slate-600 text-sm mt-2",children:"Send a request to see the response"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(eY.default,{className:"w-5 h-5 text-purple-400"}),"Webhook Simulator"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Set a webhook URL to receive delivery receipts and status updates in real-time"}),(0,t.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(eQ.default,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-purple-200",children:[(0,t.jsx)("strong",{children:"Webhook Status:"})," ",H?"Configured":"Not configured",H&&(0,t.jsx)("div",{className:"mt-2 text-xs text-purple-300 font-mono break-all",children:H})]})]})})]}),M&&M.test_calls_made>0&&(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"text-green-400 font-medium mb-1 flex items-center gap-2",children:[(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5"}),M.test_calls_made," API ",1===M.test_calls_made?"call":"calls"," made"]}),(0,t.jsx)("div",{className:"text-green-200 text-sm",children:"Keep testing to explore all API capabilities!"})]})]})]})]}),"resources"===q&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(eo.Package,{className:"w-6 h-6 text-purple-400"}),"Developer Resources"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Everything you need to build, test, and scale your integration"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:eK.default,title:"API Documentation",description:"Complete API reference with examples",link:"#"},{icon:eB.default,title:"Interactive Console",description:"Test APIs directly in your browser",link:"#"},{icon:eI.Code,title:"Code Samples",description:"Production-ready code snippets",link:"#"},{icon:eW.default,title:"Quick Start Guides",description:"Step-by-step integration tutorials",link:"#"},{icon:m.default,title:"Status Dashboard",description:"Real-time API status and metrics",link:"#"},{icon:n.Shield,title:"Security Best Practices",description:"Keep your integration secure",link:"#"},{icon:eG.default,title:"Webhooks Guide",description:"Handle real-time events",link:"#"},{icon:eJ.default,title:"Use Cases",description:"Inspiration and examples",link:"#"},{icon:E.Globe,title:"Global Coverage",description:"Available countries and carriers",link:"#"}].map((e,s)=>{let a=e.icon;return(0,t.jsxs)("a",{href:e.link,className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all group cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-700/50 rounded-lg group-hover:bg-slate-700 transition-colors",children:(0,t.jsx)(a,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsx)(eM.default,{className:"w-4 h-4 text-slate-500 group-hover:text-cyan-400 transition-colors"})]}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]},s)})}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl p-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Need Help Getting Started?"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Our support team is here to help you integrate and go live faster"})]}),(0,t.jsxs)("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-blue-500/25",children:["Contact Support",(0,t.jsx)(eN.default,{className:"w-5 h-5"})]})]})})]})]})}var e0=e.i(94983),_=_,eu=eu,k=k,m=m,ex=ex,e4=e.i(64680),e4=e4,L=L,e2=e.i(53651),e2=e2,e5=e.i(37092),e5=e5,e3=e.i(68426),e3=e3,e1=e.i(17170),e1=e1,e6=e.i(19613),e6=e6,el=el,e7=e.i(65452),e7=e7,ew=ew,e8=e.i(91338),e8=e8,e9=e.i(92391),e9=e9;function te(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)("overview"),[r,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)([]),[c,o]=(0,s.useState)(null),[x,u]=(0,s.useState)(!1),[p,g]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[j,N]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)(!1),[E,F]=(0,s.useState)(!1),[q,U]=(0,s.useState)(!1),[O,V]=(0,s.useState)(!1),[z,B]=(0,s.useState)(!1),[K,W]=(0,s.useState)({subject:"",description:"",priority:"medium",category_id:""}),[G,X]=(0,s.useState)({severity:"medium",impact:"medium",urgency:"medium",affected_services:"",description:""}),[H,J]=(0,s.useState)({title:"",description:"",category:"",priority:"medium"}),[Y,Q]=(0,s.useState)({title:"",description:"",change_type:"standard",risk_level:"low",impact:"low",scheduled_start:"",scheduled_end:""}),[Z,ee]=(0,s.useState)({asset_tag:"",asset_name:"",asset_type:"laptop",manufacturer:"",model:"",location:"",purchase_date:""}),[et,es]=(0,s.useState)({policy_name:"",priority:"medium",response_time_minutes:240,resolution_time_minutes:2880}),[ea,er]=(0,s.useState)({openTickets:0,criticalIncidents:0,pendingChanges:0,avgResolutionTime:0,slaCompliance:0,totalAssets:0});(0,s.useEffect)(()=>{ei()},[]);let ei=async()=>{i(!0);try{await Promise.all([en(),ed(),ec(),eh(),ep(),eg(),ef(),ej()])}catch(e){console.error("Error loading support data:",e)}finally{i(!1)}},en=async()=>{let{data:e}=await h.db.from("support_tickets").select(`
        *,
        category:support_categories(name, icon),
        agent:support_agents(full_name, avatar_url)
      `).order("created_at",{ascending:!1});e&&d(e)},ed=async()=>{let{data:e}=await h.db.from("itsm_incidents").select("*").order("detected_at",{ascending:!1});e&&f(e)},ec=async()=>{let{data:e}=await h.db.from("itsm_problems").select("*").order("identified_at",{ascending:!1});e&&N(e)},eh=async()=>{let{data:e}=await h.db.from("itsm_changes").select("*").order("created_at",{ascending:!1});e&&C(e)},ep=async()=>{let{data:e}=await h.db.from("itsm_assets").select("*").order("asset_name");e&&A(e)},eg=async()=>{let{data:e}=await h.db.from("itsm_service_catalog").select("*").eq("is_active",!0).order("display_order");e&&P(e)},ef=async()=>{let{data:e}=await h.db.from("itsm_sla_policies").select("*").eq("is_active",!0).order("priority");e&&g(e)},ej=async()=>{let{data:e}=await h.db.from("support_tickets").select("status").in("status",["open","assigned","in_progress"]),{data:t}=await h.db.from("itsm_incidents").select("severity").eq("severity","critical").in("incident_status",["new","investigating","in_progress"]),{data:s}=await h.db.from("itsm_changes").select("approval_status").eq("approval_status","pending"),{data:a}=await h.db.from("itsm_assets").select("id");er({openTickets:e?.length||0,criticalIncidents:t?.length||0,pendingChanges:s?.length||0,avgResolutionTime:245,slaCompliance:94.5,totalAssets:a?.length||0})},eN=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{data:t}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).single(),s=`INC-${Date.now().toString().slice(-6)}`,{error:a}=await h.db.from("itsm_incidents").insert({tenant_id:t?.tenant_id||null,incident_number:s,severity:G.severity,impact:G.impact,urgency:G.urgency,affected_services:G.affected_services.split(",").map(e=>e.trim()),incident_status:"new",created_by:e.id});a||(M(!1),X({severity:"medium",impact:"medium",urgency:"medium",affected_services:"",description:""}),ed(),ej())},ev=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{data:t}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).single(),s=`PRB-${Date.now().toString().slice(-6)}`,{error:a}=await h.db.from("itsm_problems").insert({tenant_id:t?.tenant_id||null,problem_number:s,title:H.title,description:H.description,category:H.category,priority:H.priority,problem_status:"identified",created_by:e.id});a||(F(!1),J({title:"",description:"",category:"",priority:"medium"}),ec())},ey=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{data:t}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).single(),s=`CHG-${Date.now().toString().slice(-6)}`,{error:a}=await h.db.from("itsm_changes").insert({tenant_id:t?.tenant_id||null,change_number:s,title:Y.title,description:Y.description,change_type:Y.change_type,risk_level:Y.risk_level,impact:Y.impact,change_status:"draft",approval_status:"pending",scheduled_start:Y.scheduled_start||null,scheduled_end:Y.scheduled_end||null,requested_by:e.id});a||(U(!1),Q({title:"",description:"",change_type:"standard",risk_level:"low",impact:"low",scheduled_start:"",scheduled_end:""}),eh(),ej())},e_=async()=>{let{data:t}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e?.id).single(),{error:s}=await h.db.from("itsm_assets").insert({tenant_id:t?.tenant_id||null,asset_tag:Z.asset_tag,asset_name:Z.asset_name,asset_type:Z.asset_type,manufacturer:Z.manufacturer,model:Z.model,asset_status:"in_stock",location:Z.location,purchase_date:Z.purchase_date||null});s||(V(!1),ee({asset_tag:"",asset_name:"",asset_type:"laptop",manufacturer:"",model:"",location:"",purchase_date:""}),ep(),ej())},ek=async()=>{let{data:t}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e?.id).single(),{error:s}=await h.db.from("itsm_sla_policies").insert({tenant_id:t?.tenant_id||null,policy_name:et.policy_name,priority:et.priority,response_time_minutes:et.response_time_minutes,resolution_time_minutes:et.resolution_time_minutes,business_hours_only:!0,is_active:!0});s||(B(!1),es({policy_name:"",priority:"medium",response_time_minutes:240,resolution_time_minutes:2880}),ef())},eC=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{data:t}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).single(),s=`TKT-${Math.floor(9e5*Math.random()+1e5)}`,{error:a}=await h.db.from("support_tickets").insert({ticket_number:s,tenant_id:t?.tenant_id||null,user_id:e.id,subject:K.subject,description:K.description,status:"open",priority:K.priority,channel:"web",category_id:K.category_id||null});a||(u(!1),W({subject:"",description:"",priority:"medium",category_id:""}),en(),ej())},eS=e=>({critical:"bg-red-500/20 text-red-400 border-red-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",medium:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",low:"bg-blue-500/20 text-blue-400 border-blue-500/30"})[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30",eA=e=>({open:"bg-blue-500/20 text-blue-400 border-blue-500/30",new:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",investigating:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",in_progress:"bg-orange-500/20 text-orange-400 border-orange-500/30",resolved:"bg-green-500/20 text-green-400 border-green-500/30",closed:"bg-gray-500/20 text-gray-400 border-gray-500/30",pending:"bg-purple-500/20 text-purple-400 border-purple-500/30",approved:"bg-green-500/20 text-green-400 border-green-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"})[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30",eT=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return r?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading ITSM Center..."})]})}):(0,t.jsxs)("div",{className:"p-8 bg-slate-950 min-h-screen",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"IT Service Management"}),(0,t.jsx)("p",{className:"text-xl text-slate-400",children:"Comprehensive ITSM Platform with SLA Management"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(L.default,{className:"w-5 h-5"}),"New Incident"]}),(0,t.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Ticket"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(e4.default,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:ea.openTickets})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Open Tickets"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:ea.criticalIncidents})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Critical Incidents"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(e3.default,{className:"w-6 h-6 text-orange-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:ea.pendingChanges})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Pending Changes"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(e6.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:ea.avgResolutionTime})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Avg Resolution (min)"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(e1.default,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white",children:[ea.slaCompliance,"%"]})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"SLA Compliance"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(eo.Package,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:ea.totalAssets})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Total Assets"})]})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl mb-6",children:(0,t.jsx)("div",{className:"flex gap-2 p-4 overflow-x-auto",children:[{id:"overview",name:"Overview",icon:m.default},{id:"tickets",name:"Tickets",icon:e4.default},{id:"incidents",name:"Incidents",icon:eF.AlertCircle},{id:"problems",name:"Problems",icon:e5.default},{id:"changes",name:"Changes",icon:e3.default},{id:"assets",name:"Assets",icon:eo.Package},{id:"catalog",name:"Service Catalog",icon:em.ShoppingCart},{id:"sla",name:"SLA Management",icon:e1.default},{id:"reports",name:"Reports",icon:eR.BarChart3}].map(e=>{let s=e.icon,r=a===e.id;return(0,t.jsxs)("button",{onClick:()=>l(e.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium whitespace-nowrap transition-all ${r?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.name]},e.id)})})}),(0,t.jsxs)("div",{children:["overview"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Recent Incidents"}),(0,t.jsx)("button",{onClick:()=>l("incidents"),className:"text-cyan-400 hover:text-cyan-300 text-sm",children:"View All"})]}),(0,t.jsx)("div",{className:"space-y-3",children:b.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-white mb-1",children:e.incident_number}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${eS(e.severity)}`,children:e.severity}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${eA(e.incident_status)}`,children:e.incident_status})]})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:eT(e.detected_at)})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Upcoming Changes"}),(0,t.jsx)("button",{onClick:()=>l("changes"),className:"text-cyan-400 hover:text-cyan-300 text-sm",children:"View All"})]}),(0,t.jsx)("div",{className:"space-y-3",children:w.filter(e=>e.scheduled_start).slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-white mb-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${eS(e.risk_level)}`,children:[e.risk_level," risk"]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${eA(e.approval_status)}`,children:e.approval_status})]})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:eT(e.scheduled_start)})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Service Catalog"}),(0,t.jsx)("button",{onClick:()=>l("catalog"),className:"text-cyan-400 hover:text-cyan-300 text-sm",children:"View All"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:T.slice(0,4).map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-cyan-500 transition-all cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(em.ShoppingCart,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsx)("div",{className:"font-semibold text-white",children:e.service_name})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-2",children:e.service_category}),(0,t.jsxs)("div",{className:"text-xs text-slate-500",children:["Est. ",e.estimated_fulfillment_time_hours,"h"]})]},e.id))})]})]}),"tickets"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Support Tickets"}),(0,t.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Ticket"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:0===n.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(e4.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No tickets found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create a new ticket to get support"})]}):n.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all cursor-pointer",onClick:()=>o(e),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-6 h-6 text-cyan-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-white",children:e.subject}),(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:[e.ticket_number," - Created ",eT(e.created_at)]})]})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-400 mb-3",children:[e.description.substring(0,150),e.description.length>150?"...":""]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eS(e.priority)}`,children:e.priority}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eA(e.status)}`,children:e.status.replace("_"," ")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(ex.default,{className:"w-4 h-4"}),e.category?.name||"General"]}),e.assigned_agent_id&&e.agent&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)($.User,{className:"w-4 h-4"}),e.agent.full_name]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:e.tags.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-900 rounded text-xs",children:e},s))})]})]},e.id))})]}),"incidents"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Incident Management"}),(0,t.jsxs)("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Incident"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-white",children:e.incident_number}),(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:["Detected ",eT(e.detected_at)]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eS(e.severity)}`,children:e.severity}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eA(e.incident_status)}`,children:e.incident_status})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Impact: ",e.impact]}),(0,t.jsxs)("span",{children:["Urgency: ",e.urgency]}),e.affected_services&&(0,t.jsxs)("span",{children:["Affected: ",e.affected_services.join(", ")]})]})]},e.id))})]}),"problems"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Problem Management"}),(0,t.jsxs)("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Problem"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e5.default,{className:"w-6 h-6 text-orange-400"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-white",children:[e.problem_number,": ",e.title]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.description})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eS(e.priority)}`,children:e.priority}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eA(e.problem_status)}`,children:e.problem_status})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Related Incidents: ",e.related_incident_count]}),(0,t.jsxs)("span",{children:["Identified: ",eT(e.identified_at)]})]})]},e.id))})]}),"changes"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Change Management"}),(0,t.jsxs)("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Change"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e3.default,{className:"w-6 h-6 text-blue-400"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-lg font-semibold text-white",children:[e.change_number,": ",e.title]}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.description})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eS(e.risk_level)}`,children:[e.risk_level," risk"]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${eA(e.approval_status)}`,children:e.approval_status})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Type: ",e.change_type]}),e.scheduled_start&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{children:["Scheduled: ",eT(e.scheduled_start)]}),(0,t.jsxs)("span",{children:["to ",eT(e.scheduled_end)]})]})]})]},e.id))})]}),"assets"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"IT Asset Management"}),(0,t.jsxs)("button",{onClick:()=>V(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Asset"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(e=>{var s;let a=(s=e.asset_type,({laptop:el.default,server:e2.default,phone:e7.default,printer:ew.default,monitor:el.default,switch:e9.default,storage:e8.default})[s]||eo.Package);return(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(a,{className:"w-8 h-8 text-purple-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-white mb-1",children:e.asset_name}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.asset_tag})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${eA(e.asset_status)}`,children:e.asset_status.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-slate-400",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Type:"})," ",e.asset_type]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Manufacturer:"})," ",e.manufacturer]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Model:"})," ",e.model]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Location:"})," ",e.location]}),e.warranty_expiry&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Warranty:"})," ",eT(e.warranty_expiry)]})]})]},e.id)})})]}),"catalog"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Service Catalog"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Request IT services and support"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-cyan-500 transition-all cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(em.ShoppingCart,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-white mb-1",children:e.service_name}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:e.service_code})]})]}),(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-slate-500",children:e.service_category}),(0,t.jsxs)("span",{className:"text-xs text-cyan-400",children:["Est. ",e.estimated_fulfillment_time_hours,"h"]})]}),e.approval_required&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,t.jsxs)("span",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-3 h-3"}),"Approval Required"]})})]},e.id))})]}),"sla"===a&&(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"SLA Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Service Level Agreement policies and tracking"})]}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New SLA Policy"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(e1.default,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-white",children:e.policy_name}),(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:["Priority: ",e.priority]})]})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${e.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:e.is_active?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e6.default,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Response Time"})]}),(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.response_time_minutes<60?`${e.response_time_minutes} min`:`${(e.response_time_minutes/60).toFixed(1)} hr`})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Resolution Time"})]}),(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.resolution_time_minutes<60?`${e.resolution_time_minutes} min`:`${(e.resolution_time_minutes/60).toFixed(1)} hr`})]})]})]},e.id))})]}),"reports"===a&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"ITSM Metrics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Average First Response Time"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:"2.4 hours"})]}),(0,t.jsx)(eb.TrendingUp,{className:"w-8 h-8 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Average Resolution Time"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white",children:[ea.avgResolutionTime," min"]})]}),(0,t.jsx)(R.Clock,{className:"w-8 h-8 text-blue-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"SLA Compliance Rate"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white",children:[ea.slaCompliance,"%"]})]}),(0,t.jsx)(e1.default,{className:"w-8 h-8 text-cyan-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Customer Satisfaction"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:"4.6/5.0"})]}),(0,t.jsx)(eu.default,{className:"w-8 h-8 text-yellow-400"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Change Success Rate"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Successful Changes"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-400",children:"127"})]}),(0,t.jsx)(v.CheckCircle,{className:"w-8 h-8 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Failed Changes"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-red-400",children:"8"})]}),(0,t.jsx)(k.default,{className:"w-8 h-8 text-red-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Success Rate"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:"94.1%"})]}),(0,t.jsx)(eb.TrendingUp,{className:"w-8 h-8 text-green-400"})]})]})]})]})]}),I&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Incident"}),(0,t.jsx)("button",{onClick:()=>M(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Severity"}),(0,t.jsxs)("select",{value:G.severity,onChange:e=>X({...G,severity:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"}),(0,t.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impact"}),(0,t.jsxs)("select",{value:G.impact,onChange:e=>X({...G,impact:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Urgency"}),(0,t.jsxs)("select",{value:G.urgency,onChange:e=>X({...G,urgency:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Affected Services (comma separated)"}),(0,t.jsx)("input",{type:"text",value:G.affected_services,onChange:e=>X({...G,affected_services:e.target.value}),placeholder:"e.g., Email Service, Database",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:G.description,onChange:e=>X({...G,description:e.target.value}),placeholder:"Describe the incident...",rows:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:eN,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Incident"}),(0,t.jsx)("button",{onClick:()=>M(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),E&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Problem"}),(0,t.jsx)("button",{onClick:()=>F(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:H.title,onChange:e=>J({...H,title:e.target.value}),placeholder:"Problem title",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),(0,t.jsx)("input",{type:"text",value:H.category,onChange:e=>J({...H,category:e.target.value}),placeholder:"e.g., Network, Hardware",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,t.jsxs)("select",{value:H.priority,onChange:e=>J({...H,priority:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"}),(0,t.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:H.description,onChange:e=>J({...H,description:e.target.value}),placeholder:"Describe the problem and root cause analysis...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:ev,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Problem"}),(0,t.jsx)("button",{onClick:()=>F(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),q&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Change"}),(0,t.jsx)("button",{onClick:()=>U(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:Y.title,onChange:e=>Q({...Y,title:e.target.value}),placeholder:"Change title",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Type"}),(0,t.jsxs)("select",{value:Y.change_type,onChange:e=>Q({...Y,change_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"standard",children:"Standard"}),(0,t.jsx)("option",{value:"normal",children:"Normal"}),(0,t.jsx)("option",{value:"emergency",children:"Emergency"}),(0,t.jsx)("option",{value:"major",children:"Major"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Risk Level"}),(0,t.jsxs)("select",{value:Y.risk_level,onChange:e=>Q({...Y,risk_level:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impact"}),(0,t.jsxs)("select",{value:Y.impact,onChange:e=>Q({...Y,impact:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Scheduled Start"}),(0,t.jsx)("input",{type:"datetime-local",value:Y.scheduled_start,onChange:e=>Q({...Y,scheduled_start:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Scheduled End"}),(0,t.jsx)("input",{type:"datetime-local",value:Y.scheduled_end,onChange:e=>Q({...Y,scheduled_end:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:Y.description,onChange:e=>Q({...Y,description:e.target.value}),placeholder:"Describe the change...",rows:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:ey,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Change"}),(0,t.jsx)("button",{onClick:()=>U(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),O&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New Asset"}),(0,t.jsx)("button",{onClick:()=>V(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Asset Tag"}),(0,t.jsx)("input",{type:"text",value:Z.asset_tag,onChange:e=>ee({...Z,asset_tag:e.target.value}),placeholder:"e.g., LAPTOP-001",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Asset Name"}),(0,t.jsx)("input",{type:"text",value:Z.asset_name,onChange:e=>ee({...Z,asset_name:e.target.value}),placeholder:"e.g., Dell Latitude 5520",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Asset Type"}),(0,t.jsxs)("select",{value:Z.asset_type,onChange:e=>ee({...Z,asset_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"laptop",children:"Laptop"}),(0,t.jsx)("option",{value:"desktop",children:"Desktop"}),(0,t.jsx)("option",{value:"server",children:"Server"}),(0,t.jsx)("option",{value:"phone",children:"Mobile Phone"}),(0,t.jsx)("option",{value:"tablet",children:"Tablet"}),(0,t.jsx)("option",{value:"monitor",children:"Monitor"}),(0,t.jsx)("option",{value:"printer",children:"Printer"}),(0,t.jsx)("option",{value:"switch",children:"Network Switch"}),(0,t.jsx)("option",{value:"router",children:"Router"}),(0,t.jsx)("option",{value:"storage",children:"Storage Device"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Manufacturer"}),(0,t.jsx)("input",{type:"text",value:Z.manufacturer,onChange:e=>ee({...Z,manufacturer:e.target.value}),placeholder:"e.g., Dell, HP, Apple",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Model"}),(0,t.jsx)("input",{type:"text",value:Z.model,onChange:e=>ee({...Z,model:e.target.value}),placeholder:"Model number",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Purchase Date"}),(0,t.jsx)("input",{type:"date",value:Z.purchase_date,onChange:e=>ee({...Z,purchase_date:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Location"}),(0,t.jsx)("input",{type:"text",value:Z.location,onChange:e=>ee({...Z,location:e.target.value}),placeholder:"e.g., Floor 3 - Marketing",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:e_,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Add Asset"}),(0,t.jsx)("button",{onClick:()=>V(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create SLA Policy"}),(0,t.jsx)("button",{onClick:()=>B(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Policy Name"}),(0,t.jsx)("input",{type:"text",value:et.policy_name,onChange:e=>es({...et,policy_name:e.target.value}),placeholder:"e.g., Premium Support SLA",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority Level"}),(0,t.jsxs)("select",{value:et.priority,onChange:e=>es({...et,priority:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"}),(0,t.jsx)("option",{value:"urgent",children:"Urgent"}),(0,t.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Response Time (minutes)"}),(0,t.jsx)("input",{type:"number",value:et.response_time_minutes,onChange:e=>es({...et,response_time_minutes:parseInt(e.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Resolution Time (minutes)"}),(0,t.jsx)("input",{type:"number",value:et.resolution_time_minutes,onChange:e=>es({...et,resolution_time_minutes:parseInt(e.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:ek,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Policy"}),(0,t.jsx)("button",{onClick:()=>B(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),x&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Support Ticket"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),(0,t.jsx)("input",{type:"text",value:K.subject,onChange:e=>W({...K,subject:e.target.value}),placeholder:"Brief description of your issue",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,t.jsxs)("select",{value:K.priority,onChange:e=>W({...K,priority:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"}),(0,t.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),(0,t.jsxs)("select",{value:K.category_id,onChange:e=>W({...K,category_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select category..."}),(0,t.jsx)("option",{value:"6dd4c7d3-7a75-494c-988d-ec849f38e645",children:"Getting Started"}),(0,t.jsx)("option",{value:"8b337fe1-8820-4ab2-bba2-3c8acbb53040",children:"API Integration"}),(0,t.jsx)("option",{value:"2a78d5aa-c7cd-49ef-97ae-e5b12e4be144",children:"Billing & Payments"}),(0,t.jsx)("option",{value:"476848ac-ef42-4757-b4a1-db54e14e6140",children:"Account Management"}),(0,t.jsx)("option",{value:"83f842bc-bbf6-4d12-a06a-3c1f969f5e2d",children:"Technical Issues"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:K.description,onChange:e=>W({...K,description:e.target.value}),placeholder:"Please provide detailed information about your issue...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:eC,disabled:!K.subject||!K.description,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Ticket"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})})]})}var p=p,eK=eK,x=x,S=S,f=f,l=l,ex=ex,eu=eu;function tt(){let[e,a]=(0,s.useState)(""),[r,i]=(0,s.useState)("All"),[n,c]=(0,s.useState)("All"),[o,m]=(0,s.useState)([]),[u,g]=(0,s.useState)(!0),[b,j]=(0,s.useState)(null),[N,w]=(0,s.useState)(!1),_=[{id:"All",name:"All Types",icon:d.FileText},{id:"user_guide",name:"User Guides",icon:eK.default},{id:"admin_guide",name:"Admin Guides",icon:l.default}];(0,s.useEffect)(()=>{k()},[]);let k=async()=>{g(!0);try{let{data:e,error:t}=await h.db.from("products").select("id, name, sku, category").order("name");if(t)throw t;let{data:s,error:a}=await h.db.from("product_documentation").select("*").order("downloads",{ascending:!1});if(a)throw a;let l=(s||[]).map(t=>({...t,product:(e||[]).find(e=>e.id===t.product_id)}));m(l)}catch(e){console.error("Error loading documentation:",e)}finally{g(!1)}},C=async e=>{await h.db.from("product_documentation").update({downloads:e.downloads+1}).eq("id",e.id),window.open(e.pdf_url,"_blank"),await k()},A=e=>{j(e),w(!0)},T=o.filter(t=>{let s=t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.product?.name.toLowerCase().includes(e.toLowerCase()),a="All"===r||t.product?.category===r,l="All"===n||t.doc_type===n;return s&&a&&l}),P=e=>{switch(e){case"user_guide":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"admin_guide":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"api_reference":return"bg-green-500/20 text-green-400 border-green-500/30";case"integration_guide":return"bg-orange-500/20 text-orange-400 border-orange-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},I=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=[...o].sort((e,t)=>t.downloads-e.downloads).slice(0,6),D=[...o].sort((e,t)=>new Date(t.last_updated).getTime()-new Date(e.last_updated).getTime()).slice(0,6);return u?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading documentation..."})]})}):(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,t.jsxs)("div",{className:"relative bg-gradient-to-br from-blue-500/10 via-cyan-500/10 to-teal-500/10 border-b border-slate-700",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"}),(0,t.jsx)("div",{className:"relative p-8 md:p-12",children:(0,t.jsxs)("div",{className:"max-w-4xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl",children:(0,t.jsx)(d.FileText,{className:"w-8 h-8 text-white"})}),(0,t.jsx)("h1",{className:"text-5xl font-bold text-white",children:"Documentation Library"})]}),(0,t.jsx)("p",{className:"text-xl text-slate-300 mb-6",children:"Comprehensive guides and documentation for all our communication products. Download PDFs for offline access."}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(eK.default,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"text-white font-semibold",children:[o.length," Guides"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Available"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(x.default,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:o.reduce((e,t)=>e+t.downloads,0).toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Downloads"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:"Always Updated"}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Latest Versions"})]})]})]})]})})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search documentation...",value:e,onChange:e=>a(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl pl-12 pr-4 py-3.5 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"}),e&&(0,t.jsx)("button",{onClick:()=>a(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-4",children:[{id:"All",name:"All Products",count:0},{id:"Messaging",name:"Messaging",count:0},{id:"Voice",name:"Voice",count:0},{id:"Video",name:"Video",count:0},{id:"Bot",name:"AI & Bots",count:0},{id:"Social",name:"Social",count:0}].map(e=>{let s=r===e.id;return(0,t.jsxs)("button",{onClick:()=>i(e.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 font-medium whitespace-nowrap transition-all ${s?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border-cyan-500 text-cyan-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600 hover:text-slate-300"}`,children:[(0,t.jsx)(eo.Package,{className:"w-4 h-4"}),e.name]},e.id)})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:_.map(e=>{let s=e.icon,a=n===e.id;return(0,t.jsxs)("button",{onClick:()=>c(e.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border font-medium whitespace-nowrap transition-all ${a?"bg-blue-500/20 border-blue-500 text-blue-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600 hover:text-slate-300"}`,children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.name]},e.id)})})]}),""===e&&"All"===r&&"All"===n&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(eu.default,{className:"w-6 h-6 text-yellow-400 fill-yellow-400"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Most Popular"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${P(e.doc_type)}`,children:e.doc_type.replace("_"," ").toUpperCase()}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(eb.TrendingUp,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:e.downloads})]})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:e.product?.name}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.FileText,{className:"w-3 h-3"}),e.page_count,"p"]}),(0,t.jsx)("span",{children:e.file_size})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>A(e),className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",title:"View",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>C(e),className:"p-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Download",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})})]})]})]},e.id))})]}),""===e&&"All"===r&&"All"===n&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-cyan-400"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Recently Updated"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${P(e.doc_type)}`,children:e.doc_type.replace("_"," ").toUpperCase()}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-slate-400",children:[(0,t.jsx)(f.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{className:"text-xs",children:I(e.last_updated)})]})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:e.product?.name}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.FileText,{className:"w-3 h-3"}),e.page_count,"p"]}),(0,t.jsxs)("span",{children:["v",e.version]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>A(e),className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",title:"View",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>C(e),className:"p-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Download",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})})]})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:e||"All"!==r||"All"!==n?"Search Results":"All Documentation"}),(0,t.jsxs)("p",{className:"text-slate-400",children:["Showing ",(0,t.jsx)("span",{className:"text-white font-semibold",children:T.length})," guide",1!==T.length?"s":""]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:T.map(e=>(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden hover:border-slate-600 transition-all group",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:(0,t.jsx)(d.FileText,{className:`w-6 h-6 ${(e=>{switch(e){case"Messaging":return"text-blue-400";case"Voice":return"text-green-400";case"Video":return"text-purple-400";case"Bot":return"text-orange-400";case"Social":return"text-pink-400";default:return"text-slate-400"}})(e.product?.category||"")}`})}),(0,t.jsx)("div",{children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${P(e.doc_type)}`,children:e.doc_type.replace("_"," ").toUpperCase()})})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-xs text-slate-500 mb-1",children:["Version ",e.version]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[(0,t.jsx)(x.default,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.downloads})]})]})]}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(ex.default,{className:"w-4 h-4 text-slate-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:e.product?.name})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-xs text-slate-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),e.page_count," pages"]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(eo.Package,{className:"w-4 h-4"}),e.file_size]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),I(e.last_updated)]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>A(e),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(S.default,{className:"w-4 h-4"}),"View PDF"]}),(0,t.jsxs)("button",{onClick:()=>C(e),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]})]})]})},e.id))}),0===T.length&&(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-16 text-center",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(d.FileText,{className:"w-10 h-10 text-slate-500"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-3",children:"No documentation found"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Try adjusting your search or filters to find what you're looking for."}),(0,t.jsx)("button",{onClick:()=>{a(""),i("All"),c("All")},className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Clear All Filters"})]})})]})]}),N&&b&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-6xl h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:b.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsx)("span",{children:b.product?.name}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Version ",b.version]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:[b.page_count," pages"]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:b.file_size})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("button",{onClick:()=>C(b),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]}),(0,t.jsx)("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]})]}),(0,t.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,t.jsx)("div",{className:"bg-slate-800/50 border-2 border-dashed border-slate-700 rounded-xl h-full flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(d.FileText,{className:"w-20 h-20 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"PDF Preview"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6 max-w-md",children:"This is a placeholder for the PDF viewer. In production, this would display the actual PDF document using a library like PDF.js or react-pdf."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>C(b),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 mx-auto",children:[(0,t.jsx)(x.default,{className:"w-5 h-5"}),"Download PDF to View"]}),(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["PDF URL: ",(0,t.jsx)("a",{href:b.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:b.pdf_url})]})]})]})})})]})})]})}var k=k,L=L;function ts(){let[e,a]=(0,s.useState)([{id:"1",name:"SMS API Integration Tests",platform:"SMS",tests:45,passed:43,failed:2,pending:0,lastRun:"2 hours ago",status:"failing"},{id:"2",name:"WhatsApp Message Delivery",platform:"WhatsApp",tests:32,passed:32,failed:0,pending:0,lastRun:"1 hour ago",status:"passing"},{id:"3",name:"RCS Rich Media Tests",platform:"RCS",tests:28,passed:26,failed:0,pending:2,lastRun:"3 hours ago",status:"pending"},{id:"4",name:"Voice Call Quality Tests",platform:"Voice",tests:18,passed:18,failed:0,pending:0,lastRun:"30 minutes ago",status:"passing"},{id:"5",name:"Video Conferencing Tests",platform:"Video",tests:25,passed:0,failed:0,pending:25,lastRun:"Never",status:"pending"}]),l=e.reduce((e,t)=>e+t.tests,0),r=e.reduce((e,t)=>e+t.passed,0),i=e.reduce((e,t)=>e+t.failed,0),n=e.reduce((e,t)=>e+t.pending,0),d=l>0?(r/l*100).toFixed(1):0;return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Feature Validation"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mt-2",children:"Automated testing and validation for all platform features"})]}),(0,t.jsxs)("button",{onClick:()=>{a(e=>e.map(e=>({...e,status:"running"}))),setTimeout(()=>{a(e=>e.map(e=>{let t=e.tests;return{...e,passed:t,failed:0,pending:0,lastRun:"Just now",status:"passing"}}))},3e3)},disabled:e.some(e=>"running"===e.status),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(eD.Play,{className:"w-5 h-5"}),e.some(e=>"running"===e.status)?"Running...":"Run All Tests"]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Tests"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:l})]}),(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,t.jsx)(eI.Code,{className:"w-6 h-6 text-blue-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Across all platforms"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Passed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:r})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsxs)("p",{className:"text-green-400 text-sm",children:["Success rate: ",d,"%"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:i})]}),(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,t.jsx)(k.default,{className:"w-6 h-6 text-red-400"})})]}),(0,t.jsx)("p",{className:"text-red-400 text-sm",children:"Requires attention"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:n})]}),(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,t.jsx)("p",{className:"text-yellow-400 text-sm",children:"Not yet run"})]})]}),i>0&&(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-8 flex items-start gap-3",children:[(0,t.jsx)(L.default,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Test Failures Detected"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:[i," test",i>1?"s have":" has"," failed. Please review and fix the issues before deploying to production."]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Test Suites"}),(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"passing":return"bg-green-500/20 text-green-400 border-green-500/30";case"failing":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"running":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Platform: ",e.platform]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Last run: ",e.lastRun]})]})]}),(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.id,void(a(e=>e.map(e=>e.id===t?{...e,status:"running"}:e)),setTimeout(()=>{a(e=>e.map(e=>{if(e.id===t){let t=e.tests;return{...e,passed:t,failed:0,pending:0,lastRun:"Just now",status:"passing"}}return e}))},2e3))},disabled:"running"===e.status,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"running"===e.status?"Running...":"Run Tests"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs mb-1",children:"Total"}),(0,t.jsx)("div",{className:"text-white text-2xl font-bold",children:e.tests})]}),(0,t.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-green-400 text-xs mb-1",children:"Passed"}),(0,t.jsxs)("div",{className:"text-green-400 text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}),e.passed]})]}),(0,t.jsxs)("div",{className:"bg-red-500/10 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-red-400 text-xs mb-1",children:"Failed"}),(0,t.jsxs)("div",{className:"text-red-400 text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(k.default,{className:"w-5 h-5"}),e.failed]})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-yellow-400 text-xs mb-1",children:"Pending"}),(0,t.jsxs)("div",{className:"text-yellow-400 text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(R.Clock,{className:"w-5 h-5"}),e.pending]})]})]}),e.tests>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Progress"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[(e.passed/e.tests*100).toFixed(0),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-800 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all",style:{width:`${e.passed/e.tests*100}%`}})})]})]},e.id))})]})]})}var el=el,ta=e.i(17603),ta=ta,r=r,x=x,C=C,p=p,ez=ez,l=l,tl=e.i(10132),tl=tl,u=u,tr=e.i(26943),tr=tr,ti=e.i(23960),ti=ti,f=f,tn=e.i(88539),tn=tn,ef=ef,td=e.i(15592),td=td,tc=e.i(3665),tc=tc,eQ=eQ,to=e.i(13476),to=to,tx=e.i(23616),tm=e.i(77296),tm=tm,th=e.i(83157),tu=e.i(82734),tu=tu,tp=e.i(1195),tp=tp,el=el,tg=e.i(55210),tg=tg,tb=e.i(55481),tb=tb,l=l,C=C,ti=ti,tf=e.i(56217),tf=tf,e$=e$;let tj={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};function tN({roomId:e,onLeave:a}){let{user:r}=(0,D.useAuth)(),[i,n]=(0,s.useState)(null),[d,c]=(0,s.useState)([]),[o,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(!0),[b,f]=(0,s.useState)(!0),[j,N]=(0,s.useState)(!1),[w,_]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[A,T]=(0,s.useState)(!1),[P,I]=(0,s.useState)([]),[M,E]=(0,s.useState)(""),R=(0,s.useRef)(null),L=(0,s.useRef)(null),F=(0,s.useRef)(new Map),$=(0,s.useRef)(null);(0,s.useEffect)(()=>{q()},[P]);let q=()=>{R.current?.scrollIntoView({behavior:"smooth"})};(0,s.useEffect)(()=>(U(),()=>{Z()}),[e]),(0,s.useEffect)(()=>{m&&L.current&&(L.current.srcObject=m)},[m]);let U=async()=>{let t=`peer_${Math.random().toString(36).substr(2,9)}`;x(t);let{data:s}=await h.db.from("video_rooms").select("*").eq("room_id",e).single();s&&(n(s),await O(),await V(t,s),B(t))},O=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:{echoCancellation:!0,noiseSuppression:!0}});u(e)}catch(e){console.error("Error accessing media devices:",e)}},V=async(e,t)=>{r&&(await h.db.from("video_room_participants").insert({room_uuid:t.id,user_id:r.id,participant_name:r.email?.split("@")[0]||"Guest",peer_id:e,is_host:t.host_user_id===r.id,audio_enabled:!0,video_enabled:!0}),z(t.id))},z=async e=>{let{data:t}=await h.db.from("video_room_participants").select("*").eq("room_uuid",e).is("left_at",null);if(t){let e=t.map(e=>({id:e.id,peerId:e.peer_id,name:e.participant_name,isHost:e.is_host,audioEnabled:e.audio_enabled,videoEnabled:e.video_enabled,screenSharing:e.screen_sharing}));c(e),e.forEach(e=>{e.peerId===o||F.current.has(e.peerId)||K(e.peerId,!0)})}},B=t=>{let s=h.db.channel(`room_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"video_room_signals",filter:`to_peer_id=eq.${t}`},async e=>{await G(e.new)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"video_room_participants"},()=>{i&&z(i.id)}).subscribe();return()=>{s.unsubscribe()}},K=async(e,t)=>{let s=new RTCPeerConnection(tj);if(F.current.set(e,s),m&&m.getTracks().forEach(e=>{s.addTrack(e,m)}),s.ontrack=t=>{c(s=>s.map(s=>s.peerId===e?{...s,stream:t.streams[0]}:s))},s.onicecandidate=async t=>{t.candidate&&await W(e,"ice-candidate",{candidate:t.candidate.toJSON()})},t){let t=await s.createOffer();await s.setLocalDescription(t),await W(e,"offer",{sdp:s.localDescription?.toJSON()})}return s},W=async(e,t,s)=>{i&&await h.db.from("video_room_signals").insert({room_uuid:i.id,from_peer_id:o,to_peer_id:e,signal_type:t,signal_data:"string"==typeof s?s:JSON.stringify(s)})},G=async e=>{let t=e.from_peer_id,s=e.signal_type,a="string"==typeof e.signal_data?JSON.parse(e.signal_data):e.signal_data,l=F.current.get(t);if(l||(l=await K(t,!1)),"offer"===s){await l.setRemoteDescription(new RTCSessionDescription(a.sdp));let e=await l.createAnswer();await l.setLocalDescription(e),await W(t,"answer",{sdp:l.localDescription?.toJSON()})}else"answer"===s?await l.setRemoteDescription(new RTCSessionDescription(a.sdp)):"ice-candidate"===s?await l.addIceCandidate(new RTCIceCandidate(a.candidate)):"chat"===s&&I(e=>[...e,a])},X=async()=>{if(!M.trim()||!r||!i)return;let e={id:Math.random().toString(36).substr(2,9),senderId:r.id,senderName:r.email?.split("@")[0]||"Me",text:M.trim(),timestamp:new Date().toISOString()};I(t=>[...t,e]),E(""),d.forEach(t=>{t.peerId!==o&&W(t.peerId,"chat",e)})},H=async()=>{j?await Y():await J()},J=async()=>{try{let e=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0];F.current.forEach(t=>{let s=t.getSenders().find(e=>e.track?.kind==="video");s&&s.replaceTrack(e)}),e.onended=()=>{Y()},N(!0)}catch(e){console.error("Error sharing screen:",e)}},Y=async()=>{if(m){let e=m.getVideoTracks()[0];F.current.forEach(t=>{let s=t.getSenders().find(e=>e.track?.kind==="video");s&&e&&s.replaceTrack(e)})}N(!1)},Q=async()=>{await Z(),a()},Z=async()=>{m&&m.getTracks().forEach(e=>e.stop()),F.current.forEach(e=>e.close()),F.current.clear(),i&&o&&await h.db.from("video_room_participants").update({left_at:new Date().toISOString()}).eq("room_uuid",i.id).eq("peer_id",o)};return(0,t.jsxs)("div",{ref:$,className:"fixed inset-0 bg-slate-950 flex flex-col z-50",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border-b border-slate-800 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:i?.room_name||"Video Conference"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Room: ",e]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>{let t=`${window.location.origin}/video-room/${e}`;navigator.clipboard.writeText(t),T(!0),setTimeout(()=>T(!1),2e3)},className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy Link"]})}),(0,t.jsx)("button",{onClick:()=>S(!k),className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors",children:(0,t.jsx)(e0.MessageCircle,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),_(!1)):($.current?.requestFullscreen(),_(!0))},className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors",children:w?(0,t.jsx)(tf.default,{className:"w-5 h-5"}):(0,t.jsx)(ti.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-1 p-4 grid gap-4",style:{gridTemplateColumns:d.length<=1?"1fr":d.length<=4?"repeat(2, 1fr)":"repeat(3, 1fr)"},children:[(0,t.jsxs)("div",{className:"relative bg-slate-900 rounded-xl overflow-hidden",children:[(0,t.jsx)("video",{ref:L,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,t.jsxs)("p",{className:"text-white text-sm font-medium",children:["You ",i?.host_user_id===r?.id&&"(Host)"]})}),!b&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center",children:(0,t.jsx)(ep.Video,{className:"w-10 h-10 text-slate-400"})})})]}),d.filter(e=>e.peerId!==o).map(e=>(0,t.jsx)(tv,{participant:e},e.id))]}),k&&(0,t.jsxs)("div",{className:"w-80 bg-slate-900 border-l border-slate-800 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:"Chat"}),(0,t.jsx)("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[0===P.length?(0,t.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),(0,t.jsx)("p",{className:"text-sm",children:"No messages yet. Start the conversation!"})]}):P.map(e=>(0,t.jsxs)("div",{className:`flex flex-col ${e.senderId===r?.id?"items-end":"items-start"}`,children:[(0,t.jsxs)("div",{className:`max-w-[85%] rounded-lg p-3 ${e.senderId===r?.id?"bg-cyan-600 text-white rounded-br-none":"bg-slate-800 text-slate-200 rounded-bl-none"}`,children:[(0,t.jsx)("p",{className:"text-xs font-semibold mb-1 opacity-75",children:e.senderName}),(0,t.jsx)("p",{className:"text-sm",children:e.text})]}),(0,t.jsx)("span",{className:"text-[10px] text-slate-500 mt-1",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)),(0,t.jsx)("div",{ref:R})]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),X()},className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:M,onChange:e=>E(e.target.value),placeholder:"Type a message...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("button",{type:"submit",disabled:!M.trim(),className:"bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition-colors",children:(0,t.jsx)(e$.default,{className:"w-4 h-4"})})]})})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border-t border-slate-800 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{if(m){let e=m.getAudioTracks()[0];e&&(e.enabled=!e.enabled,g(e.enabled))}},className:`p-4 rounded-full transition-colors ${p?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:p?(0,t.jsx)(eU.Mic,{className:"w-6 h-6 text-white"}):(0,t.jsx)(tp.default,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("button",{onClick:()=>{if(m){let e=m.getVideoTracks()[0];e&&(e.enabled=!e.enabled,f(e.enabled))}},className:`p-4 rounded-full transition-colors ${b?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:b?(0,t.jsx)(ep.Video,{className:"w-6 h-6 text-white"}):(0,t.jsx)(tu.default,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("button",{onClick:H,className:`p-4 rounded-full transition-colors ${j?"bg-cyan-600 hover:bg-cyan-700":"bg-slate-700 hover:bg-slate-600"}`,children:j?(0,t.jsx)(tg.default,{className:"w-6 h-6 text-white"}):(0,t.jsx)(el.default,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("button",{onClick:Q,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors",children:(0,t.jsx)(tb.default,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2 bg-slate-800 px-4 py-2 rounded-lg",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:d.length+1})]})]})})]})}function tv({participant:e}){let a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{e.stream&&a.current&&(a.current.srcObject=e.stream)},[e.stream]),(0,t.jsxs)("div",{className:"relative bg-slate-900 rounded-xl overflow-hidden",children:[(0,t.jsx)("video",{ref:a,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,t.jsxs)("p",{className:"text-white text-sm font-medium",children:[e.name," ",e.isHost&&"(Host)"]})}),!e.videoEnabled&&(0,t.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,t.jsx)("div",{className:"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center",children:(0,t.jsx)(ep.Video,{className:"w-10 h-10 text-slate-400"})})}),!e.audioEnabled&&(0,t.jsx)("div",{className:"absolute top-4 right-4 bg-red-600 p-2 rounded-lg",children:(0,t.jsx)(tp.default,{className:"w-4 h-4 text-white"})})]})}let ty=[{product_name:"Standard Video API",product_type:"conferencing",industry:"all",description:"Perfect for small teams and simple video integrations.",features:JSON.stringify(["720p HD Video","Up to 10 participants","Chat support","Web SDK access"]),monthly_price:99,per_minute_price:.05,setup_fee:0,max_participants:10,storage_gb:10,api_calls_limit:1e4,has_sdk:!0,has_api:!0},{product_name:"Enterprise Video Suite",product_type:"conferencing",industry:"corporate",description:"High-scale video solutions for large organizations.",features:JSON.stringify(["4K Ultra HD","Up to 1000 participants","White labeling","Advanced Analytics"]),monthly_price:499,per_minute_price:.02,setup_fee:1e3,max_participants:1e3,storage_gb:500,api_calls_limit:5e5,has_sdk:!0,has_api:!0},{product_name:"Telehealth Secure API",product_type:"conferencing",industry:"healthcare",description:"HIPAA compliant video communication for healthcare providers.",features:JSON.stringify(["End-to-end Encryption","Waiting Room","BHR available","DICOM support"]),monthly_price:299,per_minute_price:.08,setup_fee:250,max_participants:4,storage_gb:100,api_calls_limit:5e4,has_sdk:!0,has_api:!0}],tw=[{template_name:"Healthcare Consult",industry:"healthcare",template_type:"conferencing",description:"Secure one-on-one medical consultation room.",features:JSON.stringify(["Encrypted","Waiting Room","File Sharing"]),configuration:JSON.stringify({participant_limit:2,duration:30,recording:!0}),is_premium:!0},{template_name:"Virtual Classroom",industry:"education",template_type:"conferencing",description:"Teacher-led classroom with controls for students.",features:JSON.stringify(["Polls","Raise Hand","Breakout Rooms"]),configuration:JSON.stringify({participant_limit:50,duration:60,recording:!0}),is_premium:!1}],t_=[{capability_name:"HD Video",description:"Crystal clear high-definition video up to 4K resolution.",icon:"Video",is_available:!0,display_order:1,category:"Core"},{capability_name:"Spatial Audio",description:"Immersive 3D audio for realistic conversation feel.",icon:"Mic",is_available:!0,display_order:2,category:"Core"},{capability_name:"Screen Share",description:"Ultra-low latency screen sharing for collaborative work.",icon:"Monitor",is_available:!0,display_order:3,category:"Core"},{capability_name:"Cloud Recording",description:"Safe and encrypted recording of all your video sessions.",icon:"Camera",is_available:!0,display_order:10,category:"Advanced"},{capability_name:"Custom Branding",description:"White-label the interface to match your corporate identity.",icon:"Layout",is_available:!0,display_order:11,category:"Advanced"},{capability_name:"RTMP Streaming",description:"Broadcast sessions to YouTube, Twitch, or custom RTMP targets.",icon:"Radio",is_available:!0,display_order:12,category:"Advanced"},{capability_name:"AI Transcription",description:"Real-time multi-language transcription and closed captioning.",icon:"Languages",is_available:!0,display_order:20,category:"AI"},{capability_name:"Smart Noise Cancellation",description:"Suppress background noise and isolate human voice intelligently.",icon:"Shield",is_available:!0,display_order:21,category:"AI"},{capability_name:"AI Meetings Summary",description:"Generate structured summaries and action items automatically.",icon:"Brain",is_available:!0,display_order:22,category:"AI"},{capability_name:"Auto-Scaling SFU",description:"Highly scalable Selective Forwarding Unit for 1000+ participants.",icon:"Zap",is_available:!0,display_order:30,category:"Infrastructure"},{capability_name:"Global Mesh Network",description:"Lowest possible latency with our worldwide edge network.",icon:"Globe",is_available:!0,display_order:31,category:"Infrastructure"}];function tk(){let e,{user:a}=(0,D.useAuth)(),[i,n]=(0,s.useState)("overview"),[o,m]=(0,s.useState)("all"),[g,b]=(0,s.useState)("all"),[j,N]=(0,s.useState)(""),[w,_]=(0,s.useState)([]),[k,S]=(0,s.useState)([]),[A,T]=(0,s.useState)([]),[P,I]=(0,s.useState)([]),[M,L]=(0,s.useState)([]),[F,$]=(0,s.useState)([]),[q,U]=(0,s.useState)([]),[O,V]=(0,s.useState)([]),[z,B]=(0,s.useState)([]),[K,W]=(0,s.useState)([]),[G,X]=(0,s.useState)([]),[H,J]=(0,s.useState)([]),[Q,Z]=(0,s.useState)([]),[ee,et]=(0,s.useState)([]),[es,ea]=(0,s.useState)([]),[er,ei]=(0,s.useState)([]),[en,ed]=(0,s.useState)([]),[ec,ex]=(0,s.useState)([]),[eh,eu]=(0,s.useState)(!0),[eg,eb]=(0,s.useState)([]),[ej,eN]=(0,s.useState)(!1),[ev,ey]=(0,s.useState)("group_sfu"),[ew,e_]=(0,s.useState)(!0),[ek,eC]=(0,s.useState)(!0),[eS,eA]=(0,s.useState)(!1),[eT,eP]=(0,s.useState)(null),[eM,eE]=(0,s.useState)(!1),[eL,eF]=(0,s.useState)(null),[e$,eq]=(0,s.useState)(null),[eO,eV]=(0,s.useState)(null),[eB,eK]=(0,s.useState)(!1),[eW,eG]=(0,s.useState)(null),[eX,eH]=(0,s.useState)(!1),[eJ,eY]=(0,s.useState)([]),[eZ,e0]=(0,s.useState)(""),[e4,e2]=(0,s.useState)(""),[e5,e3]=(0,s.useState)(""),[e1,e6]=(0,s.useState)(""),[e7,e8]=(0,s.useState)(""),[e9,te]=(0,s.useState)(!0),tt=["all","healthcare","education","finance","retail","corporate","legal","real_estate"];(0,s.useEffect)(()=>{a&&Promise.all([tp(),tg(),tb(),tf(),tj(),tv(),tk(),tC(),tS(),tA(),tT(),tP(),tI(),tM(),tD(),tE(),tR(),tL(),tF(),ts()]).finally(()=>eu(!1))},[a]);let ts=async()=>{let{data:e,error:t}=await h.db.from("video_rooms").select("*").order("started_at",{ascending:!1}).limit(10);!t&&e&&eb(e)},tu=async()=>{if(a){eu(!0);try{for(let e of ty)await h.db.from("video_api_products").insert(e);for(let e of tw)await h.db.from("video_templates").insert(e);for(let e of t_)await h.db.from("video_api_capabilities").insert(e);let{data:e}=await h.db.from("video_api_products").select("*").limit(1);e&&e.length>0&&await h.db.from("video_api_purchases").insert({user_id:a.id,product_id:e[0].id,api_key:`vapi_sample_${Math.random().toString(36).substr(2,9)}`,sdk_access_token:`vsdk_sample_${Math.random().toString(36).substr(2,9)}`,status:"active",usage_minutes:1250,storage_used_gb:4.5,api_calls_used:850}),eF({type:"success",message:"Successfully seeded sample video data!"}),setTimeout(()=>window.location.reload(),1500)}catch(e){console.error("Error seeding video data:",e),eF({type:"error",message:"Failed to seed: "+e.message})}finally{eu(!1)}}};(0,s.useEffect)(()=>{if(eL){let e=setTimeout(()=>eF(null),5e3);return()=>clearTimeout(e)}},[eL]),(0,s.useEffect)(()=>{if(e$){let e=setTimeout(()=>eq(null),2e3);return()=>clearTimeout(e)}},[e$]);let tp=async()=>{let{data:e,error:t}=await h.db.from("video_api_products").select("*").eq("is_available",!0).order("monthly_price");!t&&e&&_(e.map(e=>({...e,features:"string"==typeof e.features?JSON.parse(e.features):e.features||[]})))},tg=async()=>{if(!a)return;let{data:e}=await h.db.from("video_api_products").select("*"),{data:t,error:s}=await h.db.from("video_api_purchases").select("*").eq("user_id",a.id).order("purchased_at",{ascending:!1});!s&&t&&S(t.map(t=>{let s=t.product||(e||[]).find(e=>e.id===t.product_id);return{...t,product:s||{product_name:"Unknown API",industry:"unknown",api_calls_limit:0,storage_gb:0,max_participants:0}}}))},tb=async()=>{let{data:e,error:t}=await h.db.from("video_templates").select("*").order("template_name");!t&&e&&T(e.map(e=>({...e,features:"string"==typeof e.features?JSON.parse(e.features):e.features||[],configuration:"string"==typeof e.configuration?JSON.parse(e.configuration):e.configuration||{}})))},tf=async()=>{if(!a)return;let{data:e,error:t}=await h.db.from("meeting_ai_configurations").select("*").eq("user_id",a.id).order("is_default",{ascending:!1});if(!t&&e){eY(e);let t=e.find(e=>e.is_default);t&&e0(t.id)}},tj=async()=>{let{data:e,error:t}=await h.db.from("video_api_capabilities").select("*").eq("is_available",!0).order("display_order");!t&&e&&I(e)},tv=async()=>{let{data:e,error:t}=await h.db.from("video_recordings").select("*, recording_analytics(*)").order("started_at",{ascending:!1}).limit(50);!t&&e&&L(e)},tk=async()=>{let{data:e,error:t}=await h.db.from("video_recording_configs").select("*").order("is_default",{ascending:!1});!t&&e&&$(e)},tC=async()=>{let{data:e,error:t}=await h.db.from("cloud_storage_configs").select("*").order("is_default",{ascending:!1});!t&&e&&U(e)},tS=async()=>{let{data:e,error:t}=await h.db.from("network_quality_metrics").select("*, video_call_participants(*)").order("measured_at",{ascending:!1}).limit(100);!t&&e&&V(e)},tA=async()=>{let{data:e,error:t}=await h.db.from("adaptive_bitrate_configs").select("*").order("created_at",{ascending:!1});!t&&e&&B(e)},tT=async()=>{let{data:e,error:t}=await h.db.from("simulcast_configs").select("*").order("is_default",{ascending:!1});!t&&e&&W(e)},tP=async()=>{let{data:e,error:t}=await h.db.from("background_processing_configs").select("*").order("is_default",{ascending:!1});!t&&e&&X(e)},tI=async()=>{let{data:e,error:t}=await h.db.from("virtual_backgrounds").select("*").eq("is_active",!0).order("category",{ascending:!0});!t&&e&&J(e)},tM=async()=>{let{data:e,error:t}=await h.db.from("noise_cancellation_configs").select("*").order("is_default",{ascending:!1});!t&&e&&Z(e)},tD=async()=>{let{data:e,error:t}=await h.db.from("transcription_configs").select("*").order("is_default",{ascending:!1});!t&&e&&et(e)},tE=async()=>{let{data:e,error:t}=await h.db.from("rtmp_broadcast_configs").select("*").order("created_at",{ascending:!1});!t&&e&&ea(e)},tR=async()=>{let{data:e,error:t}=await h.db.from("hls_streaming_configs").select("*").order("created_at",{ascending:!1});!t&&e&&ei(e)},tL=async()=>{let{data:e,error:t}=await h.db.from("broadcast_sessions").select("*").order("created_at",{ascending:!1}).limit(20);!t&&e&&ed(e)},tF=async()=>{let{data:e,error:t}=await h.db.from("ai_processing_analytics").select("*").order("created_at",{ascending:!1}).limit(50);!t&&e&&ex(e)},t$=async()=>{if(!a||!e4||!e5||!e1)return void eF({type:"error",message:"Please fill in all required fields"});try{let e=new Date(`${e5}T${e1}`),t=`room_${Math.random().toString(36).substr(2,9)}`,s=`${window.location.origin}/video/${t}`,l=eJ.find(e=>e.id===eZ),r=e7.split(",").map(e=>e.trim()).filter(e=>e),{data:i,error:n}=await h.db.from("meetings").insert({host_user_id:a.id,meeting_title:e4,meeting_description:"Scheduled video meeting with AI features",meeting_type:"video_conference",scheduled_start_time:e.toISOString(),scheduled_end_time:new Date(e.getTime()+36e5).toISOString(),room_id:t,room_url:s,meeting_link:s,max_participants:100,enable_transcription:l?.enable_transcription||e9,enable_recording:l?.enable_recording||!1,enable_ai_summary:l?.enable_ai_insights||!1,enable_action_items:l?.enable_action_items||!1,enable_sentiment_analysis:l?.enable_sentiment_analysis||!1,transcription_language:l?.transcription_language||"en",participant_emails:r,status:"scheduled",allow_screen_share:!0,allow_chat:!0}).select().single();if(n)throw n;eZ&&i&&await h.db.from("meeting_ai_configuration_links").insert({meeting_id:i.id,configuration_id:eZ}),eF({type:"success",message:"Meeting scheduled successfully!"}),eH(!1),e2(""),e3(""),e6(""),e8("")}catch(e){console.error("Error scheduling meeting:",e),eF({type:"error",message:"Failed to schedule meeting. Please try again."})}},tq=async()=>{if(eT&&a){eE(!0);try{let e=`vapi_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,t=`vsdk_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,s=new Date;s.setFullYear(s.getFullYear()+1);let l=Number(eT.setup_fee||0)+Number(eT.monthly_price||0),r={product_id:eT.id,product_name:eT.product_name,product_type:eT.product_type,description:eT.description,monthly_price:eT.monthly_price,setup_fee:eT.setup_fee},{error:i}=await h.db.from("cart_items").insert({user_id:a.id,item_type:"video_api",item_data:r,quantity:1,unit_price:l,total_price:l});if(i)throw console.error("Cart error:",i),Error("Failed to add to cart");let{error:d}=await h.db.from("video_api_purchases").insert({user_id:a.id,product_id:eT.id,api_key:e,sdk_access_token:t,status:"active",expires_at:s.toISOString(),usage_minutes:0,storage_used_gb:0,api_calls_used:0});if(d)throw console.error("Purchase error:",d),Error("Failed to activate API");eF({type:"success",message:`${eT.product_name} purchased and activated! Check My APIs tab.`}),await tg(),n("my-apis")}catch(e){console.error("Purchase failed:",e),eF({type:"error",message:e.message||"Purchase failed. Please try again."})}finally{eE(!1),eP(null)}}},tU=(e,t)=>{navigator.clipboard.writeText(e),eq(t)},tO=async e=>{if(a){eK(!0);try{let t=`room_${Math.random().toString(36).substr(2,9)}`,s=`${window.location.origin}/video/${t}`,{data:l,error:r}=await h.db.from("video_rooms").insert({room_id:t,host_user_id:a.id,template_id:e.id,room_name:e.template_name,room_type:e.template_type,max_participants:e.configuration.participant_limit,duration_minutes:e.configuration.duration,recording_enabled:e.configuration.recording,screen_sharing_enabled:!0,whiteboard_enabled:!0,chat_enabled:!0,status:"active",started_at:new Date().toISOString()});if(r)throw r;let i={id:l.id,sessionUrl:s,roomId:t,participants:0};eV({template:e,session:i}),eF({type:"success",message:"Video session created successfully!"})}catch(e){console.error("Error creating room:",e),eF({type:"error",message:"Failed to create video session. Please try again."})}finally{eK(!1)}}},tV=e=>{eG(e),eV(null)},tz=w.filter(e=>{let t="all"===o||e.industry===o,s="all"===g||e.product_type===g,a=e.product_name.toLowerCase().includes(j.toLowerCase())||e.description?.toLowerCase().includes(j.toLowerCase());return t&&s&&a}),tB=A.filter(e=>{let t="all"===o||e.industry===o,s=e.template_name.toLowerCase().includes(j.toLowerCase())||e.description?.toLowerCase().includes(j.toLowerCase());return t&&s}),tK=e=>({healthcare:"bg-red-500/20 text-red-400 border-red-500/30",education:"bg-blue-500/20 text-blue-400 border-blue-500/30",finance:"bg-green-500/20 text-green-400 border-green-500/30",retail:"bg-orange-500/20 text-orange-400 border-orange-500/30",corporate:"bg-purple-500/20 text-purple-400 border-purple-500/30",legal:"bg-slate-500/20 text-slate-400 border-slate-500/30",real_estate:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"})[e]||"bg-slate-500/20 text-slate-400 border-slate-500/30";return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,t.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-blue-600 via-cyan-600 to-teal-600 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,t.jsx)("div",{className:"relative h-full flex items-center px-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:(0,t.jsx)(eI.Code,{className:"w-12 h-12 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Video API Platform"}),(0,t.jsx)("p",{className:"text-white/90 text-lg",children:"Enterprise Video Solutions with SDK & API Integration"})]})]})})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>n("overview"),className:`px-6 py-2 rounded-lg transition-colors ${"overview"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Overview"}),(0,t.jsx)("button",{onClick:()=>n("marketplace"),className:`px-6 py-2 rounded-lg transition-colors ${"marketplace"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Marketplace"}),(0,t.jsx)("button",{onClick:()=>n("my-apis"),className:`px-6 py-2 rounded-lg transition-colors ${"my-apis"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"My APIs"}),(0,t.jsx)("button",{onClick:()=>n("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsx)("button",{onClick:()=>n("capabilities"),className:`px-6 py-2 rounded-lg transition-colors ${"capabilities"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Capabilities"}),(0,t.jsx)("button",{onClick:()=>n("sdks"),className:`px-6 py-2 rounded-lg transition-colors ${"sdks"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"SDKs"}),(0,t.jsx)("button",{onClick:()=>n("recordings"),className:`px-6 py-2 rounded-lg transition-colors ${"recordings"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Recordings"}),(0,t.jsx)("button",{onClick:()=>n("network"),className:`px-6 py-2 rounded-lg transition-colors ${"network"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Network Quality"}),(0,t.jsx)("button",{onClick:()=>n("ai-processing"),className:`px-6 py-2 rounded-lg transition-colors ${"ai-processing"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"AI Processing"}),(0,t.jsx)("button",{onClick:()=>n("broadcasting"),className:`px-6 py-2 rounded-lg transition-colors ${"broadcasting"===i?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Broadcasting"})]}),"overview"===i&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Video Platform Overview"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Manage your video meetings and conferences"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>eN(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-green-500/20",children:[(0,t.jsx)(ep.Video,{className:"w-5 h-5"}),"Start Call Now"]}),(0,t.jsxs)("button",{onClick:()=>eH(!0),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-cyan-500/20",children:[(0,t.jsx)(f.default,{className:"w-5 h-5"}),"Schedule Meeting",(0,t.jsx)(ef.default,{className:"w-4 h-4"})]}),(0,t.jsxs)("button",{onClick:tu,className:"bg-slate-800 hover:bg-slate-700 text-slate-300 border border-slate-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[(0,t.jsx)(x.default,{className:"w-5 h-5"}),"Load Sample Data"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Active APIs"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:k.filter(e=>"active"===e.status).length})]}),(0,t.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-xl",children:(0,t.jsx)(eo.Package,{className:"w-6 h-6 text-cyan-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Currently subscribed"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Minutes"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:k.reduce((e,t)=>e+t.usage_minutes,0).toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Video usage this month"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"API Calls"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:k.reduce((e,t)=>e+t.api_calls_used,0).toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-pink-500/20 p-3 rounded-xl",children:(0,t.jsx)(eR.BarChart3,{className:"w-6 h-6 text-pink-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Total API requests"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Storage Used"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[k.reduce((e,t)=>e+Number(t.storage_used_gb),0).toFixed(1)," GB"]})]}),(0,t.jsx)("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:(0,t.jsx)(el.default,{className:"w-6 h-6 text-orange-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Cloud storage"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Recent Video Sessions"}),(0,t.jsx)("button",{onClick:ts,className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(ef.default,{className:"w-5 h-5"})})]}),eg.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700 text-slate-400 text-sm",children:[(0,t.jsx)("th",{className:"py-3 px-4",children:"Room Name"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Room ID"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Type"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Status"}),(0,t.jsx)("th",{className:"py-3 px-4",children:"Created At"}),(0,t.jsx)("th",{className:"py-3 px-4 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{children:eg.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-700/30 transition-colors",children:[(0,t.jsx)("td",{className:"py-3 px-4 font-medium text-white",children:e.room_name||"Untitled Room"}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 font-mono text-xs",children:e.room_id}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-300 capitalize",children:e.room_type||"General"}),(0,t.jsx)("td",{className:"py-3 px-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===e.status?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-500/20 text-slate-400"}`,children:e.status?e.status.toUpperCase():"UNKNOWN"})}),(0,t.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:new Date(e.started_at).toLocaleString()}),(0,t.jsx)("td",{className:"py-3 px-4 text-right",children:"active"===e.status&&(0,t.jsx)("button",{onClick:()=>tV(e.room_id),className:"text-cyan-400 hover:text-cyan-300 font-medium text-sm transition-colors",children:"Join Room"})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,t.jsx)(ep.Video,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),(0,t.jsx)("p",{children:"No active video sessions found."}),(0,t.jsx)("button",{onClick:()=>eN(!0),className:"text-cyan-400 hover:text-cyan-300 mt-2 font-medium",children:"Start your first call"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Platform Capabilities"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:ep.Video,title:"Video Conferencing",description:"Real-time HD/4K video conferencing with up to 1000 participants",color:"cyan"},{icon:el.default,title:"Screen Sharing",description:"High-quality screen sharing with annotation and co-browsing",color:"blue"},{icon:ta.default,title:"Recording & Streaming",description:"Cloud recording with auto-transcription and live streaming",color:"green"},{icon:eI.Code,title:"SDK & API Access",description:"Full SDK support and RESTful APIs for custom integration",color:"orange"},{icon:ez.default,title:"Low Latency",description:"Ultra-low latency communication for real-time interactions",color:"yellow"},{icon:E.Globe,title:"Global Infrastructure",description:"Worldwide edge network for optimal performance",color:"teal"}].map((e,s)=>{let a=e.icon;return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsx)("div",{className:`bg-${e.color}-500/20 p-3 rounded-lg w-fit mb-4`,children:(0,t.jsx)(a,{className:`w-6 h-6 text-${e.color}-400`})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]},s)})})]})]}),"marketplace"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search video APIs...",value:j,onChange:e=>N(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("select",{value:o,onChange:e=>m(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:tt.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Industries":e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))}),(0,t.jsx)("select",{value:g,onChange:e=>b(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:["all","conferencing","recording","streaming"].map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Types":e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:tz.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:e.product_name}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3 flex-wrap",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${tK(e.industry)}`,children:e.industry.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-400 border border-cyan-500/30",children:e.product_type.toUpperCase()})]})]})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Max Participants:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.max_participants})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Storage:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.storage_gb," GB"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"API Calls:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.api_calls_limit.toLocaleString(),"/mo"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-4",children:[e.has_sdk&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs",children:[(0,t.jsx)(eI.Code,{className:"w-3 h-3"}),"SDK"]}),e.has_api&&(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:[(0,t.jsx)(r.default,{className:"w-3 h-3"}),"API"]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Monthly:"}),(0,t.jsxs)("span",{className:"text-white text-2xl font-bold",children:["RM ",Number(e.monthly_price).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-baseline mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Per Minute:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(e.per_minute_price).toFixed(4)]})]}),e.setup_fee>0&&(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Setup Fee:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(e.setup_fee).toFixed(2)]})]})]}),(0,t.jsxs)("button",{onClick:()=>eP(e),className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(em.ShoppingCart,{className:"w-5 h-5"}),"Purchase API"]})]},e.id))})]}),"my-apis"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"My Video APIs"}),(0,t.jsxs)("button",{onClick:()=>n("marketplace"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(em.ShoppingCart,{className:"w-5 h-5"}),"Browse Marketplace"]})]}),0===k.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eo.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No APIs Yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Purchase your first video API to get started"}),(0,t.jsxs)("button",{onClick:()=>n("marketplace"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(em.ShoppingCart,{className:"w-5 h-5"}),"Browse Marketplace"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.product.product_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"suspended":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status.toUpperCase()}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${tK(e.product.industry)}`,children:e.product.industry.replace("_"," ").toUpperCase()})]}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Purchased ",new Date(e.purchased_at).toLocaleDateString()]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Usage Minutes"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.usage_minutes.toLocaleString()}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:"of unlimited"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"API Calls"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.api_calls_used.toLocaleString()}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:["of ",e.product.api_calls_limit.toLocaleString(),"/mo"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Storage Used"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[Number(e.storage_used_gb).toFixed(1)," GB"]}),(0,t.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:["of ",e.product.storage_gb," GB"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Max Participants"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.product.max_participants}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:"concurrent"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,t.jsx)(r.default,{className:"w-4 h-4"}),"API Key"]}),(0,t.jsx)("button",{onClick:()=>tU(e.api_key,`api_${e.id}`),className:"text-cyan-400 hover:text-cyan-300 text-sm flex items-center gap-1",children:e$===`api_${e.id}`?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:e.api_key})]}),e.product.has_sdk&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,t.jsx)(eI.Code,{className:"w-4 h-4"}),"SDK Access Token"]}),(0,t.jsx)("button",{onClick:()=>tU(e.sdk_access_token,`sdk_${e.id}`),className:"text-cyan-400 hover:text-cyan-300 text-sm flex items-center gap-1",children:e$===`sdk_${e.id}`?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:e.sdk_access_token})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>n("sdks"),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download SDK"]}),(0,t.jsxs)("button",{onClick:()=>window.open("https://docs.videoapi.com","_blank"),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"API Documentation"]}),(0,t.jsxs)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configure"]})]})]})]},e.id))})]}),"templates"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search templates...",value:j,onChange:e=>N(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsx)("select",{value:o,onChange:e=>m(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:tt.map(e=>(0,t.jsx)("option",{value:e,children:"all"===e?"All Industries":e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:tB.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.template_name}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3 flex-wrap",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${tK(e.industry)}`,children:e.industry.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30",children:e.template_type.toUpperCase()}),e.is_premium&&(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",children:"PREMIUM"})]})]})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-slate-300 text-sm font-medium mb-2",children:"Features:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.features.slice(0,4).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s)),e.features.length>4&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-400 rounded text-xs",children:["+",e.features.length-4," more"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.configuration.duration," mins"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Participants:"}),(0,t.jsxs)("span",{className:"text-white",children:["Up to ",e.configuration.participant_limit]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recording:"}),(0,t.jsx)("span",{className:"text-white",children:e.configuration.recording?"Enabled":"Disabled"})]})]}),(0,t.jsxs)("button",{onClick:()=>tO(e),disabled:eB,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),eB?"Starting...":"Use Template"]})]},e.id))})]}),"capabilities"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Video Platform Capabilities"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Comprehensive features for enterprise-grade video communications"})]}),["Core","Advanced","AI","Infrastructure"].map(e=>{let s=P.filter(t=>(t.category||"").toLowerCase()===e.toLowerCase());return 0===s.length?null:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:`bg-gradient-to-r ${{Core:"from-blue-600 to-cyan-600",Advanced:"from-purple-600 to-pink-600",AI:"from-amber-600 to-orange-600",Infrastructure:"from-slate-600 to-slate-700"}[e]||"from-slate-600 to-slate-700"} p-4 rounded-xl`,children:(0,t.jsxs)("h3",{className:"text-xl font-bold text-white capitalize",children:[e," Capabilities"]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold flex-1",children:e.capability_name}),e.requires_license&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded border border-yellow-500/30",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:(e.supported_platforms||["Web","iOS","Android"]).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s))})]},e.id))})]},e)})]}),"sdks"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Cross-Platform SDKs"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Native libraries for seamless integration across all platforms"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{platform:"iOS SDK",icon:"Smartphone",description:"Native iOS framework with Swift and Objective-C support",version:"3.2.1",size:"45 MB",minVersion:"iOS 13.0+",languages:["Swift","Objective-C"],docs:"https://docs.example.com/ios"},{platform:"Android SDK",icon:"Smartphone",description:"Native Android SDK with Kotlin and Java support",version:"3.2.0",size:"38 MB",minVersion:"Android 8.0+",languages:["Kotlin","Java"],docs:"https://docs.example.com/android"},{platform:"Web SDK (JavaScript)",icon:"Globe",description:"Browser-based WebRTC with React hooks and vanilla JS",version:"3.1.5",size:"12 MB",minVersion:"Modern browsers",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/web"},{platform:"React SDK",icon:"Code",description:"React components and hooks for rapid development",version:"2.5.3",size:"8 MB",minVersion:"React 16.8+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/react"},{platform:"Flutter SDK",icon:"Zap",description:"Cross-platform SDK for Flutter applications",version:"2.1.0",size:"22 MB",minVersion:"Flutter 3.0+",languages:["Dart"],docs:"https://docs.example.com/flutter"},{platform:"Electron SDK",icon:"Monitor",description:"Desktop SDK for Windows, Mac, and Linux",version:"2.0.8",size:"35 MB",minVersion:"Electron 20+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/electron"},{platform:"React Native SDK",icon:"Smartphone",description:"Native mobile SDK for React Native apps",version:"2.4.1",size:"28 MB",minVersion:"RN 0.68+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/react-native"},{platform:"Unity SDK",icon:"Gamepad2",description:"Real-time video for gaming and metaverse",version:"1.8.0",size:"52 MB",minVersion:"Unity 2020.3+",languages:["C#"],docs:"https://docs.example.com/unity"}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-1",children:e.platform}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]}),(0,t.jsx)("div",{className:"bg-cyan-500/20 p-2 rounded-lg",children:(0,t.jsx)(eI.Code,{className:"w-6 h-6 text-cyan-400"})})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Version:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.version})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Size:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.size})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Min Version:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.minVersion})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Languages:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.languages.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{let t,s,a,l;return s=new Blob([(t=e.platform.toLowerCase()).includes("ios")?`// Video SDK for iOS - Version ${e.version}
// Complete Swift SDK with all features

import Foundation
import AVFoundation
import WebRTC

public class VideoSDK {
    public static let shared = VideoSDK()
    private var peerConnection: RTCPeerConnection?
    private var localVideoTrack: RTCVideoTrack?
    private var localAudioTrack: RTCAudioTrack?

    // Initialize SDK with API Key
    public func initialize(apiKey: String) {
        print("Initializing Video SDK with API Key: \\(apiKey)")
        setupPeerConnection()
    }

    // Join a video room
    public func joinRoom(roomId: String, completion: @escaping (Bool) -> Void) {
        print("Joining room: \\(roomId)")
        setupLocalTracks()
        completion(true)
    }

    // Enable/Disable Camera
    public func toggleCamera(enabled: Bool) {
        localVideoTrack?.isEnabled = enabled
    }

    // Enable/Disable Microphone
    public func toggleMicrophone(enabled: Bool) {
        localAudioTrack?.isEnabled = enabled
    }

    // Start Screen Sharing
    public func startScreenShare() {
        print("Starting screen share")
    }

    // Leave Room
    public func leaveRoom() {
        peerConnection?.close()
        print("Left room successfully")
    }

    private func setupPeerConnection() {
        // WebRTC peer connection setup
    }

    private func setupLocalTracks() {
        // Setup video and audio tracks
    }
}

// Example Usage:
// let sdk = VideoSDK.shared
// sdk.initialize(apiKey: "your_api_key")
// sdk.joinRoom(roomId: "room123") { success in
//     print("Joined: \\(success)")
// }`:t.includes("android")?`// Video SDK for Android - Version ${e.version}
// Complete Kotlin SDK with all features

package com.videosdk

import android.content.Context
import org.webrtc.*

class VideoSDK private constructor() {

    companion object {
        val instance: VideoSDK by lazy { VideoSDK() }
    }

    private var peerConnection: PeerConnection? = null
    private var localVideoTrack: VideoTrack? = null
    private var localAudioTrack: AudioTrack? = null
    private var apiKey: String? = null

    // Initialize SDK with API Key
    fun initialize(context: Context, apiKey: String) {
        this.apiKey = apiKey
        println("Initializing Video SDK with API Key: $apiKey")
        setupPeerConnectionFactory(context)
    }

    // Join a video room
    fun joinRoom(roomId: String, callback: (Boolean) -> Unit) {
        println("Joining room: $roomId")
        setupLocalTracks()
        callback(true)
    }

    // Toggle Camera
    fun toggleCamera(enabled: Boolean) {
        localVideoTrack?.setEnabled(enabled)
    }

    // Toggle Microphone
    fun toggleMicrophone(enabled: Boolean) {
        localAudioTrack?.setEnabled(enabled)
    }

    // Start Screen Sharing
    fun startScreenShare() {
        println("Starting screen share")
    }

    // Leave Room
    fun leaveRoom() {
        peerConnection?.close()
        println("Left room successfully")
    }

    private fun setupPeerConnectionFactory(context: Context) {
        // WebRTC peer connection factory setup
    }

    private fun setupLocalTracks() {
        // Setup video and audio tracks
    }
}

// Example Usage:
// val sdk = VideoSDK.instance
// sdk.initialize(context, "your_api_key")
// sdk.joinRoom("room123") { success ->
//     println("Joined: $success")
// }`:t.includes("web")||t.includes("javascript")?`// Video SDK for Web - Version ${e.version}
// Complete JavaScript/TypeScript SDK with all features

class VideoSDK {
  constructor() {
    this.apiKey = null;
    this.localStream = null;
    this.peerConnection = null;
    this.roomId = null;
  }

  // Initialize SDK with API Key
  initialize(apiKey) {
    this.apiKey = apiKey;
    console.log('Initializing Video SDK with API Key:', apiKey);
    return this;
  }

  // Join a video room
  async joinRoom(roomId, options = {}) {
    this.roomId = roomId;
    console.log('Joining room:', roomId);

    try {
      this.localStream = await navigator.mediaDevices.getUserMedia({
        video: options.video !== false,
        audio: options.audio !== false
      });

      await this.setupPeerConnection();
      return { success: true, stream: this.localStream };
    } catch (error) {
      console.error('Error joining room:', error);
      return { success: false, error };
    }
  }

  // Toggle Camera
  toggleCamera(enabled) {
    const videoTracks = this.localStream?.getVideoTracks();
    videoTracks?.forEach(track => track.enabled = enabled);
  }

  // Toggle Microphone
  toggleMicrophone(enabled) {
    const audioTracks = this.localStream?.getAudioTracks();
    audioTracks?.forEach(track => track.enabled = enabled);
  }

  // Start Screen Sharing
  async startScreenShare() {
    try {
      const screenStream = await navigator.mediaDevices.getDisplayMedia({
        video: true
      });
      console.log('Screen sharing started');
      return screenStream;
    } catch (error) {
      console.error('Error starting screen share:', error);
      return null;
    }
  }

  // Leave Room
  leaveRoom() {
    this.localStream?.getTracks().forEach(track => track.stop());
    this.peerConnection?.close();
    console.log('Left room successfully');
  }

  async setupPeerConnection() {
    const configuration = {
      iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]
    };
    this.peerConnection = new RTCPeerConnection(configuration);
  }
}

// Example Usage:
// const sdk = new VideoSDK();
// sdk.initialize('your_api_key');
// const result = await sdk.joinRoom('room123');
// if (result.success) {
//   document.querySelector('#video').srcObject = result.stream;
// }

export default VideoSDK;`:t.includes("react")?`// Video SDK for React - Version ${e.version}
// Complete React SDK with hooks and components

import React, { createContext, useContext, useState, useEffect } from 'react';

// Video SDK Context
const VideoSDKContext = createContext(null);

// Initialize Provider
export function VideoSDKProvider({ apiKey, children }) {
  const [sdk, setSDK] = useState(null);

  useEffect(() => {
    const videoSDK = new VideoSDK();
    videoSDK.initialize(apiKey);
    setSDK(videoSDK);
  }, [apiKey]);

  return (
    <VideoSDKContext.Provider value={sdk}>
      {children}
    </VideoSDKContext.Provider>
  );
}

// useVideoSDK Hook
export function useVideoSDK() {
  const context = useContext(VideoSDKContext);
  if (!context) {
    throw new Error('useVideoSDK must be used within VideoSDKProvider');
  }
  return context;
}

// useVideoRoom Hook
export function useVideoRoom(roomId) {
  const sdk = useVideoSDK();
  const [localStream, setLocalStream] = useState(null);
  const [participants, setParticipants] = useState([]);
  const [isConnected, setIsConnected] = useState(false);

  useEffect(() => {
    if (sdk && roomId) {
      joinRoom();
    }

    return () => {
      if (sdk) {
        sdk.leaveRoom();
      }
    };
  }, [sdk, roomId]);

  const joinRoom = async () => {
    const result = await sdk.joinRoom(roomId);
    if (result.success) {
      setLocalStream(result.stream);
      setIsConnected(true);
    }
  };

  const toggleCamera = (enabled) => {
    sdk.toggleCamera(enabled);
  };

  const toggleMicrophone = (enabled) => {
    sdk.toggleMicrophone(enabled);
  };

  return {
    localStream,
    participants,
    isConnected,
    toggleCamera,
    toggleMicrophone
  };
}

// Video Component
export function VideoView({ stream, muted = false }) {
  const videoRef = React.useRef(null);

  useEffect(() => {
    if (videoRef.current && stream) {
      videoRef.current.srcObject = stream;
    }
  }, [stream]);

  return (
    <video
      ref={videoRef}
      autoPlay
      playsInline
      muted={muted}
      style={{ width: '100%', height: '100%' }}
    />
  );
}

class VideoSDK {
  constructor() {
    this.apiKey = null;
    this.localStream = null;
  }

  initialize(apiKey) {
    this.apiKey = apiKey;
    console.log('Video SDK initialized');
  }

  async joinRoom(roomId) {
    try {
      this.localStream = await navigator.mediaDevices.getUserMedia({
        video: true,
        audio: true
      });
      return { success: true, stream: this.localStream };
    } catch (error) {
      return { success: false, error };
    }
  }

  toggleCamera(enabled) {
    this.localStream?.getVideoTracks().forEach(track => track.enabled = enabled);
  }

  toggleMicrophone(enabled) {
    this.localStream?.getAudioTracks().forEach(track => track.enabled = enabled);
  }

  leaveRoom() {
    this.localStream?.getTracks().forEach(track => track.stop());
  }
}

// Example Usage:
// <VideoSDKProvider apiKey="your_api_key">
//   <YourComponent />
// </VideoSDKProvider>`:t.includes("flutter")?`// Video SDK for Flutter - Version ${e.version}
// Complete Dart SDK with all features

import 'dart:async';
import 'package:flutter/material.dart';
import 'package:flutter_webrtc/flutter_webrtc.dart';

class VideoSDK {
  static final VideoSDK _instance = VideoSDK._internal();
  factory VideoSDK() => _instance;
  VideoSDK._internal();

  String? _apiKey;
  MediaStream? _localStream;
  RTCPeerConnection? _peerConnection;

  // Initialize SDK with API Key
  void initialize(String apiKey) {
    _apiKey = apiKey;
    print('Initializing Video SDK with API Key: $_apiKey');
  }

  // Join a video room
  Future<Map<String, dynamic>> joinRoom(String roomId) async {
    print('Joining room: $roomId');

    try {
      final mediaConstraints = {
        'audio': true,
        'video': {
          'facingMode': 'user'
        }
      };

      _localStream = await navigator.mediaDevices.getUserMedia(mediaConstraints);
      await _setupPeerConnection();

      return {'success': true, 'stream': _localStream};
    } catch (e) {
      print('Error joining room: $e');
      return {'success': false, 'error': e.toString()};
    }
  }

  // Toggle Camera
  void toggleCamera(bool enabled) {
    _localStream?.getVideoTracks().forEach((track) {
      track.enabled = enabled;
    });
  }

  // Toggle Microphone
  void toggleMicrophone(bool enabled) {
    _localStream?.getAudioTracks().forEach((track) {
      track.enabled = enabled;
    });
  }

  // Start Screen Sharing
  Future<MediaStream?> startScreenShare() async {
    try {
      final screenStream = await navigator.mediaDevices.getDisplayMedia({
        'video': true
      });
      print('Screen sharing started');
      return screenStream;
    } catch (e) {
      print('Error starting screen share: $e');
      return null;
    }
  }

  // Leave Room
  void leaveRoom() {
    _localStream?.getTracks().forEach((track) => track.stop());
    _peerConnection?.close();
    print('Left room successfully');
  }

  Future<void> _setupPeerConnection() async {
    final configuration = {
      'iceServers': [
        {'urls': 'stun:stun.l.google.com:19302'}
      ]
    };
    _peerConnection = await createPeerConnection(configuration);
  }
}

// VideoView Widget
class VideoView extends StatefulWidget {
  final MediaStream stream;
  final bool mirror;

  const VideoView({
    Key? key,
    required this.stream,
    this.mirror = false,
  }) : super(key: key);

  @override
  _VideoViewState createState() => _VideoViewState();
}

class _VideoViewState extends State<VideoView> {
  final RTCVideoRenderer _renderer = RTCVideoRenderer();

  @override
  void initState() {
    super.initState();
    _initRenderer();
  }

  void _initRenderer() async {
    await _renderer.initialize();
    _renderer.srcObject = widget.stream;
  }

  @override
  void dispose() {
    _renderer.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return RTCVideoView(
      _renderer,
      mirror: widget.mirror,
      objectFit: RTCVideoViewObjectFit.RTCVideoViewObjectFitCover,
    );
  }
}

// Example Usage:
// final sdk = VideoSDK();
// sdk.initialize('your_api_key');
// final result = await sdk.joinRoom('room123');
// if (result['success']) {
//   // Use VideoView widget to display stream
// }`:`// Video SDK - Version ${e.version}
// Complete SDK with all features for ${e.platform}

Documentation and sample code for ${e.platform}

Features included:
- Real-time video and audio communication
- Screen sharing capabilities
- Recording functionality
- Chat and messaging
- Whiteboard collaboration
- Virtual backgrounds
- Noise suppression
- AI-powered features
- Broadcasting and streaming
- Full API access

Please refer to the documentation at ${e.docs} for complete implementation details.

Installation:
Follow the platform-specific installation guide in the documentation.

Quick Start:
1. Initialize the SDK with your API key
2. Join a room using the room ID
3. Configure video/audio settings
4. Handle participant events
5. Implement UI controls

For complete examples and tutorials, visit our documentation portal.`],{type:"text/plain"}),a=URL.createObjectURL(s),void((l=document.createElement("a")).href=a,l.download=`${e.platform.replace(/\s+/g,"-").toLowerCase()}-v${e.version}.txt`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),eF({type:"success",message:`${e.platform} downloaded successfully!`}))},className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]}),(0,t.jsx)("button",{onClick:()=>window.open(e.docs,"_blank"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors",children:(0,t.jsx)(d.FileText,{className:"w-4 h-4"})})]})]},s))}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Quick Start Guides"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"5-Minute Integration",desc:"Get started with basic video calls in minutes"},{title:"API Reference",desc:"Complete API documentation with examples"},{title:"Sample Projects",desc:"Download working examples for each platform"},{title:"Video Tutorials",desc:"Step-by-step video guides and walkthroughs"}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all cursor-pointer",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.desc})]},s))})]})]}),"recordings"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Recording Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage, archive, and analyze your video recordings"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Total Recordings"}),(0,t.jsx)(ep.Video,{className:"w-6 h-6 text-blue-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:M.length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"All time"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Storage Used"}),(0,t.jsx)(eo.Package,{className:"w-6 h-6 text-green-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[M.reduce((e,t)=>e+(t.file_size_mb||0),0).toFixed(2)," GB"]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Across all recordings"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Active Recordings"}),(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-orange-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:M.filter(e=>"recording"===e.status).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"In progress now"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recording Configurations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.recording_type.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Quality:"}),(0,t.jsx)("span",{className:"text-white",children:e.video_quality.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Auto-start:"}),(0,t.jsx)("span",{className:"text-white",children:e.auto_start_recording?"Yes":"No"})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Cloud Storage Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Provider:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.provider.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Bucket:"}),(0,t.jsx)("span",{className:"text-white text-xs truncate",children:e.bucket_name})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Region:"}),(0,t.jsx)("span",{className:"text-white",children:e.region})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Auto-upload:"}),(0,t.jsx)("span",{className:"text-white",children:e.auto_upload?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Retention:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.retention_days," days"]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Recordings"}),(0,t.jsx)("div",{className:"space-y-3",children:M.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.recording_name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white ml-2 capitalize",children:e.recording_type.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Size:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.file_size_mb?.toFixed(2)||"N/A"," MB"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[Math.floor(e.duration_seconds/60)," min"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,t.jsx)("span",{className:`ml-2 px-2 py-0.5 rounded text-xs ${"completed"===e.status?"bg-green-500/20 text-green-400":"recording"===e.status?"bg-orange-500/20 text-orange-400":"bg-slate-500/20 text-slate-400"}`,children:e.status})]})]})]}),"completed"===e.status&&(0,t.jsxs)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Download"]})]}),e.recording_analytics&&e.recording_analytics.length>0&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700 grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Views:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.recording_analytics[0].view_count})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Downloads:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.recording_analytics[0].download_count})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Unique Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.recording_analytics[0].unique_viewers})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Avg Quality:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.recording_analytics[0].average_quality_score,"/100"]})]})]})]},e.id))})]})]}),"network"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Network Quality Management"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Monitor and optimize video quality with adaptive streaming"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Excellent Quality"}),(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:O.filter(e=>"excellent"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active connections"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Good Quality"}),(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-blue-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:O.filter(e=>"good"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active connections"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Fair Quality"}),(0,t.jsx)(ez.default,{className:"w-5 h-5 text-orange-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:O.filter(e=>"fair"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Need optimization"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-rose-500/10 border border-red-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Poor Quality"}),(0,t.jsx)(y.X,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:O.filter(e=>"poor"===e.quality_rating||"critical"===e.quality_rating).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Adaptive Bitrate Configurations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:z.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:e.config_name}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${e.enabled?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.enabled?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Min Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.min_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Target:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.target_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Max Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.max_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Speed:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.adaptation_speed})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Preference:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.quality_preference})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Simulcast Configurations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:K.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded p-3",children:[(0,t.jsx)("p",{className:"text-green-400 font-semibold mb-2",children:"High Quality"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.high_resolution}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[e.high_bitrate_kbps," kbps"]}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.high_framerate})]})]}),(0,t.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded p-3",children:[(0,t.jsx)("p",{className:"text-orange-400 font-semibold mb-2",children:"Medium"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.medium_resolution}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[e.medium_bitrate_kbps," kbps"]}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.medium_framerate})]})]}),(0,t.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3",children:[(0,t.jsx)("p",{className:"text-blue-400 font-semibold mb-2",children:"Low"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.low_resolution}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,t.jsxs)("div",{className:"text-white text-xs",children:[e.low_bitrate_kbps," kbps"]}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,t.jsx)("div",{className:"text-white text-xs",children:e.low_framerate})]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Real-time Network Statistics"}),(0,t.jsx)("div",{className:"space-y-3",children:O.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.video_call_participants?.participant_name||"Unknown Participant"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:new Date(e.measured_at).toLocaleString()})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"excellent"===e.quality_rating?"bg-green-500/20 text-green-400 border border-green-500/30":"good"===e.quality_rating?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"fair"===e.quality_rating?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:e.quality_rating?.toUpperCase()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Quality Score"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.quality_score,"/100"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Packet Loss"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.packet_loss_percentage?.toFixed(2),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Jitter"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.jitter_ms?.toFixed(1)," ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"RTT"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.round_trip_time_ms?.toFixed(0)," ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Bandwidth"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.bandwidth_mbps?.toFixed(1)," Mbps"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.current_resolution})]})]}),e.adaptive_bitrate_active&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(ez.default,{className:"w-4 h-4 text-orange-400"}),(0,t.jsx)("span",{className:"text-orange-400 font-semibold",children:"Adaptive Bitrate Active"}),(0,t.jsx)("span",{className:"text-slate-400",children:"- Currently streaming at"}),(0,t.jsx)("span",{className:"text-white font-semibold capitalize",children:e.simulcast_layer}),(0,t.jsx)("span",{className:"text-slate-400",children:"quality layer"})]})})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Network Quality Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(ez.default,{className:"w-5 h-5 text-cyan-400"}),"Adaptive Bitrate Streaming"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Automatically adjusts video quality based on available bandwidth to maintain stable connections"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(el.default,{className:"w-5 h-5 text-green-400"}),"Simulcast Technology"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Publishers send multiple quality streams simultaneously for optimal viewer experience"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(eR.BarChart3,{className:"w-5 h-5 text-orange-400"}),"Real-time Diagnostics"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Monitor packet loss, jitter, RTT, and bandwidth in real-time for proactive optimization"})]})]})]})]}),"ai-processing"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"AI & Advanced Media Processing"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Client-side AI processing for professional video quality"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Background Processing"}),(0,t.jsx)(td.default,{className:"w-6 h-6 text-purple-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:G.filter(e=>e.enabled).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Active configurations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Noise Cancellation"}),(0,t.jsx)(tc.default,{className:"w-6 h-6 text-blue-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:Q.filter(e=>e.enabled).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"AI models enabled"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Live Transcription"}),(0,t.jsx)(Y.MessageSquare,{className:"w-6 h-6 text-green-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:ee.filter(e=>e.enabled).length}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Languages supported"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Background Blur & Replacement"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"WebAssembly-powered background processing without green screens"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:G.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.processing_type})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Quality:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.quality})]}),"blur"===e.processing_type&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Blur Intensity:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.blur_intensity,"%"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Performance:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.performance_mode})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"GPU Acceleration:"}),(0,t.jsx)("span",{className:"text-white",children:e.use_gpu_acceleration?"Enabled":"Disabled"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"WASM Version:"}),(0,t.jsx)("span",{className:"text-white text-xs",children:e.wasm_module_version})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Virtual Backgrounds Library"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:H.slice(0,8).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3 hover:border-purple-500/50 transition-all cursor-pointer",children:[(0,t.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 rounded mb-2 flex items-center justify-center",children:(0,t.jsx)(ta.default,{className:"w-8 h-8 text-slate-600"})}),(0,t.jsx)("h4",{className:"text-white font-semibold text-sm mb-1",children:e.background_name}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-slate-400 capitalize",children:e.category}),e.is_premium&&(0,t.jsx)("span",{className:"px-1.5 py-0.5 bg-amber-500/20 text-amber-400 rounded",children:"PRO"})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Noise Cancellation"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Filter out background noise including typing, barking, and fan sounds"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Q.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"AI Model:"}),(0,t.jsx)("span",{className:"text-white text-xs",children:e.ai_model.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Suppression:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.noise_suppression_level,"%"]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Active Filters:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.filter_keyboard_typing&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Typing"}),e.filter_dog_barking&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Barking"}),e.filter_fan_noise&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Fan"}),e.voice_isolation&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Voice Isolation"})]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Transcription"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Real-time speech-to-text with speaker diarization and translation"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:ee.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"DEFAULT"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"AI Model:"}),(0,t.jsx)("span",{className:"text-white text-xs",children:e.ai_model.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Language:"}),(0,t.jsx)("span",{className:"text-white",children:e.language})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Confidence:"}),(0,t.jsxs)("span",{className:"text-white",children:[(100*e.confidence_threshold).toFixed(0),"%"]})]}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Features:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.enable_speaker_diarization&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Speaker ID"}),e.enable_punctuation&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Punctuation"}),e.enable_translation&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Translation"}),e.word_timestamps&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Timestamps"})]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Processing Analytics"}),(0,t.jsx)("div",{className:"space-y-3",children:ec.slice(0,6).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold capitalize",children:e.processing_type.replace("_"," ")}),(0,t.jsxs)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:["Quality: ",e.quality_score,"/100"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Processing Time"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[Math.floor(e.total_processing_time_seconds/60)," min"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"CPU Usage"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.cpu_usage_percentage?.toFixed(1),"%"]})]}),e.gpu_usage_percentage&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"GPU Usage"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.gpu_usage_percentage?.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Frames Processed"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.frames_processed?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400 text-xs",children:"Errors"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.error_count})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"AI Processing Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(td.default,{className:"w-5 h-5 text-purple-400"}),"Background Blur/Replace"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"WASM-powered silhouette detection for professional backgrounds without green screens"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(tc.default,{className:"w-5 h-5 text-blue-400"}),"AI Noise Cancellation"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Remove typing, barking, and background noise using advanced AI models"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-5 h-5 text-green-400"}),"Live Transcription"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Real-time speech-to-text with speaker detection and multi-language translation"})]})]})]})]}),"broadcasting"===i&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Broadcasting & Live Streaming"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Stream to millions with RTMP and HLS"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-pink-500/10 border border-red-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Live Broadcasts"}),(0,t.jsx)(eQ.default,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:en.filter(e=>"live"===e.status).length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Currently streaming"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"RTMP Configs"}),(0,t.jsx)(tx.Youtube,{className:"w-5 h-5 text-blue-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:es.length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active destinations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"HLS Streams"}),(0,t.jsx)(to.default,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:er.length}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"CDN configurations"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Peak Viewers"}),(0,t.jsx)(l.default,{className:"w-5 h-5 text-orange-400"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:Math.max(...en.map(e=>e.peak_viewer_count||0),0).toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"All-time high"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"RTMP Broadcast Configurations"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Stream to YouTube, Twitch, Facebook, and custom RTMP destinations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:es.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["youtube"===e.platform&&(0,t.jsx)(tx.Youtube,{className:"w-5 h-5 text-red-400"}),"twitch"===e.platform&&(0,t.jsx)(tm.default,{className:"w-5 h-5 text-purple-400"}),"facebook"===e.platform&&(0,t.jsx)(th.Facebook,{className:"w-5 h-5 text-blue-400"}),"linkedin"===e.platform&&(0,t.jsx)(E.Globe,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name})]}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Platform:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.platform})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Video Quality:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.video_resolution," @ ",e.framerate,"fps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Video Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.video_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Audio Bitrate:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.audio_bitrate_kbps," kbps"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Codec:"}),(0,t.jsxs)("span",{className:"text-white uppercase",children:[e.video_codec," / ",e.audio_codec]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"HLS Streaming Configurations"}),(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Adaptive bitrate streaming for massive viewer scale with low latency"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:er.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.config_name}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"CDN Provider:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.cdn_provider.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Latency Mode:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.latency_mode.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Segment Duration:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.segment_duration_seconds,"s"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Max Viewers:"}),(0,t.jsx)("span",{className:"text-white",children:e.max_viewers?.toLocaleString()||"Unlimited"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Adaptive Streaming:"}),(0,t.jsx)("span",{className:"text-white",children:e.enable_adaptive_streaming?"Enabled":"Disabled"})]}),e.enable_drm&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"DRM:"}),(0,t.jsx)("span",{className:"text-white uppercase",children:e.drm_provider})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Broadcast Sessions"}),(0,t.jsx)("div",{className:"space-y-3",children:en.map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.broadcast_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded text-xs font-semibold ${"live"===e.status?"bg-red-500/20 text-red-400 border border-red-500/30 animate-pulse":"scheduled"===e.status?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"ended"===e.status?"bg-slate-500/20 text-slate-400 border border-slate-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:e.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,t.jsx)("span",{className:"text-white ml-2 uppercase",children:e.broadcast_type})]}),"live"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Current Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.viewer_count?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Peak Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.peak_viewer_count?.toLocaleString()})]})]}),"ended"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Peak Viewers:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.peak_viewer_count?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[Math.floor(e.duration_seconds/60)," min"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Total Watch Time:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.total_watch_time_minutes?.toLocaleString()," min"]})]})]}),"scheduled"===e.status&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Scheduled:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:new Date(e.scheduled_start).toLocaleString()})]})]})]}),"live"===e.status&&(0,t.jsxs)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",children:[(0,t.jsx)(eQ.default,{className:"w-4 h-4"}),"View Stream"]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Broadcasting Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(eQ.default,{className:"w-5 h-5 text-red-400"}),"RTMP Streaming"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Push video to YouTube Live, Twitch, Facebook Live, and custom RTMP endpoints"}),(0,t.jsxs)("ul",{className:"text-slate-400 text-xs space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Multiple simultaneous destinations"}),(0,t.jsx)("li",{children:"â€¢ Automatic failover to backup servers"}),(0,t.jsx)("li",{children:"â€¢ Custom video/audio bitrate control"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,t.jsx)(to.default,{className:"w-5 h-5 text-green-400"}),"HLS Streaming"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Adaptive bitrate streaming for millions of viewers with CDN delivery"}),(0,t.jsxs)("ul",{className:"text-slate-400 text-xs space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Multiple quality variants (360p to 4K)"}),(0,t.jsx)("li",{children:"â€¢ Ultra-low latency mode available"}),(0,t.jsx)("li",{children:"â€¢ DRM protection support"})]})]})]})]})]})]}),eT&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Purchase Video API"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Get instant access with API keys and SDK"})]}),(0,t.jsx)("button",{onClick:()=>eP(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-6 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:eT.product_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:eT.description}),(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${tK(eT.industry)}`,children:eT.industry.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-400 border border-cyan-500/30",children:eT.product_type.toUpperCase()})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Included Features:"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:eT.features.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e]},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Max Participants"}),(0,t.jsx)("p",{className:"text-white text-lg font-bold",children:eT.max_participants})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Cloud Storage"}),(0,t.jsxs)("p",{className:"text-white text-lg font-bold",children:[eT.storage_gb," GB"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"API Calls Limit"}),(0,t.jsxs)("p",{className:"text-white text-lg font-bold",children:[eT.api_calls_limit.toLocaleString(),"/mo"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Access Type"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[eT.has_sdk&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs",children:"SDK"}),eT.has_api&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:"API"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Monthly Subscription:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(eT.monthly_price).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Per Minute Rate:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(eT.per_minute_price).toFixed(4)]})]}),eT.setup_fee>0&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"One-time Setup Fee:"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(eT.setup_fee).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"Total Today:"}),(0,t.jsxs)("span",{className:"text-white text-2xl font-bold",children:["RM ",(Number(eT.setup_fee)+Number(eT.monthly_price)).toFixed(2)]})]}),(0,t.jsx)("p",{className:"text-cyan-400 text-xs mt-2",children:"API keys and SDK access will be generated instantly after purchase"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>eP(null),disabled:eM,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:tq,disabled:eM,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:eM?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(em.ShoppingCart,{className:"w-5 h-5"}),"Confirm Purchase"]})})]})]})}),eL&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===eL.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===eL.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===eL.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-white"}):(0,t.jsx)(y.X,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===eL.type?"text-green-400":"text-red-400"}`,children:"success"===eL.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:eL.message})]}),(0,t.jsx)("button",{onClick:()=>eF(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})})}),eO&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Video Session Ready"}),(0,t.jsx)("p",{className:"text-slate-400",children:eO.template.template_name})]}),(0,t.jsx)("button",{onClick:()=>eV(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-gradient-to-br from-cyan-500 to-blue-600 p-8 rounded-2xl",children:(0,t.jsx)(ep.Video,{className:"w-16 h-16 text-white"})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Session Type"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:eO.template.template_type})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Max Participants"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:eO.template.configuration.participant_limit})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Duration"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[eO.template.configuration.duration," mins"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300 mb-2 block",children:"Session URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-cyan-400 break-all",children:eO.session.sessionUrl}),(0,t.jsx)("button",{onClick:()=>tU(eO.session.sessionUrl,"session_url"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"session_url"===e$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy"]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-slate-300 mb-2 block",children:"Room ID"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white",children:eO.session.roomId}),(0,t.jsx)("button",{onClick:()=>tU(eO.session.roomId,"room_id"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"room_id"===e$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy"]})})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-cyan-400 font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(tl.default,{className:"w-5 h-5"}),"Join Meeting"]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Click to enter the video conference room"}),(0,t.jsxs)("button",{onClick:()=>tV(eO.session.roomId),className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(ep.Video,{className:"w-4 h-4"}),"Join Now"]})]}),(0,t.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"text-blue-400 font-semibold mb-3 flex items-center gap-2",children:[(0,t.jsx)(u.default,{className:"w-5 h-5"}),"Invite Participants"]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Share the link with other participants"}),(0,t.jsxs)("button",{onClick:()=>{var e;return e=eO.session.sessionUrl,void(navigator.clipboard.writeText(e),eF({type:"success",message:"Room link copied to clipboard!"}))},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(tr.default,{className:"w-4 h-4"}),"Share Link"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Session Features"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:eO.template.features.slice(0,8).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),e]},s))})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>eV(null),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Close"}),(0,t.jsxs)("button",{className:"flex-1 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(ti.default,{className:"w-5 h-5"}),"Open in Full Screen"]})]})]})}),ej&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(ep.Video,{className:"w-7 h-7 text-green-400"}),"Start Video Call"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Choose your call configuration and features"})]}),(0,t.jsx)("button",{onClick:()=>eN(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Call Type"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>ey("p2p"),className:`p-4 rounded-lg border-2 transition-all text-left ${"p2p"===ev?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"P2P Call"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"1-on-1 high-quality video call with ultra-low latency"})]}),(0,t.jsxs)("button",{onClick:()=>ey("group_sfu"),className:`p-4 rounded-lg border-2 transition-all text-left ${"group_sfu"===ev?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Group Room (SFU)"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Up to 50 active speakers with optimized bandwidth"})]}),(0,t.jsxs)("button",{onClick:()=>ey("group_mcu"),className:`p-4 rounded-lg border-2 transition-all text-left ${"group_mcu"===ev?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(l.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Group Room (MCU)"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Large conferences with 100+ participants"})]}),(0,t.jsxs)("button",{onClick:()=>ey("webinar"),className:`p-4 rounded-lg border-2 transition-all text-left ${"webinar"===ev?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(el.default,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Webinar Mode"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Broadcast to thousands of viewers"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Media & Collaboration Features"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:ew,onChange:e=>e_(e.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(el.default,{className:"w-4 h-4 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Screen Sharing"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Share your screen, window, or tab"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:ek,onChange:e=>eC(e.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eo.Package,{className:"w-4 h-4 text-orange-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Virtual Whiteboard"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Collaborative drawing and annotations"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eS,onChange:e=>eA(e.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tl.default,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"SIP Interconnect"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Allow phone dial-in for audio participants"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Included Features"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"HD Video & Audio"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Real-time Chat"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Emoji Reactions"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Hand Raise"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>eN(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{eG(`room_${Math.random().toString(36).substr(2,9)}`),eN(!1),eF({type:"success",message:"Call started successfully!"})},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(ep.Video,{className:"w-5 h-5"}),"Start Call"]})]})]})}),eX&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-7 h-7 text-cyan-400"}),"Schedule Video Meeting"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Create a new meeting with AI-powered features"})]}),(0,t.jsx)("button",{onClick:()=>eH(!1),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Meeting Title *"}),(0,t.jsx)("input",{type:"text",value:e4,onChange:e=>e2(e.target.value),placeholder:"e.g., Weekly Team Sync",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Date *"}),(0,t.jsx)("input",{type:"date",value:e5,onChange:e=>e3(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Time *"}),(0,t.jsx)("input",{type:"time",value:e1,onChange:e=>e6(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Participant Emails (comma-separated)"}),(0,t.jsx)("textarea",{value:e7,onChange:e=>e8(e.target.value),placeholder:"john@example.com, jane@example.com",rows:3,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(tn.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Meeting AI Configuration"})]}),eJ.length>0?(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"AI Features Preset"}),(0,t.jsx)("select",{value:eZ,onChange:e=>e0(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 mb-3",children:eJ.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.configuration_name,e.is_default&&" (Default)"]},e.id))}),eZ&&((e=eJ.find(e=>e.id===eZ))?(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eU.Mic,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Transcription:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.enable_transcription?"On":"Off"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.Video,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Recording:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.enable_recording?"On":"Off"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tn.default,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("span",{className:"text-slate-300",children:"AI Insights:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.enable_ai_insights?"On":"Off"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Action Items:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:e.enable_action_items?"On":"Off"})]})]}):null)]}):(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e9,onChange:e=>te(e.target.checked),className:"w-5 h-5 text-cyan-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable AI Transcription"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Real-time speech-to-text with speaker identification"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Meeting Features"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"HD Video & Audio"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Screen Sharing"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Chat & Reactions"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Up to 100 Participants"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>eH(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:t$,disabled:!e4||!e5||!e1,className:"flex-1 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-5 h-5"}),"Schedule Meeting"]})]})]})}),eW&&(0,t.jsx)(tN,{roomId:eW,onLeave:()=>{eG(null)}})]})}var e$=e$,tC=e.i(60243),tC=tC,e7=e7,tS=e.i(74888),tS=tS,tA=e.i(64250),tA=tA,tT=e.i(31171),tT=tT,tP=e.i(99219),tP=tP,eO=eO,N=N,_=_,N=N,eh=eh,tI=e.i(36993),tI=tI,S=S,A=A,e2=e2,eQ=eQ,j=j;function tM(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[p,g]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[w,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{C()},[]);let C=async()=>{try{console.log("Loading SMS configurations");let{data:e,error:t}=await h.db.from("sms_configurations").select("*").order("created_at",{ascending:!1});if(t)throw console.error("Error loading SMS configurations:",t),t;console.log("Loaded SMS configurations:",e?.length||0,"configs");let s=(e||[]).map(e=>{let t=e=>{if(!e||"string"!=typeof e)return e;try{return JSON.parse(e)}catch{return e}};return{...e,smpp_config:t(e.smpp_config),http_config:t(e.http_config),credentials:t(e.credentials),settings:t(e.settings)}});l(s)}catch(e){console.error("Error loading SMS configurations:",e),g(e.message)}finally{i(!1)}},A=async(e,t)=>{let s=!t,r=s?"active":"inactive";try{let{error:t}=await h.db.from("sms_configurations").update({is_active:s,status:r}).eq("id",e);if(t)throw t;l(a.map(t=>t.id===e?{...t,is_active:s,status:r}:t)),f("Configuration status updated successfully"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Error updating configuration:",e),g(e.message)}},T=async e=>{try{let{error:t}=await h.db.from("sms_configurations").update({is_default:!0}).eq("id",e);if(t)throw t;l(a.map(t=>({...t,is_default:t.id===e}))),f("Default configuration updated successfully"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Error setting default:",e),g(e.message)}},P=async e=>{if(confirm("Are you sure you want to delete this SMS aggregator configuration?"))try{let{error:t}=await h.db.from("sms_configurations").delete().eq("id",e);if(t)throw t;l(a.filter(t=>t.id!==e)),f("Configuration deleted successfully"),setTimeout(()=>f(null),3e3)}catch(e){console.error("Error deleting configuration:",e),g(e.message)}};return r?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(tI.default,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"SMS Aggregator Configuration"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Configure SMS aggregators like Infobip, Twilio, or custom SMPP providers"})]}),(0,t.jsxs)("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Configuration"]})]}),p&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Error"}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:p})]}),(0,t.jsx)("button",{onClick:()=>g(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),b&&(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-green-300 text-sm",children:b})}),(0,t.jsx)("button",{onClick:()=>f(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),o&&m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit SMS Aggregator Configuration"}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Configuration Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",defaultValue:m.gateway_name,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g., Infobip Production"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Aggregator Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{defaultValue:m.provider,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"infobip",children:"Infobip"}),(0,t.jsx)("option",{value:"twilio",children:"Twilio"}),(0,t.jsx)("option",{value:"sinch",children:"Sinch"}),(0,t.jsx)("option",{value:"vonage",children:"Vonage"}),(0,t.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Connection Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{defaultValue:m.protocol,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"SMPP",children:"SMPP"}),(0,t.jsx)("option",{value:"HTTP",children:"HTTP"}),(0,t.jsx)("option",{value:"HTTPS",children:"HTTPS"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"edit-default",defaultChecked:m.is_default,className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-blue-500 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"edit-default",className:"text-sm text-slate-300",children:"Set as default aggregator"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SMPP Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Host ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",defaultValue:m.smpp_config?.host||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"smpp.provider.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Port ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"number",defaultValue:m.smpp_config?.port||"2775",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"2775"})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["System ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",defaultValue:m.smpp_config?.system_id||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"your_system_id"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Password ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"password",defaultValue:m.credentials?.password||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,t.jsx)("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white",children:(0,t.jsx)(S.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Bind Type"}),(0,t.jsxs)("select",{defaultValue:m.smpp_config?.bind_type||"transceiver",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"transceiver",children:"Transceiver"}),(0,t.jsx)("option",{value:"transmitter",children:"Transmitter"}),(0,t.jsx)("option",{value:"receiver",children:"Receiver"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Encoding"}),(0,t.jsxs)("select",{defaultValue:m.smpp_config?.encoding||"UCS2",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"UCS2",children:"UCS2"}),(0,t.jsx)("option",{value:"GSM7",children:"GSM7"}),(0,t.jsx)("option",{value:"UTF-8",children:"UTF-8"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Max Throughput (msg/sec)"}),(0,t.jsx)("input",{type:"number",defaultValue:m.settings?.max_throughput||"100",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Rate Limit (req/sec)"}),(0,t.jsx)("input",{type:"number",defaultValue:m.settings?.rate_limit||"100",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{onClick:()=>{f("Configuration updated successfully!"),x(!1),u(null),setTimeout(()=>f(null),3e3)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all font-medium",children:"Save Configuration"}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"px-8 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-medium",children:"Cancel"})]})]})]})}),0===a.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(c.Settings,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No SMS Aggregator Configurations"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first SMS aggregator to start sending messages via SMPP or HTTP/HTTPS"}),(0,t.jsx)("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all",children:"Add Configuration"})]}):(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:`p-3 bg-gradient-to-r ${"smpp"===e.protocol?"from-cyan-500 to-blue-500":"from-blue-500 to-green-500"} rounded-lg`,children:(e=>{switch(e){case"smpp":return(0,t.jsx)(eQ.default,{className:"w-5 h-5"});case"http":case"https":return(0,t.jsx)(E.Globe,{className:"w-5 h-5"});default:return(0,t.jsx)(e2.default,{className:"w-5 h-5"})}})(e.protocol)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.gateway_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-medium border border-yellow-500/30",children:"Default"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${{infobip:"bg-orange-500/20 text-orange-400 border-orange-500/30",twilio:"bg-red-500/20 text-red-400 border-red-500/30",custom:"bg-purple-500/20 text-purple-400 border-purple-500/30",other:"bg-slate-500/20 text-slate-400 border-slate-500/30"}[e.provider]||"bg-slate-500/20 text-slate-400 border-slate-500/30"}`,children:e.provider?.toUpperCase()||"N/A"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${{smpp:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",http:"bg-blue-500/20 text-blue-400 border-blue-500/30",https:"bg-green-500/20 text-green-400 border-green-500/30"}[e.protocol]||"bg-slate-500/20 text-slate-400 border-slate-500/30"}`,children:e.protocol?.toUpperCase()||"N/A"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>A(e.id,"active"===e.status),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${"active"===e.status?"bg-green-500/20 text-green-400 border border-green-500/30 hover:bg-green-500/30":"bg-slate-700 text-slate-400 border border-slate-600 hover:bg-slate-600"}`,children:"active"===e.status?"Active":"Inactive"}),!e.is_default&&(0,t.jsx)("button",{onClick:()=>T(e.id),className:"p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-lg transition-all",title:"Set as default",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>k(w===e.id?null:e.id),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-all",title:"View details",children:(0,t.jsx)(S.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>{u(e),x(!0)},className:"p-2 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10 rounded-lg transition-all",title:"Edit configuration",children:(0,t.jsx)(j.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete configuration",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]})]}),w===e.id&&(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 mt-4 space-y-4",children:[e.protocol?.toLowerCase()==="smpp"&&e.smpp_config&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(eQ.default,{className:"w-4 h-4"}),"SMPP Configuration"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.smpp_config.host&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Host:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.smpp_config.host})]}),e.smpp_config.port&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Port:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.smpp_config.port})]}),e.smpp_config.system_id&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"System ID:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.smpp_config.system_id})]}),e.smpp_config.bind_type&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Bind Type:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:e.smpp_config.bind_type})]}),e.smpp_config.encoding&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Encoding:"}),(0,t.jsx)("span",{className:"text-white",children:e.smpp_config.encoding})]}),e.smpp_config.interface_version&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Interface Version:"}),(0,t.jsx)("span",{className:"text-white",children:e.smpp_config.interface_version})]})]})]}),["http","https"].includes(e.protocol?.toLowerCase()||"")&&e.http_config&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4"}),"HTTP/HTTPS Configuration"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.http_config.base_url&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3 col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Base URL:"}),(0,t.jsx)("span",{className:"text-white font-mono break-all",children:e.http_config.base_url})]}),e.http_config.endpoint&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3 col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Endpoint:"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.http_config.endpoint})]}),e.http_config.method&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Method:"}),(0,t.jsx)("span",{className:"text-white",children:e.http_config.method})]}),e.http_config.content_type&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Content Type:"}),(0,t.jsx)("span",{className:"text-white font-mono text-xs",children:e.http_config.content_type})]})]})]}),e.settings&&Object.keys(e.settings).length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Additional Settings"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.settings.max_throughput&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Max Throughput:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.settings.max_throughput," msg/sec"]})]}),e.settings.rate_limit&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Rate Limit:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.settings.rate_limit," req/sec"]})]}),e.settings.validity_period&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Validity Period:"}),(0,t.jsx)("span",{className:"text-white",children:e.settings.validity_period})]}),e.settings.default_sender&&(0,t.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,t.jsx)("span",{className:"text-slate-500 block mb-1",children:"Default Sender:"}),(0,t.jsx)("span",{className:"text-white",children:e.settings.default_sender})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-500 pt-2",children:[(0,t.jsxs)("span",{children:["Created: ",new Date(e.created_at).toLocaleString()]}),(0,t.jsxs)("span",{children:["Updated: ",new Date(e.updated_at).toLocaleString()]})]})]})]},e.id))}),n&&(0,t.jsx)(tD,{tenantId:e?.app_metadata?.tenant_id||e?.user_metadata?.tenant_id||"",onClose:()=>d(!1),onSuccess:()=>{d(!1),C(),f("SMS aggregator configured successfully"),setTimeout(()=>f(null),3e3)},onError:e=>g(e)})]})}function tD({tenantId:e,onClose:a,onSuccess:l,onError:r}){let[i,n]=(0,s.useState)({aggregatorName:"",aggregatorType:"infobip",connectionType:"smpp",isDefault:!1,smppHost:"",smppPort:"2775",smppSystemId:"",smppPassword:"",smppBindType:"transceiver",smppEncoding:"UCS2",httpBaseUrl:"",httpEndpoint:"",httpMethod:"POST",httpContentType:"application/json",apiKey:"",maxThroughput:"100",rateLimit:"100"}),[d,c]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!1),m=async()=>{if(!i.aggregatorName||!i.aggregatorType)return void r("Please fill in all required fields");if("smpp"===i.connectionType&&(!i.smppHost||!i.smppPort||!i.smppSystemId))return void r("Please fill in all SMPP configuration fields");if(("http"===i.connectionType||"https"===i.connectionType)&&!i.httpBaseUrl)return void r("Please fill in the base URL for HTTP/HTTPS configuration");c(!0);try{let t={tenant_id:e||null,gateway_name:i.aggregatorName,provider:i.aggregatorType,protocol:i.connectionType.toUpperCase(),status:"active",is_active:!0,is_default:i.isDefault};"smpp"===i.connectionType?(t.smpp_config=JSON.stringify({host:i.smppHost,port:parseInt(i.smppPort),system_id:i.smppSystemId,bind_type:i.smppBindType,encoding:i.smppEncoding,interface_version:"3.4",ton:1,npi:1}),t.credentials=JSON.stringify({password:i.smppPassword})):(t.http_config=JSON.stringify({base_url:i.httpBaseUrl,endpoint:i.httpEndpoint,method:i.httpMethod,content_type:i.httpContentType,timeout:30}),t.credentials=JSON.stringify({api_key:i.apiKey})),t.settings=JSON.stringify({max_throughput:parseInt(i.maxThroughput),rate_limit:parseInt(i.rateLimit)});let{error:s}=await h.db.from("sms_configurations").insert(t);if(s)throw s;l()}catch(e){console.error("Error saving configuration:",e),r(e.message||"An error occurred while saving")}finally{c(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl max-w-2xl w-full p-6 my-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add SMS Aggregator Configuration"}),(0,t.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Configuration Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:i.aggregatorName,onChange:e=>n({...i,aggregatorName:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g., Infobip Production"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Aggregator Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:i.aggregatorType,onChange:e=>n({...i,aggregatorType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"infobip",children:"Infobip"}),(0,t.jsx)("option",{value:"twilio",children:"Twilio"}),(0,t.jsx)("option",{value:"custom",children:"Custom"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Connection Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:i.connectionType,onChange:e=>n({...i,connectionType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"smpp",children:"SMPP"}),(0,t.jsx)("option",{value:"http",children:"HTTP"}),(0,t.jsx)("option",{value:"https",children:"HTTPS"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"isDefault",checked:i.isDefault,onChange:e=>n({...i,isDefault:e.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-slate-300 cursor-pointer",children:"Set as default aggregator"})]}),"smpp"===i.connectionType?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SMPP Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Host ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i.smppHost,onChange:e=>n({...i,smppHost:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"smpp.provider.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Port ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"number",value:i.smppPort,onChange:e=>n({...i,smppPort:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"2775"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["System ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i.smppSystemId,onChange:e=>n({...i,smppSystemId:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"your_system_id"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Password ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:o?"text":"password",value:i.smppPassword,onChange:e=>n({...i,smppPassword:e.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:o?(0,t.jsx)(A.default,{className:"w-5 h-5"}):(0,t.jsx)(S.default,{className:"w-5 h-5"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Bind Type"}),(0,t.jsxs)("select",{value:i.smppBindType,onChange:e=>n({...i,smppBindType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"transceiver",children:"Transceiver"}),(0,t.jsx)("option",{value:"transmitter",children:"Transmitter"}),(0,t.jsx)("option",{value:"receiver",children:"Receiver"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Encoding"}),(0,t.jsxs)("select",{value:i.smppEncoding,onChange:e=>n({...i,smppEncoding:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"UCS2",children:"UCS2"}),(0,t.jsx)("option",{value:"GSM7",children:"GSM7"}),(0,t.jsx)("option",{value:"UTF8",children:"UTF8"})]})]})]})]})]})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"HTTP/HTTPS Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Base URL ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:i.httpBaseUrl,onChange:e=>n({...i,httpBaseUrl:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"https://api.provider.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Endpoint"}),(0,t.jsx)("input",{type:"text",value:i.httpEndpoint,onChange:e=>n({...i,httpEndpoint:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"/sms/send"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Method"}),(0,t.jsxs)("select",{value:i.httpMethod,onChange:e=>n({...i,httpMethod:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),(0,t.jsxs)("select",{value:i.httpContentType,onChange:e=>n({...i,httpContentType:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"application/json",children:"application/json"}),(0,t.jsx)("option",{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Key"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:o?"text":"password",value:i.apiKey,onChange:e=>n({...i,apiKey:e.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"your-api-key"}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:o?(0,t.jsx)(A.default,{className:"w-5 h-5"}):(0,t.jsx)(S.default,{className:"w-5 h-5"})})]})]})]})]})}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Throughput (msg/sec)"}),(0,t.jsx)("input",{type:"number",value:i.maxThroughput,onChange:e=>n({...i,maxThroughput:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Limit (req/sec)"}),(0,t.jsx)("input",{type:"number",value:i.rateLimit,onChange:e=>n({...i,rateLimit:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:a,disabled:d,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:m,disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save Configuration"})]})]})})}function tE(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)("compose"),[r,i]=(0,s.useState)("all"),[n,o]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[w,_]=(0,s.useState)("paste"),[k,C]=(0,s.useState)(""),[S,A]=(0,s.useState)("now"),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[E,L]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[F,$]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[q,U]=(0,s.useState)(!0),[O,V]=(0,s.useState)(!1),[z,B]=(0,s.useState)(!1),[K,W]=(0,s.useState)({name:"",category:"promotional",description:"",content:"",use_case:"",is_default:!1}),[G,X]=(0,s.useState)(null),[H,J]=(0,s.useState)({}),[Q,Z]=(0,s.useState)({});(0,s.useEffect)(()=>{e&&Promise.all([ee(),et()]).finally(()=>U(!1))},[e]),(0,s.useEffect)(()=>{console.log("BulkSMS MOUNTED. Calling loadTemplates..."),et()},[]),(0,s.useEffect)(()=>{V(!0)},[]),(0,s.useEffect)(()=>{console.log("Loading campaigns (Filter changed or User loaded)"),ee()},[r]),(0,s.useEffect)(()=>{k?er(k):$({valid:0,duplicates:0,invalid:0})},[k]);let ee=async()=>{console.log("Loading SMS campaigns, filter:",r);let e=h.db.from("sms_campaigns").select("*").order("created_at",{ascending:!1});"all"!==r&&(e=e.eq("status",r));let{data:t,error:s}=await e;console.log("SMS Campaigns loaded:",{data:t,error:s,count:t?.length}),!s&&t?P(t):s&&console.error("Error loading SMS campaigns:",s)},et=async()=>{try{let{data:e,error:t}=await h.db.from("sms_templates").select("*").order("template_name");if(!t&&e){let t=e.map(e=>{let t=e.variables;if("string"==typeof t)try{t=t.startsWith("[")?JSON.parse(t):t.split(",").map(e=>e.trim())}catch(e){console.error("Error parsing template variables:",e),t=[]}return{...e,variables:t}});M(t)}}catch(e){console.error("Error in loadTemplates",e)}},es=async()=>{let e;if(!K.name||!K.content)return void alert("Please fill in Template Name and Content");let t=/{{([^}]+)}}/g,s=[];for(;null!==(e=t.exec(K.content));)s.push(e[1].trim());try{let{error:e}=await h.db.from("sms_templates").insert({template_name:K.name,category:K.category,description:K.description,content:K.content,variables:JSON.stringify(s),use_case:K.use_case,is_default:K.is_default});if(e)throw e;alert("Template created successfully!"),B(!1),W({name:"",category:"promotional",description:"",content:"",use_case:"",is_default:!1}),et()}catch(e){console.error("Error creating template:",e),alert("Failed to create template")}};(0,s.useEffect)(()=>{if(T.length>0){let e=T.reduce((e,t)=>e+(t.sent_recipients||0),0),t=T.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.sent_recipients||0),0),s=T.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.sent_recipients||0),0);L({totalSent:e,delivered:t,pending:s,failed:e-t-s})}},[T]);let ea=async e=>{Z(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("sms_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&J(s=>({...s,[e]:t})),Z(t=>({...t,[e]:!1}))},el=async e=>{G===e?X(null):(X(e),H[e]||await ea(e))},er=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;$({valid:l.size,duplicates:r,invalid:i})},ei=e=>{b(e);let t=I.find(t=>t.id===e);t&&j(t.content)},en=async()=>{if(!n||!x||!u||!f||!e)return void alert("Please fill in all required fields");if(0===F.valid)return void alert("Please add valid phone numbers");try{let{data:t,error:s}=await h.db.from("sms_campaigns").insert({user_id:e.id,campaign_name:n,route_type:x,sender_id:u,message:f,template_id:g||null,recipient_source:w,total_recipients:k.split("\n").filter(e=>e.trim()).length,sent_recipients:F.valid,insent_recipients:F.invalid,duplicate_numbers:F.duplicates,status:"now"===S?"in_progress":"scheduled",created_by:e.id}).select().single();if(s)throw s;alert("Campaign created successfully!"),ex(),ee()}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},ed=async e=>{try{let{error:t}=await h.db.from("sms_campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;alert("Campaign paused successfully"),ee()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},ec=async e=>{try{let{error:t}=await h.db.from("sms_campaigns").update({status:"in_progress"}).eq("id",e);if(t)throw t;alert("Campaign resumed successfully"),ee()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}},eo=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("sms_campaigns").delete().eq("id",e);if(t)throw t;alert("Campaign deleted successfully"),ee()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},ex=()=>{o(""),m(""),p(""),b(""),j(""),C(""),_("paste"),A("now")},em=()=>Math.ceil(f.length/160)||1,eh=e=>{switch(e){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"paused":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},eu=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:E.totalSent.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-blue-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:E.delivered.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsxs)("p",{className:"text-green-400 text-sm",children:[E.totalSent?Math.round(E.delivered/E.totalSent*100):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:E.pending.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:E.failed.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>l("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===a?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,t.jsx)("button",{onClick:()=>l("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===a?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>l("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===a?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsxs)("button",{onClick:()=>l("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===a?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===a&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose SMS API Message"}),(0,t.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Route Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Route Type"}),(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"otp",children:"OTP"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Sender ID"}),(0,t.jsx)("option",{value:"NRGDIC",children:"NRGDIC"}),(0,t.jsx)("option",{value:"MYBRAND",children:"MYBRAND"}),(0,t.jsx)("option",{value:"COMPANY",children:"COMPANY"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,t.jsxs)("button",{onClick:()=>l("templates"),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(d.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,t.jsxs)("select",{value:g,onChange:e=>ei(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Template"}),I.map(e=>(0,t.jsx)("option",{value:e.id,children:e.template_name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("textarea",{value:f,onChange:e=>j(e.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",f.length," | Total SMS: ",em()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"paste"===w,onChange:()=>_("paste"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"upload"===w,onChange:()=>_("upload"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"phonebook"===w,onChange:()=>_("phonebook"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{value:k,onChange:e=>C(e.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",k.split("\n").filter(e=>e.trim()).length]}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,t.jsxs)("span",{className:"text-green-400",children:["â— Valid Numbers: ",F.valid]}),(0,t.jsxs)("span",{className:"text-yellow-400",children:["â— Duplicates: ",F.duplicates]}),(0,t.jsxs)("span",{className:"text-red-400",children:["â— Invalid Numbers: ",F.invalid]})]})]})]}),"upload"===w&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,t.jsx)(tC.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,t.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===w&&(0,t.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Phonebook"}),(0,t.jsx)("option",{value:"customers",children:"Customers"}),(0,t.jsx)("option",{value:"leads",children:"Leads"}),(0,t.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"now"===S,onChange:()=>A("now"),className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"schedule"===S,onChange:()=>A("schedule"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:ex,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:en,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-slate-100 px-4 py-2 flex items-center justify-between border-b border-slate-200",children:[(0,t.jsx)("span",{className:"text-xs font-medium",children:O?eu():"--:--"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:u||"NRGDIC"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(tA.default,{className:"w-3 h-3"}),(0,t.jsx)(tS.default,{className:"w-5 h-3"})]})]}),(0,t.jsx)("div",{className:"h-[400px] bg-gradient-to-b from-slate-50 to-slate-100 p-4 overflow-y-auto",children:(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsxs)("div",{className:"max-w-[85%]",children:[(0,t.jsxs)("div",{className:"text-xs text-slate-500 mb-1 text-right",children:["Today, ",O?eu():"--:--"]}),f?(0,t.jsx)("div",{className:"bg-blue-500 text-white rounded-2xl rounded-tr-sm px-4 py-3 shadow-sm",children:(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:f})}):(0,t.jsx)("div",{className:"bg-blue-100 text-blue-300 rounded-2xl rounded-tr-sm px-4 py-3 border border-dashed border-blue-300",children:(0,t.jsx)("p",{className:"text-sm",children:"Your message will appear here"})})]})})}),(0,t.jsx)("div",{className:"bg-white border-t border-slate-200 p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-100 rounded-full px-4 py-2",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"Text Message"})}),(0,t.jsx)("button",{className:"bg-blue-500 text-white p-2 rounded-full",children:(0,t.jsx)(e$.default,{className:"w-4 h-4"})})]})})]})}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:f.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:em()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:F.valid})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:T.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-medium text-sm",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${eh(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"paused"===e.status?"Paused":"draft"===e.status?"Draft":"Scheduled"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:["Sent: ",e.sent_recipients?.toLocaleString()||0]}),(0,t.jsxs)("span",{children:["Delivered: ",e.sent_recipients?.toLocaleString()||0]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:O?new Date(e.created_at).toLocaleString():"-"})]},e.id))}),T.length>3&&(0,t.jsx)("button",{onClick:()=>l("campaigns"),className:"w-full mt-3 text-blue-400 hover:text-blue-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===a&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>i("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,t.jsx)("button",{onClick:()=>i("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,t.jsx)("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,t.jsx)("button",{onClick:()=>i("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,t.jsx)("button",{onClick:()=>i("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===T.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first SMS campaign to get started"}),(0,t.jsxs)("button",{onClick:()=>l("compose"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:T.map(e=>{let s=H[e.id]||[],a=G===e.id,l=Q[e.id],r=s.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${eh(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"paused"===e.status?"Paused":"draft"===e.status?"Draft":"Scheduled"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:O?new Date(e.created_at).toLocaleString():"-"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>ed(e.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ec(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>eo(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>el(e.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tP.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tT.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_recipients.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,t.jsx)("p",{className:"text-green-400 text-lg font-semibold",children:(e.total_recipients-(e.duplicate_numbers||0)).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[e.success_rate?e.success_rate.toFixed(1):0,"%"]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(R.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",r.delivered||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-blue-400",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Sent: ",r.sent||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),"Pending: ",r.pending||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-red-400",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"}),"Failed: ",r.failed||0]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(e=>{switch(e){case"delivered":return"text-green-400";case"sent":return"text-blue-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";case"invalid":return"text-orange-400";default:return"text-slate-400"}})(e.status)}`,children:[(e=>{switch(e){case"delivered":return(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,t.jsx)(e$.default,{className:"w-4 h-4"});case"pending":default:return(0,t.jsx)(R.Clock,{className:"w-4 h-4"});case"failed":return(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"});case"invalid":return(0,t.jsx)(y.X,{className:"w-4 h-4"})}})(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:O&&e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:O&&e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.error_message?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-red-400 text-xs",children:e.error_message})]}):(0,t.jsx)("span",{className:"text-slate-500",children:"-"})})]},e.id))})]})}),100===s.length&&(0,t.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},e.id)})})]}),"templates"===a&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Message Templates"}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===I.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-blue-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.template_name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Default"})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===e.category?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"transactional"===e.category?"bg-green-500/20 text-green-400 border border-green-500/30":"otp"===e.category?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"reminder"===e.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:e.category})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),(0,t.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-3",children:(0,t.jsx)("p",{className:"text-slate-300 text-xs line-clamp-3 font-mono",children:e.content})}),e.variables&&e.variables.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:e},s))})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:e.use_case}),(0,t.jsx)("button",{onClick:()=>{l("compose"),ei(e.id)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},e.id))})]}),"configuration"===a&&(0,t.jsx)(tM,{}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create New Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your SMS template with variables and preview"})]}),(0,t.jsx)("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-800 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Template Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:K.name,onChange:e=>W({...K,name:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. Order Confirmation"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:K.category,onChange:e=>W({...K,category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"otp",children:"OTP"}),(0,t.jsx)("option",{value:"alert",children:"Alert"}),(0,t.jsx)("option",{value:"reminder",children:"Reminder"}),(0,t.jsx)("option",{value:"survey",children:"Survey"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Use Case / Tag"}),(0,t.jsx)("input",{type:"text",value:K.use_case,onChange:e=>W({...K,use_case:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. Retail, Banking"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,t.jsx)("div",{onClick:()=>W({...K,is_default:!K.is_default}),className:`w-12 h-6 rounded-full cursor-pointer relative transition-colors ${K.is_default?"bg-blue-600":"bg-slate-700"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${K.is_default?"left-7":"left-1"}`})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 cursor-pointer",onClick:()=>W({...K,is_default:!K.is_default}),children:"Set as Default"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:K.description,onChange:e=>W({...K,description:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",placeholder:"Brief description of when to use this template"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Content ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("textarea",{value:K.content,onChange:e=>W({...K,content:e.target.value}),rows:8,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Hi {{name}}, your order {{order_id}} has been shipped..."}),(0,t.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-slate-500 bg-slate-900/80 px-2 py-1 rounded",children:[K.content.length," chars | ",Math.ceil(K.content.length/160)||1," SMS"]})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Click to insert variable:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["name","date","time","amount","link","otp","id"].map(e=>(0,t.jsx)("button",{onClick:()=>W({...K,content:K.content+` {{${e}}}`}),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-blue-500 text-blue-400 text-xs rounded transition-colors",children:`{{${e}}}`},e))})]})]})]}),(0,t.jsxs)("div",{className:"w-1/2 bg-slate-950 p-8 flex flex-col items-center justify-center border-l border-slate-800",children:[(0,t.jsx)("h4",{className:"text-slate-500 text-sm mb-4 uppercase tracking-wider font-semibold",children:"Live Preview"}),(0,t.jsxs)("div",{className:"w-[300px] h-[580px] bg-slate-900 border-4 border-slate-800 rounded-[3rem] p-4 relative shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),(0,t.jsxs)("div",{className:"h-full bg-slate-950 rounded-[2.2rem] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-900 p-4 pt-8 flex items-center gap-3 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-xs",children:"promotional"===K.category?"BR":"CP"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:"BrandName"}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Just now via SMS"})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 bg-slate-950/50",children:[(0,t.jsx)("div",{className:"bg-slate-800 rounded-2xl rounded-tl-sm p-3 max-w-[85%] mb-2",children:(0,t.jsx)("p",{className:"text-slate-200 text-sm leading-relaxed whitespace-pre-wrap break-words",children:K.content||"Your message preview will appear here..."})}),K.content&&(0,t.jsx)("p",{className:"text-slate-600 text-[10px] ml-1",children:"Delivered"})]}),(0,t.jsx)("div",{className:"p-3 bg-slate-900 border-t border-slate-800",children:(0,t.jsx)("div",{className:"h-8 bg-slate-800 border border-slate-700 rounded-full w-full"})})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-6",children:"Preview represents how the message might appear on a mobile device."})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900 flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:(0,t.jsxs)("p",{children:["Fields marked with ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})," are required."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>B(!1),className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:es,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-lg font-medium shadow-lg shadow-blue-900/20 hover:shadow-blue-900/40 transition-all",children:"Save Template"})]})]})]})})]})})}var e$=e$,tC=tC,e7=e7,tS=tS,tA=tA,eO=eO,N=N,tT=tT,tP=tP,_=_,_=_,N=N,tR=e.i(74154),tR=tR,tT=tT,tP=tP,z=z,eu=eu;function tL(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)(!1),[n,d]=(0,s.useState)(null),[o,x]=(0,s.useState)(!0),[m,u]=(0,s.useState)({aggregator_name:"",aggregator_type:"infobip",connection_type:"https",rbm_api_endpoint:"",rbm_region:"us",rbm_supported_message_types:[],http_base_url:"",http_method:"POST",http_content_type:"application/json",api_key:"",agent_id:"",rcs_agent_name:"",rcs_agent_description:"",rcs_brand_color:"#007AFF",max_throughput:100,rate_limit:1e3,enable_sms_fallback:!0,enable_delivery_receipts:!0,is_active:!0});(0,s.useEffect)(()=>{e?p():x(!1)},[e]);let p=async()=>{x(!0),console.log("Loading RCS configurations");let{data:e,error:t}=await h.db.from("rcs_aggregator_configurations").select("*").order("created_at",{ascending:!1});t?console.error("Error loading RCS configurations:",t):(console.log("Loaded RCS configurations:",e?.length||0,"configs"),l(e||[])),x(!1)},g=async t=>{t.preventDefault();try{let{error:t}=await h.db.from("rcs_aggregator_configurations").insert({...m,user_id:e?.id});if(t)throw t;alert("Configuration added successfully!"),i(!1),v(),p()}catch(e){console.error("Error adding configuration:",e),alert("Failed to add configuration")}},b=async(e,t)=>{let{error:s}=await h.db.from("rcs_aggregator_configurations").update({is_active:!t}).eq("id",e);s||p()},f=async e=>{await h.db.from("rcs_aggregator_configurations").update({is_default:!1});let{error:t}=await h.db.from("rcs_aggregator_configurations").update({is_default:!0}).eq("id",e);t||p()},j=async e=>{if(!confirm("Are you sure you want to delete this configuration?"))return;let{error:t}=await h.db.from("rcs_aggregator_configurations").delete().eq("id",e);t||p()},v=()=>{u({aggregator_name:"",aggregator_type:"infobip",connection_type:"https",rbm_api_endpoint:"",rbm_region:"us",rbm_supported_message_types:[],http_base_url:"",http_method:"POST",http_content_type:"application/json",api_key:"",agent_id:"",rcs_agent_name:"",rcs_agent_description:"",rcs_brand_color:"#007AFF",max_throughput:100,rate_limit:1e3,enable_sms_fallback:!0,enable_delivery_receipts:!0,is_active:!0})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"RCS Aggregator Configuration"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your RCS aggregator connections without Google Jibe Cloud"})]}),(0,t.jsxs)("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Configuration"]})]}),r&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Add New RCS Aggregator"}),(0,t.jsx)("button",{onClick:()=>{i(!1),v()},className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Configuration Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:m.aggregator_name,onChange:e=>u({...m,aggregator_name:e.target.value}),placeholder:"e.g., Primary Infobip RCS",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Aggregator Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:m.aggregator_type,onChange:e=>u({...m,aggregator_type:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"infobip",children:"Infobip"}),(0,t.jsx)("option",{value:"twilio",children:"Twilio"}),(0,t.jsx)("option",{value:"google_jibe",children:"Google Jibe"}),(0,t.jsx)("option",{value:"custom",children:"Custom Provider"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Connection Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:m.connection_type,onChange:e=>u({...m,connection_type:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"rbm_api",children:"RBM API"}),(0,t.jsx)("option",{value:"http",children:"HTTP"}),(0,t.jsx)("option",{value:"https",children:"HTTPS"})]})]}),"rbm_api"===m.connection_type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RBM API Endpoint"}),(0,t.jsx)("input",{type:"text",value:m.rbm_api_endpoint,onChange:e=>u({...m,rbm_api_endpoint:e.target.value}),placeholder:"https://rbm-api.example.com",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RBM Region"}),(0,t.jsxs)("select",{value:m.rbm_region,onChange:e=>u({...m,rbm_region:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"us",children:"United States"}),(0,t.jsx)("option",{value:"eu",children:"Europe"}),(0,t.jsx)("option",{value:"asia",children:"Asia Pacific"})]})]})]}),("http"===m.connection_type||"https"===m.connection_type)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Base URL ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:m.http_base_url,onChange:e=>u({...m,http_base_url:e.target.value}),placeholder:"https://api.aggregator.com/v1",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"HTTP Method"}),(0,t.jsxs)("select",{value:m.http_method,onChange:e=>u({...m,http_method:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),(0,t.jsx)("input",{type:"text",value:m.http_content_type,onChange:e=>u({...m,http_content_type:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["API Key ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"password",required:!0,value:m.api_key,onChange:e=>u({...m,api_key:e.target.value}),placeholder:"Enter your API key",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RCS Agent ID"}),(0,t.jsx)("input",{type:"text",value:m.agent_id,onChange:e=>u({...m,agent_id:e.target.value}),placeholder:"agent-12345",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RCS Agent Name"}),(0,t.jsx)("input",{type:"text",value:m.rcs_agent_name,onChange:e=>u({...m,rcs_agent_name:e.target.value}),placeholder:"My Brand",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Brand Color"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"color",value:m.rcs_brand_color,onChange:e=>u({...m,rcs_brand_color:e.target.value}),className:"h-11 w-16 bg-slate-900/50 border border-slate-700 rounded-lg cursor-pointer"}),(0,t.jsx)("input",{type:"text",value:m.rcs_brand_color,onChange:e=>u({...m,rcs_brand_color:e.target.value}),className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Throughput (msgs/sec)"}),(0,t.jsx)("input",{type:"number",value:m.max_throughput,onChange:e=>u({...m,max_throughput:parseInt(e.target.value)}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Limit (msgs/hour)"}),(0,t.jsx)("input",{type:"number",value:m.rate_limit,onChange:e=>u({...m,rate_limit:parseInt(e.target.value)}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Agent Description"}),(0,t.jsx)("textarea",{value:m.rcs_agent_description,onChange:e=>u({...m,rcs_agent_description:e.target.value}),rows:3,placeholder:"Brief description of your RCS agent",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.enable_sms_fallback,onChange:e=>u({...m,enable_sms_fallback:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable SMS Fallback"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.enable_delivery_receipts,onChange:e=>u({...m,enable_delivery_receipts:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable Delivery Receipts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:m.is_active,onChange:e=>u({...m,is_active:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{i(!1),v()},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(z.default,{className:"w-5 h-5"}),"Save Configuration"]})]})]})]}),o?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,t.jsx)("p",{className:"text-slate-400 mt-4",children:"Loading configurations..."})]}):0===a.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(c.Settings,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No RCS Aggregators Configured"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first RCS aggregator to start sending rich messages"}),(0,t.jsxs)("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Configuration"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>{var s;let a;return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.aggregator_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(s=e.aggregator_type,(a={infobip:"bg-orange-500/20 text-orange-400 border-orange-500/30",twilio:"bg-red-500/20 text-red-400 border-red-500/30",google_jibe:"bg-blue-500/20 text-blue-400 border-blue-500/30",custom:"bg-green-500/20 text-green-400 border-green-500/30",other:"bg-slate-500/20 text-slate-400 border-slate-500/30"})[s]||a.other)}`,children:e.aggregator_type.replace("_"," ").toUpperCase()}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"verified":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.verification_status)}`,children:e.verification_status}),e.is_default&&(0,t.jsxs)("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,t.jsx)(eu.default,{className:"w-3 h-3"}),"Default"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Connection: ",e.connection_type.toUpperCase()]}),e.rcs_agent_name&&(0,t.jsxs)("span",{children:["Agent: ",e.rcs_agent_name]}),e.agent_id&&(0,t.jsxs)("span",{children:["ID: ",e.agent_id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-slate-400 hover:text-yellow-400 transition-colors",title:"Set as default",children:(0,t.jsx)(eu.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>b(e.id,e.is_active),className:`p-2 transition-colors ${e.is_active?"text-green-400 hover:text-green-300":"text-slate-400 hover:text-slate-300"}`,title:e.is_active?"Deactivate":"Activate",children:(0,t.jsx)(tR.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>d(n===e.id?null:e.id),className:"p-2 text-slate-400 hover:text-white transition-colors",children:n===e.id?(0,t.jsx)(tP.default,{className:"w-5 h-5"}):(0,t.jsx)(tT.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:()=>j(e.id),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]})]}),n===e.id&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-700",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Connection Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[e.http_base_url&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Base URL:"}),(0,t.jsx)("p",{className:"text-white break-all",children:e.http_base_url})]}),e.rbm_api_endpoint&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"RBM Endpoint:"}),(0,t.jsx)("p",{className:"text-white break-all",children:e.rbm_api_endpoint})]}),e.http_method&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Method:"}),(0,t.jsx)("span",{className:"text-white ml-2",children:e.http_method})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Performance Settings"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Max Throughput:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.max_throughput," msg/s"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Rate Limit:"}),(0,t.jsxs)("span",{className:"text-white ml-2",children:[e.rate_limit," msg/hr"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.enable_sms_fallback&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded border border-green-500/30",children:"SMS Fallback"}),e.enable_delivery_receipts&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded border border-blue-500/30",children:"Delivery Receipts"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Branding"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[e.rcs_agent_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Agent Name:"}),(0,t.jsx)("p",{className:"text-white",children:e.rcs_agent_name})]}),e.rcs_agent_description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Description:"}),(0,t.jsx)("p",{className:"text-white",children:e.rcs_agent_description})]}),e.rcs_brand_color&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Brand Color:"}),(0,t.jsx)("div",{className:"w-6 h-6 rounded border border-slate-600",style:{backgroundColor:e.rcs_brand_color}}),(0,t.jsx)("span",{className:"text-white",children:e.rcs_brand_color})]})]})]})]})})]},e.id)})})]})}function tF(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)(!1),[r,i]=(0,s.useState)("compose"),[n,o]=(0,s.useState)("all"),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[w,k]=(0,s.useState)(""),[C,S]=(0,s.useState)("paste"),[A,T]=(0,s.useState)(""),[P,I]=(0,s.useState)("now"),[M,E]=(0,s.useState)(""),[L,F]=(0,s.useState)("none"),[$,q]=(0,s.useState)("url"),[U,O]=(0,s.useState)(null),[V,z]=(0,s.useState)([]),[B,K]=(0,s.useState)([]),[W,G]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[X,H]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[J,Q]=(0,s.useState)(!0),[Z,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)({name:"",category:"promotional",description:"",message_content:"",media_url:"",buttons:[],use_case:"",is_default:!1}),[ea,el]=(0,s.useState)(null),[er,ei]=(0,s.useState)({}),[en,ed]=(0,s.useState)({});(0,s.useEffect)(()=>{l(!0),Promise.all([ec(),em()]).finally(()=>Q(!1))},[]),(0,s.useEffect)(()=>{ec()},[n]),(0,s.useEffect)(()=>{A?eu(A):H({valid:0,duplicates:0,invalid:0})},[A]);let ec=async()=>{let e=h.db.from("rcs_campaigns").select("*").order("created_at",{ascending:!1});"all"!==n&&(e=e.eq("status",n));let{data:t,error:s}=await e;!s&&t&&z(t)},eo=async e=>{ed(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("rcs_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&ei(s=>({...s,[e]:t})),ed(t=>({...t,[e]:!1}))},ex=async e=>{ea===e?el(null):(el(e),er[e]||await eo(e))},em=async()=>{let{data:e,error:t}=await h.db.from("rcs_templates").select("*").order("name");!t&&e&&K(e.map(e=>{let t=e.variables;if("string"==typeof t&&t)try{t=t.startsWith("[")||t.startsWith("{")?JSON.parse(t):t.split(",").map(e=>e.trim())}catch(e){console.error("Error parsing RCS template variables:",e),t=t.split(",").map(e=>e.trim())}else t||(t=[]);let s=e.buttons;if("string"==typeof s&&s)try{s=JSON.parse(s)}catch(e){console.error("Error parsing RCS template buttons:",e),s=[]}else Array.isArray(s)||(s=[]);return{...e,variables:Array.isArray(t)?t:[t],buttons:s}}))};(0,s.useEffect)(()=>{if(V.length>0){let e=V.reduce((e,t)=>e+(t.valid_numbers||0),0),t=V.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),s=V.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);G({totalSent:e,delivered:t,pending:s,failed:e-t-s})}else G({totalSent:0,delivered:0,pending:0,failed:0})},[V]);let eh=async()=>{let e;if(!et.name||!et.message_content)return void alert("Please fill in Template Name and Content");let t=/{{([^}]+)}}/g,s=[];for(;null!==(e=t.exec(et.message_content));)s.push(e[1].trim());try{let{error:e}=await h.db.from("rcs_templates").insert({name:et.name,category:et.category,description:et.description,message_content:et.message_content,media_url:et.media_url,buttons:JSON.stringify(et.buttons),variables:JSON.stringify(s),use_case:et.use_case,is_default:et.is_default});if(e)throw e;alert("Template created successfully!"),ee(!1),es({name:"",category:"promotional",description:"",message_content:"",media_url:"",buttons:[],use_case:"",is_default:!1}),em()}catch(e){console.error("Error creating template:",e),alert("Failed to create template")}},eu=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;H({valid:l.size,duplicates:r,invalid:i})},ep=e=>{j(e);let t=B.find(t=>t.id===e);t&&(k(t.message_content),t.media_url?(E(t.media_url),F(t.media_type||"image")):(E(""),F("none")))},eg=async()=>{if(!x||!u||!g||!w||!e)return void alert("Please fill in all required fields");if(0===X.valid)return void alert("Please add valid phone numbers");try{let{data:t,error:s}=await h.db.from("rcs_campaigns").insert({user_id:e.id,campaign_name:x,message_type:u,sender_id:g,message:w,template_id:f||null,recipient_source:C,total_recipients:A.split("\n").filter(e=>e.trim()).length,valid_numbers:X.valid,invalid_numbers:X.invalid,duplicate_numbers:X.duplicates,status:"now"===P?"in_progress":"scheduled",created_by:e.id}).select().single();if(s)throw s;alert("Campaign created successfully!"),eN(),ec()}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},eb=async e=>{try{let{error:t}=await h.db.from("rcs_campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;alert("Campaign paused successfully"),ec()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},ef=async e=>{try{let{error:t}=await h.db.from("rcs_campaigns").update({status:"in_progress"}).eq("id",e);if(t)throw t;alert("Campaign resumed successfully"),ec()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}},ej=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("rcs_campaigns").delete().eq("id",e);if(t)throw t;alert("Campaign deleted successfully"),ec()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},eN=()=>{m(""),p(""),b(""),j(""),k(""),T(""),S("paste"),I("now"),E(""),F("none"),q("url"),O(null)},ev=()=>Math.ceil(w.length/160)||1,ey=e=>{switch(e){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},ew=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.totalSent.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-xl",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-purple-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.delivered.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsxs)("p",{className:"text-green-400 text-sm",children:[W.totalSent?Math.round(W.delivered/W.totalSent*100):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.pending.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:W.failed.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>i("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===r?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,t.jsx)("button",{onClick:()=>i("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===r?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>i("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===r?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsxs)("button",{onClick:()=>i("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===r?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===r&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose RCS API Message"}),(0,t.jsxs)("button",{className:"text-purple-400 hover:text-purple-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:u,onChange:e=>p(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Select Message Type"}),(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"card",children:"Rich Card"}),(0,t.jsx)("option",{value:"carousel",children:"Carousel"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender ID ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Sender ID"}),(0,t.jsx)("option",{value:"NRGDIC",children:"NRGDIC"}),(0,t.jsx)("option",{value:"MYBRAND",children:"MYBRAND"}),(0,t.jsx)("option",{value:"COMPANY",children:"COMPANY"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,t.jsxs)("button",{onClick:()=>i("templates"),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(d.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,t.jsxs)("select",{value:f,onChange:e=>ep(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Template"}),B.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("textarea",{value:w,onChange:e=>k(e.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",w.length," | Total SMS: ",ev()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Add Media (Image)"}),M&&(0,t.jsxs)("button",{onClick:()=>{E(""),F("none"),O(null)},className:"text-red-400 hover:text-red-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(y.X,{className:"w-3 h-3"}),"Remove Media"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("button",{onClick:()=>q("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"url"===$?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"URL"}),(0,t.jsx)("button",{onClick:()=>q("upload"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"upload"===$?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"Upload File"})]}),"url"===$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:U?"":M,onChange:e=>{E(e.target.value),e.target.value?F("image"):F("none"),O(null)},placeholder:"https://images.unsplash.com/photo-...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Provide a direct link to an image (JPEG, PNG, GIF, WebP)"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-6 text-center hover:border-purple-500 transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, WebP)");if(t.size>5242880)return void alert("Image size must be less than 5MB");let s=new FileReader;s.onloadend=()=>{E(s.result),F("image"),O(t)},s.readAsDataURL(t)},className:"hidden",id:"rcs-image-upload"}),(0,t.jsx)("label",{htmlFor:"rcs-image-upload",className:"cursor-pointer",children:U?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-10 h-10 text-purple-400 mx-auto"}),(0,t.jsx)("p",{className:"text-white font-medium",children:U.name}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs",children:[(U.size/1024).toFixed(2)," KB"]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tC.default,{className:"w-10 h-10 text-slate-500 mx-auto"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Click to select an image"}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:"JPEG, PNG, GIF, WebP (Max 5MB)"})]})})]}),U&&M&&(0,t.jsx)("div",{className:"mt-3 rounded-lg overflow-hidden border border-slate-700",children:(0,t.jsx)("img",{src:M,alt:"Preview",className:"w-full h-32 object-cover"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"paste"===C,onChange:()=>S("paste"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"upload"===C,onChange:()=>S("upload"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"phonebook"===C,onChange:()=>S("phonebook"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{value:A,onChange:e=>T(e.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",A.split("\n").filter(e=>e.trim()).length]}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,t.jsxs)("span",{className:"text-green-400",children:["â— Valid Numbers: ",X.valid]}),(0,t.jsxs)("span",{className:"text-yellow-400",children:["â— Duplicates: ",X.duplicates]}),(0,t.jsxs)("span",{className:"text-red-400",children:["â— Invalid Numbers: ",X.invalid]})]})]})]}),"upload"===C&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,t.jsx)(tC.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,t.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===C&&(0,t.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Phonebook"}),(0,t.jsx)("option",{value:"customers",children:"Customers"}),(0,t.jsx)("option",{value:"leads",children:"Leads"}),(0,t.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"now"===P,onChange:()=>I("now"),className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"schedule"===P,onChange:()=>I("schedule"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:eN,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:eg,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-purple-600 px-4 py-3 flex items-center justify-between border-b border-purple-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:g||"Business Chat"}),(0,t.jsx)("p",{className:"text-[10px] text-purple-200",children:"RCS Verified Account"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(tA.default,{className:"w-3 h-3 text-white"}),(0,t.jsx)(tS.default,{className:"w-5 h-3 text-white"})]})]}),(0,t.jsxs)("div",{className:"h-[380px] bg-[#f0f2f5] p-4 overflow-y-auto",children:[(0,t.jsx)("div",{className:"text-center mb-4",children:(0,t.jsx)("span",{className:"text-[10px] bg-white/80 px-2 py-1 rounded-full text-slate-500 shadow-sm border border-slate-100",children:a?ew():"--:--"})}),(0,t.jsx)("div",{className:"flex justify-start mb-4",children:(0,t.jsxs)("div",{className:"max-w-[85%]",children:["card"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200 mb-2",children:[M&&"image"===L?(0,t.jsx)("div",{className:"h-32 bg-slate-200 overflow-hidden",children:(0,t.jsx)("img",{src:M,alt:"Rich card",className:"w-full h-full object-cover"})}):(0,t.jsx)("div",{className:"h-32 bg-slate-200 flex items-center justify-center",children:(0,t.jsx)(d.FileText,{className:"w-8 h-8 text-slate-400"})}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-1",children:"Rich Card Title"}),(0,t.jsx)("p",{className:"text-xs text-slate-600 mb-2",children:w||"Rich card content preview..."}),(0,t.jsx)("button",{className:"w-full py-2 bg-purple-50 text-purple-600 rounded-lg text-xs font-semibold border border-purple-100",children:"Action Button"})]})]}),"card"!==u&&(0,t.jsxs)("div",{className:"bg-white text-slate-800 rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm border border-slate-200",children:[M&&"image"===L&&(0,t.jsx)("div",{className:"mb-2 -mx-4 -mt-3 rounded-t-2xl overflow-hidden",children:(0,t.jsx)("img",{src:M,alt:"Media preview",className:"w-full h-32 object-cover"})}),(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:w||"Type your message..."}),(0,t.jsx)("p",{className:"text-[10px] text-slate-400 text-right mt-1",children:a?ew():"--:--"})]})]})})]}),(0,t.jsx)("div",{className:"bg-white border-t border-slate-200 p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-100 rounded-full px-4 py-2",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"RCS Message"})}),(0,t.jsx)("button",{className:"bg-purple-600 text-white p-2 rounded-full",children:(0,t.jsx)(e$.default,{className:"w-4 h-4"})})]})})]})}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:w.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:ev()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:X.valid})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:V.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-medium text-sm",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${ey(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"Scheduled"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:["Sent: ",e.valid_numbers?.toLocaleString()||0]}),(0,t.jsxs)("span",{children:["Delivered: ",e.valid_numbers?.toLocaleString()||0]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.created_at).toLocaleString()})]},e.id))}),V.length>3&&(0,t.jsx)("button",{onClick:()=>i("campaigns"),className:"w-full mt-3 text-purple-400 hover:text-purple-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===r&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,t.jsxs)("button",{onClick:()=>i("compose"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===n?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>o("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===n?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,t.jsx)("button",{onClick:()=>o("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===n?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,t.jsx)("button",{onClick:()=>o("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===n?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,t.jsx)("button",{onClick:()=>o("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===n?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,t.jsx)("button",{onClick:()=>o("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===n?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===V.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first RCS campaign to get started"}),(0,t.jsxs)("button",{onClick:()=>i("compose"),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:V.map(e=>{let s=er[e.id]||[],a=ea===e.id,l=en[e.id],r=s.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${ey(e.status)}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>eb(e.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ef(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ej(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ex(e.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tP.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tT.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_recipients.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,t.jsx)("p",{className:"text-green-400 text-lg font-semibold",children:e.valid_numbers.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[e.total_recipients>0?Math.round(e.valid_numbers/e.total_recipients*100):0,"%"]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(R.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",r.delivered||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-blue-400",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Sent: ",r.sent||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),"Pending: ",r.pending||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-red-400",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"}),"Failed: ",r.failed||0]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Read At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(e=>{switch(e){case"delivered":return"text-green-400";case"sent":return"text-blue-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";default:return"text-slate-400"}})(e.status)}`,children:[(e=>{switch(e){case"delivered":return(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,t.jsx)(e$.default,{className:"w-4 h-4"});case"pending":default:return(0,t.jsx)(R.Clock,{className:"w-4 h-4"});case"failed":return(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"})}})(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.read_at?new Date(e.read_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.error_message?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-red-400 text-xs",children:e.error_message})]}):(0,t.jsx)("span",{className:"text-slate-500",children:"-"})})]},e.id))})]})}),100===s.length&&(0,t.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},e.id)})})]}),"templates"===r&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"RCS Message Templates"}),(0,t.jsxs)("button",{onClick:()=>ee(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===B.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-purple-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded-full border border-purple-500/30",children:"Default"})]}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===e.category?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"transactional"===e.category?"bg-green-500/20 text-green-400 border border-green-500/30":"marketing"===e.category?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"reminder"===e.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:e.category})}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),e.media_url&&(0,t.jsx)("div",{className:"mb-3 rounded overflow-hidden bg-slate-800 flex items-center justify-center min-h-[128px]",children:(0,t.jsx)("img",{src:e.media_url,alt:e.name,className:"w-full h-32 object-cover",onError:e=>{e.currentTarget.parentElement.style.display="none"}})}),(0,t.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-3",children:(0,t.jsx)("p",{className:"text-slate-300 text-xs line-clamp-3 font-mono",children:e.message_content})}),Array.isArray(e.buttons)&&e.buttons.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Action Buttons:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.buttons.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded border border-purple-500/30",children:e.text},s))})]}),e.variables&&e.variables.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:e},s))})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:e.use_case}),(0,t.jsx)("button",{onClick:()=>{i("compose"),ep(e.id)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},e.id))})]}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create New RCS Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your Rich Communication Services template"})]}),(0,t.jsx)("button",{onClick:()=>ee(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-800 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Template Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:et.name,onChange:e=>es({...et,name:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g. Order Confirmation"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),(0,t.jsxs)("select",{value:et.category,onChange:e=>es({...et,category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",children:[(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"otp",children:"OTP"}),(0,t.jsx)("option",{value:"alert",children:"Alert"}),(0,t.jsx)("option",{value:"reminder",children:"Reminder"}),(0,t.jsx)("option",{value:"survey",children:"Survey"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Use Case / Tag"}),(0,t.jsx)("input",{type:"text",value:et.use_case,onChange:e=>es({...et,use_case:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g. Retail, Banking"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,t.jsx)("div",{onClick:()=>es({...et,is_default:!et.is_default}),className:`w-12 h-6 rounded-full cursor-pointer relative transition-colors ${et.is_default?"bg-purple-600":"bg-slate-700"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${et.is_default?"left-7":"left-1"}`})}),(0,t.jsx)("span",{className:"text-sm text-slate-300 cursor-pointer",onClick:()=>es({...et,is_default:!et.is_default}),children:"Set as Default"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:et.description,onChange:e=>es({...et,description:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"Brief description of when to use this template"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Media URL (Optional)"}),(0,t.jsx)("input",{type:"text",value:et.media_url,onChange:e=>es({...et,media_url:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"https://example.com/image.jpg"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Content ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("textarea",{value:et.message_content,onChange:e=>es({...et,message_content:e.target.value}),rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 font-mono text-sm",placeholder:"Hi {{name}}, your order {{order_id}} has been shipped..."}),(0,t.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-slate-500 bg-slate-900/80 px-2 py-1 rounded",children:[et.message_content.length," chars"]})]}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Click to insert variable:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["name","date","time","amount","link","otp","id"].map(e=>(0,t.jsx)("button",{onClick:()=>es({...et,message_content:et.message_content+` {{${e}}}`}),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-purple-500 text-purple-400 text-xs rounded transition-colors",children:`{{${e}}}`},e))})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Actions / Buttons"}),(0,t.jsxs)("button",{onClick:()=>es({...et,buttons:[...et.buttons,{text:"New Button",url:"",type:"url"}]}),className:"text-purple-400 hover:text-purple-300 text-xs font-medium flex items-center gap-1",children:[(0,t.jsx)(_.default,{className:"w-3 h-3"}),"Add Button"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[et.buttons.map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{type:"text",value:e.text,onChange:e=>{let t=[...et.buttons];t[s].text=e.target.value,es({...et,buttons:t})},className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-purple-500 outline-none",placeholder:"Button Text"}),(0,t.jsxs)("select",{value:e.type,onChange:e=>{let t=[...et.buttons];t[s].type=e.target.value,es({...et,buttons:t})},className:"bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-purple-500 outline-none",children:[(0,t.jsx)("option",{value:"url",children:"URL"}),(0,t.jsx)("option",{value:"call",children:"Call"}),(0,t.jsx)("option",{value:"reply",children:"Reply"})]}),(0,t.jsx)("button",{onClick:()=>{let e=[...et.buttons];e.splice(s,1),es({...et,buttons:e})},className:"text-slate-500 hover:text-red-400 p-1",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]}),"reply"!==e.type&&(0,t.jsx)("input",{type:"text",value:e.url,onChange:e=>{let t=[...et.buttons];t[s].url=e.target.value,es({...et,buttons:t})},className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-purple-500 outline-none placeholder-slate-600",placeholder:"call"===e.type?"+1234567890":"https://example.com"})]},s)),0===et.buttons.length&&(0,t.jsx)("p",{className:"text-slate-500 text-xs italic text-center py-2",children:"No buttons added"})]})]})]}),(0,t.jsxs)("div",{className:"w-1/2 bg-slate-950 p-8 flex flex-col items-center justify-center border-l border-slate-800",children:[(0,t.jsx)("h4",{className:"text-slate-500 text-sm mb-4 uppercase tracking-wider font-semibold",children:"Live Preview"}),(0,t.jsxs)("div",{className:"w-[300px] h-[580px] bg-slate-900 border-4 border-slate-800 rounded-[3rem] p-4 relative shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),(0,t.jsxs)("div",{className:"h-full bg-slate-950 rounded-[2.2rem] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-900 p-4 pt-8 flex items-center gap-3 border-b border-slate-800",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold text-xs",children:"promotional"===et.category?"BR":"CP"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white text-sm font-medium",children:"BrandName"}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Just now via RCS"})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 bg-slate-950/50 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200 mb-2 max-w-[90%]",children:[et.media_url?(0,t.jsx)("div",{className:"h-32 bg-slate-200 flex items-center justify-center overflow-hidden",children:(0,t.jsx)("img",{src:et.media_url,alt:"Media",className:"w-full h-full object-cover"})}):(0,t.jsx)("div",{className:"h-24 bg-slate-100 flex items-center justify-center border-b border-slate-100",children:(0,t.jsx)(d.FileText,{className:"w-8 h-8 text-slate-300"})}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-1",children:et.name||"Card Title"}),(0,t.jsx)("p",{className:"text-xs text-slate-600 mb-3 whitespace-pre-wrap leading-relaxed",children:et.message_content||"Your message preview will appear here..."}),(0,t.jsxs)("div",{className:"space-y-2",children:[et.buttons.map((e,s)=>(0,t.jsx)("div",{className:"w-full py-2 bg-white text-purple-600 rounded-lg text-xs font-semibold border border-purple-100 text-center shadow-sm",children:e.text},s)),0===et.buttons.length&&(0,t.jsx)("div",{className:"w-full py-2 bg-slate-50 text-slate-400 rounded-lg text-xs font-semibold border border-slate-100 text-center",children:"Action Button"})]})]})]}),(0,t.jsx)("p",{className:"text-slate-600 text-[10px] ml-1 mt-1",children:"Delivered â€¢ R"})]}),(0,t.jsx)("div",{className:"p-3 bg-slate-900 border-t border-slate-800",children:(0,t.jsx)("div",{className:"h-8 bg-slate-800 border border-slate-700 rounded-full w-full flex items-center px-3",children:(0,t.jsx)("span",{className:"text-slate-600 text-xs",children:"Chat with BrandName"})})})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-6",children:"Preview represents how the message might appear on a mobile device."})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900 flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:(0,t.jsxs)("p",{children:["Fields marked with ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})," are required."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>ee(!1),className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eh,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-2.5 rounded-lg font-medium shadow-lg shadow-purple-900/20 hover:shadow-purple-900/40 transition-all",children:"Save Template"})]})]})]})}),"configuration"===r&&(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:(0,t.jsx)(tL,{})})]})}):null}var e$=e$,tC=tC,l=l,z=z,_=_,t$=e.i(7486),e7=e7,tA=tA,eO=eO,N=N,tT=tT,tP=tP,tq=e.i(47167),_=_,N=N,eh=eh,tI=tI,C=C,S=S,A=A;function tU({onConfigUpdate:e}={}){let{user:a}=(0,D.useAuth)(),[l,r]=(0,s.useState)("my-config"),[i,n]=(0,s.useState)(null),[d,c]=(0,s.useState)([]),[o,x]=(0,s.useState)([]),[m,u]=(0,s.useState)(!0),[p,g]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[j,v]=(0,s.useState)(null),[w,k]=(0,s.useState)(null);(0,s.useEffect)(()=>{S(),A()},[]);let S=async()=>{try{let{data:e,error:t}=await h.db.from("tenant_whatsapp_configs").select("*").maybeSingle();if(t)throw t;if(n(e),e){let{data:t,error:s}=await h.db.from("tenant_whatsapp_numbers").select("*").eq("whatsapp_config_id",e.id).order("created_at",{ascending:!1});if(s)throw s;c(t||[])}}catch(e){console.error("Error loading Whatsapp API configuration:",e),v(e.message)}finally{u(!1)}},A=async()=>{try{let{data:e,error:t}=await h.db.from("sample_whatsapp_configs").select("*").order("created_at",{ascending:!1});if(t)throw t;if(e){let t=await Promise.all(e.map(async e=>{let t="string"==typeof e.config_data?JSON.parse(e.config_data):e.config_data,{data:s}=await h.db.from("sample_whatsapp_numbers").select("*").eq("config_id",e.id).limit(5);return{...e,config_data:t,phone_numbers:s||[]}}));x(t)}}catch(e){console.error("Error loading sample configurations:",e)}},T=async()=>{if(i&&confirm("Are you sure you want to delete this WhatsApp configuration? All associated numbers will be removed."))try{let{error:e}=await h.db.from("tenant_whatsapp_configs").delete().eq("id",i.id);if(e)throw e;n(null),c([]),k("WhatsApp configuration deleted successfully"),setTimeout(()=>k(null),3e3)}catch(e){console.error("Error deleting configuration:",e),v(e.message)}},P=async e=>{if(confirm("Are you sure you want to remove this number?"))try{let{error:t}=await h.db.from("tenant_whatsapp_numbers").delete().eq("id",e);if(t)throw t;c(d.filter(t=>t.id!==e)),k("Number removed successfully"),setTimeout(()=>k(null),3e3)}catch(e){console.error("Error deleting number:",e),v(e.message)}};return m?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(tI.default,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"WhatsApp Business Configuration"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Configure your WhatsApp Business Account to send and receive messages"})]}),(0,t.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Configuration"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,t.jsx)("button",{onClick:()=>r("my-config"),className:`px-4 py-3 font-medium transition-all ${"my-config"===l?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-white"}`,children:"My Configuration"}),(0,t.jsxs)("button",{onClick:()=>r("samples"),className:`px-4 py-3 font-medium transition-all ${"samples"===l?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-white"}`,children:["Sample Configurations (",o.length,")"]})]}),j&&(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Error"}),(0,t.jsx)("p",{className:"text-red-300 text-sm",children:j})]}),(0,t.jsx)("button",{onClick:()=>v(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),w&&(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-green-300 text-sm",children:w})}),(0,t.jsx)("button",{onClick:()=>k(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})}),"my-config"===l?i?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:(0,t.jsx)(e0.MessageCircle,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:"WhatsApp Business Account"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Account ID: ",i.business_account_id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i.is_verified?(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium border border-green-500/30",children:[(0,t.jsx)(eh.default,{className:"w-4 h-4"}),"Verified"]}):(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm font-medium border border-yellow-500/30",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"}),"Not Verified"]}),(0,t.jsx)("button",{onClick:T,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete configuration",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]})]}),i.webhook_url&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Webhook Endpoint"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",value:i.webhook_url,readOnly:!0,className:"flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none"}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(i.webhook_url),k("Webhook URL copied to clipboard"),setTimeout(()=>k(null),2e3)},className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all",title:"Copy URL",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]}),i.webhook_token&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Webhook Token"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"password",value:i.webhook_token,readOnly:!0,className:"flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none"}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(i.webhook_token),k("Token copied to clipboard"),setTimeout(()=>k(null),2e3)},className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all",title:"Copy token",children:(0,t.jsx)(C.default,{className:"w-5 h-5"})})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Connected Numbers"})}),0===d.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No phone numbers connected yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:d.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"text-white font-medium",children:e.display_phone_number||e.phone_number}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-xs font-medium border border-green-500/30",children:"Active"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.verified_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Verified Name:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.verified_name})]}),e.channel_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Channel:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.channel_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Quality:"}),(0,t.jsx)("span",{className:`ml-2 ${"GREEN"===e.quality_rating?"text-green-400":"YELLOW"===e.quality_rating?"text-yellow-400":"RED"===e.quality_rating?"text-red-400":"text-slate-400"}`,children:e.quality_rating})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Status:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.code_verification_status})]})]})]}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all ml-4",title:"Remove number",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]},e.id))})]})]}):(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No WhatsApp Configuration"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Connect your WhatsApp Business Account to start sending messages"}),(0,t.jsx)("button",{onClick:()=>g(!0),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all",children:"Add Configuration"})]}):(0,t.jsx)("div",{className:"space-y-6",children:0===o.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(t$.Building2,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Sample Configurations"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Sample configurations will appear here"})]}):o.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:(0,t.jsx)(t$.Building2,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.business_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.industry})]})]}),e.is_verified&&(0,t.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium border border-green-500/30",children:[(0,t.jsx)(eh.default,{className:"w-4 h-4"}),"Verified"]})]}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:e.description}),e.config_data&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.config_data.email&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Email:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.config_data.email})]}),e.config_data.phone&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Phone:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.config_data.phone})]}),e.config_data.website&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Website:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.config_data.website})]})]}),e.phone_numbers.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[(0,t.jsx)(Q.Phone,{className:"w-4 h-4"}),"Connected Numbers (",e.phone_numbers.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:e.phone_numbers.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-white font-medium",children:e.display_phone_number||e.phone_number}),e.is_active&&(0,t.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-xs font-medium border border-green-500/30",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[e.verified_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Name:"}),(0,t.jsx)("span",{className:"text-slate-300 ml-2",children:e.verified_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Quality:"}),(0,t.jsx)("span",{className:`ml-2 ${"HIGH"===e.quality_rating?"text-green-400":"MEDIUM"===e.quality_rating?"text-yellow-400":"LOW"===e.quality_rating?"text-red-400":"text-slate-400"}`,children:e.quality_rating})]})]})]},e.id))})]})]},e.id))}),p&&(0,t.jsx)(tO,{tenantId:a?.app_metadata?.tenant_id||a?.user_metadata?.tenant_id||"",onClose:()=>g(!1),onSuccess:()=>{g(!1),S(),k("WhatsApp Business Account configured successfully"),setTimeout(()=>k(null),3e3),e&&setTimeout(()=>e(),500)},onError:e=>v(e)})]})}function tO({tenantId:e,onClose:a,onSuccess:l,onError:r}){let[i,n]=(0,s.useState)({businessAccountId:"",accessToken:""}),[d,c]=(0,s.useState)(!1),[o,x]=(0,s.useState)(!1),m=async()=>{if(!i.businessAccountId||!i.accessToken)return void r("Please fill in all required fields");c(!0);try{let t=`${tq.default.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/verify-whatsapp-business`,s={Authorization:`Bearer ${tq.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},a=await fetch(t,{method:"POST",headers:s,body:JSON.stringify({businessAccountId:i.businessAccountId,accessToken:i.accessToken})}),n=await a.json();if(!n.success){r(n.error||"Failed to verify WhatsApp Business Account"),c(!1);return}let d=`${tq.default.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/whatsapp-webhook`,o=crypto.randomUUID(),{data:x,error:m}=await h.db.from("tenant_whatsapp_configs").insert({tenant_id:e,business_account_id:i.businessAccountId,access_token:i.accessToken,webhook_url:d,webhook_token:o,is_verified:!0,verified_at:new Date().toISOString(),config_data:n.account}).select().single();if(m)throw m;if(n.phoneNumbers&&n.phoneNumbers.length>0){let t=n.phoneNumbers.map(t=>({tenant_id:e,whatsapp_config_id:x.id,phone_number:t.displayPhoneNumber,display_phone_number:t.displayPhoneNumber,verified_name:t.verifiedName,code_verification_status:t.codeVerificationStatus,quality_rating:t.qualityRating,phone_number_id:t.id,is_active:!0})),{error:s}=await h.db.from("tenant_whatsapp_numbers").insert(t);s&&console.error("Error inserting phone numbers:",s)}l()}catch(e){console.error("Error verifying WhatsApp account:",e),r(e.message||"An error occurred during verification")}finally{c(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl max-w-md w-full p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"WhatsApp Business Account ID"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"WhatsApp Business Account ID*"}),(0,t.jsx)("input",{type:"text",required:!0,value:i.businessAccountId,onChange:e=>n({...i,businessAccountId:e.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-green-500",placeholder:"1234567890"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Access Token*"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:o?"text":"password",required:!0,value:i.accessToken,onChange:e=>n({...i,accessToken:e.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-green-500",placeholder:"EABC..."}),(0,t.jsx)("button",{type:"button",onClick:()=>x(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:o?(0,t.jsx)(A.default,{className:"w-5 h-5"}):(0,t.jsx)(S.default,{className:"w-5 h-5"})})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{type:"button",onClick:a,disabled:d,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{type:"button",onClick:m,disabled:d||!i.businessAccountId||!i.accessToken,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tI.default,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify"})]})]})})}function tV(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)(!1),[i,n]=(0,s.useState)("compose"),[o,x]=(0,s.useState)("all"),[m,u]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[k,C]=(0,s.useState)(""),[S,A]=(0,s.useState)("paste"),[T,P]=(0,s.useState)(""),[I,M]=(0,s.useState)("now"),[E,L]=(0,s.useState)(""),[F,$]=(0,s.useState)("none"),[q,U]=(0,s.useState)("url"),[O,V]=(0,s.useState)(null),[B,K]=(0,s.useState)([]),[W,G]=(0,s.useState)([]),[X,H]=(0,s.useState)([]),[J,Z]=(0,s.useState)(!1),[ee,et]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[es,ea]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[el,er]=(0,s.useState)(!0),[ei,en]=(0,s.useState)(!1),[ed,ec]=(0,s.useState)({name:"",category:"marketing",description:"",body_content:"",language:"en_US",header_type:"none",header_content:"",footer_text:"",buttons:[],use_case:"",is_default:!1}),[eo,ex]=(0,s.useState)(null),[em,eh]=(0,s.useState)({}),[eu,ep]=(0,s.useState)({});(0,s.useEffect)(()=>{r(!0),Promise.all([eg(),ej(),eN()]).finally(()=>er(!1))},[]),(0,s.useEffect)(()=>{e&&eg()},[o]),(0,s.useEffect)(()=>{T?ev(T):ea({valid:0,duplicates:0,invalid:0})},[T]);let eg=async()=>{let e=h.db.from("whatsapp_campaigns").select("*").order("created_at",{ascending:!1});"all"!==o&&(e=e.eq("status",o));let{data:t,error:s}=await e;!s&&t&&K(t)},eb=async e=>{ep(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("whatsapp_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&eh(s=>({...s,[e]:t})),ep(t=>({...t,[e]:!1}))},ef=async e=>{eo===e?ex(null):(ex(e),em[e]||await eb(e))},ej=async()=>{let{data:e,error:t}=await h.db.from("whatsapp_templates").select("*").order("name");!t&&e&&G(e.map(e=>{let t=e.variables;if("string"==typeof t&&t)try{t=t.startsWith("[")||t.startsWith("{")?JSON.parse(t):t.split(",").map(e=>e.trim())}catch(e){console.error("Error parsing WhatsApp template variables:",e),t=t.split(",").map(e=>e.trim())}else t||(t=[]);let s=e.buttons;if("string"==typeof s&&s)try{s=JSON.parse(s)}catch(e){console.error("Error parsing WhatsApp template buttons:",e),s=[]}else s||(s=[]);return{...e,variables:Array.isArray(t)?t:[t],buttons:Array.isArray(s)?s:[]}}))};(0,s.useEffect)(()=>{if(B.length>0){let e=B.reduce((e,t)=>e+(t.valid_numbers||0),0),t=B.filter(e=>"completed"===e.status||"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),s=B.filter(e=>"scheduled"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);et({totalSent:e,delivered:t,pending:s,failed:e-t-s})}else et({totalSent:0,delivered:0,pending:0,failed:0})},[B]);let eN=async()=>{let{data:e}=await h.db.from("tenant_whatsapp_configs").select("id, is_verified").maybeSingle();if(e&&e.is_verified){Z(!0);let{data:t}=await h.db.from("tenant_whatsapp_numbers").select("*").eq("whatsapp_config_id",e.id).eq("is_active",!0);t&&(H(t),t.length>0&&f(t[0].phone_number))}else Z(!1)},ev=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;ea({valid:l.size,duplicates:r,invalid:i})},ey=e=>{w(e);let t=W.find(t=>t.id===e);t&&(C(t.body_content),"image"===t.header_type&&t.header_content?(L(t.header_content),$("image")):(L(""),$("none")))},ew=async()=>{if(!m||!p||!b||!k||!e)return void alert("Please fill in all required fields");if(0===es.valid)return void alert("Please add valid phone numbers");try{let{data:t,error:s}=await h.db.from("whatsapp_campaigns").insert({user_id:e.id,campaign_name:m,message_type:p,sender_number:b,message:k,template_id:j||null,media_url:E||null,media_type:"none"!==F?F:null,recipient_source:S,total_recipients:T.split("\n").filter(e=>e.trim()).length,valid_numbers:es.valid,invalid_numbers:es.invalid,duplicate_numbers:es.duplicates,status:"now"===I?"in_progress":"scheduled",created_by:e.id}).select().single();if(s)throw s;alert("Campaign created successfully!"),eA(),eg()}catch(e){console.error("Error creating campaign:",e),alert("Failed to create campaign")}},e_=async e=>{try{let{error:t}=await h.db.from("whatsapp_campaigns").update({status:"paused"}).eq("id",e);if(t)throw t;alert("Campaign paused successfully"),eg()}catch(e){console.error("Error pausing campaign:",e),alert("Failed to pause campaign")}},ek=async e=>{try{let{error:t}=await h.db.from("whatsapp_campaigns").update({status:"in_progress"}).eq("id",e);if(t)throw t;alert("Campaign resumed successfully"),eg()}catch(e){console.error("Error resuming campaign:",e),alert("Failed to resume campaign")}},eC=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("whatsapp_campaigns").delete().eq("id",e);if(t)throw t;alert("Campaign deleted successfully"),eg()}catch(e){console.error("Error deleting campaign:",e),alert("Failed to delete campaign")}},eS=async()=>{if(!ed.name||!ed.body_content||!e)return void alert("Please fill in required fields (Name and Body Content)");try{let e,t=/{{([^}]+)}}/g,s=[];for(;null!==(e=t.exec(ed.body_content));)s.push(e[1].trim());let{error:a}=await h.db.from("whatsapp_templates").insert({name:ed.name,category:ed.category,description:ed.description,body_content:ed.body_content,language:ed.language,header_type:ed.header_type,header_content:ed.header_content,footer_text:ed.footer_text,buttons:JSON.stringify(ed.buttons),variables:JSON.stringify(s),use_case:ed.use_case,is_default:ed.is_default});if(a)throw a;alert("Template saved successfully!"),en(!1),ec({name:"",category:"marketing",description:"",body_content:"",language:"en_US",header_type:"none",header_content:"",footer_text:"",buttons:[],use_case:"",is_default:!1}),ej()}catch(e){console.error("Error saving WhatsApp template:",e),alert("Failed to save template")}},eA=()=>{u(""),g(""),f(""),w(""),C(""),P(""),A("paste"),P(""),M("now"),L(""),$("none"),U("url"),V(null)},eT=()=>Math.ceil(k.length/160)||1,eP=e=>{switch(e){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},eI=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return a?(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950",suppressHydrationWarning:!0,children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:ee.totalSent.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:ee.delivered.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,t.jsxs)("p",{className:"text-green-400 text-sm",children:[ee.totalSent?Math.round(ee.delivered/ee.totalSent*100):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:ee.pending.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:ee.failed.toLocaleString()})]}),(0,t.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>n("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===i?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,t.jsx)("button",{onClick:()=>n("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===i?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>n("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===i?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsxs)("button",{onClick:()=>n("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===i?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===i&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[!J&&(0,t.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/50 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-yellow-400 font-semibold text-lg mb-2",children:"Whatsapp API Not Configured"}),(0,t.jsx)("p",{className:"text-yellow-300 mb-4",children:"You need to configure your WhatsApp Business Account before sending messages. Connect your Meta Business Account to start sending Whatsapp API campaigns."}),(0,t.jsxs)("button",{onClick:()=>n("configuration"),className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-all",children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configure Whatsapp API Now"]})]})]})}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose Whatsapp API Message"}),(0,t.jsxs)("button",{className:"text-green-400 hover:text-green-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>u(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Type ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"",children:"Select Message Type"}),(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"media",children:"Media Message"}),(0,t.jsx)("option",{value:"template",children:"Template Message"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender Number ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500",disabled:!J||0===X.length,children:[(0,t.jsx)("option",{value:"",children:0===X.length?"No numbers available - Configure WhatsApp":"Select Sender Number"}),X.map(e=>(0,t.jsxs)("option",{value:e.phone_number,children:[e.display_phone_number||e.phone_number,e.verified_name&&` - ${e.verified_name}`]},e.id))]}),!J&&(0,t.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"Configure WhatsApp to see available numbers"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,t.jsxs)("button",{onClick:()=>n("templates"),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(d.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,t.jsxs)("select",{value:j,onChange:e=>ey(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Template"}),W.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("textarea",{value:k,onChange:e=>C(e.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",k.length," | Total SMS: ",eT()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Add Media (Image)"}),E&&(0,t.jsxs)("button",{onClick:()=>{L(""),$("none"),V(null)},className:"text-red-400 hover:text-red-300 text-xs flex items-center gap-1",children:[(0,t.jsx)(y.X,{className:"w-3 h-3"}),"Remove Media"]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("button",{onClick:()=>U("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"url"===q?"bg-green-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"URL"}),(0,t.jsx)("button",{onClick:()=>U("upload"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"upload"===q?"bg-green-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"Upload File"})]}),"url"===q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:O?"":E,onChange:e=>{L(e.target.value),e.target.value?$("image"):$("none"),V(null)},placeholder:"https://images.unsplash.com/photo-...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Provide a direct link to an image (JPEG, PNG, GIF, WebP)"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-6 text-center hover:border-green-500 transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, WebP)");if(t.size>5242880)return void alert("Image size must be less than 5MB");let s=new FileReader;s.onloadend=()=>{L(s.result),$("image"),V(t)},s.readAsDataURL(t)},className:"hidden",id:"whatsapp-image-upload"}),(0,t.jsx)("label",{htmlFor:"whatsapp-image-upload",className:"cursor-pointer",children:O?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-10 h-10 text-green-400 mx-auto"}),(0,t.jsx)("p",{className:"text-white font-medium",children:O.name}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs",children:[(O.size/1024).toFixed(2)," KB"]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(tC.default,{className:"w-10 h-10 text-slate-500 mx-auto"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Click to select an image"}),(0,t.jsx)("p",{className:"text-slate-500 text-xs",children:"JPEG, PNG, GIF, WebP (Max 5MB)"})]})})]}),O&&E&&(0,t.jsx)("div",{className:"mt-3 rounded-lg overflow-hidden border border-slate-700",children:(0,t.jsx)("img",{src:E,alt:"Preview",className:"w-full h-32 object-cover"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"paste"===S,onChange:()=>A("paste"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"upload"===S,onChange:()=>A("upload"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"phonebook"===S,onChange:()=>A("phonebook"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{value:T,onChange:e=>P(e.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",T.split("\n").filter(e=>e.trim()).length]}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,t.jsxs)("span",{className:"text-green-400",children:["â— Valid Numbers: ",es.valid]}),(0,t.jsxs)("span",{className:"text-yellow-400",children:["â— Duplicates: ",es.duplicates]}),(0,t.jsxs)("span",{className:"text-red-400",children:["â— Invalid Numbers: ",es.invalid]})]})]})]}),"upload"===S&&(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,t.jsx)(tC.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,t.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===S&&(0,t.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Phonebook"}),(0,t.jsx)("option",{value:"customers",children:"Customers"}),(0,t.jsx)("option",{value:"leads",children:"Leads"}),(0,t.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"now"===I,onChange:()=>M("now"),className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:"schedule"===I,onChange:()=>M("schedule"),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:eA,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:ew,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,t.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-[#075e54] px-4 py-3 flex items-center justify-between border-b border-[#054d44]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,t.jsx)(l.default,{className:"w-4 h-4 text-slate-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:b||"Business Name"}),(0,t.jsx)("p",{className:"text-[10px] text-green-200",children:"online"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e7.default,{className:"w-4 h-4 text-white/70"}),(0,t.jsx)(tA.default,{className:"w-3 h-3 text-white/70"})]})]}),(0,t.jsxs)("div",{className:"h-[380px] bg-[#e5ddd5] p-3 overflow-y-auto relative border-x border-slate-100",children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none",style:{backgroundImage:"radial-gradient(#000 1px, transparent 0)",backgroundSize:"20px 20px"}}),(0,t.jsx)("div",{className:"text-center mb-4 relative z-10",children:(0,t.jsx)("span",{className:"text-[10px] bg-[#dcf8c6] px-2 py-1 rounded shadow-sm text-slate-600",children:a?eI():"--:--"})}),(0,t.jsx)("div",{className:"flex justify-start mb-4 relative z-10",children:(0,t.jsx)("div",{className:"max-w-[85%]",children:(0,t.jsxs)("div",{className:"bg-white text-slate-800 rounded-lg rounded-tl-none px-3 py-2 shadow-sm relative",children:[(0,t.jsx)("div",{className:"absolute top-0 -left-2 w-0 h-0 border-t-[8px] border-t-white border-l-[8px] border-l-transparent"}),E&&"image"===F&&(0,t.jsx)("div",{className:"mb-2 -mx-3 -mt-2 rounded-t-lg overflow-hidden border-b border-slate-100",children:(0,t.jsx)("img",{src:E,alt:"Media preview",className:"w-full h-40 object-cover"})}),(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:k||"Hello! Type your message..."}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-1 mt-1",children:[(0,t.jsx)("p",{className:"text-[9px] text-slate-400",children:a?eI():"--:--"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(v.CheckCircle,{className:"w-2 h-2 text-blue-400"}),(0,t.jsx)(v.CheckCircle,{className:"w-2 h-2 text-blue-400 -ml-1"})]})]})]})})})]}),(0,t.jsxs)("div",{className:"bg-[#f0f0f0] p-3 flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-white rounded-full px-4 py-2 flex items-center gap-2 h-9",children:(0,t.jsx)("span",{className:"text-xs text-slate-400",children:"Type a message"})}),(0,t.jsx)("button",{className:"bg-[#075e54] text-white p-2.5 rounded-full shadow-lg",children:(0,t.jsx)(e$.default,{className:"w-4 h-4"})})]})]})}),(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:k.length})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:eT()})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,t.jsx)("span",{className:"text-white font-medium",children:es.valid})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:B.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-medium text-sm",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${eP(e.status)}`,children:"completed"===e.status?"Completed":"in_progress"===e.status?"In Progress":"Scheduled"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:["Sent: ",e.valid_numbers?.toLocaleString()||0]}),(0,t.jsxs)("span",{children:["Delivered: ",e.valid_numbers?.toLocaleString()||0]})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.created_at).toLocaleString()})]},e.id))}),B.length>3&&(0,t.jsx)("button",{onClick:()=>n("campaigns"),className:"w-full mt-3 text-green-400 hover:text-green-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===i&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,t.jsxs)("button",{onClick:()=>n("compose"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===o?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,t.jsx)("button",{onClick:()=>x("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===o?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,t.jsx)("button",{onClick:()=>x("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===o?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,t.jsx)("button",{onClick:()=>x("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===o?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,t.jsx)("button",{onClick:()=>x("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===o?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,t.jsx)("button",{onClick:()=>x("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===o?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===B.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first WhatsApp campaign to get started"}),(0,t.jsxs)("button",{onClick:()=>n("compose"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:B.map(e=>{let s=em[e.id]||[],a=eo===e.id,l=eu[e.id],r=s.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e),{});return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[e.media_url&&"image"===e.media_type&&(0,t.jsx)("div",{className:"w-10 h-10 rounded border border-slate-700 overflow-hidden flex-shrink-0",children:(0,t.jsx)("img",{src:e.media_url,alt:"Thumb",className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.campaign_name}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${eP(e.status)}`,children:e.status}),e.media_url&&(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-slate-500",children:[(0,t.jsx)(tC.default,{className:"w-3 h-3"})," Media Attached"]})]})]})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>e_(e.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ek(e.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>eC(e.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ef(e.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tP.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tT.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_recipients.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,t.jsx)("p",{className:"text-green-400 text-lg font-semibold",children:e.valid_numbers.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:e.status.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,t.jsxs)("p",{className:"text-white text-lg font-semibold",children:[e.total_recipients>0?Math.round(e.valid_numbers/e.total_recipients*100):0,"%"]})]})]})]}),a&&(0,t.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:l?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(R.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===s.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Campaign Message Preview"})}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 mb-6 max-w-lg",children:[e.media_url&&"image"===e.media_type&&(0,t.jsx)("div",{className:"mb-3 rounded-lg overflow-hidden border border-slate-700",children:(0,t.jsx)("img",{src:e.media_url,alt:"Campaign Media",className:"w-full h-48 object-cover"})}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("p",{className:"text-sm text-white whitespace-pre-line",children:e.message||"No message content"}),e.template_id&&(0,t.jsxs)("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:["Template ID: ",e.template_id]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-blue-400",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Read: ",r.read||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",r.delivered||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-cyan-400",children:[(0,t.jsx)(e$.default,{className:"w-4 h-4"}),"Sent: ",r.sent||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),"Pending: ",r.pending||0]}),(0,t.jsxs)("span",{className:"flex items-center gap-1 text-red-400",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"}),"Failed: ",r.failed||0]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Read At"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:s.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:e.phone_number}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(e=>{switch(e){case"read":return"text-blue-400";case"delivered":return"text-green-400";case"sent":return"text-cyan-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";default:return"text-slate-400"}})(e.status)}`,children:[(e=>{switch(e){case"read":case"delivered":return(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,t.jsx)(e$.default,{className:"w-4 h-4"});case"pending":default:return(0,t.jsx)(R.Clock,{className:"w-4 h-4"});case"failed":return(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"})}})(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:e.read_at?new Date(e.read_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.error_message?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-red-400 text-xs",children:e.error_message})]}):(0,t.jsx)("span",{className:"text-slate-500",children:"-"})})]},e.id))})]})}),100===s.length&&(0,t.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},e.id)})})]}),"configuration"===i&&(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:(0,t.jsx)(tU,{onConfigUpdate:()=>{eN(),n("compose")}})}),"templates"===i&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"WhatsApp Message Templates"}),(0,t.jsxs)("button",{onClick:()=>en(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===W.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:W.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.name}),e.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full border border-green-500/30",children:"Default"})]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===e.category?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"transactional"===e.category?"bg-green-500/20 text-green-400 border border-green-500/30":"marketing"===e.category?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"otp"===e.category?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"reminder"===e.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:e.category}),(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded",children:e.language})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.description}),e.header_content&&"image"===e.header_type&&(0,t.jsx)("div",{className:"mb-3 rounded overflow-hidden",children:(0,t.jsx)("img",{src:e.header_content,alt:e.name,className:"w-full h-32 object-cover"})}),e.header_content&&"text"===e.header_type&&(0,t.jsx)("div",{className:"bg-slate-800 rounded p-2 mb-2",children:(0,t.jsx)("p",{className:"text-white text-sm font-semibold",children:e.header_content})}),(0,t.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-2",children:(0,t.jsx)("p",{className:"text-slate-300 text-xs line-clamp-4 whitespace-pre-line",children:e.body_content})}),e.footer_text&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("p",{className:"text-slate-500 text-xs italic",children:e.footer_text})}),e.buttons&&e.buttons.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Action Buttons:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.buttons.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded border border-green-500/30",children:e.text},s))})]}),e.variables&&e.variables.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.variables.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:e},s))})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:e.use_case}),(0,t.jsx)("button",{onClick:()=>{n("compose"),ey(e.id)},className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},e.id))})]}),ei&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900/50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create WhatsApp Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your message template for automated responses"})]}),(0,t.jsx)("button",{onClick:()=>en(!1),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-slate-800 rounded-lg",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template Name*"}),(0,t.jsx)("input",{type:"text",value:ed.name,onChange:e=>ec({...ed,name:e.target.value}),placeholder:"e.g. welcome_message",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category*"}),(0,t.jsxs)("select",{value:ed.category,onChange:e=>ec({...ed,category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"marketing",children:"Marketing"}),(0,t.jsx)("option",{value:"utility",children:"Utility"}),(0,t.jsx)("option",{value:"authentication",children:"Authentication"}),(0,t.jsx)("option",{value:"promotional",children:"Promotional"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Language*"}),(0,t.jsxs)("select",{value:ed.language,onChange:e=>ec({...ed,language:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"en_US",children:"English (US)"}),(0,t.jsx)("option",{value:"ms_MY",children:"Malay (Malaysia)"}),(0,t.jsx)("option",{value:"zh_CN",children:"Chinese (Simplified)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Header Type"}),(0,t.jsxs)("select",{value:ed.header_type,onChange:e=>ec({...ed,header_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,t.jsx)("option",{value:"none",children:"None"}),(0,t.jsx)("option",{value:"text",children:"Text"}),(0,t.jsx)("option",{value:"image",children:"Image URL"})]})]})]}),"none"!==ed.header_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"text"===ed.header_type?"Header Text":"Image URL"}),(0,t.jsx)("input",{type:"text",value:ed.header_content,onChange:e=>ec({...ed,header_content:e.target.value}),placeholder:"text"===ed.header_type?"Enter header text":"https://example.com/image.jpg",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Body Content*"}),(0,t.jsx)("textarea",{value:ed.body_content,onChange:e=>ec({...ed,body_content:e.target.value}),placeholder:"Hello {{name}}, welcome to our service!",rows:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Use double curly braces for variables, e.g., ","{{name}}"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Footer Text (Optional)"}),(0,t.jsx)("input",{type:"text",value:ed.footer_text,onChange:e=>ec({...ed,footer_text:e.target.value}),placeholder:"Reply STOP to opt out",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Buttons (Max 3)"}),ed.buttons.length<3&&(0,t.jsxs)("button",{onClick:()=>ec({...ed,buttons:[...ed.buttons,{text:"",type:"QUICK_REPLY"}]}),className:"text-xs text-green-400 hover:text-green-300 flex items-center gap-1",children:[(0,t.jsx)(_.default,{className:"w-3 h-3"})," Add Button"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:ed.buttons.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-3 items-start bg-slate-800/50 p-3 rounded-lg border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("input",{type:"text",value:e.text,onChange:e=>{let t=[...ed.buttons];t[s].text=e.target.value,ec({...ed,buttons:t})},placeholder:"Button Text",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-1.5 text-sm text-white focus:outline-none"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:e.type,onChange:e=>{let t=[...ed.buttons];t[s].type=e.target.value,ec({...ed,buttons:t})},className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white",children:[(0,t.jsx)("option",{value:"QUICK_REPLY",children:"Quick Reply"}),(0,t.jsx)("option",{value:"URL",children:"Visit Website"}),(0,t.jsx)("option",{value:"PHONE_NUMBER",children:"Call Number"})]}),"QUICK_REPLY"!==e.type&&(0,t.jsx)("input",{type:"text",value:e.value||"",onChange:e=>{let t=[...ed.buttons];t[s].value=e.target.value,ec({...ed,buttons:t})},placeholder:"URL"===e.type?"https://...":"+1...",className:"flex-[2] bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white"})]})]}),(0,t.jsx)("button",{onClick:()=>ec({...ed,buttons:ed.buttons.filter((e,t)=>t!==s)}),className:"text-red-400 hover:text-red-300 p-1",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/30 rounded-2xl p-6 border border-slate-700 flex flex-col items-center justify-center",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"WhatsApp Message Preview"}),(0,t.jsx)("div",{className:"w-full max-w-[320px] bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl scale-90 lg:scale-100 origin-top",children:(0,t.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden min-h-[400px]",children:[(0,t.jsx)("div",{className:"bg-[#075e54] px-4 py-3 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,t.jsx)(t$.Building2,{className:"w-4 h-4 text-slate-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:"Business Name"}),(0,t.jsx)("p",{className:"text-[10px] text-green-200",children:"online"})]})]})}),(0,t.jsx)("div",{className:"p-3 space-y-0.5 bg-[#e5ddd5] min-h-[340px]",children:(0,t.jsxs)("div",{className:"max-w-[85%] bg-white rounded-lg rounded-tl-none shadow-sm overflow-hidden animate-in fade-in slide-in-from-left-2 duration-300",children:["image"===ed.header_type&&ed.header_content&&(0,t.jsx)("div",{className:"w-full h-32 overflow-hidden bg-slate-100",children:(0,t.jsx)("img",{src:ed.header_content,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"p-2 space-y-1",children:["text"===ed.header_type&&ed.header_content&&(0,t.jsx)("p",{className:"text-sm font-bold text-slate-900",children:ed.header_content}),(0,t.jsx)("p",{className:"text-sm text-slate-800 whitespace-pre-line",children:ed.body_content||"Body content preview will appear here..."}),ed.footer_text&&(0,t.jsx)("p",{className:"text-[10px] text-slate-400",children:ed.footer_text}),(0,t.jsx)("p",{className:"text-[9px] text-slate-400 text-right mt-1",children:"12:34 PM"})]}),ed.buttons.length>0&&(0,t.jsx)("div",{className:"border-t border-slate-100 divide-y divide-slate-100 bg-slate-50/50",children:ed.buttons.map((e,s)=>(0,t.jsxs)("div",{className:"py-2.5 px-3 flex items-center justify-center gap-2 text-[#00a884] text-sm font-medium",children:["URL"===e.type&&(0,t.jsx)(c.Settings,{className:"w-4 h-4 rotate-45"}),"PHONE_NUMBER"===e.type&&(0,t.jsx)(Q.Phone,{className:"w-4 h-4"}),e.text||"Button text"]},s))})]})})]})})]})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>en(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Discard"}),(0,t.jsxs)("button",{onClick:eS,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-bold",children:[(0,t.jsx)(z.default,{className:"w-5 h-5"}),"Save Template"]})]})]})})]})}):null}var tz=e.i(37902),tB=e.i(44489),tB=tB,tK=e.i(37423),tK=tK,tW=e.i(54832),tW=tW,p=p,tG=e.i(98365),tG=tG,x=x,_=_,N=N,tc=tc,S=S,tX=e.i(73815),tX=tX,ez=ez,tH=e.i(36166),tH=tH,u=u,m=m,C=C,el=el;let tJ=(0,s.createContext)(null);function tY(){let e=(0,s.useContext)(tJ);if(!e)throw Error("useIVR must be used within IVRProvider");return e}function tQ({children:e}){let[a,l]=(0,s.useState)({project:null,currentPage:null,selectedNodes:[],clipboard:[],history:[],historyIndex:-1,viewport:{x:0,y:0,zoom:1},validationErrors:[]}),r=(0,s.useCallback)(e=>{l(t=>{let s=t.history.slice(0,t.historyIndex+1);return s.push(JSON.parse(JSON.stringify(e))),{...t,history:s.slice(-50),historyIndex:Math.min(s.length-1,49)}})},[]),i=(0,s.useCallback)((e,t)=>{let s={id:`project_${Date.now()}`,name:e,description:t,pages:[{id:`page_${Date.now()}`,name:"Main",nodes:[],connections:[]}],variables:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"draft",version:1};l(e=>({...e,project:s,currentPage:s.pages[0].id,selectedNodes:[],history:[s],historyIndex:0}))},[]),n=(0,s.useCallback)(e=>{l(t=>({...t,project:e,currentPage:e.pages[0]?.id||null,selectedNodes:[],history:[e],historyIndex:0}))},[]),d=(0,s.useCallback)(e=>{l(t=>{if(!t.project)return t;let s={...t.project,...e,updated_at:new Date().toISOString()};return r(s),{...t,project:s}})},[r]),c=(0,s.useCallback)(()=>a.project&&a.currentPage&&a.project.pages.find(e=>e.id===a.currentPage)||null,[a.project,a.currentPage]),o=(0,s.useCallback)(e=>{l(t=>{if(!t.project)return t;let s={id:`page_${Date.now()}`,name:e,nodes:[],connections:[]},a={...t.project,pages:[...t.project.pages,s],updated_at:new Date().toISOString()};return r(a),{...t,project:a,currentPage:s.id}})},[r]),x=(0,s.useCallback)(e=>{l(t=>{if(!t.project||t.project.pages.length<=1)return t;let s=t.project.pages.filter(t=>t.id!==e),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a,currentPage:t.currentPage===e?s[0].id:t.currentPage}})},[r]),m=(0,s.useCallback)(e=>{l(t=>({...t,currentPage:e,selectedNodes:[]}))},[]),h=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage?s:{...s,nodes:[...s.nodes,e]}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a}})},[r]),u=(0,s.useCallback)((e,t)=>{l(s=>{if(!s.project||!s.currentPage)return s;let a=s.project.pages.map(a=>a.id!==s.currentPage?a:{...a,nodes:a.nodes.map(s=>s.id===e?{...s,...t}:s)}),l={...s.project,pages:a,updated_at:new Date().toISOString()};return r(l),{...s,project:l}})},[r]),p=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage?s:{...s,nodes:s.nodes.filter(t=>t.id!==e),connections:s.connections.filter(t=>t.from!==e&&t.to!==e)}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a,selectedNodes:t.selectedNodes.filter(t=>t!==e)}})},[r]),g=(0,s.useCallback)(e=>{e.forEach(e=>p(e))},[p]),b=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage||s.connections.some(t=>t.from===e.from&&t.to===e.to)?s:{...s,connections:[...s.connections,e]}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a}})},[r]),f=(0,s.useCallback)(e=>{l(t=>{if(!t.project||!t.currentPage)return t;let s=t.project.pages.map(s=>s.id!==t.currentPage?s:{...s,connections:s.connections.filter(t=>t.id!==e)}),a={...t.project,pages:s,updated_at:new Date().toISOString()};return r(a),{...t,project:a}})},[r]),j=(0,s.useCallback)((e,t=!1)=>{l(s=>{if(t){let t=s.selectedNodes.includes(e);return{...s,selectedNodes:t?s.selectedNodes.filter(t=>t!==e):[...s.selectedNodes,e]}}return{...s,selectedNodes:[e]}})},[]),N=(0,s.useCallback)(()=>{l(e=>({...e,selectedNodes:[]}))},[]),v=(0,s.useCallback)(()=>{let e=c();if(!e)return;let t=e.nodes.filter(e=>a.selectedNodes.includes(e.id));l(e=>({...e,clipboard:t}))},[c,a.selectedNodes]),y=(0,s.useCallback)(e=>{if(0===a.clipboard.length)return;let t=e||{x:50,y:50};a.clipboard.map(e=>({...e,id:`node_${Date.now()}_${Math.random()}`,position:{x:e.position.x+t.x,y:e.position.y+t.y}})).forEach(e=>h(e))},[a.clipboard,h]),w=(0,s.useCallback)(()=>{l(e=>{if(e.historyIndex<=0)return e;let t=e.historyIndex-1;return{...e,project:e.history[t],historyIndex:t}})},[]),_=(0,s.useCallback)(()=>{l(e=>{if(e.historyIndex>=e.history.length-1)return e;let t=e.historyIndex+1;return{...e,project:e.history[t],historyIndex:t}})},[]),k=(0,s.useCallback)(e=>{l(t=>({...t,viewport:{...t.viewport,...e}}))},[]),C=(0,s.useCallback)(()=>{var e;let t;if(!a.project)return[];let s=(e=a.project,t=[],e.pages.forEach(e=>{var s,a;let l,r,i=e.nodes.filter(e=>"start"===e.type);0===i.length?t.push({nodeId:"page",type:"error",message:`Page "${e.name}" must have a start node`}):i.length>1&&t.push({nodeId:i[1].id,type:"error",message:`Page "${e.name}" can only have one start node`}),0===e.nodes.filter(e=>"endFlow"===e.type).length&&t.push({nodeId:"page",type:"warning",message:`Page "${e.name}" should have at least one end flow node`}),e.nodes.forEach(e=>{let s=function(e,t){let s=[];switch(e.type){case"setParams":e.parameters&&0!==Object.keys(e.parameters).length||s.push({nodeId:e.id,type:"warning",message:"SetParams node has no parameters defined",field:"parameters"});break;case"playMessage":e.messages&&0!==e.messages.length||s.push({nodeId:e.id,type:"error",message:"PlayMessage node must have at least one message",field:"messages"});break;case"getDigits":e.resultVariable&&""!==e.resultVariable.trim()||s.push({nodeId:e.id,type:"error",message:"GetDigits node must specify a result variable",field:"resultVariable"}),e.messages&&0!==e.messages.length||s.push({nodeId:e.id,type:"error",message:"GetDigits node must have at least one message",field:"messages"}),e.maxDigits<e.minDigits&&s.push({nodeId:e.id,type:"error",message:"Maximum digits cannot be less than minimum digits",field:"maxDigits"});break;case"playMenu":e.options&&0!==e.options.length||s.push({nodeId:e.id,type:"error",message:"PlayMenu node must have at least one option",field:"options"}),e.messages&&0!==e.messages.length||s.push({nodeId:e.id,type:"error",message:"PlayMenu node must have at least one message",field:"messages"});break;case"runScript":if(e.script&&""!==e.script.trim())try{Function(e.script)}catch(t){s.push({nodeId:e.id,type:"error",message:`Script has syntax errors: ${t.message}`,field:"script"})}else s.push({nodeId:e.id,type:"error",message:"RunScript node must have a script",field:"script"});break;case"switch":e.variable&&""!==e.variable.trim()||s.push({nodeId:e.id,type:"error",message:"Switch node must specify a variable",field:"variable"}),e.conditions&&0!==e.conditions.length||s.push({nodeId:e.id,type:"warning",message:"Switch node has no conditions",field:"conditions"});break;case"callAPI":e.url&&""!==e.url.trim()||s.push({nodeId:e.id,type:"error",message:"CallAPI node must specify a URL",field:"url"}),e.responseVariable&&""!==e.responseVariable.trim()||s.push({nodeId:e.id,type:"error",message:"CallAPI node must specify a response variable",field:"responseVariable"});break;case"endFlow":"transfer"!==e.endType||e.transferNumber&&""!==e.transferNumber.trim()||s.push({nodeId:e.id,type:"error",message:"Transfer end flow must specify a transfer number",field:"transferNumber"});break;case"jumperExit":e.jumperName&&""!==e.jumperName.trim()||s.push({nodeId:e.id,type:"error",message:"Jumper exit must specify a jumper name",field:"jumperName"});break;case"jumperEntry":e.jumperName&&""!==e.jumperName.trim()||s.push({nodeId:e.id,type:"error",message:"Jumper entry must specify a jumper name",field:"jumperName"})}return s}(e,0);t.push(...s)});let n=(s=e.nodes,a=e.connections,l=[],r=new Set(s.map(e=>e.id)),a.forEach(e=>{r.has(e.from)||l.push({nodeId:e.from,type:"error",message:`Connection references non-existent node: ${e.from}`}),r.has(e.to)||l.push({nodeId:e.to,type:"error",message:`Connection references non-existent node: ${e.to}`})}),s.forEach(e=>{"start"!==e.type&&"endFlow"!==e.type&&(a.some(t=>t.to===e.id)||l.push({nodeId:e.id,type:"warning",message:`Node "${e.name}" has no incoming connections`})),"endFlow"!==e.type&&"jumperExit"!==e.type&&(a.some(t=>t.from===e.id)||l.push({nodeId:e.id,type:"warning",message:`Node "${e.name}" has no outgoing connections`}))}),function(e,t,s){let a=new Map;e.forEach(e=>{a.set(e.id,[])}),t.forEach(e=>{let t=a.get(e.from)||[];t.push(e.to),a.set(e.from,t)});let l=new Set,r=new Set,i=[];for(let t of e)if(!l.has(t.id)&&function e(t){for(let s of(l.add(t),r.add(t),a.get(t)||[]))if(l.has(s)){if(r.has(s))return i.push(t),i.push(s),!0}else if(e(s))return i.push(t),!0;return r.delete(t),!1}(t.id)){s.push({nodeId:i[0],type:"warning",message:`Potential infinite loop detected involving these nodes: ${i.join(", ")}`});break}}(s,a,l),l);t.push(...n)}),t);return l(e=>({...e,validationErrors:s})),s},[a.project]),S=(0,s.useCallback)(()=>{let e=c();return e?e.nodes.filter(e=>a.selectedNodes.includes(e.id)):[]},[c,a.selectedNodes]),A={...a,createProject:i,loadProject:n,updateProject:d,addPage:o,deletePage:x,setCurrentPage:m,addNode:h,updateNode:u,deleteNode:p,deleteNodes:g,addConnection:b,deleteConnection:f,selectNode:j,clearSelection:N,copy:v,paste:y,undo:w,redo:_,setViewport:k,validate:C,getCurrentPage:c,getSelectedNodes:S};return(0,t.jsx)(tJ.Provider,{value:A,children:e})}var tZ=e.i(97140),tZ=tZ,t0=e.i(88284),t0=t0,tb=tb,t4=e.i(60434),t4=t4,eN=eN,t2=e.i(63573),t2=t2;let t5={start:{icon:eD.Play,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/50"},setParams:{icon:tZ.default,color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/50"},playMessage:{icon:e0.MessageCircle,color:"text-cyan-400",bgColor:"bg-cyan-500/20",borderColor:"border-cyan-500/50"},getDigits:{icon:tZ.default,color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/50"},playMenu:{icon:Q.Phone,color:"text-indigo-400",bgColor:"bg-indigo-500/20",borderColor:"border-indigo-500/50"},playConfirm:{icon:t2.default,color:"text-yellow-400",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/50"},runScript:{icon:eI.Code,color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/50"},switch:{icon:t0.default,color:"text-pink-400",bgColor:"bg-pink-500/20",borderColor:"border-pink-500/50"},callAPI:{icon:E.Globe,color:"text-teal-400",bgColor:"bg-teal-500/20",borderColor:"border-teal-500/50"},endFlow:{icon:tb.default,color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/50"},connector:{icon:t4.default,color:"text-slate-400",bgColor:"bg-slate-500/20",borderColor:"border-slate-500/50"},jumperEntry:{icon:eN.default,color:"text-emerald-400",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/50"},jumperExit:{icon:eN.default,color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500/50"}};function t3({node:e,isSelected:s,onClick:a,onDoubleClick:l,hasError:r}){let i=t5[e.type]||t5.connector,n=i.icon;return(0,t.jsx)("div",{className:`absolute cursor-pointer transition-all duration-200 ${s?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":""}`,style:{left:e.position.x,top:e.position.y,width:200,height:80},onClick:a,onDoubleClick:l,children:(0,t.jsxs)("div",{className:`h-full rounded-xl border-2 backdrop-blur-sm ${i.bgColor} ${r?"border-red-500":i.borderColor} ${s?"shadow-lg shadow-cyan-500/50":""} flex items-center gap-3 px-4 relative`,children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${i.bgColor} ${r?"text-red-400":i.color}`,children:(0,t.jsx)(n,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-white font-semibold text-sm truncate",children:e.name}),e.description&&(0,t.jsx)("div",{className:"text-slate-400 text-xs truncate",children:e.description})]}),(0,t.jsx)("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-white border-2 border-slate-900"}),(0,t.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-white border-2 border-slate-900"})]})})}function t1({onNodeDoubleClick:e}){let a=(0,s.useRef)(null),{getCurrentPage:l,selectedNodes:r,selectNode:i,clearSelection:n,viewport:d,setViewport:c,validationErrors:o}=tY(),[x,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)({x:0,y:0}),[p,g]=(0,s.useState)(null),[b,f]=(0,s.useState)({x:0,y:0}),j=l(),N=j?.nodes||[],v=j?.connections||[],y=(0,s.useCallback)(e=>{0===e.button&&e.target===a.current&&(m(!0),u({x:e.clientX-d.x,y:e.clientY-d.y}),n())},[d,n]),w=(0,s.useCallback)(e=>{f({x:e.clientX,y:e.clientY}),x&&c({x:e.clientX-h.x,y:e.clientY-h.y})},[x,h,c]),_=(0,s.useCallback)(()=>{m(!1),g(null)},[]),k=(0,s.useCallback)(e=>{e.preventDefault();let t=e.deltaY>0?.9:1.1;c({zoom:Math.max(.25,Math.min(2,d.zoom*t))})},[d.zoom,c]);return(0,t.jsxs)("div",{ref:a,className:"relative w-full h-full bg-slate-900 overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:y,onMouseMove:w,onMouseUp:_,onWheel:k,children:[(()=>{if(!a.current)return null;let e=a.current.clientWidth,s=a.current.clientHeight,l=[],r=d.x%(20*d.zoom),i=d.y%(20*d.zoom);for(let a=r;a<e;a+=20*d.zoom)l.push((0,t.jsx)("line",{x1:a,y1:0,x2:a,y2:s,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1},`v-${a}`));for(let a=i;a<s;a+=20*d.zoom)l.push((0,t.jsx)("line",{x1:0,y1:a,x2:e,y2:a,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1},`h-${a}`));return(0,t.jsx)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:l})})(),v.map(e=>{let s=N.find(t=>t.id===e.from),a=N.find(t=>t.id===e.to);if(!s||!a)return null;let l=s.position.x+200+d.x,r=s.position.y+40+d.y,i=a.position.x+d.x,n=a.position.y+40+d.y,c=(l+i)/2;return(0,t.jsxs)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:(0,t.jsx)("polygon",{points:"0 0, 10 3, 0 6",fill:"#06b6d4"})})}),(0,t.jsx)("path",{d:`M ${l} ${r} C ${c} ${r}, ${c} ${n}, ${i} ${n}`,stroke:"#06b6d4",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",opacity:"0.6"}),e.label&&(0,t.jsx)("text",{x:c,y:(r+n)/2-5,fill:"#94a3b8",fontSize:"12",textAnchor:"middle",children:e.label})]},e.id)}),(0,t.jsx)("div",{className:"absolute",style:{transform:`translate(${d.x}px, ${d.y}px) scale(${d.zoom})`,transformOrigin:"0 0",zIndex:2},children:N.map(s=>{let a=o.some(e=>e.nodeId===s.id&&"error"===e.type);return(0,t.jsx)(t3,{node:s,isSelected:r.includes(s.id),onClick:()=>i(s.id,!1),onDoubleClick:()=>e?.(s),hasError:a},s.id)})}),(0,t.jsxs)("div",{className:"absolute bottom-4 right-4 bg-slate-800/90 backdrop-blur-sm px-3 py-1 rounded-lg text-white text-xs font-mono border border-white/10",children:[Math.round(100*d.zoom),"%"]}),0===N.length&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-slate-600 text-lg font-bold mb-2",children:"Empty Canvas"}),(0,t.jsx)("div",{className:"text-slate-700 text-sm",children:"Drag nodes from the toolbar to get started"})]})})]})}var tZ=tZ,t0=t0,tb=tb,t4=t4,eN=eN,t2=t2,t6=e.i(187),t6=t6,t7=e.i(63689),t7=t7,ti=ti,t8=e.i(68586),t8=t8,t9=e.i(49191),t9=t9,z=z,x=x,tC=tC,p=p;let se=[{type:"start",label:"Start",icon:eD.Play,category:"flow"},{type:"setParams",label:"Set Parameters",icon:tZ.default,category:"flow"},{type:"playMessage",label:"Play Message",icon:e0.MessageCircle,category:"interaction"},{type:"getDigits",label:"Get Digits",icon:tZ.default,category:"interaction"},{type:"playMenu",label:"Play Menu",icon:Q.Phone,category:"interaction"},{type:"playConfirm",label:"Confirmation",icon:t2.default,category:"interaction"},{type:"runScript",label:"Run Script",icon:eI.Code,category:"logic"},{type:"switch",label:"Switch",icon:t0.default,category:"logic"},{type:"callAPI",label:"API Call",icon:E.Globe,category:"integration"},{type:"endFlow",label:"End Flow",icon:tb.default,category:"flow"},{type:"connector",label:"Connector",icon:t4.default,category:"flow"},{type:"jumperEntry",label:"Jump Entry",icon:eN.default,category:"flow"},{type:"jumperExit",label:"Jump Exit",icon:eN.default,category:"flow"}];function st({onSave:e,onExport:a,onImport:l}){let{viewport:r,setViewport:i,undo:n,redo:d,history:c,historyIndex:o,addNode:m,validate:h,validationErrors:u,getCurrentPage:g}=tY(),[b,f]=(0,s.useState)(""),[j,N]=(0,s.useState)("all"),[y,w]=(0,s.useState)(!1),_=g(),k=o<c.length-1,C=se.filter(e=>{let t=e.label.toLowerCase().includes(b.toLowerCase()),s="all"===j||e.category===j;return t&&s}),S=e=>{"fit"===e?i({zoom:1,x:0,y:0}):i({zoom:Math.max(.25,Math.min(2,r.zoom*("in"===e?1.2:.8)))})},A=u.filter(e=>"error"===e.type).length,T=u.filter(e=>"warning"===e.type).length;return(0,t.jsxs)("div",{className:"w-80 h-full bg-slate-900 border-r border-white/10 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"IVR Workflow Builder"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:n,disabled:!(o>0),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Undo",children:(0,t.jsx)(t8.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:d,disabled:!k,className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Redo",children:(0,t.jsx)(t9.default,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("button",{onClick:()=>S("out"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Zoom Out",children:(0,t.jsx)(t7.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>S("fit"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Fit to Screen",children:(0,t.jsx)(ti.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>S("in"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Zoom In",children:(0,t.jsx)(t6.default,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,t.jsxs)("button",{onClick:e,className:"flex-1 px-3 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white text-sm font-semibold transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(z.default,{className:"w-4 h-4"}),"Save"]}),(0,t.jsx)("button",{onClick:()=>{h(),w(!0),setTimeout(()=>w(!1),3e3)},className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Validate Flow",children:(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:a,className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Export",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:l,className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Import",children:(0,t.jsx)(tC.default,{className:"w-4 h-4"})})]})]}),y&&u.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-white/5 border-b border-white/10",children:[(0,t.jsx)("div",{className:"text-white font-semibold text-sm mb-2",children:"Validation Results"}),A>0&&(0,t.jsxs)("div",{className:"text-red-400 text-xs flex items-center gap-2 mb-1",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-3 h-3"}),A," error",1!==A?"s":""]}),T>0&&(0,t.jsxs)("div",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-3 h-3"}),T," warning",1!==T?"s":""]})]}),y&&0===u.length&&(0,t.jsx)("div",{className:"p-4 bg-green-500/10 border-b border-green-500/20",children:(0,t.jsxs)("div",{className:"text-green-400 text-sm flex items-center gap-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"No validation errors"]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,t.jsxs)("div",{className:"relative mb-4",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search nodes...",value:b,onChange:e=>f(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-4 flex-wrap",children:["all","flow","interaction","logic","integration"].map(e=>(0,t.jsx)("button",{onClick:()=>N(e),className:`px-3 py-1 rounded-lg text-xs font-semibold uppercase tracking-wider transition-all ${j===e?"bg-cyan-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"}`,children:e},e))}),(0,t.jsx)("div",{className:"space-y-2",children:C.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>(e=>{let t,s={id:`node_${Date.now()}`,name:se.find(t=>t.type===e)?.label||e,position:{x:100,y:100},type:e};switch(e){case"start":t={...s,type:"start"};break;case"setParams":t={...s,type:"setParams",parameters:{},variables:{}};break;case"playMessage":t={...s,type:"playMessage",messages:[],loop:1,bargeIn:!0};break;case"getDigits":t={...s,type:"getDigits",messages:[],resultVariable:"userInput",minDigits:1,maxDigits:1,timeout:5e3,attempts:3};break;case"playMenu":t={...s,type:"playMenu",messages:[],options:[],timeout:5e3,attempts:3};break;case"playConfirm":t={...s,type:"playConfirm",messages:[],confirmKey:"1",cancelKey:"2",timeout:5e3};break;case"runScript":t={...s,type:"runScript",script:"// Enter JavaScript code here",variables:[]};break;case"switch":t={...s,type:"switch",variable:"",conditions:[],defaultAction:""};break;case"callAPI":t={...s,type:"callAPI",url:"",method:"GET",responseVariable:"apiResponse",timeout:3e4};break;case"endFlow":t={...s,type:"endFlow",endType:"disconnect"};break;case"connector":t={...s,type:"connector"};break;case"jumperEntry":t={...s,type:"jumperEntry",jumperName:"jumper1"};break;case"jumperExit":t={...s,type:"jumperExit",jumperName:"jumper1"};break;default:return}m(t)})(e.type),className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 hover:border-cyan-500/50 transition-all group",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-cyan-500/20 text-cyan-400 group-hover:bg-cyan-500/30",children:(0,t.jsx)(s,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"text-white text-sm font-medium",children:e.label})]},e.type)})}),0===C.length&&(0,t.jsx)("div",{className:"text-center text-slate-500 text-sm py-8",children:"No nodes match your search"})]}),_&&(0,t.jsx)("div",{className:"p-4 border-t border-white/10 bg-white/5",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Nodes"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:_.nodes.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Connections"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:_.connections.length})]})]})})]})}function ss({node:e,onClose:a}){let{updateNode:l}=tY(),[r,i]=(0,s.useState)(e);if(!r)return(0,t.jsx)("div",{className:"w-80 h-full bg-slate-900 border-l border-white/10 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-slate-500",children:[(0,t.jsx)("div",{className:"mb-2",children:"No node selected"}),(0,t.jsx)("div",{className:"text-xs",children:"Double-click a node to edit its properties"})]})});let n=(e,t)=>{i({...r,[e]:t}),l(r.id,{[e]:t})};return(0,t.jsxs)("div",{className:"w-80 h-full bg-slate-900 border-l border-white/10 flex flex-col",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:"Node Properties"}),(0,t.jsx)("button",{onClick:a,className:"p-1 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Node Name"}),(0,t.jsx)("input",{type:"text",value:r.name,onChange:e=>n("name",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{value:r.description||"",onChange:e=>n("description",e.target.value),rows:2,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"})]}),function(e,s){switch(e.type){case"getDigits":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Result Variable"}),(0,t.jsx)("input",{type:"text",value:e.resultVariable,onChange:e=>s("resultVariable",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Min Digits"}),(0,t.jsx)("input",{type:"number",value:e.minDigits,onChange:e=>s("minDigits",parseInt(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Max Digits"}),(0,t.jsx)("input",{type:"number",value:e.maxDigits,onChange:e=>s("maxDigits",parseInt(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Timeout (ms)"}),(0,t.jsx)("input",{type:"number",value:e.timeout,onChange:e=>s("timeout",parseInt(e.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]});case"runScript":return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"JavaScript Code"}),(0,t.jsx)("textarea",{value:e.script,onChange:e=>s("script",e.target.value),rows:10,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white font-mono focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"// Enter JavaScript code here"}),(0,t.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-3 h-3 inline mr-1"}),"Use $variableName to access IVR variables"]})]});case"switch":return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Variable to Switch On"}),(0,t.jsx)("input",{type:"text",value:e.variable,onChange:e=>s("variable",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"$variableName"})]});case"callAPI":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"API URL"}),(0,t.jsx)("input",{type:"url",value:e.url,onChange:e=>s("url",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"https://api.example.com/endpoint"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"HTTP Method"}),(0,t.jsxs)("select",{value:e.method,onChange:e=>s("method",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"GET",children:"GET"}),(0,t.jsx)("option",{value:"POST",children:"POST"}),(0,t.jsx)("option",{value:"PUT",children:"PUT"}),(0,t.jsx)("option",{value:"DELETE",children:"DELETE"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Response Variable"}),(0,t.jsx)("input",{type:"text",value:e.responseVariable,onChange:e=>s("responseVariable",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]});case"endFlow":return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"End Type"}),(0,t.jsxs)("select",{value:e.endType,onChange:e=>s("endType",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"disconnect",children:"Disconnect"}),(0,t.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),"transfer"===e.endType&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Transfer Number"}),(0,t.jsx)("input",{type:"tel",value:e.transferNumber||"",onChange:e=>s("transferNumber",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"+1234567890"})]})]});case"jumperEntry":case"jumperExit":return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Jumper Name"}),(0,t.jsx)("input",{type:"text",value:e.jumperName,onChange:e=>s("jumperName",e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"jumper1"})]});default:return(0,t.jsx)("div",{className:"text-center text-slate-500 text-sm py-4",children:"No additional properties for this node type"})}}(r,n)]})]})}var _=_,p=p,g=g,f=f,m=m;function sa({onProjectSelect:e,onCreateNew:a}){let[l]=(0,s.useState)([{id:"ivr_sample_1",name:"Customer Support Routing",description:"Routes customers to appropriate departments based on their selection. Includes sales, support, and billing options.",pages:[{id:"page_1",name:"Main Menu",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMenu",name:"Main Menu",position:{x:350,y:100},messages:[],options:[],timeout:5e3,attempts:3},{id:"node_3",type:"endFlow",name:"End Call",position:{x:600,y:100},endType:"disconnect"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"}]}],variables:{},created_at:"2026-02-15T10:00:00Z",updated_at:"2026-02-17T14:30:00Z",status:"active",version:2},{id:"ivr_sample_2",name:"After Hours Support",description:"Handles incoming calls outside business hours with AI-powered voicemail and emergency routing options.",pages:[{id:"page_1",name:"After Hours Flow",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMessage",name:"After Hours Message",position:{x:350,y:100},messages:[],loop:1,bargeIn:!0},{id:"node_3",type:"playConfirm",name:"Emergency?",position:{x:600,y:100},messages:[],confirmKey:"1",cancelKey:"2",timeout:5e3},{id:"node_4",type:"endFlow",name:"Disconnect",position:{x:850,y:100},endType:"disconnect"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"}]}],variables:{},created_at:"2026-02-10T08:00:00Z",updated_at:"2026-02-16T16:45:00Z",status:"active",version:3},{id:"ivr_sample_3",name:"Account Verification Flow",description:"Collects and verifies customer account information using DTMF input and API validation before routing to live agent.",pages:[{id:"page_1",name:"Verification",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"getDigits",name:"Get Account #",position:{x:350,y:100},messages:[],resultVariable:"accountNumber",minDigits:8,maxDigits:10,timeout:5e3,attempts:3},{id:"node_3",type:"callAPI",name:"Verify Account",position:{x:600,y:100},url:"https://api.example.com/verify",method:"POST",responseVariable:"apiResponse",timeout:3e4},{id:"node_4",type:"switch",name:"Check Result",position:{x:850,y:100},variable:"apiResponse",conditions:[],defaultAction:""},{id:"node_5",type:"endFlow",name:"Transfer to Agent",position:{x:1100,y:100},endType:"transfer",transferNumber:"+1234567890"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"},{id:"conn_4",from:"node_4",to:"node_5"}]}],variables:{accountNumber:"",apiResponse:""},created_at:"2026-02-12T12:00:00Z",updated_at:"2026-02-17T09:15:00Z",status:"draft",version:1},{id:"ivr_sample_4",name:"Multilingual Welcome",description:"Detects caller language preference and routes to appropriate language-specific menu and support team.",pages:[{id:"page_1",name:"Language Selection",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMenu",name:"Language Menu",position:{x:350,y:100},messages:[],options:[],timeout:5e3,attempts:3},{id:"node_3",type:"runScript",name:"Set Language",position:{x:600,y:100},script:"// Set language",variables:[]},{id:"node_4",type:"endFlow",name:"Transfer",position:{x:850,y:100},endType:"transfer"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"}]}],variables:{selectedLanguage:"en"},created_at:"2026-02-08T14:00:00Z",updated_at:"2026-02-17T11:20:00Z",status:"active",version:4}]),[r,i]=(0,s.useState)(""),n=l.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())||e.description?.toLowerCase().includes(r.toLowerCase()));return(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-black text-white mb-2",children:"IVR Workflows"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your interactive voice response flows"})]}),(0,t.jsxs)("button",{onClick:a,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Workflow"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search workflows...",value:r,onChange:e=>i(e.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(s=>(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-cyan-500/50 transition-all cursor-pointer group",onClick:()=>e(s),children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-cyan-400 transition-colors",children:s.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm line-clamp-2",children:s.description})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation()},className:"p-2 hover:bg-white/10 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:(0,t.jsx)(g.default,{className:"w-4 h-4 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 pt-4 border-t border-white/10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Nodes"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:s.pages.reduce((e,t)=>e+t.nodes.length,0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Pages"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:s.pages.length})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.default,{className:"w-3 h-3"}),new Date(s.updated_at).toLocaleDateString()]}),(0,t.jsx)("div",{className:`px-2 py-1 rounded-full uppercase font-bold ${"active"===s.status?"bg-green-500/20 text-green-400":"draft"===s.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:s.status})]})]},s.id))}):(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center mb-6 mx-auto",children:(0,t.jsx)(m.default,{className:"w-10 h-10 text-cyan-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:r?"No workflows found":"No workflows yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:r?"Try adjusting your search term":"Create your first IVR workflow to get started"}),!r&&(0,t.jsxs)("button",{onClick:a,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all mx-auto",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create First Workflow"]})]})]})}var sl=e.i(15186);function sr(){let[e,a]=(0,s.useState)("list"),[l,r]=(0,s.useState)(null),{loadProject:i,createProject:n,project:d}=tY();return"list"===e?(0,t.jsx)("div",{className:"h-full bg-slate-900",children:(0,t.jsx)(sa,{onProjectSelect:e=>{i(e),a("builder")},onCreateNew:()=>{n("New Workflow","Description of your workflow"),a("builder")}})}):(0,t.jsxs)("div",{className:"h-full flex overflow-hidden bg-slate-900",children:[(0,t.jsx)(st,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:()=>{a("list"),r(null)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-all",children:[(0,t.jsx)(sl.Home,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-semibold",children:"Back to Projects"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-white font-bold text-lg",children:d?.name||"Workflow Builder"}),(0,t.jsx)("div",{className:"text-slate-400 text-xs",children:d?.description||"Visual IVR Designer"})]}),(0,t.jsx)("div",{className:"w-32"})," "]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(t1,{onNodeDoubleClick:e=>{r(e)}})})]}),l&&(0,t.jsx)(ss,{node:l,onClose:()=>{r(null)}})]})}function si(){return(0,t.jsx)(tQ,{children:(0,t.jsx)(sr,{})})}var sn=e.i(53449),sn=sn,tl=tl;function sd({onClose:e}){let[a,l]=(0,s.useState)(""),[r,i]=(0,s.useState)("idle");return(0,t.jsxs)("div",{className:"fixed bottom-6 right-6 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl z-50 backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-cyan-500/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(Q.Phone,{className:"w-4 h-4 text-cyan-400"})}),(0,t.jsx)("span",{className:"text-white font-bold",children:"Dialpad"})]}),(0,t.jsx)("button",{onClick:e,className:"p-1.5 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"p-6 bg-white/5 relative",children:[(0,t.jsxs)("div",{className:"text-center mb-2",children:["calling"===r&&(0,t.jsx)("span",{className:"text-xs text-yellow-400 font-semibold uppercase tracking-wider animate-pulse",children:"Calling..."}),"connected"===r&&(0,t.jsx)("span",{className:"text-xs text-green-400 font-semibold uppercase tracking-wider",children:"Connected"})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 rounded-xl p-4 min-h-[60px] flex items-center justify-center border border-white/5",children:(0,t.jsx)("input",{type:"text",value:a,readOnly:!0,placeholder:"Enter number",className:"bg-transparent text-white text-2xl font-mono text-center w-full outline-none"})}),a.length>0&&"idle"===r&&(0,t.jsx)("button",{onClick:()=>{l(e=>e.slice(0,-1))},className:"absolute right-8 top-1/2 -translate-y-1/2 mt-1 p-2 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,t.jsx)(sn.default,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"p-4 grid grid-cols-3 gap-3",children:[{label:"1",sub:""},{label:"2",sub:"ABC"},{label:"3",sub:"DEF"},{label:"4",sub:"GHI"},{label:"5",sub:"JKL"},{label:"6",sub:"MNO"},{label:"7",sub:"PQRS"},{label:"8",sub:"TUV"},{label:"9",sub:"WXYZ"},{label:"*",sub:""},{label:"0",sub:"+"},{label:"#",sub:""}].map(e=>(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.label,void l(e=>e+t)},disabled:"idle"!==r,className:`aspect-square rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all flex flex-col items-center justify-center group ${"idle"!==r?"opacity-50 cursor-not-allowed":""}`,children:[(0,t.jsx)("span",{className:"text-2xl font-bold text-white group-hover:scale-110 transition-transform",children:e.label}),e.sub&&(0,t.jsx)("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider mt-1",children:e.sub})]},e.label))}),(0,t.jsx)("div",{className:"p-4 pt-0",children:"idle"===r?(0,t.jsxs)("button",{onClick:()=>{a.length>0&&(i("calling"),setTimeout(()=>i("connected"),2e3))},disabled:0===a.length,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed text-white py-4 rounded-2xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 transition-all",children:[(0,t.jsx)(tl.default,{className:"w-5 h-5"}),"Call"]}):(0,t.jsxs)("button",{onClick:()=>{i("idle"),l("")},className:"w-full bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white py-4 rounded-2xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-red-500/30 flex items-center justify-center gap-2 transition-all",children:[(0,t.jsx)(Q.Phone,{className:"w-5 h-5 rotate-[135deg]"}),"End Call"]})})]})}function sc(){let[e,a]=(0,s.useState)("inbound"),[l,r]=(0,s.useState)(!1),[i,d]=(0,s.useState)(!1),[o,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[w,k]=(0,s.useState)(null),[A,T]=(0,s.useState)({alias:"",number:"",greeting:"",routing:"",hours:""}),[P,I]=(0,s.useState)({name:"",type:"sales",contacts:0,script:"",cps:10,retries:3}),[M,D]=(0,s.useState)(null),[R,L]=(0,s.useState)(!1),[F,$]=(0,s.useState)(null),[q,U]=(0,s.useState)({name:"",proxyNumber:"",userNumber:"",providerNumber:"",ttl:"1h"}),[O,V]=(0,s.useState)([{id:1,name:"Uber Ride Session",proxyNumber:"+60 3-2001-0001",userNumber:"+60 12-3456-7890",providerNumber:"+60 11-8765-4321",ttl:"1h",status:"active",calls:12,duration:"45m 23s"},{id:2,name:"Food Delivery Order",proxyNumber:"+60 3-2001-0002",userNumber:"+60 12-3456-7891",providerNumber:"+60 11-9876-5432",ttl:"30m",status:"active",calls:5,duration:"18m 12s"},{id:3,name:"OTP Verification",proxyNumber:"+60 3-2001-0003",userNumber:"+60 13-7946-0958",providerNumber:"+60 14-7946-0123",ttl:"10m",status:"expired",calls:3,duration:"2m 45s"},{id:4,name:"Sales Outreach Campaign",proxyNumber:"+60 3-2001-0004",userNumber:"+60 12-1112-2222",providerNumber:"+60 19-9998-8888",ttl:"24h",status:"active",calls:28,duration:"2h 15m"},{id:5,name:"Real Estate Inquiry",proxyNumber:"+60 3-2001-0005",userNumber:"+60 17-7776-6666",providerNumber:"+60 16-4443-3333",ttl:"1h",status:"active",calls:8,duration:"32m 56s"}]),[z,B]=(0,s.useState)(!1),[K,W]=(0,s.useState)("web"),[G,X]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),[Y,Z]=(0,s.useState)(null),[ee,et]=(0,s.useState)("whisper"),[es,ea]=(0,s.useState)([{id:1,callId:"CALL-2024-001",agentName:"Sarah Chen",agentNumber:"+60 12-3456-7890",customerNumber:"+60 11-2233-4455",supervisorName:"John Smith",mode:"whisper",status:"active",duration:"5m 23s",startTime:"14:32",notes:["Customer asking about pricing","Escalation needed"]},{id:2,callId:"CALL-2024-002",agentName:"Ahmad Rahman",agentNumber:"+60 13-5678-9012",customerNumber:"+60 12-8877-6655",supervisorName:"Lisa Wong",mode:"listen",status:"active",duration:"2m 15s",startTime:"14:38",notes:["Training session"]},{id:3,callId:"CALL-2024-003",agentName:"Mei Ling",agentNumber:"+60 14-2345-6789",customerNumber:"+60 19-4433-2211",supervisorName:"John Smith",mode:"barge",status:"active",duration:"8m 47s",startTime:"14:25",notes:["Complex technical issue","Manager joined"]}]),[er,ei]=(0,s.useState)([{callId:"CALL-2024-004",agentName:"David Tan",customerNumber:"+60 11-5566-7788",duration:"1m 12s",queue:"Sales"},{callId:"CALL-2024-005",agentName:"Priya Kumar",customerNumber:"+60 12-9988-7766",duration:"3m 45s",queue:"Support"},{callId:"CALL-2024-006",agentName:"Wei Zhang",customerNumber:"+60 13-3344-5566",duration:"0m 38s",queue:"Billing"}]),[en,ed]=(0,s.useState)(!1),[ec,eo]=(0,s.useState)(!1),[ex,em]=(0,s.useState)(null),[eh,eu]=(0,s.useState)({name:"",source:"",channel:"",trackingNumbers:"",goal:""}),[ep,eg]=(0,s.useState)([{id:1,name:"Google PPC Q1 2024",trackingNumbers:["+60 3-2100-0001","+60 3-2100-0002"],source:"Google Ads",channel:"PPC",callCount:892,conversions:178,conversionRate:20,avgDuration:"4m 32s",costPerLead:18.5,totalRevenue:45600,roi:2.8,status:"active",created:"2024-01-15"},{id:2,name:"Facebook Lead Gen",trackingNumbers:["+60 3-2100-0003","+60 3-2100-0004","+60 3-2100-0005"],source:"Facebook",channel:"Social",callCount:654,conversions:124,conversionRate:19,avgDuration:"3m 18s",costPerLead:22.3,totalRevenue:31200,roi:2.1,status:"active",created:"2024-01-20"},{id:3,name:"Organic SEO Traffic",trackingNumbers:["+60 3-2100-0006"],source:"Google Organic",channel:"SEO",callCount:1247,conversions:287,conversionRate:23,avgDuration:"5m 45s",costPerLead:8.2,totalRevenue:68400,roi:4.5,status:"active",created:"2024-01-10"},{id:4,name:"LinkedIn B2B Campaign",trackingNumbers:["+60 3-2100-0007","+60 3-2100-0008"],source:"LinkedIn",channel:"Social",callCount:234,conversions:45,conversionRate:19.2,avgDuration:"6m 12s",costPerLead:45.8,totalRevenue:22500,roi:1.8,status:"paused",created:"2024-02-01"}]),[eb,ef]=(0,s.useState)([{alias:"Main Office Line",number:"+60 3-1234-5678",dest:"Smart IVR Flow",active:12,status:"active",greeting:"Welcome to Acme Corp",routing:"IVR Menu"},{alias:"Support Hotline",number:"+60 3-9876-5432",dest:"Queue: Tier 1",active:8,status:"active",greeting:"Thank you for calling support",routing:"Agent Queue"},{alias:"Sales Department",number:"+60 3-5555-1234",dest:"Round Robin",active:5,status:"active",greeting:"Sales team speaking",routing:"Round Robin"},{alias:"Emergency Hotline",number:"+60 3-9119-0000",dest:"Priority Queue",active:3,status:"active",greeting:"Emergency services",routing:"Priority Routing"},{alias:"Customer Service UK",number:"+44 20 7123 4567",dest:"UK Support Team",active:15,status:"active",greeting:"Hello, you've reached UK support",routing:"Skills-based"}]),[eN,ev]=(0,s.useState)([{name:"Q1 Sales Promo",contacts:1250,completed:892,success:487,status:"active",avgDuration:"3m 45s",conversionRate:"54.6%"},{name:"Customer Satisfaction Survey",contacts:5e3,completed:3200,success:2880,status:"active",avgDuration:"2m 20s",conversionRate:"90.0%"},{name:"Payment Reminder Campaign",contacts:800,completed:650,success:520,status:"completed",avgDuration:"1m 50s",conversionRate:"80.0%"},{name:"New Product Launch",contacts:2500,completed:450,success:180,status:"active",avgDuration:"4m 10s",conversionRate:"40.0%"},{name:"Appointment Reminders",contacts:1500,completed:1500,success:1425,status:"completed",avgDuration:"1m 15s",conversionRate:"95.0%"}]);(0,s.useEffect)(()=>{r(!0)},[]);let ew=[{id:"inbound",label:"Inbound Flows",icon:tB.default},{id:"outbound",label:"Outbound Campaign",icon:tK.default},{id:"recordings",label:"Call Recordings",icon:tc.default},{id:"click2call",label:"Click to Call",icon:tW.default},{id:"masking",label:"Identity Protection",icon:tH.default},{id:"whisper",label:"Call Whisper",icon:tX.default},{id:"tracking",label:"Call Tracking",icon:eR.BarChart3}];return l?(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c min-h-screen bg-[#01140f] p-8 pb-20 overflow-x-hidden",children:[(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c fixed top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[1000px] bg-cyan-500/10 rounded-full blur-[120px] pointer-events-none -z-10"}),(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c fixed bottom-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[100px] pointer-events-none -z-10"}),(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c max-w-[1400px] mx-auto",children:[(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c mb-8 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c",children:[(0,t.jsx)("h1",{className:"jsx-a54f60f4c5f8d68c text-4xl font-black text-white mb-2",children:"Voice API"}),(0,t.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-slate-400",children:"Manage your voice communication infrastructure"})]}),(0,t.jsxs)("button",{onClick:()=>b(!g),className:"jsx-a54f60f4c5f8d68c bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all",children:[(0,t.jsx)(Q.Phone,{className:"w-5 h-5"}),g?"Close":"Open"," Dialpad"]})]}),(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{label:"Carrier Latency",value:"< 20ms",icon:m.default,color:"cyan"},{label:"Global Compliance",value:"SOC 2/GDPR",icon:tH.default,color:"emerald"},{label:"Uptime SLA",value:"99.99%",icon:v.CheckCircle,color:"blue"},{label:"HD Audio Codec",value:"Opus/G.722",icon:tc.default,color:"indigo"}].map((e,s)=>(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c flex items-center gap-4 py-4 px-6 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-md",children:[(0,t.jsx)("div",{className:`jsx-a54f60f4c5f8d68c text-${e.color}-400`,children:(0,t.jsx)(e.icon,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c",children:[(0,t.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-[10px] uppercase font-black tracking-widest text-slate-500",children:e.label}),(0,t.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-sm font-bold text-white",children:e.value})]})]},s))}),(0,t.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c w-full overflow-x-auto",children:(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c flex gap-2 p-2 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-xl shadow-2xl min-w-max",children:ew.map(s=>{let l=s.icon,r=e===s.id;return(0,t.jsxs)("button",{onClick:()=>a(s.id),className:`jsx-a54f60f4c5f8d68c nav-glass-btn flex items-center gap-3 px-6 py-3 rounded-xl transition-all duration-300 group relative whitespace-nowrap ${r?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/30 font-bold":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[(0,t.jsx)(l,{className:`jsx-a54f60f4c5f8d68c w-5 h-5 transition-transform group-hover:scale-110 ${r?"text-white":"text-cyan-400"}`}),(0,t.jsx)("span",{className:"jsx-a54f60f4c5f8d68c text-sm font-semibold",children:s.label}),r&&(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-white rounded-full shadow-[0_0_10px_white]"})]},s.id)})})}),(0,t.jsx)("div",{className:"jsx-a54f60f4c5f8d68c w-full",children:(()=>{switch(e){case"inbound":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Total Flows",value:eb.length.toString(),change:"+2",color:"from-cyan-500/20 to-blue-500/20"},{label:"Active Calls",value:eb.reduce((e,t)=>e+t.active,0).toString(),change:"+15%",color:"from-purple-500/20 to-pink-500/20"},{label:"Success Rate",value:"94.2%",change:"+2.1%",color:"from-green-500/20 to-emerald-500/20"}].map((e,s)=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${e.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:e.label}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.value}),(0,t.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${e.change.startsWith("+")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.change})]})]},s))}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/5",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(tB.default,{className:"w-5 h-5 text-cyan-400"}),"Active Inbound Flows"]}),(0,t.jsxs)("button",{onClick:()=>d(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-xl transition-all shadow-lg shadow-cyan-500/20 flex items-center gap-2 text-sm font-bold uppercase tracking-wider",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Inbound Flow"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Alias"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Virtual Number"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Greeting"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Routing Type"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Active Calls"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:eb.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:e.alias}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-cyan-400",children:e.number}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.greeting}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-indigo-500/20 text-indigo-400 rounded-lg text-xs font-semibold",children:e.routing})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.active}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===e.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>k(e),className:"p-2 hover:bg-white/10 rounded-lg text-cyan-400 transition-colors",title:"View Settings",children:(0,t.jsx)(c.Settings,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this inbound flow?")&&ef(e=>e.filter((e,t)=>t!==s))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},s))})]})})]}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Inbound Flow"}),(0,t.jsx)("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Flow Name"}),(0,t.jsx)("input",{type:"text",value:A.name,onChange:e=>T(t=>({...t,name:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"e.g., Customer Support Line"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Virtual Number"}),(0,t.jsx)("input",{type:"text",value:A.number,onChange:e=>T(t=>({...t,number:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"+60 3-XXXX-XXXX"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Greeting Message"}),(0,t.jsx)("textarea",{rows:3,value:A.greeting,onChange:e=>T(t=>({...t,greeting:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"Thank you for calling..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Routing Type"}),(0,t.jsxs)("select",{value:A.routing,onChange:e=>T(t=>({...t,routing:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"IVR Menu",children:"IVR Menu"}),(0,t.jsx)("option",{value:"Agent Queue",children:"Agent Queue"}),(0,t.jsx)("option",{value:"Round Robin",children:"Round Robin"}),(0,t.jsx)("option",{value:"Skills-based",children:"Skills-based"}),(0,t.jsx)("option",{value:"Priority Routing",children:"Priority Routing"}),(0,t.jsx)("option",{value:"Direct Transfer",children:"Direct Transfer"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>d(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!A.name||!A.number)return void alert("Please fill in at least the flow name and number");let e={alias:A.name,number:A.number,greeting:A.greeting||"Welcome",routing:A.routing,active:0,status:"active",dest:A.routing};ef(t=>[...t,e]),T({name:"",number:"",greeting:"",routing:"IVR Menu",hours:""}),d(!1)},className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-cyan-500/30 transition-all",children:"Create Flow"})]})]})]})}),w&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Flow Configuration"}),(0,t.jsx)("button",{onClick:()=>k(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Flow Name"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:w.alias})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Virtual Number"}),(0,t.jsx)("p",{className:"text-cyan-400 font-mono",children:w.number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Routing Type"}),(0,t.jsx)("p",{className:"text-white",children:w.routing})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===w.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===w.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),w.status]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Greeting Message"}),(0,t.jsx)("p",{className:"text-slate-300",children:w.greeting})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Active Calls"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:w.active})]}),(0,t.jsx)("button",{onClick:()=>k(null),className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"outbound":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Active Campaigns",value:eN.filter(e=>"active"===e.status).length.toString(),change:"+2",color:"from-blue-500/20 to-indigo-500/20"},{label:"Calls Today",value:"2,450",change:"+18%",color:"from-purple-500/20 to-pink-500/20"},{label:"Success Rate",value:"76.8%",change:"+3.2%",color:"from-green-500/20 to-emerald-500/20"}].map((e,s)=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${e.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:e.label}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.value}),(0,t.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${e.change.startsWith("+")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.change})]})]},s))}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/5",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(tK.default,{className:"w-5 h-5 text-blue-400"}),"Outbound Campaigns"]}),(0,t.jsxs)("button",{onClick:()=>h(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2 text-sm font-bold uppercase tracking-wider",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Campaign"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Contacts"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Completed"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Success"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Avg Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Conversion"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:eN.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.contacts.toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.completed.toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.success.toLocaleString()}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-cyan-400",children:e.avgDuration}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${parseFloat(e.conversionRate)>=80?"bg-green-500/20 text-green-400":parseFloat(e.conversionRate)>=50?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.conversionRate})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===e.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>D(e),className:"p-2 hover:bg-white/10 rounded-lg text-blue-400 transition-colors",title:"View Details",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this campaign?")&&ev(e=>e.filter((e,t)=>t!==s))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},s))})]})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Outbound Campaign"}),(0,t.jsx)("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",value:P.name,onChange:e=>I(t=>({...t,name:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Summer Promotion 2026"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Campaign Type"}),(0,t.jsxs)("select",{value:P.type,onChange:e=>I(t=>({...t,type:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"sales",children:"Sales Outreach"}),(0,t.jsx)("option",{value:"survey",children:"Customer Survey"}),(0,t.jsx)("option",{value:"reminder",children:"Payment Reminder"}),(0,t.jsx)("option",{value:"notification",children:"Mass Notification"}),(0,t.jsx)("option",{value:"appointment",children:"Appointment Confirmation"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Number of Contacts"}),(0,t.jsx)("input",{type:"number",value:P.contacts||"",onChange:e=>I(t=>({...t,contacts:parseInt(e.target.value)||0})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100",min:"1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Message Script"}),(0,t.jsx)("textarea",{rows:4,value:P.script,onChange:e=>I(t=>({...t,script:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Hello, this is..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Call Rate (CPS)"}),(0,t.jsx)("input",{type:"number",value:P.cps,onChange:e=>I(t=>({...t,cps:parseInt(e.target.value)||10})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"50"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Max Retries"}),(0,t.jsx)("input",{type:"number",value:P.retries,onChange:e=>I(t=>({...t,retries:parseInt(e.target.value)||3})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"5"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>h(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!P.name)return void alert("Please enter a campaign name");let e={name:P.name,contacts:P.contacts||100,completed:0,success:0,avgDuration:"0m 0s",conversionRate:"0%",status:"active"};ev(t=>[...t,e]),I({name:"",type:"sales",contacts:0,script:"",cps:10,retries:3}),h(!1)},className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-blue-500/30 transition-all",children:"Create Campaign"})]})]})]})}),M&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-blue-500/10 to-indigo-500/10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Campaign Details"}),(0,t.jsx)("button",{onClick:()=>D(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Campaign Name"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:M.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===M.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===M.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),M.status]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Contacts"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:M.contacts.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Completed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-white",children:M.completed.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Success Count"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-400",children:M.success.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Conversion Rate"}),(0,t.jsx)("p",{className:`text-2xl font-bold ${parseFloat(M.conversionRate)>=80?"text-green-400":parseFloat(M.conversionRate)>=50?"text-yellow-400":"text-red-400"}`,children:M.conversionRate})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Average Call Duration"}),(0,t.jsx)("p",{className:"text-lg font-mono text-cyan-400",children:M.avgDuration})]}),(0,t.jsx)("button",{onClick:()=>D(null),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"ivr":return(0,t.jsx)("div",{className:"h-[calc(100vh-400px)] min-h-[600px]",children:(0,t.jsx)(si,{})});case"recordings":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Cloud Call Recordings"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by number...",className:"bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-sm text-white focus:border-cyan-500 outline-none w-64"})]}),(0,t.jsx)("button",{className:"p-2 bg-white/5 border border-white/10 rounded-xl text-slate-400 hover:text-white",children:(0,t.jsx)(tG.default,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Timestamp"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Direction"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Parties"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sentiment"}),(0,t.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:[{id:1,time:"Today, 10:45 AM",dir:"Inbound",from:"+1...4567",to:"+1...9901",dur:"5m 20s",sentiment:"Positive"},{id:2,time:"Today, 10:30 AM",dir:"Outbound",from:"+1...8822",to:"+44...1234",dur:"0m 45s",sentiment:"Neutral"},{id:3,time:"Yesterday, 4:12 PM",dir:"Inbound",from:"+60...7766",to:"+60...0000",dur:"12m 10s",sentiment:"Negative"}].map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.time}),(0,t.jsx)("td",{className:"px-6 py-4",children:"Inbound"===e.dir?(0,t.jsx)(tB.default,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(tK.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,t.jsx)("span",{className:"text-white",children:e.from}),(0,t.jsx)("span",{className:"text-slate-600",children:"â†’"}),(0,t.jsx)("span",{className:"text-white",children:e.to})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.dur}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight ${"Positive"===e.sentiment?"bg-green-500/20 text-green-400":"Negative"===e.sentiment?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.sentiment})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{var t;f===(t=e.id)?j(null):(j(t),setTimeout(()=>{j(null)},3e3))},className:`transition-colors ${f===e.id?"text-green-400 hover:text-green-300":"text-cyan-400 hover:text-cyan-300"}`,title:f===e.id?"Stop":"Play",children:f===e.id?(0,t.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse"})}):(0,t.jsx)(eD.Play,{className:"w-4 h-4 fill-current"})}),(0,t.jsx)("button",{onClick:()=>{let t,s,a;return t=new Blob([`Call Recording
Time: ${e.time}
Direction: ${e.dir}
From: ${e.from}
To: ${e.to}
Duration: ${e.dur}
Sentiment: ${e.sentiment}`],{type:"text/plain"}),s=URL.createObjectURL(t),void((a=document.createElement("a")).href=s,a.download=`recording-${e.id}-${e.time.replace(/[^a-zA-Z0-9]/g,"_")}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s))},className:"text-slate-400 hover:text-white transition-colors",title:"Download Recording",children:(0,t.jsx)(x.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]});case"masking":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-2xl shadow-orange-500/20 border border-white/20",children:(0,t.jsx)(tH.default,{className:"w-12 h-12 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Identity Protection"}),(0,t.jsx)("p",{className:"text-slate-400 font-medium",children:"Anonymize conversations between users and providers without exposing real phone numbers."})]}),(0,t.jsxs)("button",{onClick:()=>L(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-xl transition-all shadow-lg shadow-orange-500/20 flex items-center gap-2 font-bold uppercase tracking-wider",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Proxy"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Proxies",value:O.length.toString(),color:"from-orange-500/20 to-red-500/20"},{label:"Active Sessions",value:O.filter(e=>"active"===e.status).length.toString(),color:"from-green-500/20 to-emerald-500/20"},{label:"Total Calls Today",value:O.reduce((e,t)=>e+t.calls,0).toString(),color:"from-blue-500/20 to-cyan-500/20"},{label:"Privacy Score",value:"98.2%",color:"from-purple-500/20 to-pink-500/20"}].map((e,s)=>(0,t.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${e.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-2",children:e.label}),(0,t.jsx)("h3",{className:"text-3xl font-bold text-white",children:e.value})]},s))}),(0,t.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5",children:(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-orange-400"}),"Active Proxy Sessions"]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-white/5",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Session Name"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Proxy Number"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"User â†’ Provider"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"TTL"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Calls"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Duration"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/10",children:O.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-orange-400",children:e.proxyNumber}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,t.jsx)("span",{className:"text-cyan-400",children:e.userNumber}),(0,t.jsx)("span",{className:"text-slate-600",children:"â†’"}),(0,t.jsx)("span",{className:"text-green-400",children:e.providerNumber})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 rounded-lg text-xs font-semibold",children:e.ttl})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:e.calls}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-slate-300",children:e.duration}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===e.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),e.status]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("button",{onClick:()=>$(e),className:"p-2 hover:bg-white/10 rounded-lg text-orange-400 transition-colors",title:"View Details",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this proxy?")&&V(e=>e.filter((e,t)=>t!==s))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,t.jsx)("div",{className:"glass-card p-8 rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-4 bg-orange-500/20 rounded-2xl border border-orange-500/20",children:(0,t.jsx)(tX.default,{className:"w-8 h-8 text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-bold text-xl leading-none mb-1",children:"Session TTL Config"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Define how long proxy numbers remain active."})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 bg-black/40 p-1 rounded-xl border border-white/10",children:["10m","30m","1h","24h","Custom"].map(e=>(0,t.jsx)("button",{className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${"1h"===e?"bg-orange-500 text-white":"text-slate-500 hover:text-white"}`,children:e},e))})]})}),R&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Proxy Session"}),(0,t.jsx)("button",{onClick:()=>L(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Session Name"}),(0,t.jsx)("input",{type:"text",value:q.name,onChange:e=>U(t=>({...t,name:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., Delivery Order #12345"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Proxy Number"}),(0,t.jsx)("input",{type:"text",value:q.proxyNumber,onChange:e=>U(t=>({...t,proxyNumber:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 3-XXXX-XXXX"}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"The masked number that will be displayed to both parties"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"User Number"}),(0,t.jsx)("input",{type:"text",value:q.userNumber,onChange:e=>U(t=>({...t,userNumber:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 1X-XXXX-XXXX"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Provider Number"}),(0,t.jsx)("input",{type:"text",value:q.providerNumber,onChange:e=>U(t=>({...t,providerNumber:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 1X-XXXX-XXXX"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Time to Live (TTL)"}),(0,t.jsxs)("select",{value:q.ttl,onChange:e=>U(t=>({...t,ttl:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,t.jsx)("option",{value:"10m",children:"10 minutes"}),(0,t.jsx)("option",{value:"30m",children:"30 minutes"}),(0,t.jsx)("option",{value:"1h",children:"1 hour"}),(0,t.jsx)("option",{value:"24h",children:"24 hours"}),(0,t.jsx)("option",{value:"7d",children:"7 days"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{onClick:()=>L(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!q.name||!q.proxyNumber)return void alert("Please enter proxy name and number");let e={id:O.length+1,name:q.name,proxyNumber:q.proxyNumber,userNumber:q.userNumber,providerNumber:q.providerNumber,ttl:q.ttl,status:"active",calls:0,duration:"0m 0s"};V(t=>[...t,e]),U({name:"",proxyNumber:"",userNumber:"",providerNumber:"",ttl:"1h"}),L(!1)},className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/30 transition-all",children:"Create Proxy"})]})]})]})}),F&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-orange-500/10 to-red-500/10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Proxy Session Details"}),(0,t.jsx)("button",{onClick:()=>$(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Session Name"}),(0,t.jsx)("p",{className:"text-white font-semibold text-lg",children:F.name})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Proxy Number"}),(0,t.jsx)("p",{className:"text-orange-400 font-mono text-lg",children:F.proxyNumber})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,t.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===F.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,t.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===F.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),F.status]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-white/5",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Connection Mapping"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"User"}),(0,t.jsx)("p",{className:"text-cyan-400 font-mono text-sm",children:F.userNumber})]}),(0,t.jsx)("div",{className:"text-slate-600",children:"âŸ·"}),(0,t.jsxs)("div",{className:"flex-1 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Proxy"}),(0,t.jsx)("p",{className:"text-orange-400 font-mono text-sm",children:F.proxyNumber})]}),(0,t.jsx)("div",{className:"text-slate-600",children:"âŸ·"}),(0,t.jsxs)("div",{className:"flex-1 text-right",children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Provider"}),(0,t.jsx)("p",{className:"text-green-400 font-mono text-sm",children:F.providerNumber})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"TTL"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:F.ttl})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Calls"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:F.calls})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Duration"}),(0,t.jsx)("p",{className:"text-white font-semibold font-mono",children:F.duration})]})]}),(0,t.jsx)("button",{onClick:()=>$(null),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"click2call":let s,a;return s={web:`<!-- Click to Call Web SDK -->
<script src="https://cdn.acmecpaas.com/c2c-sdk.js"></script>
<script>
  // Initialize Click to Call Widget
  const c2c = new ClickToCallSDK({
    apiKey: 'YOUR_API_KEY',
    phoneNumber: '+60-3-XXXX-XXXX',
    theme: 'glass', // 'standard' | 'glass' | 'neumorphic' | 'minimal'
    position: 'bottom-right',
    
    // Customization
    brandColor: '#8b5cf6',
    brandName: 'Acme Corp',
    greeting: 'Need help? Click to call us!',
    
    // CRM Integration
    onCallStart: (callData) => {
      console.log('Call started:', callData);
      // Log to CRM
    },
    onCallEnd: (callData) => {
      console.log('Call ended:', callData);
      // Update CRM record
    },
    
    // WebRTC Configuration (optional)
    enableWebRTC: true,
    stunServers: ['stun:stun.l.google.com:19302']
  });
  
  // Initialize the widget
  c2c.init();
  
  // Available methods:
  // c2c.show() - Show widget
  // c2c.hide() - Hide widget
  // c2c.call(number) - Initiate call
  // c2c.destroy() - Remove widget
</script>`,android:`// Click to Call Android SDK (Kotlin)
// Add to build.gradle
dependencies {
    implementation 'com.acmecpaas:clicktocall:1.0.0'
}

// Initialize in Application class
class MyApp : Application() {
    override fun onCreate() {
        super.onCreate()
        
        ClickToCall.initialize(
            context = this,
            config = ClickToCallConfig(
                apiKey = "YOUR_API_KEY",
                phoneNumber = "+60-3-XXXX-XXXX",
                theme = ClickToCallTheme.MATERIAL_YOU,
                brandColor = Color(0xFF8B5CF6)
            )
        )
    }
}

// In your Activity/Fragment
class MainActivity : AppCompatActivity() {
    private lateinit var c2c: ClickToCallWidget
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Create floating widget
        c2c = ClickToCallWidget(this)
        c2c.setCallbacks(object : CallCallback {
            override fun onCallStarted(call: CallData) {
                // Log to analytics
                logCallEvent("call_started", call)
            }
            
            override fun onCallEnded(call: CallData) {
                // Update CRM
                updateCRMRecord(call)
            }
        })
        
        // Show widget
        c2c.show()
    }
    
    // Programmatic call
    fun makeCall(number: String) {
        c2c.initiateCall(number)
    }
}`,ios:`// Click to Call iOS SDK (Swift)
// Add to Package.swift or Podfile
dependencies: [
    .package(url: "https://github.com/acmecpaas/clicktocall-ios", from: "1.0.0")
]

import ClickToCallSDK
import SwiftUI

@main
struct MyApp: App {
    init() {
        // Initialize SDK
        ClickToCall.shared.configure(
            apiKey: "YOUR_API_KEY",
            phoneNumber: "+60-3-XXXX-XXXX",
            config: C2CConfiguration(
                theme: .glassmorphism,
                brandColor: .purple,
                position: .bottomTrailing
            )
        )
    }
    
    var body: some Scene {
        WindowGroup {
            ContentView()
                .clickToCallWidget() // Add floating widget
        }
    }
}

// SwiftUI View Integration
struct ContentView: View {
    @StateObject private var c2c = ClickToCall.shared
    
    var body: some View {
        VStack {
            // Your content
            
            // Inline call button
            Button("Call Support") {
                c2c.initiateCall(number: "+60-3-1234-5678")
            }
        }
        .onCallEvent { event in
            switch event {
            case .started(let callData):
                // Analytics logging
                Analytics.log("call_started", data: callData)
            case .ended(let callData):
                // CRM update
                CRM.updateRecord(callData)
            }
        }
    }
}

// CallKit Integration
extension ClickToCall {
    func setupCallKit() {
        let provider = CXProvider(configuration: providerConfiguration)
        let controller = CXCallController()
        // CallKit integration handled automatically
    }
}`,windows:`// Click to Call Windows SDK (C#/.NET)
// Install via NuGet
// Install-Package AcmeCPaaS.ClickToCall

using AcmeCPaaS.ClickToCall;
using System.Windows;

namespace MyApp
{
    public partial class App : Application
    {
        protected override void OnStartup(StartupEventArgs e)
        {
            base.OnStartup(e);
            
            // Initialize Click to Call SDK
            var config = new C2CConfiguration
            {
                ApiKey = "YOUR_API_KEY",
                PhoneNumber = "+60-3-XXXX-XXXX",
                Theme = C2CTheme.ModernFluent,
                BrandColor = Colors.Purple,
                Position = WidgetPosition.BottomRight
            };
            
            ClickToCallManager.Initialize(config);
            
            // Set up event handlers
            ClickToCallManager.OnCallStarted += (sender, args) =>
            {
                // Log to analytics
                Analytics.TrackEvent("CallStarted", args.CallData);
            };
            
            ClickToCallManager.OnCallEnded += (sender, args) =>
            {
                // Update CRM
                CRMService.UpdateContact(args.CallData);
            };
        }
    }
    
    // In your Window/UserControl
    public partial class MainWindow : Window
    {
        private ClickToCallWidget _widget;
        
        public MainWindow()
        {
            InitializeComponent();
            
            // Create floating widget
            _widget = new ClickToCallWidget();
            _widget.Show();
        }
        
        // Programmatic call
        private void CallButton_Click(object sender, RoutedEventArgs e)
        {
            ClickToCallManager.InitiateCall("+60-3-1234-5678");
        }
        
        // System tray integration
        private void SetupTrayIcon()
        {
            var trayIcon = new NotifyIcon
            {
                Icon = Resources.AppIcon,
                Visible = true
            };
            
            var menu = new ContextMenuStrip();
            menu.Items.Add("Quick Call", null, (s, e) => _widget.Show());
            trayIcon.ContextMenuStrip = menu;
        }
    }
}`,macos:`// Click to Call macOS SDK (Swift)
// Add via Swift Package Manager
dependencies: [
    .package(url: "https://github.com/acmecpaas/clicktocall-macos", from: "1.0.0")
]

import Cocoa
import ClickToCallSDK

@main
class AppDelegate: NSObject, NSApplicationDelegate {
    var statusItem: NSStatusItem?
    var c2cManager: ClickToCallManager?
    
    func applicationDidFinishLaunching(_ notification: Notification) {
        // Initialize SDK
        let config = C2CConfiguration(
            apiKey: "YOUR_API_KEY",
            phoneNumber: "+60-3-XXXX-XXXX",
            theme: .aqua,
            brandColor: .systemPurple
        )
        
        c2cManager = ClickToCallManager.shared
        c2cManager?.configure(with: config)
        
        // Menu bar integration
        setupMenuBar()
        
        // Event handlers
        c2cManager?.onCallStarted = { callData in
            // Analytics
            Analytics.track("call_started", properties: callData.dictionary)
        }
        
        c2cManager?.onCallEnded = { callData in
            // CRM update
            CRMService.shared.updateContact(with: callData)
        }
    }
    
    private func setupMenuBar() {
        statusItem = NSStatusBar.system.statusItem(
            withLength: NSStatusItem.squareLength
        )
        
        if let button = statusItem?.button {
            button.image = NSImage(systemSymbolName: "phone.fill", 
                                   accessibilityDescription: "Click to Call")
        }
        
        let menu = NSMenu()
        menu.addItem(NSMenuItem(
            title: "Quick Call",
            action: #selector(quickCall),
            keyEquivalent: "c"
        ))
        menu.addItem(NSMenuItem.separator())
        menu.addItem(NSMenuItem(
            title: "Quit",
            action: #selector(NSApplication.terminate(_:)),
            keyEquivalent: "q"
        ))
        
        statusItem?.menu = menu
    }
    
    @objc func quickCall() {
        c2cManager?.showCallWidget()
    }
}

// SwiftUI View Integration
import SwiftUI

struct ContentView: View {
    @StateObject private var c2c = ClickToCallManager.shared
    
    var body: some View {
        VStack {
            Button("Call Support") {
                c2c.initiateCall(number: "+60-3-1234-5678")
            }
            .clickToCallButton(style: .primary)
        }
        .frame(minWidth: 400, minHeight: 300)
    }
}`},a={web:{name:"Web / CRM",icon:E.Globe,color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/20"},android:{name:"Android",icon:Q.Phone,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/20"},ios:{name:"iOS",icon:Q.Phone,color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/20"},windows:{name:"Windows",icon:el.default,color:"text-cyan-400",bgColor:"bg-cyan-500/20",borderColor:"border-cyan-500/20"},macos:{name:"macOS",icon:el.default,color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/20"}},(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"glass-card p-8 rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-2xl border-l-4 border-l-purple-500",children:[(0,t.jsx)("h3",{className:"text-2xl font-black text-white mb-4",children:"Widget Generator"}),(0,t.jsx)("p",{className:"text-slate-400 mb-8",children:"Generate a highly customizable floating button or inline element for your website."}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Theme Interface"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["Standard","Glass","Neumorphic","Minimal"].map(e=>(0,t.jsx)("button",{className:`py-3 rounded-xl border text-[10px] uppercase font-black transition-all ${"Glass"===e?"bg-purple-500 border-purple-400 text-white shadow-lg shadow-purple-500/20":"bg-white/5 border-white/10 text-slate-400"}`,children:e},e))})]}),(0,t.jsx)("button",{onClick:()=>B(!0),className:"w-full bg-gradient-to-r from-purple-500 to-indigo-600 text-white py-4 rounded-2xl font-black uppercase text-sm tracking-widest shadow-xl shadow-purple-500/20 hover:scale-[1.02] transition-transform",children:"Generate Snippet"})]})]}),(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl",children:[(0,t.jsxs)("h4",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(ej.Info,{className:"w-4 h-4 text-purple-400"}),"Integration Guide"]}),(0,t.jsx)("div",{className:"space-y-3",children:["Paste the <script> in your <head>","Initialize with your unique API Key","Customize callbacks for CRM logging","Enable WebRTC for browser-based audio"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded-full bg-purple-500/10 border border-purple-500/20 flex items-center justify-center text-xs font-black text-purple-400 flex-shrink-0",children:s+1}),e]},s))})]})]}),(0,t.jsxs)("div",{className:"glass-card bg-slate-900/40 border border-white/10 rounded-3xl overflow-hidden p-0 flex flex-col items-center justify-center min-h-[500px] relative shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-500/10 via-transparent to-indigo-500/10"}),(0,t.jsxs)("div",{className:"text-center space-y-4 px-8 z-10",children:[(0,t.jsx)("h4",{className:"text-xs font-black text-purple-400 uppercase tracking-[0.3em]",children:"Live Preview"}),(0,t.jsxs)("div",{className:"w-64 h-96 bg-[#0a0a0a] rounded-[3rem] border-8 border-slate-800 shadow-2xl relative overflow-hidden flex flex-col items-center justify-center p-6 text-center transform rotate-2",children:[(0,t.jsx)("div",{className:"w-20 h-1 bg-slate-800 rounded-full absolute top-4"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-tr from-purple-500 to-indigo-600 rounded-full mx-auto flex items-center justify-center shadow-lg shadow-purple-500/40",children:(0,t.jsx)(tB.default,{className:"w-8 h-8 text-white animate-bounce"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-white font-black text-sm uppercase",children:"Calling Local Agent"}),(0,t.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Your identity is protected"})]}),(0,t.jsxs)("div",{className:"pt-8 grid grid-cols-2 gap-2 w-full",children:[(0,t.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-purple-400 animate-[loading_2s_infinite]"})}),(0,t.jsx)("div",{className:"h-2 bg-white/10 rounded-full"})]})]})]}),(0,t.jsx)("p",{className:"text-slate-500 text-xs mt-4",children:"Demo showing mobile widget interface"})]})]})]}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Click to Call SDK Suite"}),(0,t.jsx)("button",{onClick:()=>B(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5",children:(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Object.entries(a).map(([e,s])=>(0,t.jsxs)("button",{onClick:()=>W(e),className:`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-all flex items-center gap-2 ${K===e?`${s.bgColor} ${s.color} border ${s.borderColor}`:"bg-white/5 text-slate-400 border border-white/10"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4"}),s.name]},e))})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"bg-slate-950 rounded-xl border border-white/10 overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-slate-900",children:[(0,t.jsxs)("span",{className:"text-sm font-mono text-slate-400",children:["web"===K&&"JavaScript/TypeScript","android"===K&&"Kotlin","ios"===K&&"Swift","windows"===K&&"C# / .NET","macos"===K&&"Swift"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{let e;return e=s[K],void navigator.clipboard.writeText(e)},className:"px-3 py-1.5 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[(0,t.jsx)(C.default,{className:"w-3 h-3"}),"Copy Code"]}),(0,t.jsxs)("button",{onClick:()=>{let e,t,a;return e=new Blob([s[K]],{type:"text/plain"}),t=URL.createObjectURL(e),void((a=document.createElement("a")).href=t,a.download=({web:"clicktocall-web-sdk.js",android:"clicktocall-android-sdk.aar",ios:"ClickToCallSDK.xcframework.zip",windows:"AcmeCPaaS.ClickToCall.nupkg",macos:"ClickToCallSDK.xcframework.zip"})[K],document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t))},className:"px-3 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[(0,t.jsx)(x.default,{className:"w-3 h-3"}),"Download SDK"]})]})]}),(0,t.jsx)("div",{className:"p-6 overflow-x-auto",children:(0,t.jsx)("pre",{className:"text-sm text-slate-300 font-mono leading-relaxed",children:(0,t.jsx)("code",{children:s[K]})})})]})}),(0,t.jsxs)("div",{className:"p-6 border-t border-white/10 bg-white/5",children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white mb-4",children:"SDK Features"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Call Initiation","Status Tracking","Number Masking","Analytics Hooks","Theme Customization","Multi-language","CRM Integration","WebRTC Support"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),e]},s))})]})]})})]});case"whisper":return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsxs)("div",{className:"glass-card p-10 rounded-[3rem] bg-gradient-to-br from-[#0f172a] to-[#1e293b] border border-white/10 backdrop-blur-3xl shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)] relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-cyan-500/10 rounded-full blur-[100px] -mr-32 -mt-32"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-12 relative z-10",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-8",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-cyan-500/10 border border-cyan-500/20 rounded-2xl",children:[(0,t.jsx)(tX.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("span",{className:"text-cyan-400 font-black text-xs uppercase tracking-widest",children:"Active Supervision"})]}),(0,t.jsxs)("h2",{className:"text-5xl font-black text-white tracking-tighter leading-[0.9]",children:["Real-time ",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"Call Coaching"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-lg leading-relaxed max-w-lg",children:'Guide your agents without the customer hearing. Enable "Listen", "Whisper", or "Barge" modes for mission-critical customer support.'}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsx)("button",{onClick:()=>{X(!0)},className:"px-8 py-4 bg-cyan-500 text-white rounded-2xl font-black uppercase text-sm tracking-widest shadow-lg shadow-cyan-500/30 hover:bg-cyan-600 transition-all",children:"Start Monitoring"}),(0,t.jsx)("button",{onClick:()=>{J(!0)},className:"px-8 py-4 bg-white/5 border border-white/10 text-white rounded-2xl font-black uppercase text-sm tracking-widest hover:bg-white/10 transition-all",children:"Setup Supervisor"})]})]}),(0,t.jsx)("div",{className:"w-full md:w-80 space-y-4",children:[{label:"Listen Mode",mode:"listen",icon:tc.default},{label:"Whisper Mode",mode:"whisper",icon:eU.Mic},{label:"Barge-In",mode:"barge",icon:ez.default}].map((e,s)=>(0,t.jsxs)("button",{onClick:()=>{var t;et(t=e.mode),Y&&(ea(es.map(e=>e.id===Y.id?{...e,mode:t}:e)),Z({...Y,mode:t}))},className:`w-full p-5 rounded-3xl border transition-all duration-500 flex items-center justify-between ${ee===e.mode?"bg-cyan-500/10 border-cyan-500/50 shadow-[0_0_20px_rgba(6,182,212,0.15)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-2xl ${ee===e.mode?"bg-cyan-500 text-white":"bg-slate-800 text-slate-500"}`,children:(0,t.jsx)(e.icon,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:`font-bold ${ee===e.mode?"text-white":"text-slate-500"}`,children:e.label})]}),ee===e.mode&&(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-ping"})]},s))})]})]}),(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Active Whisper Sessions"}),(0,t.jsxs)("span",{className:"text-xs text-slate-400",children:[es.filter(e=>"active"===e.status).length," Active"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[es.filter(e=>"active"===e.status).map(e=>(0,t.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:(0,t.jsx)(tX.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.agentName}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:e.callId})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"listen"===e.mode?"bg-blue-500/20 text-blue-400":"whisper"===e.mode?"bg-cyan-500/20 text-cyan-400":"bg-purple-500/20 text-purple-400"}`,children:e.mode.toUpperCase()}),(0,t.jsx)("span",{className:"text-xs text-slate-400",children:e.duration}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(ea(es.map(e=>e.id===t?{...e,status:"ended"}:e)),Y?.id===t&&Z(null))},className:"p-2 hover:bg-red-500/20 rounded-lg text-red-400 transition-all",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]})]}),e.notes.length>0&&(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10",children:(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Notes: ",e.notes.join(", ")]})})]},e.id)),0===es.filter(e=>"active"===e.status).length&&(0,t.jsx)("div",{className:"text-center py-8 text-slate-500",children:'No active whisper sessions. Click "Start Monitoring" to begin.'})]})]}),G&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-3xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Select Call to Monitor"}),(0,t.jsx)("button",{onClick:()=>X(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"p-6 max-h-96 overflow-y-auto",children:(0,t.jsx)("div",{className:"space-y-3",children:er.map((e,s)=>(0,t.jsx)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-white",children:e.agentName}),(0,t.jsxs)("p",{className:"text-sm text-slate-400",children:[e.callId," â€¢ ",e.queue," â€¢ ",e.duration]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.customerNumber})]}),(0,t.jsx)("button",{onClick:()=>{let t;return t={id:es.length+1,callId:e.callId,agentName:e.agentName,agentNumber:e.agentNumber||"+60 12-XXXX-XXXX",customerNumber:e.customerNumber,supervisorName:"Current User",mode:ee,status:"active",duration:"0m 00s",startTime:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),notes:[]},void(ea([...es,t]),Z(t),X(!1))},className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-bold transition-all",children:"Monitor"})]})},s))})})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Supervisor Configuration"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Supervisor Name"}),(0,t.jsx)("input",{type:"text",placeholder:"John Smith",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Extension/Number"}),(0,t.jsx)("input",{type:"text",placeholder:"+60 12-XXXX-XXXX",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Assigned Agents"}),(0,t.jsxs)("select",{multiple:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white h-32",children:[(0,t.jsx)("option",{children:"Sarah Chen"}),(0,t.jsx)("option",{children:"Ahmad Rahman"}),(0,t.jsx)("option",{children:"Mei Ling"}),(0,t.jsx)("option",{children:"David Tan"}),(0,t.jsx)("option",{children:"Priya Kumar"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Default Mode"}),(0,t.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"listen",children:"Listen Only"}),(0,t.jsx)("option",{value:"whisper",children:"Whisper to Agent"}),(0,t.jsx)("option",{value:"barge",children:"Barge-In (3-way)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>J(!1),className:"flex-1 px-4 py-3 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-bold transition-all",children:"Save Configuration"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})})]});case"tracking":let l;return l={totalCalls:ep.reduce((e,t)=>e+t.callCount,0),totalLeads:ep.reduce((e,t)=>e+t.conversions,0),avgConversionRate:(ep.reduce((e,t)=>e+t.conversionRate,0)/ep.length).toFixed(1),avgCostPerLead:(ep.reduce((e,t)=>e+t.costPerLead,0)/ep.length).toFixed(2)},(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Calls Tracked",value:l.totalCalls.toLocaleString(),icon:tB.default},{label:"Attributed Leads",value:l.totalLeads.toLocaleString(),icon:u.default},{label:"Conversion Rate",value:`${l.avgConversionRate}%`,icon:ez.default},{label:"Cost Per Lead",value:`RM ${l.avgCostPerLead}`,icon:ey.CreditCard}].map((e,s)=>(0,t.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl hover:translate-y-[-2px] transition-all",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(e.icon,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)(eR.BarChart3,{className:"w-4 h-4 text-slate-700"})]}),(0,t.jsx)("p",{className:"text-[10px] uppercase font-black tracking-widest text-slate-500 mb-1",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-black text-white",children:e.value})]},s))}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Tracking Campaigns"}),(0,t.jsxs)("button",{onClick:()=>eo(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-bold flex items-center gap-2 transition-all",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Create Campaign"]})]}),(0,t.jsx)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10",children:(0,t.jsx)("div",{className:"space-y-3",children:ep.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h4",{className:"font-bold text-white",children:e.name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${"active"===e.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.status.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[(0,t.jsxs)("span",{children:[e.source," â€¢ ",e.channel]}),(0,t.jsxs)("span",{children:[e.trackingNumbers.length," Number",e.trackingNumbers.length>1?"s":""]}),(0,t.jsxs)("span",{children:["Created ",e.created]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>em(e),className:"p-2 hover:bg-blue-500/20 rounded-lg text-blue-400 transition-all",title:"View Details",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void eg(ep.filter(e=>e.id!==t))},className:"p-2 hover:bg-red-500/20 rounded-lg text-red-400 transition-all",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-4 pt-3 border-t border-white/10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Calls"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.callCount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conversions"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.conversions})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conv Rate"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-green-400",children:[e.conversionRate,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Avg Duration"}),(0,t.jsx)("p",{className:"text-sm font-bold text-white",children:e.avgDuration})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Cost/Lead"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-orange-400",children:["RM ",e.costPerLead.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"ROI"}),(0,t.jsxs)("p",{className:"text-sm font-bold text-cyan-400",children:[e.roi,"x"]})]})]})]},e.id))})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 glass-card rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden min-h-[400px]",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-bold text-white uppercase tracking-widest text-xs",children:"Attributed Source Performance"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Inbound Volume"})]})]}),(0,t.jsx)("div",{className:"p-10 h-64 flex items-end gap-1",children:Array.from({length:40}).map((e,s)=>(0,t.jsx)("div",{className:"flex-1 bg-blue-500/20 hover:bg-blue-500/50 transition-all rounded-t-sm",style:{height:`${20+80*Math.random()}%`}},s))}),(0,t.jsxs)("div",{className:"p-6 bg-white/5 border-t border-white/10 grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-blue-500",children:"PPC Google"}),(0,t.jsx)("p",{className:"text-lg font-black text-white",children:"42%"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-purple-500",children:"Facebook Ads"}),(0,t.jsx)("p",{className:"text-lg font-black text-white",children:"28%"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-green-500",children:"Organic SEO"}),(0,t.jsx)("p",{className:"text-lg font-black text-white",children:"30%"})]})]})]}),(0,t.jsxs)("div",{className:"glass-card p-8 rounded-3xl bg-gradient-to-br from-blue-600 to-indigo-700 border border-white/20 text-white shadow-2xl relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all"}),(0,t.jsxs)("h4",{className:"text-2xl font-black mb-4 leading-tight",children:["Export ",(0,t.jsx)("br",{}),"Advanced ",(0,t.jsx)("br",{}),"Report"]}),(0,t.jsx)("p",{className:"text-blue-100 text-sm mb-8",children:"Deep analytics including call heatmaps, agent performance ranking, and ROI attribution exportable in CSV, PDF, or JSON API."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([`Campaign Name,Source,Channel,Calls,Conversions,Conv Rate,Avg Duration,Cost Per Lead (MYR),Revenue (MYR),ROI
${ep.map(e=>`${e.name},${e.source},${e.channel},${e.callCount},${e.conversions},${e.conversionRate}%,${e.avgDuration},RM ${e.costPerLead.toFixed(2)},RM ${e.totalRevenue.toLocaleString()},${e.roi}x`).join("\n")}`],{type:"text/csv"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`call-tracking-stats-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"w-full py-4 bg-white text-blue-900 rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-blue-50 transition-all",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"})," Download Stats"]}),(0,t.jsx)("button",{onClick:()=>{ed(!0)},className:"w-full py-4 bg-blue-400/20 border border-white/20 text-white rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-blue-400/30 transition-all",children:"Schedule Email"})]})]})]}),ec&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create Tracking Campaign"}),(0,t.jsx)("button",{onClick:()=>eo(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",value:eh.name,onChange:e=>eu({...eh,name:e.target.value}),placeholder:"Q1 2024 Google PPC",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Source"}),(0,t.jsx)("input",{type:"text",value:eh.source,onChange:e=>eu({...eh,source:e.target.value}),placeholder:"Google Ads",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Channel"}),(0,t.jsxs)("select",{value:eh.channel,onChange:e=>eu({...eh,channel:e.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select Channel"}),(0,t.jsx)("option",{value:"PPC",children:"PPC"}),(0,t.jsx)("option",{value:"Social",children:"Social Media"}),(0,t.jsx)("option",{value:"SEO",children:"SEO"}),(0,t.jsx)("option",{value:"Email",children:"Email"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Tracking Numbers (comma separated)"}),(0,t.jsx)("input",{type:"text",value:eh.trackingNumbers,onChange:e=>eu({...eh,trackingNumbers:e.target.value}),placeholder:"+60 3-2100-0001, +60 3-2100-0002",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Conversion Goal"}),(0,t.jsx)("input",{type:"text",value:eh.goal,onChange:e=>eu({...eh,goal:e.target.value}),placeholder:"Sales, Lead Generation, etc.",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>{if(eh.name&&eh.source){let e={id:ep.length+1,name:eh.name,trackingNumbers:eh.trackingNumbers.split(",").map(e=>e.trim()).filter(e=>e),source:eh.source,channel:eh.channel||"Other",callCount:0,conversions:0,conversionRate:0,avgDuration:"0m 00s",costPerLead:0,totalRevenue:0,roi:0,status:"active",created:new Date().toISOString().split("T")[0]};eg([...ep,e]),eu({name:"",source:"",channel:"",trackingNumbers:"",goal:""}),eo(!1)}},className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold transition-all",children:"Create Campaign"}),(0,t.jsx)("button",{onClick:()=>eo(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})}),ex&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-3xl",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:ex.name}),(0,t.jsx)("button",{onClick:()=>em(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Source"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:ex.source})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Channel"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:ex.channel})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-500 mb-2",children:"Tracking Numbers"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:ex.trackingNumbers.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-sm font-mono",children:e},s))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-white/5 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Total Calls"}),(0,t.jsx)("p",{className:"text-2xl font-black text-white",children:ex.callCount})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conversions"}),(0,t.jsx)("p",{className:"text-2xl font-black text-green-400",children:ex.conversions})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conv Rate"}),(0,t.jsxs)("p",{className:"text-2xl font-black text-cyan-400",children:[ex.conversionRate,"%"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Avg Duration"}),(0,t.jsx)("p",{className:"text-lg font-bold text-white",children:ex.avgDuration})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Cost Per Lead"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-orange-400",children:["RM ",ex.costPerLead.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"ROI"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-green-400",children:[ex.roi,"x"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Total Revenue"}),(0,t.jsxs)("p",{className:"text-3xl font-black text-white",children:["RM ",ex.totalRevenue.toLocaleString()]})]})]})]})}),en&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Schedule Report Email"}),(0,t.jsx)("button",{onClick:()=>ed(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Email Address"}),(0,t.jsx)("input",{type:"email",placeholder:"reports@company.com",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Frequency"}),(0,t.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"daily",children:"Daily"}),(0,t.jsx)("option",{value:"weekly",children:"Weekly"}),(0,t.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Report Format"}),(0,t.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"csv",children:"CSV"}),(0,t.jsx)("option",{value:"pdf",children:"PDF"}),(0,t.jsx)("option",{value:"json",children:"JSON"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>ed(!1),className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold transition-all",children:"Schedule Report"}),(0,t.jsx)("button",{onClick:()=>ed(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})})]});default:return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in duration-300",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center mb-6 backdrop-blur-xl",children:(0,t.jsx)(ez.default,{className:"w-10 h-10 text-cyan-400 animate-pulse"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Module Under Construction"}),(0,t.jsx)("p",{className:"text-slate-400 max-w-sm",children:"We are currently implementing the premium glassy interface for this module. Stay tuned!"})]})}})()})]})]}),g&&(0,t.jsx)(sd,{onClose:()=>b(!1)}),(0,t.jsx)(tz.default,{id:"a54f60f4c5f8d68c",children:'.glass-card.jsx-a54f60f4c5f8d68c{position:relative;overflow:hidden}.glass-card.jsx-a54f60f4c5f8d68c:before{content:"";background:linear-gradient(90deg,#0000,#ffffff0d,#0000);width:50%;height:100%;transition:all .75s;position:absolute;top:0;left:-100%;transform:skew(-25deg)}.glass-card.jsx-a54f60f4c5f8d68c:hover:before{left:150%}.nav-glass-btn.jsx-a54f60f4c5f8d68c{border:1px solid #fff0}.nav-glass-btn.jsx-a54f60f4c5f8d68c:hover{border:1px solid #ffffff1a}'})]}):null}var m=m,l=l,eu=eu,_=_,N=N,so=e.i(23429),so=so,sx=e.i(73054),sx=sx,sm=e.i(44308),sm=sm,e1=e1,ef=ef,tK=tK,S=S,tl=tl,tp=tp,tc=tc,sh=e.i(33433),sh=sh,su=e.i(75945),su=su;function sp(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)("unified-desktop"),[i,n]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[o,x]=(0,s.useState)([]),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[f,j]=(0,s.useState)([]),[w,k]=(0,s.useState)([]),[C,A]=(0,s.useState)([]),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[E,L]=(0,s.useState)([]),[F,$]=(0,s.useState)([]),[q,U]=(0,s.useState)([]),[O,V]=(0,s.useState)(null),[z,B]=(0,s.useState)(!1),[K,W]=(0,s.useState)(!1),[G,X]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(!1),[ea,el]=(0,s.useState)(!1),[er,ei]=(0,s.useState)(null),[en,ed]=(0,s.useState)(null),[ec,eo]=(0,s.useState)(null),[ex,em]=(0,s.useState)(null),[eh,ep]=(0,s.useState)(null),[eg,ej]=(0,s.useState)(null),[eN,ev]=(0,s.useState)(""),[ey,ew]=(0,s.useState)(!1),[e_,ek]=(0,s.useState)(!1),[eC,eS]=(0,s.useState)(!1),[eA,eT]=(0,s.useState)(0),[eP,eI]=(0,s.useState)({campaign_name:"",campaign_description:"",dialer_type:"predictive",max_call_attempts:3,retry_delay_minutes:30,calling_hours_start:"09:00",calling_hours_end:"18:00",timezone:"Asia/Kuala_Lumpur",scheduled_start_date:"",scheduled_end_date:"",script_template:""}),[eM,eE]=(0,s.useState)({customer_name:"",primary_phone:"",primary_email:"",secondary_phone:"",secondary_email:"",preferred_channel:"voice",customer_tier:"standard",company_name:"",job_title:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Malaysia",date_of_birth:"",notes:"",tags:"",preferred_language:"English",timezone:"Asia/Kuala_Lumpur",custom_field1:"",custom_field2:""}),[eR,eL]=(0,s.useState)({rule_name:"",rule_description:"",channel_type:"all",routing_strategy:"round_robin",priority:5,target_queue:"",target_skill:"",overflow_action:"voicemail",overflow_threshold_seconds:300,business_hours_only:!1,customer_tier_filter:"",min_skill_level:1,max_wait_time:600,enable_callback:!0,callback_threshold:180,agent_selection_criteria:"longest_idle",backup_queue:"",time_based_routing:!1,time_start:"09:00",time_end:"18:00",days_of_week:["monday","tuesday","wednesday","thursday","friday"]}),[eF,e$]=(0,s.useState)({agent_name:"",skill_name:"",skill_category:"language",proficiency_level:5,is_active:!0}),[eq,eO]=(0,s.useState)({priority_name:"",priority_description:"",priority_level:5,boost_percentage:50,is_active:!0,condition_type:"customer_tier",condition_value:"",wait_time_minutes:3,lifetime_value_min:0,interaction_count_min:0}),[eV,ez]=(0,s.useState)({menu_name:"",menu_description:"",greeting_text:"",greeting_audio_url:"",use_conversational_ai:!1,ai_model:"gpt-4",timeout_seconds:10,max_retries:3,invalid_option_message:"Invalid option. Please try again.",timeout_message:"We did not receive your response. Please try again.",is_active:!0}),[eB,eK]=(0,s.useState)([]);(0,s.useEffect)(()=>{e&&eW()},[e]),(0,s.useEffect)(()=>{d&&eG()},[d]);let eW=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).maybeSingle();t&&!s?c(t.tenant_id):console.error("Error fetching tenant_id:",s)},eG=async()=>{n(!0);try{await Promise.all([eX(),eH(),eJ(),eY(),eQ(),eZ(),e0(),e4(),e5(),e3()])}catch(e){console.error("Error loading data:",e)}finally{n(!1)}},eX=async()=>{try{let{data:e,error:t}=await h.db.from("cc_customer_context").select("*").order("total_interactions",{ascending:!1});if(t)throw t;x(e||[])}catch(e){console.error("Exception in loadCustomers:",e),x([])}},eH=async()=>{try{let{data:e,error:t}=await h.db.from("cc_unified_queues").select("*").order("priority",{ascending:!1});if(t)throw t;p(e||[])}catch(e){console.error("Exception in loadQueueItems:",e),p([])}},eJ=async()=>{try{let{data:e,error:t}=await h.db.from("cc_ivr_menus").select("*").order("menu_name");if(t)throw t;b(e||[])}catch(e){console.error("Exception in loadIVRMenus:",e),b([])}},eY=async()=>{try{let{data:e,error:t}=await h.db.from("cc_ivr_menu_options").select("*").order("priority");if(t)throw t;j(e||[])}catch(e){console.error("Exception in loadIVROptions:",e),j([])}},eQ=async()=>{try{let{data:e,error:t}=await h.db.from("cc_acd_routing_rules").select("*").order("priority",{ascending:!1});if(t)throw t;k(e||[])}catch(e){console.error("Exception in loadACDRules:",e),k([])}},eZ=async()=>{try{let{data:e,error:t}=await h.db.from("cc_agent_skills").select("*").order("agent_name");if(t)throw t;A(e||[])}catch(e){console.error("Exception in loadAgentSkills:",e),A([])}},e0=async()=>{try{let{data:e,error:t}=await h.db.from("cc_routing_priorities").select("*").order("priority_level",{ascending:!1});if(t)throw t;P(e||[])}catch(e){console.error("Exception in loadPriorityRules:",e),P([])}},e4=async()=>{try{let{data:e,error:t}=await h.db.from("cc_dialer_campaigns").select("*").order("campaign_name");if(t)throw t;M(e||[]),e&&e.length>0&&!O&&(V(e[0].id),e2(e[0].id))}catch(e){console.error("Exception in loadDialerCampaigns:",e),M([])}},e2=async e=>{if(e)try{let{data:t,error:s}=await h.db.from("cc_dialer_call_lists").select("*").eq("campaign_id",e).order("priority",{ascending:!1});if(s)throw s;L(t||[])}catch(e){console.error("Exception in loadCallLists:",e),L([])}},e5=async()=>{try{let{data:e,error:t}=await h.db.from("cc_dialer_sessions").select("*").eq("session_status","active").order("started_at",{ascending:!1});if(t)throw t;$(e||[])}catch(e){console.error("Exception in loadDialerSessions:",e),$([])}},e3=async()=>{try{let{data:e,error:t}=await h.db.from("cc_dialer_call_results").select("*").order("dialed_at",{ascending:!1}).limit(50);if(t)throw t;U(e||[])}catch(e){console.error("Exception in loadCallResults:",e),U([])}},e6=async()=>{if(!d)return void alert("Unable to determine tenant. Please try logging out and back in.");try{if(eg){let{error:e}=await h.db.from("cc_dialer_campaigns").update({campaign_name:eP.campaign_name,campaign_description:eP.campaign_description,dialer_type:eP.dialer_type,max_call_attempts:eP.max_call_attempts,retry_delay_minutes:eP.retry_delay_minutes,calling_hours_start:eP.calling_hours_start,calling_hours_end:eP.calling_hours_end,timezone:eP.timezone,scheduled_start_date:eP.scheduled_start_date||null,scheduled_end_date:eP.scheduled_end_date||null,script_template:eP.script_template}).eq("id",eg);if(e)throw e}else{let{data:e,error:t}=await h.db.from("cc_dialer_campaigns").insert({tenant_id:d,campaign_name:eP.campaign_name,campaign_description:eP.campaign_description,dialer_type:eP.dialer_type,status:"draft",max_call_attempts:eP.max_call_attempts,retry_delay_minutes:eP.retry_delay_minutes,calling_hours_start:eP.calling_hours_start,calling_hours_end:eP.calling_hours_end,timezone:eP.timezone,scheduled_start_date:eP.scheduled_start_date||null,scheduled_end_date:eP.scheduled_end_date||null,script_template:eP.script_template}).select().single();if(t)throw t}W(!1),ej(null),eI({campaign_name:"",campaign_description:"",dialer_type:"predictive",max_call_attempts:3,retry_delay_minutes:30,calling_hours_start:"09:00",calling_hours_end:"18:00",timezone:"Asia/Kuala_Lumpur",scheduled_start_date:"",scheduled_end_date:"",script_template:""}),await e4()}catch(e){alert("Failed to save dialer campaign: "+e.message),console.error("Error saving dialer campaign:",e)}},e7=async(e,t)=>{let{error:s}=await h.db.from("cc_acd_routing_rules").update({is_active:!t}).eq("id",e);s?alert("Failed to toggle rule: "+s.message):eQ()},e8=async(e,t)=>{let{error:s}=await h.db.from("cc_routing_priorities").update({is_active:!t}).eq("id",e);s?alert("Failed to toggle rule: "+s.message):e0()},e9=async(e,t)=>{let{error:s}=await h.db.from("cc_agent_skills").update({is_active:!t}).eq("id",e);s?alert("Failed to toggle skill: "+s.message):eZ()},te=async()=>{if(!eF.agent_name||!eF.skill_name)return void alert("Please fill in Agent Name and Skill Name");try{if(ec){let{error:e}=await h.db.from("cc_agent_skills").update({agent_name:eF.agent_name,skill_name:eF.skill_name,skill_category:eF.skill_category,proficiency_level:eF.proficiency_level,is_active:eF.is_active,updated_at:new Date().toISOString()}).eq("id",ec);if(e)throw e}else{let{error:e}=await h.db.from("cc_agent_skills").insert({tenant_id:"11111111-1111-1111-1111-111111111111",agent_id:"22222222-2222-2222-2222-222222222222",agent_name:eF.agent_name,skill_name:eF.skill_name,skill_category:eF.skill_category,proficiency_level:eF.proficiency_level,is_active:eF.is_active});if(e)throw e}ee(!1),eo(null),eZ()}catch(e){alert("Failed to save agent skill: "+e.message)}},tt=async e=>{if(confirm("Are you sure you want to delete this skill?"))try{let{error:t}=await h.db.from("cc_agent_skills").delete().eq("id",e);if(t)throw t;eZ()}catch(e){alert("Failed to delete skill: "+e.message)}},ts=async()=>{if(!eq.priority_name)return void alert("Please fill in Priority Rule Name");let e={};switch(eq.condition_type){case"customer_tier":if(!eq.condition_value)return void alert("Please select a customer tier");e={customer_tier:eq.condition_value};break;case"wait_time":e={wait_time_minutes:`>${eq.wait_time_minutes}`};break;case"lifetime_value":e={lifetime_value_min:eq.lifetime_value_min};break;case"interaction_count":e={interaction_count_min:eq.interaction_count_min}}try{if(ex){let{error:t}=await h.db.from("cc_routing_priorities").update({priority_name:eq.priority_name,priority_description:eq.priority_description,priority_level:eq.priority_level,boost_percentage:eq.boost_percentage,conditions:e,is_active:eq.is_active,updated_at:new Date().toISOString()}).eq("id",ex);if(t)throw t}else{let{error:t}=await h.db.from("cc_routing_priorities").insert({tenant_id:null,priority_name:eq.priority_name,priority_description:eq.priority_description,priority_level:eq.priority_level,boost_percentage:eq.boost_percentage,conditions:e,is_active:eq.is_active});if(t)throw t}es(!1),em(null),e0()}catch(e){alert("Failed to save priority rule: "+e.message)}},ta=async e=>{if(confirm("Are you sure you want to delete this priority rule?"))try{let{error:t}=await h.db.from("cc_routing_priorities").delete().eq("id",e);if(t)throw t;e0()}catch(e){alert("Failed to delete priority rule: "+e.message)}},tr=async e=>{ep(e.id),ez({menu_name:e.menu_name,menu_description:e.menu_description||"",greeting_text:e.greeting_text,greeting_audio_url:e.greeting_audio_url||"",use_conversational_ai:e.use_conversational_ai||!1,ai_model:e.ai_model||"gpt-4",timeout_seconds:e.timeout_seconds||10,max_retries:e.max_retries||3,invalid_option_message:e.invalid_option_message||"Invalid option. Please try again.",timeout_message:e.timeout_message||"We did not receive your response. Please try again.",is_active:e.is_active});try{let{data:t,error:s}=await h.db.from("cc_ivr_menu_options").select("*").eq("ivr_menu_id",e.id);if(s)throw s;let a=(t||[]).map(e=>({option_key:e.option_key,option_label:e.option_label,action_type:e.action_type,action_target:e.action_target||"",ai_intent:e.ai_intent||"",priority:e.priority||1,is_active:e.is_active}));eK(a)}catch(e){console.error("Failed to load IVR options:",e.message),eK([])}el(!0)},ti=async()=>{if(!eV.menu_name||!eV.greeting_text)return void alert("Please fill in Menu Name and Greeting Text");if(0===eB.length)return void alert("Please add at least one menu option");try{let e=eh;if(eh){let{error:e}=await h.db.from("cc_ivr_menus").update({menu_name:eV.menu_name,menu_description:eV.menu_description,greeting_text:eV.greeting_text,greeting_audio_url:eV.greeting_audio_url||null,use_conversational_ai:eV.use_conversational_ai,ai_model:eV.ai_model,timeout_seconds:eV.timeout_seconds,max_retries:eV.max_retries,invalid_option_message:eV.invalid_option_message,timeout_message:eV.timeout_message,is_active:eV.is_active,updated_at:new Date().toISOString()}).eq("id",eh);if(e)throw e;await h.db.from("cc_ivr_menu_options").delete().eq("ivr_menu_id",eh)}else{let{data:t,error:s}=await h.db.from("cc_ivr_menus").insert({tenant_id:null,menu_name:eV.menu_name,menu_description:eV.menu_description,greeting_text:eV.greeting_text,greeting_audio_url:eV.greeting_audio_url||null,use_conversational_ai:eV.use_conversational_ai,ai_model:eV.ai_model,timeout_seconds:eV.timeout_seconds,max_retries:eV.max_retries,invalid_option_message:eV.invalid_option_message,timeout_message:eV.timeout_message,is_active:eV.is_active}).select().single();if(s)throw s;e=t.id}let t=eB.map(t=>({tenant_id:null,ivr_menu_id:e,option_key:t.option_key,option_label:t.option_label,action_type:t.action_type,action_target:t.action_target||null,ai_intent:t.ai_intent||null,priority:t.priority,is_active:t.is_active})),{error:s}=await h.db.from("cc_ivr_menu_options").insert(t);if(s)throw s;el(!1),ep(null),eK([]),eJ()}catch(e){alert("Failed to save IVR menu: "+e.message)}},tn=async e=>{if(confirm("Are you sure you want to delete this IVR menu? This will also delete all associated menu options."))try{await h.db.from("cc_ivr_menu_options").delete().eq("ivr_menu_id",e);let{error:t}=await h.db.from("cc_ivr_menus").delete().eq("id",e);if(t)throw t;eJ()}catch(e){alert("Failed to delete IVR menu: "+e.message)}},td=e=>{"traditional"===e?eK([...eB,{option_key:String(eB.filter(e=>!e.option_key.startsWith("AI")).length+1),option_label:"",action_type:"transfer_queue",action_target:"",ai_intent:"",priority:1,is_active:!0}]):eK([...eB,{option_key:`AI_INTENT_${eB.filter(e=>e.option_key.startsWith("AI")).length+1}`,option_label:"",action_type:"ai_intent",action_target:"",ai_intent:"",priority:1,is_active:!0}])},to=(e,t,s)=>{let a=[...eB];a[e]={...a[e],[t]:s},eK(a)},tx=async e=>{if(confirm("Are you sure you want to delete this dialer campaign? This will also delete all associated call lists and sessions."))try{await h.db.from("cc_outbound_call_lists").delete().eq("campaign_id",e),await h.db.from("cc_dialer_sessions").delete().eq("campaign_id",e);let{error:t}=await h.db.from("cc_outbound_dialers").delete().eq("id",e);if(t)throw t;O===e&&V(null),e4()}catch(e){alert("Failed to delete dialer campaign: "+e.message)}},tm=async()=>{if(!eM.customer_name||!eM.primary_phone||!eM.primary_email)return void alert("Please fill in all required fields: Name, Phone, and Email");if(!d)return void alert("Unable to determine tenant. Please try logging out and back in.");let e=eM.tags?eM.tags.split(",").map(e=>e.trim()):[],t={};eM.custom_field1&&(t.field1=eM.custom_field1),eM.custom_field2&&(t.field2=eM.custom_field2),eM.company_name&&(t.company_name=eM.company_name),eM.job_title&&(t.job_title=eM.job_title),eM.date_of_birth&&(t.date_of_birth=eM.date_of_birth),eM.preferred_language&&(t.preferred_language=eM.preferred_language),eM.timezone&&(t.timezone=eM.timezone),eM.notes&&(t.notes=eM.notes),eM.address_line1&&(t.address={line1:eM.address_line1,line2:eM.address_line2,city:eM.city,state:eM.state,postal_code:eM.postal_code,country:eM.country});try{if(er){let{error:s}=await h.db.from("cc_customer_context").update({customer_name:eM.customer_name,primary_phone:eM.primary_phone,primary_email:eM.primary_email,secondary_phone:eM.secondary_phone||null,secondary_email:eM.secondary_email||null,preferred_channel:eM.preferred_channel,customer_tier:eM.customer_tier,tags:e,custom_fields:t,updated_at:new Date().toISOString()}).eq("id",er);s?alert("Failed to update customer: "+s.message):(alert("Customer updated successfully!"),X(!1),ei(null),th(),eX())}else{let s=`CUST-${String(o.length+100).padStart(5,"0")}`,{error:a}=await h.db.from("cc_customer_context").insert({tenant_id:d,customer_id:s,customer_name:eM.customer_name,primary_phone:eM.primary_phone,primary_email:eM.primary_email,secondary_phone:eM.secondary_phone||null,secondary_email:eM.secondary_email||null,preferred_channel:eM.preferred_channel,customer_tier:eM.customer_tier,lifetime_value:0,total_interactions:0,last_interaction_at:new Date().toISOString(),average_satisfaction:0,tags:e,custom_fields:t});a?alert("Failed to add customer: "+a.message):(alert("Customer added successfully!"),X(!1),th(),eX())}}catch(e){alert("Failed to save customer. Please try again.")}},th=()=>{eE({customer_name:"",primary_phone:"",primary_email:"",secondary_phone:"",secondary_email:"",preferred_channel:"voice",customer_tier:"standard",company_name:"",job_title:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Malaysia",date_of_birth:"",notes:"",tags:"",preferred_language:"English",timezone:"Asia/Kuala_Lumpur",custom_field1:"",custom_field2:""})},tu=async e=>{let t=e.custom_fields||{},s=t.address||{},a=Array.isArray(e.tags)?e.tags.join(", "):"";eE({customer_name:e.customer_name||"",primary_phone:e.primary_phone||"",primary_email:e.primary_email||"",secondary_phone:e.secondary_phone||"",secondary_email:e.secondary_email||"",preferred_channel:e.preferred_channel||"voice",customer_tier:e.customer_tier||"standard",company_name:t.company_name||"",job_title:t.job_title||"",address_line1:s.line1||"",address_line2:s.line2||"",city:s.city||"",state:s.state||"",postal_code:s.postal_code||"",country:s.country||"Malaysia",date_of_birth:t.date_of_birth||"",notes:t.notes||"",tags:a,preferred_language:t.preferred_language||"English",timezone:t.timezone||"Asia/Kuala_Lumpur",custom_field1:t.field1||"",custom_field2:t.field2||""}),ei(e.id),X(!0)},tg=async e=>{if(!confirm("Are you sure you want to delete this customer?"))return;let{error:t}=await h.db.from("cc_customer_context").delete().eq("id",e);t?alert("Failed to delete customer: "+t.message):eX()},tb=async()=>{if(!eR.rule_name)return void alert("Please enter a rule name");let e={};eR.business_hours_only&&(e.business_hours_only=!0),eR.customer_tier_filter&&(e.customer_tier=eR.customer_tier_filter),eR.min_skill_level>1&&(e.min_skill_level=eR.min_skill_level),600!==eR.max_wait_time&&(e.max_wait_time=eR.max_wait_time),eR.time_based_routing&&(e.time_based={enabled:!0,start_time:eR.time_start,end_time:eR.time_end,days_of_week:eR.days_of_week}),eR.enable_callback&&(e.callback={enabled:!0,threshold_seconds:eR.callback_threshold}),"longest_idle"!==eR.agent_selection_criteria&&(e.agent_selection=eR.agent_selection_criteria),eR.backup_queue&&(e.backup_queue=eR.backup_queue);let t={rule_name:eR.rule_name,rule_description:eR.rule_description,channel_type:"all"===eR.channel_type?null:eR.channel_type,routing_strategy:eR.routing_strategy,priority:eR.priority,target_queue:eR.target_queue||null,target_skill:eR.target_skill||null,overflow_action:eR.overflow_action,overflow_threshold_seconds:eR.overflow_threshold_seconds,conditions:Object.keys(e).length>0?e:null};try{if(en){let{error:e}=await h.db.from("cc_acd_routing_rules").update(t).eq("id",en);e?alert("Failed to update ACD rule: "+e.message):(alert("ACD Routing Rule updated successfully!"),J(!1),ed(null),tf(),eQ())}else{let{error:e}=await h.db.from("cc_acd_routing_rules").insert({tenant_id:null,...t,is_active:!0});e?alert("Failed to create ACD rule: "+e.message):(alert("ACD Routing Rule created successfully!"),J(!1),tf(),eQ())}}catch(e){alert("Failed to save ACD rule. Please try again.")}},tf=()=>{eL({rule_name:"",rule_description:"",channel_type:"all",routing_strategy:"round_robin",priority:5,target_queue:"",target_skill:"",overflow_action:"voicemail",overflow_threshold_seconds:300,business_hours_only:!1,customer_tier_filter:"",min_skill_level:1,max_wait_time:600,enable_callback:!0,callback_threshold:180,agent_selection_criteria:"longest_idle",backup_queue:"",time_based_routing:!1,time_start:"09:00",time_end:"18:00",days_of_week:["monday","tuesday","wednesday","thursday","friday"]})},tj=async e=>{let t=e.conditions||{},s=t.time_based||{},a=t.callback||{};eL({rule_name:e.rule_name||"",rule_description:e.rule_description||"",channel_type:e.channel_type||"all",routing_strategy:e.routing_strategy||"round_robin",priority:e.priority||5,target_queue:e.target_queue||"",target_skill:e.target_skill||"",overflow_action:e.overflow_action||"voicemail",overflow_threshold_seconds:e.overflow_threshold_seconds||300,business_hours_only:t.business_hours_only||!1,customer_tier_filter:t.customer_tier||"",min_skill_level:t.min_skill_level||1,max_wait_time:t.max_wait_time||600,enable_callback:a.enabled||!1,callback_threshold:a.threshold_seconds||180,agent_selection_criteria:t.agent_selection||"longest_idle",backup_queue:t.backup_queue||"",time_based_routing:s.enabled||!1,time_start:s.start_time||"09:00",time_end:s.end_time||"18:00",days_of_week:s.days_of_week||["monday","tuesday","wednesday","thursday","friday"]}),ed(e.id),J(!0)},tN=async e=>{if(!confirm("Are you sure you want to delete this ACD routing rule?"))return;let{error:t}=await h.db.from("cc_acd_routing_rules").delete().eq("id",e);t?alert("Failed to delete ACD rule: "+t.message):(eQ(),alert("ACD Routing Rule deleted successfully!"))},tv=e=>{switch(e){case"vip":return"bg-purple-500/20 text-purple-400";case"premium":return"bg-blue-500/20 text-blue-400";case"standard":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}},ty=e=>{if(e<60)return`${e}s`;let t=Math.floor(e/60);return`${t}m ${e%60}s`};if(i)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"text-gray-400",children:"Loading contact center data..."})});let tw=C.reduce((e,t)=>(e[t.agent_name]||(e[t.agent_name]=[]),e[t.agent_name].push(t),e),{});return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contact Center"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Omnichannel unified desktop with intelligent routing"}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Current Tenant: ",(0,t.jsx)("span",{className:"text-blue-400 font-medium",children:"Platform"})]})]}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg",children:[(0,t.jsx)(tl.default,{className:"w-5 h-5"}),"Dialpad"]})]})}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>r("unified-desktop"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"unified-desktop"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(m.default,{className:"w-4 h-4 inline mr-2"}),"Unified Desktop"]}),(0,t.jsxs)("button",{onClick:()=>r("customer-context"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"customer-context"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(l.default,{className:"w-4 h-4 inline mr-2"}),"Customer Context"]}),(0,t.jsxs)("button",{onClick:()=>r("acd-routing"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"acd-routing"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(e1.default,{className:"w-4 h-4 inline mr-2"}),"ACD Routing"]}),(0,t.jsxs)("button",{onClick:()=>r("agent-skills"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"agent-skills"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eu.default,{className:"w-4 h-4 inline mr-2"}),"Agent Skills"]}),(0,t.jsxs)("button",{onClick:()=>r("priority-routing"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"priority-routing"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eb.TrendingUp,{className:"w-4 h-4 inline mr-2"}),"Priority Routing"]}),(0,t.jsxs)("button",{onClick:()=>r("ivr-config"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"ivr-config"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(Q.Phone,{className:"w-4 h-4 inline mr-2"}),"IVR Configuration"]}),(0,t.jsxs)("button",{onClick:()=>r("outbound-dialers"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"outbound-dialers"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(tK.default,{className:"w-4 h-4 inline mr-2"}),"Outbound Dialers"]})]}),"unified-desktop"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Total in Queue"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:u.length})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Waiting"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:u.filter(e=>"waiting"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Active"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-400",children:u.filter(e=>"assigned"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Avg Wait Time"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:u.length>0?ty(Math.floor(u.reduce((e,t)=>e+t.wait_time_seconds,0)/u.length)):"0s"})]})]})}),0===u.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No items in queue"})}):(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Channel"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Customer"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Queue"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Priority"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Wait Time"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Agent"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-700",children:u.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${(e=>{switch(e){case"voice":return"bg-blue-600";case"sms":return"bg-green-600";case"whatsapp":return"bg-emerald-600";case"chat":return"bg-purple-600";case"email":return"bg-orange-600";default:return"bg-gray-600"}})(e.channel_type)} text-white`,children:(0,t.jsx)("span",{className:"text-xs font-medium uppercase",children:e.channel_type})})}),(0,t.jsxs)("td",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.customer_name}),(0,t.jsx)("div",{className:"text-gray-400 text-sm",children:e.customer_phone})]}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-300",children:e.queue_name}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.priority>=8?"bg-red-500/20 text-red-400":e.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["P",e.priority]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-300",children:ty(e.wait_time_seconds)}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"waiting"===e.status?"bg-yellow-500/20 text-yellow-400":"assigned"===e.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-300",children:e.assigned_agent_name||"-"})]},e.id))})]})})]}),"customer-context"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Customer Context & History"}),(0,t.jsxs)("button",{onClick:()=>{ei(null),th(),X(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),0===o.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:"No customers found."})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.customer_name}),(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium mt-1 ${tv(e.customer_tier)}`,children:e.customer_tier.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>tu(e),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Edit Customer",children:(0,t.jsx)(so.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("button",{onClick:()=>tg(e.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Delete Customer",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Phone:"}),(0,t.jsx)("span",{className:"text-gray-300",children:e.primary_phone})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,t.jsx)("span",{className:"text-gray-300 truncate ml-2",children:e.primary_email})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Channel:"}),(0,t.jsx)("span",{className:"text-gray-300 uppercase",children:e.preferred_channel})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Interactions:"}),(0,t.jsx)("span",{className:"text-white font-bold",children:e.total_interactions})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"LTV:"}),(0,t.jsxs)("span",{className:"text-green-400 font-bold",children:["RM ",parseFloat(e.lifetime_value).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Satisfaction:"}),(0,t.jsxs)("span",{className:"text-yellow-400 font-bold",children:[parseFloat(e.average_satisfaction).toFixed(1)," / 5.0"]})]})]})]},e.id))})]}),"acd-routing"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"ACD Routing Rules"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Automatic Call Distribution - Intelligent routing strategies"})]}),(0,t.jsxs)("button",{onClick:()=>{ed(null),tf(),J(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Create Rule"]})]}),0===w.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No routing rules configured"})}):(0,t.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.rule_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case"skills_based":return"bg-blue-500/20 text-blue-400";case"priority_based":return"bg-red-500/20 text-red-400";case"sticky_agent":return"bg-purple-500/20 text-purple-400";case"round_robin":return"bg-green-500/20 text-green-400";case"longest_idle":return"bg-yellow-500/20 text-yellow-400";case"least_busy":return"bg-cyan-500/20 text-cyan-400";default:return"bg-gray-500/20 text-gray-400"}})(e.routing_strategy)}`,children:e.routing_strategy.replace("_"," ").toUpperCase()}),(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.priority>=8?"bg-red-500/20 text-red-400":e.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["Priority ",e.priority]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:e.rule_description}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs text-gray-400",children:[e.target_queue&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Queue:"})," ",(0,t.jsx)("span",{className:"text-blue-400",children:e.target_queue})]}),e.target_skill&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Skill:"})," ",(0,t.jsx)("span",{className:"text-green-400",children:e.target_skill})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>tj(e),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Edit Rule",children:(0,t.jsx)(so.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("button",{onClick:()=>tN(e.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Delete Rule",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>e7(e.id,e.is_active),children:e.is_active?(0,t.jsx)(sm.default,{className:"w-8 h-8 text-green-500"}):(0,t.jsx)(sx.default,{className:"w-8 h-8 text-gray-600"})})]})]})},e.id))})]}),"agent-skills"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Agent Skills"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Skills-based routing - Language proficiencies and department expertise"})]}),(0,t.jsxs)("button",{onClick:()=>{eo(null),e$({agent_name:"",skill_name:"",skill_category:"language",proficiency_level:5,is_active:!0}),ee(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Add Skill"]})]}),0===Object.keys(tw).length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No agent skills configured"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(tw).map(([e,s])=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e}),(0,t.jsxs)("span",{className:"text-gray-400 text-sm",children:[s.length," skills"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded p-3 flex justify-between items-center group hover:bg-gray-600 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:(e=>{switch(e){case"language":return"ðŸŒ";case"department":return"ðŸ¢";case"technical":return"ðŸ”§";case"product":return"ðŸ“¦";case"soft_skills":return"ðŸ’¼";case"industry":return"ðŸ­";case"certification":return"ðŸŽ“";default:return"â­"}})(e.skill_category)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white text-sm font-medium",children:e.skill_name}),(0,t.jsx)("div",{className:"text-gray-400 text-xs capitalize",children:e.skill_category})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"text-yellow-400 font-bold text-sm",children:[e.proficiency_level,"/10"]}),(0,t.jsx)("button",{onClick:()=>{eo(e.id),e$({agent_name:e.agent_name,skill_name:e.skill_name,skill_category:e.skill_category,proficiency_level:e.proficiency_level,is_active:e.is_active}),ee(!0)},className:"p-1 hover:bg-blue-600 rounded transition-colors",title:"Edit Skill",children:(0,t.jsx)(so.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("button",{onClick:()=>tt(e.id),className:"p-1 hover:bg-red-600 rounded transition-colors",title:"Delete Skill",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>e9(e.id,e.is_active),title:"Toggle Active Status",children:e.is_active?(0,t.jsx)(sm.default,{className:"w-6 h-6 text-green-500"}):(0,t.jsx)(sx.default,{className:"w-6 h-6 text-gray-600"})})]})]},e.id))})]},e))})]}),"priority-routing"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Priority Routing Rules"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Automatically boost priority for VIP customers, high-value accounts, and urgent situations"})]}),(0,t.jsxs)("button",{onClick:()=>{em(null),eO({priority_name:"",priority_description:"",priority_level:5,boost_percentage:50,is_active:!0,condition_type:"customer_tier",condition_value:"",wait_time_minutes:3,lifetime_value_min:0,interaction_count_min:0}),es(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Create Priority Rule"]})]}),0===T.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No priority rules configured"})}):(0,t.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.priority_name}),(0,t.jsxs)("span",{className:"px-2 py-1 rounded bg-red-500/20 text-red-400 text-xs font-bold",children:["Level ",e.priority_level,"/10"]}),(0,t.jsxs)("span",{className:"px-2 py-1 rounded bg-green-500/20 text-green-400 text-xs font-bold",children:["+",e.boost_percentage,"% Priority"]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:e.priority_description}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Conditions: ",(0,t.jsx)("span",{className:"text-gray-400",children:JSON.stringify(e.conditions)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{let t;return em(e.id),t=e.conditions.customer_tier?"customer_tier":e.conditions.wait_time_minutes?"wait_time":e.conditions.lifetime_value_min?"lifetime_value":e.conditions.interaction_count_min?"interaction_count":"customer_tier",void(eO({priority_name:e.priority_name,priority_description:e.priority_description||"",priority_level:e.priority_level,boost_percentage:e.boost_percentage,is_active:e.is_active,condition_type:t,condition_value:e.conditions.customer_tier||"",wait_time_minutes:e.conditions.wait_time_minutes||3,lifetime_value_min:e.conditions.lifetime_value_min||0,interaction_count_min:e.conditions.interaction_count_min||0}),es(!0))},className:"p-2 hover:bg-blue-600 rounded transition-colors",title:"Edit Rule",children:(0,t.jsx)(so.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("button",{onClick:()=>ta(e.id),className:"p-2 hover:bg-red-600 rounded transition-colors",title:"Delete Rule",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>e8(e.id,e.is_active),title:"Toggle Active Status",children:e.is_active?(0,t.jsx)(sm.default,{className:"w-8 h-8 text-green-500"}):(0,t.jsx)(sx.default,{className:"w-8 h-8 text-gray-600"})})]})]})},e.id))})]}),"ivr-config"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"IVR Configuration"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Interactive Voice Response with traditional key press + Conversational AI"})]}),(0,t.jsxs)("button",{onClick:()=>{ep(null),ez({menu_name:"",menu_description:"",greeting_text:"",greeting_audio_url:"",use_conversational_ai:!1,ai_model:"gpt-4",timeout_seconds:10,max_retries:3,invalid_option_message:"Invalid option. Please try again.",timeout_message:"We did not receive your response. Please try again.",is_active:!0}),eK([]),el(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,t.jsx)(_.default,{className:"w-4 h-4 mr-2"}),"Configure New IVR"]})]}),0===g.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No IVR menus configured"})}):(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>{let s=f.filter(t=>t.ivr_menu_id===e.id),a=s.filter(e=>e.option_key&&!e.option_key.startsWith("AI")),l=s.filter(e=>e.option_key&&e.option_key.startsWith("AI"));return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:e.menu_name}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:e.menu_description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"Active":"Inactive"}),(0,t.jsx)("button",{onClick:()=>tr(e),className:"p-2 hover:bg-blue-600 rounded transition-colors",title:"Edit IVR",children:(0,t.jsx)(so.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("button",{onClick:()=>tn(e.id),className:"p-2 hover:bg-red-600 rounded transition-colors",title:"Delete IVR",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 p-3 rounded mb-4",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Greeting Message:"}),(0,t.jsx)("div",{className:"text-white",children:e.greeting_text}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Timeout: ",e.timeout_seconds,"s"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(Q.Phone,{className:"w-4 h-4 text-blue-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Traditional Key Press"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",a.length," options)"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===a.length?(0,t.jsx)("div",{className:"text-gray-500 text-sm",children:"No traditional options"}):a.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 p-2 rounded flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-blue-600 text-white px-2 py-1 rounded font-bold text-sm min-w-[32px] text-center",children:e.option_key}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-white text-sm",children:e.option_label}),(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:e.action_target||e.action_type})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ef.default,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Conversational AI"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",l.length," intents)"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:0===l.length?(0,t.jsx)("div",{className:"text-gray-500 text-sm",children:"No AI intents"}):l.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 p-2 rounded flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-purple-600 text-white px-2 py-1 rounded text-xs min-w-[32px] flex items-center justify-center",children:(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-white text-sm",children:e.option_label}),(0,t.jsxs)("div",{className:"text-gray-400 text-xs",children:["Intent: ",e.ai_intent]}),(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.action_target||e.action_type})]})]},e.id))})]})]})]},e.id)})})]}),"outbound-dialers"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Outbound Dialer Management"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Automated dialers to maximize agent productivity - Predictive, Power, and Preview modes"})]}),(0,t.jsxs)("button",{onClick:()=>W(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-blue-600 hover:to-cyan-700 transition-all shadow-lg",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Dialer"]})]}),0===I.length?(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,t.jsx)(tK.default,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No dialer campaigns found"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first outbound dialer campaign to start calling"}),(0,t.jsxs)("button",{onClick:()=>W(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Campaign"]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:I.map(e=>{var s;let a,l,r,i=(s=e.id,l=(a=E.filter(e=>e.campaign_id===s)).length,r=a.filter(e=>e.attempts>0).length,{total_contacts:l,contacts_dialed:r,contacts_reached:a.filter(e=>"completed"===e.status||"connected"===e.status).length,contacts_converted:a.filter(e=>e.last_disposition?.toLowerCase().includes("sale")||e.last_disposition?.toLowerCase().includes("success")).length});return(0,t.jsxs)("div",{className:`bg-gray-800 rounded-lg p-4 transition-all ${O===e.id?"ring-2 ring-blue-500":""}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>{V(e.id),e2(e.id)},children:[(0,t.jsx)("h3",{className:"text-white font-bold",children:e.campaign_name}),(0,t.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium mt-1 ${"predictive"===e.dialer_type?"bg-red-500/20 text-red-400":"power"===e.dialer_type?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:e.dialer_type.toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===e.status?"bg-green-500/20 text-green-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.status}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),ej(e.id),eI({campaign_name:e.campaign_name,campaign_description:e.campaign_description||"",dialer_type:e.dialer_type,max_call_attempts:e.max_call_attempts,retry_delay_minutes:e.retry_delay_minutes,calling_hours_start:e.calling_hours_start||"09:00",calling_hours_end:e.calling_hours_end||"18:00",timezone:e.timezone||"Asia/Kuala_Lumpur",scheduled_start_date:e.scheduled_start_date||"",scheduled_end_date:e.scheduled_end_date||"",script_template:e.script_template||""}),W(!0)},className:"p-1.5 hover:bg-blue-600 rounded transition-colors",title:"Edit Campaign",children:(0,t.jsx)(so.default,{className:"w-4 h-4 text-blue-400"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),tx(e.id)},className:"p-1.5 hover:bg-red-600 rounded transition-colors",title:"Delete Campaign",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:e.campaign_description}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Total Contacts:"}),(0,t.jsx)("span",{className:"text-white font-bold",children:i.total_contacts})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Dialed:"}),(0,t.jsx)("span",{className:"text-blue-400 font-bold",children:i.contacts_dialed})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Reached:"}),(0,t.jsx)("span",{className:"text-green-400 font-bold",children:i.contacts_reached})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Converted:"}),(0,t.jsx)("span",{className:"text-yellow-400 font-bold",children:i.contacts_converted})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Success Rate:"}),(0,t.jsxs)("span",{className:"text-purple-400 font-bold",children:[i.contacts_dialed>0?(i.contacts_converted/i.contacts_dialed*100).toFixed(1):0,"%"]})]})]})]},e.id)})}),O&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"Active Sessions"}),0===F.filter(e=>e.campaign_id===O).length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No active sessions"}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.filter(e=>e.campaign_id===O).map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:e.agent_name}),(0,t.jsxs)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs flex items-center gap-1",children:[(0,t.jsx)(eD.Play,{className:"w-3 h-3"}),"Active"]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Presented:"}),(0,t.jsx)("span",{className:"text-white",children:e.calls_presented})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Answered:"}),(0,t.jsx)("span",{className:"text-green-400 font-bold",children:e.calls_answered})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Converted:"}),(0,t.jsx)("span",{className:"text-yellow-400 font-bold",children:e.calls_converted})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Talk Time:"}),(0,t.jsxs)("span",{className:"text-blue-400",children:[Math.floor(e.total_talk_time_seconds/60),"m"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Duration:"}),(0,t.jsxs)("span",{className:"text-gray-300",children:[Math.floor((Date.now()-new Date(e.started_at).getTime())/6e4),"m"]})]})]})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg",children:"Call List"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center gap-1",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Contact"]})})]}),0===E.length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No contacts in call list"}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Contact"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Phone"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Tier"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Priority"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Status"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Attempts"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Last Result"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Action"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-700",children:E.map(e=>{let s=I.find(t=>t.id===e.campaign_id);return(0,t.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,t.jsxs)("td",{className:"px-3 py-2",children:[(0,t.jsx)("div",{className:"text-white text-sm font-medium",children:e.contact_name}),e.customer_id&&(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:e.customer_id})]}),(0,t.jsxs)("td",{className:"px-3 py-2",children:[(0,t.jsx)("div",{className:"text-gray-300 text-sm",children:e.phone_number}),e.alternate_phone&&(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.alternate_phone})]}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${tv(e.customer_tier)}`,children:e.customer_tier.toUpperCase()})}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${e.priority>=8?"bg-red-500/20 text-red-400":e.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["P",e.priority]})}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"pending"===e.status?"bg-blue-500/20 text-blue-400":"completed"===e.status?"bg-green-500/20 text-green-400":"callback_scheduled"===e.status?"bg-purple-500/20 text-purple-400":"no_answer"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.status.replace("_"," ")})}),(0,t.jsx)("td",{className:"px-3 py-2 text-gray-300 text-sm",children:e.attempts}),(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)("div",{className:"text-gray-300 text-xs",children:e.last_disposition||"-"})}),(0,t.jsx)("td",{className:"px-3 py-2",children:s?.dialer_type==="preview"?(0,t.jsxs)("button",{className:"px-2 py-1 bg-purple-600 text-white rounded text-xs hover:bg-purple-700 flex items-center gap-1",children:[(0,t.jsx)(S.default,{className:"w-3 h-3"}),"Preview"]}):(0,t.jsxs)("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 flex items-center gap-1",children:[(0,t.jsx)(Q.Phone,{className:"w-3 h-3"}),"Call"]})})]},e.id)})})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"Recent Call Results"}),0===q.filter(e=>e.campaign_id===O).length?(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"No call results yet"}):(0,t.jsx)("div",{className:"space-y-2",children:q.filter(e=>e.campaign_id===O).slice(0,10).map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded p-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.phone_number}),(0,t.jsx)("div",{className:"text-gray-400 text-xs",children:e.agent_name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:`text-xs font-bold ${e.is_converted?"text-green-400":e.is_answered?"text-blue-400":"text-gray-400"}`,children:e.disposition}),e.sub_disposition&&(0,t.jsx)("div",{className:"text-gray-500 text-xs",children:e.sub_disposition})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(R.Clock,{className:"w-3 h-3"}),Math.floor(e.talk_time_seconds/60),"m ",e.talk_time_seconds%60,"s"]}),e.is_converted&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-green-400",children:[(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"Converted"]}),(0,t.jsx)("div",{className:"text-gray-500",children:new Date(e.dialed_at).toLocaleTimeString()})]}),e.agent_notes&&(0,t.jsx)("div",{className:"mt-2 text-xs text-gray-300 bg-gray-800 rounded p-2",children:e.agent_notes})]},e.id))})]})]})]})]}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-96 p-6 relative border border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>B(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(tl.default,{className:"w-6 h-6 text-green-500"}),"Dialpad"]}),ey?(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 text-center",children:[(0,t.jsx)("div",{className:"text-white text-sm mb-2",children:"Calling"}),(0,t.jsx)("div",{className:"text-white text-2xl font-bold mb-1",children:eN}),(0,t.jsxs)("div",{className:"text-white/80 text-lg",children:[Math.floor(eA/60),":",(eA%60).toString().padStart(2,"0")]})]})}):(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 min-h-[60px] flex items-center justify-center",children:(0,t.jsx)("input",{type:"text",value:eN,onChange:e=>ev(e.target.value),placeholder:"Enter phone number",className:"bg-transparent text-white text-2xl text-center font-mono w-full outline-none"})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(e=>(0,t.jsx)("button",{onClick:()=>{ev(t=>t+e)},disabled:ey,className:"bg-gray-800 hover:bg-gray-700 text-white text-2xl font-semibold py-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e},e))}),ey?(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>ek(!e_),className:`${e_?"bg-red-600":"bg-gray-700"} hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1`,children:[e_?(0,t.jsx)(tp.default,{className:"w-6 h-6"}):(0,t.jsx)(eU.Mic,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs",children:e_?"Unmute":"Mute"})]}),(0,t.jsxs)("button",{onClick:()=>eS(!eC),className:`${eC?"bg-blue-600":"bg-gray-700"} hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1`,children:[eC?(0,t.jsx)(tc.default,{className:"w-6 h-6"}):(0,t.jsx)(sh.default,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs",children:"Speaker"})]}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1",children:[(0,t.jsx)(su.default,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-xs",children:"Keypad"})]}),(0,t.jsxs)("button",{onClick:()=>{ew(!1),ev(""),eT(0),ek(!1)},className:"bg-red-600 hover:bg-red-700 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1",children:[(0,t.jsx)(Q.Phone,{className:"w-6 h-6 rotate-[135deg]"}),(0,t.jsx)("span",{className:"text-xs",children:"End"})]})]}):(0,t.jsxs)("div",{className:"flex gap-3",children:[eN&&(0,t.jsx)("button",{onClick:()=>{ev(e=>e.slice(0,-1))},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"âŒ« Delete"}),(0,t.jsxs)("button",{onClick:()=>{eN&&(ew(!0),eT(0))},disabled:!eN,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(Q.Phone,{className:"w-5 h-5"}),"Call"]})]})]})}),K&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{W(!1),ej(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(tK.default,{className:"w-6 h-6 text-blue-500"}),eg?"Edit Dialer Campaign":"Create New Dialer Campaign"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:eP.campaign_name,onChange:e=>eI({...eP,campaign_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Q1 Sales Campaign"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Dialer Type *"}),(0,t.jsxs)("select",{value:eP.dialer_type,onChange:e=>eI({...eP,dialer_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"predictive",children:"Predictive - High volume automated dialing"}),(0,t.jsx)("option",{value:"power",children:"Power - Progressive automated dialing"}),(0,t.jsx)("option",{value:"preview",children:"Preview - Agent reviews before calling"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eP.campaign_description,onChange:e=>eI({...eP,campaign_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-24",placeholder:"Describe the purpose and goals of this campaign..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Call Attempts"}),(0,t.jsx)("input",{type:"number",value:eP.max_call_attempts,onChange:e=>eI({...eP,max_call_attempts:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"1",max:"10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Retry Delay (minutes)"}),(0,t.jsx)("input",{type:"number",value:eP.retry_delay_minutes,onChange:e=>eI({...eP,retry_delay_minutes:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"15",step:"15"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),(0,t.jsxs)("select",{value:eP.timezone,onChange:e=>eI({...eP,timezone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Asia/Kuala_Lumpur (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Jakarta",children:"Asia/Jakarta (GMT+7)"}),(0,t.jsx)("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calling Hours Start"}),(0,t.jsx)("input",{type:"time",value:eP.calling_hours_start,onChange:e=>eI({...eP,calling_hours_start:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calling Hours End"}),(0,t.jsx)("input",{type:"time",value:eP.calling_hours_end,onChange:e=>eI({...eP,calling_hours_end:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:eP.scheduled_start_date,onChange:e=>eI({...eP,scheduled_start_date:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:eP.scheduled_end_date,onChange:e=>eI({...eP,scheduled_end_date:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Call Script Template"}),(0,t.jsx)("textarea",{value:eP.script_template,onChange:e=>eI({...eP,script_template:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-32 font-mono text-sm",placeholder:"Hello [CUSTOMER_NAME], this is [AGENT_NAME] from [COMPANY]..."})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{W(!1),ej(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e6,disabled:!eP.campaign_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:eg?"Update Campaign":"Create Campaign"})]})]})]})}),G&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{X(!1),ei(null),th()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-6 h-6 text-emerald-500"}),er?"Edit Customer":"Add New Customer"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),(0,t.jsx)("input",{type:"text",value:eM.customer_name,onChange:e=>eE({...eM,customer_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"John Doe"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier *"}),(0,t.jsxs)("select",{value:eM.customer_tier,onChange:e=>eE({...eM,customer_tier:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"basic",children:"Basic"}),(0,t.jsx)("option",{value:"standard",children:"Standard"}),(0,t.jsx)("option",{value:"premium",children:"Premium"}),(0,t.jsx)("option",{value:"vip",children:"VIP"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company Name"}),(0,t.jsx)("input",{type:"text",value:eM.company_name,onChange:e=>eE({...eM,company_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Acme Corp"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Job Title"}),(0,t.jsx)("input",{type:"text",value:eM.job_title,onChange:e=>eE({...eM,job_title:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Sales Manager"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Contact Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Phone *"}),(0,t.jsx)("input",{type:"tel",value:eM.primary_phone,onChange:e=>eE({...eM,primary_phone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"+60123456789"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secondary Phone"}),(0,t.jsx)("input",{type:"tel",value:eM.secondary_phone,onChange:e=>eE({...eM,secondary_phone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"+60198765432"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Email *"}),(0,t.jsx)("input",{type:"email",value:eM.primary_email,onChange:e=>eE({...eM,primary_email:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"john.doe@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secondary Email"}),(0,t.jsx)("input",{type:"email",value:eM.secondary_email,onChange:e=>eE({...eM,secondary_email:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"john@personal.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Channel"}),(0,t.jsxs)("select",{value:eM.preferred_channel,onChange:e=>eE({...eM,preferred_channel:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"voice",children:"Voice Call"}),(0,t.jsx)("option",{value:"sms",children:"SMS"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,t.jsx)("option",{value:"chat",children:"Live Chat"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Language"}),(0,t.jsxs)("select",{value:eM.preferred_language,onChange:e=>eE({...eM,preferred_language:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"English",children:"English"}),(0,t.jsx)("option",{value:"Malay",children:"Bahasa Malaysia"}),(0,t.jsx)("option",{value:"Chinese",children:"Chinese"}),(0,t.jsx)("option",{value:"Tamil",children:"Tamil"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Address Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address Line 1"}),(0,t.jsx)("input",{type:"text",value:eM.address_line1,onChange:e=>eE({...eM,address_line1:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"123 Main Street"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address Line 2"}),(0,t.jsx)("input",{type:"text",value:eM.address_line2,onChange:e=>eE({...eM,address_line2:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Unit 456, Tower B"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,t.jsx)("input",{type:"text",value:eM.city,onChange:e=>eE({...eM,city:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Kuala Lumpur"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"State / Province"}),(0,t.jsx)("input",{type:"text",value:eM.state,onChange:e=>eE({...eM,state:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Wilayah Persekutuan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Postal Code"}),(0,t.jsx)("input",{type:"text",value:eM.postal_code,onChange:e=>eE({...eM,postal_code:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"50000"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Country"}),(0,t.jsxs)("select",{value:eM.country,onChange:e=>eE({...eM,country:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"Malaysia",children:"Malaysia"}),(0,t.jsx)("option",{value:"Singapore",children:"Singapore"}),(0,t.jsx)("option",{value:"Indonesia",children:"Indonesia"}),(0,t.jsx)("option",{value:"Thailand",children:"Thailand"}),(0,t.jsx)("option",{value:"Philippines",children:"Philippines"}),(0,t.jsx)("option",{value:"Vietnam",children:"Vietnam"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Additional Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Birth"}),(0,t.jsx)("input",{type:"date",value:eM.date_of_birth,onChange:e=>eE({...eM,date_of_birth:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),(0,t.jsxs)("select",{value:eM.timezone,onChange:e=>eE({...eM,timezone:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,t.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Asia/Kuala_Lumpur (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),(0,t.jsx)("option",{value:"Asia/Jakarta",children:"Asia/Jakarta (GMT+7)"}),(0,t.jsx)("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"}),(0,t.jsx)("option",{value:"Asia/Manila",children:"Asia/Manila (GMT+8)"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:eM.tags,onChange:e=>eE({...eM,tags:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"high-value, tech-savvy, frequent-caller"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,t.jsx)("textarea",{value:eM.notes,onChange:e=>eE({...eM,notes:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500 h-24",placeholder:"Additional notes about the customer..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Field 1"}),(0,t.jsx)("input",{type:"text",value:eM.custom_field1,onChange:e=>eE({...eM,custom_field1:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Custom data..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Field 2"}),(0,t.jsx)("input",{type:"text",value:eM.custom_field2,onChange:e=>eE({...eM,custom_field2:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Custom data..."})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{X(!1),ei(null),th()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:tm,disabled:!eM.customer_name||!eM.primary_phone||!eM.primary_email,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:er?"Update Customer":"Save Customer"})]})]})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{J(!1),ed(null),tf()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(e1.default,{className:"w-6 h-6 text-blue-500"}),en?"Edit ACD Routing Rule":"Create ACD Routing Rule"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rule Name *"}),(0,t.jsx)("input",{type:"text",value:eR.rule_name,onChange:e=>eL({...eR,rule_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"VIP Customer Priority Routing"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eR.rule_description,onChange:e=>eL({...eR,rule_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-20",placeholder:"Describe the purpose and behavior of this routing rule..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority Level *"}),(0,t.jsxs)("select",{value:eR.priority,onChange:e=>eL({...eR,priority:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"1",children:"1 - Lowest"}),(0,t.jsx)("option",{value:"2",children:"2 - Low"}),(0,t.jsx)("option",{value:"3",children:"3 - Below Normal"}),(0,t.jsx)("option",{value:"4",children:"4 - Normal"}),(0,t.jsx)("option",{value:"5",children:"5 - Standard"}),(0,t.jsx)("option",{value:"6",children:"6 - Above Normal"}),(0,t.jsx)("option",{value:"7",children:"7 - High"}),(0,t.jsx)("option",{value:"8",children:"8 - Very High"}),(0,t.jsx)("option",{value:"9",children:"9 - Critical"}),(0,t.jsx)("option",{value:"10",children:"10 - Emergency"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Channel Type"}),(0,t.jsxs)("select",{value:eR.channel_type,onChange:e=>eL({...eR,channel_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Channels"}),(0,t.jsx)("option",{value:"voice",children:"Voice Calls"}),(0,t.jsx)("option",{value:"chat",children:"Live Chat"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"sms",children:"SMS"}),(0,t.jsx)("option",{value:"whatsapp",children:"WhatsApp"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Routing Strategy"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Strategy Type *"}),(0,t.jsxs)("select",{value:eR.routing_strategy,onChange:e=>eL({...eR,routing_strategy:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"round_robin",children:"Round Robin - Distribute evenly"}),(0,t.jsx)("option",{value:"least_active",children:"Least Active - Route to least busy agent"}),(0,t.jsx)("option",{value:"longest_idle",children:"Longest Idle - Route to longest waiting agent"}),(0,t.jsx)("option",{value:"skills_based",children:"Skills-Based - Match by expertise"}),(0,t.jsx)("option",{value:"priority_weighted",children:"Priority Weighted - VIP gets priority"}),(0,t.jsx)("option",{value:"predictive",children:"Predictive - AI-based routing"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Selection"}),(0,t.jsxs)("select",{value:eR.agent_selection_criteria,onChange:e=>eL({...eR,agent_selection_criteria:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"longest_idle",children:"Longest Idle Time"}),(0,t.jsx)("option",{value:"most_skilled",children:"Most Skilled"}),(0,t.jsx)("option",{value:"best_satisfaction",children:"Best Satisfaction Score"}),(0,t.jsx)("option",{value:"random",children:"Random Selection"}),(0,t.jsx)("option",{value:"sequential",children:"Sequential Order"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Queue"}),(0,t.jsx)("input",{type:"text",value:eR.target_queue,onChange:e=>eL({...eR,target_queue:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"support_queue"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Required Skill"}),(0,t.jsx)("input",{type:"text",value:eR.target_skill,onChange:e=>eL({...eR,target_skill:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"technical_support"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Skill Level"}),(0,t.jsxs)("select",{value:eR.min_skill_level,onChange:e=>eL({...eR,min_skill_level:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"1",children:"1 - Beginner"}),(0,t.jsx)("option",{value:"2",children:"2 - Intermediate"}),(0,t.jsx)("option",{value:"3",children:"3 - Advanced"}),(0,t.jsx)("option",{value:"4",children:"4 - Expert"}),(0,t.jsx)("option",{value:"5",children:"5 - Master"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Backup Queue"}),(0,t.jsx)("input",{type:"text",value:eR.backup_queue,onChange:e=>eL({...eR,backup_queue:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"general_queue"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Overflow & Timing"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overflow Action"}),(0,t.jsxs)("select",{value:eR.overflow_action,onChange:e=>eL({...eR,overflow_action:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"voicemail",children:"Send to Voicemail"}),(0,t.jsx)("option",{value:"callback",children:"Offer Callback"}),(0,t.jsx)("option",{value:"queue",children:"Hold in Queue"}),(0,t.jsx)("option",{value:"redirect",children:"Redirect to Another Queue"}),(0,t.jsx)("option",{value:"disconnect",children:"Disconnect with Message"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overflow Threshold (seconds)"}),(0,t.jsx)("input",{type:"number",value:eR.overflow_threshold_seconds,onChange:e=>eL({...eR,overflow_threshold_seconds:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"30",step:"30"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Wait Time (seconds)"}),(0,t.jsx)("input",{type:"number",value:eR.max_wait_time,onChange:e=>eL({...eR,max_wait_time:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"60",step:"30"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Callback Threshold (seconds)"}),(0,t.jsx)("input",{type:"number",value:eR.callback_threshold,onChange:e=>eL({...eR,callback_threshold:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"30",step:"30"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Advanced Conditions"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier Filter"}),(0,t.jsxs)("select",{value:eR.customer_tier_filter,onChange:e=>eL({...eR,customer_tier_filter:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"All Tiers"}),(0,t.jsx)("option",{value:"vip",children:"VIP Only"}),(0,t.jsx)("option",{value:"premium",children:"Premium Only"}),(0,t.jsx)("option",{value:"standard",children:"Standard Only"}),(0,t.jsx)("option",{value:"basic",children:"Basic Only"})]})]}),(0,t.jsx)("div",{className:"flex items-center pt-6",children:(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eR.business_hours_only,onChange:e=>eL({...eR,business_hours_only:e.target.checked}),className:"w-5 h-5 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Business Hours Only"})]})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eR.enable_callback,onChange:e=>eL({...eR,enable_callback:e.target.checked}),className:"w-5 h-5 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Enable Callback Option"})]})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eR.time_based_routing,onChange:e=>eL({...eR,time_based_routing:e.target.checked}),className:"w-5 h-5 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-3 text-gray-300",children:"Enable Time-Based Routing"})]})})]}),eR.time_based_routing&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Time-Based Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time"}),(0,t.jsx)("input",{type:"time",value:eR.time_start,onChange:e=>eL({...eR,time_start:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time"}),(0,t.jsx)("input",{type:"time",value:eR.time_end,onChange:e=>eL({...eR,time_end:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Active Days"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>(0,t.jsxs)("label",{className:"flex items-center cursor-pointer bg-gray-800 px-3 py-2 rounded-lg border border-gray-700",children:[(0,t.jsx)("input",{type:"checkbox",checked:eR.days_of_week.includes(e),onChange:t=>{t.target.checked?eL({...eR,days_of_week:[...eR.days_of_week,e]}):eL({...eR,days_of_week:eR.days_of_week.filter(t=>t!==e)})},className:"w-4 h-4 text-blue-600 bg-gray-900 border-gray-700 rounded focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-2 text-gray-300 capitalize text-sm",children:e})]},e))})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{J(!1),ed(null),tf()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:tb,disabled:!eR.rule_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:en?"Update Rule":"Create Rule"})]})]})]})}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-2xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{ee(!1),eo(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eu.default,{className:"w-6 h-6 text-yellow-500"}),ec?"Edit Agent Skill":"Add New Agent Skill"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Name *"}),(0,t.jsx)("input",{type:"text",value:eF.agent_name,onChange:e=>e$({...eF,agent_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",placeholder:"John Smith"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Name *"}),(0,t.jsx)("input",{type:"text",value:eF.skill_name,onChange:e=>e$({...eF,skill_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",placeholder:"English, Technical Support, etc."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Category"}),(0,t.jsxs)("select",{value:eF.skill_category,onChange:e=>e$({...eF,skill_category:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",children:[(0,t.jsx)("option",{value:"language",children:"Language"}),(0,t.jsx)("option",{value:"department",children:"Department"}),(0,t.jsx)("option",{value:"technical",children:"Technical"}),(0,t.jsx)("option",{value:"product",children:"Product Knowledge"}),(0,t.jsx)("option",{value:"soft_skills",children:"Soft Skills"}),(0,t.jsx)("option",{value:"industry",children:"Industry Expertise"}),(0,t.jsx)("option",{value:"certification",children:"Certification"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Proficiency Level: ",eF.proficiency_level,"/10"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:eF.proficiency_level,onChange:e=>e$({...eF,proficiency_level:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"Beginner"}),(0,t.jsx)("span",{children:"Intermediate"}),(0,t.jsx)("span",{children:"Expert"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"is_active",checked:eF.is_active,onChange:e=>e$({...eF,is_active:e.target.checked}),className:"w-4 h-4 text-yellow-600 bg-gray-900 border-gray-700 rounded focus:ring-yellow-500"}),(0,t.jsx)("label",{htmlFor:"is_active",className:"text-sm text-gray-300",children:"Active (Available for skill-based routing)"})]}),(0,t.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"Skill Information"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Skills are used for intelligent routing to match customer needs with agent expertise"}),(0,t.jsx)("li",{children:"â€¢ Higher proficiency levels indicate deeper expertise in the skill area"}),(0,t.jsx)("li",{children:"â€¢ Inactive skills are not considered during routing but remain in the system"}),(0,t.jsx)("li",{children:"â€¢ You can assign multiple skills to each agent for comprehensive coverage"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{ee(!1),eo(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:te,disabled:!eF.agent_name||!eF.skill_name,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ec?"Update Skill":"Add Skill"})]})]})}),et&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{es(!1),em(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eb.TrendingUp,{className:"w-6 h-6 text-red-500"}),ex?"Edit Priority Rule":"Create Priority Rule"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-red-400 mb-2",children:"About Priority Routing"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Priority rules automatically boost the queue position for specific customers or situations. Higher priority levels and boost percentages mean faster service."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rule Name *"}),(0,t.jsx)("input",{type:"text",value:eq.priority_name,onChange:e=>eO({...eq,priority_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",placeholder:"VIP Customer Priority"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eq.priority_description,onChange:e=>eO({...eq,priority_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500 h-20",placeholder:"Describe when and why this priority boost should be applied..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Priority Level: ",eq.priority_level,"/10"]}),(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:eq.priority_level,onChange:e=>eO({...eq,priority_level:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"Low"}),(0,t.jsx)("span",{children:"Medium"}),(0,t.jsx)("span",{children:"High"}),(0,t.jsx)("span",{children:"Critical"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Boost Percentage: +",eq.boost_percentage,"%"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"300",step:"10",value:eq.boost_percentage,onChange:e=>eO({...eq,boost_percentage:parseInt(e.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,t.jsx)("span",{children:"0%"}),(0,t.jsx)("span",{children:"100%"}),(0,t.jsx)("span",{children:"200%"}),(0,t.jsx)("span",{children:"300%"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trigger Condition Type"}),(0,t.jsxs)("select",{value:eq.condition_type,onChange:e=>eO({...eq,condition_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",children:[(0,t.jsx)("option",{value:"customer_tier",children:"Customer Tier"}),(0,t.jsx)("option",{value:"wait_time",children:"Wait Time (Minutes)"}),(0,t.jsx)("option",{value:"lifetime_value",children:"Lifetime Value (Minimum)"}),(0,t.jsx)("option",{value:"interaction_count",children:"Interaction Count (Minimum)"})]})]}),"customer_tier"===eq.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier *"}),(0,t.jsxs)("select",{value:eq.condition_value,onChange:e=>eO({...eq,condition_value:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",children:[(0,t.jsx)("option",{value:"",children:"Select Tier"}),(0,t.jsx)("option",{value:"vip",children:"VIP"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"}),(0,t.jsx)("option",{value:"premium",children:"Premium"}),(0,t.jsx)("option",{value:"standard",children:"Standard"}),(0,t.jsx)("option",{value:"basic",children:"Basic"})]})]}),"wait_time"===eq.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Minimum Wait Time (Minutes): ",eq.wait_time_minutes]}),(0,t.jsx)("input",{type:"number",min:"1",max:"60",value:eq.wait_time_minutes,onChange:e=>eO({...eq,wait_time_minutes:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers waiting longer than this duration"})]}),"lifetime_value"===eq.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Lifetime Value (RM)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"100",value:eq.lifetime_value_min,onChange:e=>eO({...eq,lifetime_value_min:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers with lifetime value above this amount"})]}),"interaction_count"===eq.condition_type&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Interaction Count"}),(0,t.jsx)("input",{type:"number",min:"1",value:eq.interaction_count_min,onChange:e=>eO({...eq,interaction_count_min:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers with this many or more interactions"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"priority_is_active",checked:eq.is_active,onChange:e=>eO({...eq,is_active:e.target.checked}),className:"w-4 h-4 text-red-600 bg-gray-900 border-gray-700 rounded focus:ring-red-500"}),(0,t.jsx)("label",{htmlFor:"priority_is_active",className:"text-sm text-gray-300",children:"Active (Apply this rule to incoming interactions)"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"Priority Rule Examples"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"VIP Customers:"})," Priority Level 10, +200% boost for customer_tier = VIP"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Long Wait:"})," Priority Level 7, +100% boost for wait_time greater than 3 minutes"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"High Value:"})," Priority Level 8, +150% boost for lifetime_value above RM 10,000"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"Loyal Customers:"})," Priority Level 6, +75% boost for interaction_count above 20"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{es(!1),em(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:ts,disabled:!eq.priority_name,className:"flex-1 bg-gradient-to-r from-red-500 to-orange-600 hover:from-red-600 hover:to-orange-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ex?"Update Rule":"Create Rule"})]})]})}),ea&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{el(!1),ep(null),eK([])},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(Q.Phone,{className:"w-6 h-6 text-blue-500"}),eh?"Edit IVR Configuration":"Create IVR Configuration"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-blue-400 mb-2",children:"About IVR Configuration"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Configure Interactive Voice Response menus with traditional key press options and modern Conversational AI intents. Customers can either press keys or speak naturally to navigate your system."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Menu Name *"}),(0,t.jsx)("input",{type:"text",value:eV.menu_name,onChange:e=>ez({...eV,menu_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Main Menu"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eV.menu_description,onChange:e=>ez({...eV,menu_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-20",placeholder:"Primary customer service menu..."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Greeting Message *"}),(0,t.jsx)("textarea",{value:eV.greeting_text,onChange:e=>ez({...eV,greeting_text:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-24",placeholder:"Thank you for calling. Press 1 for sales, 2 for support, or just say what you need..."})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Greeting Audio URL (Optional)"}),(0,t.jsx)("input",{type:"text",value:eV.greeting_audio_url,onChange:e=>ez({...eV,greeting_audio_url:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"https://example.com/audio/greeting.mp3"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timeout (Seconds)"}),(0,t.jsx)("input",{type:"number",min:"5",max:"60",value:eV.timeout_seconds,onChange:e=>ez({...eV,timeout_seconds:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Retries"}),(0,t.jsx)("input",{type:"number",min:"1",max:"5",value:eV.max_retries,onChange:e=>ez({...eV,max_retries:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Invalid Option Message"}),(0,t.jsx)("input",{type:"text",value:eV.invalid_option_message,onChange:e=>ez({...eV,invalid_option_message:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timeout Message"}),(0,t.jsx)("input",{type:"text",value:eV.timeout_message,onChange:e=>ez({...eV,timeout_message:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"ivr_use_ai",checked:eV.use_conversational_ai,onChange:e=>ez({...eV,use_conversational_ai:e.target.checked}),className:"w-4 h-4 text-purple-600 bg-gray-900 border-gray-700 rounded focus:ring-purple-500"}),(0,t.jsx)("label",{htmlFor:"ivr_use_ai",className:"text-sm text-gray-300",children:"Enable Conversational AI"})]}),eV.use_conversational_ai&&(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("select",{value:eV.ai_model,onChange:e=>ez({...eV,ai_model:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[(0,t.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,t.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,t.jsx)("option",{value:"claude-3",children:"Claude 3"}),(0,t.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"ivr_is_active",checked:eV.is_active,onChange:e=>ez({...eV,is_active:e.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-900 border-gray-700 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"ivr_is_active",className:"text-sm text-gray-300",children:"Active"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Menu Options"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>td("traditional"),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Key Press"]}),eV.use_conversational_ai&&(0,t.jsxs)("button",{onClick:()=>td("ai"),className:"px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg flex items-center gap-2",children:[(0,t.jsx)(ef.default,{className:"w-4 h-4"}),"Add AI Intent"]})]})]}),0===eB.length?(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,t.jsx)("p",{className:"text-gray-400",children:"No menu options added yet"})}):(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:eB.map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:e.option_key.startsWith("AI")?"Intent Key":"Key Press"}),(0,t.jsx)("input",{type:"text",value:e.option_key,onChange:e=>to(s,"option_key",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:e.option_key.startsWith("AI")?"AI_INTENT_1":"1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Label"}),(0,t.jsx)("input",{type:"text",value:e.option_label,onChange:e=>to(s,"option_label",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:"Sales Department"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Action Type"}),(0,t.jsxs)("select",{value:e.action_type,onChange:e=>to(s,"action_type",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"transfer_queue",children:"Transfer to Queue"}),(0,t.jsx)("option",{value:"transfer_agent",children:"Transfer to Agent"}),(0,t.jsx)("option",{value:"voicemail",children:"Voicemail"}),(0,t.jsx)("option",{value:"callback",children:"Request Callback"}),(0,t.jsx)("option",{value:"submenu",children:"Sub Menu"}),(0,t.jsx)("option",{value:"hangup",children:"Hang Up"}),e.option_key.startsWith("AI")&&(0,t.jsx)("option",{value:"ai_intent",children:"AI Intent"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Target"}),(0,t.jsx)("input",{type:"text",value:e.action_target,onChange:e=>to(s,"action_target",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:"sales_queue"})]}),e.option_key.startsWith("AI")&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"AI Intent"}),(0,t.jsx)("input",{type:"text",value:e.ai_intent,onChange:e=>to(s,"ai_intent",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:"speak_to_sales"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Priority"}),(0,t.jsx)("input",{type:"number",min:"1",max:"10",value:e.priority,onChange:e=>to(s,"priority",parseInt(e.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-end gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("input",{type:"checkbox",id:`option_active_${s}`,checked:e.is_active,onChange:e=>to(s,"is_active",e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-900 border-gray-700 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:`option_active_${s}`,className:"text-xs text-gray-300",children:"Active"})]}),(0,t.jsx)("button",{onClick:()=>{eK(eB.filter((e,t)=>t!==s))},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Remove Option",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]})},s))})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{el(!1),ep(null),eK([])},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:ti,disabled:!eV.menu_name||!eV.greeting_text||0===eB.length,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:eh?"Update IVR":"Create IVR"})]})]})})]})}var sg=e.i(68570),sg=sg,l=l,tn=tn,eG=eG,tX=tX,ez=ez,sb=e.i(54619),sb=sb,eh=eh,_=_,N=N,P=P,eM=eM,r=r,tI=tI;function sf({botId:e}){let[a,i]=(0,s.useState)([]),[n,d]=(0,s.useState)([]),[o,x]=(0,s.useState)([]),[m,u]=(0,s.useState)("all"),[p,g]=(0,s.useState)(""),[b,f]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[k,C]=(0,s.useState)({}),[S,A]=(0,s.useState)(""),[T,I]=(0,s.useState)(null),[M,D]=(0,s.useState)(!0),E={MessageSquare:Y.MessageSquare,Share2:sg.default,Users:l.default,Brain:tn.default,Database:eG.default,Phone:Q.Phone,Headphones:tX.default,CreditCard:ey.CreditCard,Package:eo.Package,BarChart3:eR.BarChart3,Zap:ez.default,MoreHorizontal:sb.default,TrendingUp:eb.TrendingUp};(0,s.useEffect)(()=>{e&&R()},[e]);let R=async()=>{D(!0);try{let[t,s,a]=await Promise.all([h.db.from("cb_integration_categories").select("*").order("sort_order"),h.db.from("cb_integration_providers").select("*").eq("is_active",!0),h.db.from("cb_bot_integrations").select("*, cb_integration_providers(*)").eq("bot_id",e)]);t.data&&i(t.data),s.data&&d(s.data),a.data&&x(a.data)}catch(e){console.error("Error loading integration data:",e)}finally{D(!1)}},L=n.filter(e=>{let t="all"===m||e.category_id===m,s=e.provider_display_name.toLowerCase().includes(p.toLowerCase())||e.description?.toLowerCase().includes(p.toLowerCase());return t&&s}),F=(e,t)=>{if(w(e),I(t||null),A(t?.integration_name||`${e.provider_display_name} Integration`),t)C(t.configuration||{});else{let t={};Object.keys(e.configuration_schema||{}).forEach(e=>{t[e]=""}),C(t)}f(!0)},$=()=>{f(!1),w(null),I(null),C({}),A("")},q=async()=>{if(j)try{let t={bot_id:e,provider_id:j.id,integration_name:S,configuration:k,is_active:!0,sync_status:"configured"};if(T){let{error:e}=await h.db.from("cb_bot_integrations").update(t).eq("id",T.id);if(e)throw e}else{let{error:e}=await h.db.from("cb_bot_integrations").insert(t);if(e)throw e}$(),R()}catch(e){alert("Failed to save integration: "+e.message)}},U=async e=>{try{let{error:t}=await h.db.from("cb_bot_integrations").update({is_active:!e.is_active}).eq("id",e.id);if(t)throw t;R()}catch(e){alert("Failed to toggle integration: "+e.message)}},O=async e=>{if(confirm("Are you sure you want to delete this integration?"))try{let{error:t}=await h.db.from("cb_bot_integrations").delete().eq("id",e);if(t)throw t;R()}catch(e){alert("Failed to delete integration: "+e.message)}},V=async e=>{try{let{error:t}=await h.db.from("cb_bot_integrations").update({sync_status:"testing",last_sync_at:new Date().toISOString()}).eq("id",e.id);if(t)throw t;setTimeout(()=>{h.db.from("cb_bot_integrations").update({sync_status:"connected"}).eq("id",e.id).then(()=>R())},2e3),R()}catch(e){alert("Failed to test connection: "+e.message)}};return M?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)(tI.default,{className:"w-8 h-8 text-blue-500 animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Channel Integrations"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Connect your chatbot to messaging platforms, CRMs, and other services"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[o.filter(e=>e.is_active).length," Active"]})})]}),(0,t.jsx)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:(0,t.jsx)("input",{type:"text",placeholder:"Search integrations...",value:p,onChange:e=>g(e.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})}),(0,t.jsxs)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition-colors ${"all"===m?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["All (",n.length,")"]}),a.map(e=>{let s=n.filter(t=>t.category_id===e.id).length;return(0,t.jsxs)("button",{onClick:()=>u(e.id),className:`px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition-colors ${m===e.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[e.category_display_name," (",s,")"]},e.id)})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(e=>{let s,a=E[e.configuration_schema?.icon]||c.Settings,l=(s=e.id,o.some(e=>e.provider_id===s)),r=o.find(t=>t.provider_id===e.id),i=r?(e=>{if(!e.is_active)return{icon:y.X,color:"text-gray-500",bg:"bg-gray-500/20",label:"Inactive"};switch(e.sync_status){case"connected":return{icon:v.CheckCircle,color:"text-green-500",bg:"bg-green-500/20",label:"Connected"};case"testing":return{icon:tI.default,color:"text-blue-500",bg:"bg-blue-500/20",label:"Testing"};case"error":return{icon:eF.AlertCircle,color:"text-red-500",bg:"bg-red-500/20",label:"Error"};default:return{icon:eF.AlertCircle,color:"text-yellow-500",bg:"bg-yellow-500/20",label:"Configured"}}})(r):null;return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg ${l?"bg-blue-500/20":"bg-gray-700"} flex items-center justify-center`,children:(0,t.jsx)(a,{className:`w-5 h-5 ${l?"text-blue-500":"text-gray-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:e.provider_display_name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.provider_type})]})]}),l&&i&&(0,t.jsxs)("div",{className:`${i.bg} px-2 py-1 rounded flex items-center gap-1`,children:[(0,t.jsx)(i.icon,{className:`w-3 h-3 ${i.color} ${i.icon===tI.default?"animate-spin":""}`}),(0,t.jsx)("span",{className:`text-xs ${i.color}`,children:i.label})]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.capabilities?.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:e.replace(/_/g," ")},s)),e.capabilities?.length>3&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:["+",e.capabilities.length-3]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:l&&r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>F(e,r),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configure"]}),(0,t.jsx)("button",{onClick:()=>U(r),className:`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${r.is_active?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:r.is_active?(0,t.jsx)(y.X,{className:"w-4 h-4"}):(0,t.jsx)(eh.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>V(r),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors",children:(0,t.jsx)(P.default,{className:"w-4 h-4"})})]}):(0,t.jsxs)("button",{onClick:()=>F(e),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Connect"]})})]},e.id)})}),0===L.length&&(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[(0,t.jsx)(c.Settings,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No integrations found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or category filter"})]}),b&&j&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-700 sticky top-0 bg-gray-800",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white",children:[T?"Configure":"Connect"," ",j.provider_display_name]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:j.description})]}),(0,t.jsx)("button",{onClick:$,className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Integration Name"}),(0,t.jsx)("input",{type:"text",value:S,onChange:e=>A(e.target.value),placeholder:"e.g., Production Slack Bot",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(r.default,{className:"w-5 h-5 text-blue-400 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("h4",{className:"text-sm font-semibold text-blue-300 mb-1",children:["Authentication: ",j.auth_type]}),(0,t.jsxs)("p",{className:"text-xs text-blue-200/80",children:["api_key"===j.auth_type&&"Enter your API key to authenticate","oauth2"===j.auth_type&&"OAuth 2.0 authentication required","token"===j.auth_type&&"Enter your access token","basic_auth"===j.auth_type&&"Enter your username and password"]})]})]})}),Object.entries(j.configuration_schema||{}).map(([e,s])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),(0,t.jsx)("input",{type:e.includes("secret")||e.includes("password")||e.includes("token")?"password":"text",value:k[e]||"",onChange:t=>C({...k,[e]:t.target.value}),placeholder:`Enter ${e.replace(/_/g," ")}`,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]},e)),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Capabilities"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:j.capabilities?.map((e,s)=>(0,t.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-gray-200 text-xs rounded-full",children:e.replace(/_/g," ")},s))})]}),j.documentation_url&&(0,t.jsxs)("a",{href:j.documentation_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm",children:[(0,t.jsx)(eM.default,{className:"w-4 h-4"}),"View Documentation"]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-700 flex gap-3 sticky bottom-0 bg-gray-800",children:[T&&(0,t.jsxs)("button",{onClick:()=>O(T.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(N.default,{className:"w-4 h-4"}),"Delete"]}),(0,t.jsx)("button",{onClick:$,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:q,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:T?"Save Changes":"Connect Integration"})]})]})})]})}var ex=ex,eG=eG,i=i,tn=tn,_=_,j=j,N=N,z=z,eh=eh,l=l,ez=ez,tC=tC,tr=tr,e2=e2,e8=e8,tI=tI;function sj(){let[e,a]=(0,s.useState)("dashboard"),[r,n]=(0,s.useState)(!1),[c,o]=(0,s.useState)([]),[x,m]=(0,s.useState)(null),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[w,k]=(0,s.useState)([]),[C,S]=(0,s.useState)([]),[A,T]=(0,s.useState)([]),[P,I]=(0,s.useState)(!1),[M,D]=(0,s.useState)(!1),[E,R]=(0,s.useState)(!1),[L,F]=(0,s.useState)(null),[$,q]=(0,s.useState)(null),[U,O]=(0,s.useState)(null),[V,B]=(0,s.useState)({intent_name:"",intent_display_name:"",intent_description:"",training_phrases:[],action_type:"text",is_active:!0,priority:5}),[K,W]=(0,s.useState)(""),[G,X]=(0,s.useState)({entity_name:"",entity_display_name:"",entity_type:"list",values:[],regex_pattern:"",is_active:!0}),[H,J]=(0,s.useState)(""),[Q,Z]=(0,s.useState)(""),[ee,et]=(0,s.useState)(""),[es,ea]=(0,s.useState)([]),[el,er]=(0,s.useState)(!1),[ei,en]=(0,s.useState)(""),[ed,ec]=(0,s.useState)("openai"),[eo,em]=(0,s.useState)(null),[eu,ep]=(0,s.useState)([]),[ef,ej]=(0,s.useState)(!1),[eN,ev]=(0,s.useState)([]),[ey,ew]=(0,s.useState)(!1),[e_,ek]=(0,s.useState)(null),[eC,eS]=(0,s.useState)({config_name:"",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,temperature:.7,max_tokens:500,is_active:!0}),[eA,eT]=(0,s.useState)({title:"",content:"",content_type:"article",category:"",tags:[],url:"",source_type:"manual",file:null,is_active:!0}),[eI,eM]=(0,s.useState)(""),[eE,eR]=(0,s.useState)(0),[eL,e$]=(0,s.useState)(!1),[eq,eU]=(0,s.useState)({intent_classifier:{status:"idle",last_trained:null,progress:0},entity_extractor:{status:"idle",last_trained:null,progress:0}});(0,s.useEffect)(()=>{eO()},[]),(0,s.useEffect)(()=>{x&&eB()},[x]);let eO=async()=>{n(!0);try{let{data:e,error:t}=await h.db.from("cb_bots").select("*").order("created_at",{ascending:!1});if(t)throw t;o(e||[]),e&&e.length>0&&!x&&m(e[0].id)}catch(e){console.error("Error loading bots:",e)}finally{n(!1)}},eV=async()=>{let e=[{name:"WhatsApp Customer Care",description:"Automated WhatsApp bot for customer support and order tracking",platform:"whatsapp",type:"support",status:"active",language:"en",greeting_message:"Hi! Welcome to our WhatsApp support. How can I help you today?",configuration:JSON.stringify({welcome_msg:!0,auto_reply:!0})},{name:"Telegram News Bot",description:"Telegram bot for delivering real-time news updates and alerts",platform:"telegram",type:"informational",status:"active",language:"en",greeting_message:"Welcome to the News Alert bot! You will receive updates here.",configuration:JSON.stringify({categories:["tech","world","finance"]})},{name:"Facebook Sales Assistant",description:"Facebook bot for handling product inquiries and lead generation",platform:"facebook",type:"sales",status:"active",language:"en",greeting_message:"Hello! Interested in our products? I can show you the latest catalog.",configuration:JSON.stringify({flow:"sales_funnel"})},{name:"TikTok Interactive Bot",description:"TikTok bot for engaging with followers and managing contests",platform:"tiktok",type:"engagement",status:"active",language:"en",greeting_message:"Hey TikToker! Ready to join the challenge?",configuration:JSON.stringify({mode:"contest"})},{name:"Messenger Support Bot",description:"Messenger bot for 24/7 automated customer service",platform:"messenger",type:"support",status:"active",language:"en",greeting_message:"How can we assist you on Messenger today?",configuration:JSON.stringify({persistent_menu:!0})},{name:"Instagram Shopping Bot",description:"Instagram bot for product catalogs and seamless shopping experience",platform:"instagram",type:"sales",status:"active",language:"en",greeting_message:"Welcome to our Instagram shop! Browse our latest collections.",configuration:JSON.stringify({shop_id:"instashop_1"})},{name:"Viber Business Bot",description:"Viber bot for secure business communications and notifications",platform:"viber",type:"business",status:"active",language:"en",greeting_message:"Welcome to our official Viber business account.",configuration:JSON.stringify({security:"high"})},{name:"Webchat Help Desk",description:"Webchat bot for real-time website assistance and FAQ handling",platform:"webchat",type:"support",status:"active",language:"en",greeting_message:"Hello! How can I help you with our website today?",configuration:JSON.stringify({theme:"blue"})},{name:"Line Service Bot",description:"Line bot for service bookings and appointment management",platform:"line",type:"service",status:"active",language:"en",greeting_message:"Welcome! Use this bot to book your next appointment.",configuration:JSON.stringify({calendar_id:"line_cal_1"})},{name:"Line Global Bot",description:"Global Line bot for multi-language customer engagement",platform:"line",type:"conversational",status:"active",language:"en",greeting_message:"Hello and welcome to our global Line channel.",configuration:JSON.stringify({regions:["APAC","EMEA","AMER"]})}];n(!0);try{await h.db.from("cb_bots").insert(e);let{data:t,error:s}=await h.db.from("cb_bots").select("*");if(s)throw s;for(let s of t||[]){if(!e.find(e=>e.name===s.name))continue;let t=[{bot_id:s.id,intent_name:"greeting",intent_display_name:"Greeting",intent_description:"User says hello",training_phrases:JSON.stringify(["Hi","Hello","Hey there"]),action_type:"text",priority:5},{bot_id:s.id,intent_name:"help",intent_display_name:"Help Request",intent_description:"User needs assistance",training_phrases:JSON.stringify(["Help","I need help","Support"]),action_type:"text",priority:4},{bot_id:s.id,intent_name:"bye",intent_display_name:"Goodbye",intent_description:"User says goodbye",training_phrases:JSON.stringify(["Bye","Goodbye","See you"]),action_type:"text",priority:5},{bot_id:s.id,intent_name:"status_check",intent_display_name:"Status Check",intent_description:"Check order/service status",training_phrases:JSON.stringify(["Where is my order?","Track status","Check my booking"]),action_type:"api",priority:3},{bot_id:s.id,intent_name:"refund",intent_display_name:"Refund Inquiry",intent_description:"Inquire about refunds",training_phrases:JSON.stringify(["I want a refund","Refund policy","Money back"]),action_type:"text",priority:2}];await h.db.from("cb_intents").insert(t);let a=[{bot_id:s.id,entity_name:"order_id",entity_display_name:"Order ID",entity_type:"regex",regex_pattern:"ORD-\\d{5}",is_active:!0},{bot_id:s.id,entity_name:"product_type",entity_display_name:"Product Type",entity_type:"list",values:JSON.stringify([{value:"electronics",synonyms:["gadget","tech"]},{value:"fashion",synonyms:["clothing","wear"]}]),is_active:!0}];await h.db.from("cb_entities").insert(a);let l=[{bot_id:s.id,title:"How to use this bot",content:"Simply type your request in natural language. I can help with orders, support, and FAQs.",content_type:"article",category:"General"},{bot_id:s.id,title:"Return Policy",content:"Our return policy allows items to be returned within 30 days of purchase.",content_type:"faq",category:"Policies"},{bot_id:s.id,title:"Shipping Times",content:"Standard shipping takes 3-5 business days. Express takes 1-2.",content_type:"faq",category:"Shipping"}];await h.db.from("cb_knowledge_base").insert(l);let r={bot_id:s.id,config_name:"Standard NLU Config",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,is_active:!0};await h.db.from("cb_ml_configs").insert(r);let i=`session-${Math.random().toString(36).substr(2,9)}`,{data:n,error:d}=await h.db.from("cb_conversations").insert({bot_id:s.id,session_id:i,user_id:`user-${Math.random().toString(36).substr(2,5)}`,channel:s.platform||"web",status:"completed",message_count:2});if(n){let e=Array.isArray(n)?n[0].id:n.id;await h.db.from("cb_messages").insert([{conversation_id:e,message_type:"user",message_text:"Hello, I need help with my order",detected_intent:"help",intent_confidence:.95},{conversation_id:e,message_type:"bot",message_text:"Hi! Sure, I can help you with that. What is your order ID?"}])}}alert("Successfully seeded 10 bots with full sample data sets!"),await eO()}catch(e){console.error("Error seeding bots:",e),alert("Failed to seed sample bots: "+e.message)}finally{n(!1)}},eB=async()=>{x&&await Promise.all([eW(),eX(),eH(),eJ(),eY(),eK()])},eK=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_ml_configs").select("*").eq("bot_id",x).order("created_at",{ascending:!1});if(t)throw t;ev(e||[])}catch(e){console.error("Error loading ML configs:",e)}},eW=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_intents").select("*").eq("bot_id",x).order("priority",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>({...e,training_phrases:"string"==typeof e.training_phrases?JSON.parse(e.training_phrases):e.training_phrases||[]}));p(s)}catch(e){console.error("Error loading intents:",e)}},eX=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_entities").select("*").eq("bot_id",x).order("entity_display_name");if(t)throw t;let s=(e||[]).map(e=>({...e,values:"string"==typeof e.values?JSON.parse(e.values):e.values||[]}));b(s)}catch(e){console.error("Error loading entities:",e)}},eH=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_conversations").select("*").eq("bot_id",x).order("started_at",{ascending:!1}).limit(50);if(t)throw t;v(e||[])}catch(e){console.error("Error loading conversations:",e)}},eJ=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_knowledge_base").select("*").eq("bot_id",x).order("created_at",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[]}));S(s)}catch(e){console.error("Error loading knowledge base:",e)}},eY=async()=>{if(x)try{let{data:e,error:t}=await h.db.from("cb_integrations").select("*").eq("bot_id",x).order("integration_name");if(t)throw t;T(e||[])}catch(e){console.error("Error loading integrations:",e)}},eQ=()=>{B({intent_name:"",intent_display_name:"",intent_description:"",training_phrases:[],action_type:"text",is_active:!0,priority:5}),W("")},eZ=()=>{X({entity_name:"",entity_display_name:"",entity_type:"list",values:[],regex_pattern:"",is_active:!0}),J(""),Z("")},e4=()=>{K.trim()&&(B({...V,training_phrases:[...V.training_phrases,K.trim()]}),W(""))},e5=async e=>{if(confirm("Are you sure you want to delete this intent?"))try{let{error:t}=await h.db.from("cb_intents").delete().eq("id",e);if(t)throw t;eW()}catch(e){alert("Failed to delete intent: "+e.message)}},e3=async()=>{if(!x||!V.intent_name||!V.intent_display_name)return void alert("Please fill in all required fields");try{if(L){let{error:e}=await h.db.from("cb_intents").update({intent_name:V.intent_name,intent_display_name:V.intent_display_name,intent_description:V.intent_description,training_phrases:V.training_phrases,action_type:V.action_type,is_active:V.is_active,priority:V.priority}).eq("id",L);if(e)throw e}else{let{error:e}=await h.db.from("cb_intents").insert({bot_id:x,intent_name:V.intent_name,intent_display_name:V.intent_display_name,intent_description:V.intent_description,training_phrases:V.training_phrases,action_type:V.action_type,is_system_intent:!1,is_active:V.is_active,priority:V.priority});if(e)throw e}I(!1),F(null),eQ(),eW()}catch(e){alert("Failed to save intent: "+e.message)}},e1=async e=>{if(confirm("Are you sure you want to delete this entity?"))try{let{error:t}=await h.db.from("cb_entities").delete().eq("id",e);if(t)throw t;eX()}catch(e){alert("Failed to delete entity: "+e.message)}},e6=async()=>{if(!x||!G.entity_name||!G.entity_display_name)return void alert("Please fill in all required fields");try{if($){let{error:e}=await h.db.from("cb_entities").update({entity_name:G.entity_name,entity_display_name:G.entity_display_name,entity_type:G.entity_type,values:G.values,regex_pattern:G.regex_pattern||null,is_active:G.is_active}).eq("id",$);if(e)throw e}else{let{error:e}=await h.db.from("cb_entities").insert({bot_id:x,entity_name:G.entity_name,entity_display_name:G.entity_display_name,entity_type:G.entity_type,values:G.values,regex_pattern:G.regex_pattern||null,is_active:G.is_active});if(e)throw e}D(!1),q(null),eZ(),eX()}catch(e){alert("Failed to save entity: "+e.message)}},e7=async()=>{if(!ee.trim()||el||!x)return;let e={type:"user",text:ee,timestamp:new Date};ea(t=>[...t,e]),et(""),er(!0);try{let e=`${tq.default.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/chatbot-query`,t=await fetch(e,{method:"POST",headers:{Authorization:`Bearer ${tq.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({bot_id:x,message:ee,session_id:ei||void 0,user_id:"test_user",channel:"web_test",llm_provider:ed})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to get chatbot response")}let s=await t.json();!ei&&s.session_id&&en(s.session_id);let a={type:"bot",text:s.response,timestamp:new Date,intent:s.detected_intent?.intent_name||null,confidence:s.detected_intent?.confidence||0,provider:s.provider,model:s.model,kb_used:s.knowledge_base_used,metadata:s.metadata};ea(e=>[...e,a])}catch(t){console.error("Error processing message:",t);let e={type:"bot",text:`Error: ${t.message||"Failed to process your message. Please check your API keys and try again."}`,timestamp:new Date,intent:null,confidence:0,isError:!0};ea(t=>[...t,e])}finally{er(!1)}},e9=async e=>{try{let{data:t,error:s}=await h.db.from("cb_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(s)throw s;ep(t||[]),em(e),ej(!0)}catch(e){console.error("Error loading conversation messages:",e)}},te=()=>{eS({config_name:"",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,temperature:.7,max_tokens:500,is_active:!0})},tt=async e=>{if(confirm("Are you sure you want to delete this ML configuration?"))try{let{error:t}=await h.db.from("cb_ml_configs").delete().eq("id",e);if(t)throw t;eK()}catch(e){alert("Failed to delete ML config: "+e.message)}},ts=async()=>{if(!x||!eC.config_name)return void alert("Please fill in all required fields");try{if(e_){let{error:e}=await h.db.from("cb_ml_configs").update(eC).eq("id",e_);if(e)throw e}else{let{error:e}=await h.db.from("cb_ml_configs").insert({bot_id:x,...eC});if(e)throw e}ew(!1),ek(null),te(),eK()}catch(e){alert("Failed to save ML config: "+e.message)}},ta=async e=>{eU(t=>({...t,[e]:{...t[e],status:"training",progress:0}}));let t=setInterval(()=>{eU(s=>{let a=s[e].progress;return a>=100?(clearInterval(t),{...s,[e]:{status:"completed",last_trained:new Date().toISOString(),progress:100}}):{...s,[e]:{...s[e],progress:a+10}}})},300);setTimeout(()=>{clearInterval(t),eU(t=>({...t,[e]:{status:"completed",last_trained:new Date().toISOString(),progress:100}})),setTimeout(()=>{eU(t=>({...t,[e]:{...t[e],status:"idle",progress:0}}))},2e3)},3500)},tl=()=>{eT({title:"",content:"",content_type:"article",category:"",tags:[],url:"",source_type:"manual",file:null,is_active:!0}),eM(""),eR(0)},ti=()=>{eI.trim()&&!eA.tags.includes(eI.trim())&&(eT({...eA,tags:[...eA.tags,eI.trim()]}),eM(""))},td=async e=>{if(confirm("Are you sure you want to delete this article?"))try{let{error:t}=await h.db.from("cb_knowledge_base").delete().eq("id",e);if(t)throw t;eJ()}catch(e){alert("Failed to delete article: "+e.message)}},tc=async e=>{e$(!0),eR(0);try{let t=new FileReader;if(t.onprogress=e=>{e.lengthComputable&&eR(e.loaded/e.total*100)},t.onload=async t=>{let s=t.target?.result;eT(t=>({...t,content:s,title:t.title||e.name.replace(/\.[^/.]+$/,"")})),eR(100),e$(!1)},"application/pdf"===e.type){alert("PDF parsing requires a backend service. Please copy/paste content for now."),e$(!1);return}t.readAsText(e)}catch(e){alert("Failed to process file: "+e.message),e$(!1)}},to=async e=>{e$(!0);try{let t=await fetch(e),s=await t.text(),a=new DOMParser().parseFromString(s,"text/html"),l=a.body.innerText;eT(t=>({...t,content:l,url:e,title:t.title||a.title||"Imported from URL"})),alert("Content imported successfully from URL")}catch(e){alert("Failed to fetch URL: "+e.message)}finally{e$(!1)}},tx=async()=>{if(!x||!eA.title||!eA.content)return void alert("Please fill in title and content");try{let e={title:eA.title,content:eA.content,content_type:eA.content_type,category:eA.category||null,tags:eA.tags.length>0?eA.tags:null,url:eA.url||null,is_active:eA.is_active,metadata:{source_type:eA.source_type,imported_at:new Date().toISOString()}};if(U){let{error:t}=await h.db.from("cb_knowledge_base").update(e).eq("id",U);if(t)throw t}else{let{error:t}=await h.db.from("cb_knowledge_base").insert({bot_id:x,...e});if(t)throw t}R(!1),O(null),tl(),eJ()}catch(e){alert("Failed to save article: "+e.message)}};if(r)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading chatbot builder..."})]})});let tm=c.find(e=>e.id===x);return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eg.Bot,{className:"w-8 h-8 text-blue-500"}),"AI Chatbot Builder"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Build intelligent conversational AI with advanced NLU and multi-turn conversations"}),tm&&(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Current Bot:"}),(0,t.jsx)("select",{value:x||"",onChange:e=>m(e.target.value),className:"bg-gray-800 border border-gray-700 text-blue-400 font-medium px-2 py-1 rounded transition-colors focus:outline-none focus:border-blue-500",children:c.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"active"===tm.status?"bg-green-500/20 text-green-400":"training"===tm.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:tm.status}),(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded uppercase font-bold",children:tm.platform||"web"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:eV,disabled:r,className:"bg-gray-800 text-white px-4 py-2 rounded-lg font-semibold border border-gray-700 hover:bg-gray-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,t.jsx)(eG.default,{className:"w-4 h-4 text-blue-400"}),"Load Sample Bots"]}),(0,t.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Chatbot"]})]})]})}),0===c.length?(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[(0,t.jsx)(eg.Bot,{className:"w-20 h-20 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No chatbots found"}),(0,t.jsx)("p",{className:"text-gray-400 mb-6",children:"Create your first AI chatbot to get started"}),(0,t.jsxs)("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5 inline mr-2"}),"Create Chatbot"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>a("dashboard"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"dashboard"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eb.TrendingUp,{className:"w-4 h-4"}),"Dashboard"]}),(0,t.jsxs)("button",{onClick:()=>a("intents"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"intents"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4"}),"Intents (",u.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("entities"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"entities"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(ex.default,{className:"w-4 h-4"}),"Entities (",g.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("chat"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"chat"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(e0.MessageCircle,{className:"w-4 h-4"}),"Test Chat"]}),(0,t.jsxs)("button",{onClick:()=>a("logs"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"logs"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Conversation Logs (",f.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("ml-settings"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"ml-settings"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(tn.default,{className:"w-4 h-4"}),"ML Settings"]}),(0,t.jsxs)("button",{onClick:()=>a("knowledge-base"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"knowledge-base"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eP.BookOpen,{className:"w-4 h-4"}),"Knowledge Base (",C.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("integrations"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"integrations"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(i.default,{className:"w-4 h-4"}),"Integrations (",A.length,")"]})]}),"dashboard"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Intents"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:u.length}),(0,t.jsxs)("div",{className:"text-white/70 text-sm mt-1",children:[u.filter(e=>e.is_active).length," active"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(ex.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Entities"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:g.length}),(0,t.jsxs)("div",{className:"text-white/70 text-sm mt-1",children:[g.filter(e=>e.is_active).length," active"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(l.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Conversations"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:f.length}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Total sessions"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(ez.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Engine"})]}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:tm?.nlu_engine}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"NLU Engine"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Bot Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bot Name"}),(0,t.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:tm?.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language"}),(0,t.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:tm?.language})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confidence Threshold"}),(0,t.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:tm?.confidence_threshold})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsx)("div",{className:`rounded px-4 py-2 font-medium ${tm?.status==="active"?"bg-green-500/20 text-green-400":tm?.status==="training"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:tm?.status})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Features Enabled"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Multi-turn Conversations"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Intent Recognition (ML)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Entity Extraction (ML)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"API Tool Calling"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Context Management"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Knowledge Base RAG"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Spacy Word Embeddings"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Zero-shot NLU (LLM)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white",children:"Channel Integrations"})]})]})]})]}),"intents"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Intent Management"}),(0,t.jsxs)("button",{onClick:()=>{F(null),eQ(),I(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Intent"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:u.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.intent_display_name}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:["(",e.intent_name,")"]}),e.is_system_intent&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"System"}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.is_active?"Active":"Inactive"}),(0,t.jsxs)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:["Priority: ",e.priority]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:e.intent_description})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{F(e.id),B({intent_name:e.intent_name,intent_display_name:e.intent_display_name,intent_description:e.intent_description,training_phrases:e.training_phrases||[],action_type:e.action_type,is_active:e.is_active,priority:e.priority}),I(!0)},className:"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-600/20 rounded transition-colors",title:"Edit Intent",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>e5(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",title:"Delete Intent",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Training Phrases (",e.training_phrases.length,"):"]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.training_phrases.slice(0,5).map((e,s)=>(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-sm rounded",children:['"',e,'"']},s)),e.training_phrases.length>5&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-400 text-sm rounded",children:["+",e.training_phrases.length-5," more"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Action:"}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"api"===e.action_type?"bg-orange-500/20 text-orange-400":"text"===e.action_type?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:e.action_type})]})]})]},e.id))})]}),"entities"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Entity Management"}),(0,t.jsxs)("button",{onClick:()=>{q(null),eZ(),D(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Entity"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.entity_display_name}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"system"===e.entity_type?"bg-blue-500/20 text-blue-400":"regex"===e.entity_type?"bg-purple-500/20 text-purple-400":"list"===e.entity_type?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.entity_type}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.is_active?"Active":"Inactive"})]}),(0,t.jsxs)("p",{className:"text-gray-500 text-sm font-mono",children:["@",e.entity_name]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{q(e.id),X({entity_name:e.entity_name,entity_display_name:e.entity_display_name,entity_type:e.entity_type,values:e.values||[],regex_pattern:e.regex_pattern||"",is_active:e.is_active}),D(!0)},className:"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-600/20 rounded transition-colors",title:"Edit Entity",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>e1(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",title:"Delete Entity",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]}),e.regex_pattern&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-700 rounded",children:[(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"Pattern:"}),(0,t.jsx)("code",{className:"text-xs text-green-400 font-mono block mt-1",children:e.regex_pattern})]})]},e.id))})]}),"chat"===e&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Chat Interface"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Test your chatbot with real LLM integration"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:()=>{ea([]),en("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Clear Chat"})})]}),(0,t.jsxs)("div",{className:"mb-4 flex gap-2 items-center bg-gray-700 p-3 rounded-lg",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 font-medium",children:"LLM Provider:"}),(0,t.jsx)("button",{onClick:()=>ec("openai"),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-colors ${"openai"===ed?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"OpenAI"}),(0,t.jsx)("button",{onClick:()=>ec("gemini"),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-colors ${"gemini"===ed?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Google Gemini"}),ei&&(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"Session:"}),(0,t.jsxs)("span",{className:"text-gray-300 font-mono",children:[ei.substring(0,8),"..."]})]})]}),(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg h-96 overflow-y-auto p-4 mb-4",children:0===es.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"mb-2",children:"Start a conversation to test your bot"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["Using ","openai"===ed?"OpenAI GPT":"Google Gemini"]})]})}):(0,t.jsxs)("div",{className:"space-y-4",children:[es.map((e,s)=>(0,t.jsx)("div",{className:`flex ${"user"===e.type?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[80%] rounded-lg p-3 ${"user"===e.type?"bg-blue-600 text-white":e.isError?"bg-red-900/50 text-red-200 border border-red-700":"bg-gray-700 text-gray-200"}`,children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.text}),"bot"===e.type&&!e.isError&&(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-600 space-y-1",children:[e.intent&&(0,t.jsxs)("div",{className:"text-xs opacity-75",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Intent:"})," ",e.intent," (",(100*e.confidence).toFixed(1),"%)"]}),e.provider&&(0,t.jsxs)("div",{className:"text-xs opacity-75",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Model:"})," ",e.provider,"/",e.model]}),e.kb_used&&(0,t.jsxs)("div",{className:"text-xs text-green-400",children:[(0,t.jsx)(eh.default,{className:"w-3 h-3 inline mr-1"}),"Knowledge Base Used (",e.metadata?.kb_matches||0," matches)"]})]})]})},s)),el&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-gray-700 text-gray-200 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tI.default,{className:"w-4 h-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm",children:"Thinking..."})]})})})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:ee,onChange:e=>et(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&e7(),placeholder:"Type your message here...",disabled:el,className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 disabled:opacity-50"}),(0,t.jsx)("button",{onClick:e7,disabled:el||!ee.trim(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:el?"Sending...":"Send"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Debug Info"}),(0,t.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 h-[500px] overflow-y-auto",children:(0,t.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 font-semibold mb-1",children:"Configuration"}),(0,t.jsxs)("div",{className:"bg-gray-800 p-2 rounded",children:[(0,t.jsxs)("div",{className:"text-gray-300",children:["Bot ID: ",(0,t.jsx)("span",{className:"text-blue-400 font-mono",children:x})]}),(0,t.jsxs)("div",{className:"text-gray-300",children:["Session ID: ",(0,t.jsx)("span",{className:"text-blue-400 font-mono",children:ei||"Not started"})]}),(0,t.jsxs)("div",{className:"text-gray-300",children:["LLM Provider: ",(0,t.jsx)("span",{className:"text-blue-400",children:ed})]}),(0,t.jsxs)("div",{className:"text-gray-300",children:["Messages: ",(0,t.jsx)("span",{className:"text-blue-400",children:es.length})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 font-semibold mb-1",children:"Last Response Metadata"}),(0,t.jsx)("div",{className:"bg-gray-800 p-2 rounded",children:es.length>0&&"bot"===es[es.length-1].type?(0,t.jsx)("pre",{className:"text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(es[es.length-1],null,2)}):(0,t.jsx)("div",{className:"text-gray-500",children:"No bot response yet"})})]})]})})]})]}),"logs"===e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Conversation Logs"}),(0,t.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Session ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"User"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Channel"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Messages"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Started"})]})}),(0,t.jsx)("tbody",{children:f.map(e=>(0,t.jsxs)("tr",{onClick:()=>e9(e.id),className:"border-t border-gray-700 hover:bg-gray-700 cursor-pointer transition-colors",children:[(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-300 font-mono",children:[e.session_id.substring(0,12),"..."]}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.user_id}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:e.channel})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.message_count}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"completed"===e.status?"bg-green-500/20 text-green-400":"active"===e.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-400",children:new Date(e.started_at).toLocaleString()})]},e.id))})]})})]}),"ml-settings"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"ML & NLU Configuration"}),(0,t.jsxs)("button",{onClick:()=>{ek(null),te(),ew(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New ML Config"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:eN.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.config_name}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:e.is_active?"Active":"Inactive"})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{ek(e.id),eS({config_name:e.config_name,nlu_engine:e.nlu_engine,llm_provider:e.llm_provider,llm_model:e.llm_model,confidence_threshold:e.confidence_threshold,temperature:e.temperature,max_tokens:e.max_tokens,is_active:e.is_active}),ew(!0)},className:"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-600/20 rounded transition-colors",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>tt(e.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"NLU Engine:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.nlu_engine})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"LLM Provider:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.llm_provider})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Model:"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e.llm_model})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Confidence:"}),(0,t.jsxs)("p",{className:"text-white font-medium",children:[(100*e.confidence_threshold).toFixed(0),"%"]})]})]})]},e.id))}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(ez.default,{className:"w-5 h-5 text-yellow-500"}),"Training Status"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-white font-semibold flex items-center gap-2",children:["Intent Classifier","training"===eq.intent_classifier.status&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"completed"===eq.intent_classifier.status&&(0,t.jsx)(eh.default,{className:"w-4 h-4 text-green-500"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:eq.intent_classifier.last_trained?`Last trained: ${new Date(eq.intent_classifier.last_trained).toLocaleString()}`:"Never trained"})]}),(0,t.jsxs)("button",{onClick:()=>ta("intent_classifier"),disabled:"training"===eq.intent_classifier.status,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Train Now"]})]}),"training"===eq.intent_classifier.status&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${eq.intent_classifier.progress}%`}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Training in progress... ",eq.intent_classifier.progress,"%"]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"text-white font-semibold flex items-center gap-2",children:["Entity Extractor","training"===eq.entity_extractor.status&&(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"completed"===eq.entity_extractor.status&&(0,t.jsx)(eh.default,{className:"w-4 h-4 text-green-500"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:eq.entity_extractor.last_trained?`Last trained: ${new Date(eq.entity_extractor.last_trained).toLocaleString()}`:"Never trained"})]}),(0,t.jsxs)("button",{onClick:()=>ta("entity_extractor"),disabled:"training"===eq.entity_extractor.status,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Train Now"]})]}),"training"===eq.entity_extractor.status&&(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${eq.entity_extractor.progress}%`}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Training in progress... ",eq.entity_extractor.progress,"%"]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,t.jsx)("p",{className:"font-semibold text-blue-400 mb-1",children:"Training Information"}),(0,t.jsx)("p",{children:"Training uses your configured intents and entities to improve the NLU model. The process typically takes 3-5 seconds and includes data validation, feature extraction, and model optimization."})]})]})})]})]}),"knowledge-base"===e&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:"Knowledge Base & FAQ"}),(0,t.jsxs)("button",{onClick:()=>R(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Article"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:C.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.title}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"faq"===e.content_type?"bg-blue-500/20 text-blue-400":"article"===e.content_type?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-400"}`,children:e.content_type}),e.category&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:e.category})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm line-clamp-2",children:e.content})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{O(e.id),eT({title:e.title,content:e.content,content_type:e.content_type,category:e.category||"",tags:e.tags||[],url:"",source_type:"manual",file:null,is_active:e.is_active}),R(!0)},className:"text-blue-400 hover:text-blue-300 p-2",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>td(e.id),className:"text-red-400 hover:text-red-300 p-2",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.tags.map((e,s)=>(0,t.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:["#",e]},s))})]},e.id))})]}),"integrations"===e&&x&&(0,t.jsx)(sf,{botId:x})]}),P&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{I(!1),F(null),eQ()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-6 h-6 text-blue-500"}),L?"Edit Intent":"Create New Intent"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Intent Name *"}),(0,t.jsx)("input",{type:"text",value:V.intent_name,onChange:e=>B({...V,intent_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"greeting"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase, no spaces (e.g., order_status)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),(0,t.jsx)("input",{type:"text",value:V.intent_display_name,onChange:e=>B({...V,intent_display_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Greeting"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:V.intent_description,onChange:e=>B({...V,intent_description:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-20",placeholder:"Describe what this intent represents..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Training Phrases"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("input",{type:"text",value:K,onChange:e=>W(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),e4()),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter a training phrase and press Enter"}),(0,t.jsx)("button",{onClick:e4,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:(0,t.jsx)(_.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:V.training_phrases.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-lg",children:[(0,t.jsx)("span",{className:"text-white text-sm",children:e}),(0,t.jsx)("button",{onClick:()=>{B({...V,training_phrases:V.training_phrases.filter((e,t)=>t!==s)})},className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Add at least 5 training phrases for better accuracy"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Type"}),(0,t.jsxs)("select",{value:V.action_type,onChange:e=>B({...V,action_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"text",children:"Text Response"}),(0,t.jsx)("option",{value:"api",children:"API Call"}),(0,t.jsx)("option",{value:"webhook",children:"Webhook"}),(0,t.jsx)("option",{value:"knowledge_base",children:"Knowledge Base"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),(0,t.jsx)("input",{type:"number",value:V.priority,onChange:e=>B({...V,priority:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"1",max:"10"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 h-10",children:[(0,t.jsx)("input",{type:"checkbox",checked:V.is_active,onChange:e=>B({...V,is_active:e.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,t.jsx)("span",{className:"text-white",children:"Active"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{I(!1),F(null),eQ()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e3,disabled:!V.intent_name||!V.intent_display_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Update Intent":"Create Intent"})]})]})]})}),M&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{D(!1),q(null),eZ()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(ex.default,{className:"w-6 h-6 text-blue-500"}),$?"Edit Entity":"Create New Entity"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Name *"}),(0,t.jsx)("input",{type:"text",value:G.entity_name,onChange:e=>X({...G,entity_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"product_name"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase, no spaces (e.g., product_type)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),(0,t.jsx)("input",{type:"text",value:G.entity_display_name,onChange:e=>X({...G,entity_display_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Product Name"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Type"}),(0,t.jsxs)("select",{value:G.entity_type,onChange:e=>X({...G,entity_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"list",children:"List - Predefined values with synonyms"}),(0,t.jsx)("option",{value:"regex",children:"Regex - Pattern matching"}),(0,t.jsx)("option",{value:"system",children:"System - Built-in (date, time, number, etc.)"})]})]}),"list"===G.entity_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Values"}),(0,t.jsxs)("div",{className:"space-y-3 mb-3",children:[(0,t.jsx)("input",{type:"text",value:H,onChange:e=>J(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter value (e.g., laptop)"}),(0,t.jsx)("input",{type:"text",value:Q,onChange:e=>Z(e.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter synonyms separated by commas (e.g., notebook, computer)"}),(0,t.jsxs)("button",{onClick:()=>{if(H.trim()){let e={value:H.trim(),synonyms:Q?Q.split(",").map(e=>e.trim()):[]};X({...G,values:[...G.values,e]}),J(""),Z("")}},className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Value"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:G.values.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-semibold",children:e.value}),e.synonyms&&e.synonyms.length>0&&(0,t.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Synonyms: ",e.synonyms.join(", ")]})]}),(0,t.jsx)("button",{onClick:()=>{X({...G,values:G.values.filter((e,t)=>t!==s)})},className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))})]}),"regex"===G.entity_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Regex Pattern"}),(0,t.jsx)("input",{type:"text",value:G.regex_pattern,onChange:e=>X({...G,regex_pattern:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"^[A-Z]{2}\\d{6}$"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid regular expression pattern"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:G.is_active,onChange:e=>X({...G,is_active:e.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,t.jsx)("span",{className:"text-white",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{D(!1),q(null),eZ()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:e6,disabled:!G.entity_name||!G.entity_display_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:$?"Update Entity":"Create Entity"})]})]})]})}),ey&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{ew(!1),ek(null),te()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(tn.default,{className:"w-6 h-6 text-blue-500"}),e_?"Edit ML Configuration":"Create ML Configuration"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Configuration Name *"}),(0,t.jsx)("input",{type:"text",value:eC.config_name,onChange:e=>eS({...eC,config_name:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Production Config"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"NLU Engine"}),(0,t.jsxs)("select",{value:eC.nlu_engine,onChange:e=>eS({...eC,nlu_engine:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"spacy",children:"Spacy (Word Embeddings)"}),(0,t.jsx)("option",{value:"llm",children:"LLM (Zero-shot)"}),(0,t.jsx)("option",{value:"hybrid",children:"Hybrid (Spacy + LLM)"}),(0,t.jsx)("option",{value:"rasa",children:"Rasa NLU"}),(0,t.jsx)("option",{value:"dialogflow",children:"Dialogflow"}),(0,t.jsx)("option",{value:"luis",children:"Microsoft LUIS"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LLM Provider"}),(0,t.jsxs)("select",{value:eC.llm_provider,onChange:e=>eS({...eC,llm_provider:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"openai",children:"OpenAI"}),(0,t.jsx)("option",{value:"gemini",children:"Google Gemini"}),(0,t.jsx)("option",{value:"anthropic",children:"Anthropic (Claude)"}),(0,t.jsx)("option",{value:"azure",children:"Azure OpenAI"}),(0,t.jsx)("option",{value:"cohere",children:"Cohere"}),(0,t.jsx)("option",{value:"huggingface",children:"HuggingFace"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Model"}),(0,t.jsxs)("select",{value:eC.llm_model,onChange:e=>eS({...eC,llm_model:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:["openai"===eC.llm_provider&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,t.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,t.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]}),"gemini"===eC.llm_provider&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"}),(0,t.jsx)("option",{value:"gemini-pro-vision",children:"Gemini Pro Vision"}),(0,t.jsx)("option",{value:"gemini-ultra",children:"Gemini Ultra"})]}),"anthropic"===eC.llm_provider&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),(0,t.jsx)("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"}),(0,t.jsx)("option",{value:"claude-3-haiku",children:"Claude 3 Haiku"})]}),!["openai","gemini","anthropic"].includes(eC.llm_provider)&&(0,t.jsx)("option",{value:"default",children:"Default Model"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confidence Threshold"}),(0,t.jsx)("input",{type:"number",step:"0.05",min:"0",max:"1",value:eC.confidence_threshold,onChange:e=>eS({...eC,confidence_threshold:parseFloat(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0.0 - 1.0 (higher = more strict)"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Temperature"}),(0,t.jsx)("input",{type:"number",step:"0.1",min:"0",max:"2",value:eC.temperature,onChange:e=>eS({...eC,temperature:parseFloat(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0.0 = deterministic, 2.0 = creative"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Tokens"}),(0,t.jsx)("input",{type:"number",step:"50",min:"50",max:"4000",value:eC.max_tokens,onChange:e=>eS({...eC,max_tokens:parseInt(e.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum response length"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:eC.is_active,onChange:e=>eS({...eC,is_active:e.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,t.jsx)("span",{className:"text-white",children:"Active Configuration"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{ew(!1),ek(null),te()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:ts,disabled:!eC.config_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:e_?"Update Configuration":"Create Configuration"})]})]})]})}),ef&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{ej(!1),em(null),ep([])},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-6 h-6 text-blue-500"}),"Conversation Details"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Session Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Session ID:"}),(0,t.jsx)("p",{className:"text-white font-mono",children:eo})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Total Messages:"}),(0,t.jsx)("p",{className:"text-white",children:eu.length})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 max-h-[600px] overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:"Message History"}),(0,t.jsx)("div",{className:"space-y-4",children:eu.map((e,s)=>(0,t.jsx)("div",{className:`flex ${"user"===e.message_type?"justify-end":"justify-start"}`,children:(0,t.jsxs)("div",{className:`max-w-[80%] rounded-lg p-4 ${"user"===e.message_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-xs font-semibold opacity-75",children:"user"===e.message_type?"User":"Bot"}),(0,t.jsx)("span",{className:"text-xs opacity-60",children:new Date(e.created_at).toLocaleTimeString()})]}),(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.message_text}),e.detected_intent&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-600 text-xs",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"opacity-75",children:["Intent: ",e.detected_intent]}),e.intent_confidence&&(0,t.jsxs)("span",{className:"opacity-75",children:["Confidence: ",(100*e.intent_confidence).toFixed(0),"%"]})]})})]})},e.id))})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:()=>{ej(!1),em(null),ep([])},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold",children:"Close"})})]})]})}),E&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6 relative border border-gray-700 my-8",children:[(0,t.jsx)("button",{onClick:()=>{R(!1),O(null),tl()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})}),(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,t.jsx)(eP.BookOpen,{className:"w-6 h-6 text-blue-500"}),U?"Edit Article":"Add New Article"]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-2 bg-gray-800 p-4 rounded-lg border border-gray-700",children:[(0,t.jsxs)("button",{onClick:()=>eT({...eA,source_type:"manual"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"manual"===eA.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(j.default,{className:"w-4 h-4"}),"Manual Entry"]}),(0,t.jsxs)("button",{onClick:()=>eT({...eA,source_type:"upload"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"upload"===eA.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(tC.default,{className:"w-4 h-4"}),"Upload Document"]}),(0,t.jsxs)("button",{onClick:()=>eT({...eA,source_type:"url"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"url"===eA.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(tr.default,{className:"w-4 h-4"}),"Import from URL"]}),(0,t.jsxs)("button",{onClick:()=>eT({...eA,source_type:"storage"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"storage"===eA.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,t.jsx)(e2.default,{className:"w-4 h-4"}),"Storage"]})]}),"upload"===eA.source_type&&(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Upload Document"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer",children:[(0,t.jsx)("input",{type:"file",accept:".txt,.md,.csv,.json,.xml,.html",onChange:e=>{let t=e.target.files?.[0];t&&(eT({...eA,file:t}),tc(t))},className:"hidden",id:"file-upload"}),(0,t.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,t.jsx)(tC.default,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-white font-semibold mb-1",children:"Click to upload or drag and drop"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Supported: TXT, MD, CSV, JSON, XML, HTML"})]})]}),eL&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[(0,t.jsx)(tI.default,{className:"w-4 h-4 animate-spin"}),(0,t.jsxs)("span",{className:"text-sm",children:["Processing file... ",Math.round(eE),"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${eE}%`}})})]})]}),"url"===eA.source_type&&(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Import from URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"url",value:eA.url,onChange:e=>eT({...eA,url:e.target.value}),placeholder:"https://example.com/article",className:"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"}),(0,t.jsx)("button",{onClick:()=>eA.url&&to(eA.url),disabled:!eA.url||eL,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:eL?(0,t.jsx)(tI.default,{className:"w-5 h-5 animate-spin"}):"Import"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Paste a URL to import content from a webpage"})]}),"storage"===eA.source_type&&(0,t.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Connect to Storage"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e2.default,{className:"w-6 h-6 text-blue-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"FTP/SFTP"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Connect to FTP or SFTP server"})]}),(0,t.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e8.default,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"NAS/SAN"})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"Connect to network storage"})]})]}),(0,t.jsx)("div",{className:"mt-4 bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-blue-400 text-sm",children:"Storage integrations require configuration. Contact your administrator to set up storage connections."})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,t.jsx)("input",{type:"text",value:eA.title,onChange:e=>eT({...eA,title:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Article title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content Type"}),(0,t.jsxs)("select",{value:eA.content_type,onChange:e=>eT({...eA,content_type:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"article",children:"Article"}),(0,t.jsx)("option",{value:"faq",children:"FAQ"}),(0,t.jsx)("option",{value:"documentation",children:"Documentation"}),(0,t.jsx)("option",{value:"guide",children:"Guide"}),(0,t.jsx)("option",{value:"policy",children:"Policy"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,t.jsx)("input",{type:"text",value:eA.category,onChange:e=>eT({...eA,category:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"e.g., Product Info, Troubleshooting, Billing"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content *"}),(0,t.jsx)("textarea",{value:eA.content,onChange:e=>eT({...eA,content:e.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-48 resize-none",placeholder:"Enter the article content..."}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[eA.content.length," characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),(0,t.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,t.jsx)("input",{type:"text",value:eI,onChange:e=>eM(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),ti()),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Add tag and press Enter"}),(0,t.jsx)("button",{onClick:ti,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:(0,t.jsx)(_.default,{className:"w-5 h-5"})})]}),eA.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:eA.tags.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-lg",children:[(0,t.jsxs)("span",{className:"text-white text-sm",children:["#",e]}),(0,t.jsx)("button",{onClick:()=>{eT({...eA,tags:eA.tags.filter((e,t)=>t!==s)})},className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(y.X,{className:"w-4 h-4"})})]},s))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",id:"kb-active",checked:eA.is_active,onChange:e=>eT({...eA,is_active:e.target.checked}),className:"w-5 h-5 rounded bg-gray-800 border-gray-700 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"kb-active",className:"text-gray-300 cursor-pointer",children:"Make this article active and searchable"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>{R(!1),O(null),tl()},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,t.jsxs)("button",{onClick:tx,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors font-semibold flex items-center gap-2",children:[(0,t.jsx)(z.default,{className:"w-5 h-5"}),U?"Update Article":"Save Article"]})]})]})]})})]})}var sN=e.i(10252),sN=sN,e9=e9,m=m,e5=e5,eY=eY,eG=eG,i=i,r=r,l=l,sv=e.i(89524),sv=sv,_=_,sy=e.i(63059),S=S,j=j,N=N,tn=tn,tc=tc,C=C,ti=ti,eh=eh,V=V,sw=e.i(73767),sw=sw,ef=ef;let s_=[{id:"openai",name:"OpenAI",models:["gpt-4","gpt-4-turbo","gpt-3.5-turbo"],description:"GPT-4 from OpenAI has broad general knowledge and domain expertise",logo:"ðŸ¤–"},{id:"anthropic",name:"Anthropic",models:["claude-3-opus","claude-3-sonnet","claude-3-haiku"],description:"A faster, cheaper yet still very capable version of Claude",logo:"ðŸ”®"},{id:"gemini",name:"Gemini",models:["gemini-pro","gemini-2.5-pro"],description:"Gemini is Google latest family of large language models",logo:"ðŸ’Ž"},{id:"mistral",name:"Mistral",models:["mistral-large","mistral-medium","mistral-small"],description:"Mistral specializes in creating fast, secure, open-source LLMs",logo:"ðŸŒªï¸"},{id:"cohere",name:"Cohere",models:["command","command-light"],description:"A smaller and faster version of Cohere's command model",logo:"ðŸŽ¯"},{id:"huggingface",name:"Hugging Face",models:["custom"],description:"Hugging Face is a machine learning platform and community",logo:"ðŸ¤—"}],sk=[{id:"assemblyai",name:"AssemblyAI",description:"Industry-leading AI models for speech-to-text, speaker diarization, and audio intelligence",logo:"ðŸŽ™ï¸",features:["real-time","diarization","sentiment","entity-detection","language-detection"]},{id:"deepgram",name:"Deepgram",description:"Cutting-edge speech recognition services using advanced AI",logo:"ðŸŽ¤"},{id:"openai",name:"OpenAI Whisper",description:"Robust speech recognition model from OpenAI",logo:"ðŸ¤–"},{id:"google",name:"Google Cloud",description:"Google Cloud Speech-to-Text services",logo:"ðŸŒ"},{id:"azure",name:"Azure",description:"Azure Speech Services with advanced AI",logo:"ðŸ”·"}],sC=[{id:"assemblyai",name:"AssemblyAI",description:"High-quality neural text-to-speech with natural voices and emotional range",logo:"ðŸŽ™ï¸"},{id:"openai",name:"OpenAI",description:"OpenAI Text-to-Speech with natural voices",logo:"ðŸ¤–"},{id:"elevenlabs",name:"ElevenLabs",description:"Premium AI voice generation with emotional intelligence",logo:"ðŸŽ­"},{id:"azure",name:"Azure",description:"Azure Text-to-Speech with neural voices",logo:"ðŸ”·"},{id:"google",name:"Google Cloud",description:"Google Cloud Text-to-Speech services",logo:"ðŸŒ"}],sS=[{id:"vonage",name:"Vonage",description:"Cloud communication platform that provides voice, messaging, and video solutions",logo:"ðŸ“ž"},{id:"twilio",name:"Twilio",description:"Cloud communications platform for building SMS, voice, and messaging applications",logo:"â˜Žï¸"},{id:"exotel",name:"Exotel",description:"Cloud telephony platform offering voice and messaging services for businesses",logo:"ðŸ“±"},{id:"aws",name:"AWS",description:"Amazon Web Services offers a broad set of global cloud-based products",logo:"â˜ï¸"},{id:"google",name:"Google Cloud",description:"Google Cloud offers a suite of cloud computing services",logo:"ðŸŒ"}];function sA(){let[e,a]=(0,s.useState)("dashboard"),[o,x]=(0,s.useState)(""),[u,p]=(0,s.useState)([]),[g,b]=(0,s.useState)(null),[f,w]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),[T,P]=(0,s.useState)(!1),[I,M]=(0,s.useState)(!1),[D,R]=(0,s.useState)(null),[L,F]=(0,s.useState)(!1),[$,q]=(0,s.useState)(null),[U,O]=(0,s.useState)(1),[z,B]=(0,s.useState)(1),[K,W]=(0,s.useState)(!1),[G,X]=(0,s.useState)([]),[H,J]=(0,s.useState)("neutral"),[Q,Z]=(0,s.useState)([]),[ee,et]=(0,s.useState)(0),[es,ea]=(0,s.useState)(null),[el,er]=(0,s.useState)({apiKey:"",realtimeEnabled:!0,diarizationEnabled:!0,sentimentEnabled:!0,entityDetection:!0,languageDetection:!0,customVocabulary:[]}),[ei,en]=(0,s.useState)({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"assemblyai",tts_provider:"assemblyai",telephony_provider:"twilio",voice_provider:"assemblyai",system_prompt:"",status:"testing"}),[ed,ec]=(0,s.useState)([{role:"system",content:""}]),[eo,ex]=(0,s.useState)([]),[em,eu]=(0,s.useState)(!1),[ep,eg]=(0,s.useState)({name:"knowledge_query",description:"Use this tool to retrieve specific information or data from provided queries before responding.",action:"knowledge_retrieval",retrievalSetting:"hybrid",topK:5,scoreThreshold:.5,parameters:JSON.stringify({properties:{context:{description:"Concise and searchable description of the users query or topic.",type:"string"},organizations:{description:"Names of organizations or companies mentioned in the content",type:"array"}}},null,2)}),[eb,eN]=(0,s.useState)("");(0,s.useEffect)(()=>{ev()},[]);let ev=async()=>{w(!0);try{let{data:e,error:t}=await h.db.from("voice_agents").select("*").order("created_at",{ascending:!1});if(t)throw t;p(e||[]),e&&e.length>0&&b(e[0])}catch(e){console.error("Error loading agents:",e)}finally{w(!1)}},ey=async()=>{let e=[{name:"Salesforce Sales Assistant",description:"AI assistant for Salesforce CRM - handles lead qualification, opportunity tracking, and sales pipeline management",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hello! I'm your Salesforce assistant. I can help you manage leads, track opportunities, and update your sales pipeline. How can I assist you today?"},{name:"ServiceNow IT Support Bot",description:"AI assistant for ServiceNow ITSM - manages incident tickets, service requests, and IT service catalog",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Welcome to IT Support. I can help you create incidents, track service requests, or browse our IT service catalog. What do you need help with?"},{name:"HubSpot Marketing Assistant",description:"AI assistant for HubSpot - handles contact management, deal tracking, and marketing automation",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hi! I'm your HubSpot marketing assistant. I can help with contact management, deal tracking, email campaigns, and marketing analytics. What would you like to do?"},{name:"Microsoft Teams Collaboration Bot",description:"AI assistant for Microsoft Teams - schedules meetings, manages tasks, and facilitates team collaboration",agent_type:"inbound",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your Teams collaboration assistant. I can schedule meetings, create tasks, share files, and help coordinate with your team. How can I help?"},{name:"Zoom Meeting Assistant",description:"AI assistant for Zoom - schedules meetings, manages recordings, and provides meeting analytics",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Welcome! I'm your Zoom meeting assistant. I can schedule meetings, share meeting links, manage recordings, and provide analytics. What would you like to do?"},{name:"Webex Enterprise Assistant",description:"AI assistant for Cisco Webex - manages enterprise communication, meetings, and team collaboration",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your Webex assistant. I can help with meeting scheduling, team spaces, messaging, and enterprise communication. How may I assist you?"},{name:"PBX Call Management Bot",description:"AI assistant for traditional PBX systems - handles call routing, extensions, and voicemail",agent_type:"inbound",status:"active",voice_type:"male",language:"en-US",greeting_message:"Thank you for calling. I'm your PBX assistant. I can route you to extensions, manage voicemail, or answer questions about our services. How can I direct your call?"},{name:"Genesys Contact Center Agent",description:"AI assistant for Genesys Cloud - manages customer interactions, queue management, and agent assistance",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Welcome to customer service. I'm your Genesys assistant. I can help route your call, provide information, or connect you with a specialist. How can I help you today?"},{name:"NICE Workforce Assistant",description:"AI assistant for NICE WFM - handles workforce optimization, scheduling, and performance management",agent_type:"inbound",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your NICE workforce assistant. I can help with scheduling, time-off requests, performance metrics, and workforce planning. What do you need?"},{name:"CUCM Call Manager Bot",description:"AI assistant for Cisco Unified Call Manager - manages enterprise telephony and call routing",agent_type:"inbound",status:"active",voice_type:"male",language:"en-US",greeting_message:"Welcome. I'm your CUCM assistant. I can help with call routing, extension management, and telephony services. How may I direct your call?"},{name:"UCCX Contact Center Bot",description:"AI assistant for Cisco Unified Contact Center Express - handles IVR, queuing, and agent routing",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Thank you for calling. I'm your UCCX contact center assistant. I can help route your call, provide self-service options, or connect you with an agent. How can I help?"},{name:"UCCE Enterprise Agent",description:"AI assistant for Cisco Unified Contact Center Enterprise - manages enterprise-scale omnichannel routing",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Welcome to enterprise customer service. I'm your UCCE assistant, handling omnichannel routing and customer interactions. How can I assist you?"},{name:"Talkdesk Cloud Agent",description:"AI assistant for Talkdesk - manages cloud contact center operations and customer engagement",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hello! I'm your Talkdesk assistant. I can help with customer inquiries, route calls, provide analytics, and enhance your contact center experience. How may I help?"}];w(!0);try{let t=e.map(e=>({name:e.name,description:e.description,agent_type:e.agent_type,status:e.status,voice_type:e.voice_type,language:e.language,greeting_message:e.greeting_message,total_calls:Math.floor(500*Math.random()),successful_calls:Math.floor(400*Math.random()),avg_duration:Math.floor(180*Math.random())+60,updated_at:new Date().toISOString()})),{data:s,error:a}=await h.db.from("voice_agents").insert(t);if(a)throw a;alert(`âœ… Successfully created ${e.length} sample AI assistants!`),ev()}catch(e){console.error("Error seeding bots:",e),alert("Failed to create sample bots. Please try again.")}finally{w(!1)}},ew=async()=>{try{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return void alert("You must be logged in to create an agent");w(!0);let{error:t}=await h.db.from("voice_agents").insert([{name:ei.agent_name,description:ei.agent_description,status:ei.status,voice_type:"elevenlabs"===ei.voice_provider?"female":"neutral",language:"en-US",ai_model:ei.ai_model,prompts:JSON.stringify({system:ei.system_prompt}),greeting_message:"Hello! How can I help you today?",total_calls:0,successful_calls:0,avg_duration:0,created_by:e.id,updated_at:new Date().toISOString()}]);if(t)throw t;alert("Voice assistant created successfully!"),A(!1),O(1),en({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"deepgram",tts_provider:"elevenlabs",telephony_provider:"twilio",voice_provider:"elevenlabs",system_prompt:"",status:"testing"}),ec([{role:"system",content:""}]),ex([]),ev()}catch(e){console.error("Error creating agent:",e),alert("Failed to create voice assistant. Please check all required fields.")}finally{w(!1)}},e_=async()=>{try{if(!g)return;w(!0);let{error:e}=await h.db.from("voice_agents").update({name:ei.agent_name,description:ei.agent_description,status:ei.status,voice_type:"elevenlabs"===ei.voice_provider?"female":"neutral",language:"en-US",prompts:JSON.stringify({system:ei.system_prompt}),updated_at:new Date().toISOString()}).eq("id",g.id);if(e)throw e;alert("Voice assistant updated successfully!"),P(!1),B(1),b(null),en({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"deepgram",tts_provider:"elevenlabs",telephony_provider:"twilio",voice_provider:"elevenlabs",system_prompt:"",status:"testing"}),ec([{role:"system",content:""}]),ex([]),ev()}catch(e){console.error("Error updating agent:",e),alert("Failed to update voice assistant. Please try again.")}finally{w(!1)}},ek=(e,t="en-US")=>{if("speechSynthesis"in window){if(L&&$){window.speechSynthesis.cancel(),F(!1),q(null);return}let s=new SpeechSynthesisUtterance(e);s.lang=t,s.rate=.9,s.pitch=1;let a=window.speechSynthesis.getVoices().find(e=>e.lang.startsWith(t.split("-")[0]));a&&(s.voice=a),s.onstart=()=>{F(!0)},s.onend=()=>{F(!1),q(null)},s.onerror=()=>{F(!1),q(null)},q(s),window.speechSynthesis.speak(s)}else console.warn("Text-to-speech is not supported in your browser.")},eC=()=>{window.speechSynthesis&&(window.speechSynthesis.cancel(),F(!1),q(null))},eS=(e,t,s)=>{let a=[...ed];a[e]={...a[e],[t]:s},ec(a)},eA=[{id:"dashboard",label:"Dashboard",icon:sN.default,section:"main"},{id:"assistants",label:"Assistants",icon:Y.MessageSquare,section:"main",badge:"beta"},{id:"endpoints",label:"Endpoints",icon:e9.default,section:"main"},{id:"knowledge",label:"Knowledge",icon:eP.BookOpen,section:"main"},{id:"models",label:"Models",icon:tn.default,section:"main"}],eT=[{id:"llm-logs",label:"LLM logs",icon:m.default},{id:"tool-logs",label:"Tool logs",icon:e5.default},{id:"webhook-logs",label:"Webhook logs",icon:eY.default},{id:"knowledge-logs",label:"Knowledge logs",icon:eG.default},{id:"conversation-logs",label:"Conversation logs",icon:e0.MessageCircle}],eM=[{id:"external-integrations",label:"External integrations",icon:i.default},{id:"credentials",label:"Credentials",icon:r.default}],eE=[{id:"users-teams",label:"Users and Teams",icon:l.default},{id:"projects",label:"Projects",icon:sv.default}];return(0,t.jsxs)("div",{className:"flex flex-col h-screen bg-[#013221]",children:[(0,t.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30]",children:[(0,t.jsx)("div",{className:"px-6 py-4 flex items-center justify-between border-b border-[#024d30]",children:(0,t.jsx)("h2",{className:"text-lg font-bold text-white",children:"Voice Agent Platform"})}),(0,t.jsx)("div",{className:"px-6 py-3 overflow-x-auto",children:(0,t.jsxs)("div",{className:"flex items-center gap-6 min-w-max",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:eA.map(s=>(0,t.jsxs)("button",{onClick:()=>{a(s.id),x("")},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap ${e===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:e===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.label}),s.badge&&(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full font-semibold",children:s.badge})]},s.id))}),(0,t.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Observability"}),eT.map(s=>(0,t.jsxs)("button",{onClick:()=>{a("observability"),x(s.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"observability"===e&&o===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:"observability"===e&&o===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s.label})]},s.id))]}),(0,t.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Integrations"}),eM.map(s=>(0,t.jsxs)("button",{onClick:()=>{a("integrations"),x(s.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"integrations"===e&&o===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:"integrations"===e&&o===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s.label})]},s.id))]}),(0,t.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Organizations"}),eE.map(s=>(0,t.jsxs)("button",{onClick:()=>{a("organizations"),x(s.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"organizations"===e&&o===s.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,t.jsx)(s.icon,{className:"w-4 h-4",style:{color:"organizations"===e&&o===s.id?"#fff":"#40C706"}}),(0,t.jsx)("span",{className:"text-xs font-medium",children:s.label})]},s.id))]})]})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)("div",{className:"p-8",children:f?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(()=>{switch(e){case"dashboard":default:return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2",children:["Welcome, ",g?.name||"User"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Design and Deploy Custom Voice Assistant"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-xl p-8 text-white",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Design and Deploy Custom Voice Assistant"}),(0,t.jsx)("p",{className:"text-blue-100 mb-6",children:"Build intelligent voice assistants that can handle calls, answer questions, and integrate with your existing systems. Deploy across websites, phone systems, or voice-enabled devices."}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("button",{onClick:()=>A(!0),className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center gap-2",children:["Create Assistant",(0,t.jsx)(sy.ChevronRight,{className:"w-5 h-5"})]}),(0,t.jsx)("button",{onClick:()=>a("knowledge"),className:"bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-800 transition-colors",children:"View documentation"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-green-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(Y.MessageSquare,{className:"w-7 h-7 text-green-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"AI Assistants"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Deploy domain-specific AI agents with custom skills, workflows, and multi-step reasoning."}),(0,t.jsx)("button",{onClick:()=>a("assistants"),className:"text-green-400 font-semibold text-sm hover:text-green-300 transition-colors",children:"Learn more â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-purple-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-purple-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(n.Shield,{className:"w-7 h-7 text-purple-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Governance & Endpoints"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Secure API endpoints with fine-grained governance, audit trails, and enterprise-grade access control."}),(0,t.jsx)("button",{onClick:()=>a("endpoints"),className:"text-purple-400 font-semibold text-sm hover:text-purple-300 transition-colors",children:"Learn more â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-red-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-red-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(tn.default,{className:"w-7 h-7 text-red-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Model Integration"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Bring your own model â€” support for OpenAI, Anthropic, and custom LLMs with fine-tuning capabilities."}),(0,t.jsx)("button",{onClick:()=>a("models"),className:"text-red-400 font-semibold text-sm hover:text-red-300 transition-colors",children:"Learn more â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-blue-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(m.default,{className:"w-7 h-7 text-blue-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-time Testing & Monitoring"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Instantly test AI agents and monitor performance in a live sandbox to iterate faster with confidence."}),(0,t.jsx)("button",{onClick:()=>{a("observability"),x("llm-logs")},className:"text-blue-400 font-semibold text-sm hover:text-blue-300 transition-colors",children:"Learn more â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-yellow-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-yellow-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(e0.MessageCircle,{className:"w-7 h-7 text-yellow-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Conversational AI"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Context-aware, LLM-powered chat experiences that understand user intent and deliver accurate responses."}),(0,t.jsx)("button",{onClick:()=>a("assistants"),className:"text-yellow-400 font-semibold text-sm hover:text-yellow-300 transition-colors",children:"Learn more â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-cyan-500/50 transition-all",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-cyan-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(i.default,{className:"w-7 h-7 text-cyan-400"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Integrations"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Connect to CRM, databases, and third-party APIs with secure credential management."}),(0,t.jsx)("button",{onClick:()=>{a("integrations"),x("external-integrations")},className:"text-cyan-400 font-semibold text-sm hover:text-cyan-300 transition-colors",children:"Learn more â†’"})]})]}),g&&(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Active Agent Statistics"}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Total Calls"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:g.total_calls||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Success Rate"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-green-400",children:[g.total_calls>0?(g.successful_calls/g.total_calls*100).toFixed(1):0,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Avg Duration"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white",children:[Math.floor((g.avg_duration||0)/60),"m"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Status"}),(0,t.jsx)("div",{className:`text-xl font-bold ${"active"===g.status?"text-green-400":"testing"===g.status?"text-yellow-400":"text-gray-400"}`,children:g.status})]})]})]})]});case"assistants":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-8 h-8 text-green-400"}),"AI Assistants",(0,t.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-3 py-1 rounded-full font-medium",children:"BETA"})]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage and deploy intelligent voice assistants"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:ey,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",disabled:f,children:[(0,t.jsx)(ef.default,{className:"w-5 h-5"}),"Load Sample Bots"]}),(0,t.jsxs)("button",{onClick:()=>A(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create New Assistant"]})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:u.map(e=>(0,t.jsx)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all cursor-pointer",onClick:()=>b(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===e.status?"bg-green-500/20 text-green-400":"testing"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-gray-400 mb-4",children:e.description}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"AI Model"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.ai_model||"GPT-4"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Language"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.language})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Voice"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.voice_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Total Calls"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-white",children:e.total_calls})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Success Rate"}),(0,t.jsxs)("div",{className:"text-sm font-semibold text-green-400",children:[e.total_calls>0?(e.successful_calls/e.total_calls*100).toFixed(1):0,"%"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:t=>{t.stopPropagation();if(b(e),en({agent_name:e.name||e.agent_name||"",agent_description:e.description||e.agent_description||"",tags:[],ai_model:e.ai_model||"gpt-4",ai_provider:e.ai_provider||"openai",credential:"",stt_provider:e.stt_provider||"deepgram",tts_provider:e.voice_provider||"elevenlabs",telephony_provider:"twilio",voice_provider:e.voice_provider||"elevenlabs",system_prompt:e.prompts?"string"==typeof e.prompts?JSON.parse(e.prompts).system:e.prompts.system:"",status:e.status||"testing"}),ec([{role:"system",content:e.prompts?"string"==typeof e.prompts?JSON.parse(e.prompts).system:e.prompts.system:""}]),e.skills)try{ex("string"==typeof e.skills?JSON.parse(e.skills):e.skills)}catch(e){ex([])}else ex([]);P(!0),B(1)},className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-[#024d30] rounded-lg transition-all",children:(0,t.jsx)(j.default,{className:"w-5 h-5"})}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),R(e),M(!0),F(!1),W(!1),X([]),J("neutral"),Z([]),et(0),ea(null)},className:"p-2 text-gray-400 hover:text-green-400 hover:bg-[#024d30] rounded-lg transition-all",title:"Test Voice Assistant",children:(0,t.jsx)(eD.Play,{className:"w-5 h-5"})}),(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-400 hover:bg-[#024d30] rounded-lg transition-all",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]})]})},e.id))})]});case"endpoints":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(e9.default,{className:"w-8 h-8 text-purple-400"}),"API Endpoints"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Secure API endpoints with governance and access control"})]}),(0,t.jsxs)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Endpoint"]})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Voice Agent API"}),(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:"RESTful API for voice agent interactions"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-bold rounded",children:"POST"}),(0,t.jsx)("code",{className:"text-cyan-400",children:"/api/v1/agents/call"})]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,t.jsx)(S.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Initiate a voice call with an AI agent"})]}),(0,t.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded",children:"GET"}),(0,t.jsx)("code",{className:"text-cyan-400",children:"/api/v1/agents/:id"})]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,t.jsx)(S.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Get agent configuration and status"})]}),(0,t.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs font-bold rounded",children:"PUT"}),(0,t.jsx)("code",{className:"text-cyan-400",children:"/api/v1/agents/:id"})]}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,t.jsx)(S.default,{className:"w-5 h-5"})})]}),(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"Update agent configuration"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Requests"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:"12,458"}),(0,t.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"â†‘ 23% from last week"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Avg Response Time"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:"145ms"}),(0,t.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"â†“ 12% faster"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Error Rate"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:"0.3%"}),(0,t.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"â†“ 0.2% improvement"})]})]})]});case"knowledge":return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(eP.BookOpen,{className:"w-8 h-8 text-blue-400"}),"Knowledge Base"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage training data and documentation for your AI agents"})]}),(0,t.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Knowledge"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(d.FileText,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Documentation"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"24 documents"})]})]}),(0,t.jsx)("button",{className:"text-blue-400 font-semibold text-sm hover:text-blue-300",children:"View all â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(eG.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"FAQs"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"156 questions"})]})]}),(0,t.jsx)("button",{className:"text-green-400 font-semibold text-sm hover:text-green-300",children:"View all â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(E.Globe,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Web Sources"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"12 websites"})]})]}),(0,t.jsx)("button",{className:"text-purple-400 font-semibold text-sm hover:text-purple-300",children:"View all â†’"})]}),(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(eI.Code,{className:"w-6 h-6 text-orange-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"API Integrations"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"8 endpoints"})]})]}),(0,t.jsx)("button",{className:"text-orange-400 font-semibold text-sm hover:text-orange-300",children:"View all â†’"})]})]})]});case"models":return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tn.default,{className:"w-8 h-8 text-red-400"}),"Integration Models"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"Available AI models and service providers for your voice assistants"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Language Models"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s_.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.models.length," models available"]})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.models.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-[#024d30] text-gray-300 rounded text-xs font-mono",children:e},e))})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Speech-to-Text Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:sk.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Text-to-Speech Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:sC.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Telephony Providers"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:sS.map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:e.logo}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.name})]}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]},e.id))})]})]});case"observability":let s;return(s={"llm-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"LLM Request Logs"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"GPT-4 Request"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"124ms"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Tokens: 450 input / 230 output"})]},e))})]}),"tool-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Tool Execution Logs"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(e5.default,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"API Call Tool"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"5 minutes ago"})]}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"Success"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Function: fetch_customer_data"})]},e))})]}),"webhook-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Webhook Activity"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eY.default,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Call Completed"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"10 minutes ago"})]}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"200 OK"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Endpoint: https://api.example.com/webhook"})]},e))})]}),"knowledge-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Knowledge Base Queries"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eG.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Vector Search"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"3 minutes ago"})]}),(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:"45ms"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Results: 5 documents retrieved"})]},e))})]}),"conversation-logs":(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Conversation History"}),(0,t.jsx)("div",{className:"space-y-2",children:[1,2,3,4].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:["Call Session #",1e3+e]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"1 hour ago"})]}),(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:"Completed"})]}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Duration: 3m 24s â€¢ Turns: 12"})]},e))})]})})[o]||s["llm-logs"];case"integrations":let l;return(l={"external-integrations":(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"External Integrations"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Connect to external services and APIs"})]}),(0,t.jsxs)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Integration"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:["Salesforce CRM","Zendesk","Slack","HubSpot"].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30] flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.default,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Connected"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-[#024d30] rounded-lg transition-all",children:(0,t.jsx)(c.Settings,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg font-semibold text-sm",children:"Active"})]})]},e))})]}),credentials:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"API Credentials"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage API keys and authentication"})]}),(0,t.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Generate Key"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:["Production API Key","Development API Key","Test API Key"].map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(r.default,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e})]}),(0,t.jsx)("button",{className:"text-red-400 hover:text-red-300",children:(0,t.jsx)(N.default,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"bg-[#013221] rounded p-3 font-mono text-sm text-gray-400 mb-3",children:["sk_live_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",String(Math.random()).slice(2,6)]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Created ",s+1," months ago â€¢ Last used 2 days ago"]})]},e))})]})})[o]||l["external-integrations"];case"organizations":let h;return(h={"users-teams":(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Users and Teams"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Manage team members and permissions"})]}),(0,t.jsxs)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Invite User"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:["John Doe","Jane Smith","Mike Johnson"].map((e,s)=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30] flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold",children:e[0]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:["Admin","Developer","Developer"][s]})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg font-semibold text-sm",children:"Active"})]},e))})]}),projects:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Projects"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Organize your voice agents by project"})]}),(0,t.jsxs)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Project"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:["Customer Support","Sales Automation","Internal Tools"].map(e=>(0,t.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(sv.default,{className:"w-6 h-6 text-purple-400"}),(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"3 agents â€¢ 2 team members"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{className:"text-purple-400 hover:text-purple-300 text-sm font-semibold",children:"View agents â†’"})})]},e))})]})})[o]||h["users-teams"]}})()})}),k&&(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex",children:[(0,t.jsxs)("div",{className:"w-80 bg-gray-50 border-r border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Setup Progress"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Complete all steps to create new assistant"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${U>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:U>1?(0,t.jsx)(eh.default,{className:"w-5 h-5"}):"01"}),(0,t.jsx)("div",{className:`w-0.5 h-16 ${U>1?"bg-blue-600":"bg-gray-300"}`})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 1"}),(0,t.jsx)("p",{className:"text-blue-600 font-semibold mb-1",children:"Configuration"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Select the llm you want to use for your assistant."})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${U>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:U>2?(0,t.jsx)(eh.default,{className:"w-5 h-5"}):"02"}),(0,t.jsx)("div",{className:`w-0.5 h-16 ${U>2?"bg-blue-600":"bg-gray-300"}`})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 2"}),(0,t.jsx)("p",{className:`font-semibold mb-1 ${U>=2?"text-blue-600":"text-gray-600"}`,children:"Tools (optional)"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Let your assistant work with given differnt tools on behalf of you"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${U>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:U>3?(0,t.jsx)(eh.default,{className:"w-5 h-5"}):"03"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 3"}),(0,t.jsx)("p",{className:`font-semibold mb-1 ${U>=3?"text-blue-600":"text-gray-600"}`,children:"Profile"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Provide the name, a brief description, and relevant tags for your assistant to help identify and categorize it."})]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,t.jsx)("span",{children:"Deployment"}),(0,t.jsx)(sy.ChevronRight,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Assistant"}),(0,t.jsx)(sy.ChevronRight,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:"Create-Assistant"})]})}),(0,t.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[1===U&&(0,t.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex gap-3",children:[(0,t.jsx)(ej.Info,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("p",{className:"text-sm text-yellow-800",children:"Rapida Assistant enables you to deploy intelligent conversational agents across multiple channels."})}),(0,t.jsx)("a",{href:"#",className:"text-sm text-yellow-700 hover:text-yellow-800 font-semibold whitespace-nowrap",children:"Read documentation â†’"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Provider Model"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsx)("select",{value:ei.ai_provider,onChange:e=>{let t=s_.find(t=>t.id===e.target.value);en({...ei,ai_provider:e.target.value,ai_model:t?.models[0]||""})},className:"bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:s_.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)("select",{value:ei.ai_model,onChange:e=>en({...ei,ai_model:e.target.value}),className:"bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:s_.find(e=>e.id===ei.ai_provider)?.models.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Credential"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:ei.credential,onChange:e=>en({...ei,credential:e.target.value}),className:"flex-1 bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:[(0,t.jsx)("option",{value:"",children:"Select credential"}),(0,t.jsx)("option",{value:"default",children:"Default Credential"})]}),(0,t.jsx)("button",{className:"p-2.5 border border-gray-300 rounded-lg hover:bg-gray-50",children:(0,t.jsx)(c.Settings,{className:"w-5 h-5 text-gray-600"})}),(0,t.jsx)("button",{className:"p-2.5 border border-gray-300 rounded-lg hover:bg-gray-50",children:(0,t.jsx)(_.default,{className:"w-5 h-5 text-gray-600"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Instruction"}),ed.map((e,s)=>(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsxs)("select",{value:e.role,onChange:e=>eS(s,"role",e.target.value),className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 text-sm",children:[(0,t.jsx)("option",{value:"system",children:"System"}),(0,t.jsx)("option",{value:"user",children:"User"})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,t.jsx)("button",{onClick:()=>{ec(ed.filter((e,t)=>t!==s))},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:(0,t.jsx)(ti.default,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("textarea",{value:e.content,onChange:e=>eS(s,"content",e.target.value),placeholder:"Write your prompt here. enter {{variable}} to insert a variable.",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 min-h-32"})]},s)),(0,t.jsxs)("button",{onClick:()=>{ec([...ed,{role:"user",content:""}])},className:"text-blue-600 hover:text-blue-700 font-semibold text-sm flex items-center gap-2",children:["Add new message",(0,t.jsx)(_.default,{className:"w-4 h-4"})]})]})]}),2===U&&(0,t.jsx)("div",{className:"space-y-6 max-w-3xl",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Configure Tools"}),eo.length>0&&(0,t.jsx)("div",{className:"space-y-3 mb-4",children:eo.map((e,s)=>(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex gap-3 mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Action: ",e.action]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Retrieval: ",e.retrievalSetting]})]})]}),(0,t.jsx)("button",{onClick:()=>ex(eo.filter((e,t)=>t!==s)),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})},s))}),(0,t.jsxs)("button",{onClick:()=>eu(!0),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 w-full hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600 font-semibold",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Tool"]})]})}),3===U&&(0,t.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),(0,t.jsx)("input",{type:"text",value:ei.agent_name,onChange:e=>en({...ei,agent_name:e.target.value}),placeholder:"e.g., assistant-pay-tales-how",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Provide a name, that will appear in the assistant list and help identify it."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{value:ei.agent_description,onChange:e=>en({...ei,agent_description:e.target.value}),placeholder:"What's the purpose of the assistant?",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 h-24"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Provide a description to explain what this assistant is about."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags (Optional)"}),(0,t.jsx)("div",{className:"flex gap-2 mb-2",children:(0,t.jsx)("input",{type:"text",value:eb,onChange:e=>eN(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),void(eb.trim()&&!ei.tags.includes(eb.trim())&&(en({...ei,tags:[...ei.tags,eb.trim()]}),eN("")))),placeholder:"Add tags",className:"flex-1 bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"})}),ei.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:ei.tags.map((e,s)=>(0,t.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{onClick:()=>{en({...ei,tags:ei.tags.filter(t=>t!==e)})},className:"hover:text-blue-900",children:(0,t.jsx)(y.X,{className:"w-3 h-3"})})]},s))}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Add tags to organize and locate items more efficiently. Separate tags with commas and press Enter to add them."})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[U>1&&(0,t.jsx)("button",{onClick:()=>O(U-1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Back"}),U<3?(0,t.jsxs)("button",{onClick:()=>O(U+1),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-2",children:["Continue",(0,t.jsx)(sy.ChevronRight,{className:"w-5 h-5"})]}):(0,t.jsxs)("button",{onClick:ew,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-2",children:["Create assistant",(0,t.jsx)(sy.ChevronRight,{className:"w-5 h-5"})]})]})]})]})]}),em&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto m-4",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Configure Assistant Tool"}),(0,t.jsx)("button",{onClick:()=>eu(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Action"}),(0,t.jsx)("div",{className:"space-y-2",children:[{id:"knowledge_retrieval",label:"Knowledge Retrieval",checked:!0},{id:"api_request",label:"API Request"},{id:"endpoint_llm",label:"Endpoint (LLM Call)"},{id:"put_on_hold",label:"Put On Hold"},{id:"end_conversation",label:"End Of Conversation"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:ep.action===e.id,onChange:()=>eg({...ep,action:e.id}),className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.label})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Retrieval Setting"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"hybrid",label:"Hybrid Search",desc:"Execute full-text search and vector searches simultaneously, re-rank to select the best match for the user's query."},{id:"semantic",label:"Semantic Search",desc:"Generate query embeddings and search for the text chunk most similar to its vector representation."},{id:"fulltext",label:"Full Text Search",desc:"Index all terms in the document, allowing users to search any term and retrieve relevant text chunk containing those terms."}].map(e=>(0,t.jsxs)("button",{onClick:()=>eg({...ep,retrievalSetting:e.id}),className:`text-left p-4 border-2 rounded-lg transition-all ${ep.retrievalSetting===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900 mb-1 text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:e.desc})]},e.id))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Top K"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"1",max:"20",value:ep.topK,onChange:e=>eg({...ep,topK:parseInt(e.target.value)}),className:"flex-1"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 w-8",children:ep.topK})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Score Threshold"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:ep.scoreThreshold,onChange:e=>eg({...ep,scoreThreshold:parseFloat(e.target.value)}),className:"flex-1"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900 w-8",children:ep.scoreThreshold})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Tool Definition"}),(0,t.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"Collapse"})]}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:["Know more about knowledge tool definiation that can be supported by rapida",(0,t.jsx)("a",{href:"#",className:"ml-2 text-yellow-700 hover:text-yellow-900 font-semibold",children:"Read documentation â†’"})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,t.jsx)("input",{type:"text",value:ep.name,onChange:e=>eg({...ep,name:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:ep.description,onChange:e=>eg({...ep,description:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 h-20"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),(0,t.jsx)("textarea",{value:ep.parameters,onChange:e=>eg({...ep,parameters:e.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-green-400 font-mono text-sm h-48"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>eu(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{ex([...eo,ep]),eu(!1),eg({name:"knowledge_query",description:"Use this tool to retrieve specific information or data from provided queries before responding.",action:"knowledge_retrieval",retrievalSetting:"hybrid",topK:5,scoreThreshold:.5,parameters:JSON.stringify({properties:{context:{description:"Concise and searchable description of the users query or topic.",type:"string"}}},null,2)})},className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Save tool"})]})]})})]}),T&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Assistant"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Update your voice assistant configuration"})]}),(0,t.jsx)("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assistant Name"}),(0,t.jsx)("input",{type:"text",value:ei.agent_name,onChange:e=>en({...ei,agent_name:e.target.value}),placeholder:"Enter assistant name",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:ei.agent_description,onChange:e=>en({...ei,agent_description:e.target.value}),placeholder:"Describe your assistant",rows:3,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"AI Provider"}),(0,t.jsx)("select",{value:ei.ai_provider,onChange:e=>en({...ei,ai_provider:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:s_.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"AI Model"}),(0,t.jsx)("select",{value:ei.ai_model,onChange:e=>en({...ei,ai_model:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:s_.find(e=>e.id===ei.ai_provider)?.models.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"STT Provider"}),(0,t.jsx)("select",{value:ei.stt_provider,onChange:e=>en({...ei,stt_provider:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sk.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Voice Provider"}),(0,t.jsx)("select",{value:ei.voice_provider,onChange:e=>en({...ei,voice_provider:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:sC.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:ei.status,onChange:e=>en({...ei,status:e.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:[(0,t.jsx)("option",{value:"testing",children:"Testing"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"System Prompt"}),(0,t.jsx)("textarea",{value:ei.system_prompt,onChange:e=>en({...ei,system_prompt:e.target.value}),placeholder:"Enter system prompt for your assistant...",rows:6,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 font-mono text-sm"})]})]})}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>P(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:e_,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-2",children:["Update Assistant",(0,t.jsx)(eh.default,{className:"w-5 h-5"})]})]})]})}),I&&D&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6 text-white flex-shrink-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-white/20 p-3 rounded-xl",children:(0,t.jsx)(tc.default,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:D.name}),(0,t.jsx)("p",{className:"text-green-100 text-sm",children:"Voice Assistant Demo"})]})]}),(0,t.jsx)("button",{onClick:()=>{eC(),M(!1),R(null)},className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]})}),(0,t.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,t.jsx)(eU.Mic,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"System Configuration"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"AI Model:"})," ",D.ai_model||"GPT-4"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Voice Type:"})," ",D.voice_type||"Neutral"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Language:"})," ",D.language||"English (US)"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(V.default,{className:"w-5 h-5 text-green-600"}),"Voice Demonstrations"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"English (US)"})]}),(0,t.jsx)("button",{onClick:()=>ek(D.greeting_message||D.system_prompt||"Hello! I am your AI voice assistant. How can I help you today?","en-US"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${L?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sw.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',D.greeting_message||D.system_prompt||"Hello! I am your AI voice assistant. How can I help you today?",'"']})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Spanish (ES)"})]}),(0,t.jsx)("button",{onClick:()=>ek("Â¡Hola! Soy tu asistente de voz con inteligencia artificial. Â¿En quÃ© puedo ayudarte hoy?","es-ES"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${L?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sw.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Â¡Hola! Soy tu asistente de voz con inteligencia artificial. Â¿En quÃ© puedo ayudarte hoy?"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"French (FR)"})]}),(0,t.jsx)("button",{onClick:()=>ek("Bonjour! Je suis votre assistant vocal intelligent. Comment puis-je vous aider aujourd'hui?","fr-FR"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${L?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sw.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Bonjour! Je suis votre assistant vocal intelligent. Comment puis-je vous aider aujourd\'hui?"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"German (DE)"})]}),(0,t.jsx)("button",{onClick:()=>ek("Hallo! Ich bin Ihr KI-Sprachassistent. Wie kann ich Ihnen heute helfen?","de-DE"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${L?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sw.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Hallo! Ich bin Ihr KI-Sprachassistent. Wie kann ich Ihnen heute helfen?"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Chinese (Mandarin)"})]}),(0,t.jsx)("button",{onClick:()=>ek("æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„äººå·¥æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹ã€‚ä»Šå¤©æˆ‘èƒ½ä¸ºæ‚¨åšäº›ä»€ä¹ˆï¼Ÿ","zh-CN"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${L?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sw.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„äººå·¥æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹ã€‚ä»Šå¤©æˆ‘èƒ½ä¸ºæ‚¨åšäº›ä»€ä¹ˆï¼Ÿ"'})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:"Japanese"})]}),(0,t.jsx)("button",{onClick:()=>ek("ã“ã‚“ã«ã¡ã¯ï¼ç§ã¯ã‚ãªãŸã®AIéŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ä»Šæ—¥ã¯ä½•ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ","ja-JP"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${L?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sw.default,{className:"w-4 h-4"}),"Stop"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"ã“ã‚“ã«ã¡ã¯ï¼ç§ã¯ã‚ãªãŸã®AIéŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ä»Šæ—¥ã¯ä½•ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ"'})]})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(ej.Info,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,t.jsx)("p",{className:"font-semibold mb-1",children:"Demo Mode"}),(0,t.jsxs)("p",{children:["This is a demonstration using your browser's built-in text-to-speech. In production, this assistant would use ",D.voice_provider||"ElevenLabs"," for high-quality, natural-sounding voices."]})]})]})})]})}),(0,t.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex justify-end flex-shrink-0",children:(0,t.jsx)("button",{onClick:()=>{eC(),M(!1),R(null)},className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700",children:"Close Demo"})})]})})]})}var _=_,p=p,S=S,j=j,C=C,eu=eu,sT=e.i(45433),sT=sT,U=U,e2=e2,sP=e.i(24566),sP=sP,l=l,eh=eh;let sI={casual:sT.default,sales:U.default,marketing:eb.TrendingUp,technical:eI.Code,it:e2.default,board:sP.default,client:l.default,friendly:e0.MessageCircle},sM={green:{bg:"bg-green-500",text:"text-green-400",border:"border-green-500"},red:{bg:"bg-red-500",text:"text-red-400",border:"border-red-500"},purple:{bg:"bg-purple-500",text:"text-purple-400",border:"border-purple-500"},blue:{bg:"bg-blue-500",text:"text-blue-400",border:"border-blue-500"},cyan:{bg:"bg-cyan-500",text:"text-cyan-400",border:"border-cyan-500"},gray:{bg:"bg-gray-600",text:"text-gray-400",border:"border-gray-600"},orange:{bg:"bg-orange-500",text:"text-orange-400",border:"border-orange-500"}};function sD(){let[e,a]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[n,c]=(0,s.useState)("all"),[o,x]=(0,s.useState)(""),[m,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[f,N]=(0,s.useState)(null),[v,w]=(0,s.useState)([]),[k,A]=(0,s.useState)("list");(0,s.useEffect)(()=>{T()},[]),(0,s.useEffect)(()=>{P()},[e,n,o]);let T=async()=>{u(!0);try{let{data:e,error:t}=await h.db.from("meeting_templates").select("*").order("template_category").order("template_name");if(t)throw t;a(e||[])}catch(e){console.error("Error loading templates:",e)}finally{u(!1)}},P=()=>{let t=e;if("all"!==n&&(t=t.filter(e=>e.template_category===n)),o){let e=o.toLowerCase();t=t.filter(t=>t.template_name.toLowerCase().includes(e)||t.template_description?.toLowerCase().includes(e))}i(t)},I=async e=>{try{let{data:t,error:s}=await h.db.from("meeting_template_sections").select("*").eq("template_id",e).order("section_order");if(s)throw s;w(t||[])}catch(e){console.error("Error loading template sections:",e)}},M=async e=>{N(e),await I(e.id),A("view")},D=async e=>{N(e),await I(e.id),A("edit")},E=async e=>{console.log("Copying template:",e.template_name)},R=[{id:"all",label:"All Templates",icon:eu.default},{id:"casual",label:"Casual",icon:sT.default},{id:"sales",label:"Sales",icon:U.default},{id:"marketing",label:"Marketing",icon:eb.TrendingUp},{id:"technical",label:"Technical",icon:eI.Code},{id:"it",label:"It",icon:e2.default},{id:"board",label:"Board",icon:sP.default},{id:"client",label:"Client",icon:l.default},{id:"friendly",label:"Friendly",icon:e0.MessageCircle}];if(m)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading Templates..."})]})});if("view"===k&&f){let e;return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("button",{onClick:()=>{A("list"),N(null)},className:"mb-4 text-gray-400 hover:text-white flex items-center gap-2",children:"â† Back to Templates"}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-16 h-16 ${sM[f.icon_color].bg} rounded-lg flex items-center justify-center`,children:(e=sI[f.template_category])?(0,t.jsx)(e,{className:"w-8 h-8 text-white"}):(0,t.jsx)(d.FileText,{className:"w-8 h-8 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:f.template_name}),(0,t.jsx)("p",{className:"text-gray-400",children:f.template_description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded capitalize",children:f.template_category}),f.is_default&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Default"})]})]})]}),(0,t.jsxs)("button",{onClick:()=>D(f),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(j.default,{className:"w-4 h-4"}),"Edit Template"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Template Sections (",v.length,")"]}),v.map(e=>(0,t.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-1",children:e.section_title}),e.section_description&&(0,t.jsx)("p",{className:"text-gray-400 text-sm",children:e.section_description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 text-xs rounded capitalize",children:e.section_type.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Order: ",e.section_order]})]})]})})},e.id))]})]})]})}return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(d.FileText,{className:"w-8 h-8"}),"Meeting Templates"]}),(0,t.jsx)("p",{className:"text-blue-100",children:"Customize your meeting minutes documents"})]}),(0,t.jsxs)("button",{onClick:()=>b(!0),className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Template"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-300 w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search templates...",value:o,onChange:e=>x(e.target.value),className:"w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg pl-12 pr-4 py-3 text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),(0,t.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:R.map(e=>{let s=e.icon;return(0,t.jsxs)("button",{onClick:()=>c(e.id),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${n===e.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(s,{className:"w-4 h-4"}),e.label]},e.id)})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>{let s=sI[e.template_category]||d.FileText,a=sM[e.icon_color]||sM.blue;return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:`w-14 h-14 ${a.bg} rounded-lg flex items-center justify-center flex-shrink-0`,children:(0,t.jsx)(s,{className:"w-7 h-7 text-white"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:e.template_name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded capitalize flex items-center gap-1",children:["casual"===e.template_category&&(0,t.jsx)(sT.default,{className:"w-3 h-3"}),"sales"===e.template_category&&(0,t.jsx)(U.default,{className:"w-3 h-3"}),"marketing"===e.template_category&&(0,t.jsx)(eb.TrendingUp,{className:"w-3 h-3"}),"technical"===e.template_category&&(0,t.jsx)(eI.Code,{className:"w-3 h-3"}),"it"===e.template_category&&(0,t.jsx)(e2.default,{className:"w-3 h-3"}),"board"===e.template_category&&(0,t.jsx)(sP.default,{className:"w-3 h-3"}),"client"===e.template_category&&(0,t.jsx)(l.default,{className:"w-3 h-3"}),"friendly"===e.template_category&&(0,t.jsx)(e0.MessageCircle,{className:"w-3 h-3"}),e.template_category]}),e.is_default&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 text-xs rounded flex items-center gap-1",children:[(0,t.jsx)(eu.default,{className:"w-3 h-3"}),"Default"]})]})]})]}),(0,t.jsx)("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:e.template_description}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:[e.sections_count," sections included"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>M(e),className:"flex-1 bg-blue-600/20 text-blue-400 px-4 py-2 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(S.default,{className:"w-4 h-4"}),"View"]}),(0,t.jsxs)("button",{onClick:()=>D(e),className:"flex-1 bg-purple-600/20 text-purple-400 px-4 py-2 rounded-lg hover:bg-purple-600/30 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(j.default,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsx)("button",{onClick:()=>E(e),className:"bg-gray-700 text-gray-300 p-2 rounded-lg hover:bg-gray-600 transition-colors",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})})]})]},e.id)})}),0===r.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(d.FileText,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-400 mb-2",children:"No templates found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:o?"Try adjusting your search terms":"Create your first meeting template to get started"}),(0,t.jsxs)("button",{onClick:()=>b(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Template"]})]}),g&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Template"}),(0,t.jsx)("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Sprint Planning Meeting",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{placeholder:"Describe the purpose of this template...",rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,t.jsxs)("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"casual",children:"Casual"}),(0,t.jsx)("option",{value:"sales",children:"Sales"}),(0,t.jsx)("option",{value:"marketing",children:"Marketing"}),(0,t.jsx)("option",{value:"technical",children:"Technical"}),(0,t.jsx)("option",{value:"it",children:"IT"}),(0,t.jsx)("option",{value:"board",children:"Board"}),(0,t.jsx)("option",{value:"client",children:"Client"}),(0,t.jsx)("option",{value:"friendly",children:"Friendly"}),(0,t.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Set as default template"})]})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:()=>b(!1),className:"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{b(!1)},className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(eh.default,{className:"w-5 h-5"}),"Create Template"]})]})]})]})})]})}var f=f,tr=tr,tZ=tZ,V=V,l=l,eQ=eQ,m=m,tC=tC;function sE({onClose:e,onSuccess:a}){let[r,i]=(0,s.useState)({meetingTitle:"",description:"",meetingLink:"",referenceId:"",meetingDate:"",meetingTime:"",meetingPlatform:"direct_recording",documentTemplateId:"",documentLanguage:"english",transcriptionLanguage:"auto-detect",enableTranslation:!1,participantEmails:[]}),[n,c]=(0,s.useState)({liveTranscription:!0,microphoneDevice:"default",speakerDiarization:!0,languageEnhancement:!0,echoCancellation:!1,volumeNormalization:!1,voiceIsolation:!1,noiseReductionLevel:"medium"}),[o,x]=(0,s.useState)([]),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[w,_]=(0,s.useState)("ready");(0,s.useEffect)(()=>{k()},[]);let k=async()=>{try{let{data:e,error:t}=await h.db.from("meeting_templates").select("id, template_name, template_category").order("template_name");if(t)throw t;if(x(e||[]),e&&e.length>0){let t=e.find(e=>e.template_name.includes("Board"));t&&i(e=>({...e,documentTemplateId:t.id}))}}catch(e){console.error("Error loading templates:",e)}},C=(e,t)=>{i(s=>({...s,[e]:t}))},S=(e,t)=>{c(s=>({...s,[e]:t}))},A=()=>{u&&u.includes("@")&&(r.participantEmails.includes(u)||i(e=>({...e,participantEmails:[...e.participantEmails,u]})),p(""))},T=async()=>{if(!r.meetingTitle)return void N("Meeting title is required");b(!0),N("");try{let t=null;r.meetingDate&&r.meetingTime&&(t=new Date(`${r.meetingDate}T${r.meetingTime}`).toISOString());let{data:s,error:l}=await h.db.from("meetings").insert({meeting_title:r.meetingTitle,meeting_description:r.description||null,meeting_type:"scheduled",meeting_link:r.meetingLink||null,reference_id:r.referenceId||null,scheduled_start_time:t,meeting_platform:r.meetingPlatform,document_template_id:r.documentTemplateId||null,document_language:r.documentLanguage,transcription_language:r.transcriptionLanguage,enable_translation:r.enableTranslation,translation_target_language:r.enableTranslation?"english":null,participant_emails:r.participantEmails.length>0?r.participantEmails:null,meeting_status:"scheduled"}).select().single();if(l)throw l;let{error:i}=await h.db.from("meeting_audio_settings").insert({meeting_id:s.id,live_transcription_enabled:n.liveTranscription,microphone_device:n.microphoneDevice,websocket_transcription_enabled:!0,speaker_diarization_enabled:n.speakerDiarization,language_enhancement_enabled:n.languageEnhancement,echo_cancellation_enabled:n.echoCancellation,volume_normalization_enabled:n.volumeNormalization,voice_isolation_enabled:n.voiceIsolation,noise_reduction_level:n.noiseReductionLevel});if(i)throw i;if(r.participantEmails.length>0){let e=r.participantEmails.map(e=>({meeting_id:s.id,participant_email:e,notify_on_transcript:!0})),{error:t}=await h.db.from("meeting_participants_list").insert(e);if(t)throw t}a(),e()}catch(e){console.error("Error scheduling meeting:",e),N(e.message||"Failed to schedule meeting")}finally{b(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-6xl w-full my-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Schedule New Meeting"}),(0,t.jsx)("button",{onClick:e,className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),j&&(0,t.jsxs)("div",{className:"mb-4 bg-red-500/10 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"text-red-200",children:j})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Meeting Title ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Weekly Team Sync, Client Discovery Call",value:r.meetingTitle,onChange:e=>C("meetingTitle",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Optional)"}),(0,t.jsx)("textarea",{placeholder:"Brief overview of the meeting objective...",value:r.description,onChange:e=>C("description",e.target.value),rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(tr.default,{className:"w-4 h-4"}),"Meeting Link/ID (Optional)"]}),(0,t.jsx)("input",{type:"text",placeholder:"https://zoom.us/j/123456789 or Meeting ID",value:r.meetingLink,onChange:e=>C("meetingLink",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(tZ.default,{className:"w-4 h-4"}),"Reference ID (Optional)"]}),(0,t.jsx)("input",{type:"text",placeholder:"Internal ID or code",value:r.referenceId,onChange:e=>C("referenceId",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),"Meeting Date (Optional)"]}),(0,t.jsx)("input",{type:"date",value:r.meetingDate,onChange:e=>C("meetingDate",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),"Meeting Time (Optional)"]}),(0,t.jsx)("input",{type:"time",value:r.meetingTime,onChange:e=>C("meetingTime",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(ep.Video,{className:"w-4 h-4"}),"Meeting Platform"]}),(0,t.jsxs)("select",{value:r.meetingPlatform,onChange:e=>C("meetingPlatform",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"direct_recording",children:"Direct Recording"}),(0,t.jsx)("option",{value:"zoom",children:"Zoom"}),(0,t.jsx)("option",{value:"google_meet",children:"Google Meet"}),(0,t.jsx)("option",{value:"microsoft_teams",children:"Microsoft Teams"}),(0,t.jsx)("option",{value:"webex",children:"Webex"}),(0,t.jsx)("option",{value:"other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Document Template"]}),(0,t.jsx)("select",{value:r.documentTemplateId,onChange:e=>C("documentTemplateId",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.map(e=>(0,t.jsx)("option",{value:e.id,children:e.template_name},e.id))}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Template for meeting minutes document"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-4 h-4"}),"Document Language"]}),(0,t.jsxs)("select",{value:r.documentLanguage,onChange:e=>C("documentLanguage",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"english",children:"English"}),(0,t.jsx)("option",{value:"malay",children:"Bahasa Melayu"}),(0,t.jsx)("option",{value:"chinese",children:"Chinese"}),(0,t.jsx)("option",{value:"tamil",children:"Tamil"}),(0,t.jsx)("option",{value:"spanish",children:"Spanish"}),(0,t.jsx)("option",{value:"french",children:"French"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Language for meeting minutes document"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(V.default,{className:"w-4 h-4"}),"Transcription Language"]}),(0,t.jsxs)("select",{value:r.transcriptionLanguage,onChange:e=>C("transcriptionLanguage",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"auto-detect",children:"Auto-Detect (Recommended for Mixed Languages)"}),(0,t.jsx)("option",{value:"english",children:"English"}),(0,t.jsx)("option",{value:"malay",children:"Bahasa Melayu"}),(0,t.jsx)("option",{value:"chinese",children:"Chinese"}),(0,t.jsx)("option",{value:"mixed",children:"Mixed (English + Bahasa Melayu)"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically detect language (supports English + Bahasa Malay mixed conversations)"})]})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:r.enableTranslation,onChange:e=>C("enableTranslation",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable Translation to English"}),(0,t.jsx)("p",{className:"text-sm text-blue-200 mt-1",children:"Translate non-English speech to English"}),r.enableTranslation&&(0,t.jsx)("p",{className:"text-xs text-blue-300 mt-2 italic",children:"When enabled, Malay speech will be transcribed in Malay and automatically translated to English"})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),"Participants (Optional)"]}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,t.jsx)("input",{type:"email",placeholder:"email@example.com",value:u,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&A(),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"âœ“ All participants with email addresses will automatically receive a notification when the meeting transcript is ready"}),r.participantEmails.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.participantEmails.map(e=>(0,t.jsxs)("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{onClick:()=>{i(t=>({...t,participantEmails:t.participantEmails.filter(t=>t!==e)}))},className:"text-gray-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-3 h-3"})})]},e))}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Participants will receive an email with the transcript when the meeting is complete"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(eQ.default,{className:"w-5 h-5 text-red-400"}),"Real-Time Audio Capture"]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300",children:"Live Transcription"}),(0,t.jsx)("input",{type:"checkbox",checked:n.liveTranscription,onChange:e=>S("liveTranscription",e.target.checked),className:"w-4 h-4 rounded"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,t.jsx)(eU.Mic,{className:"w-4 h-4"}),"Microphone Device"]}),(0,t.jsxs)("select",{value:n.microphoneDevice,onChange:e=>S("microphoneDevice",e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"default",children:"MacBook Pro Microphone (Built-in)"}),(0,t.jsx)("option",{value:"external",children:"External Microphone"}),(0,t.jsx)("option",{value:"headset",children:"Headset Microphone"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:[(0,t.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"Real-time WebSocket transcription enabled - powered by Teleaon AI"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(m.default,{className:"w-5 h-5"}),"Audio Processing Settings"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.speakerDiarization,onChange:e=>S("speakerDiarization",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Speaker Diarization"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Identify speakers"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.languageEnhancement,onChange:e=>S("languageEnhancement",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Language Enhancement"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Context-aware AI"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.echoCancellation,onChange:e=>S("echoCancellation",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Echo Cancellation"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Remove echo"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.volumeNormalization,onChange:e=>S("volumeNormalization",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Volume Normalization"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"Auto-adjust levels"})]})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",checked:n.voiceIsolation,onChange:e=>S("voiceIsolation",e.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-white font-medium text-sm",children:"Voice Isolation"}),(0,t.jsx)("span",{className:"px-2 py-0.5 bg-purple-500 text-white text-xs rounded font-bold",children:"PRO"}),(0,t.jsx)("p",{className:"text-xs text-gray-400",children:"AI voice extraction"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Noise Reduction Level"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["low","medium","high","aggressive"].map(e=>(0,t.jsx)("button",{onClick:()=>S("noiseReductionLevel",e),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n.noiseReductionLevel===e?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 text-center",children:[(0,t.jsx)(eU.Mic,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Ready to Record"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Recording will be transcribed with speaker identification, action items, and insights"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{disabled:!0,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold opacity-50 cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(eU.Mic,{className:"w-5 h-5"}),"Start Recording"]}),(0,t.jsxs)("button",{disabled:!0,className:"flex-1 bg-gray-600 text-gray-300 px-6 py-3 rounded-lg font-semibold opacity-50 cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(tC.default,{className:"w-5 h-5"}),"Upload File"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Recording features will be available after scheduling"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:e,disabled:g,className:"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:T,disabled:g||!r.meetingTitle,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Scheduling..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}),"Schedule Meeting"]})})]})]})})}var tu=tu,tp=tp,el=el,tg=tg,l=l,g=g,sR=e.i(95828),sR=sR,ti=ti,tc=tc,sh=sh,m=m;let sL=({meetingId:e,meetingTitle:a,onLeave:r})=>{let i,n,[d,o]=(0,s.useState)([]),[x,u]=(0,s.useState)([]),[p,b]=(0,s.useState)(!0),[f,j]=(0,s.useState)(!0),[N,v]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!0),[_,k]=(0,s.useState)("participants"),[C,S]=(0,s.useState)(80),[A,T]=(0,s.useState)(80),[P,I]=(0,s.useState)(0);(0,s.useEffect)(()=>{M(),D();let e=setInterval(()=>{I(e=>e+1)},1e3),t=setInterval(()=>{D()},5e3);return()=>{clearInterval(e),clearInterval(t)}},[e]);let M=async()=>{try{let{data:t,error:s}=await h.db.from("meeting_participants").select("*").eq("meeting_id",e).order("role",{ascending:!1});if(s)throw s;o(t||[])}catch(e){console.error("Error loading participants:",e)}},D=async()=>{try{let{data:t,error:s}=await h.db.from("meeting_transcripts").select("*").eq("meeting_id",e).order("segment_number",{ascending:!0});if(s)throw s;u(t||[])}catch(e){console.error("Error loading transcripts:",e)}};return(0,t.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white",children:a}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),(i=Math.floor(P/3600),n=Math.floor(P%3600/60),`${i.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${(P%60).toString().padStart(2,"0")}`)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),d.length," participants"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),(0,t.jsx)("span",{className:"text-sm font-semibold text-red-500",children:"LIVE"})]})]})]}),(0,t.jsx)("button",{onClick:()=>w(!y),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,t.jsx)(g.default,{className:"w-5 h-5 text-gray-400"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-1 bg-black p-4 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-full max-w-6xl",children:[(0,t.jsxs)("div",{className:"col-span-2 relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-4xl font-bold",children:d[0]?.participant_name.charAt(0)||"H"})}),(0,t.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/70 px-3 py-2 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(m.default,{className:"w-4 h-4 text-green-400 animate-pulse"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:d[0]?.participant_name||"Host"}),d[0]?.audio_enabled&&(0,t.jsx)(tc.default,{className:"w-4 h-4 text-green-400"}),!d[0]?.audio_enabled&&(0,t.jsx)(sh.default,{className:"w-4 h-4 text-red-400"})]})]}),d.slice(1,5).map((e,s)=>(0,t.jsxs)("div",{className:"relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:[(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center text-white text-2xl font-bold",children:e.participant_name.charAt(0)}),(0,t.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-sm flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-white",children:e.participant_name}),e.audio_enabled&&(0,t.jsx)(tc.default,{className:"w-3 h-3 text-green-400"}),!e.audio_enabled&&(0,t.jsx)(sh.default,{className:"w-3 h-3 text-red-400"})]})]},e.id))]})}),y&&(0,t.jsxs)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,t.jsxs)("button",{onClick:()=>k("participants"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"participants"===_?"text-white bg-gray-700 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,t.jsx)(l.default,{className:"w-4 h-4 mx-auto mb-1"}),"Participants"]}),(0,t.jsxs)("button",{onClick:()=>k("chat"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"chat"===_?"text-white bg-gray-700 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4 mx-auto mb-1"}),"Chat"]}),(0,t.jsxs)("button",{onClick:()=>k("transcript"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"transcript"===_?"text-white bg-gray-700 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4 mx-auto mb-1"}),"Transcript"]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:["participants"===_&&(0,t.jsx)("div",{className:"space-y-2",children:d.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:e.participant_name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.participant_name}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:e.role})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[e.audio_enabled?(0,t.jsx)(eU.Mic,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(tp.default,{className:"w-4 h-4 text-red-400"}),e.video_enabled?(0,t.jsx)(ep.Video,{className:"w-4 h-4 text-green-400"}):(0,t.jsx)(tu.default,{className:"w-4 h-4 text-red-400"})]})]},e.id))}),"chat"===_&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Sarah Johnson"}),(0,t.jsx)("div",{className:"text-white text-sm",children:"Great discussion everyone!"})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Participant A"}),(0,t.jsx)("div",{className:"text-white text-sm",children:"Agreed, very productive session."})]})]}),"transcript"===_&&(0,t.jsx)("div",{className:"space-y-3",children:x.length>0?x.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.speaker_name}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:[Math.floor(e.start_time_seconds/60),":",(e.start_time_seconds%60).toString().padStart(2,"0")]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-300",children:e.transcript_text}),e.is_question&&(0,t.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Question"})]},e.id)):(0,t.jsxs)("div",{className:"text-center text-gray-400 py-8",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,t.jsx)("p",{children:"Live transcription will appear here"})]})})]})]})]}),(0,t.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-gray-700 rounded-lg px-3 py-2",children:[(0,t.jsx)(tc.default,{className:"w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"range",min:"0",max:"100",value:C,onChange:e=>S(Number(e.target.value)),className:"w-20 accent-blue-500"}),(0,t.jsxs)("span",{className:"text-xs text-gray-400 w-8",children:[C,"%"]})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>j(!f),className:`p-4 rounded-full transition-colors ${f?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"}`,children:f?(0,t.jsx)(eU.Mic,{className:"w-5 h-5 text-white"}):(0,t.jsx)(tp.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{onClick:()=>b(!p),className:`p-4 rounded-full transition-colors ${p?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"}`,children:p?(0,t.jsx)(ep.Video,{className:"w-5 h-5 text-white"}):(0,t.jsx)(tu.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{onClick:()=>v(!N),className:`p-4 rounded-full transition-colors ${N?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:N?(0,t.jsx)(tg.default,{className:"w-5 h-5 text-white"}):(0,t.jsx)(el.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{onClick:()=>{confirm("Are you sure you want to leave this meeting?")&&r()},className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors",children:(0,t.jsx)(Q.Phone,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,t.jsx)(sR.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,t.jsx)(ti.default,{className:"w-5 h-5 text-white"})}),(0,t.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,t.jsx)(c.Settings,{className:"w-5 h-5 text-white"})})]})]})})]})};var l=l,f=f,sF=e.i(18975),sF=sF,tn=tn,s$=e.i(72639),s$=s$,x=x,_=_,j=j,N=N,e1=e1,ez=ez,ef=ef,m=m,p=p,tr=tr,sq=e.i(76886),sq=sq,sU=e.i(87170),sU=sU;function sO(){let[e,a]=(0,s.useState)("upcoming"),[r,i]=(0,s.useState)(!1),[n,c]=(0,s.useState)(!1),[o,u]=(0,s.useState)(null),[g,b]=(0,s.useState)([]),[y,w]=(0,s.useState)(null),[k,C]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[D,E]=(0,s.useState)(null),[L,F]=(0,s.useState)([]);(0,s.useEffect)(()=>{$()},[]),(0,s.useEffect)(()=>{y&&q()},[y]);let $=async()=>{i(!0);try{let{data:e,error:t}=await h.db.from("meetings").select("*").order("scheduled_start_time",{ascending:!1});if(t)throw t;let s=(e||[]).map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[]}));b(s),s.length>0&&!y&&w(s[0].id)}catch(e){console.error("Error loading meetings:",e)}finally{i(!1)}},q=async()=>{y&&await Promise.all([U(),O(),V(),z(),B(),K()])},U=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_participants").select("*").eq("meeting_id",y).order("joined_at",{ascending:!1});if(t)throw t;C(e||[])}catch(e){console.error("Error loading participants:",e)}},O=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_transcripts").select("*").eq("meeting_id",y).order("segment_number");if(t)throw t;let s=(e||[]).map(e=>({...e,keywords:"string"==typeof e.keywords?JSON.parse(e.keywords):e.keywords||[],topics:"string"==typeof e.topics?JSON.parse(e.topics):e.topics||[]}));A(s)}catch(e){console.error("Error loading transcripts:",e)}},V=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_action_items").select("*").eq("meeting_id",y).order("priority",{ascending:!1});if(t)throw t;P(e||[])}catch(e){console.error("Error loading action items:",e)}},z=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_summaries").select("*").eq("meeting_id",y);if(t)throw t;let s=(e||[]).map(e=>({...e,key_points:"string"==typeof e.key_points?JSON.parse(e.key_points):e.key_points||[],decisions_made:"string"==typeof e.decisions_made?JSON.parse(e.decisions_made):e.decisions_made||[],next_steps:"string"==typeof e.next_steps?JSON.parse(e.next_steps):e.next_steps||[]}));M(s)}catch(e){console.error("Error loading summaries:",e)}},B=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_analytics").select("*").eq("meeting_id",y).maybeSingle();if(t)throw t;E(e)}catch(e){console.error("Error loading analytics:",e)}},K=async()=>{if(y)try{let{data:e,error:t}=await h.db.from("meeting_ai_insights").select("*").eq("meeting_id",y).order("importance_score",{ascending:!1});if(t)throw t;F(e||[])}catch(e){console.error("Error loading AI insights:",e)}},W=e=>{let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`};if(r)return(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-400",children:"Loading Meetings AI..."})]})});let G=g.find(e=>e.id===y),X=g.filter(e=>"scheduled"===e.status),H=g.filter(e=>"live"===e.status),J=g.filter(e=>"ended"===e.status);return o?(0,t.jsx)(sL,{meetingId:o.id,meetingTitle:o.meeting_title,onLeave:()=>u(null)}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(ep.Video,{className:"w-8 h-8 text-blue-500"}),"Meetings AI"]}),(0,t.jsx)("p",{className:"text-gray-400",children:"AI-powered meeting platform with real-time transcription, summaries, and insights"})]}),(0,t.jsxs)("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Schedule Meeting"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(f.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Upcoming"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:X.length}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Scheduled meetings"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(eD.Play,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Live Now"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:H.length}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Active meetings"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Completed"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:J.length}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Past meetings"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(e1.default,{className:"w-8 h-8 text-white"}),(0,t.jsx)("span",{className:"text-white/80 text-sm",children:"Action Items"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:g.reduce((e,t)=>e+("ended"===t.status?T.length:0),0)}),(0,t.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Total tracked"})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,t.jsxs)("button",{onClick:()=>a("upcoming"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"upcoming"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),"Upcoming (",X.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("live"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"live"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Live (",H.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("past"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"past"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Past (",J.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("templates"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"templates"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(sU.default,{className:"w-4 h-4"}),"Templates"]}),G&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>a("transcript"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"transcript"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4"}),"Transcript"]}),(0,t.jsxs)("button",{onClick:()=>a("summary"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"summary"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(d.FileText,{className:"w-4 h-4"}),"Summary"]}),(0,t.jsxs)("button",{onClick:()=>a("actions"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"actions"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(s$.default,{className:"w-4 h-4"}),"Actions (",T.length,")"]}),(0,t.jsxs)("button",{onClick:()=>a("insights"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"insights"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(tn.default,{className:"w-4 h-4"}),"AI Insights"]}),(0,t.jsxs)("button",{onClick:()=>a("analytics"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"analytics"===e?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,t.jsx)(eR.BarChart3,{className:"w-4 h-4"}),"Analytics"]})]})]}),("upcoming"===e||"live"===e||"past"===e)&&(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:("upcoming"===e?X:"live"===e?H:J).map(e=>(0,t.jsxs)("div",{onClick:()=>w(e.id),className:`bg-gray-800 rounded-lg p-6 cursor-pointer transition-all hover:bg-gray-750 ${y===e.id?"ring-2 ring-blue-500":""}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.meeting_title}),(0,t.jsx)("span",{className:`px-3 py-1 rounded text-xs font-semibold ${"live"===e.status?"bg-green-500/20 text-green-400 animate-pulse":"scheduled"===e.status?"bg-blue-500/20 text-blue-400":"ended"===e.status?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:"live"===e.status?"Live Now":e.status}),e.enable_ai_summary&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded flex items-center gap-1",children:[(0,t.jsx)(ef.default,{className:"w-3 h-3"}),"AI Enabled"]})]}),(0,t.jsx)("p",{className:"text-gray-400 mb-3",children:e.meeting_description}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),new Date(e.scheduled_start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),"Host: ",e.host_name]}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(sF.default,{className:"w-4 h-4"}),e.meeting_type]}),e.duration_minutes&&(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.default,{className:"w-4 h-4"}),e.duration_minutes," min"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:["live"===e.status&&(0,t.jsxs)("button",{onClick:()=>u(e),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),"Join"]}),"scheduled"===e.status&&(0,t.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(tr.default,{className:"w-4 h-4"}),"Join Link"]})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:e},s))})]},e.id))}),"transcript"===e&&G&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-5 h-5 text-blue-400"}),"Real-Time Transcript"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.default,{className:"w-4 h-4"}),"Export"]}),(0,t.jsxs)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,t.jsx)(p.default,{className:"w-4 h-4"}),"Search"]})]})]}),(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:S.map(e=>(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-semibold text-white",children:e.speaker_name}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:W(e.start_time_seconds)}),e.sentiment&&(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"positive"===e.sentiment?"bg-green-500/20 text-green-400":"negative"===e.sentiment?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:e.sentiment}),e.is_question&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Question"})]})}),(0,t.jsx)("p",{className:"text-gray-200 mb-2",children:e.transcript_text}),e.keywords&&e.keywords.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.keywords.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-gray-600 text-gray-300 text-xs rounded",children:e},s))})]},e.id))})]})}),"summary"===e&&G&&I.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:I.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(ef.default,{className:"w-5 h-5 text-purple-400"}),"AI-Generated Summary",(0,t.jsxs)("span",{className:"text-sm text-gray-400 font-normal ml-2",children:["(",e.summary_type,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(sq.default,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[(100*e.confidence_score).toFixed(0),"% confidence"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Summary"}),(0,t.jsx)("p",{className:"text-gray-200 leading-relaxed",children:e.summary_text})]}),e.key_points&&e.key_points.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Key Points"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.key_points.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 mt-1 flex-shrink-0"}),e]},s))})]}),e.decisions_made&&e.decisions_made.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Decisions Made"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.decisions_made.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,t.jsx)(ez.default,{className:"w-4 h-4 text-yellow-400 mt-1 flex-shrink-0"}),e]},s))})]}),e.next_steps&&e.next_steps.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Next Steps"}),(0,t.jsx)("ul",{className:"space-y-2",children:e.next_steps.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,t.jsx)(e1.default,{className:"w-4 h-4 text-blue-400 mt-1 flex-shrink-0"}),e]},s))})]})]})]},e.id))}),"actions"===e&&G&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)(s$.default,{className:"w-5 h-5 text-green-400"}),"Action Items"]}),(0,t.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Action"]})]}),(0,t.jsx)("div",{className:"space-y-3",children:T.map(e=>(0,t.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded font-semibold ${"urgent"===e.priority?"bg-red-500/20 text-red-400":"high"===e.priority?"bg-orange-500/20 text-orange-400":"medium"===e.priority?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:e.priority}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"task"===e.action_item_type?"bg-blue-500/20 text-blue-400":"decision"===e.action_item_type?"bg-purple-500/20 text-purple-400":"bg-green-500/20 text-green-400"}`,children:e.action_item_type}),(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:e.status.replace("_"," ")})]}),(0,t.jsx)("p",{className:"text-white mb-2",children:e.action_item_text}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,t.jsxs)("span",{children:["Assigned to: ",e.assigned_to]}),(0,t.jsxs)("span",{children:["Due: ",new Date(e.due_date).toLocaleDateString()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(sq.default,{className:"w-3 h-3"}),(100*e.confidence_score).toFixed(0),"%"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"text-gray-400 hover:text-white p-2",children:(0,t.jsx)(j.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"text-gray-400 hover:text-red-400 p-2",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})]})},e.id))})]})}),"insights"===e&&G&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg p-6 mb-4",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tn.default,{className:"w-7 h-7"}),"AI-Powered Insights"]}),(0,t.jsx)("p",{className:"text-purple-100",children:"Intelligent analysis of meeting dynamics, engagement, and outcomes"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:L.map(e=>(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:`p-2 rounded ${"topic"===e.insight_type?"bg-blue-500/20 text-blue-400":"sentiment"===e.insight_type?"bg-green-500/20 text-green-400":"engagement"===e.insight_type?"bg-purple-500/20 text-purple-400":"recommendation"===e.insight_type?"bg-yellow-500/20 text-yellow-400":"bg-pink-500/20 text-pink-400"}`,children:["topic"===e.insight_type&&(0,t.jsx)(Y.MessageSquare,{className:"w-5 h-5"}),"sentiment"===e.insight_type&&(0,t.jsx)(m.default,{className:"w-5 h-5"}),"engagement"===e.insight_type&&(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5"}),"recommendation"===e.insight_type&&(0,t.jsx)(ef.default,{className:"w-5 h-5"}),"highlight"===e.insight_type&&(0,t.jsx)(ez.default,{className:"w-5 h-5"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-white",children:e.insight_title}),(0,t.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:e.insight_type})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sq.default,{className:"w-4 h-4 text-yellow-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[e.importance_score.toFixed(1),"/10"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[(100*e.confidence_level).toFixed(0),"%"]})]})]})]}),(0,t.jsx)("p",{className:"text-gray-200",children:e.insight_description})]},e.id))})]}),"analytics"===e&&G&&D&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,t.jsx)(l.default,{className:"w-4 h-4"}),"Participants"]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:D.total_participants}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Peak: ",D.peak_concurrent_participants]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,t.jsx)(eb.TrendingUp,{className:"w-4 h-4"}),"Engagement Score"]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:D.engagement_score.toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Out of 10"})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,t.jsx)(s$.default,{className:"w-4 h-4"}),"Action Items"]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:D.action_items_count}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"Generated by AI"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Participation Overview"}),(0,t.jsx)("div",{className:"space-y-4",children:k.slice(0,5).map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-white font-medium",children:e.participant_name}),(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:W(e.speaking_time_seconds)})]}),(0,t.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.speaking_time_seconds/D.total_speaking_time_seconds*100}%`}})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:[e.questions_asked," questions"]}),(0,t.jsxs)("span",{children:[e.reactions_count," reactions"]}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded ${"excellent"===e.connection_quality?"bg-green-500/20 text-green-400":"good"===e.connection_quality?"bg-blue-500/20 text-blue-400":"fair"===e.connection_quality?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.connection_quality})]})]},e.id))})]})]}),"templates"===e&&(0,t.jsx)(sD,{}),n&&(0,t.jsx)(sE,{onClose:()=>c(!1),onSuccess:()=>{c(!1),$()}})]})}var N=N,e2=e2,sV=e.i(80127),sV=sV,eh=eh;function sz({onNavigate:e}){let{user:a}=(0,D.useAuth)(),[l,r]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0),[d,c]=(0,s.useState)(!1),[o,x]=(0,s.useState)(null),[m,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{a&&(g(),p())},[a]);let p=async()=>{let{data:e}=await h.db.from("payment_methods").select("id, card_type, last_four, is_primary").eq("user_id",a?.id).eq("is_primary",!0).maybeSingle();e&&x(e)};(0,s.useEffect)(()=>{if(m){let e=setTimeout(()=>u(null),5e3);return()=>clearTimeout(e)}},[m]);let g=async()=>{n(!0);let{data:e,error:t}=await h.db.from("cart_items").select("*").order("created_at",{ascending:!1});!t&&e&&r(e),n(!1)},b=async e=>{let{error:t}=await h.db.from("cart_items").delete().eq("id",e);t||(r(t=>t.filter(t=>t.id!==e)),u({type:"success",message:"Item removed from cart"}))},f=async()=>{let{error:e}=await h.db.from("cart_items").delete().eq("user_id",a?.id);e||(r([]),u({type:"success",message:"Cart cleared"}))},j=async()=>{if(0===l.length||!a)return;let{data:t}=await h.db.from("payment_methods").select("*").eq("user_id",a.id).limit(1);if(!t||0===t.length){u({type:"error",message:"Please add a payment method before checking out."}),setTimeout(()=>{e("billing")},2e3);return}c(!0);let s=`ORD-${Date.now()}-${Math.random().toString(36).substring(7).toUpperCase()}`,r=l.reduce((e,t)=>e+Number(t.total_price),0),i=r+.1*r,{data:n}=await h.db.from("profiles").select("balance").eq("id",a.id).single(),d=(n?.balance||0)-i,{error:o}=await h.db.from("orders").insert({user_id:a.id,order_number:s,status:"completed",total_amount:i,items:l,completed_at:new Date().toISOString()});if(o){u({type:"error",message:"Checkout failed. Please try again."}),c(!1);return}let{error:x}=await h.db.from("transactions").insert({user_id:a.id,type:"debit",amount:-i,balance_after:d,description:`Order ${s}`,reference:s,metadata:{items:l.map(e=>({type:e.item_type,name:v(e),quantity:e.quantity,price:e.unit_price}))}});x&&console.error("Failed to create transaction:",x);let{error:m}=await h.db.from("profiles").update({balance:d}).eq("id",a.id);for(let e of(m&&console.error("Failed to update balance:",m),l))if("phone_number"===e.item_type)await h.db.from("phone_numbers").insert({user_id:a.id,phone_number:e.item_data.phone_number,country_code:e.item_data.country_code||"US",number_type:e.item_data.number_type,status:"active",monthly_cost:e.item_data.monthly_cost,setup_cost:e.item_data.setup_cost,business_name:"",business_location:e.item_data.region,capabilities:e.item_data.capabilities||{voice:!0,sms:!0,mms:!1},usage_minutes:0,purchased_at:new Date().toISOString(),expires_at:new Date(Date.now()+31536e6).toISOString()});else if("sip_trunk"===e.item_type)await h.db.from("sip_trunks").insert({user_id:a.id,trunk_name:e.item_data.trunk_name,trunk_type:e.item_data.trunk_type,status:"active",concurrent_channels:e.item_data.concurrent_channels,monthly_cost:e.item_data.monthly_cost,per_minute_cost:e.item_data.per_minute_cost,inbound_enabled:!0,outbound_enabled:!0,sip_uri:`sip-${Math.random().toString(36).substring(7)}.example.com:5060`,auth_username:`user_${a.id.substring(0,8)}`,regions:e.item_data.regions||["US","CA"],purchased_at:new Date().toISOString()});else if("product_tier"===e.item_type){let t=e.item_data.billing_cycle||"monthly",l="monthly"===t?30:"quarterly"===t?90:365;await h.db.from("user_subscriptions").insert({user_id:a.id,product_id:e.item_data.product_id,product_name:e.item_data.product_name,status:"active",billing_cycle:t,amount:e.unit_price,currency:"MYR",started_at:new Date().toISOString(),expires_at:new Date(Date.now()+24*l*36e5).toISOString(),auto_renew:!0,usage_count:0,usage_limit:e.item_data.usage_limit||1e4,license_key:`${e.item_data.product_name.substring(0,3).toUpperCase()}-${Math.random().toString(36).substring(2,10).toUpperCase()}`,license_type:e.item_data.tier_name.toLowerCase(),max_users:e.item_data.max_users||5,features:e.item_data.features||{},metadata:{tier_name:e.item_data.tier_name,tier_id:e.item_data.tier_id,order_number:s,purchased_at:new Date().toISOString()}})}await f(),u({type:"success",message:`Order ${s} completed successfully!`}),c(!1);let p=l.some(e=>"product_tier"===e.item_type);setTimeout(()=>{p?e("subscriptions"):e("voice-bot")},2e3)},v=e=>"phone_number"===e.item_type?e.item_data.phone_number:"sip_trunk"===e.item_type?e.item_data.trunk_name:"product_tier"===e.item_type?`${e.item_data.product_name} - ${e.item_data.tier_name}`:"Unknown Item",y=l.reduce((e,t)=>e+Number(t.total_price),0),w=.1*y,_=y+w;return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,t.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-orange-500 to-red-600 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,t.jsx)("div",{className:"relative h-full flex items-center px-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:(0,t.jsx)(em.ShoppingCart,{className:"w-12 h-12 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Shopping Cart"}),(0,t.jsx)("p",{className:"text-white/90 text-lg",children:"Review your items and complete your purchase"})]})]})})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("button",{onClick:()=>e("voice-bot"),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6 transition-colors",children:[(0,t.jsx)(sV.default,{className:"w-5 h-5"}),"Continue Shopping"]}),i?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):0===l.length?(0,t.jsx)("div",{className:"text-center py-16",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-12 max-w-md mx-auto",children:[(0,t.jsx)(em.ShoppingCart,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Add items from the marketplace to get started"}),(0,t.jsx)("button",{onClick:()=>e("voice-bot"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg",children:"Browse Marketplace"})]})}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Cart Items (",l.length,")"]}),(0,t.jsxs)("button",{onClick:f,className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(N.default,{className:"w-4 h-4"}),"Clear Cart"]})]}),l.map(e=>(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"bg-orange-500/20 p-3 rounded-lg",children:(e=>{switch(e){case"phone_number":return(0,t.jsx)(Q.Phone,{className:"w-6 h-6 text-orange-400"});case"sip_trunk":return(0,t.jsx)(e2.default,{className:"w-6 h-6 text-orange-400"});case"product_tier":return(0,t.jsx)(em.ShoppingCart,{className:"w-6 h-6 text-orange-400"});default:return(0,t.jsx)(ey.CreditCard,{className:"w-6 h-6 text-orange-400"})}})(e.item_type)}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:v(e)}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:(e=>{if("phone_number"===e.item_type)return`${e.item_data.region} â€¢ ${e.item_data.number_type}`;if("sip_trunk"===e.item_type)return`${e.item_data.concurrent_channels} channels â€¢ ${e.item_data.trunk_type}`;if("product_tier"===e.item_type){let t=e.item_data.setup_fee>0?` + RM ${Number(e.item_data.setup_fee).toFixed(2)} setup`:"";return`${e.item_data.description}${t}`}return""})(e)}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-slate-400 text-sm",children:["Quantity: ",e.quantity]}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"â€¢"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["RM ",Number(e.unit_price).toFixed(2)," each"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-white mb-2",children:["RM ",Number(e.total_price).toFixed(2)]}),(0,t.jsxs)("button",{onClick:()=>b(e.id),className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-2",children:[(0,t.jsx)(N.default,{className:"w-4 h-4"}),"Remove"]})]})]})},e.id))]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 sticky top-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Order Summary"}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Subtotal"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["RM ",y.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Tax (10%)"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["RM ",w.toFixed(2)]})]}),(0,t.jsx)("div",{className:"border-t border-slate-700 pt-4",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:"Total"}),(0,t.jsxs)("span",{className:"text-white font-bold text-2xl",children:["RM ",_.toFixed(2)]})]})})]}),o?(0,t.jsxs)("div",{className:"mb-4 p-4 bg-slate-900/50 rounded-lg border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(ey.CreditCard,{className:"w-5 h-5 text-blue-400"}),(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:"Payment Method"})]}),(0,t.jsxs)("div",{className:"text-white font-medium",children:[o.card_type," ending in ",o.last_four]}),(0,t.jsx)("button",{onClick:()=>e("billing"),className:"text-blue-400 hover:text-blue-300 text-xs mt-2",children:"Change payment method"})]}):(0,t.jsxs)("div",{className:"mb-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[(0,t.jsx)("p",{className:"text-yellow-400 text-sm mb-2",children:"No payment method on file"}),(0,t.jsx)("button",{onClick:()=>e("billing"),className:"text-yellow-400 hover:text-yellow-300 text-xs underline",children:"Add payment method"})]}),(0,t.jsx)("button",{onClick:j,disabled:d||!o,className:"w-full bg-orange-600 hover:bg-orange-700 text-white px-6 py-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eh.default,{className:"w-5 h-5"}),"Complete Purchase"]})}),(0,t.jsx)("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(0,t.jsx)("p",{className:"text-blue-400 text-xs",children:"Secure checkout â€¢ 30-day money-back guarantee"})})]})})]})]}),m&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===m.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===m.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===m.type?(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===m.type?"text-green-400":"text-red-400"}`,children:"success"===m.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:m.message})]}),(0,t.jsx)("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var p=p,r=r,C=C,ez=ez,U=U,_=_;function sB(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)("marketplace"),[i,d]=(0,s.useState)("all"),[c,o]=(0,s.useState)(""),[x,m]=(0,s.useState)([]),[u,g]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[j,N]=(0,s.useState)(!0),[w,k]=(0,s.useState)(null),[S,A]=(0,s.useState)(""),[T,P]=(0,s.useState)("production"),[I,M]=(0,s.useState)(!1),[E,R]=(0,s.useState)(null),[L,F]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&$()},[e]),(0,s.useEffect)(()=>{if(E){let e=setTimeout(()=>R(null),5e3);return()=>clearTimeout(e)}},[E]);let $=async()=>{N(!0),await Promise.all([q(),O(),V()]),N(!1)},q=async()=>{let{data:e,error:t}=await h.db.from("api_marketplace_industries").select("*").eq("is_active",!0).order("display_order");!t&&e&&m(e)},O=async()=>{let{data:e,error:t}=await h.db.from("api_marketplace_products").select("*").eq("is_active",!0).order("product_name");!t&&e&&g(e)},V=async()=>{if(!e)return;let{data:t,error:s}=await h.db.from("api_marketplace_keys").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});!s&&t&&f(t)},z=async()=>{if(!w||!e||!S.trim())return void R({type:"error",message:"Please enter a key name"});M(!0);try{let t=`${w.product_code.toLowerCase()}_${T}_${Math.random().toString(36).substr(2,16)}`,s=`sec_${Math.random().toString(36).substr(2,24)}`,{data:a}=await h.db.from("tenant_users").select("tenant_id").eq("user_id",e.id).single();if(!a)throw Error("Tenant not found");let{error:r}=await h.db.from("api_marketplace_keys").insert({tenant_id:a.tenant_id,user_id:e.id,product_id:w.id,key_name:S.trim(),api_key:t,api_secret:s,environment:T,is_active:!0});if(r)throw r;R({type:"success",message:"API key generated successfully!"}),k(null),A(""),P("production"),V(),l("my-keys")}catch(e){R({type:"error",message:e.message||"Failed to generate API key"})}finally{M(!1)}},B=(e,t)=>{navigator.clipboard.writeText(e),F(t),setTimeout(()=>F(null),2e3)},K=u.filter(e=>{let t="all"===i||e.industry_id===i,s=e.product_name.toLowerCase().includes(c.toLowerCase())||e.description?.toLowerCase().includes(c.toLowerCase());return t&&s}),W=e=>x.find(t=>t.id===e);return(0,t.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,t.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,t.jsx)("div",{className:"relative h-full flex items-center px-8",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:(0,t.jsx)(eo.Package,{className:"w-12 h-12 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"API Marketplace"}),(0,t.jsx)("p",{className:"text-white/90 text-lg",children:"Industry-Specific APIs for Every Business Need"})]})]})})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,t.jsx)("button",{onClick:()=>l("marketplace"),className:`px-6 py-2 rounded-lg transition-colors ${"marketplace"===a?"bg-emerald-600 text-white":"text-slate-400 hover:text-white"}`,children:"Browse APIs"}),(0,t.jsxs)("button",{onClick:()=>l("my-keys"),className:`px-6 py-2 rounded-lg transition-colors ${"my-keys"===a?"bg-emerald-600 text-white":"text-slate-400 hover:text-white"}`,children:["My API Keys (",b.length,")"]})]}),"marketplace"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"relative flex-1 min-w-[300px]",children:[(0,t.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,t.jsx)("input",{type:"text",placeholder:"Search APIs...",value:c,onChange:e=>o(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,t.jsxs)("select",{value:i,onChange:e=>d(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,t.jsx)("option",{value:"all",children:"All Industries"}),x.map(e=>(0,t.jsx)("option",{value:e.id,children:e.industry_name},e.id))]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(e=>{let s=W(e.industry_id);return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all hover:shadow-lg hover:shadow-emerald-500/10",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:e.product_name}),s&&(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:s.industry_name})]}),(0,t.jsx)("div",{className:"bg-emerald-500/20 p-2 rounded-lg",children:(0,t.jsx)(eI.Code,{className:"w-5 h-5 text-emerald-400"})})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-400 flex items-center gap-1",children:[(0,t.jsx)(ez.default,{className:"w-3 h-3"}),"Rate Limit:"]}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.rate_limit_per_minute,"/min"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-400 flex items-center gap-1",children:[(0,t.jsx)(U.default,{className:"w-3 h-3"}),"Pricing:"]}),(0,t.jsx)("span",{className:"text-white font-medium",children:"subscription"===e.pricing_model?`RM ${e.base_price}/mo`:`RM ${e.price_per_request}/req`})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-400 flex items-center gap-1",children:[(0,t.jsx)(n.Shield,{className:"w-3 h-3"}),"Endpoint:"]}),(0,t.jsx)("span",{className:"text-cyan-400 font-mono text-xs",children:e.api_endpoint.split("/").pop()})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-slate-300 text-xs font-medium mb-2",children:"Features:"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(e.features||[]).slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-300 rounded text-xs",children:e},s)),(e.features||[]).length>3&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-400 rounded text-xs",children:["+",(e.features||[]).length-3]})]})]}),(0,t.jsxs)("button",{onClick:()=>k(e),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,t.jsx)(r.default,{className:"w-4 h-4"}),"Generate API Key"]})]},e.id)})}),0===K.length&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eo.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No APIs Found"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Try adjusting your search or filters"})]})]}),"my-keys"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"My API Keys"}),(0,t.jsxs)("button",{onClick:()=>l("marketplace"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Generate New Key"]})]}),0===b.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(r.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No API Keys Yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"Generate your first API key to get started"}),(0,t.jsxs)("button",{onClick:()=>l("marketplace"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Browse APIs"]})]}):(0,t.jsx)("div",{className:"space-y-4",children:b.map(e=>{let s=u.find(t=>t.id===e.product_id),a=s?W(s.industry_id):null;return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:e.key_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${e.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30",children:e.environment.toUpperCase()}),a&&(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:a.industry_name})]}),s&&(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:s.product_name})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Total Requests"}),(0,t.jsx)("p",{className:"text-white text-lg font-semibold",children:e.total_requests.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Created"}),(0,t.jsx)("p",{className:"text-white text-sm font-semibold",children:new Date(e.created_at).toLocaleDateString()})]}),s&&(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Rate Limit"}),(0,t.jsxs)("p",{className:"text-white text-sm font-semibold",children:[s.rate_limit_per_minute,"/min"]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,t.jsx)(r.default,{className:"w-4 h-4"}),"API Key"]}),(0,t.jsx)("button",{onClick:()=>B(e.api_key,`api_${e.id}`),className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center gap-1",children:L===`api_${e.id}`?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:e.api_key})]}),e.api_secret&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,t.jsx)(n.Shield,{className:"w-4 h-4"}),"API Secret"]}),(0,t.jsx)("button",{onClick:()=>B(e.api_secret,`secret_${e.id}`),className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center gap-1",children:L===`secret_${e.id}`?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:e.api_secret})]}),s&&(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-300 text-sm font-medium mb-2",children:"API Endpoint:"}),(0,t.jsx)("code",{className:"text-cyan-400 text-sm",children:s.api_endpoint})]})]})]},e.id)})})]})]}),w&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Generate API Key"}),(0,t.jsx)("p",{className:"text-slate-400",children:w.product_name})]}),(0,t.jsx)("button",{onClick:()=>k(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Key Name *"}),(0,t.jsx)("input",{type:"text",value:S,onChange:e=>A(e.target.value),placeholder:"e.g., Production API Key",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Environment"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{onClick:()=>P("production"),className:`p-4 rounded-lg border-2 transition-all ${"production"===T?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsx)("p",{className:"text-white font-semibold mb-1",children:"Production"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Live environment"})]}),(0,t.jsxs)("button",{onClick:()=>P("sandbox"),className:`p-4 rounded-lg border-2 transition-all ${"sandbox"===T?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,t.jsx)("p",{className:"text-white font-semibold mb-1",children:"Sandbox"}),(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Testing environment"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"API Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Pricing Model:"}),(0,t.jsx)("span",{className:"text-white capitalize",children:w.pricing_model.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Rate Limit:"}),(0,t.jsxs)("span",{className:"text-white",children:[w.rate_limit_per_minute,"/min"]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Daily Limit:"}),(0,t.jsxs)("span",{className:"text-white",children:[w.rate_limit_per_day.toLocaleString(),"/day"]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>k(null),disabled:I,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:z,disabled:I||!S.trim(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.default,{className:"w-5 h-5"}),"Generate Key"]})})]})]})}),E&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,t.jsx)("div",{className:`${"success"===E.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:`${"success"===E.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===E.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-white"}):(0,t.jsx)(y.X,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:`font-semibold ${"success"===E.type?"text-green-400":"text-red-400"}`,children:"success"===E.type?"Success!":"Error"}),(0,t.jsx)("p",{className:"text-white text-sm mt-1",children:E.message})]}),(0,t.jsx)("button",{onClick:()=>R(null),className:"text-slate-400 hover:text-white",children:(0,t.jsx)(y.X,{className:"w-5 h-5"})})]})})})]})}var e$=e$,l=l,f=f,_=_,p=p,S=S,sK=e.i(20491),sK=sK,so=so,C=C,eO=eO,eG=eG,ez=ez,e1=e1,P=P,tC=tC,e7=e7,sW=e.i(30909),sW=sW;function sG(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)("campaigns"),[i,n]=(0,s.useState)([]),[o,x]=(0,s.useState)([]),[m,u]=(0,s.useState)([]),[g,j]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[k,A]=(0,s.useState)([]),[T,I]=(0,s.useState)([]),[M,E]=(0,s.useState)([]),[R,L]=(0,s.useState)(!0),[F,$]=(0,s.useState)(""),[q,U]=(0,s.useState)("all"),[O,V]=(0,s.useState)(null),[z,B]=(0,s.useState)(!1),[K,W]=(0,s.useState)(!1),[G,X]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),[Y,Q]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(!1),[ea,el]=(0,s.useState)(!1),[er,ei]=(0,s.useState)(!1),[en,ed]=(0,s.useState)(!1),[ec,eo]=(0,s.useState)(!1),[ex,em]=(0,s.useState)(1),[eh,eu]=(0,s.useState)(null),[ep,eg]=(0,s.useState)(null),[ef,ej]=(0,s.useState)(null),[eN,ev]=(0,s.useState)(!1),[ey,ew]=(0,s.useState)(null),[e_,ek]=(0,s.useState)({campaign_name:"",campaign_type:"regular",template_id:"",subject_line:"",preview_text:"",from_email:"",from_name:"",reply_to_email:"",selected_lists:[],schedule_type:"send_now",scheduled_at:"",ab_test_enabled:!1,ab_subject_variants:["",""],tags:""}),[eC,eS]=(0,s.useState)({template_name:"",template_category:"general",subject_line:"",preview_text:"",html_content:"",plain_text_content:"",template_variables:"",thumbnail_url:"",is_responsive:!0}),[eA,eT]=(0,s.useState)({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]}),[eP,eI]=(0,s.useState)({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]}),[eM,eE]=(0,s.useState)({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1});(0,s.useEffect)(()=>{e&&Promise.all([eL(),eq(),eU(),eV(),eB(),eK(),eW(),eX()]).finally(()=>L(!1))},[e]),(0,s.useEffect)(()=>{if(O){let e=setTimeout(()=>V(null),5e3);return()=>clearTimeout(e)}},[O]);let eL=async()=>{let{data:e,error:t}=await h.db.from("email_campaigns").select("*").order("created_at",{ascending:!1});!t&&e&&n(e.map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[],ab_test_config:"string"==typeof e.ab_test_config?JSON.parse(e.ab_test_config):e.ab_test_config||{}})))},eq=async()=>{let{data:e,error:t}=await h.db.from("email_templates").select("*").order("created_at",{ascending:!1});!t&&e&&x(e.map(e=>({...e,template_variables:"string"==typeof e.template_variables?JSON.parse(e.template_variables):e.template_variables||[]})))},eU=async()=>{let{data:e,error:t}=await h.db.from("email_contact_lists").select("*").order("created_at",{ascending:!1});!t&&e&&u(e.map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[]})))},eV=async()=>{let{data:e,error:t}=await h.db.from("email_contacts").select("*").order("created_at",{ascending:!1}).limit(100);!t&&e&&j(e.map(e=>({...e,tags:"string"==typeof e.tags?JSON.parse(e.tags):e.tags||[],custom_fields:"string"==typeof e.custom_fields?JSON.parse(e.custom_fields):e.custom_fields||{}})))},eB=async()=>{let{data:e,error:t}=await h.db.from("email_automation_sequences").select("*").order("created_at",{ascending:!1});!t&&e&&w(e.map(e=>({...e,entry_conditions:"string"==typeof e.entry_conditions?JSON.parse(e.entry_conditions):e.entry_conditions||{}})))},eK=async()=>{let{data:e,error:t}=await h.db.from("email_provider_configs").select("*").order("is_default",{ascending:!1});!t&&e&&A(e)},eW=async()=>{let{data:e,error:t}=await h.db.from("email_campaign_analytics").select("*").order("date",{ascending:!1}).limit(50);!t&&e&&I(e)},eX=async()=>{let{data:e,error:t}=await h.db.from("email_sending_quotas").select("*").order("created_at",{ascending:!1});!t&&e&&E(e)},eH=async()=>{if(!e_.campaign_name||!e_.subject_line||!e_.from_email)return void V({type:"error",message:"Please fill in required fields"});if(0===e_.selected_lists.length&&2===ex)return void V({type:"error",message:"Please select at least one contact list"});eo(!0);try{let t=e_.tags?e_.tags.split(",").map(e=>e.trim()).filter(e=>e):[],{data:s,error:a}=await h.db.from("email_campaigns").insert([{campaign_name:e_.campaign_name,campaign_type:e_.campaign_type,template_id:e_.template_id||null,subject_line:e_.subject_line,preview_text:e_.preview_text||null,from_email:e_.from_email,from_name:e_.from_name||null,reply_to_email:e_.reply_to_email||null,status:"send_now"===e_.schedule_type?"sending":"scheduled",scheduled_at:"schedule"===e_.schedule_type?e_.scheduled_at:null,ab_test_enabled:e_.ab_test_enabled,ab_test_config:e_.ab_test_enabled?{subject_variants:e_.ab_subject_variants.filter(e=>e)}:null,tags:t,created_by:e?.id}]).select().single();if(a)throw a;if(s&&e_.selected_lists.length>0){let e=(await Promise.all(e_.selected_lists.map(async e=>{let{data:t}=await h.db.from("email_contact_list_members").select("contact_id, email_contacts(email)").eq("list_id",e);return t||[]}))).flat(),t=Array.from(new Map(e.map(e=>[e.contact_id,e])).values());t.length>0&&(await h.db.from("email_campaign_recipients").insert(t.map(e=>({campaign_id:s.id,contact_id:e.contact_id,email:e.email_contacts[0]?.email}))),await h.db.from("email_campaigns").update({total_recipients:t.length}).eq("id",s.id))}V({type:"success",message:"Campaign created successfully"}),B(!1),em(1),ek({campaign_name:"",campaign_type:"regular",template_id:"",subject_line:"",preview_text:"",from_email:"",from_name:"",reply_to_email:"",selected_lists:[],schedule_type:"send_now",scheduled_at:"",ab_test_enabled:!1,ab_subject_variants:["",""],tags:""}),eL()}catch(e){console.error("Error creating campaign:",e),V({type:"error",message:"Failed to create campaign"})}finally{eo(!1)}},eJ=async()=>{if(!eC.template_name||!eC.subject_line||!eC.html_content)return void V({type:"error",message:"Please fill in required fields"});eo(!0);try{let t=eC.template_variables?eC.template_variables.split(",").map(e=>e.trim()).filter(e=>e):[],{error:s}=await h.db.from("email_templates").insert([{template_name:eC.template_name,template_category:eC.template_category,subject_line:eC.subject_line,preview_text:eC.preview_text||null,html_content:eC.html_content,plain_text_content:eC.plain_text_content||null,template_variables:t,thumbnail_url:eC.thumbnail_url||null,is_responsive:eC.is_responsive,created_by:e?.id}]);if(s)throw s;V({type:"success",message:"Template created successfully"}),W(!1),eS({template_name:"",template_category:"general",subject_line:"",preview_text:"",html_content:"",plain_text_content:"",template_variables:"",thumbnail_url:"",is_responsive:!0}),eq()}catch(e){console.error("Error creating template:",e),V({type:"error",message:"Failed to create template"})}finally{eo(!1)}},eY=async()=>{if(!eA.email)return void V({type:"error",message:"Please enter an email address"});eo(!0);try{let e=eA.tags?eA.tags.split(",").map(e=>e.trim()).filter(e=>e):[],{data:t,error:s}=await h.db.from("email_contacts").insert([{email:eA.email,first_name:eA.first_name||null,last_name:eA.last_name||null,phone_number:eA.phone_number||null,company:eA.company||null,job_title:eA.job_title||null,country:eA.country||null,custom_fields:eA.custom_fields,tags:e,subscription_status:eA.subscription_status,source:"manual"}]).select().single();!s&&t?(eA.selected_lists.length>0&&await h.db.from("email_contact_list_members").insert(eA.selected_lists.map(e=>({list_id:e,contact_id:t.id}))),V({type:"success",message:"Contact added successfully"}),X(!1),eT({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]}),eV()):V({type:"error",message:s?.message||"Failed to add contact"})}catch(e){console.error("Error adding contact:",e),V({type:"error",message:"Failed to add contact"})}finally{eo(!1)}},eQ=async()=>{if(!ey)return void V({type:"error",message:"Please select a file to import"});eo(!0);try{let e=(await ey.text()).split("\n").filter(e=>e.trim());if(e.length<2){V({type:"error",message:"CSV file must contain headers and at least one contact"}),eo(!1);return}let t=e[0].split(",").map(e=>e.trim()),s=t.findIndex(e=>"email"===e.toLowerCase());if(-1===s){V({type:"error",message:'CSV must contain an "email" column'}),eo(!1);return}let a=[];for(let l=1;l<e.length;l++){let r=e[l].split(",").map(e=>e.trim()),i=r[s];if(i&&i.includes("@")){let e={email:i,source:"import"},s=t.findIndex(e=>"first_name"===e.toLowerCase()||"firstname"===e.toLowerCase()),l=t.findIndex(e=>"last_name"===e.toLowerCase()||"lastname"===e.toLowerCase()),n=t.findIndex(e=>"company"===e.toLowerCase()),d=t.findIndex(e=>"phone"===e.toLowerCase()||"phone_number"===e.toLowerCase());-1!==s&&(e.first_name=r[s]||null),-1!==l&&(e.last_name=r[l]||null),-1!==n&&(e.company=r[n]||null),-1!==d&&(e.phone_number=r[d]||null),a.push(e)}}if(0===a.length){V({type:"error",message:"No valid contacts found in CSV"}),eo(!1);return}let{error:l}=await h.db.from("email_contacts").insert(a);l?V({type:"error",message:"Failed to import contacts"}):(V({type:"success",message:`Successfully imported ${a.length} contacts`}),J(!1),ew(null),eV())}catch(e){console.error("Error importing contacts:",e),V({type:"error",message:"Failed to import contacts"})}finally{eo(!1)}},eZ=async()=>{if(eh){eo(!0);try{let{error:e}=await h.db.from("email_contacts").update({subscription_status:eh.subscription_status,tags:eh.tags}).eq("id",eh.id);e?V({type:"error",message:"Failed to update contact settings"}):(V({type:"success",message:"Contact settings updated successfully"}),Q(!1),eu(null),eV())}catch(e){console.error("Error updating contact:",e),V({type:"error",message:"Failed to update contact settings"})}finally{eo(!1)}}},e0=async()=>{if(!eP.sequence_name)return void V({type:"error",message:"Please enter a sequence name"});eo(!0);try{let{error:e}=await h.db.from("email_automation_sequences").insert([{sequence_name:eP.sequence_name,sequence_description:eP.sequence_description||null,trigger_type:eP.trigger_type,trigger_event:eP.trigger_event||null,entry_conditions:eP.entry_conditions?JSON.parse(eP.entry_conditions):null,is_active:eP.is_active}]);e?V({type:"error",message:"Failed to create sequence"}):(V({type:"success",message:"Automation sequence created successfully"}),ee(!1),eI({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]}),eB())}catch(e){console.error("Error creating sequence:",e),V({type:"error",message:"Failed to create sequence"})}finally{eo(!1)}},e4=async(e,t)=>{try{let{error:s}=await h.db.from("email_automation_sequences").update({is_active:!t}).eq("id",e);s?V({type:"error",message:"Failed to update sequence"}):(V({type:"success",message:`Sequence ${!t?"activated":"paused"} successfully`}),eB())}catch(e){console.error("Error updating sequence:",e),V({type:"error",message:"Failed to update sequence"})}},e2=async()=>{if(!eM.provider_name||!eM.from_email)return void V({type:"error",message:"Please fill in required fields"});if("smtp"===eM.provider_type&&(!eM.smtp_host||!eM.smtp_username))return void V({type:"error",message:"Please fill in SMTP configuration"});if("api"===eM.provider_type&&!eM.api_key)return void V({type:"error",message:"Please provide API key"});eo(!0);try{let{error:e}=await h.db.from("email_provider_configs").insert([{provider_name:eM.provider_name,provider_type:eM.provider_type,smtp_host:"smtp"===eM.provider_type?eM.smtp_host:null,smtp_port:"smtp"===eM.provider_type?parseInt(eM.smtp_port):null,smtp_username:"smtp"===eM.provider_type?eM.smtp_username:null,smtp_password:"smtp"===eM.provider_type?eM.smtp_password:null,smtp_encryption:"smtp"===eM.provider_type?eM.smtp_encryption:null,api_key:"api"===eM.provider_type?eM.api_key:null,api_secret:"api"===eM.provider_type?eM.api_secret:null,sending_domain:eM.sending_domain||null,from_email:eM.from_email,from_name:eM.from_name||null,is_default:eM.is_default,is_verified:!1}]);e?V({type:"error",message:"Failed to add provider"}):(V({type:"success",message:"Email provider added successfully"}),ei(!1),eE({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1}),eK())}catch(e){console.error("Error adding provider:",e),V({type:"error",message:"Failed to add provider"})}finally{eo(!1)}},e5=async()=>{if(ef){eo(!0);try{let{error:e}=await h.db.from("email_provider_configs").update({is_active:ef.is_active,is_default:ef.is_default,daily_sending_limit:ef.daily_sending_limit}).eq("id",ef.id);e?V({type:"error",message:"Failed to configure provider"}):(V({type:"success",message:"Provider configured successfully"}),ed(!1),ej(null),eK())}catch(e){console.error("Error configuring provider:",e),V({type:"error",message:"Failed to configure provider"})}finally{eo(!1)}}},e3=async e=>{ev(!0);try{await new Promise(e=>setTimeout(e,2e3));let t=Math.random()>.3;await h.db.from("email_provider_configs").update({is_verified:t,last_verified_at:t?new Date().toISOString():null}).eq("id",e),t?V({type:"success",message:"Connection test successful"}):V({type:"error",message:"Connection test failed"}),eK()}catch(e){console.error("Error testing connection:",e),V({type:"error",message:"Connection test failed"})}finally{ev(!1)}},e6=i.filter(e=>{let t=e.campaign_name.toLowerCase().includes(F.toLowerCase())||e.subject_line.toLowerCase().includes(F.toLowerCase()),s="all"===q||e.status===q;return t&&s}),e8=i.reduce((e,t)=>e+(t.emails_sent||0),0),e9=i.reduce((e,t)=>e+(t.emails_delivered||0),0),te=i.reduce((e,t)=>e+(t.emails_opened||0),0),tt=i.reduce((e,t)=>e+(t.emails_clicked||0),0),ts=e9>0?(te/e9*100).toFixed(2):0,ta=e9>0?(tt/e9*100).toFixed(2):0;return R?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[O&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===O.type?"bg-green-500":"bg-red-500"} text-white`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["success"===O.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:O.message})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Email Campaigns"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Create, manage, and analyze email marketing campaigns"})]}),(0,t.jsxs)("button",{onClick:()=>B(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Campaign"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Total Sent"}),(0,t.jsx)(e$.default,{className:"w-5 h-5 text-blue-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:e8.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"All campaigns"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Delivered"}),(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:e9.toLocaleString()}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[e8>0?(e9/e8*100).toFixed(1):0,"% delivery rate"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Avg Open Rate"}),(0,t.jsx)(S.default,{className:"w-5 h-5 text-purple-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[ts,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[te.toLocaleString()," opens"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Avg Click Rate"}),(0,t.jsx)(sK.default,{className:"w-5 h-5 text-orange-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[ta,"%"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[tt.toLocaleString()," clicks"]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 inline-flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>r("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===a?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,t.jsx)("button",{onClick:()=>r("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===a?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,t.jsx)("button",{onClick:()=>r("contacts"),className:`px-6 py-2 rounded-lg transition-colors ${"contacts"===a?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Contacts"}),(0,t.jsx)("button",{onClick:()=>r("automation"),className:`px-6 py-2 rounded-lg transition-colors ${"automation"===a?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Automation"}),(0,t.jsx)("button",{onClick:()=>r("analytics"),className:`px-6 py-2 rounded-lg transition-colors ${"analytics"===a?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Analytics"}),(0,t.jsx)("button",{onClick:()=>r("providers"),className:`px-6 py-2 rounded-lg transition-colors ${"providers"===a?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Providers"})]}),"campaigns"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:F,onChange:e=>$(e.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,t.jsxs)("select",{value:q,onChange:e=>U(e.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"sending",children:"Sending"}),(0,t.jsx)("option",{value:"sent",children:"Sent"}),(0,t.jsx)("option",{value:"paused",children:"Paused"})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:e6.map(e=>(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.campaign_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"sent"===e.status?"bg-green-500/20 text-green-400":"sending"===e.status?"bg-blue-500/20 text-blue-400 animate-pulse":"scheduled"===e.status?"bg-purple-500/20 text-purple-400":"draft"===e.status?"bg-slate-500/20 text-slate-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status.toUpperCase()}),"ab_test"===e.campaign_type&&(0,t.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold",children:"A/B TEST"})]}),(0,t.jsxs)("p",{className:"text-slate-400 mb-1",children:[(0,t.jsx)(b.Mail,{className:"w-4 h-4 inline mr-2"}),e.subject_line]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[(0,t.jsxs)("span",{children:["From: ",e.from_email]}),e.scheduled_at&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Scheduled: ",new Date(e.scheduled_at).toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Recipients"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.total_recipients?.toLocaleString()||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Sent"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.emails_sent?.toLocaleString()||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Delivered"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.emails_delivered?.toLocaleString()||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Opened"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.emails_opened?.toLocaleString()||0,e.emails_delivered>0&&(0,t.jsxs)("span",{className:"text-green-400 text-xs ml-1",children:["(",(e.emails_opened/e.emails_delivered*100).toFixed(1),"%)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Clicked"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.emails_clicked?.toLocaleString()||0,e.emails_delivered>0&&(0,t.jsxs)("span",{className:"text-cyan-400 text-xs ml-1",children:["(",(e.emails_clicked/e.emails_delivered*100).toFixed(1),"%)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Bounced"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.emails_bounced?.toLocaleString()||0})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"View Details",children:(0,t.jsx)(eR.BarChart3,{className:"w-5 h-5 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Duplicate",children:(0,t.jsx)(C.default,{className:"w-5 h-5 text-slate-400"})}),"draft"===e.status&&(0,t.jsx)("button",{className:"p-2 hover:bg-green-600 rounded-lg transition-colors",title:"Send",children:(0,t.jsx)(e$.default,{className:"w-5 h-5 text-green-400"})})]})]})},e.id))})]}),"templates"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Templates"}),(0,t.jsxs)("button",{onClick:()=>W(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Template"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-cyan-500/50 transition-all",children:[(0,t.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg mb-3 flex items-center justify-center",children:(0,t.jsx)(d.FileText,{className:"w-12 h-12 text-slate-600"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:e.template_name}),(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${"promotional"===e.template_category?"bg-orange-500/20 text-orange-400":"transactional"===e.template_category?"bg-blue-500/20 text-blue-400":"newsletter"===e.template_category?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.template_category})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:e.subject_line}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,t.jsxs)("span",{children:["Used ",e.usage_count||0," times"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"hover:text-cyan-400 transition-colors",children:(0,t.jsx)(S.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"hover:text-cyan-400 transition-colors",children:(0,t.jsx)(so.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{className:"hover:text-cyan-400 transition-colors",children:(0,t.jsx)(C.default,{className:"w-4 h-4"})})]})]})]},e.id))})]}),"contacts"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Contact Management"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>J(!0),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(tC.default,{className:"w-5 h-5"}),"Import"]}),(0,t.jsxs)("button",{onClick:()=>X(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Contact"]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:m.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.list_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:e.list_description})]}),(0,t.jsx)(eG.default,{className:"w-6 h-6 text-cyan-400"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Total"}),(0,t.jsx)("p",{className:"text-white font-semibold text-lg",children:e.total_contacts?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Active"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold text-lg",children:e.active_contacts?.toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Unsubscribed"}),(0,t.jsx)("p",{className:"text-red-400 font-semibold text-lg",children:e.unsubscribed_contacts?.toLocaleString()})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:e},s))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-lg text-sm transition-colors",children:"View Contacts"}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(c.Settings,{className:"w-5 h-5 text-slate-400"})})]})]},e.id))}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Contacts"}),(0,t.jsx)("div",{className:"space-y-2",children:g.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/50 rounded-lg transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.first_name?.[0]||e.email[0].toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.first_name," ",e.last_name]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.company&&(0,t.jsx)("span",{className:"text-slate-400 text-sm",children:e.company}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"subscribed"===e.subscription_status?"bg-green-500/20 text-green-400":"unsubscribed"===e.subscription_status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:e.subscription_status}),(0,t.jsx)("button",{onClick:()=>{eu(e),Q(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Manage contact",children:(0,t.jsx)(c.Settings,{className:"w-4 h-4 text-slate-400"})})]})]},e.id))})]})]}),"automation"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Automation"}),(0,t.jsxs)("button",{onClick:()=>ee(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Sequence"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:N.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${e.is_active?"bg-green-500/20":"bg-slate-700"}`,children:(0,t.jsx)(ez.default,{className:`w-6 h-6 ${e.is_active?"text-green-400":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.sequence_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.sequence_description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold uppercase",children:e.trigger_type.replace("_"," ")})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Subscribers"}),(0,t.jsx)("p",{className:"text-white text-2xl font-bold",children:e.total_subscribers?.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Active"}),(0,t.jsx)("p",{className:"text-blue-400 text-2xl font-bold",children:e.active_subscribers?.toLocaleString()})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Completed"}),(0,t.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:e.completed_subscribers?.toLocaleString()})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{eg(e),el(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(S.default,{className:"w-4 h-4"}),"View Sequence"]}),(0,t.jsxs)("button",{onClick:()=>{eg(e),es(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(so.default,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsxs)("button",{onClick:()=>e4(e.id,e.is_active),className:`px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2 ${e.is_active?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"}`,children:[e.is_active?(0,t.jsx)(eO.default,{className:"w-4 h-4"}):(0,t.jsx)(eD.Play,{className:"w-4 h-4"}),e.is_active?"Pause":"Activate"]})]})]},e.id))})]}),"analytics"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Analytics"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Metrics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(S.default,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Average Open Rate"}),(0,t.jsxs)("p",{className:"text-white text-2xl font-bold",children:[ts,"%"]})]})]}),(0,t.jsx)(eb.TrendingUp,{className:"w-8 h-8 text-green-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(sK.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Average Click Rate"}),(0,t.jsxs)("p",{className:"text-white text-2xl font-bold",children:[ta,"%"]})]})]}),(0,t.jsx)(eb.TrendingUp,{className:"w-8 h-8 text-cyan-400"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,t.jsxs)("p",{className:"text-white text-2xl font-bold",children:[e8>0?(e9/e8*100).toFixed(1):0,"%"]})]})]}),(0,t.jsx)(eb.TrendingUp,{className:"w-8 h-8 text-blue-400"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Device Breakdown"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(sW.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white",children:"Desktop"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:"58%"}})}),(0,t.jsx)("span",{className:"text-white font-semibold w-12 text-right",children:"58%"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white",children:"Mobile"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:"42%"}})}),(0,t.jsx)("span",{className:"text-white font-semibold w-12 text-right",children:"42%"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Top Performing Campaigns"}),(0,t.jsx)("div",{className:"space-y-3",children:i.filter(e=>"sent"===e.status&&e.emails_delivered>0).sort((e,t)=>t.emails_opened/t.emails_delivered-e.emails_opened/e.emails_delivered).slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.campaign_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.subject_line})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Open Rate"}),(0,t.jsxs)("p",{className:"text-green-400 font-bold text-lg",children:[(e.emails_opened/e.emails_delivered*100).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Click Rate"}),(0,t.jsxs)("p",{className:"text-cyan-400 font-bold text-lg",children:[(e.emails_clicked/e.emails_delivered*100).toFixed(1),"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Delivered"}),(0,t.jsx)("p",{className:"text-white font-bold text-lg",children:e.emails_delivered.toLocaleString()})]})]})]},e.id))})]})]}),"providers"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Providers"}),(0,t.jsxs)("button",{onClick:()=>ei(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Provider"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-3 rounded-lg ${e.is_active?"bg-green-500/20":"bg-slate-700"}`,children:(0,t.jsx)(b.Mail,{className:`w-6 h-6 ${e.is_active?"text-green-400":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.provider_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.from_email})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_default&&(0,t.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold",children:"DEFAULT"}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded-full text-xs font-semibold uppercase",children:e.provider_type.replace("_"," ")})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.smtp_host&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"SMTP Host"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.smtp_host})]}),e.smtp_port&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Port"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.smtp_port})]}),e.daily_sending_limit&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Daily Limit"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.daily_sending_limit.toLocaleString()})]}),e.monthly_sending_limit&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs",children:"Monthly Limit"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.monthly_sending_limit.toLocaleString()})]})]}),M.filter(t=>t.provider_config_id===e.id).map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("p",{className:"text-slate-400 text-sm capitalize",children:[e.quota_period," Usage"]}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.emails_sent.toLocaleString()," / ",e.quota_limit.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full rounded-full ${e.emails_sent/e.quota_limit>.9?"bg-red-500":e.emails_sent/e.quota_limit>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(e.emails_sent/e.quota_limit*100,100)}%`}})})]},e.id)),(0,t.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,t.jsxs)("button",{onClick:()=>{ej(e),ed(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(c.Settings,{className:"w-4 h-4"}),"Configure"]}),(0,t.jsxs)("button",{onClick:()=>e3(e.id),disabled:eN,className:"bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,t.jsx)(P.default,{className:`w-4 h-4 ${eN?"animate-spin":""}`}),eN?"Testing...":"Test Connection"]})]})]},e.id))})]}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Email Campaign"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Design and schedule your email marketing campaign"})]}),(0,t.jsx)("button",{onClick:()=>{B(!1),em(1)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${ex>=e?"bg-cyan-600 text-white":"bg-slate-700 text-slate-400"}`,children:e}),(0,t.jsx)("div",{className:`flex-1 h-1 mx-2 ${ex>e?"bg-cyan-600":"bg-slate-700"}`})]},e))}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs",children:[(0,t.jsx)("span",{className:ex>=1?"text-cyan-400":"text-slate-500",children:"Campaign Details"}),(0,t.jsx)("span",{className:ex>=2?"text-cyan-400":"text-slate-500",children:"Select Audience"}),(0,t.jsx)("span",{className:ex>=3?"text-cyan-400":"text-slate-500",children:"Schedule & Review"})]})]}),(0,t.jsxs)("div",{className:"p-6",children:[1===ex&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:e_.campaign_name,onChange:e=>ek({...e_,campaign_name:e.target.value}),placeholder:"Summer Sale 2024",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Campaign Type"}),(0,t.jsxs)("select",{value:e_.campaign_type,onChange:e=>ek({...e_,campaign_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"regular",children:"Regular Campaign"}),(0,t.jsx)("option",{value:"ab_test",children:"A/B Test Campaign"}),(0,t.jsx)("option",{value:"automated",children:"Automated"}),(0,t.jsx)("option",{value:"drip",children:"Drip Campaign"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Select Template (Optional)"}),(0,t.jsxs)("select",{value:e_.template_id,onChange:e=>{let t=e.target.value;ek({...e_,template_id:t});let s=o.find(e=>e.id===t);s&&ek(e=>({...e,subject_line:s.subject_line,preview_text:s.preview_text||""}))},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"",children:"Create from scratch"}),o.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.template_name," (",e.template_category,")"]},e.id))]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Choose a template or design from scratch"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subject Line *"}),(0,t.jsx)("input",{type:"text",value:e_.subject_line,onChange:e=>ek({...e_,subject_line:e.target.value}),placeholder:"Your exclusive offer awaits!",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Preview Text"}),(0,t.jsx)("input",{type:"text",value:e_.preview_text,onChange:e=>ek({...e_,preview_text:e.target.value}),placeholder:"Don't miss out on our biggest sale of the year",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Displayed in email client preview pane"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Email *"}),(0,t.jsx)("input",{type:"email",value:e_.from_email,onChange:e=>ek({...e_,from_email:e.target.value}),placeholder:"newsletter@company.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Name"}),(0,t.jsx)("input",{type:"text",value:e_.from_name,onChange:e=>ek({...e_,from_name:e.target.value}),placeholder:"Company Team",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Reply-To Email"}),(0,t.jsx)("input",{type:"email",value:e_.reply_to_email,onChange:e=>ek({...e_,reply_to_email:e.target.value}),placeholder:"support@company.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),"ab_test"===e_.campaign_type&&(0,t.jsxs)("div",{className:"border border-purple-500/30 bg-purple-500/10 rounded-lg p-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:e_.ab_test_enabled,onChange:e=>ek({...e_,ab_test_enabled:e.target.checked}),className:"w-5 h-5 rounded"}),(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable A/B Testing"})]}),e_.ab_test_enabled&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-slate-300 text-sm",children:"Test different subject lines to see which performs better:"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white text-sm mb-1",children:"Variant A (Original)"}),(0,t.jsx)("input",{type:"text",value:e_.ab_subject_variants[0],onChange:e=>{let t=[...e_.ab_subject_variants];t[0]=e.target.value,ek({...e_,ab_subject_variants:t})},placeholder:"First subject line option",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-purple-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white text-sm mb-1",children:"Variant B (Alternative)"}),(0,t.jsx)("input",{type:"text",value:e_.ab_subject_variants[1],onChange:e=>{let t=[...e_.ab_subject_variants];t[1]=e.target.value,ek({...e_,ab_subject_variants:t})},placeholder:"Second subject line option",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-purple-500"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,t.jsx)("input",{type:"text",value:e_.tags,onChange:e=>ek({...e_,tags:e.target.value}),placeholder:"promotion, summer, sale",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Comma-separated tags for organization"})]})]}),2===ex&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Select Contact Lists"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Choose which contact lists will receive this campaign"}),(0,t.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[m.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg hover:border-cyan-500/50 cursor-pointer transition-all",children:[(0,t.jsx)("input",{type:"checkbox",checked:e_.selected_lists.includes(e.id),onChange:t=>{t.target.checked?ek({...e_,selected_lists:[...e_.selected_lists,e.id]}):ek({...e_,selected_lists:e_.selected_lists.filter(t=>t!==e.id)})},className:"w-5 h-5 rounded"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.list_name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(l.default,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsxs)("span",{className:"text-cyan-400",children:[e.total_contacts," contacts"]})]})]}),e.list_description&&(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:e.list_description}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:e},s))})]})]},e.id)),0===m.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(l.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No contact lists found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Create contact lists to send campaigns"})]})]}),e_.selected_lists.length>0&&(0,t.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-cyan-400 mb-1",children:[(0,t.jsx)(e1.default,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"Estimated Recipients"})]}),(0,t.jsx)("p",{className:"text-white text-2xl font-bold",children:m.filter(e=>e_.selected_lists.includes(e.id)).reduce((e,t)=>e+(t.active_contacts||0),0).toLocaleString()}),(0,t.jsxs)("p",{className:"text-slate-300 text-sm mt-1",children:["Active contacts across ",e_.selected_lists.length," selected lists"]})]})]}),3===ex&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Schedule Campaign"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-cyan-500/50 transition-all",children:[(0,t.jsx)("input",{type:"radio",name:"schedule_type",value:"send_now",checked:"send_now"===e_.schedule_type,onChange:e=>ek({...e_,schedule_type:e.target.value}),className:"w-5 h-5 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(ez.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Send Immediately"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Campaign will be sent as soon as it's created"})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-cyan-500/50 transition-all",children:[(0,t.jsx)("input",{type:"radio",name:"schedule_type",value:"schedule",checked:"schedule"===e_.schedule_type,onChange:e=>ek({...e_,schedule_type:e.target.value}),className:"w-5 h-5 mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(f.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:"Schedule for Later"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:"Choose a specific date and time to send"}),"schedule"===e_.schedule_type&&(0,t.jsx)("input",{type:"datetime-local",value:e_.scheduled_at,onChange:e=>ek({...e_,scheduled_at:e.target.value}),min:new Date().toISOString().slice(0,16),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Campaign Summary"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Campaign Name"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e_.campaign_name||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Type"}),(0,t.jsx)("p",{className:"text-white font-medium capitalize",children:e_.campaign_type.replace("_"," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Subject Line"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e_.subject_line||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"From"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e_.from_email||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Lists Selected"}),(0,t.jsx)("p",{className:"text-white font-medium",children:e_.selected_lists.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Total Recipients"}),(0,t.jsx)("p",{className:"text-white font-medium",children:m.filter(e=>e_.selected_lists.includes(e.id)).reduce((e,t)=>e+(t.active_contacts||0),0).toLocaleString()})]})]})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Before Sending"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Ensure your content complies with email marketing regulations"}),(0,t.jsx)("li",{children:"Include an unsubscribe link in your email template"}),(0,t.jsx)("li",{children:"Test your email on different devices and email clients"}),(0,t.jsx)("li",{children:"Review all links and personalization variables"})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[ex>1&&(0,t.jsx)("button",{onClick:()=>em(ex-1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Back"}),(0,t.jsx)("button",{onClick:()=>{B(!1),em(1)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),ex<3?(0,t.jsxs)("button",{onClick:()=>em(ex+1),disabled:1===ex&&(!e_.campaign_name||!e_.subject_line||!e_.from_email),className:"flex-1 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:["Next Step",(0,t.jsx)(sy.ChevronRight,{className:"w-5 h-5"})]}):(0,t.jsx)("button",{onClick:eH,disabled:ec,className:"flex-1 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Creating Campaign..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"Create Campaign"]})})]})]})]})}),K&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Email Template"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Design a reusable email template with rich content"})]}),(0,t.jsx)("button",{onClick:()=>W(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Template Name *"}),(0,t.jsx)("input",{type:"text",value:eC.template_name,onChange:e=>eS({...eC,template_name:e.target.value}),placeholder:"Welcome Email",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,t.jsxs)("select",{value:eC.template_category,onChange:e=>eS({...eC,template_category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"general",children:"General"}),(0,t.jsx)("option",{value:"promotional",children:"Promotional"}),(0,t.jsx)("option",{value:"transactional",children:"Transactional"}),(0,t.jsx)("option",{value:"newsletter",children:"Newsletter"}),(0,t.jsx)("option",{value:"welcome",children:"Welcome"}),(0,t.jsx)("option",{value:"abandoned_cart",children:"Abandoned Cart"}),(0,t.jsx)("option",{value:"announcement",children:"Announcement"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subject Line *"}),(0,t.jsx)("input",{type:"text",value:eC.subject_line,onChange:e=>eS({...eC,subject_line:e.target.value}),placeholder:"Welcome to our platform!",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Preview Text"}),(0,t.jsx)("input",{type:"text",value:eC.preview_text,onChange:e=>eS({...eC,preview_text:e.target.value}),placeholder:"Get started with your new account",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Shown in email client preview"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Thumbnail URL (Optional)"}),(0,t.jsx)("input",{type:"url",value:eC.thumbnail_url,onChange:e=>eS({...eC,thumbnail_url:e.target.value}),placeholder:"https://example.com/template-preview.jpg",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Image URL for template preview"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"HTML Content *"}),(0,t.jsx)("textarea",{value:eC.html_content,onChange:e=>eS({...eC,html_content:e.target.value}),placeholder:`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email Template</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background: #007bff; color: white; padding: 20px; text-align: center; }
    .content { padding: 20px; background: #f9f9f9; }
    .button { display: inline-block; padding: 12px 24px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; }
    .footer { text-align: center; padding: 20px; font-size: 12px; color: #666; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Welcome to {{company_name}}!</h1>
    </div>
    <div class="content">
      <h2>Hello {{first_name}},</h2>
      <p>Thank you for joining us. We're excited to have you on board!</p>
      <p><a href="{{action_url}}" class="button">Get Started</a></p>
      <img src="https://via.placeholder.com/600x300" alt="Welcome" style="max-width: 100%; height: auto;">
    </div>
    <div class="footer">
      <p>&copy; 2024 {{company_name}}. All rights reserved.</p>
      <p><a href="{{unsubscribe_url}}">Unsubscribe</a></p>
    </div>
  </div>
</body>
</html>`,rows:15,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-cyan-500 resize-none"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Full HTML email template with inline CSS for best compatibility"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Plain Text Content (Fallback)"}),(0,t.jsx)("textarea",{value:eC.plain_text_content,onChange:e=>eS({...eC,plain_text_content:e.target.value}),placeholder:"Plain text version for email clients that don't support HTML...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500 resize-none"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Plain text fallback for non-HTML email clients"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Template Variables"}),(0,t.jsx)("input",{type:"text",value:eC.template_variables,onChange:e=>eS({...eC,template_variables:e.target.value}),placeholder:"first_name, last_name, company_name, action_url, unsubscribe_url",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:["Comma-separated list of merge variables (e.g., ","{{first_name}}",")"]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eC.is_responsive,onChange:e=>eS({...eC,is_responsive:e.target.checked}),className:"w-5 h-5 rounded"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Responsive Design"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Template adapts to mobile and desktop screens"})]})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-500/10 to-cyan-500/10 border border-green-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(d.FileText,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-green-400 font-semibold mb-1",children:"Template Best Practices"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Use inline CSS for styling (many email clients strip style tags)"}),(0,t.jsx)("li",{children:"Include image URLs from reliable hosting (avoid relative paths)"}),(0,t.jsx)("li",{children:"Test templates across different email clients"}),(0,t.jsx)("li",{children:"Keep width under 600px for best mobile compatibility"}),(0,t.jsx)("li",{children:"Always include alt text for images"}),(0,t.jsx)("li",{children:"Add unsubscribe link for compliance"})]})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>W(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eJ,disabled:ec,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Creating Template..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FileText,{className:"w-5 h-5"}),"Create Template"]})})]})]})]})}),G&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New Contact"}),(0,t.jsx)("button",{onClick:()=>{X(!1),eT({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Email Address *"}),(0,t.jsx)("input",{type:"email",value:eA.email,onChange:e=>eT({...eA,email:e.target.value}),placeholder:"contact@example.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"First Name"}),(0,t.jsx)("input",{type:"text",value:eA.first_name,onChange:e=>eT({...eA,first_name:e.target.value}),placeholder:"John",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Last Name"}),(0,t.jsx)("input",{type:"text",value:eA.last_name,onChange:e=>eT({...eA,last_name:e.target.value}),placeholder:"Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Company"}),(0,t.jsx)("input",{type:"text",value:eA.company,onChange:e=>eT({...eA,company:e.target.value}),placeholder:"Company Name",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Job Title"}),(0,t.jsx)("input",{type:"text",value:eA.job_title,onChange:e=>eT({...eA,job_title:e.target.value}),placeholder:"Marketing Manager",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:eA.phone_number,onChange:e=>eT({...eA,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Country"}),(0,t.jsx)("input",{type:"text",value:eA.country,onChange:e=>eT({...eA,country:e.target.value}),placeholder:"Malaysia",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,t.jsxs)("select",{value:eA.subscription_status,onChange:e=>eT({...eA,subscription_status:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,t.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:eA.tags,onChange:e=>eT({...eA,tags:e.target.value}),placeholder:"customer, vip, newsletter",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Add to Lists"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:m.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 p-3 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer hover:border-cyan-500 transition-colors",children:[(0,t.jsx)("input",{type:"checkbox",checked:eA.selected_lists.includes(e.id),onChange:t=>{t.target.checked?eT({...eA,selected_lists:[...eA.selected_lists,e.id]}):eT({...eA,selected_lists:eA.selected_lists.filter(t=>t!==e.id)})},className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,t.jsx)("span",{className:"text-white text-sm",children:e.list_name})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{X(!1),eT({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eY,disabled:ec,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Adding Contact..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Contact"]})})]})]})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Import Contacts"}),(0,t.jsx)("button",{onClick:()=>{J(!1),ew(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"CSV Format Instructions"}),(0,t.jsxs)("ul",{className:"text-slate-400 text-sm space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ First row must contain headers"}),(0,t.jsx)("li",{children:"â€¢ Required column: email"}),(0,t.jsx)("li",{children:"â€¢ Optional columns: first_name, last_name, company, phone, phone_number"}),(0,t.jsx)("li",{children:"â€¢ All other columns will be ignored"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Upload CSV File"}),(0,t.jsx)("input",{type:"file",accept:".csv",onChange:e=>ew(e.target.files?.[0]||null),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-700"}),ey&&(0,t.jsxs)("p",{className:"text-cyan-400 text-sm mt-2",children:["Selected: ",ey.name]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{J(!1),ew(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eQ,disabled:ec||!ey,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Importing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tC.default,{className:"w-5 h-5"}),"Import Contacts"]})})]})]})]})}),Y&&eh&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Contact Settings"}),(0,t.jsx)("button",{onClick:()=>{Q(!1),eu(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Contact"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:eh.email}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:[eh.first_name," ",eh.last_name]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subscription Status"}),(0,t.jsxs)("select",{value:eh.subscription_status,onChange:e=>eu({...eh,subscription_status:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,t.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,t.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags (comma-separated)"}),(0,t.jsx)("input",{type:"text",value:eh.tags?eh.tags.join(", "):"",onChange:e=>eu({...eh,tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),placeholder:"customer, vip, newsletter",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{Q(!1),eu(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:eZ,disabled:ec,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Settings,{className:"w-5 h-5"}),"Save Settings"]})})]})]})]})}),Z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Automation Sequence"}),(0,t.jsx)("button",{onClick:()=>{ee(!1),eI({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sequence Name *"}),(0,t.jsx)("input",{type:"text",value:eP.sequence_name,onChange:e=>eI({...eP,sequence_name:e.target.value}),placeholder:"Welcome Series",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:eP.sequence_description,onChange:e=>eI({...eP,sequence_description:e.target.value}),placeholder:"Describe your automation sequence...",rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Trigger Type"}),(0,t.jsxs)("select",{value:eP.trigger_type,onChange:e=>eI({...eP,trigger_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"manual",children:"Manual"}),(0,t.jsx)("option",{value:"signup",children:"On Signup"}),(0,t.jsx)("option",{value:"purchase",children:"On Purchase"}),(0,t.jsx)("option",{value:"abandoned_cart",children:"Abandoned Cart"}),(0,t.jsx)("option",{value:"date_based",children:"Date Based"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,t.jsxs)("select",{value:eP.is_active?"active":"inactive",onChange:e=>eI({...eP,is_active:"active"===e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ee(!1),eI({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e0,disabled:ec,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Sequence"]})})]})]})]})}),ea&&ep&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:ep.sequence_name}),(0,t.jsx)("button",{onClick:()=>{el(!1),eg(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-white",children:ep.sequence_description||"No description provided"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Total Subscribers"}),(0,t.jsx)("p",{className:"text-white text-2xl font-bold",children:ep.total_subscribers||0})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Active"}),(0,t.jsx)("p",{className:"text-blue-400 text-2xl font-bold",children:ep.active_subscribers||0})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Completed"}),(0,t.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:ep.completed_subscribers||0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-3",children:"Sequence Details"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Trigger Type"}),(0,t.jsx)("span",{className:"text-white font-medium capitalize",children:ep.trigger_type.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Status"}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ep.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:ep.is_active?"ACTIVE":"INACTIVE"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Created"}),(0,t.jsx)("span",{className:"text-white",children:new Date(ep.created_at).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{el(!1),eg(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Close"}),(0,t.jsxs)("button",{onClick:()=>{el(!1),es(!0)},className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(so.default,{className:"w-5 h-5"}),"Edit Sequence"]})]})]})]})}),et&&ep&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Sequence"}),(0,t.jsx)("button",{onClick:()=>{es(!1),eg(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Sequence Name"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:ep.sequence_name})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Note: Full sequence editing will be available soon. For now, you can pause/activate sequences from the main list."}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{onClick:()=>{es(!1),eg(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Close"})})]})]})}),er&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Email Provider"}),(0,t.jsx)("button",{onClick:()=>{ei(!1),eE({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Provider Name *"}),(0,t.jsx)("input",{type:"text",value:eM.provider_name,onChange:e=>eE({...eM,provider_name:e.target.value}),placeholder:"My Email Provider",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Provider Type"}),(0,t.jsxs)("select",{value:eM.provider_type,onChange:e=>eE({...eM,provider_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"smtp",children:"SMTP"}),(0,t.jsx)("option",{value:"api",children:"API (SendGrid, Mailgun, etc.)"})]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Email *"}),(0,t.jsx)("input",{type:"email",value:eM.from_email,onChange:e=>eE({...eM,from_email:e.target.value}),placeholder:"noreply@yourdomain.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Name"}),(0,t.jsx)("input",{type:"text",value:eM.from_name,onChange:e=>eE({...eM,from_name:e.target.value}),placeholder:"Your Company",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sending Domain"}),(0,t.jsx)("input",{type:"text",value:eM.sending_domain,onChange:e=>eE({...eM,sending_domain:e.target.value}),placeholder:"yourdomain.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),"smtp"===eM.provider_type&&(0,t.jsxs)("div",{className:"space-y-4 border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:"SMTP Configuration"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"SMTP Host *"}),(0,t.jsx)("input",{type:"text",value:eM.smtp_host,onChange:e=>eE({...eM,smtp_host:e.target.value}),placeholder:"smtp.gmail.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"SMTP Port"}),(0,t.jsx)("input",{type:"number",value:eM.smtp_port,onChange:e=>eE({...eM,smtp_port:e.target.value}),placeholder:"587",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Username *"}),(0,t.jsx)("input",{type:"text",value:eM.smtp_username,onChange:e=>eE({...eM,smtp_username:e.target.value}),placeholder:"your@email.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Password *"}),(0,t.jsx)("input",{type:"password",value:eM.smtp_password,onChange:e=>eE({...eM,smtp_password:e.target.value}),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Encryption"}),(0,t.jsxs)("select",{value:eM.smtp_encryption,onChange:e=>eE({...eM,smtp_encryption:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"tls",children:"TLS"}),(0,t.jsx)("option",{value:"ssl",children:"SSL"}),(0,t.jsx)("option",{value:"none",children:"None"})]})]})]})]}),"api"===eM.provider_type&&(0,t.jsxs)("div",{className:"space-y-4 border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-white font-semibold",children:"API Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"API Key *"}),(0,t.jsx)("input",{type:"password",value:eM.api_key,onChange:e=>eE({...eM,api_key:e.target.value}),placeholder:"Your API key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"API Secret (optional)"}),(0,t.jsx)("input",{type:"password",value:eM.api_secret,onChange:e=>eE({...eM,api_secret:e.target.value}),placeholder:"Your API secret",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:eM.is_default,onChange:e=>eE({...eM,is_default:e.target.checked}),className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,t.jsx)("span",{className:"text-white",children:"Set as default provider"})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ei(!1),eE({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e2,disabled:ec,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Adding Provider..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Provider"]})})]})]})]})}),en&&ef&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Configure Provider"}),(0,t.jsx)("button",{onClick:()=>{ed(!1),ej(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Provider"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:ef.provider_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:ef.from_email})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("input",{type:"checkbox",checked:ef.is_active,onChange:e=>ej({...ef,is_active:e.target.checked}),className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,t.jsx)("span",{className:"text-white",children:"Provider is active"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:ef.is_default,onChange:e=>ej({...ef,is_default:e.target.checked}),className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,t.jsx)("span",{className:"text-white",children:"Set as default provider"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Daily Sending Limit"}),(0,t.jsx)("input",{type:"number",value:ef.daily_sending_limit||"",onChange:e=>ej({...ef,daily_sending_limit:parseInt(e.target.value)||null}),placeholder:"1000",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Maximum emails to send per day (leave empty for unlimited)"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ed(!1),ej(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e5,disabled:ec,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ec?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Settings,{className:"w-5 h-5"}),"Save Configuration"]})})]})]})]})})]})}var e7=e7,ea=ea,sX=e.i(51485),sX=sX,P=P,L=L,m=m,tA=tA,sH=e.i(48146),sH=sH,e1=e1,ez=ez,eX=eX,eO=eO,S=S,sJ=e.i(53487),sJ=sJ,eQ=eQ,x=x,eY=eY,so=so,N=N;function sY({onNavigate:e}){let{user:a}=(0,D.useAuth)(),[l,r]=(0,s.useState)("sim-swap"),[i,d]=(0,s.useState)([]),[o,u]=(0,s.useState)([]),[p,g]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[j,w]=(0,s.useState)([]),[_,k]=(0,s.useState)([]),[C,A]=(0,s.useState)([]),[T,I]=(0,s.useState)([]),[M,F]=(0,s.useState)(!0),[$,q]=(0,s.useState)(""),[U,O]=(0,s.useState)(null),[V,z]=(0,s.useState)(!1),[B,K]=(0,s.useState)("providers"),[W,G]=(0,s.useState)(!1),[X,H]=(0,s.useState)("sim-swap"),[J,Y]=(0,s.useState)(""),[Q,Z]=(0,s.useState)(null),[ee,et]=(0,s.useState)(!1),[es,el]=(0,s.useState)(!1),[er,ei]=(0,s.useState)(!1),[en,ed]=(0,s.useState)(!1),[ec,eo]=(0,s.useState)(!1),[ex,em]=(0,s.useState)(!1),[eh,eu]=(0,s.useState)(!1),[ep,eg]=(0,s.useState)(!1),[ef,ej]=(0,s.useState)(!1),[eN,ev]=(0,s.useState)(!1),[ey,ew]=(0,s.useState)(!1),[e_,ek]=(0,s.useState)(!1),[eC,eS]=(0,s.useState)(null),[eA,eT]=(0,s.useState)({phone_number:"",lookback_days:"7"}),[eP,eM]=(0,s.useState)({phone_number:"",verification_method:"network_auth"}),[eE,eR]=(0,s.useState)({phone_number:"",request_type:"precise",geofence_id:""}),[eL,e$]=(0,s.useState)({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),[eq,eU]=(0,s.useState)({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1});(0,s.useEffect)(()=>{a&&Promise.all([eV(),eB(),eK(),eW(),eG(),eH(),eJ(),eZ()]).finally(()=>F(!1))},[a]),(0,s.useEffect)(()=>{if(U){let e=setTimeout(()=>O(null),5e3);return()=>clearTimeout(e)}},[U]);let eV=async()=>{let{data:e,error:t}=await h.db.from("telco_api_providers").select("*").order("is_active",{ascending:!1});!t&&e&&d(e)},eB=async()=>{let{data:e,error:t}=await h.db.from("sim_swap_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&u(e)},eK=async()=>{let{data:e,error:t}=await h.db.from("number_verification_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&g(e)},eW=async()=>{let{data:e,error:t}=await h.db.from("device_location_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&f(e)},eG=async()=>{let{data:e,error:t}=await h.db.from("geofences").select("*").order("created_at",{ascending:!1});!t&&e&&w(e)},eH=async()=>{let{data:e,error:t}=await h.db.from("qod_sessions").select("*").order("request_timestamp",{ascending:!1}).limit(50);!t&&e&&k(e)},eJ=async()=>{let{data:e,error:t}=await h.db.from("telco_api_usage").select("*").order("usage_date",{ascending:!1}).limit(100);!t&&e&&A(e)},eZ=async()=>{let{data:e,error:t}=await h.db.from("telco_tracked_devices").select("*").order("created_at",{ascending:!1});!t&&e&&I(e)},e0=async()=>{if(!J)return void O({type:"error",message:"Please enter a phone number"});et(!0),Z(null);try{if("sim-swap"===X){let e={phone_number:J,swap_detected:Math.random()>.7,fraud_score:Math.floor(100*Math.random()),last_swap_date:new Date(Date.now()-30*Math.random()*864e5).toISOString(),days_since_swap:Math.floor(30*Math.random()),response_time_ms:Math.floor(200*Math.random())+100};Z(e),O({type:"success",message:"SIM Swap check completed"})}else if("number-verify"===X){let e={phone_number:J,is_verified:Math.random()>.3,match_score:Math.floor(100*Math.random()),network_name:["Maxis","Celcom","DiGi","U Mobile"][Math.floor(4*Math.random())],network_type:"4G",response_time_ms:Math.floor(150*Math.random())+80};Z(e),O({type:"success",message:"Number verification completed"})}else if("location"===X)Z({phone_number:J,latitude:3.139+(Math.random()-.5)*.1,longitude:101.6869+(Math.random()-.5)*.1,accuracy_meters:Math.floor(100*Math.random())+50,city:"Kuala Lumpur",country:"Malaysia",response_time_ms:Math.floor(300*Math.random())+150}),O({type:"success",message:"Location retrieved successfully"});else if("qod"===X){let e={session_id:`qod_${Date.now()}`,phone_number:J,status:"active",target_latency_ms:50,actual_latency_ms:Math.floor(40*Math.random())+20,target_bandwidth_mbps:100,actual_bandwidth_mbps:Math.floor(100*Math.random())+80,packet_loss_percent:(2*Math.random()).toFixed(2),jitter_ms:Math.floor(10*Math.random())+5};Z(e),O({type:"success",message:"QoD session created successfully"})}}catch(e){O({type:"error",message:"API test failed"})}finally{et(!1)}},e4=async(e,t)=>{let{error:s}=await h.db.from("telco_api_providers").update({is_active:!t}).eq("id",e);s?O({type:"error",message:"Failed to update provider"}):(O({type:"success",message:`Provider ${!t?"activated":"deactivated"}`}),eV())},e2=async e=>{let{error:t}=await h.db.from("geofences").delete().eq("id",e);t?O({type:"error",message:"Failed to delete geofence"}):(O({type:"success",message:"Geofence deleted successfully"}),eG())},e5=async()=>{if(!eA.phone_number)return void O({type:"error",message:"Please enter a phone number"});eu(!0);try{let e=Math.random()>.7,t=Math.floor(100*Math.random()),s=Math.floor(Math.random()*parseInt(eA.lookback_days)),{error:a}=await h.db.from("sim_swap_requests").insert([{phone_number:eA.phone_number,provider_id:i.find(e=>e.is_active)?.id,swap_detected:e,fraud_score:t,last_swap_date:e?new Date(Date.now()-24*s*36e5).toISOString():null,days_since_swap:e?s:null,response_time_ms:Math.floor(200*Math.random())+100,request_timestamp:new Date().toISOString()}]);a?O({type:"error",message:"Failed to create SIM Swap check"}):(O({type:"success",message:"SIM Swap check completed successfully"}),el(!1),eT({phone_number:"",lookback_days:"7"}),eB())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},e3=async()=>{if(!eP.phone_number)return void O({type:"error",message:"Please enter a phone number"});eu(!0);try{let e=Math.random()>.3,t=Math.floor(100*Math.random()),s=["Maxis","Celcom","DiGi","U Mobile"],{error:a}=await h.db.from("number_verification_requests").insert([{phone_number:eP.phone_number,provider_id:i.find(e=>e.is_active)?.id,verification_method:eP.verification_method,is_verified:e,match_score:t,network_name:s[Math.floor(Math.random()*s.length)],network_type:["4G","5G"][Math.floor(2*Math.random())],response_time_ms:Math.floor(150*Math.random())+80,request_timestamp:new Date().toISOString()}]);a?O({type:"error",message:"Failed to verify number"}):(O({type:"success",message:"Number verification completed successfully"}),ei(!1),eM({phone_number:"",verification_method:"network_auth"}),eK())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},e6=async()=>{if(!eE.phone_number)return void O({type:"error",message:"Please enter a phone number"});eu(!0);try{let e=3.139+(Math.random()-.5)*.1,t=101.6869+(Math.random()-.5)*.1,s=Math.floor(100*Math.random())+50,{error:a}=await h.db.from("device_location_requests").insert([{phone_number:eE.phone_number,provider_id:i.find(e=>e.is_active)?.id,request_type:eE.request_type,geofence_id:eE.geofence_id||null,latitude:e,longitude:t,accuracy_meters:s,city:"Kuala Lumpur",country:"Malaysia",is_within_area:eE.geofence_id?Math.random()>.5:null,status:"completed",response_time_ms:Math.floor(300*Math.random())+150,request_timestamp:new Date().toISOString()}]);a?O({type:"error",message:"Failed to create location request"}):(O({type:"success",message:"Location request completed successfully"}),ed(!1),eR({phone_number:"",request_type:"precise",geofence_id:""}),eW())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},e8=async()=>{if(!eL.phone_number)return void O({type:"error",message:"Please enter a phone number"});eu(!0);try{let e=`qod_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,t=parseInt(eL.target_latency_ms),s=Math.floor(.8*t*Math.random())+.2*t,a=parseInt(eL.target_bandwidth_mbps),l=Math.floor(.3*a*Math.random())+.7*a,{error:r}=await h.db.from("qod_sessions").insert([{session_id:e,phone_number:eL.phone_number,provider_id:i.find(e=>e.is_active)?.id,qos_profile:eL.qos_profile,target_latency_ms:t,actual_latency_ms:s,target_bandwidth_mbps:a,actual_bandwidth_mbps:l,session_duration_minutes:parseInt(eL.session_duration_minutes),packet_loss_percent:parseFloat((2*Math.random()).toFixed(2)),jitter_ms:Math.floor(10*Math.random())+5,status:"active",request_timestamp:new Date().toISOString()}]);r?O({type:"error",message:"Failed to create QoD session"}):(O({type:"success",message:"QoD session created successfully"}),eo(!1),e$({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),eH())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},e9=async()=>{if(!eq.device_name||!eq.phone_number)return void O({type:"error",message:"Please enter device name and phone number"});eu(!0);try{let e=eq.tags?eq.tags.split(",").map(e=>e.trim()).filter(e=>e):[],{error:t}=await h.db.from("telco_tracked_devices").insert([{user_id:a?.id,device_name:eq.device_name,phone_number:eq.phone_number,device_type:eq.device_type,os_version:eq.os_version||null,device_model:eq.device_model||null,imei:eq.imei||null,tracking_enabled:eq.tracking_enabled,location_consent:eq.location_consent,precision_level:eq.precision_level,update_frequency_minutes:parseInt(eq.update_frequency_minutes),battery_optimization:eq.battery_optimization,tags:e,notes:eq.notes||null,alert_on_movement:eq.alert_on_movement,alert_on_geofence_exit:eq.alert_on_geofence_exit,alert_on_geofence_enter:eq.alert_on_geofence_enter,is_active:!0}]);t?O({type:"error",message:"Failed to add device"}):(O({type:"success",message:"Device added successfully"}),em(!1),eU({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1}),eZ())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},te=async e=>{if(!confirm("Are you sure you want to delete this SIM Swap check?"))return;let{error:t}=await h.db.from("sim_swap_requests").delete().eq("id",e);t?O({type:"error",message:"Failed to delete SIM Swap check"}):(O({type:"success",message:"SIM Swap check deleted successfully"}),eB())},tt=async e=>{if(!confirm("Are you sure you want to delete this verification request?"))return;let{error:t}=await h.db.from("number_verification_requests").delete().eq("id",e);t?O({type:"error",message:"Failed to delete verification request"}):(O({type:"success",message:"Verification request deleted successfully"}),eK())},ts=async e=>{if(!confirm("Are you sure you want to delete this location request?"))return;let{error:t}=await h.db.from("location_verification_requests").delete().eq("id",e);t?O({type:"error",message:"Failed to delete location request"}):(O({type:"success",message:"Location request deleted successfully"}),eW())},ta=async e=>{if(!confirm("Are you sure you want to delete this QoD session?"))return;let{error:t}=await h.db.from("qod_sessions").delete().eq("id",e);t?O({type:"error",message:"Failed to delete QoD session"}):(O({type:"success",message:"QoD session deleted successfully"}),eH())},tl=async e=>{if(!confirm("Are you sure you want to delete this tracked device?"))return;let{error:t}=await h.db.from("telco_tracked_devices").delete().eq("id",e);t?O({type:"error",message:"Failed to delete tracked device"}):(O({type:"success",message:"Tracked device deleted successfully"}),eZ())},tr=async()=>{if(!eC||!eA.phone_number)return void O({type:"error",message:"Please fill in required fields"});eu(!0);try{let{error:e}=await h.db.from("sim_swap_requests").update({phone_number:eA.phone_number,request_timestamp:new Date().toISOString()}).eq("id",eC.id);e?O({type:"error",message:"Failed to update SIM Swap check"}):(O({type:"success",message:"SIM Swap check updated successfully"}),eg(!1),eS(null),eT({phone_number:"",lookback_days:"7"}),eB())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},ti=async()=>{if(!eC||!eP.phone_number)return void O({type:"error",message:"Please fill in required fields"});eu(!0);try{let{error:e}=await h.db.from("number_verification_requests").update({phone_number:eP.phone_number,verification_method:eP.verification_method,request_timestamp:new Date().toISOString()}).eq("id",eC.id);e?O({type:"error",message:"Failed to update verification request"}):(O({type:"success",message:"Verification request updated successfully"}),ej(!1),eS(null),eM({phone_number:"",verification_method:"network_auth"}),eK())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},tn=async()=>{if(!eC||!eE.phone_number)return void O({type:"error",message:"Please fill in required fields"});eu(!0);try{let{error:e}=await h.db.from("location_verification_requests").update({phone_number:eE.phone_number,request_type:eE.request_type,geofence_id:eE.geofence_id||null,request_timestamp:new Date().toISOString()}).eq("id",eC.id);e?O({type:"error",message:"Failed to update location request"}):(O({type:"success",message:"Location request updated successfully"}),ev(!1),eS(null),eR({phone_number:"",request_type:"precise",geofence_id:""}),eW())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},td=async()=>{if(!eC||!eL.phone_number)return void O({type:"error",message:"Please fill in required fields"});eu(!0);try{let{error:e}=await h.db.from("qod_sessions").update({phone_number:eL.phone_number,qos_profile:eL.qos_profile,session_duration_minutes:parseInt(eL.session_duration_minutes),target_latency_ms:parseInt(eL.target_latency_ms),target_bandwidth_mbps:parseInt(eL.target_bandwidth_mbps)}).eq("id",eC.id);e?O({type:"error",message:"Failed to update QoD session"}):(O({type:"success",message:"QoD session updated successfully"}),ew(!1),eS(null),e$({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),eH())}catch(e){O({type:"error",message:"An error occurred"})}finally{eu(!1)}},tc=o.length,to=o.filter(e=>e.swap_detected).length,tx=o.reduce((e,t)=>e+(t.fraud_score||0),0)/(tc||1),tm=p.length,th=p.filter(e=>e.is_verified).length,tu=p.reduce((e,t)=>e+(t.match_score||0),0)/(tm||1),tp=b.length,tg=b.filter(e=>"completed"===e.status).length,tb=_.length,tf=_.filter(e=>"active"===e.status).length,tj=C.filter(e=>{let t=new Date(e.usage_date),s=new Date;return t.toDateString()===s.toDateString()}),tN=tj.reduce((e,t)=>e+(t.total_requests||0),0),tv=tj.reduce((e,t)=>e+parseFloat(t.total_cost||0),0);return M?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[U&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===U.type?"bg-green-500":"bg-red-500"} text-white`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["success"===U.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:U.message})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Telco API"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Network intelligence APIs for authentication, fraud prevention, and QoS"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>G(!0),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(eD.Play,{className:"w-5 h-5"}),"Test APIs"]}),(0,t.jsxs)("button",{onClick:()=>e?.("resources"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(eI.Code,{className:"w-5 h-5"}),"API Docs"]}),(0,t.jsxs)("button",{onClick:()=>z(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(c.Settings,{className:"w-5 h-5"}),"Configure"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"API Requests Today"}),(0,t.jsx)(m.default,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:tN.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Across all services"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Success Rate"}),(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:[tN>0?(tj.reduce((e,t)=>e+t.successful_requests,0)/tN*100).toFixed(1):0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"API reliability"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Active QoD Sessions"}),(0,t.jsx)(sX.default,{className:"w-5 h-5 text-blue-400"})]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:tf}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Live network optimization"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Cost Today"}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-purple-400"})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",tv.toFixed(2)]}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"API usage cost"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 inline-flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>r("sim-swap"),className:`px-6 py-2 rounded-lg transition-colors ${"sim-swap"===l?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"SIM Swap"}),(0,t.jsx)("button",{onClick:()=>r("number-verify"),className:`px-6 py-2 rounded-lg transition-colors ${"number-verify"===l?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Number Verification"}),(0,t.jsx)("button",{onClick:()=>r("location"),className:`px-6 py-2 rounded-lg transition-colors ${"location"===l?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Device Location"}),(0,t.jsx)("button",{onClick:()=>r("qod"),className:`px-6 py-2 rounded-lg transition-colors ${"qod"===l?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Quality on Demand"}),(0,t.jsx)("button",{onClick:()=>r("analytics"),className:`px-6 py-2 rounded-lg transition-colors ${"analytics"===l?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Analytics"})]}),"sim-swap"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(n.Shield,{className:"w-8 h-8 text-red-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"SIM Swap Detection"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Protect your users from SIM swap fraud by detecting recent SIM card changes or port-outs. This API checks if a phone number has been associated with a different SIM card recently."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Real-time Detection"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Instant verification of SIM card status and recent changes"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(R.Clock,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Timestamp History"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Returns exact date and time of last SIM swap or port"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Fraud Scoring"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Risk assessment based on swap timing and patterns"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Checks"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:tc}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"API requests processed"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Swaps Detected"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-red-400 mb-1",children:to}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:[tc>0?(to/tc*100).toFixed(1):0,"% detection rate"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Fraud Score"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-orange-400 mb-1",children:tx.toFixed(0)}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Risk assessment average"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent SIM Swap Checks"}),(0,t.jsx)("button",{onClick:()=>el(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Check"})]}),(0,t.jsx)("div",{className:"space-y-3",children:o.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.phone_number}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.swap_detected?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:e.swap_detected?"SWAP DETECTED":"NO SWAP"}),e.fraud_score>=70&&(0,t.jsx)("span",{className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full text-xs font-semibold",children:"HIGH RISK"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Fraud Score"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.fraud_score||0,"/100"]})]}),e.last_swap_date&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Swap"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:new Date(e.last_swap_date).toLocaleDateString()})]}),null!==e.days_since_swap&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Days Since Swap"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.days_since_swap," days"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Response Time"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.response_time_ms,"ms"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eS(e),eT({phone_number:e.phone_number,lookback_days:"7"}),eg(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>te(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"number-verify"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(e7.default,{className:"w-8 h-8 text-green-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Number Verification"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Silently verify user identity in the background using network intelligence. No SMS OTP required - the API confirms the mobile number matches the device using the network connection."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(ez.default,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Silent Authentication"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Background verification with zero user friction"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(tA.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Network-Based"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Uses carrier network data for instant verification"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(eX.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"No SMS Required"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Eliminates OTP friction and SMS costs"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Verifications"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:tm}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"API requests processed"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Verified Users"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-green-400 mb-1",children:th}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:[tm>0?(th/tm*100).toFixed(1):0,"% success rate"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Match Score"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-cyan-400 mb-1",children:[tu.toFixed(0),"%"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Confidence level"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent Verifications"}),(0,t.jsx)("button",{onClick:()=>ei(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Verification"})]}),(0,t.jsx)("div",{className:"space-y-3",children:p.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.phone_number}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_verified?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_verified?"VERIFIED":"NOT VERIFIED"}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs uppercase",children:e.verification_method})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Match Score"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.match_score||0,"%"]})]}),e.network_name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Network"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.network_name})]}),e.network_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Network Type"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.network_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Response Time"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.response_time_ms,"ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Timestamp"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:new Date(e.request_timestamp).toLocaleTimeString()})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eS(e),eM({phone_number:e.phone_number,verification_method:e.verification_method||"network_auth"}),ej(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>tt(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"location"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(ea.default,{className:"w-8 h-8 text-blue-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Device Location"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Access device location data through network intelligence. Verify if a device is within a specific area (geofencing) or retrieve precise GPS coordinates with user consent."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(e1.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Geofence Verification"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Check if device is within defined geographic area"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sJ.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Precise Coordinates"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Get exact latitude/longitude with meter-level accuracy"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(eX.default,{className:"w-5 h-5 text-orange-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Consent-Based"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Privacy-first location access with user permission"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Active Geofences"}),(0,t.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(e1.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.geofence_name})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Center"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.center_latitude?.toFixed(4),", ",e.center_longitude?.toFixed(4)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Radius"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.radius_meters/1e3).toFixed(1)," km"]})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:e},s))})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Location Statistics"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Requests"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-white",children:tp})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Successful Locations"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-400",children:tg}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:[tp>0?(tg/tp*100).toFixed(1):0,"% success rate"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Active Geofences"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-cyan-400",children:j.filter(e=>e.is_active).length})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Tracked Devices"}),(0,t.jsxs)("button",{onClick:()=>em(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(e7.default,{className:"w-4 h-4"}),"Add Device"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[T.slice(0,5).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(e7.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("span",{className:"text-white font-semibold",children:e.device_name}),(0,t.jsx)("span",{className:"text-slate-400 font-mono text-sm",children:e.phone_number}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),e.tracking_enabled&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs font-semibold flex items-center gap-1",children:[(0,t.jsx)(e1.default,{className:"w-3 h-3"}),"TRACKING"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Device Type"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.device_type})]}),e.device_model&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Model"}),(0,t.jsx)("p",{className:"text-white",children:e.device_model})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Precision"}),(0,t.jsx)("p",{className:"text-white capitalize",children:e.precision_level})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Update Frequency"}),(0,t.jsxs)("p",{className:"text-white",children:[e.update_frequency_minutes," min"]})]})]}),e.last_known_latitude&&e.last_known_longitude&&(0,t.jsxs)("div",{className:"mt-2 p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,t.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Last Known Location"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.last_known_latitude.toFixed(4),", ",e.last_known_longitude.toFixed(4)]}),(0,t.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:["Updated: ",e.last_location_update?new Date(e.last_location_update).toLocaleString():"Never"]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:e},s))})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eS(e),eU({device_name:e.device_name,phone_number:e.phone_number,device_type:e.device_type,os_version:e.os_version||"",device_model:e.device_model||"",imei:e.imei||"",tracking_enabled:e.tracking_enabled,location_consent:e.location_consent,precision_level:e.precision_level,update_frequency_minutes:e.update_frequency_minutes?.toString()||"60",battery_optimization:e.battery_optimization,tags:e.tags?e.tags.join(", "):"",notes:e.notes||"",alert_on_movement:e.alert_on_movement,alert_on_geofence_exit:e.alert_on_geofence_exit,alert_on_geofence_enter:e.alert_on_geofence_enter}),ek(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>tl(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id)),0===T.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(e7.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No tracked devices yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Add your first device to start tracking"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent Location Requests"}),(0,t.jsx)("button",{onClick:()=>ed(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Request"})]}),(0,t.jsx)("div",{className:"space-y-3",children:b.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(ea.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono",children:e.phone_number}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"completed"===e.status?"bg-green-500/20 text-green-400":"pending"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:e.status.toUpperCase()}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs uppercase",children:e.request_type})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.latitude&&e.longitude&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Coordinates"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.latitude?.toFixed(4),", ",e.longitude?.toFixed(4)]})]}),e.accuracy_meters&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Accuracy"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.accuracy_meters,"m"]})]}),e.city&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Location"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.city})]}),null!==e.is_within_area&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"In Geofence"}),(0,t.jsx)("p",{className:`font-semibold ${e.is_within_area?"text-green-400":"text-red-400"}`,children:e.is_within_area?"Yes":"No"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{eS(e),eR({phone_number:e.phone_number,request_type:e.request_type||"precise",geofence_id:e.geofence_id||""}),ev(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>ts(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"qod"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(sX.default,{className:"w-8 h-8 text-purple-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Quality on Demand (QoD)"}),(0,t.jsx)("p",{className:"text-slate-300 mb-4",children:"Request guaranteed network performance for specific sessions. Ensure stable latency and prioritized bandwidth for critical applications like gaming, video streaming, or IoT."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sX.default,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Stable Latency"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Guarantee consistent low-latency connections"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(sH.default,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Prioritized Bandwidth"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Reserve dedicated bandwidth for your application"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(m.default,{className:"w-5 h-5 text-purple-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:"Session-Based"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"QoS guarantees for specific time periods"})]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Sessions"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:tb}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Lifetime requests"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Active Now"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-green-400 mb-1",children:tf}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Live QoD sessions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Latency"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-cyan-400 mb-1",children:[_.filter(e=>e.actual_latency_ms).length>0?(_.reduce((e,t)=>e+(t.actual_latency_ms||0),0)/_.filter(e=>e.actual_latency_ms).length).toFixed(0):0,"ms"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active sessions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Bandwidth"}),(0,t.jsxs)("p",{className:"text-4xl font-bold text-purple-400 mb-1",children:[_.filter(e=>e.actual_bandwidth_mbps).length>0?(_.reduce((e,t)=>e+(t.actual_bandwidth_mbps||0),0)/_.filter(e=>e.actual_bandwidth_mbps).length).toFixed(0):0," Mbps"]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Active sessions"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:"QoD Sessions"}),(0,t.jsx)("button",{onClick:()=>eo(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Session"})]}),(0,t.jsx)("div",{className:"space-y-3",children:_.slice(0,10).map(e=>(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)(sX.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{className:"text-white font-mono text-sm",children:e.session_id}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===e.status?"bg-green-500/20 text-green-400 animate-pulse":"requested"===e.status?"bg-yellow-500/20 text-yellow-400":"terminated"===e.status?"bg-slate-500/20 text-slate-400":"bg-red-500/20 text-red-400"}`,children:e.status.toUpperCase()}),(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs uppercase",children:e.qos_profile.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Phone Number"}),(0,t.jsx)("p",{className:"text-white font-mono text-xs",children:e.phone_number})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Target Latency"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.target_latency_ms,"ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Actual Latency"}),(0,t.jsxs)("p",{className:`font-semibold ${e.actual_latency_ms&&e.actual_latency_ms<=e.target_latency_ms?"text-green-400":"text-orange-400"}`,children:[e.actual_latency_ms||"-","ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Bandwidth"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.actual_bandwidth_mbps||e.target_bandwidth_mbps," Mbps"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Duration"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.session_duration_minutes," min"]})]})]}),"active"===e.status&&null!==e.packet_loss_percent&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.default,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("span",{className:"text-slate-400",children:"Packet Loss:"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:[e.packet_loss_percent,"%"]})]}),null!==e.jitter_ms&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eQ.default,{className:"w-4 h-4 text-purple-400"}),(0,t.jsx)("span",{className:"text-slate-400",children:"Jitter:"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:[e.jitter_ms,"ms"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-4",children:["active"===e.status&&(0,t.jsx)("button",{className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Terminate",children:(0,t.jsx)(eO.default,{className:"w-5 h-5 text-red-400"})}),(0,t.jsx)("button",{onClick:()=>{eS(e),e$({phone_number:e.phone_number,qos_profile:e.qos_profile,session_duration_minutes:e.session_duration_minutes?.toString()||"60",target_latency_ms:e.target_latency_ms?.toString()||"50",target_bandwidth_mbps:e.target_bandwidth_mbps?.toString()||"100"}),ew(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsx)("button",{onClick:()=>ta(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-5 h-5 text-red-400"})})]})]})},e.id))})]})]}),"analytics"===l&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"API Analytics & Usage"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Today's Usage"}),(0,t.jsx)("div",{className:"space-y-3",children:["sim_swap","number_verification","device_location","qod"].map(e=>{let s=tj.find(t=>t.api_service===e);return(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-white font-semibold capitalize",children:e.replace("_"," ")}),(0,t.jsxs)("span",{className:"text-slate-400 text-sm",children:["$",s?.total_cost?.toFixed(2)||"0.00"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Requests"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:s?.total_requests||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Success"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold",children:s?.successful_requests||0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Failed"}),(0,t.jsx)("p",{className:"text-red-400 font-semibold",children:s?.failed_requests||0})]})]})]},e)})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"API Providers"}),(0,t.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(E.Globe,{className:"w-5 h-5 text-cyan-400"}),(0,t.jsx)("h4",{className:"text-white font-semibold",children:e.provider_name})]}),(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.supported_services.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:e},e))}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Rate Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.rate_limit_per_second,"/sec"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Daily Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.rate_limit_per_day/1e3).toFixed(0),"K/day"]})]})]})]},e.id))})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"30-Day Usage Trend"}),(0,t.jsx)("div",{className:"space-y-2",children:C.slice(0,30).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg hover:bg-slate-900 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-slate-400 text-sm w-24",children:new Date(e.usage_date).toLocaleDateString()}),(0,t.jsx)("span",{className:"text-white font-semibold w-32 capitalize",children:e.api_service.replace("_"," ")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Requests: "}),(0,t.jsx)("span",{className:"text-white font-semibold",children:e.total_requests})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Success Rate: "}),(0,t.jsxs)("span",{className:"text-green-400 font-semibold",children:[e.total_requests>0?(e.successful_requests/e.total_requests*100).toFixed(1):0,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Avg Response: "}),(0,t.jsxs)("span",{className:"text-cyan-400 font-semibold",children:[e.avg_response_time_ms,"ms"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Cost: "}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["$",parseFloat(e.total_cost).toFixed(2)]})]})]})]},e.id))})]})]}),V&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Telco API Configuration"}),(0,t.jsx)("button",{onClick:()=>z(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>K("providers"),className:`px-4 py-2 rounded-lg transition-colors ${"providers"===B?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Providers"}),(0,t.jsx)("button",{onClick:()=>K("api-keys"),className:`px-4 py-2 rounded-lg transition-colors ${"api-keys"===B?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"API Keys"}),(0,t.jsx)("button",{onClick:()=>K("webhooks"),className:`px-4 py-2 rounded-lg transition-colors ${"webhooks"===B?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Webhooks"}),(0,t.jsx)("button",{onClick:()=>K("geofences"),className:`px-4 py-2 rounded-lg transition-colors ${"geofences"===B?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Geofences"}),(0,t.jsx)("button",{onClick:()=>K("qos"),className:`px-4 py-2 rounded-lg transition-colors ${"qos"===B?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"QoS Profiles"}),(0,t.jsx)("button",{onClick:()=>K("testing"),className:`px-4 py-2 rounded-lg transition-colors ${"testing"===B?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Testing"})]})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["providers"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your Telco API providers and their configurations"}),(0,t.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Add Provider"})]}),i.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(E.Globe,{className:"w-8 h-8 text-cyan-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white",children:e.provider_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.provider_region})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.is_active,onChange:()=>e4(e.id,e.is_active),className:"sr-only peer"}),(0,t.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Rate Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[e.rate_limit_per_second,"/sec"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Daily Limit"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.rate_limit_per_day/1e3).toFixed(0),"K/day"]})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Priority"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.priority})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Fallback"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:e.failover_provider_id?"Yes":"No"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Supported Services"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.supported_services.map(e=>(0,t.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold",children:e.replace("_"," ").toUpperCase()},e))})]})]},e.id))]}),"api-keys"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Manage API keys and authentication credentials"}),(0,t.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Generate New Key"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(eX.default,{className:"w-6 h-6 text-cyan-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Production API Key"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Use this key for production environments"})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"sk_live_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(S.default,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(x.default,{className:"w-4 h-4 text-slate-400"})})]})]})}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Created"}),(0,t.jsx)("p",{className:"text-white",children:"Dec 15, 2024"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Used"}),(0,t.jsx)("p",{className:"text-white",children:"2 hours ago"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-green-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Sandbox API Key"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Use this key for testing and development"})]})]}),(0,t.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-white",children:"sk_test_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(S.default,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(x.default,{className:"w-4 h-4 text-slate-400"})})]})]})})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Security Best Practices"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Never share your API keys publicly or commit them to version control"}),(0,t.jsx)("li",{children:"Rotate keys regularly and revoke unused keys immediately"}),(0,t.jsx)("li",{children:"Use environment variables to store keys in your applications"}),(0,t.jsx)("li",{children:"Monitor API key usage for suspicious activity"})]})]})]})})]}),"webhooks"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Configure webhook endpoints to receive real-time notifications"}),(0,t.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Add Webhook"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eY.default,{className:"w-6 h-6 text-cyan-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"SIM Swap Alerts"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"https://api.yourapp.com/webhooks/sim-swap"})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Events"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"sim_swap.detected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Triggered"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"2 hours ago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Success Rate"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold",children:"99.8%"})]})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eY.default,{className:"w-6 h-6 text-purple-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"QoD Session Events"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"https://api.yourapp.com/webhooks/qod"})]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"ACTIVE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Events"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"qod.started, qod.ended"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Last Triggered"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"15 mins ago"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Success Rate"}),(0,t.jsx)("p",{className:"text-green-400 font-semibold",children:"100%"})]})]})]}),(0,t.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-orange-400 font-semibold mb-1",children:"Webhook Requirements"}),(0,t.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"Endpoints must respond with 2xx status codes within 5 seconds"}),(0,t.jsx)("li",{children:"Failed deliveries are retried 3 times with exponential backoff"}),(0,t.jsx)("li",{children:"Verify webhook signatures to ensure authenticity"})]})]})]})})]}),"geofences"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Create and manage geofences for location-based services"}),(0,t.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Create Geofence"})]}),j.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(e1.default,{className:"w-6 h-6 text-cyan-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:e.geofence_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:e.is_active?"ACTIVE":"INACTIVE"}),(0,t.jsx)("button",{onClick:()=>e2(e.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Center Coordinates"}),(0,t.jsxs)("p",{className:"text-white font-mono text-xs",children:[e.center_latitude?.toFixed(6),", ",e.center_longitude?.toFixed(6)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Radius"}),(0,t.jsxs)("p",{className:"text-white font-semibold",children:[(e.radius_meters/1e3).toFixed(2)," km"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Shape"}),(0,t.jsx)("p",{className:"text-white font-semibold capitalize",children:e.shape_type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Created"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:new Date(e.created_at).toLocaleDateString()})]})]}),e.tags&&e.tags.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:e.tags.map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:e},s))})]},e.id)),0===j.length&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,t.jsx)(ea.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400",children:"No geofences configured yet"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Create your first geofence to start using location-based services"})]})]}),"qos"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("p",{className:"text-slate-400",children:"Configure Quality of Service profiles for different use cases"}),(0,t.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Create Profile"})]}),["gaming","video_streaming","voice_call","video_conference","iot","file_transfer"].map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(sX.default,{className:"w-8 h-8 text-purple-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white capitalize",children:e.replace("_"," ")}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:["Optimized QoS parameters for ",e.replace("_"," ")," applications"]})]}),(0,t.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"AVAILABLE"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Target Latency"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e?"20ms":"video_streaming"===e?"100ms":"voice_call"===e?"50ms":"video_conference"===e?"40ms":"iot"===e?"200ms":"500ms"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Bandwidth"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e?"10 Mbps":"video_streaming"===e?"25 Mbps":"voice_call"===e?"1 Mbps":"video_conference"===e?"5 Mbps":"iot"===e?"0.5 Mbps":"100 Mbps"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Packet Loss"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e||"voice_call"===e?"<0.1%":"<1%"})]}),(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Jitter"}),(0,t.jsx)("p",{className:"text-white font-semibold",children:"gaming"===e||"voice_call"===e?"<5ms":"<30ms"})]})]})]},e))]}),"testing"===B&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Test your Telco API integrations before deploying to production"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(n.Shield,{className:"w-6 h-6 text-red-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test SIM Swap"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Check if a phone number has recently swapped SIM cards"}),(0,t.jsx)("button",{onClick:()=>{H("sim-swap"),G(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(e7.default,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Number Verification"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Verify phone number ownership without SMS"}),(0,t.jsx)("button",{onClick:()=>{H("number-verify"),G(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(ea.default,{className:"w-6 h-6 text-blue-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Device Location"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Retrieve GPS coordinates and geofence verification"}),(0,t.jsx)("button",{onClick:()=>{H("location"),G(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)(sX.default,{className:"w-6 h-6 text-purple-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Quality on Demand"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Request guaranteed network performance"}),(0,t.jsx)("button",{onClick:()=>{H("qod"),G(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]})]})]})]})]})}),W&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Test ",X.replace("-"," ").toUpperCase()," API"]}),(0,t.jsx)("button",{onClick:()=>{G(!1),Z(null),Y("")},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:J,onChange:e=>Y(e.target.value),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Enter a Malaysian phone number in E.164 format"})]}),(0,t.jsx)("button",{onClick:e0,disabled:ee,className:"w-full bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:ee?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Testing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.Play,{className:"w-5 h-5"}),"Run Test"]})}),Q&&(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Result"})]}),(0,t.jsx)("pre",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 text-sm text-slate-300 overflow-x-auto",children:JSON.stringify(Q,null,2)})]})]})]})}),es&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New SIM Swap Check"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Detect recent SIM card changes and fraud activity"})]}),(0,t.jsx)("button",{onClick:()=>{el(!1),eT({phone_number:"",lookback_days:"7"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eA.phone_number,onChange:e=>eT({...eA,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Malaysian phone number in E.164 format"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Lookback Period (Days)"}),(0,t.jsxs)("select",{value:eA.lookback_days,onChange:e=>eT({...eA,lookback_days:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,t.jsx)("option",{value:"3",children:"Last 3 days"}),(0,t.jsx)("option",{value:"7",children:"Last 7 days"}),(0,t.jsx)("option",{value:"14",children:"Last 14 days"}),(0,t.jsx)("option",{value:"30",children:"Last 30 days"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"How far back to check for SIM swap activity"})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"What This API Does"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Checks if the phone number has been associated with a different SIM card within the specified period. Returns fraud risk score and swap detection details."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{el(!1),eT({phone_number:"",lookback_days:"7"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e5,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Checking..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5"}),"Run Check"]})})]})]})]})}),er&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Number Verification"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Silently verify phone number ownership without SMS"})]}),(0,t.jsx)("button",{onClick:()=>{ei(!1),eM({phone_number:"",verification_method:"network_auth"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eP.phone_number,onChange:e=>eM({...eP,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Phone number to verify"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Verification Method"}),(0,t.jsxs)("select",{value:eP.verification_method,onChange:e=>eM({...eP,verification_method:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"network_auth",children:"Network Authentication"}),(0,t.jsx)("option",{value:"sim_check",children:"SIM Card Verification"}),(0,t.jsx)("option",{value:"carrier_verify",children:"Carrier Direct Verify"}),(0,t.jsx)("option",{value:"oidc",children:"OpenID Connect"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Method used for silent verification"})]}),(0,t.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-green-400 font-semibold mb-1",children:"Zero-Friction Verification"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Uses network intelligence to verify phone number ownership instantly in the background. No SMS OTP required, eliminating user friction and reducing SMS costs."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ei(!1),eM({phone_number:"",verification_method:"network_auth"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e3,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e7.default,{className:"w-5 h-5"}),"Verify Number"]})})]})]})]})}),en&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Location Request"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Retrieve device location or verify geofence presence"})]}),(0,t.jsx)("button",{onClick:()=>{ed(!1),eR({phone_number:"",request_type:"precise",geofence_id:""})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eE.phone_number,onChange:e=>eR({...eE,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device phone number to locate"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Request Type"}),(0,t.jsxs)("select",{value:eE.request_type,onChange:e=>eR({...eE,request_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"precise",children:"Precise GPS Coordinates"}),(0,t.jsx)("option",{value:"approximate",children:"Approximate Area"}),(0,t.jsx)("option",{value:"geofence",children:"Geofence Verification"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Level of location accuracy required"})]}),"geofence"===eE.request_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Geofence (Optional)"}),(0,t.jsxs)("select",{value:eE.geofence_id,onChange:e=>eR({...eE,geofence_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"",children:"Select a geofence..."}),j.filter(e=>e.is_active).map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.geofence_name," - ",(e.radius_meters/1e3).toFixed(1),"km radius"]},e.id))]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Check if device is within this geofence"})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(ea.default,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Privacy & Consent"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Location requests require user consent in accordance with privacy regulations. Precise coordinates provide meter-level accuracy for fraud prevention and delivery verification."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ed(!1),eR({phone_number:"",request_type:"precise",geofence_id:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e6,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Requesting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sJ.default,{className:"w-5 h-5"}),"Request Location"]})})]})]})]})}),ec&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New QoD Session"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Request guaranteed network performance"})]}),(0,t.jsx)("button",{onClick:()=>{eo(!1),e$({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eL.phone_number,onChange:e=>e$({...eL,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device requiring guaranteed QoS"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"QoS Profile"}),(0,t.jsxs)("select",{value:eL.qos_profile,onChange:e=>{let t=e.target.value,s="50",a="100";"gaming"===t?(s="20",a="10"):"video_streaming"===t?(s="100",a="25"):"voice_call"===t?(s="50",a="1"):"video_conference"===t?(s="40",a="5"):"iot"===t?(s="200",a="0.5"):"file_transfer"===t&&(s="500",a="100"),e$({...eL,qos_profile:t,target_latency_ms:s,target_bandwidth_mbps:a})},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"gaming",children:"Gaming (Low Latency)"}),(0,t.jsx)("option",{value:"video_streaming",children:"Video Streaming"}),(0,t.jsx)("option",{value:"voice_call",children:"Voice Call"}),(0,t.jsx)("option",{value:"video_conference",children:"Video Conference"}),(0,t.jsx)("option",{value:"iot",children:"IoT / M2M"}),(0,t.jsx)("option",{value:"file_transfer",children:"File Transfer"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Pre-configured QoS profile for your use case"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Target Latency (ms)"}),(0,t.jsx)("input",{type:"number",value:eL.target_latency_ms,onChange:e=>e$({...eL,target_latency_ms:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Target Bandwidth (Mbps)"}),(0,t.jsx)("input",{type:"number",value:eL.target_bandwidth_mbps,onChange:e=>e$({...eL,target_bandwidth_mbps:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Session Duration (minutes)"}),(0,t.jsxs)("select",{value:eL.session_duration_minutes,onChange:e=>e$({...eL,session_duration_minutes:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"15",children:"15 minutes"}),(0,t.jsx)("option",{value:"30",children:"30 minutes"}),(0,t.jsx)("option",{value:"60",children:"1 hour"}),(0,t.jsx)("option",{value:"120",children:"2 hours"}),(0,t.jsx)("option",{value:"240",children:"4 hours"}),(0,t.jsx)("option",{value:"480",children:"8 hours"})]}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"How long to maintain guaranteed QoS"})]}),(0,t.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(sX.default,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-purple-400 font-semibold mb-1",children:"Network Performance Guarantee"}),(0,t.jsx)("p",{className:"text-slate-300",children:"QoD reserves dedicated network resources to ensure stable latency and bandwidth for critical applications. Sessions are monitored in real-time with automatic adjustments to maintain QoS guarantees."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{eo(!1),e$({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e8,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ez.default,{className:"w-5 h-5"}),"Create Session"]})})]})]})]})}),ex&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Device for Tracking"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Register a new device for location tracking and monitoring"})]}),(0,t.jsx)("button",{onClick:()=>{em(!1),eU({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Name *"}),(0,t.jsx)("input",{type:"text",value:eq.device_name,onChange:e=>eU({...eq,device_name:e.target.value}),placeholder:"CEO iPhone",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Friendly name for this device"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eq.phone_number,onChange:e=>eU({...eq,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device phone number"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Type"}),(0,t.jsxs)("select",{value:eq.device_type,onChange:e=>eU({...eq,device_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"iOS",children:"iOS"}),(0,t.jsx)("option",{value:"Android",children:"Android"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"OS Version"}),(0,t.jsx)("input",{type:"text",value:eq.os_version,onChange:e=>eU({...eq,os_version:e.target.value}),placeholder:"17.2",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Model"}),(0,t.jsx)("input",{type:"text",value:eq.device_model,onChange:e=>eU({...eq,device_model:e.target.value}),placeholder:"iPhone 15 Pro",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"IMEI"}),(0,t.jsx)("input",{type:"text",value:eq.imei,onChange:e=>eU({...eq,imei:e.target.value}),placeholder:"356789012345678",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"International Mobile Equipment Identity"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tracking Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Precision Level"}),(0,t.jsxs)("select",{value:eq.precision_level,onChange:e=>eU({...eq,precision_level:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"coarse",children:"Coarse (City level)"}),(0,t.jsx)("option",{value:"approximate",children:"Approximate (100m accuracy)"}),(0,t.jsx)("option",{value:"precise",children:"Precise (GPS accuracy)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Update Frequency"}),(0,t.jsxs)("select",{value:eq.update_frequency_minutes,onChange:e=>eU({...eq,update_frequency_minutes:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"5",children:"Every 5 minutes"}),(0,t.jsx)("option",{value:"15",children:"Every 15 minutes"}),(0,t.jsx)("option",{value:"30",children:"Every 30 minutes"}),(0,t.jsx)("option",{value:"60",children:"Every hour"}),(0,t.jsx)("option",{value:"120",children:"Every 2 hours"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3 mt-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.tracking_enabled,onChange:e=>eU({...eq,tracking_enabled:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Enable Tracking"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Start tracking this device immediately"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.location_consent,onChange:e=>eU({...eq,location_consent:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Location Consent"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"User has provided consent for location tracking"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.battery_optimization,onChange:e=>eU({...eq,battery_optimization:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Battery Optimization"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Optimize tracking for battery life"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Alert Settings"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.alert_on_movement,onChange:e=>eU({...eq,alert_on_movement:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Alert on Movement"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Get notified when device moves"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.alert_on_geofence_enter,onChange:e=>eU({...eq,alert_on_geofence_enter:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Alert on Geofence Entry"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Notify when device enters a geofenced area"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:eq.alert_on_geofence_exit,onChange:e=>eU({...eq,alert_on_geofence_exit:e.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-white font-medium",children:"Alert on Geofence Exit"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm",children:"Notify when device exits a geofenced area"})]})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,t.jsx)("input",{type:"text",value:eq.tags,onChange:e=>eU({...eq,tags:e.target.value}),placeholder:"executive, high-priority, fleet",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Comma-separated tags for organization"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Notes"}),(0,t.jsx)("textarea",{value:eq.notes,onChange:e=>eU({...eq,notes:e.target.value}),placeholder:"Additional information about this device...",rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500 resize-none"})]})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Privacy & Compliance"}),(0,t.jsx)("p",{className:"text-slate-300",children:"Ensure you have proper consent from device owners before enabling tracking. All location data is encrypted and stored securely in compliance with privacy regulations."})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{em(!1),eU({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:e9,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Adding Device..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e7.default,{className:"w-5 h-5"}),"Add Device"]})})]})]})]})}),ep&&eC&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit SIM Swap Check"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update SIM swap check details"})]}),(0,t.jsx)("button",{onClick:()=>{eg(!1),eS(null),eT({phone_number:"",lookback_days:"7"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eA.phone_number,onChange:e=>eT({...eA,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{eg(!1),eS(null),eT({phone_number:"",lookback_days:"7"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:tr,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(so.default,{className:"w-5 h-5"}),"Update Check"]})})]})]})]})}),ef&&eC&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Number Verification"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update verification request details"})]}),(0,t.jsx)("button",{onClick:()=>{ej(!1),eS(null),eM({phone_number:"",verification_method:"network_auth"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eP.phone_number,onChange:e=>eM({...eP,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Verification Method"}),(0,t.jsxs)("select",{value:eP.verification_method,onChange:e=>eM({...eP,verification_method:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"network_auth",children:"Network Authentication"}),(0,t.jsx)("option",{value:"sms_verify",children:"SMS Verification"}),(0,t.jsx)("option",{value:"voice_verify",children:"Voice Verification"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ej(!1),eS(null),eM({phone_number:"",verification_method:"network_auth"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:ti,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(so.default,{className:"w-5 h-5"}),"Update Request"]})})]})]})]})}),eN&&eC&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Location Request"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update location verification details"})]}),(0,t.jsx)("button",{onClick:()=>{ev(!1),eS(null),eR({phone_number:"",request_type:"precise",geofence_id:""})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eE.phone_number,onChange:e=>eR({...eE,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Request Type"}),(0,t.jsxs)("select",{value:eE.request_type,onChange:e=>eR({...eE,request_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"precise",children:"Precise Location"}),(0,t.jsx)("option",{value:"approximate",children:"Approximate Location"}),(0,t.jsx)("option",{value:"geofence_check",children:"Geofence Check"})]})]}),"geofence_check"===eE.request_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Geofence"}),(0,t.jsxs)("select",{value:eE.geofence_id,onChange:e=>eR({...eE,geofence_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"",children:"Select geofence"}),j.map(e=>(0,t.jsx)("option",{value:e.id,children:e.geofence_name},e.id))]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ev(!1),eS(null),eR({phone_number:"",request_type:"precise",geofence_id:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:tn,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(so.default,{className:"w-5 h-5"}),"Update Request"]})})]})]})]})}),ey&&eC&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,t.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit QoD Session"}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update quality on demand session"})]}),(0,t.jsx)("button",{onClick:()=>{ew(!1),eS(null),e$({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,t.jsx)("input",{type:"tel",value:eL.phone_number,onChange:e=>e$({...eL,phone_number:e.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"QoS Profile"}),(0,t.jsxs)("select",{value:eL.qos_profile,onChange:e=>e$({...eL,qos_profile:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"gaming",children:"Gaming (Low latency)"}),(0,t.jsx)("option",{value:"streaming",children:"Video Streaming"}),(0,t.jsx)("option",{value:"voip",children:"VoIP Calling"}),(0,t.jsx)("option",{value:"iot",children:"IoT Priority"}),(0,t.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Duration (min)"}),(0,t.jsx)("input",{type:"number",value:eL.session_duration_minutes,onChange:e=>e$({...eL,session_duration_minutes:e.target.value}),min:"1",max:"480",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Latency (ms)"}),(0,t.jsx)("input",{type:"number",value:eL.target_latency_ms,onChange:e=>e$({...eL,target_latency_ms:e.target.value}),min:"10",max:"500",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-white font-medium mb-2",children:"Bandwidth (Mbps)"}),(0,t.jsx)("input",{type:"number",value:eL.target_bandwidth_mbps,onChange:e=>e$({...eL,target_bandwidth_mbps:e.target.value}),min:"1",max:"1000",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{ew(!1),eS(null),e$({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:td,disabled:eh,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(so.default,{className:"w-5 h-5"}),"Update Session"]})})]})]})]})})]})}var _=_,eO=eO,N=N,so=so,p=p,tG=tG,e$=e$,f=f,x=x,P=P,k=k,m=m,sQ=e.i(53339),sZ=e.i(38714),sZ=sZ,l=l,U=U,S=S;function s0(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),[o,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[C,A]=(0,s.useState)("all"),[T,I]=(0,s.useState)(""),[M,E]=(0,s.useState)(null),[R,L]=(0,s.useState)({name:"",description:"",budget:"",videoFormat:"short",duetEnabled:!1,stitchEnabled:!1,shopEnabled:!1,creatorMarketplace:!1,sparkAdsEnabled:!1});(0,s.useEffect)(()=>{e&&F()},[e]),(0,s.useEffect)(()=>{if(M){let e=setTimeout(()=>E(null),5e3);return()=>clearTimeout(e)}},[M]);let F=async()=>{try{let{data:e,error:t}=await h.db.from("campaigns").select("*").eq("channel_type","tiktok").order("created_at",{ascending:!1});if(t)throw t;let{data:s,error:a}=await h.db.from("tiktok_campaigns").select("*").order("created_at",{ascending:!1});if(a)throw a;let l=(e||[]).map(e=>{let t=(s||[]).find(t=>t.campaign_id===e.id);return{...e,tiktok_details:t}});r(l),n(s||[])}catch(e){console.error("Error loading campaigns:",e),E({type:"error",message:"Failed to load campaigns"})}finally{c(!1)}},$=async(e,t)=>{try{let s={status:t};if("running"===t){let t=a.find(t=>t.id===e);t?.started_at||(s.started_at=new Date().toISOString())}"completed"===t&&(s.completed_at=new Date().toISOString());let{error:l}=await h.db.from("campaigns").update(s).eq("id",e);if(l)throw l;E({type:"success",message:`Campaign ${"running"===t?"started":t} successfully`}),await F()}catch(e){console.error("Error updating campaign:",e),E({type:"error",message:"Failed to update campaign status"})}},q=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("campaigns").delete().eq("id",e);if(t)throw t;E({type:"success",message:"Campaign deleted successfully"}),await F()}catch(e){console.error("Error deleting campaign:",e),E({type:"error",message:"Failed to delete campaign"})}},O=async()=>{if(!R.name.trim())return void E({type:"error",message:"Campaign name is required"});try{let{data:e,error:t}=await h.db.from("campaigns").insert({name:R.name,description:R.description,channel_type:"tiktok",status:"draft",metadata:{budget:R.budget}}).select().single();if(t)throw t;let{error:s}=await h.db.from("tiktok_campaigns").insert({campaign_id:e.id,campaign_name:R.name,video_format:R.videoFormat,duet_enabled:R.duetEnabled,stitch_enabled:R.stitchEnabled,shop_enabled:R.shopEnabled,creator_marketplace:R.creatorMarketplace,spark_ads_enabled:R.sparkAdsEnabled,total_budget:parseFloat(R.budget)||0,status:"draft"});if(s)throw s;E({type:"success",message:"Campaign created successfully"}),u(!1),L({name:"",description:"",budget:"",videoFormat:"short",duetEnabled:!1,stitchEnabled:!1,shopEnabled:!1,creatorMarketplace:!1,sparkAdsEnabled:!1}),await F()}catch(e){console.error("Error creating campaign:",e),E({type:"error",message:"Failed to create campaign"})}},V=a.filter(e=>{let t="all"===C||e.status===C,s=e.name?.toLowerCase().includes(T.toLowerCase());return t&&s}),z=a.reduce((e,t)=>e+(t.messages_sent||0),0),B=a.reduce((e,t)=>e+(t.messages_delivered||0),0),K=a.reduce((e,t)=>e+(parseFloat(t.tiktok_details?.total_budget)||0),0),W=a.filter(e=>"running"===e.status).length,G=z>0?(B/z*100).toFixed(1):0,X=i.reduce((e,t)=>e+(t.total_views||0),0);return(i.reduce((e,t)=>e+(t.total_likes||0),0),i.reduce((e,t)=>e+(t.total_shares||0),0),d)?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(P.default,{className:"w-8 h-8 text-cyan-400 animate-spin"}),(0,t.jsx)("div",{className:"text-slate-400",children:"Loading TikTok Campaigns..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 overflow-y-auto",children:[M&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===M.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===M.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(k.default,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:M.message})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(sQ.Music,{className:"w-10 h-10 text-cyan-400"}),"TikTok"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your TikTok campaigns"})]}),(0,t.jsxs)("button",{onClick:()=>{w(null),u(!0)},className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-cyan-400"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:z.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("span",{className:"text-green-400 text-sm font-semibold",children:[G,"%"]})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[G,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"+2.3% from last week"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:W}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Currently running"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-blue-500/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(U.default,{className:"w-6 h-6 text-blue-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",K.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"This month"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(S.default,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsx)(m.default,{className:"w-5 h-5 text-cyan-400 animate-pulse"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:X.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Views"})]})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:T,onChange:e=>I(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tG.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsxs)("select",{value:C,onChange:e=>A(e.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,t.jsxs)("button",{className:"bg-slate-900/50 border border-slate-700 hover:bg-slate-800 text-white px-4 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(x.default,{className:"w-5 h-5"}),"Export"]})]})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===V.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(sQ.Music,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No TikTok campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first TikTok campaign to get started"})]})}):V.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(sZ.default,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description||"No description"})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white",children:(e.messages_sent||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(e.messages_delivered||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-red-400",children:(e.messages_failed||0).toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(e.tiktok_details?.total_budget)||0).toFixed(2)]}),(0,t.jsx)("td",{className:"p-4 text-slate-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===e.status?(0,t.jsx)("button",{onClick:()=>$(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}):"paused"===e.status||"draft"===e.status?(0,t.jsx)("button",{onClick:()=>$(e.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}):null,(0,t.jsx)("button",{onClick:()=>{w(e),b(!0)},className:"p-2 hover:bg-purple-500/20 text-purple-400 rounded-lg transition-colors",title:"Analytics",children:(0,t.jsx)(eR.BarChart3,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{w(e),u(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>q(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(sQ.Music,{className:"w-7 h-7 text-cyan-400"}),j?"Edit Campaign":"Create TikTok Campaign"]}),(0,t.jsx)("button",{onClick:()=>{u(!1),w(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:R.name,onChange:e=>L({...R,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:R.description,onChange:e=>L({...R,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:R.budget,onChange:e=>L({...R,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Video Format"}),(0,t.jsxs)("select",{value:R.videoFormat,onChange:e=>L({...R,videoFormat:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors",children:[(0,t.jsx)("option",{value:"short",children:"Short (15-60 seconds)"}),(0,t.jsx)("option",{value:"long",children:"Long (1-3 minutes)"}),(0,t.jsx)("option",{value:"live",children:"Live Video"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"TikTok Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.duetEnabled,onChange:e=>L({...R,duetEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable Duet"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.stitchEnabled,onChange:e=>L({...R,stitchEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Enable Stitch"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.shopEnabled,onChange:e=>L({...R,shopEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"TikTok Shop Integration"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.creatorMarketplace,onChange:e=>L({...R,creatorMarketplace:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Creator Marketplace"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.sparkAdsEnabled,onChange:e=>L({...R,sparkAdsEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Spark Ads Enabled"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{u(!1),w(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:O,className:"px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),j?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,eO=eO,N=N,so=so,p=p,tG=tG,e$=e$,f=f,x=x,P=P,k=k,m=m,ta=ta,s4=e.i(3408),s4=s4,l=l,U=U,S=S;function s2(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),[o,u]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[C,A]=(0,s.useState)("all"),[T,I]=(0,s.useState)(""),[M,E]=(0,s.useState)(null),[R,L]=(0,s.useState)({name:"",description:"",budget:"",shoppingEnabled:!1,carouselPosts:!0,guidesEnabled:!1,influencerCollaboration:!1,brandedContentAds:!1});(0,s.useEffect)(()=>{e&&F()},[e]),(0,s.useEffect)(()=>{if(M){let e=setTimeout(()=>E(null),5e3);return()=>clearTimeout(e)}},[M]);let F=async()=>{try{let{data:e,error:t}=await h.db.from("campaigns").select("*").eq("channel_type","instagram").order("created_at",{ascending:!1});if(t)throw t;let{data:s,error:a}=await h.db.from("instagram_campaigns").select("*").order("created_at",{ascending:!1});if(a)throw a;let l=(e||[]).map(e=>{let t=(s||[]).find(t=>t.campaign_id===e.id);return{...e,instagram_details:t}});r(l),n(s||[])}catch(e){console.error("Error loading campaigns:",e),E({type:"error",message:"Failed to load campaigns"})}finally{c(!1)}},$=async(e,t)=>{try{let s={status:t};if("running"===t){let t=a.find(t=>t.id===e);t?.started_at||(s.started_at=new Date().toISOString())}"completed"===t&&(s.completed_at=new Date().toISOString());let{error:l}=await h.db.from("campaigns").update(s).eq("id",e);if(l)throw l;E({type:"success",message:`Campaign ${"running"===t?"started":t} successfully`}),await F()}catch(e){console.error("Error updating campaign:",e),E({type:"error",message:"Failed to update campaign status"})}},q=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("campaigns").delete().eq("id",e);if(t)throw t;E({type:"success",message:"Campaign deleted successfully"}),await F()}catch(e){console.error("Error deleting campaign:",e),E({type:"error",message:"Failed to delete campaign"})}},O=async()=>{if(!R.name.trim())return void E({type:"error",message:"Campaign name is required"});try{let{data:e,error:t}=await h.db.from("campaigns").insert({name:R.name,description:R.description,channel_type:"instagram",status:"draft",metadata:{budget:R.budget}}).select().single();if(t)throw t;let{error:s}=await h.db.from("instagram_campaigns").insert({campaign_id:e.id,campaign_name:R.name,shopping_enabled:R.shoppingEnabled,carousel_posts:R.carouselPosts,guides_enabled:R.guidesEnabled,influencer_collaboration:R.influencerCollaboration,branded_content_ads:R.brandedContentAds,total_budget:parseFloat(R.budget)||0,status:"draft"});if(s)throw s;E({type:"success",message:"Campaign created successfully"}),u(!1),L({name:"",description:"",budget:"",shoppingEnabled:!1,carouselPosts:!0,guidesEnabled:!1,influencerCollaboration:!1,brandedContentAds:!1}),await F()}catch(e){console.error("Error creating campaign:",e),E({type:"error",message:"Failed to create campaign"})}},V=a.filter(e=>{let t="all"===C||e.status===C,s=e.name?.toLowerCase().includes(T.toLowerCase());return t&&s}),z=a.reduce((e,t)=>e+(t.messages_sent||0),0),B=a.reduce((e,t)=>e+(t.messages_delivered||0),0),K=a.reduce((e,t)=>e+(parseFloat(t.instagram_details?.total_budget)||0),0),W=a.filter(e=>"running"===e.status).length,G=z>0?(B/z*100).toFixed(1):0,X=i.reduce((e,t)=>e+(t.total_impressions||0),0);return(i.reduce((e,t)=>e+(t.total_reach||0),0),i.reduce((e,t)=>e+(t.total_likes||0),0),d)?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(P.default,{className:"w-8 h-8 text-pink-400 animate-spin"}),(0,t.jsx)("div",{className:"text-slate-400",children:"Loading Instagram Campaigns..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 overflow-y-auto",children:[M&&(0,t.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===M.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===M.type?(0,t.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,t.jsx)(k.default,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:M.message})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(ta.default,{className:"w-10 h-10 text-pink-400"}),"Instagram"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your Instagram campaigns"})]}),(0,t.jsxs)("button",{onClick:()=>{w(null),u(!0)},className:"bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-pink-500/25",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-pink-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-pink-500/20 rounded-lg",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-pink-400"})}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-pink-400"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:z.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-green-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("span",{className:"text-green-400 text-sm font-semibold",children:[G,"%"]})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[G,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"+2.3% from last week"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:W}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Currently running"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-blue-500/50 transition-all",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(U.default,{className:"w-6 h-6 text-blue-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",K.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"}),(0,t.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"This month"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-pink-500/10 to-orange-500/10 border border-pink-500/30 rounded-xl p-6 hover:border-pink-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-pink-500/20 rounded-lg",children:(0,t.jsx)(S.default,{className:"w-6 h-6 text-pink-400"})}),(0,t.jsx)(m.default,{className:"w-5 h-5 text-pink-400 animate-pulse"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:X.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Impressions"})]})]}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:T,onChange:e=>I(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(tG.default,{className:"w-5 h-5 text-slate-400"}),(0,t.jsxs)("select",{value:C,onChange:e=>A(e.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,t.jsxs)("button",{className:"bg-slate-900/50 border border-slate-700 hover:bg-slate-800 text-white px-4 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,t.jsx)(x.default,{className:"w-5 h-5"}),"Export"]})]})]})}),(0,t.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===V.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(ta.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No Instagram campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Instagram campaign to get started"})]})}):V.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-pink-500/20 rounded-lg",children:(0,t.jsx)(s4.default,{className:"w-5 h-5 text-pink-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description||"No description"})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white",children:(e.messages_sent||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(e.messages_delivered||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-red-400",children:(e.messages_failed||0).toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(e.instagram_details?.total_budget)||0).toFixed(2)]}),(0,t.jsx)("td",{className:"p-4 text-slate-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===e.status?(0,t.jsx)("button",{onClick:()=>$(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}):"paused"===e.status||"draft"===e.status?(0,t.jsx)("button",{onClick:()=>$(e.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}):null,(0,t.jsx)("button",{onClick:()=>{w(e),b(!0)},className:"p-2 hover:bg-purple-500/20 text-purple-400 rounded-lg transition-colors",title:"Analytics",children:(0,t.jsx)(eR.BarChart3,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>{w(e),u(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>q(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(ta.default,{className:"w-7 h-7 text-pink-400"}),j?"Edit Campaign":"Create Instagram Campaign"]}),(0,t.jsx)("button",{onClick:()=>{u(!1),w(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:R.name,onChange:e=>L({...R,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:R.description,onChange:e=>L({...R,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:R.budget,onChange:e=>L({...R,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors"})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Instagram Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.shoppingEnabled,onChange:e=>L({...R,shoppingEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Shopping Tags"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.carouselPosts,onChange:e=>L({...R,carouselPosts:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Carousel Posts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.guidesEnabled,onChange:e=>L({...R,guidesEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Guides"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.influencerCollaboration,onChange:e=>L({...R,influencerCollaboration:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Influencer Collaboration"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:R.brandedContentAds,onChange:e=>L({...R,brandedContentAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Branded Content"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{u(!1),w(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:O,className:"px-6 py-3 bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),j?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,eO=eO,N=N,so=so,p=p,f=f,l=l,e1=e1,S=S,s5=e.i(14299),s5=s5;function s3(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),[o,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[g,b]=(0,s.useState)("all"),[j,v]=(0,s.useState)(""),[w,k]=(0,s.useState)(null),[C,A]=(0,s.useState)({name:"",description:"",budget:"",objective:"engagement",boostedPosts:!1,carouselAds:!0,messengerAds:!1,marketplaceAds:!1});(0,s.useEffect)(()=>{e&&T()},[e]),(0,s.useEffect)(()=>{if(w){let e=setTimeout(()=>k(null),5e3);return()=>clearTimeout(e)}},[w]);let T=async()=>{try{let{data:e,error:t}=await h.db.from("campaigns").select("*").eq("channel_type","facebook").order("created_at",{ascending:!1});if(t)throw t;let{data:s,error:a}=await h.db.from("facebook_campaigns").select("*").order("created_at",{ascending:!1});if(a)throw a;let l=(e||[]).map(e=>{let t=(s||[]).find(t=>t.campaign_id===e.id);return{...e,facebook_details:t}});r(l),n(s||[])}catch(e){console.error("Error loading campaigns:",e),k({type:"error",message:"Failed to load campaigns"})}finally{c(!1)}},P=async(e,t)=>{try{let s={status:t};if("running"===t){let t=a.find(t=>t.id===e);t?.started_at||(s.started_at=new Date().toISOString())}"completed"===t&&(s.completed_at=new Date().toISOString());let{error:l}=await h.db.from("campaigns").update(s).eq("id",e);if(l)throw l;k({type:"success",message:`Campaign ${"running"===t?"started":t} successfully`}),await T()}catch(e){console.error("Error updating campaign:",e),k({type:"error",message:"Failed to update campaign status"})}},I=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("campaigns").delete().eq("id",e);if(t)throw t;k({type:"success",message:"Campaign deleted successfully"}),await T()}catch(e){console.error("Error deleting campaign:",e),k({type:"error",message:"Failed to delete campaign"})}},M=async()=>{if(!C.name.trim())return void k({type:"error",message:"Campaign name is required"});try{let{data:e,error:t}=await h.db.from("campaigns").insert({name:C.name,description:C.description,channel_type:"facebook",status:"draft"}).select().single();if(t)throw t;let{error:s}=await h.db.from("facebook_campaigns").insert({campaign_id:e.id,campaign_name:C.name,objective:C.objective,boosted_posts:C.boostedPosts,carousel_ads:C.carouselAds,messenger_ads:C.messengerAds,marketplace_ads:C.marketplaceAds,lifetime_budget:parseFloat(C.budget)||0,status:"draft"});if(s)throw s;k({type:"success",message:"Campaign created successfully"}),x(!1),A({name:"",description:"",budget:"",objective:"engagement",boostedPosts:!1,carouselAds:!0,messengerAds:!1,marketplaceAds:!1}),await T()}catch(e){console.error("Error creating campaign:",e),k({type:"error",message:"Failed to create campaign"})}},E=a.filter(e=>{let t="all"===g||e.status===g,s=e.name?.toLowerCase().includes(j.toLowerCase());return t&&s}),R=a.reduce((e,t)=>e+(t.messages_sent||0),0),L=a.reduce((e,t)=>e+(t.messages_delivered||0),0),F=a.reduce((e,t)=>e+(parseFloat(t.facebook_details?.lifetime_budget)||0),0),$=a.filter(e=>"running"===e.status).length,q=R>0?(L/R*100).toFixed(1):0,U=i.reduce((e,t)=>e+(t.total_reach||0),0);return(i.reduce((e,t)=>e+(t.total_engagement||0),0),d)?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[w&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===w.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:w.message}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(th.Facebook,{className:"w-10 h-10 text-blue-500"}),"Facebook"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your Facebook campaigns"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(e1.default,{className:"w-6 h-6 text-blue-400"})}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-blue-400"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Number(q)>=95?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:[q,"%"]})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[q,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(eR.BarChart3,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:$}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(S.default,{className:"w-6 h-6 text-cyan-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(U/1e6).toFixed(1),"M"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Reach"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(s5.default,{className:"w-6 h-6 text-orange-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",F.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaigns"}),(0,t.jsxs)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===E.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(th.Facebook,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No Facebook campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Facebook campaign to get started"})]})}):E.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(th.Facebook,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description||"No description"})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white",children:(e.messages_sent||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(e.messages_delivered||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-red-400",children:(e.messages_failed||0).toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(e.facebook_details?.lifetime_budget)||0).toFixed(2)]}),(0,t.jsx)("td",{className:"p-4 text-slate-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===e.status?(0,t.jsx)("button",{onClick:()=>P(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}):"paused"===e.status||"draft"===e.status?(0,t.jsx)("button",{onClick:()=>P(e.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}):null,(0,t.jsx)("button",{onClick:()=>{u(e),x(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>I(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(th.Facebook,{className:"w-7 h-7 text-blue-500"}),m?"Edit Campaign":"Create Facebook Campaign"]}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:C.name,onChange:e=>A({...C,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:C.description,onChange:e=>A({...C,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Lifetime Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:C.budget,onChange:e=>A({...C,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Objective"}),(0,t.jsxs)("select",{value:C.objective,onChange:e=>A({...C,objective:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[(0,t.jsx)("option",{value:"engagement",children:"Engagement"}),(0,t.jsx)("option",{value:"brand_awareness",children:"Brand Awareness"}),(0,t.jsx)("option",{value:"reach",children:"Reach"}),(0,t.jsx)("option",{value:"traffic",children:"Traffic"}),(0,t.jsx)("option",{value:"conversions",children:"Conversions"}),(0,t.jsx)("option",{value:"lead_generation",children:"Lead Generation"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Facebook Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.boostedPosts,onChange:e=>A({...C,boostedPosts:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Boosted Posts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.carouselAds,onChange:e=>A({...C,carouselAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Carousel Ads"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.messengerAds,onChange:e=>A({...C,messengerAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Messenger Ads"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.marketplaceAds,onChange:e=>A({...C,marketplaceAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Marketplace Ads"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:M,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),m?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,eO=eO,N=N,so=so,p=p,f=f,S=S,l=l;function s1(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),[o,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[g,b]=(0,s.useState)("all"),[j,v]=(0,s.useState)(""),[w,k]=(0,s.useState)(null),[C,A]=(0,s.useState)({name:"",description:"",budget:"",contentStrategy:"long_form",premiereEnabled:!1,shortsEnabled:!0,liveStreaming:!1,monetizationEnabled:!1});(0,s.useEffect)(()=>{e&&T()},[e]),(0,s.useEffect)(()=>{if(w){let e=setTimeout(()=>k(null),5e3);return()=>clearTimeout(e)}},[w]);let T=async()=>{try{let{data:e,error:t}=await h.db.from("campaigns").select("*").eq("channel_type","youtube").order("created_at",{ascending:!1});if(t)throw t;let{data:s,error:a}=await h.db.from("youtube_campaigns").select("*").order("created_at",{ascending:!1});if(a)throw a;let l=(e||[]).map(e=>{let t=(s||[]).find(t=>t.campaign_id===e.id);return{...e,youtube_details:t}});r(l),n(s||[])}catch(e){console.error("Error loading campaigns:",e),k({type:"error",message:"Failed to load campaigns"})}finally{c(!1)}},P=async(e,t)=>{try{let s={status:t};if("running"===t){let t=a.find(t=>t.id===e);t?.started_at||(s.started_at=new Date().toISOString())}"completed"===t&&(s.completed_at=new Date().toISOString());let{error:l}=await h.db.from("campaigns").update(s).eq("id",e);if(l)throw l;k({type:"success",message:`Campaign ${"running"===t?"started":t} successfully`}),await T()}catch(e){console.error("Error updating campaign:",e),k({type:"error",message:"Failed to update campaign status"})}},I=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("campaigns").delete().eq("id",e);if(t)throw t;k({type:"success",message:"Campaign deleted successfully"}),await T()}catch(e){console.error("Error deleting campaign:",e),k({type:"error",message:"Failed to delete campaign"})}},M=async()=>{if(!C.name.trim())return void k({type:"error",message:"Campaign name is required"});try{let{data:e,error:t}=await h.db.from("campaigns").insert({name:C.name,description:C.description,channel_type:"youtube",status:"draft"}).select().single();if(t)throw t;let{error:s}=await h.db.from("youtube_campaigns").insert({campaign_id:e.id,campaign_name:C.name,content_strategy:C.contentStrategy,premiere_enabled:C.premiereEnabled,shorts_enabled:C.shortsEnabled,live_streaming:C.liveStreaming,monetization_enabled:C.monetizationEnabled,total_budget:parseFloat(C.budget)||0,status:"draft"});if(s)throw s;k({type:"success",message:"Campaign created successfully"}),x(!1),A({name:"",description:"",budget:"",contentStrategy:"long_form",premiereEnabled:!1,shortsEnabled:!0,liveStreaming:!1,monetizationEnabled:!1}),await T()}catch(e){console.error("Error creating campaign:",e),k({type:"error",message:"Failed to create campaign"})}},E=a.filter(e=>{let t="all"===g||e.status===g,s=e.name?.toLowerCase().includes(j.toLowerCase());return t&&s}),R=a.reduce((e,t)=>e+(t.messages_sent||0),0),L=a.reduce((e,t)=>e+(t.messages_delivered||0),0),F=a.reduce((e,t)=>e+(parseFloat(t.youtube_details?.total_budget)||0),0),$=a.filter(e=>"running"===e.status).length,q=R>0?(L/R*100).toFixed(1):0,U=i.reduce((e,t)=>e+(t.total_views||0),0);return(i.reduce((e,t)=>e+(t.total_subscribers_gained||0),0),d)?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[w&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===w.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:w.message}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(tx.Youtube,{className:"w-10 h-10 text-red-500"}),"YouTube"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your YouTube campaigns"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(ep.Video,{className:"w-6 h-6 text-red-400"})}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-red-400"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(S.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Number(q)>=95?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:[q,"%"]})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[q,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(eR.BarChart3,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:$}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(S.default,{className:"w-6 h-6 text-cyan-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(U/1e6).toFixed(1),"M"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Views"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-orange-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",F.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaigns"}),(0,t.jsxs)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"})]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===E.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(tx.Youtube,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No YouTube campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first YouTube campaign to get started"})]})}):E.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-red-500/20 rounded-lg",children:(0,t.jsx)(tx.Youtube,{className:"w-5 h-5 text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description||"No description"})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white",children:(e.messages_sent||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(e.messages_delivered||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-red-400",children:(e.messages_failed||0).toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(e.youtube_details?.total_budget)||0).toFixed(2)]}),(0,t.jsx)("td",{className:"p-4 text-slate-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===e.status?(0,t.jsx)("button",{onClick:()=>P(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}):"paused"===e.status||"draft"===e.status?(0,t.jsx)("button",{onClick:()=>P(e.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}):null,(0,t.jsx)("button",{onClick:()=>{u(e),x(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>I(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(tx.Youtube,{className:"w-7 h-7 text-red-500"}),m?"Edit Campaign":"Create YouTube Campaign"]}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:C.name,onChange:e=>A({...C,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:C.description,onChange:e=>A({...C,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:C.budget,onChange:e=>A({...C,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Strategy"}),(0,t.jsxs)("select",{value:C.contentStrategy,onChange:e=>A({...C,contentStrategy:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors",children:[(0,t.jsx)("option",{value:"long_form",children:"Long Form (8+ minutes)"}),(0,t.jsx)("option",{value:"short_form",children:"Short Form (2-8 minutes)"}),(0,t.jsx)("option",{value:"shorts",children:"YouTube Shorts (60 seconds)"}),(0,t.jsx)("option",{value:"mixed",children:"Mixed Strategy"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"YouTube Features"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.premiereEnabled,onChange:e=>A({...C,premiereEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Premiere Videos"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.shortsEnabled,onChange:e=>A({...C,shortsEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"YouTube Shorts"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.liveStreaming,onChange:e=>A({...C,liveStreaming:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Live Streaming"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.monetizationEnabled,onChange:e=>A({...C,monetizationEnabled:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Monetization"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:M,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),m?"Update Campaign":"Create Campaign"]})]})]})})]})}var _=_,eO=eO,N=N,so=so,p=p,f=f,s6=e.i(51348),l=l,e1=e1,sP=sP;function s7(){let{user:e}=(0,D.useAuth)(),[a,r]=(0,s.useState)([]),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0),[o,x]=(0,s.useState)(!1),[m,u]=(0,s.useState)(null),[g,b]=(0,s.useState)("all"),[j,v]=(0,s.useState)(""),[w,k]=(0,s.useState)(null),[C,S]=(0,s.useState)({name:"",description:"",budget:"",objective:"brand_awareness",sponsoredContent:!1,textAds:!1,messageAds:!1,dynamicAds:!1});(0,s.useEffect)(()=>{e&&A()},[e]),(0,s.useEffect)(()=>{if(w){let e=setTimeout(()=>k(null),5e3);return()=>clearTimeout(e)}},[w]);let A=async()=>{try{let{data:e,error:t}=await h.db.from("campaigns").select("*").eq("channel_type","linkedin").order("created_at",{ascending:!1});if(t)throw t;let{data:s,error:a}=await h.db.from("linkedin_campaigns").select("*").order("created_at",{ascending:!1});if(a)throw a;let l=(e||[]).map(e=>{let t=(s||[]).find(t=>t.campaign_id===e.id);return{...e,linkedin_details:t}});r(l),n(s||[])}catch(e){console.error("Error loading campaigns:",e),k({type:"error",message:"Failed to load campaigns"})}finally{c(!1)}},T=async(e,t)=>{try{let s={status:t};if("running"===t){let t=a.find(t=>t.id===e);t?.started_at||(s.started_at=new Date().toISOString())}"completed"===t&&(s.completed_at=new Date().toISOString());let{error:l}=await h.db.from("campaigns").update(s).eq("id",e);if(l)throw l;k({type:"success",message:`Campaign ${"running"===t?"started":t} successfully`}),await A()}catch(e){console.error("Error updating campaign:",e),k({type:"error",message:"Failed to update campaign status"})}},P=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("campaigns").delete().eq("id",e);if(t)throw t;k({type:"success",message:"Campaign deleted successfully"}),await A()}catch(e){console.error("Error deleting campaign:",e),k({type:"error",message:"Failed to delete campaign"})}},I=async()=>{if(!C.name.trim())return void k({type:"error",message:"Campaign name is required"});try{let{data:e,error:t}=await h.db.from("campaigns").insert({name:C.name,description:C.description,channel_type:"linkedin",status:"draft"}).select().single();if(t)throw t;let{error:s}=await h.db.from("linkedin_campaigns").insert({campaign_id:e.id,campaign_name:C.name,objective:C.objective,sponsored_content:C.sponsoredContent,text_ads:C.textAds,message_ads:C.messageAds,dynamic_ads:C.dynamicAds,total_budget:parseFloat(C.budget)||0,status:"draft"});if(s)throw s;k({type:"success",message:"Campaign created successfully"}),x(!1),S({name:"",description:"",budget:"",objective:"brand_awareness",sponsoredContent:!1,textAds:!1,messageAds:!1,dynamicAds:!1}),await A()}catch(e){console.error("Error creating campaign:",e),k({type:"error",message:"Failed to create campaign"})}},M=a.filter(e=>{let t="all"===g||e.status===g,s=e.name?.toLowerCase().includes(j.toLowerCase());return t&&s}),E=a.reduce((e,t)=>e+(t.messages_sent||0),0),R=a.reduce((e,t)=>e+(t.messages_delivered||0),0),L=a.reduce((e,t)=>e+(parseFloat(t.linkedin_details?.total_budget)||0),0),F=a.filter(e=>"running"===e.status).length,$=E>0?(R/E*100).toFixed(1):0,q=i.reduce((e,t)=>e+(t.leads_generated||0),0);return d?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[w&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===w.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:w.message}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(s6.Linkedin,{className:"w-10 h-10 text-blue-600"}),"LinkedIn"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your LinkedIn B2B campaigns"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-600/10 to-blue-700/10 border border-blue-600/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-600/20 rounded-lg",children:(0,t.jsx)(sP.default,{className:"w-6 h-6 text-blue-500"})}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-blue-500"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:E.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(e1.default,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Number($)>=95?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:[$,"%"]})]}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[$,"%"]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(eR.BarChart3,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(l.default,{className:"w-6 h-6 text-cyan-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:q.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Leads Generated"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(eb.TrendingUp,{className:"w-6 h-6 text-orange-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",L.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaigns"}),(0,t.jsxs)("button",{onClick:()=>x(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:j,onChange:e=>v(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-600 transition-colors"})]}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-600 transition-colors",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"running",children:"Running"}),(0,t.jsx)("option",{value:"paused",children:"Paused"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,t.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,t.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===M.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,t.jsx)(s6.Linkedin,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No LinkedIn campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first LinkedIn campaign to get started"})]})}):M.map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:(0,t.jsx)(s6.Linkedin,{className:"w-5 h-5 text-blue-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:e.description||"No description"})]})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}})(e.status)}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-right text-white",children:(e.messages_sent||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(e.messages_delivered||0).toLocaleString()}),(0,t.jsx)("td",{className:"p-4 text-right text-red-400",children:(e.messages_failed||0).toLocaleString()}),(0,t.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(e.linkedin_details?.total_budget)||0).toFixed(2)]}),(0,t.jsx)("td",{className:"p-4 text-slate-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),new Date(e.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===e.status?(0,t.jsx)("button",{onClick:()=>T(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}):"paused"===e.status||"draft"===e.status?(0,t.jsx)("button",{onClick:()=>T(e.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}):null,(0,t.jsx)("button",{onClick:()=>{u(e),x(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,t.jsx)(so.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>P(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),o&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,t.jsx)(s6.Linkedin,{className:"w-7 h-7 text-blue-600"}),m?"Edit Campaign":"Create LinkedIn Campaign"]}),(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:C.name,onChange:e=>S({...C,name:e.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:C.description,onChange:e=>S({...C,description:e.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors resize-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,t.jsx)("input",{type:"number",value:C.budget,onChange:e=>S({...C,budget:e.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Objective"}),(0,t.jsxs)("select",{value:C.objective,onChange:e=>S({...C,objective:e.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors",children:[(0,t.jsx)("option",{value:"brand_awareness",children:"Brand Awareness"}),(0,t.jsx)("option",{value:"website_visits",children:"Website Visits"}),(0,t.jsx)("option",{value:"engagement",children:"Engagement"}),(0,t.jsx)("option",{value:"lead_generation",children:"Lead Generation"}),(0,t.jsx)("option",{value:"website_conversions",children:"Website Conversions"}),(0,t.jsx)("option",{value:"job_applicants",children:"Job Applicants"})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"LinkedIn Ad Types"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.sponsoredContent,onChange:e=>S({...C,sponsoredContent:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Sponsored Content"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.textAds,onChange:e=>S({...C,textAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Text Ads"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.messageAds,onChange:e=>S({...C,messageAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Message Ads (InMail)"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:C.dynamicAds,onChange:e=>S({...C,dynamicAds:e.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,t.jsx)("span",{className:"text-slate-300",children:"Dynamic Ads"})]})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,t.jsx)("button",{onClick:()=>{x(!1),u(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,t.jsxs)("button",{onClick:I,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),m?"Update Campaign":"Create Campaign"]})]})]})})]})}var e$=e$,eO=eO,N=N,tT=tT,tP=tP,_=_;function s8(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)("compose"),[r,i]=(0,s.useState)("all"),[n,d]=(0,s.useState)(""),[c,o]=(0,s.useState)("text"),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)("paste"),[y,w]=(0,s.useState)(""),[k,C]=(0,s.useState)("now"),[S,A]=(0,s.useState)(""),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[E,L]=(0,s.useState)([]),[F,$]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[q,U]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[O,V]=(0,s.useState)(!0),[z,B]=(0,s.useState)(null),[K,W]=(0,s.useState)({}),[G,X]=(0,s.useState)({}),[H,J]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&Promise.all([Y(),et(),es(),ea()]).finally(()=>V(!1))},[e]),(0,s.useEffect)(()=>{if(H){let e=setTimeout(()=>J(null),5e3);return()=>clearTimeout(e)}},[H]),(0,s.useEffect)(()=>{e&&Y()},[r]),(0,s.useEffect)(()=>{y?el(y):U({valid:0,duplicates:0,invalid:0})},[y]);let Y=async()=>{let e=h.db.from("viber_campaigns").select("*").order("created_at",{ascending:!1});"all"!==r&&(e=e.eq("status",r));let{data:t,error:s}=await e;!s&&t&&P(t)},Z=async e=>{X(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("viber_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&W(s=>({...s,[e]:t})),X(t=>({...t,[e]:!1}))},ee=async e=>{z===e?B(null):(B(e),K[e]||await Z(e))},et=async()=>{let{data:e,error:t}=await h.db.from("viber_templates").select("*").order("name");!t&&e&&M(e)},es=async()=>{let{data:e}=await h.db.from("viber_campaigns").select("total_recipients, valid_numbers, status");if(e){let t=e.reduce((e,t)=>e+(t.valid_numbers||0),0),s=e.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),a=e.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);$({totalSent:t,delivered:s,pending:a,failed:t-s-a})}},ea=async()=>{let{data:e}=await h.db.from("viber_numbers").select("*").eq("is_active",!0);e&&e.length>0&&(L(e),m(e[0].phone_number))},el=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[\d\s+()-]{10,}$/,a=t.filter(e=>s.test(e)),l=new Set(a),r=a.length-l.size,i=t.length-a.length;U({valid:l.size,duplicates:r,invalid:i})},er=async()=>{if(!n||!c||!x||!g||!e)return void J({type:"error",message:"Please fill in all required fields"});if(0===q.valid)return void J({type:"error",message:"Please add valid phone numbers"});try{let{data:t,error:s}=await h.db.from("viber_campaigns").insert({user_id:e.id,campaign_name:n,message_type:c,sender_number:x,message_content:g,total_recipients:q.valid+q.duplicates+q.invalid,valid_numbers:q.valid,invalid_numbers:q.invalid,duplicate_numbers:q.duplicates,status:"now"===k?"in_progress":"scheduled",scheduled_at:"schedule"===k?S:null,template_id:u||null}).select().single();if(s)throw s;let a=y.split("\n").filter(e=>e.trim()),r=/^[\d\s+()-]{10,}$/,i=[...new Set(a.filter(e=>r.test(e.trim())))].map(e=>({campaign_id:t.id,phone_number:e.trim(),message:g,status:"pending"})),{error:o}=await h.db.from("viber_messages").insert(i);if(o)throw o;J({type:"success",message:"Campaign created successfully!"}),d(""),b(""),w(""),p(""),A(""),await Y(),await es(),l("campaigns")}catch(e){console.error("Error creating campaign:",e),J({type:"error",message:"Failed to create campaign"})}},ei=async(e,t)=>{try{let{error:s}=await h.db.from("viber_campaigns").update({status:t}).eq("id",e);if(s)throw s;J({type:"success",message:`Campaign ${t} successfully`}),await Y(),await es()}catch(e){console.error("Error updating campaign:",e),J({type:"error",message:"Failed to update campaign"})}},en=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("viber_campaigns").delete().eq("id",e);if(t)throw t;J({type:"success",message:"Campaign deleted successfully"}),await Y(),await es()}catch(e){console.error("Error deleting campaign:",e),J({type:"error",message:"Failed to delete campaign"})}};return O?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsx)("div",{className:"text-slate-400",children:"Loading Viber..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[H&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===H.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:H.message}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(Q.Phone,{className:"w-10 h-10 text-purple-500"}),"Viber Business Messaging"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Send bulk messages to your Viber contacts"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/30 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-purple-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.totalSent.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.delivered.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.pending.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.failed.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-slate-700 bg-slate-800/80",children:(0,t.jsx)("div",{className:"flex gap-2 p-2",children:["compose","campaigns","templates"].map(e=>(0,t.jsx)("button",{onClick:()=>l(e),className:`px-6 py-3 rounded-lg font-medium transition-all ${a===e?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,t.jsxs)("div",{className:"p-6",children:["compose"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type *"}),(0,t.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"image",children:"Image Message"}),(0,t.jsx)("option",{value:"video",children:"Video Message"}),(0,t.jsx)("option",{value:"file",children:"File Message"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sender Number *"}),(0,t.jsx)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:E.map(e=>(0,t.jsx)("option",{value:e.phone_number,children:e.display_name||e.phone_number},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template (Optional)"}),(0,t.jsxs)("select",{value:u,onChange:e=>{var t;let s;return p(t=e.target.value),void((s=I.find(e=>e.id===t))&&b(s.body_content))},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select a template"}),I.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content *"}),(0,t.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),placeholder:"Type your message here...",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none"}),(0,t.jsxs)("div",{className:"text-right text-sm text-slate-400 mt-2",children:[g.length," characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients *"}),(0,t.jsx)("div",{className:"flex gap-2 mb-3",children:["paste","upload","phonebook"].map(e=>(0,t.jsx)("button",{onClick:()=>j(e),className:`px-4 py-2 rounded-lg font-medium transition-all ${f===e?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),"paste"===f&&(0,t.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:"Paste phone numbers (one per line) Example: +60123456789 +60198765432",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none"}),y&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-green-400 text-2xl font-bold",children:q.valid}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Valid"})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-yellow-400 text-2xl font-bold",children:q.duplicates}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Duplicates"})]}),(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-red-400 text-2xl font-bold",children:q.invalid}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Invalid"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Send Mode"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>C("now"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"now"===k?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Send Now"}),(0,t.jsx)("button",{onClick:()=>C("schedule"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"schedule"===k?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Schedule"})]})]}),"schedule"===k&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Schedule Date & Time"}),(0,t.jsx)("input",{type:"datetime-local",value:S,onChange:e=>A(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Save as Draft"}),(0,t.jsxs)("button",{onClick:er,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"now"===k?"Send Campaign":"Schedule Campaign"]})]})]}),"campaigns"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex gap-4 mb-6",children:(0,t.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"paused",children:"Paused"})]})}),(0,t.jsx)("div",{className:"space-y-4",children:0===T.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(Q.Phone,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Viber campaign to get started"})]}):T.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(Q.Phone,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:e.campaign_name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Recipients: ",e.valid_numbers]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-blue-500/20 text-blue-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:e.status}),"in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>ei(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ei(e.id,"in_progress"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>en(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ee(e.id),className:"p-2 hover:bg-slate-700 rounded-lg text-slate-400",children:z===e.id?(0,t.jsx)(tP.default,{className:"w-4 h-4"}):(0,t.jsx)(tT.default,{className:"w-4 h-4"})})]})]})}),z===e.id&&(0,t.jsx)("div",{className:"border-t border-slate-700 p-4 bg-slate-950/50",children:G[e.id]?(0,t.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Loading messages..."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Phone Number"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Sent At"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Delivered At"})]})}),(0,t.jsx)("tbody",{children:(K[e.id]||[]).map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,t.jsx)("td",{className:"p-3 text-white font-mono text-sm",children:e.phone_number}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"delivered"===e.status?"bg-green-500/20 text-green-400":"sent"===e.status?"bg-blue-500/20 text-blue-400":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"})]},e.id))})]})})})]},e.id))})]}),"templates"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Message Templates"}),(0,t.jsxs)("button",{className:"px-4 py-2 bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg hover:bg-purple-500/30 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Template"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-2",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsx)("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3",children:e.body_content}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs",children:e.category}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:e.language})]})]},e.id))})]})]})]})]})}var e$=e$,eO=eO,N=N,tT=tT,tP=tP,_=_;function s9(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)("compose"),[r,i]=(0,s.useState)("all"),[n,d]=(0,s.useState)(""),[c,o]=(0,s.useState)("text"),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)("paste"),[y,w]=(0,s.useState)(""),[k,C]=(0,s.useState)("now"),[S,A]=(0,s.useState)(""),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[E,L]=(0,s.useState)([]),[F,$]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[q,U]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[O,V]=(0,s.useState)(!0),[z,B]=(0,s.useState)(null),[K,W]=(0,s.useState)({}),[G,X]=(0,s.useState)({}),[H,J]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&Promise.all([Y(),ee(),et(),es()]).finally(()=>V(!1))},[e]),(0,s.useEffect)(()=>{if(H){let e=setTimeout(()=>J(null),5e3);return()=>clearTimeout(e)}},[H]),(0,s.useEffect)(()=>{e&&Y()},[r]),(0,s.useEffect)(()=>{y?ea(y):U({valid:0,duplicates:0,invalid:0})},[y]);let Y=async()=>{let e=h.db.from("line_campaigns").select("*").order("created_at",{ascending:!1});"all"!==r&&(e=e.eq("status",r));let{data:t,error:s}=await e;!s&&t&&P(t)},Q=async e=>{X(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("line_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&W(s=>({...s,[e]:t})),X(t=>({...t,[e]:!1}))},Z=async e=>{z===e?B(null):(B(e),K[e]||await Q(e))},ee=async()=>{let{data:e,error:t}=await h.db.from("line_templates").select("*").order("name");!t&&e&&M(e)},et=async()=>{let{data:e}=await h.db.from("line_campaigns").select("total_recipients, valid_numbers, status");if(e){let t=e.reduce((e,t)=>e+(t.valid_numbers||0),0),s=e.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),a=e.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);$({totalSent:t,delivered:s,pending:a,failed:t-s-a})}},es=async()=>{let{data:e}=await h.db.from("line_accounts").select("*").eq("is_active",!0);e&&e.length>0&&(L(e),m(e[0].id))},ea=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^U[0-9a-f]{32}$/,a=t.filter(e=>s.test(e)||e.length>=5),l=new Set(a),r=a.length-l.size,i=t.length-a.length;U({valid:l.size,duplicates:r,invalid:i})},el=async()=>{if(!n||!c||!x||!g||!e)return void J({type:"error",message:"Please fill in all required fields"});if(0===q.valid)return void J({type:"error",message:"Please add valid Line user IDs"});try{let{data:t,error:s}=await h.db.from("line_campaigns").insert({user_id:e.id,campaign_name:n,message_type:c,line_account_id:x,message_content:g,total_recipients:q.valid+q.duplicates+q.invalid,valid_numbers:q.valid,invalid_numbers:q.invalid,duplicate_numbers:q.duplicates,status:"now"===k?"in_progress":"scheduled",scheduled_at:"schedule"===k?S:null,template_id:u||null}).select().single();if(s)throw s;let a=y.split("\n").filter(e=>e.trim()),r=[...new Set(a.filter(e=>e.trim().length>=5))].map(e=>({campaign_id:t.id,user_id:e.trim(),message:g,status:"pending"})),{error:i}=await h.db.from("line_messages").insert(r);if(i)throw i;J({type:"success",message:"Campaign created successfully!"}),d(""),b(""),w(""),p(""),A(""),await Y(),await et(),l("campaigns")}catch(e){console.error("Error creating campaign:",e),J({type:"error",message:"Failed to create campaign"})}},er=async(e,t)=>{try{let{error:s}=await h.db.from("line_campaigns").update({status:t}).eq("id",e);if(s)throw s;J({type:"success",message:`Campaign ${t} successfully`}),await Y(),await et()}catch(e){console.error("Error updating campaign:",e),J({type:"error",message:"Failed to update campaign"})}},ei=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("line_campaigns").delete().eq("id",e);if(t)throw t;J({type:"success",message:"Campaign deleted successfully"}),await Y(),await et()}catch(e){console.error("Error deleting campaign:",e),J({type:"error",message:"Failed to delete campaign"})}};return O?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsx)("div",{className:"text-slate-400",children:"Loading Line..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[H&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===H.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:H.message}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-10 h-10 text-green-500"}),"Line Official Account Messaging"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Send bulk messages to your Line contacts"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.totalSent.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.delivered.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.pending.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.failed.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-slate-700 bg-slate-800/80",children:(0,t.jsx)("div",{className:"flex gap-2 p-2",children:["compose","campaigns","templates"].map(e=>(0,t.jsx)("button",{onClick:()=>l(e),className:`px-6 py-3 rounded-lg font-medium transition-all ${a===e?"bg-green-500/20 text-green-400 border border-green-500/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,t.jsxs)("div",{className:"p-6",children:["compose"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type *"}),(0,t.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"image",children:"Image Message"}),(0,t.jsx)("option",{value:"video",children:"Video Message"}),(0,t.jsx)("option",{value:"sticker",children:"Sticker Message"}),(0,t.jsx)("option",{value:"template",children:"Template Message"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Line Account *"}),(0,t.jsx)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:E.map(e=>(0,t.jsx)("option",{value:e.id,children:e.account_name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template (Optional)"}),(0,t.jsxs)("select",{value:u,onChange:e=>{var t;let s;return p(t=e.target.value),void((s=I.find(e=>e.id===t))&&b(s.body_content))},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select a template"}),I.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content *"}),(0,t.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),placeholder:"Type your message here...",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none"}),(0,t.jsxs)("div",{className:"text-right text-sm text-slate-400 mt-2",children:[g.length," characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients *"}),(0,t.jsx)("div",{className:"flex gap-2 mb-3",children:["paste","upload","phonebook"].map(e=>(0,t.jsx)("button",{onClick:()=>j(e),className:`px-4 py-2 rounded-lg font-medium transition-all ${f===e?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),"paste"===f&&(0,t.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:"Paste Line User IDs (one per line) Example: U1234567890abcdef1234567890abcdef U9876543210fedcba9876543210fedcba",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none"}),y&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-green-400 text-2xl font-bold",children:q.valid}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Valid"})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-yellow-400 text-2xl font-bold",children:q.duplicates}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Duplicates"})]}),(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-red-400 text-2xl font-bold",children:q.invalid}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Invalid"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Send Mode"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>C("now"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"now"===k?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Send Now"}),(0,t.jsx)("button",{onClick:()=>C("schedule"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"schedule"===k?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Schedule"})]})]}),"schedule"===k&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Schedule Date & Time"}),(0,t.jsx)("input",{type:"datetime-local",value:S,onChange:e=>A(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Save as Draft"}),(0,t.jsxs)("button",{onClick:el,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"now"===k?"Send Campaign":"Schedule Campaign"]})]})]}),"campaigns"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex gap-4 mb-6",children:(0,t.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"paused",children:"Paused"})]})}),(0,t.jsx)("div",{className:"space-y-4",children:0===T.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(e0.MessageCircle,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Line campaign to get started"})]}):T.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(e0.MessageCircle,{className:"w-6 h-6 text-green-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:e.campaign_name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Recipients: ",e.valid_numbers]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-blue-500/20 text-blue-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:e.status}),"in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>er(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>er(e.id,"in_progress"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ei(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>Z(e.id),className:"p-2 hover:bg-slate-700 rounded-lg text-slate-400",children:z===e.id?(0,t.jsx)(tP.default,{className:"w-4 h-4"}):(0,t.jsx)(tT.default,{className:"w-4 h-4"})})]})]})}),z===e.id&&(0,t.jsx)("div",{className:"border-t border-slate-700 p-4 bg-slate-950/50",children:G[e.id]?(0,t.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Loading messages..."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"User ID"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Sent At"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Delivered At"})]})}),(0,t.jsx)("tbody",{children:(K[e.id]||[]).map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,t.jsx)("td",{className:"p-3 text-white font-mono text-sm",children:e.user_id}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"delivered"===e.status?"bg-green-500/20 text-green-400":"sent"===e.status?"bg-blue-500/20 text-blue-400":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"})]},e.id))})]})})})]},e.id))})]}),"templates"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Message Templates"}),(0,t.jsxs)("button",{className:"px-4 py-2 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Template"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-2",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsx)("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3",children:e.body_content}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:e.category}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:e.language})]})]},e.id))})]})]})]})]})}var e$=e$,eO=eO,N=N,tT=tT,tP=tP,_=_;function ae(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)("compose"),[r,i]=(0,s.useState)("all"),[n,d]=(0,s.useState)(""),[c,o]=(0,s.useState)("text"),[x,m]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(""),[f,j]=(0,s.useState)("paste"),[y,w]=(0,s.useState)(""),[k,C]=(0,s.useState)("now"),[S,A]=(0,s.useState)(""),[T,P]=(0,s.useState)([]),[I,M]=(0,s.useState)([]),[E,L]=(0,s.useState)([]),[F,$]=(0,s.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[q,U]=(0,s.useState)({valid:0,duplicates:0,invalid:0}),[O,V]=(0,s.useState)(!0),[z,B]=(0,s.useState)(null),[K,W]=(0,s.useState)({}),[G,X]=(0,s.useState)({}),[H,J]=(0,s.useState)(null);(0,s.useEffect)(()=>{e&&Promise.all([Q(),et(),es(),ea()]).finally(()=>V(!1))},[e]),(0,s.useEffect)(()=>{if(H){let e=setTimeout(()=>J(null),5e3);return()=>clearTimeout(e)}},[H]),(0,s.useEffect)(()=>{e&&Q()},[r]),(0,s.useEffect)(()=>{y?el(y):U({valid:0,duplicates:0,invalid:0})},[y]);let Q=async()=>{let e=h.db.from("wechat_campaigns").select("*").order("created_at",{ascending:!1});"all"!==r&&(e=e.eq("status",r));let{data:t,error:s}=await e;!s&&t&&P(t)},Z=async e=>{X(t=>({...t,[e]:!0}));let{data:t,error:s}=await h.db.from("wechat_messages").select("*").eq("campaign_id",e).order("created_at",{ascending:!1}).limit(100);!s&&t&&W(s=>({...s,[e]:t})),X(t=>({...t,[e]:!1}))},ee=async e=>{z===e?B(null):(B(e),K[e]||await Z(e))},et=async()=>{let{data:e,error:t}=await h.db.from("wechat_templates").select("*").order("name");!t&&e&&M(e)},es=async()=>{let{data:e}=await h.db.from("wechat_campaigns").select("total_recipients, valid_numbers, status");if(e){let t=e.reduce((e,t)=>e+(t.valid_numbers||0),0),s=e.filter(e=>"completed"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0),a=e.filter(e=>"in_progress"===e.status).reduce((e,t)=>e+(t.valid_numbers||0),0);$({totalSent:t,delivered:s,pending:a,failed:t-s-a})}},ea=async()=>{let{data:e}=await h.db.from("wechat_accounts").select("*").eq("is_active",!0);e&&e.length>0&&(L(e),m(e[0].id))},el=e=>{let t=e.split("\n").filter(e=>e.trim()).map(e=>e.trim()),s=/^[a-zA-Z0-9_-]{28}$/,a=t.filter(e=>s.test(e)||e.length>=20),l=new Set(a),r=a.length-l.size,i=t.length-a.length;U({valid:l.size,duplicates:r,invalid:i})},er=async()=>{if(!n||!c||!x||!g||!e)return void J({type:"error",message:"Please fill in all required fields"});if(0===q.valid)return void J({type:"error",message:"Please add valid WeChat OpenIDs"});try{let{data:t,error:s}=await h.db.from("wechat_campaigns").insert({user_id:e.id,campaign_name:n,message_type:c,wechat_account_id:x,message_content:g,total_recipients:q.valid+q.duplicates+q.invalid,valid_numbers:q.valid,invalid_numbers:q.invalid,duplicate_numbers:q.duplicates,status:"now"===k?"in_progress":"scheduled",scheduled_at:"schedule"===k?S:null,template_id:u||null}).select().single();if(s)throw s;let a=y.split("\n").filter(e=>e.trim()),r=[...new Set(a.filter(e=>e.trim().length>=20))].map(e=>({campaign_id:t.id,openid:e.trim(),message:g,status:"pending"})),{error:i}=await h.db.from("wechat_messages").insert(r);if(i)throw i;J({type:"success",message:"Campaign created successfully!"}),d(""),b(""),w(""),p(""),A(""),await Q(),await es(),l("campaigns")}catch(e){console.error("Error creating campaign:",e),J({type:"error",message:"Failed to create campaign"})}},ei=async(e,t)=>{try{let{error:s}=await h.db.from("wechat_campaigns").update({status:t}).eq("id",e);if(s)throw s;J({type:"success",message:`Campaign ${t} successfully`}),await Q(),await es()}catch(e){console.error("Error updating campaign:",e),J({type:"error",message:"Failed to update campaign"})}},en=async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:t}=await h.db.from("wechat_campaigns").delete().eq("id",e);if(t)throw t;J({type:"success",message:"Campaign deleted successfully"}),await Q(),await es()}catch(e){console.error("Error deleting campaign:",e),J({type:"error",message:"Failed to delete campaign"})}};return O?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsx)("div",{className:"text-slate-400",children:"Loading WeChat..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[H&&(0,t.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===H.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:H.message}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-10 h-10 text-green-600"}),"WeChat Official Account Messaging"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Send bulk messages to your WeChat followers"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-600/10 to-green-700/10 border border-green-600/30 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-600/20 rounded-lg",children:(0,t.jsx)(e$.default,{className:"w-6 h-6 text-green-500"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.totalSent.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.delivered.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,t.jsx)(R.Clock,{className:"w-6 h-6 text-yellow-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.pending.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,t.jsx)(eF.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:F.failed.toLocaleString()}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,t.jsx)("div",{className:"border-b border-slate-700 bg-slate-800/80",children:(0,t.jsx)("div",{className:"flex gap-2 p-2",children:["compose","campaigns","templates"].map(e=>(0,t.jsx)("button",{onClick:()=>l(e),className:`px-6 py-3 rounded-lg font-medium transition-all ${a===e?"bg-green-600/20 text-green-500 border border-green-600/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,t.jsxs)("div",{className:"p-6",children:["compose"===a&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type *"}),(0,t.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"text",children:"Text Message"}),(0,t.jsx)("option",{value:"image",children:"Image Message"}),(0,t.jsx)("option",{value:"video",children:"Video Message"}),(0,t.jsx)("option",{value:"news",children:"News Article"}),(0,t.jsx)("option",{value:"miniprogram",children:"Mini Program"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"WeChat Account *"}),(0,t.jsx)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:E.map(e=>(0,t.jsx)("option",{value:e.id,children:e.account_name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template (Optional)"}),(0,t.jsxs)("select",{value:u,onChange:e=>{var t;let s;return p(t=e.target.value),void((s=I.find(e=>e.id===t))&&b(s.body_content))},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select a template"}),I.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content *"}),(0,t.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),placeholder:"è¾“å…¥æ‚¨çš„æ¶ˆæ¯å†…å®¹... (Type your message here...)",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none"}),(0,t.jsxs)("div",{className:"text-right text-sm text-slate-400 mt-2",children:[g.length," characters"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients *"}),(0,t.jsx)("div",{className:"flex gap-2 mb-3",children:["paste","upload","phonebook"].map(e=>(0,t.jsx)("button",{onClick:()=>j(e),className:`px-4 py-2 rounded-lg font-medium transition-all ${f===e?"bg-green-600/20 text-green-500 border border-green-600/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),"paste"===f&&(0,t.jsx)("textarea",{value:y,onChange:e=>w(e.target.value),placeholder:"Paste WeChat OpenIDs (one per line) Example: oqTh7t-KWWq1VGdLe8uSwE8Gv4Vc oqTh7t-KWWq1VGdLe8uSwE8Gv4Vd",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none"}),y&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[(0,t.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-green-400 text-2xl font-bold",children:q.valid}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Valid"})]}),(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-yellow-400 text-2xl font-bold",children:q.duplicates}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Duplicates"})]}),(0,t.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[(0,t.jsx)("div",{className:"text-red-400 text-2xl font-bold",children:q.invalid}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Invalid"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Send Mode"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>C("now"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"now"===k?"bg-green-600/20 text-green-500 border border-green-600/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Send Now"}),(0,t.jsx)("button",{onClick:()=>C("schedule"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"schedule"===k?"bg-green-600/20 text-green-500 border border-green-600/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Schedule"})]})]}),"schedule"===k&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Schedule Date & Time"}),(0,t.jsx)("input",{type:"datetime-local",value:S,onChange:e=>A(e.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Save as Draft"}),(0,t.jsxs)("button",{onClick:er,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,t.jsx)(e$.default,{className:"w-5 h-5"}),"now"===k?"Send Campaign":"Schedule Campaign"]})]})]}),"campaigns"===a&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex gap-4 mb-6",children:(0,t.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,t.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,t.jsx)("option",{value:"completed",children:"Completed"}),(0,t.jsx)("option",{value:"paused",children:"Paused"})]})}),(0,t.jsx)("div",{className:"space-y-4",children:0===T.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first WeChat campaign to get started"})]}):T.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"p-3 bg-green-600/20 rounded-lg",children:(0,t.jsx)(Y.MessageSquare,{className:"w-6 h-6 text-green-500"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-white font-semibold text-lg",children:e.campaign_name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[(0,t.jsxs)("span",{children:["Recipients: ",e.valid_numbers]}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"completed"===e.status?"bg-green-500/20 text-green-400":"in_progress"===e.status?"bg-blue-500/20 text-blue-400":"paused"===e.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:e.status}),"in_progress"===e.status&&(0,t.jsx)("button",{onClick:()=>ei(e.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg",children:(0,t.jsx)(eO.default,{className:"w-4 h-4"})}),"paused"===e.status&&(0,t.jsx)("button",{onClick:()=>ei(e.id,"in_progress"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg",children:(0,t.jsx)(eD.Play,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>en(e.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,t.jsx)(N.default,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ee(e.id),className:"p-2 hover:bg-slate-700 rounded-lg text-slate-400",children:z===e.id?(0,t.jsx)(tP.default,{className:"w-4 h-4"}):(0,t.jsx)(tT.default,{className:"w-4 h-4"})})]})]})}),z===e.id&&(0,t.jsx)("div",{className:"border-t border-slate-700 p-4 bg-slate-950/50",children:G[e.id]?(0,t.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Loading messages..."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"OpenID"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Sent At"}),(0,t.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Delivered At"})]})}),(0,t.jsx)("tbody",{children:(K[e.id]||[]).map(e=>(0,t.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,t.jsx)("td",{className:"p-3 text-white font-mono text-sm",children:e.openid}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"delivered"===e.status?"bg-green-500/20 text-green-400":"sent"===e.status?"bg-blue-500/20 text-blue-400":"failed"===e.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:e.status})}),(0,t.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:e.sent_at?new Date(e.sent_at).toLocaleString():"-"}),(0,t.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:e.delivered_at?new Date(e.delivered_at).toLocaleString():"-"})]},e.id))})]})})})]},e.id))})]}),"templates"===a&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Message Templates"}),(0,t.jsxs)("button",{className:"px-4 py-2 bg-green-600/20 text-green-500 border border-green-600/30 rounded-lg hover:bg-green-600/30 transition-colors flex items-center gap-2",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"New Template"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(e=>(0,t.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-white font-semibold mb-2",children:e.name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.description}),(0,t.jsx)("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3",children:e.body_content}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-green-600/20 text-green-500 rounded text-xs",children:e.category}),(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:e.language})]})]},e.id))})]})]})]})]})}var f=f,k=k,P=P,x=x,sq=sq,ez=ez,m=m,ex=ex,at=e.i(35832),at=at;function as(){let{user:e}=(0,D.useAuth)(),[a,l]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{e&&o()},[e]),(0,s.useEffect)(()=>{if(!e)return;let t=h.db.channel("user-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_subscriptions",filter:`user_id=eq.${e.id}`},()=>{o()}).subscribe(),s=h.db.channel("user-offers-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_offers",filter:`user_id=eq.${e.id}`},()=>{o()}).subscribe();return()=>{h.db.removeChannel(t),h.db.removeChannel(s)}},[e]);let o=async()=>{try{let{data:t,error:s}=await h.db.from("user_subscriptions").select(`
          *,
          product:products(*)
        `).eq("user_id",e?.id).order("created_at",{ascending:!1});if(s)throw s;let{data:a,error:r}=await h.db.from("user_offers").select("*").eq("user_id",e?.id).eq("status","active").order("expires_at",{ascending:!0});if(r)throw r;l(t||[]),i(a||[])}catch(e){console.error("Error loading data:",e)}finally{c(!1)}},u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=a.filter(e=>"active"===e.status),g=a.filter(e=>"active"===e.status).reduce((e,t)=>e+parseFloat(t.amount||0),0);return d?(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(P.default,{className:"w-8 h-8 text-cyan-400 animate-spin"}),(0,t.jsx)("div",{className:"text-slate-400",children:"Loading subscriptions..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,t.jsx)(ey.CreditCard,{className:"w-10 h-10 text-cyan-400"}),"My Subscriptions"]}),(0,t.jsx)("p",{className:"text-slate-400",children:"Manage your subscriptions, licenses, and offers"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(eo.Package,{className:"w-6 h-6 text-cyan-400"})}),(0,t.jsx)(eb.TrendingUp,{className:"w-5 h-5 text-cyan-400"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:p.length}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Subscriptions"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,t.jsx)(ey.CreditCard,{className:"w-6 h-6 text-green-400"})})}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",g.toFixed(2)]}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Monthly Spending"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(at.default,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"NEW"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:r.length}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Available Offers"})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,t.jsx)(sq.default,{className:"w-6 h-6 text-orange-400"})})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:a.filter(e=>e.license_key).length}),(0,t.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Licenses"})]})]}),r.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(at.default,{className:"w-6 h-6 text-purple-400"}),"Special Offers for You"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(ex.default,{className:"w-6 h-6 text-purple-400"})}),(0,t.jsxs)("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-xs font-bold",children:[e.discount_percentage,"% OFF"]})]}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:e.offer_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-500",children:["Expires: ",u(e.expires_at)]}),(0,t.jsx)("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-xs font-medium transition-colors",children:"Redeem Now"})]})]},e.id))})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Active Subscriptions"})}),(0,t.jsx)("div",{className:"space-y-4",children:0===a.length?(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,t.jsx)(eo.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No subscriptions found"}),(0,t.jsx)("p",{className:"text-slate-500 text-sm",children:"Subscribe to products to get started"})]}):a.map(e=>{var s,a,l;let r,i=(s=e.expires_at,r=new Date,Math.ceil((new Date(s).getTime()-r.getTime())/864e5)),d=(a=e.usage_count||0,0===(l=e.usage_limit||0)?0:Math.min(a/l*100,100));return(0,t.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,t.jsx)(eo.Package,{className:"w-8 h-8 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:e.product?.name||e.product_name}),(0,t.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:e.product?.description||"Premium subscription"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,t.jsx)(f.default,{className:"w-4 h-4"}),"Started: ",u(e.started_at)]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),i>0?`${i} days remaining`:"Expired"]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(e=>{switch(e){case"active":return(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30 flex items-center gap-1.5",children:[(0,t.jsx)(v.CheckCircle,{className:"w-3.5 h-3.5"}),"Active"]});case"expired":return(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30 flex items-center gap-1.5",children:[(0,t.jsx)(k.default,{className:"w-3.5 h-3.5"}),"Expired"]});case"cancelled":return(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 border border-orange-500/30 flex items-center gap-1.5",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-3.5 h-3.5"}),"Cancelled"]});default:return(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-500/20 text-slate-400 border border-slate-500/30",children:e})}})(e.status),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white mt-3",children:["RM ",parseFloat(e.amount).toFixed(2)]}),(0,t.jsxs)("div",{className:"text-slate-400 text-sm",children:["per ",e.billing_cycle]})]})]}),e.usage_limit&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Usage"}),(0,t.jsxs)("span",{className:"text-white font-medium",children:[e.usage_count?.toLocaleString()||0," / ",e.usage_limit?.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:(0,t.jsx)("div",{className:`h-full transition-all ${d>=90?"bg-red-500":d>=70?"bg-orange-500":"bg-cyan-500"}`,style:{width:`${d}%`}})})]}),e.license_key&&(0,t.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Shield,{className:"w-5 h-5 text-green-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"License Key"}),(0,t.jsx)("div",{className:"font-mono text-white text-sm",children:e.license_key})]})]}),(0,t.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(x.default,{className:"w-5 h-5 text-slate-400"})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(m.default,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Status"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium capitalize",children:e.status})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,t.jsx)(f.default,{className:"w-5 h-5 text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Renewal Date"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:u(e.expires_at)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,t.jsx)(ez.default,{className:"w-5 h-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-slate-500",children:"Auto Renew"}),(0,t.jsx)("div",{className:"text-sm text-white font-medium",children:e.auto_renew?"Enabled":"Disabled"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsxs)("button",{className:"flex-1 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(eR.BarChart3,{className:"w-4 h-4"}),"View Usage"]}),(0,t.jsxs)("button",{className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(P.default,{className:"w-4 h-4"}),"Manage Subscription"]}),(0,t.jsx)("button",{className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors",children:(0,t.jsx)(ej.Info,{className:"w-4 h-4"})})]})]},e.id)})})]})}var _=_,p=p,j=j,N=N,S=S,U=U,m=m,ex=ex,s5=s5,s$=s$,L=L;function aa(){let e,a,[l,r]=(0,s.useState)("customers"),[i,n]=(0,s.useState)([]),[d,c]=(0,s.useState)(null),[o,x]=(0,s.useState)([]),[u,g]=(0,s.useState)([]),[b,f]=(0,s.useState)([]),[v,w]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),[A,T]=(0,s.useState)([]),[P,I]=(0,s.useState)(!0),[M,D]=(0,s.useState)(""),[E,F]=(0,s.useState)([]),[$,q]=(0,s.useState)([]),[O,V]=(0,s.useState)(!1),[z,B]=(0,s.useState)(!1),[K,W]=(0,s.useState)(!1),[G,X]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),[Q,Z]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(null),[es,ea]=(0,s.useState)({customer_id:"",interaction_type:"call",interaction_channel:"phone",subject:"",description:"",outcome:"",sentiment:"neutral",duration_minutes:30}),[el,er]=(0,s.useState)({customer_id:"",ticket_subject:"",ticket_description:"",ticket_priority:"medium",ticket_category:"general"}),[ei,en]=(0,s.useState)({customer_id:"",activity_type:"call",activity_title:"",activity_description:"",due_date:"",priority:"medium"}),[ed,ec]=(0,s.useState)({customer_id:"",note_title:"",note_content:"",note_type:"general",is_pinned:!1}),[eo,em]=(0,s.useState)({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),[eh,eu]=(0,s.useState)({totalCustomers:0,healthyCustomers:0,atRiskCustomers:0,averageHealthScore:0,totalLTV:0,openTickets:0});(0,s.useEffect)(()=>{ep()},[]),(0,s.useEffect)(()=>{d&&e_(d.id)},[d]);let ep=async()=>{I(!0),await Promise.all([ef(),ej(),eN(),ev(),ey(),ew(),ek(),eg(),eb()]),I(!1)},eg=async()=>{let{data:e}=await h.db.from("industries").select("id, industry_name").order("industry_name");e&&F(e)},eb=async()=>{let{data:e}=await h.db.from("customer_segments").select("id, segment_name").order("segment_name");e&&q(e)},ef=async()=>{let{data:e}=await h.db.from("customers").select(`
        *,
        industry:industries(id, industry_name),
        customer_segment:customer_segments(id, segment_name)
      `).order("created_at",{ascending:!1});e&&n(e)},ej=async()=>{let{data:e}=await h.db.from("customer_health_scores").select("*").order("calculated_at",{ascending:!1});e&&x(e)},eN=async()=>{let{data:e}=await h.db.from("customer_interactions").select("*").order("interaction_date",{ascending:!1}).limit(50);e&&g(e)},ev=async()=>{let{data:e}=await h.db.from("customer_support_tickets").select("*").order("created_at",{ascending:!1});e&&f(e)},ey=async()=>{let{data:e}=await h.db.from("customer_activities").select("*").order("due_date",{ascending:!0});e&&w(e)},ew=async()=>{let{data:e}=await h.db.from("customer_revenue_metrics").select("*");e&&T(e)},e_=async e=>{let[t]=await Promise.all([h.db.from("customer_notes").select("*").eq("customer_id",e).order("created_at",{ascending:!1})]);t.data&&C(t.data)},ek=async()=>{let{data:e}=await h.db.from("customer_health_scores").select("health_score, health_status"),{data:t}=await h.db.from("customers").select("id"),{data:s}=await h.db.from("customer_revenue_metrics").select("lifetime_value"),{data:a}=await h.db.from("customer_support_tickets").select("id").in("ticket_status",["open","in_progress"]),l=t?.length||0,r=e?.filter(e=>"healthy"===e.health_status).length||0,i=e?.filter(e=>"at_risk"===e.health_status||"critical"===e.health_status).length||0,n=(e?.length||0)>0?Math.round(e.reduce((e,t)=>e+t.health_score,0)/e.length):0;eu({totalCustomers:l,healthyCustomers:r,atRiskCustomers:i,averageHealthScore:n,totalLTV:s?.reduce((e,t)=>e+(t.lifetime_value||0),0)||0,openTickets:a?.length||0})},eC=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{error:t}=await h.db.from("customer_interactions").insert({...es,user_id:e.id});t||(B(!1),ea({customer_id:"",interaction_type:"call",interaction_channel:"phone",subject:"",description:"",outcome:"",sentiment:"neutral",duration_minutes:30}),eN())},eS=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let t=await h.db.from("customer_support_tickets").select("id",{count:"exact",head:!0}),s=`TICKET-${String((t.count||0)+1).padStart(5,"0")}`,{error:a}=await h.db.from("customer_support_tickets").insert({...el,ticket_number:s,ticket_status:"open",created_by:e.id,assigned_to:e.id});a||(W(!1),er({customer_id:"",ticket_subject:"",ticket_description:"",ticket_priority:"medium",ticket_category:"general"}),ev(),ek())},eA=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{error:t}=await h.db.from("customer_activities").insert({...ei,activity_status:"pending",created_by:e.id,assigned_to:e.id});t||(X(!1),en({customer_id:"",activity_type:"call",activity_title:"",activity_description:"",due_date:"",priority:"medium"}),ey())},eT=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;let{error:t}=await h.db.from("customer_notes").insert({...ed,created_by:e.id});!t&&(J(!1),ec({customer_id:"",note_title:"",note_content:"",note_type:"general",is_pinned:!1}),d&&e_(d.id))},eP=async()=>{let{data:{user:e}}=await h.db.auth.getUser();if(!e)return;if(!eo.company_name)return void alert("Company name is required");let{error:t}=await h.db.from("customers").insert({...eo,created_by:e.id});t?alert("Error creating customer: "+t.message):(V(!1),em({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),ef(),ek())},eI=async()=>{if(!ee)return;if(!eo.company_name)return void alert("Company name is required");let{error:e}=await h.db.from("customers").update(eo).eq("id",ee.id);e?alert("Error updating customer: "+e.message):(V(!1),et(null),em({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),ef())},eM=async e=>{if(!confirm("Are you sure you want to delete this interaction?"))return;let{error:t}=await h.db.from("customer_interactions").delete().eq("id",e);t||eN()},eD=async e=>{if(!confirm("Are you sure you want to delete this ticket?"))return;let{error:t}=await h.db.from("customer_support_tickets").delete().eq("id",e);t||(ev(),ek())},eE=async e=>{if(!confirm("Are you sure you want to delete this activity?"))return;let{error:t}=await h.db.from("customer_activities").delete().eq("id",e);t||ey()},eR=async e=>{if(!confirm("Are you sure you want to delete this note?"))return;let{error:t}=await h.db.from("customer_notes").delete().eq("id",e);!t&&d&&e_(d.id)},eL=async(e,t)=>{let{error:s}=await h.db.from("customer_support_tickets").update({ticket_status:t}).eq("id",e);s||(ev(),ek())},e$=async(e,t)=>{let{error:s}=await h.db.from("customer_activities").update({activity_status:t,completed_at:"completed"===t?new Date().toISOString():null}).eq("id",e);s||ey()},eq=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600",eU=e=>({healthy:"bg-green-100 text-green-700",at_risk:"bg-yellow-100 text-yellow-700",critical:"bg-red-100 text-red-700"})[e]||"bg-gray-100 text-gray-700",eO=e=>new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",minimumFractionDigits:0}).format(e),eV=e=>o.find(t=>t.customer_id===e),ez=e=>A.find(t=>t.customer_id===e);if(P)return(0,t.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading customer data..."})]})});let eB=i.filter(e=>e.company_name.toLowerCase().includes(M.toLowerCase()));return(0,t.jsxs)("div",{className:"p-8 bg-slate-950 min-h-screen",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Advanced CRM"}),(0,t.jsx)("p",{className:"text-slate-400",children:"360Â° customer relationship management"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("button",{onClick:()=>{et(null),em({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),V(!0)},className:"flex items-center gap-2 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Add Customer"]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(t$.Building2,{className:"w-8 h-8 text-cyan-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:eh.totalCustomers}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Total Customers"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(s5.default,{className:"w-8 h-8 text-green-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:eh.healthyCustomers}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Healthy"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(L.default,{className:"w-8 h-8 text-yellow-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:eh.atRiskCustomers}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"At Risk"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(m.default,{className:"w-8 h-8 text-blue-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:eh.averageHealthScore}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Avg Health Score"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(U.default,{className:"w-8 h-8 text-emerald-400"})}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white mb-1",children:eO(eh.totalLTV)}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Total LTV"})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsx)(eF.AlertCircle,{className:"w-8 h-8 text-orange-400"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:eh.openTickets}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:"Open Tickets"})]})]}),(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl",children:[(0,t.jsx)("div",{className:"border-b border-slate-700",children:(0,t.jsx)("div",{className:"flex items-center gap-6 px-6 overflow-x-auto",children:[{id:"customers",label:"Customers",icon:t$.Building2},{id:"health",label:"Health Scores",icon:m.default},{id:"interactions",label:"Interactions",icon:Y.MessageSquare},{id:"tickets",label:"Support Tickets",icon:eF.AlertCircle},{id:"activities",label:"Activities",icon:s$.default},{id:"revenue",label:"Revenue",icon:U.default}].map(e=>{let s=e.icon;return(0,t.jsx)("button",{onClick:()=>r(e.id),className:`py-4 px-2 border-b-2 transition-colors whitespace-nowrap ${l===e.id?"border-cyan-500 text-cyan-400":"border-transparent text-slate-400 hover:text-white"}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"font-semibold",children:e.label})]})},e.id)})})}),(0,t.jsxs)("div",{className:"p-6",children:["customers"===l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search customers...",value:M,onChange:e=>D(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-12 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500"})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-slate-800 border-b border-slate-700",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Company"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Health Score"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"LTV"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"MRR"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-700",children:eB.map(e=>{let s=eV(e.id),a=ez(e.id);return(0,t.jsxs)("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-lg flex items-center justify-center",children:(0,t.jsx)(t$.Building2,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-white",children:e.company_name}),(0,t.jsx)("div",{className:"text-sm text-slate-400",children:e.city})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:s&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`text-2xl font-bold ${eq(s.health_score)}`,children:s.health_score}),(0,t.jsx)(m.default,{className:"w-5 h-5 text-slate-400"})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:s&&(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${eU(s.health_status)}`,children:s.health_status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-white font-semibold",children:a?eO(a.lifetime_value):"-"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-white font-semibold",children:a?eO(a.monthly_recurring_revenue):"-"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{c(e),Z(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(S.default,{className:"w-4 h-4 text-slate-400"})}),(0,t.jsx)("button",{onClick:()=>{et(e),em({company_name:e.company_name,business_registration_number:e.business_registration_number,tax_id:"",industry_id:e.industry.id,customer_segment_id:e.customer_segment.id,website:e.website,phone_number:e.phone_number,email:e.email,address_line1:"",address_line2:"",city:e.city,state:"",postal_code:"",country:e.country,employee_count:0,annual_revenue:0,contract_value:e.contract_value,customer_status:e.customer_status}),V(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(j.default,{className:"w-4 h-4 text-slate-400"})})]})})]},e.id)})})]})})]}),"health"===l&&(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(e=>{let s=i.find(t=>t.id===e.customer_id);return(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:s?.company_name}),(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${eU(e.health_status)}`,children:e.health_status})]}),(0,t.jsx)("div",{className:`text-4xl font-bold ${eq(e.health_score)}`,children:e.health_score})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Engagement"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-cyan-500",style:{width:`${e.engagement_score}%`}})}),(0,t.jsx)("span",{className:"text-sm text-white font-semibold",children:e.engagement_score})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Satisfaction"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500",style:{width:`${e.satisfaction_score}%`}})}),(0,t.jsx)("span",{className:"text-sm text-white font-semibold",children:e.satisfaction_score})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(L.default,{className:"w-5 h-5 text-yellow-400"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Churn Risk:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.churn_risk_level})]}),(0,t.jsxs)("div",{className:"text-sm text-slate-400",children:[Math.round(e.churn_probability),"% probability"]})]})]},e.id)})})}),"interactions"===l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Log Interaction"]})}),(0,t.jsx)("div",{className:"space-y-4",children:u.map(e=>{let s=i.find(t=>t.id===e.customer_id);return(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(Y.MessageSquare,{className:"w-5 h-5 text-cyan-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-white mb-1",children:e.subject}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,t.jsx)("span",{children:s?.company_name}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{className:"capitalize",children:e.interaction_type}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(e.interaction_date).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"positive"===e.sentiment?"bg-green-500/20 text-green-400":"negative"===e.sentiment?"bg-red-500/20 text-red-400":"bg-slate-600 text-slate-300"}`,children:e.sentiment}),(0,t.jsx)("button",{onClick:()=>eM(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,t.jsx)("p",{className:"text-slate-300 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(R.Clock,{className:"w-4 h-4"}),e.duration_minutes," min"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ex.default,{className:"w-4 h-4"}),e.outcome]})]})]},e.id)})})]}),"tickets"===l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsxs)("button",{onClick:()=>W(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Create Ticket"]})}),(0,t.jsx)("div",{className:"space-y-4",children:b.map(e=>{let s=i.find(t=>t.id===e.customer_id);return(0,t.jsx)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"high"===e.ticket_priority?"bg-red-500/20":"medium"===e.ticket_priority?"bg-yellow-500/20":"bg-blue-500/20"}`,children:(0,t.jsx)(eF.AlertCircle,{className:`w-5 h-5 ${"high"===e.ticket_priority?"text-red-400":"medium"===e.ticket_priority?"text-yellow-400":"text-blue-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:e.ticket_subject}),(0,t.jsx)("span",{className:"text-xs text-slate-500 font-mono",children:e.ticket_number})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,t.jsx)("span",{children:s?.company_name}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{className:"capitalize",children:e.ticket_category}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("select",{value:e.ticket_status,onChange:t=>eL(e.id,t.target.value),className:"px-3 py-1 bg-slate-700 border border-slate-600 rounded-lg text-sm text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"open",children:"Open"}),(0,t.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,t.jsx)("option",{value:"resolved",children:"Resolved"}),(0,t.jsx)("option",{value:"closed",children:"Closed"})]}),(0,t.jsx)("button",{onClick:()=>eD(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]})]})},e.id)})})]}),"activities"===l&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex justify-end mb-6",children:(0,t.jsxs)("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-5 h-5"}),"Schedule Activity"]})}),(0,t.jsx)("div",{className:"space-y-4",children:v.map(e=>{let s=i.find(t=>t.id===e.customer_id);return(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"completed"===e.activity_status?"bg-green-500/20":"in_progress"===e.activity_status?"bg-blue-500/20":"bg-slate-600"}`,children:(0,t.jsx)(s$.default,{className:`w-5 h-5 ${"completed"===e.activity_status?"text-green-400":"in_progress"===e.activity_status?"text-blue-400":"text-slate-400"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-white mb-1",children:e.activity_title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,t.jsx)("span",{children:s?.company_name}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsx)("span",{className:"capitalize",children:e.activity_type}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Due: ",new Date(e.due_date).toLocaleDateString()]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("select",{value:e.activity_status,onChange:t=>e$(e.id,t.target.value),className:"px-3 py-1 bg-slate-700 border border-slate-600 rounded-lg text-sm text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,t.jsx)("option",{value:"completed",children:"Completed"})]}),(0,t.jsx)("button",{onClick:()=>eE(e.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]})]}),e.activity_description&&(0,t.jsx)("p",{className:"text-slate-300 mt-2",children:e.activity_description})]},e.id)})})]}),"revenue"===l&&(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.map(e=>{let s=i.find(t=>t.id===e.customer_id);return(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:s?.company_name}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Lifetime Value"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:eO(e.lifetime_value)})]}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Total Revenue"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-400",children:eO(e.total_revenue)})]}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"MRR"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:eO(e.monthly_recurring_revenue)})]}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"ARR"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:eO(e.annual_recurring_revenue)})]}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Total Orders"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:e.total_orders})]}),(0,t.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Avg Order Value"}),(0,t.jsx)("div",{className:"text-xl font-bold text-white",children:eO(e.average_order_value||0)})]})]})]},e.id)})})})]})]}),z&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Log Customer Interaction"}),(0,t.jsx)("button",{onClick:()=>B(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer"}),(0,t.jsxs)("select",{value:es.customer_id,onChange:e=>ea({...es,customer_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select Customer"}),i.map(e=>(0,t.jsx)("option",{value:e.id,children:e.company_name},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Type"}),(0,t.jsxs)("select",{value:es.interaction_type,onChange:e=>ea({...es,interaction_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"call",children:"Call"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"meeting",children:"Meeting"}),(0,t.jsx)("option",{value:"chat",children:"Chat"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Channel"}),(0,t.jsxs)("select",{value:es.interaction_channel,onChange:e=>ea({...es,interaction_channel:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"phone",children:"Phone"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"video",children:"Video"}),(0,t.jsx)("option",{value:"in-person",children:"In Person"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),(0,t.jsx)("input",{type:"text",value:es.subject,onChange:e=>ea({...es,subject:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"What was discussed?"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:es.description,onChange:e=>ea({...es,description:e.target.value}),rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Details of the interaction..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Outcome"}),(0,t.jsx)("input",{type:"text",value:es.outcome,onChange:e=>ea({...es,outcome:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Result"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sentiment"}),(0,t.jsxs)("select",{value:es.sentiment,onChange:e=>ea({...es,sentiment:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"positive",children:"Positive"}),(0,t.jsx)("option",{value:"neutral",children:"Neutral"}),(0,t.jsx)("option",{value:"negative",children:"Negative"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Duration (min)"}),(0,t.jsx)("input",{type:"number",value:es.duration_minutes,onChange:e=>ea({...es,duration_minutes:parseInt(e.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:eC,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Log Interaction"}),(0,t.jsx)("button",{onClick:()=>B(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),K&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Support Ticket"}),(0,t.jsx)("button",{onClick:()=>W(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer"}),(0,t.jsxs)("select",{value:el.customer_id,onChange:e=>er({...el,customer_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select Customer"}),i.map(e=>(0,t.jsx)("option",{value:e.id,children:e.company_name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),(0,t.jsx)("input",{type:"text",value:el.ticket_subject,onChange:e=>er({...el,ticket_subject:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Brief description of the issue"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:el.ticket_description,onChange:e=>er({...el,ticket_description:e.target.value}),rows:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Detailed description..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,t.jsxs)("select",{value:el.ticket_priority,onChange:e=>er({...el,ticket_priority:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),(0,t.jsxs)("select",{value:el.ticket_category,onChange:e=>er({...el,ticket_category:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"general",children:"General"}),(0,t.jsx)("option",{value:"technical",children:"Technical"}),(0,t.jsx)("option",{value:"billing",children:"Billing"}),(0,t.jsx)("option",{value:"feature",children:"Feature Request"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:eS,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Ticket"}),(0,t.jsx)("button",{onClick:()=>W(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),G&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Schedule Activity"}),(0,t.jsx)("button",{onClick:()=>X(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer"}),(0,t.jsxs)("select",{value:ei.customer_id,onChange:e=>en({...ei,customer_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"",children:"Select Customer"}),i.map(e=>(0,t.jsx)("option",{value:e.id,children:e.company_name},e.id))]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Activity Type"}),(0,t.jsxs)("select",{value:ei.activity_type,onChange:e=>en({...ei,activity_type:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"call",children:"Call"}),(0,t.jsx)("option",{value:"email",children:"Email"}),(0,t.jsx)("option",{value:"meeting",children:"Meeting"}),(0,t.jsx)("option",{value:"follow_up",children:"Follow-up"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,t.jsxs)("select",{value:ei.priority,onChange:e=>en({...ei,priority:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,t.jsx)("option",{value:"low",children:"Low"}),(0,t.jsx)("option",{value:"medium",children:"Medium"}),(0,t.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:ei.activity_title,onChange:e=>en({...ei,activity_title:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Activity title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,t.jsx)("textarea",{value:ei.activity_description,onChange:e=>en({...ei,activity_description:e.target.value}),rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Activity details..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date"}),(0,t.jsx)("input",{type:"date",value:ei.due_date,onChange:e=>en({...ei,due_date:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:eA,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Schedule Activity"}),(0,t.jsx)("button",{onClick:()=>X(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),Q&&d&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-cyan-600 to-blue-600 px-8 py-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white rounded-xl flex items-center justify-center",children:(0,t.jsx)(t$.Building2,{className:"w-8 h-8 text-cyan-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:d.company_name}),(0,t.jsxs)("p",{className:"text-cyan-100",children:[d.city,", ",d.country]})]})]}),(0,t.jsx)("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-cyan-500 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-white"})})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsxs)("button",{onClick:()=>{ec({...ed,customer_id:d.id}),J(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(_.default,{className:"w-4 h-4"}),"Add Note"]}),(0,t.jsxs)("button",{onClick:()=>{ea({...es,customer_id:d.id}),B(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(Y.MessageSquare,{className:"w-4 h-4"}),"Log Interaction"]}),(0,t.jsxs)("button",{onClick:()=>{er({...el,customer_id:d.id}),W(!0)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(eF.AlertCircle,{className:"w-4 h-4"}),"Create Ticket"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:(e=eV(d.id),a=ez(d.id),(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Health Score"}),(0,t.jsx)("div",{className:`text-3xl font-bold ${eq(e.health_score)}`,children:e.health_score})]}),(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Churn Risk"}),(0,t.jsx)("div",{className:"text-lg font-bold text-white capitalize",children:e.churn_risk_level})]})]}),a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"LTV"}),(0,t.jsx)("div",{className:"text-xl font-bold text-emerald-400",children:eO(a.lifetime_value)})]}),(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,t.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"MRR"}),(0,t.jsx)("div",{className:"text-xl font-bold text-cyan-400",children:eO(a.monthly_recurring_revenue)})]})]})]}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Notes"}),(0,t.jsx)("div",{className:"space-y-3",children:k.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-semibold text-white",children:e.note_title}),(0,t.jsx)("button",{onClick:()=>eR(e.id),className:"p-1 hover:bg-slate-700 rounded transition-colors",children:(0,t.jsx)(N.default,{className:"w-4 h-4 text-red-400"})})]}),(0,t.jsx)("p",{className:"text-slate-300 text-sm mb-2",children:e.note_content}),(0,t.jsx)("div",{className:"text-xs text-slate-500",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})]})]})}),H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Note"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",value:ed.note_title,onChange:e=>ec({...ed,note_title:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Note title"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content"}),(0,t.jsx)("textarea",{value:ed.note_content,onChange:e=>ec({...ed,note_content:e.target.value}),rows:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Note content..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"pin-note",checked:ed.is_pinned,onChange:e=>ec({...ed,is_pinned:e.target.checked}),className:"w-4 h-4"}),(0,t.jsx)("label",{htmlFor:"pin-note",className:"text-sm text-slate-300",children:"Pin this note"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:eT,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Add Note"}),(0,t.jsx)("button",{onClick:()=>J(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),O&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:ee?"Edit Customer":"Add New Customer"}),(0,t.jsx)("button",{onClick:()=>{V(!1),et(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,t.jsx)(y.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Company Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Company Name ",(0,t.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:eo.company_name,onChange:e=>em({...eo,company_name:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Company name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Business Registration Number"}),(0,t.jsx)("input",{type:"text",value:eo.business_registration_number,onChange:e=>em({...eo,business_registration_number:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Registration number"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Industry"}),(0,t.jsxs)("select",{value:eo.industry_id,onChange:e=>em({...eo,industry_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"",children:"Select Industry"}),E.map(e=>(0,t.jsx)("option",{value:e.id,children:e.industry_name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer Segment"}),(0,t.jsxs)("select",{value:eo.customer_segment_id,onChange:e=>em({...eo,customer_segment_id:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"",children:"Select Segment"}),$.map(e=>(0,t.jsx)("option",{value:e.id,children:e.segment_name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:eo.customer_status,onChange:e=>em({...eo,customer_status:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",children:[(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"inactive",children:"Inactive"}),(0,t.jsx)("option",{value:"prospect",children:"Prospect"}),(0,t.jsx)("option",{value:"churned",children:"Churned"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Website"}),(0,t.jsx)("input",{type:"url",value:eo.website,onChange:e=>em({...eo,website:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"https://example.com"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contact Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:eo.email,onChange:e=>em({...eo,email:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"contact@company.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",value:eo.phone_number,onChange:e=>em({...eo,phone_number:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"+60 12-345-6789"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Address Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address Line 1"}),(0,t.jsx)("input",{type:"text",value:eo.address_line1,onChange:e=>em({...eo,address_line1:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Street address"})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address Line 2"}),(0,t.jsx)("input",{type:"text",value:eo.address_line2,onChange:e=>em({...eo,address_line2:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Apartment, suite, etc."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),(0,t.jsx)("input",{type:"text",value:eo.city,onChange:e=>em({...eo,city:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"City"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),(0,t.jsx)("input",{type:"text",value:eo.state,onChange:e=>em({...eo,state:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"State/Province"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Postal Code"}),(0,t.jsx)("input",{type:"text",value:eo.postal_code,onChange:e=>em({...eo,postal_code:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Postal code"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Country"}),(0,t.jsx)("input",{type:"text",value:eo.country,onChange:e=>em({...eo,country:e.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Country"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Business Metrics"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Employee Count"}),(0,t.jsx)("input",{type:"number",value:eo.employee_count,onChange:e=>em({...eo,employee_count:parseInt(e.target.value)||0}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Annual Revenue (MYR)"}),(0,t.jsx)("input",{type:"number",value:eo.annual_revenue,onChange:e=>em({...eo,annual_revenue:parseFloat(e.target.value)||0}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"0.00"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Contract Value (MYR)"}),(0,t.jsx)("input",{type:"number",value:eo.contract_value,onChange:e=>em({...eo,contract_value:parseFloat(e.target.value)||0}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"0.00"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[(0,t.jsx)("button",{onClick:ee?eI:eP,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:ee?"Update Customer":"Create Customer"}),(0,t.jsx)("button",{onClick:()=>{V(!1),et(null)},className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})})]})}function al({params:e}){let l=(0,s.use)(e).slug;switch(l?l[0]:"dashboard"){case"dashboard":default:return(0,t.jsx)(a.default,{});case"product-catalog":return(0,t.jsx)(ev,{});case"billing":return(0,t.jsx)(eT,{});case"settings":return(0,t.jsx)(ec,{});case"subscriptions":return(0,t.jsx)(as,{});case"customers":return(0,t.jsx)(aa,{});case"resources":return(0,t.jsx)(eE,{});case"reports":return(0,t.jsx)(eq,{});case"recordings":return(0,t.jsx)(eV,{});case"get-started":return(0,t.jsx)(eZ,{});case"support":return(0,t.jsx)(te,{});case"documentation":return(0,t.jsx)(tt,{});case"feature-validation":return(0,t.jsx)(ts,{});case"tiktok":return(0,t.jsx)(s0,{});case"instagram":return(0,t.jsx)(s2,{});case"facebook":return(0,t.jsx)(s3,{});case"youtube":return(0,t.jsx)(s1,{});case"linkedin":return(0,t.jsx)(s7,{});case"viber":return(0,t.jsx)(s8,{});case"line":return(0,t.jsx)(s9,{});case"wechat":return(0,t.jsx)(ae,{});case"sms":return(0,t.jsx)(tE,{});case"rcs":return(0,t.jsx)(tF,{});case"whatsapp":return(0,t.jsx)(tV,{});case"voice-api":return(0,t.jsx)(sc,{});case"cc":return(0,t.jsx)(sp,{});case"chatbot":return(0,t.jsx)(sj,{});case"voice-agent":return(0,t.jsx)(sA,{});case"meetings-ai":return(0,t.jsx)(sO,{});case"video-api":return(0,t.jsx)(tk,{});case"api-marketplace":return(0,t.jsx)(sB,{});case"email":return(0,t.jsx)(sG,{});case"telco-api":return(0,t.jsx)(sY,{onNavigate:()=>{}});case"cart":return(0,t.jsx)(sz,{onNavigate:()=>{}})}}e.s(["default",()=>al],70157)}]);