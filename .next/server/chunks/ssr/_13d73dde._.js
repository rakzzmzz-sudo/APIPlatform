module.exports=[54826,(a,b,c)=>{},15299,(a,b,c)=>{a.r(54826);var d=a.r(72131),e=d&&"object"==typeof d&&"default"in d?d:{default:d},f="u">typeof process&&process.env&&!0,g=function(a){return"[object String]"===Object.prototype.toString.call(a)},h=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,e=b.optimizeForSpeed,h=void 0===e?f:e;i(g(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",i("boolean"==typeof h,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=h,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var b,c=a.prototype;return c.setOptimizeForSpeed=function(a){i("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var a=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},c.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(a,b){return i(g(a),"`insertRule` accepts only strings"),"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++},c.replaceRule=function(a,b){this._optimizeForSpeed;var c=this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){f||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}return a},c.deleteRule=function(a){this._serverSheet.deleteRule(a)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},c.cssRules=function(){return this._serverSheet.cssRules},c.makeStyleTag=function(a,b,c){b&&i(g(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},b=[{key:"length",get:function(){return this._rulesCount}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a.prototype,b),a}();function i(a,b){if(!a)throw Error("StyleSheet: "+b+".")}var j=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0},k={};function l(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return k[d]||(k[d]="jsx-"+j(a+"-"+c)),k[d]}function m(a,b){var c=a+(b=b.replace(/\/style/gi,"\\/style"));return k[c]||(k[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),k[c]}var n=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,f=void 0!==e&&e;this._sheet=d||new h({name:"styled-jsx",optimizeForSpeed:f}),this._sheet.inject(),d&&"boolean"==typeof f&&(this._sheet.setOptimizeForSpeed(f),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(function(a,b){if(!a)throw Error("StyleSheetRegistry: "+b+".")}(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return!!a[1]}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=l(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return m(e,a)}):[m(e,b)]}}return{styleId:l(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}(),o=d.createContext(null);function p(){return new n}function q(){return d.useContext(o)}function r(a){var b=q();return b&&b.add(a),null}o.displayName="StyleSheetContext",e.default.useInsertionEffect||e.default.useLayoutEffect,r.dynamic=function(a){return a.map(function(a){return l(a[0],a[1])}).join(" ")},c.StyleRegistry=function(a){var b=a.registry,c=a.children,f=d.useContext(o),g=d.useState(function(){return f||b||p()})[0];return e.default.createElement(o.Provider,{value:g},c)},c.createStyleRegistry=p,c.style=r,c.useStyleRegistry=q},31626,(a,b,c)=>{b.exports=a.r(15299).style},34451,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(85556),e=a.i(37565),e=e,f=a.i(14882),f=f,g=a.i(50986),g=g,h=a.i(3314),i=a.i(4720),j=a.i(21161),k=a.i(23312),l=a.i(27630),l=l,m=a.i(96883),m=m,n=a.i(20266),o=a.i(87055),o=o,p=a.i(50537),p=p,q=a.i(13723),q=q,r=a.i(92258),s=a.i(67937),s=s,t=a.i(97528),t=t,u=a.i(4876),u=u,v=a.i(95756),w=a.i(33508);function x(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("all"),[l,m]=(0,c.useState)(!1),[x,y]=(0,c.useState)({email:"",password:"",full_name:"",role:"user",balance:"0"}),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{B()},[]),(0,c.useEffect)(()=>{if(z){let a=setTimeout(()=>A(null),5e3);return()=>clearTimeout(a)}},[z]);let B=async()=>{f(!0);let a=[{id:"admin@cpaas.com",email:"admin@cpaas.com",full_name:"Admin User",role:"admin",balance:1e3,created_at:new Date().toISOString()},{id:"presales@cpaas.com",email:"presales@cpaas.com",full_name:"Presales User",role:"user",balance:1e3,created_at:new Date().toISOString()},{id:"sales@cpaas.com",email:"sales@cpaas.com",full_name:"Sales User",role:"user",balance:1e3,created_at:new Date().toISOString()}];try{let{data:b,error:c}=await n.db.from("profiles").select("*").order("created_at",{ascending:!1});if(c)console.log("Database not available, showing predefined users only"),d(a);else{let c=[...a];(b||[]).forEach(b=>{a.find(a=>a.email===b.email)||c.push(b)}),d(c)}}catch(b){console.log("Error fetching users, showing predefined users only:",b),d(a)}finally{f(!1)}},C=async a=>{a.preventDefault();try{let{data:a,error:b}=await n.db.auth.signUp({email:x.email,password:x.password,options:{data:{full_name:x.full_name}}});if(b)throw b;if(a.user){let{error:b}=await n.db.from("profiles").update({full_name:x.full_name,role:x.role,balance:parseFloat(x.balance)}).eq("id",a.user.id);if(b)throw b}A({type:"success",message:"User added successfully"}),m(!1),y({email:"",password:"",full_name:"",role:"user",balance:"0"}),await B()}catch(a){console.error("Error adding user:",a),A({type:"error",message:a.message||"Failed to add user"})}},D=a.filter(a=>{let b=a.email.toLowerCase().includes(g.toLowerCase())||a.full_name?.toLowerCase().includes(g.toLowerCase()),c="all"===j||a.role===j;return b&&c}),E=async a=>{if(!confirm("Are you sure you want to delete this user?"))return;let{error:b}=await n.db.from("profiles").delete().eq("id",a);b?(console.error("Error deleting user:",b),alert("Failed to delete user")):B()};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"User Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage user accounts, roles, and permissions"})]}),(0,b.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,b.jsx)(o.default,{className:"w-4 h-4"}),"Add User"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by email or name...",value:g,onChange:a=>i(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"all",children:"All Roles"}),(0,b.jsx)("option",{value:"admin",children:"Admin"}),(0,b.jsx)("option",{value:"developer",children:"Developer"}),(0,b.jsx)("option",{value:"user",children:"User"})]})]}),e?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading users..."})]}):(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"User"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"Role"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-400",children:"Balance"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-400",children:"Joined"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-400",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-400",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:D.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-semibold text-sm",children:a.full_name?.charAt(0)||a.email.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.full_name||"N/A"}),(0,b.jsxs)("div",{className:"text-slate-400 text-sm flex items-center gap-2",children:[(0,b.jsx)(r.Mail,{className:"w-3 h-3"}),a.email]})]})]})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-semibold border ${(a=>{switch(a){case"admin":return"bg-red-500/20 text-red-400 border-red-500/50";case"developer":return"bg-blue-500/20 text-blue-400 border-blue-500/50";default:return"bg-slate-500/20 text-slate-400 border-slate-500/50"}})(a.role)}`,children:[(0,b.jsx)(h.Shield,{className:"w-3 h-3"}),a.role.toUpperCase()]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-right",children:(0,b.jsxs)("span",{className:"text-emerald-400 font-semibold",children:["RM ",a.balance.toFixed(2)]})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 text-sm",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleDateString()]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-semibold bg-emerald-500/20 text-emerald-400 border border-emerald-500/50",children:[(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"ACTIVE"]})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(t.default,{className:"w-4 h-4 text-slate-400 group-hover:text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>E(a.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(q.default,{className:"w-4 h-4 text-slate-400"})})]})})]},a.id))})]}),0===D.length&&(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-slate-400",children:"No users found"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Users"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"All registered users"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Admins"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>"admin"===a.role).length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Full access users"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Users"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,b.jsx)("p",{className:"text-emerald-400 text-sm",children:"100% active"})]})]}),l&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New User"}),(0,b.jsx)("button",{onClick:()=>{m(!1),y({email:"",password:"",full_name:"",role:"user",balance:"0"})},className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email *"}),(0,b.jsx)("input",{type:"email",value:x.email,onChange:a=>y({...x,email:a.target.value}),placeholder:"user@example.com",required:!0,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password *"}),(0,b.jsx)("input",{type:"password",value:x.password,onChange:a=>y({...x,password:a.target.value}),placeholder:"Minimum 6 characters",required:!0,minLength:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),(0,b.jsx)("input",{type:"text",value:x.full_name,onChange:a=>y({...x,full_name:a.target.value}),placeholder:"John Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),(0,b.jsxs)("select",{value:x.role,onChange:a=>y({...x,role:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"user",children:"User"}),(0,b.jsx)("option",{value:"developer",children:"Developer"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Initial Balance (RM)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:x.balance,onChange:a=>y({...x,balance:a.target.value}),placeholder:"0.00",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{m(!1),y({email:"",password:"",full_name:"",role:"user",balance:"0"})},className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Add User"})]})]})]})}),z&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,b.jsx)("div",{className:`${"success"===z.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===z.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===z.type?(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===z.type?"text-green-400":"text-red-400"}`,children:"success"===z.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1",children:z.message})]}),(0,b.jsx)("button",{onClick:()=>A(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var f=f,y=a.i(16868),y=y,z=a.i(51564),z=z,A=a.i(76319),A=A,B=a.i(77859),B=B,C=a.i(13648),C=C,u=u;function D(){let[a,d]=(0,c.useState)([]),[e,g]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(""),[p,q]=(0,c.useState)({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1}),[r,s]=(0,c.useState)(null);(0,c.useEffect)(()=>{w()},[]),(0,c.useEffect)(()=>{if(r){let a=setTimeout(()=>s(null),5e3);return()=>clearTimeout(a)}},[r]);let t=async()=>{if(!m.trim())return void s({type:"error",message:"Please enter a key name"});try{let{data:{user:a}}=await n.db.auth.getUser();if(!a)throw Error("Not authenticated");let b=(()=>{let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",b="sk_";for(let c=0;c<32;c++)b+=a.charAt(Math.floor(Math.random()*a.length));return b})(),c=b.substring(0,7),{error:d}=await n.db.from("api_keys").insert({user_id:a.id,name:m,key_prefix:c,key_hash:b,permissions:p,is_active:!0});if(d)throw d;s({type:"success",message:`API key generated: ${b}`}),o(""),q({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1}),l(!1),w()}catch(a){console.error("Error generating API key:",a),s({type:"error",message:a.message||"Failed to generate API key"})}},w=async()=>{j(!0);let[a,b]=await Promise.all([n.db.from("api_keys").select("*").order("created_at",{ascending:!1}),n.db.from("user_permissions").select("*")]);a.data&&d(a.data),b.data&&g(b.data),j(!1)},x=async(a,b)=>{let{error:c}=await n.db.from("api_keys").update({is_active:!b}).eq("id",a);c||w()},D=async a=>{if(!confirm("Are you sure you want to delete this API key?"))return;let{error:b}=await n.db.from("api_keys").delete().eq("id",a);b||w()};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Access Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage API keys, permissions, and access controls"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,b.jsx)(f.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total API Keys"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Active and inactive"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Keys"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>a.is_active).length})]})]}),(0,b.jsx)("p",{className:"text-emerald-400 text-sm",children:"Currently active"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Permissions"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:e.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Custom permissions"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"API Keys"}),(0,b.jsxs)("button",{onClick:()=>l(!k),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Generate New Key"]})]}),k&&(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 mb-6",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Generate New API Key"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Key Name"}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>o(a.target.value),placeholder:"Production API Key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Permissions"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:p.send_messages,onChange:a=>q({...p,send_messages:a.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Send Messages"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:p.read_analytics,onChange:a=>q({...p,read_analytics:a.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Read Analytics"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:p.manage_campaigns,onChange:a=>q({...p,manage_campaigns:a.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Manage Campaigns"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-slate-300 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:p.manage_webhooks,onChange:a=>q({...p,manage_webhooks:a.target.checked}),className:"rounded bg-slate-800 border-slate-700 text-cyan-500"}),(0,b.jsx)("span",{className:"text-sm",children:"Manage Webhooks"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:t,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Generate Key"}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(""),q({send_messages:!1,read_analytics:!1,manage_campaigns:!1,manage_webhooks:!1})},className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg font-medium transition-all",children:"Cancel"})]})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===a.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No API keys generated yet"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Create your first API key to get started"})]}):a.map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.name}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold ${a.is_active?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/50":"bg-slate-500/20 text-slate-400 border border-slate-500/50"}`,children:[a.is_active?(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}):(0,b.jsx)(z.default,{className:"w-3 h-3"}),a.is_active?"Active":"Inactive"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsxs)("span",{className:"font-mono",children:[a.key_prefix,"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"]}),(0,b.jsxs)("span",{children:["Created: ",new Date(a.created_at).toLocaleDateString()]}),a.last_used_at&&(0,b.jsxs)("span",{children:["Last used: ",new Date(a.last_used_at).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(A.default,{className:"w-4 h-4 text-slate-400 group-hover:text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>x(a.id,a.is_active),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:a.is_active?(0,b.jsx)(C.default,{className:"w-4 h-4 text-slate-400 group-hover:text-amber-400"}):(0,b.jsx)(B.default,{className:"w-4 h-4 text-slate-400 group-hover:text-emerald-400"})}),(0,b.jsx)("button",{onClick:()=>D(a.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})})]})]})},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Role Permissions"}),(0,b.jsx)("div",{className:"space-y-4",children:["admin","developer","user"].map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${"admin"===a?"bg-red-500/20":"developer"===a?"bg-blue-500/20":"bg-slate-500/20"}`,children:(0,b.jsx)(h.Shield,{className:`w-5 h-5 ${"admin"===a?"text-red-400":"developer"===a?"text-blue-400":"text-slate-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold capitalize",children:a}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["admin"===a&&"Full system access","developer"===a&&"API and campaign management","user"===a&&"Basic read access"]})]})]}),(0,b.jsx)("button",{className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"Edit Permissions"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:["admin"===a&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("span",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 text-xs rounded-full border border-emerald-500/30",children:"All Permissions"})}),"developer"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Campaigns"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Channels"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"API Keys"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Messages"})]}),"user"===a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-500/20 text-slate-400 text-xs rounded-full border border-slate-500/30",children:"View Campaigns"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-500/20 text-slate-400 text-xs rounded-full border border-slate-500/30",children:"View Messages"})]})]})]},a))})]}),r&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,b.jsx)("div",{className:`${"success"===r.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===r.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===r.type?(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===r.type?"text-green-400":"text-red-400"}`,children:"success"===r.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1 break-all",children:r.message})]}),(0,b.jsx)("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var g=g,y=y,z=z,u=u,E=a.i(90561),E=E;let F=[{name:"Twilio",type:"sms_provider",description:"SMS and voice communications",icon:"ðŸ“±"},{name:"SendGrid",type:"email_provider",description:"Email delivery service",icon:"âœ‰ï¸"},{name:"Stripe",type:"payment_gateway",description:"Payment processing",icon:"ðŸ’³"},{name:"Salesforce",type:"crm",description:"Customer relationship management",icon:"ðŸ”µ"},{name:"HubSpot",type:"crm",description:"Marketing and sales CRM",icon:"ðŸŸ "},{name:"Google Analytics",type:"analytics",description:"Web analytics platform",icon:"ðŸ“Š"},{name:"Slack",type:"webhook",description:"Team communication",icon:"ðŸ’¬"},{name:"Zapier",type:"webhook",description:"Automation platform",icon:"âš¡"}];function G(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({api_key:"",api_secret:"",endpoint:""}),[r,s]=(0,c.useState)(null);(0,c.useEffect)(()=>{w()},[]),(0,c.useEffect)(()=>{if(r){let a=setTimeout(()=>s(null),5e3);return()=>clearTimeout(a)}},[r]);let t=async()=>{if(m)try{let{data:{user:a}}=await n.db.auth.getUser();if(!a)throw Error("Not authenticated");let{error:b}=await n.db.from("integrations").insert({user_id:a.id,name:m.name,type:m.type,config:p,status:"active",is_active:!0});if(b)throw b;s({type:"success",message:`${m.name} connected successfully`}),l(!1),o(null),q({api_key:"",api_secret:"",endpoint:""}),w()}catch(a){console.error("Error connecting integration:",a),s({type:"error",message:a.message||"Failed to connect integration"})}},w=async()=>{f(!0);let{data:a,error:b}=await n.db.from("integrations").select("*").order("created_at",{ascending:!1});b?console.error("Error fetching integrations:",b):d(a||[]),f(!1)},x=async(a,b)=>{let{error:c}=await n.db.from("integrations").update({is_active:!b}).eq("id",a);c||w()},A=async a=>{if(!confirm("Are you sure you want to remove this integration?"))return;let{error:b}=await n.db.from("integrations").delete().eq("id",a);b||w()};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Integrations Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Connect third-party services and manage integrations"})]}),(0,b.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Integration"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,b.jsx)(g.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Integrations"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Active"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>a.is_active).length})]})]}),(0,b.jsx)("p",{className:"text-emerald-400 text-sm",children:"Connected"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-slate-500/20 p-3 rounded-lg",children:(0,b.jsx)(z.default,{className:"w-5 h-5 text-slate-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Inactive"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>!a.is_active).length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Disconnected"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,b.jsx)(z.default,{className:"w-5 h-5 text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Errors"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>"error"===a.status).length})]})]}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:"Need attention"})]})]}),h&&(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Available Integrations"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:F.map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 hover:border-cyan-500/50 rounded-lg p-4 transition-all group",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"text-4xl",children:a.icon}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-1",children:a.name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.description}),(0,b.jsx)("button",{onClick:()=>{o(a),l(!0),i(!1)},className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"Connect â†’"})]})]})},a.name))}),(0,b.jsx)("div",{className:"mt-6 flex justify-end",children:(0,b.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg font-medium transition-all",children:"Close"})})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Connected Integrations"}),e?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading integrations..."})]}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(g.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"No integrations connected yet"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Connect your first integration to get started"})]}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 p-3 rounded-lg",children:(0,b.jsx)(g.default,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.name}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold border ${(a=>{switch(a){case"active":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"inactive":default:return"bg-slate-500/20 text-slate-400 border-slate-500/50";case"error":return"bg-red-500/20 text-red-400 border-red-500/50"}})(a.status)}`,children:["active"===a.status&&(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"error"===a.status&&(0,b.jsx)(z.default,{className:"w-3 h-3"}),a.status.toUpperCase()]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsx)("span",{className:"capitalize",children:a.type.replace("_"," ")}),a.last_synced_at&&(0,b.jsxs)("span",{children:["Last synced: ",new Date(a.last_synced_at).toLocaleString()]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(E.default,{className:"w-4 h-4 text-slate-400 group-hover:text-cyan-400"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(j.Settings,{className:"w-4 h-4 text-slate-400 group-hover:text-blue-400"})}),(0,b.jsx)("button",{onClick:()=>x(a.id,a.is_active),className:`px-3 py-1 rounded-lg text-xs font-semibold transition-all ${a.is_active?"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:a.is_active?"Enabled":"Disabled"}),(0,b.jsx)("button",{onClick:()=>A(a.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors group",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-slate-400 group-hover:text-red-400"})})]})]})},a.id))})]}),k&&m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Configure ",m.name]}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(null),q({api_key:"",api_secret:"",endpoint:""})},className:"text-slate-400 hover:text-white",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Key"}),(0,b.jsx)("input",{type:"text",value:p.api_key,onChange:a=>q({...p,api_key:a.target.value}),placeholder:"Enter API key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Secret"}),(0,b.jsx)("input",{type:"password",value:p.api_secret,onChange:a=>q({...p,api_secret:a.target.value}),placeholder:"Enter API secret",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Endpoint (Optional)"}),(0,b.jsx)("input",{type:"text",value:p.endpoint,onChange:a=>q({...p,endpoint:a.target.value}),placeholder:"https://api.example.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{l(!1),o(null),q({api_key:"",api_secret:"",endpoint:""})},className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:t,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:"Connect"})]})]})]})}),r&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,b.jsx)("div",{className:`${"success"===r.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===r.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===r.type?(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===r.type?"text-green-400":"text-red-400"}`,children:"success"===r.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1",children:r.message})]}),(0,b.jsx)("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var H=a.i(11642),I=a.i(44494),J=a.i(41710),f=f,K=a.i(44467),K=K;function L(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)({two_factor_enabled:!1,ip_whitelist:[],session_timeout:60,login_notifications:!0,api_rate_limit:1e3,allowed_domains:["*"]}),[g,i]=(0,c.useState)(!0),[j,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("");(0,c.useEffect)(()=>{r()},[]);let r=async()=>{if(!a)return;i(!0);let{data:b,error:c}=await n.db.from("security_settings").select("*").eq("user_id",a.id).maybeSingle();c?console.error("Error fetching security settings:",c):b&&e(b),i(!1)},s=async b=>{if(!a)return;l(!0);let c={...d,...b},{error:f}=await n.db.from("security_settings").upsert({user_id:a.id,...c,updated_at:new Date().toISOString()});f?(console.error("Error updating security settings:",f),alert("Failed to update settings")):e(c),l(!1)},t=()=>{m&&!d.ip_whitelist.includes(m)&&(s({ip_whitelist:[...d.ip_whitelist,m]}),o(""))};return g?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading security settings..."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Security Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Configure security settings and access controls"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${d.two_factor_enabled?"bg-emerald-500/20":"bg-slate-500/20"}`,children:(0,b.jsx)(h.Shield,{className:`w-5 h-5 ${d.two_factor_enabled?"text-emerald-400":"text-slate-400"}`,style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"2FA Status"}),(0,b.jsx)("p",{className:"text-lg font-bold text-white",children:d.two_factor_enabled?"Enabled":"Disabled"})]})]}),(0,b.jsx)("p",{className:`text-sm ${d.two_factor_enabled?"text-emerald-400":"text-slate-500"}`,children:d.two_factor_enabled?"Protected":"Not protected"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(I.Globe,{className:"w-5 h-5 text-blue-400",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"IP Whitelist"}),(0,b.jsx)("p",{className:"text-lg font-bold text-white",children:d.ip_whitelist.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Allowed IPs"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,b.jsx)(f.default,{className:"w-5 h-5 text-cyan-400",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"API Rate Limit"}),(0,b.jsx)("p",{className:"text-lg font-bold text-white",children:d.api_rate_limit})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Requests/hour"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Authentication Settings"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-cyan-400",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Two-Factor Authentication"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Add an extra layer of security to your account"})]})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.two_factor_enabled,onChange:a=>s({two_factor_enabled:a.target.checked}),className:"sr-only peer",disabled:j}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(k.Bell,{className:"w-5 h-5 text-blue-400",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Login Notifications"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Get notified when someone logs into your account"})]})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.login_notifications,onChange:a=>s({login_notifications:a.target.checked}),className:"sr-only peer",disabled:j}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:(0,b.jsx)(J.Clock,{className:"w-5 h-5 text-purple-400",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Session Timeout"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Automatically log out after period of inactivity"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",min:"15",max:"480",step:"15",value:d.session_timeout,onChange:a=>s({session_timeout:parseInt(a.target.value)}),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer",disabled:j}),(0,b.jsxs)("span",{className:"text-white font-semibold min-w-[80px]",children:[d.session_timeout," min"]})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"IP Whitelist"}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",value:m,onChange:a=>o(a.target.value),onKeyDown:a=>{"Enter"===a.key&&m&&!j&&t()},placeholder:"Enter IP address (e.g., 192.168.1.1)",className:"flex-1 bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),(0,b.jsx)("button",{onClick:t,disabled:!m||j,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:"Add"})]})}),(0,b.jsx)("div",{className:"space-y-2",children:0===d.ip_whitelist.length?(0,b.jsx)("p",{className:"text-slate-400 text-center py-8",children:"No IP addresses in whitelist"}):d.ip_whitelist.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsx)("span",{className:"text-white font-mono",children:a}),(0,b.jsx)("button",{onClick:()=>{s({ip_whitelist:d.ip_whitelist.filter(b=>b!==a)})},className:"text-red-400 hover:text-red-300 text-sm font-medium",disabled:j,children:"Remove"})]},a))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"CORS Allowed Domains"}),(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),placeholder:"Enter domain (e.g., example.com)",className:"flex-1 bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),(0,b.jsx)("button",{onClick:()=>{p&&!d.allowed_domains.includes(p)&&(s({allowed_domains:[...d.allowed_domains,p]}),q(""))},disabled:!p||j,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:"Add"})]})}),(0,b.jsx)("div",{className:"space-y-2",children:d.allowed_domains.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-slate-400",style:{color:"#40C706"}}),(0,b.jsx)("span",{className:"text-white font-mono",children:a})]}),"*"!==a&&(0,b.jsx)("button",{onClick:()=>{s({allowed_domains:d.allowed_domains.filter(b=>b!==a)})},className:"text-red-400 hover:text-red-300 text-sm font-medium",disabled:j,children:"Remove"})]},a))})]}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-amber-500/20 p-3 rounded-lg",children:(0,b.jsx)(K.default,{className:"w-5 h-5 text-amber-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-amber-400 font-semibold mb-2",children:"Security Best Practices"}),(0,b.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Enable two-factor authentication for enhanced security"}),(0,b.jsx)("li",{children:"â€¢ Use IP whitelisting if you access from fixed locations"}),(0,b.jsx)("li",{children:"â€¢ Regularly rotate your API keys"}),(0,b.jsx)("li",{children:"â€¢ Monitor login notifications for suspicious activity"}),(0,b.jsx)("li",{children:"â€¢ Keep your session timeout reasonable for your use case"})]})]})]})})]})}var l=l,p=p,z=z,s=s,M=a.i(46842),m=m;function N(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(""),[j,k]=(0,c.useState)("all"),[o,q]=(0,c.useState)("7");(0,c.useEffect)(()=>{r()},[o]);let r=async()=>{f(!0);let a=new Date;a.setDate(a.getDate()-parseInt(o));let{data:b,error:c}=await n.db.from("audit_logs").select(`
        *,
        profiles:user_id (
          email,
          full_name
        )
      `).gte("created_at",a.toISOString()).order("created_at",{ascending:!1}).limit(100);c?console.error("Error fetching audit logs:",c):d(b||[]),f(!1)},t=a.filter(a=>{let b=a.action.toLowerCase().includes(g.toLowerCase())||a.resource_type.toLowerCase().includes(g.toLowerCase())||a.profiles?.email.toLowerCase().includes(g.toLowerCase()),c="all"===j||a.status===j;return b&&c});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Audit Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Monitor and review system activity logs"})]}),(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([["Timestamp,User,Action,Resource,Status,IP Address",...t.map(a=>[new Date(a.created_at).toISOString(),a.profiles?.email||"Unknown",a.action,a.resource_type,a.status,a.ip_address||"N/A"].join(","))].join("\n")],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`audit-logs-${new Date().toISOString()}.csv`,c.click()},className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Export Logs"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(i.FileText,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Events"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length})]})]}),(0,b.jsxs)("p",{className:"text-slate-500 text-sm",children:["Last ",o," days"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Successful"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>"success"===a.status).length})]})]}),(0,b.jsxs)("p",{className:"text-emerald-400 text-sm",children:[a.length>0?(a.filter(a=>"success"===a.status).length/a.length*100).toFixed(1):0,"% success rate"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,b.jsx)(z.default,{className:"w-5 h-5 text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Failed"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter(a=>"failed"===a.status).length})]})]}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:a.filter(a=>"failed"===a.status).length>0?"Needs attention":"All clear"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,b.jsx)(m.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Active Users"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:new Set(a.map(a=>a.profiles?.email)).size})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Unique users"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by action, resource, or user...",value:g,onChange:a=>h(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"success",children:"Success"}),(0,b.jsx)("option",{value:"failed",children:"Failed"})]}),(0,b.jsxs)("select",{value:o,onChange:a=>q(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,b.jsx)("option",{value:"7",children:"Last 7 days"}),(0,b.jsx)("option",{value:"30",children:"Last 30 days"}),(0,b.jsx)("option",{value:"90",children:"Last 90 days"})]})]}),e?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading audit logs..."})]}):(0,b.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===t.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No audit logs found"})]}):t.map(a=>{var c,d;return(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,b.jsx)("div",{className:"text-2xl",children:(c=a.action).includes("create")?"âž•":c.includes("update")?"âœï¸":c.includes("delete")?"ðŸ—‘ï¸":c.includes("login")?"ðŸ”":"ðŸ“"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("span",{className:`font-semibold ${(d=a.action).includes("create")?"text-emerald-400":d.includes("update")?"text-blue-400":d.includes("delete")?"text-red-400":d.includes("login")?"text-cyan-400":"text-slate-400"}`,children:a.action}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold border ${"success"===a.status?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-red-500/20 text-red-400 border-red-500/50"}`,children:["success"===a.status?(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}):(0,b.jsx)(z.default,{className:"w-3 h-3"}),a.status.toUpperCase()]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-1 text-sm text-slate-400",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(M.User,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.profiles?.email||"Unknown user"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"capitalize",children:a.resource_type})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleString()})]}),a.ip_address&&(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:"font-mono text-xs",children:a.ip_address})})]}),a.error_message&&(0,b.jsx)("div",{className:"mt-2 p-2 bg-red-500/10 border border-red-500/30 rounded text-xs text-red-400",children:a.error_message})]})]})})},a.id)})})]})]})}var s=s,O=a.i(35277),O=O,P=a.i(72416),P=P,Q=a.i(73777),Q=Q,R=a.i(22644),R=R;let S=[{id:"dark",name:"Dark",description:"Dark theme for low-light environments"},{id:"light",name:"Light",description:"Light theme for bright environments"},{id:"auto",name:"Auto",description:"Automatically switch based on system"}],T=[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"ms",name:"Bahasa Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{code:"zh",name:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ta",name:"à®¤à®®à®¿à®´à¯",flag:"ðŸ‡®ðŸ‡³"}],U=["Asia/Kuala_Lumpur","Asia/Singapore","Asia/Bangkok","Asia/Jakarta","Asia/Manila","UTC"],V=["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD","DD MMM YYYY"],W=["12h","24h"],X=["MYR","USD","SGD","EUR","GBP"];function Y(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)({theme:"dark",language:"en",timezone:"Asia/Kuala_Lumpur",date_format:"DD/MM/YYYY",time_format:"24h",currency:"MYR",notifications_enabled:!0,email_notifications:!0,sms_notifications:!1,push_notifications:!0,marketing_emails:!1}),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(a){l();try{let b=n.db.channel("preferences-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_preferences",filter:`user_id=eq.${a.id}`},()=>l()).subscribe();return()=>{n.db.removeChannel(b)}}catch(a){console.log("Realtime preferences sync not available")}}},[a]),(0,c.useEffect)(()=>{if(j){let a=setTimeout(()=>k(!1),3e3);return()=>clearTimeout(a)}},[j]);let l=async()=>{if(a)try{let{data:b,error:c}=await n.db.from("user_preferences").select("*").eq("user_id",a.id).maybeSingle();if(c){if(c.message?.includes("not found")||c.message?.includes("does not exist"))return void console.log("User preferences table not available, using defaults");console.error("Error loading preferences:",c.message);return}b&&e(b)}catch(a){console.log("Error loading preferences, using defaults:",a)}finally{g(!1)}},m=async()=>{if(a){i(!0);try{let{error:b}=await n.db.from("user_preferences").upsert({user_id:a.id,...d,updated_at:new Date().toISOString()});b?b.message?.includes("not found")||b.message?.includes("does not exist")?(console.log("User preferences table not available, settings saved locally only"),k(!0)):(console.error("Error saving preferences:",b),alert("Failed to save preferences")):k(!0)}catch(a){console.log("Preferences saved locally (database not available)"),k(!0)}finally{i(!1)}}},o=(a,b)=>{e(c=>({...c,[a]:b}))};return f?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading preferences..."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Preferences"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Customize your experience"})]}),(0,b.jsx)("button",{onClick:m,disabled:h,className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}),"Saved!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R.default,{className:"w-5 h-5"}),"Save Changes"]})})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:(0,b.jsx)(P.default,{className:"w-6 h-6",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Appearance"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Customize the look and feel"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Theme"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-4",children:S.map(a=>(0,b.jsxs)("button",{onClick:()=>o("theme",a.id),className:`p-4 rounded-lg border-2 transition-all ${d.theme===a.id?"border-cyan-500 bg-cyan-500/20":"border-[#024d30] bg-[#012419]/50 hover:border-[#024d30]/80"}`,children:[(0,b.jsx)("p",{className:"text-white font-semibold mb-1",children:a.name}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:a.description})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(Q.default,{className:"w-6 h-6",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Language & Region"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Set your language and regional preferences"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Language"}),(0,b.jsx)("select",{value:d.language,onChange:a=>o("language",a.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:T.map(a=>(0,b.jsxs)("option",{value:a.code,children:[a.flag," ",a.name]},a.code))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Timezone"]}),(0,b.jsx)("select",{value:d.timezone,onChange:a=>o("timezone",a.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:U.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Date Format"]}),(0,b.jsx)("select",{value:d.date_format,onChange:a=>o("date_format",a.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:V.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Time Format"}),(0,b.jsx)("select",{value:d.time_format,onChange:a=>o("time_format",a.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:W.map(a=>(0,b.jsx)("option",{value:a,children:"12h"===a?"12-hour (AM/PM)":"24-hour"},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[(0,b.jsx)(O.default,{className:"w-4 h-4 inline mr-2",style:{color:"#40C706"}}),"Currency"]}),(0,b.jsx)("select",{value:d.currency,onChange:a=>o("currency",a.target.value),className:"w-full bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:X.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Notification Settings"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"All Notifications"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Master control for all notifications"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.notifications_enabled,onChange:a=>o("notifications_enabled",a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Email Notifications"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive updates via email"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.email_notifications,onChange:a=>o("email_notifications",a.target.checked),disabled:!d.notifications_enabled,className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600 disabled:opacity-50"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"SMS Notifications"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive updates via SMS"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.sms_notifications,onChange:a=>o("sms_notifications",a.target.checked),disabled:!d.notifications_enabled,className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600 disabled:opacity-50"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Push Notifications"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive browser push notifications"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.push_notifications,onChange:a=>o("push_notifications",a.target.checked),disabled:!d.notifications_enabled,className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600 disabled:opacity-50"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#012419]/50 border border-[#024d30] rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Marketing Emails"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Receive promotional and marketing content"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.marketing_emails,onChange:a=>o("marketing_emails",a.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]})]})]})]})}var Z=a.i(63588),$=a.i(63519),R=R;let _=[{event_type:"campaign_started",label:"Campaign Started",description:"When a new campaign begins"},{event_type:"campaign_completed",label:"Campaign Completed",description:"When a campaign finishes"},{event_type:"campaign_failed",label:"Campaign Failed",description:"When a campaign encounters errors"},{event_type:"low_balance",label:"Low Balance",description:"When account balance is running low"},{event_type:"payment_received",label:"Payment Received",description:"When a payment is processed"},{event_type:"api_key_created",label:"API Key Created",description:"When a new API key is generated"},{event_type:"api_key_revoked",label:"API Key Revoked",description:"When an API key is revoked"},{event_type:"webhook_failed",label:"Webhook Failed",description:"When a webhook delivery fails"},{event_type:"security_alert",label:"Security Alert",description:"Security-related notifications"},{event_type:"system_maintenance",label:"System Maintenance",description:"Scheduled maintenance notifications"}];function aa(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),[j,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(a){m();let b=n.db.channel("notification-prefs-changes").on("postgres_changes",{event:"*",schema:"public",table:"notification_preferences",filter:`user_id=eq.${a.id}`},()=>m()).subscribe();return()=>{n.db.removeChannel(b)}}},[a]),(0,c.useEffect)(()=>{if(j){let a=setTimeout(()=>l(!1),3e3);return()=>clearTimeout(a)}},[j]);let m=async()=>{if(!a)return;let{data:b,error:c}=await n.db.from("notification_preferences").select("*").eq("user_id",a.id);c?(console.error("Error loading notification preferences:",c),e(_.map(a=>({...a,email_enabled:!0,sms_enabled:!1,push_enabled:!0,slack_enabled:!1})))):b&&b.length>0?e(b):e(_.map(a=>({...a,email_enabled:!0,sms_enabled:!1,push_enabled:!0,slack_enabled:!1}))),g(!1)},o=(a,b,c)=>{e(d=>d.map(d=>d.event_type===a?{...d,[b]:c}:d))},p=async()=>{if(a){for(let b of(i(!0),d))await n.db.from("notification_preferences").upsert({user_id:a.id,event_type:b.event_type,email_enabled:b.email_enabled,sms_enabled:b.sms_enabled,push_enabled:b.push_enabled,slack_enabled:b.slack_enabled,updated_at:new Date().toISOString()});l(!0),i(!1)}};return f?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading notification settings..."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Notification Preferences"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Control how you receive notifications for different events"})]}),(0,b.jsx)("button",{onClick:p,disabled:h,className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-2.5 rounded-lg font-semibold transition-all disabled:opacity-50",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}),"Saved!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R.default,{className:"w-5 h-5"}),"Save Changes"]})})]}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-[#024d30]",children:[(0,b.jsx)("th",{className:"text-left py-4 px-4 text-slate-300 font-semibold",children:"Event"}),(0,b.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(r.Mail,{className:"w-4 h-4",style:{color:"#40C706"}}),"Email"]})}),(0,b.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4",style:{color:"#40C706"}}),"SMS"]})}),(0,b.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(k.Bell,{className:"w-4 h-4",style:{color:"#40C706"}}),"Push"]})}),(0,b.jsx)("th",{className:"text-center py-4 px-4 text-slate-300 font-semibold",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)($.Phone,{className:"w-4 h-4",style:{color:"#40C706"}}),"Slack"]})})]})}),(0,b.jsx)("tbody",{children:d.map((a,c)=>(0,b.jsxs)("tr",{className:`border-b border-[#024d30]/50 hover:bg-[#012419]/30 transition-colors ${c%2==0?"bg-[#012419]/10":""}`,children:[(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white font-medium",children:a.label}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.email_enabled,onChange:b=>o(a.event_type,"email_enabled",b.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.sms_enabled,onChange:b=>o(a.event_type,"sms_enabled",b.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.push_enabled,onChange:b=>o(a.event_type,"push_enabled",b.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.slack_enabled,onChange:b=>o(a.event_type,"slack_enabled",b.target.checked),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-cyan-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})})]},a.event_type))})]})})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(k.Bell,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"About Notifications"}),(0,b.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Email notifications are sent to your registered email address"}),(0,b.jsx)("li",{children:"â€¢ SMS notifications require a verified phone number"}),(0,b.jsx)("li",{children:"â€¢ Push notifications require browser permissions"}),(0,b.jsx)("li",{children:"â€¢ Slack notifications require a configured webhook"}),(0,b.jsx)("li",{children:"â€¢ You can customize preferences for each event type"})]})]})]})})]})}var l=l,u=u,K=K;let ab=[{id:"profile",label:"Profile Data",description:"Your personal information and preferences"},{id:"campaigns",label:"Campaigns",description:"All campaign data and history"},{id:"messages",label:"Messages",description:"Message logs and content"},{id:"transactions",label:"Transactions",description:"Payment and billing history"},{id:"api_keys",label:"API Keys",description:"API key information (excluding secrets)"},{id:"activity_logs",label:"Activity Logs",description:"Your activity and usage logs"}];function ac(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[m,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(a){t();let b=n.db.channel("exports-changes").on("postgres_changes",{event:"*",schema:"public",table:"data_exports",filter:`user_id=eq.${a.id}`},()=>t()).subscribe();return()=>{n.db.removeChannel(b)}}},[a]);let t=async()=>{if(!a)return;let{data:b,error:c}=await n.db.from("data_exports").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});c?console.error("Error loading exports:",c):e(b||[]),g(!1)},w=async()=>{if(!a||0===p.length)return;s(!0);let{error:b}=await n.db.from("data_exports").insert({user_id:a.id,export_type:"partial",status:"pending",data_types:p,expires_at:new Date(Date.now()+6048e5).toISOString()});b?(console.error("Error requesting export:",b),alert("Failed to request export")):(k(!1),q([]),setTimeout(async()=>{let{data:b}=await n.db.from("data_exports").select("id").eq("user_id",a.id).eq("status","pending").order("created_at",{ascending:!1}).limit(1);b&&b[0]&&await n.db.from("data_exports").update({status:"completed",file_url:`https://example.com/exports/${b[0].id}.zip`,completed_at:new Date().toISOString()}).eq("id",b[0].id)},2e3)),s(!1)};return f?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading data privacy settings..."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Data & Privacy"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage your data, exports, and privacy settings"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(l.default,{className:"w-5 h-5",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Exports"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:d.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Data exports requested"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Completed"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:d.filter(a=>"completed"===a.status).length})]})]}),(0,b.jsx)("p",{className:"text-emerald-400 text-sm",children:"Ready to download"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-lg",children:(0,b.jsx)(J.Clock,{className:"w-5 h-5 text-yellow-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Processing"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:d.filter(a=>"pending"===a.status||"processing"===a.status).length})]})]}),(0,b.jsx)("p",{className:"text-yellow-400 text-sm",children:"In progress"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:"Export Your Data"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Download a copy of your data in a portable format"})]}),(0,b.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Request Export"]})]}),0===d.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"No exports yet"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Request your first data export to get started"})]}):(0,b.jsx)("div",{className:"space-y-3",children:d.map(a=>(0,b.jsx)("div",{className:"bg-[#012419]/50 border border-[#024d30] rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold border ${(a=>{switch(a){case"completed":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"processing":return"bg-blue-500/20 text-blue-400 border-blue-500/50";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"failed":return"bg-red-500/20 text-red-400 border-red-500/50";default:return"bg-slate-500/20 text-slate-400 border-slate-500/50"}})(a.status)}`,children:["completed"===a.status&&(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"pending"===a.status&&(0,b.jsx)(J.Clock,{className:"w-3 h-3"}),a.status.toUpperCase()]}),(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:new Date(a.created_at).toLocaleString()})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.data_types.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-[#024d30]/30 text-slate-300 text-xs rounded",children:a},a))}),a.expires_at&&"completed"===a.status&&(0,b.jsxs)("p",{className:"text-slate-500 text-xs mt-2",children:["Expires: ",new Date(a.expires_at).toLocaleDateString()]})]}),"completed"===a.status&&a.file_url&&(0,b.jsxs)("a",{href:a.file_url,className:"ml-4 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download"]})]})},a.id))})]}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-500/5 border border-red-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,b.jsx)(u.default,{className:"w-5 h-5 text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-red-400 mb-1",children:"Delete Account"}),(0,b.jsx)("p",{className:"text-slate-300 text-sm",children:"Permanently delete your account and all associated data"}),(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:"This action cannot be undone. All your data will be permanently removed."})]})]}),(0,b.jsx)("button",{onClick:()=>o(!0),className:"bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete Account"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"Data Protection & Privacy"}),(0,b.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Your data is encrypted at rest and in transit"}),(0,b.jsx)("li",{children:"â€¢ Data exports are available for 7 days after completion"}),(0,b.jsx)("li",{children:"â€¢ We comply with GDPR and PDPA regulations"}),(0,b.jsx)("li",{children:"â€¢ You have the right to request data deletion at any time"}),(0,b.jsx)("li",{children:"â€¢ Export files are password-protected and encrypted"})]})]})]})}),j&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-[#012419] border border-[#024d30] rounded-xl p-6 max-w-2xl w-full",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Request Data Export"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Select the types of data you want to export"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:ab.map(a=>(0,b.jsxs)("label",{className:`flex items-start gap-3 p-4 rounded-lg border-2 cursor-pointer transition-all ${p.includes(a.id)?"border-cyan-500 bg-cyan-500/10":"border-[#024d30] bg-[#012419]/50 hover:border-[#024d30]/80"}`,children:[(0,b.jsx)("input",{type:"checkbox",checked:p.includes(a.id),onChange:()=>{var b;return b=a.id,void q(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white font-semibold",children:a.label}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]})]},a.id))}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{k(!1),q([])},className:"flex-1 bg-[#024d30]/30 hover:bg-[#024d30]/50 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:w,disabled:0===p.length||r,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Processing...":`Export ${p.length} Type${1!==p.length?"s":""}`})]})]})}),m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-[#012419] border border-red-500/50 rounded-xl p-6 max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-lg",children:(0,b.jsx)(K.default,{className:"w-6 h-6 text-red-400"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-red-400",children:"Delete Account?"})]}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:"This will permanently delete your account and all associated data. This action cannot be undone."}),(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6",children:[(0,b.jsx)("p",{className:"text-red-400 text-sm font-semibold mb-2",children:"The following will be deleted:"}),(0,b.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ All campaigns and message history"}),(0,b.jsx)("li",{children:"â€¢ API keys and integrations"}),(0,b.jsx)("li",{children:"â€¢ Payment history and transaction data"}),(0,b.jsx)("li",{children:"â€¢ All settings and preferences"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>o(!1),className:"flex-1 bg-[#024d30]/30 hover:bg-[#024d30]/50 text-white px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{alert("Account deletion would be processed here"),o(!1)},className:"flex-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 border border-red-500/50 px-4 py-2 rounded-lg font-semibold transition-colors",children:"Delete Account"})]})]})})]})}var m=m,p=p,s=s,ad=a.i(24989),ad=ad,ae=a.i(45711),ae=ae,E=E;let af={created:"bg-emerald-500/20 text-emerald-400",updated:"bg-blue-500/20 text-blue-400",deleted:"bg-red-500/20 text-red-400",login:"bg-cyan-500/20 text-cyan-400",logout:"bg-slate-500/20 text-slate-400",export:"bg-purple-500/20 text-purple-400",import:"bg-yellow-500/20 text-yellow-400"},ag={created:"âœ¨",updated:"ðŸ“",deleted:"ðŸ—‘ï¸",login:"ðŸ”“",logout:"ðŸ”’",export:"ðŸ“¤",import:"ðŸ“¥",viewed:"ðŸ‘ï¸",downloaded:"â¬‡ï¸"};function ah(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(""),[l,o]=(0,c.useState)("all"),[q,r]=(0,c.useState)("all"),[t,u]=(0,c.useState)("all"),[v,w]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(a){x();let b=n.db.channel("activity-logs-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"activity_logs",filter:`user_id=eq.${a.id}`},a=>{e(b=>[a.new,...b])}).subscribe();return()=>{n.db.removeChannel(b)}}},[a]),(0,c.useEffect)(()=>{z()},[d,j,l,q,t]);let x=async()=>{if(!a)return;i(!0);let{data:b,error:c}=await n.db.from("activity_logs").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(100);c?console.error("Error loading activity logs:",c):e(b||[]),i(!1)},y=async()=>{w(!0),await x(),setTimeout(()=>w(!1),500)},z=()=>{let a=[...d];if(j&&(a=a.filter(a=>a.action.toLowerCase().includes(j.toLowerCase())||a.resource_type.toLowerCase().includes(j.toLowerCase())||a.ip_address?.toLowerCase().includes(j.toLowerCase()))),"all"!==l&&(a=a.filter(a=>a.action===l)),"all"!==q&&(a=a.filter(a=>a.resource_type===q)),"all"!==t){let b=new Date,c=new Date;switch(t){case"1h":c.setHours(b.getHours()-1);break;case"24h":c.setHours(b.getHours()-24);break;case"7d":c.setDate(b.getDate()-7);break;case"30d":c.setDate(b.getDate()-30)}a=a.filter(a=>new Date(a.created_at)>=c)}g(a)},A=Array.from(new Set(d.map(a=>a.action))),B=Array.from(new Set(d.map(a=>a.resource_type)));return h?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading activity logs..."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Activity Logs"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Monitor your account activity in real-time"})]}),(0,b.jsxs)("button",{onClick:y,disabled:v,className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-all disabled:opacity-50",children:[(0,b.jsx)(E.default,{className:`w-4 h-4 ${v?"animate-spin":""}`}),"Refresh"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-lg",children:(0,b.jsx)(m.default,{className:"w-5 h-5",style:{color:"#40C706"}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total Events"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:d.length})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"All time"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(s.default,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Last 24h"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:d.filter(a=>new Date(a.created_at)>new Date(Date.now()-864e5)).length})]})]}),(0,b.jsx)("p",{className:"text-blue-400 text-sm",children:"Recent activity"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-lg",children:(0,b.jsx)(ad.default,{className:"w-5 h-5 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Unique IPs"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:new Set(d.map(a=>a.ip_address).filter(Boolean)).size})]})]}),(0,b.jsx)("p",{className:"text-purple-400 text-sm",children:"Locations"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-emerald-500/20 p-3 rounded-lg",children:(0,b.jsx)(ae.default,{className:"w-5 h-5 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Actions"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:A.length})]})]}),(0,b.jsx)("p",{className:"text-emerald-400 text-sm",children:"Types"})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),placeholder:"Search activity...",className:"w-full bg-[#012419] border border-[#024d30] rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})}),(0,b.jsxs)("select",{value:l,onChange:a=>o(a.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"all",children:"All Actions"}),A.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"all",children:"All Resources"}),B.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:"bg-[#012419] border border-[#024d30] rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"all",children:"All Time"}),(0,b.jsx)("option",{value:"1h",children:"Last Hour"}),(0,b.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,b.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,b.jsx)("option",{value:"30d",children:"Last 30 Days"})]})]}),0===f.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(m.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"No activity logs found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Try adjusting your filters"})]}):(0,b.jsx)("div",{className:"space-y-2",children:f.map(a=>{let c,d,e,f,g;return(0,b.jsx)("div",{className:"bg-[#012419]/50 border border-[#024d30] rounded-lg p-4 hover:bg-[#012419]/70 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"text-2xl",children:ag[a.action]||"ðŸ“‹"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-semibold ${af[a.action]||"bg-slate-500/20 text-slate-400"}`,children:a.action.toUpperCase()}),(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:(c=new Date(a.created_at),g=Math.floor((f=Math.floor((e=Math.floor((d=Math.floor((new Date().getTime()-c.getTime())/1e3))/60))/60))/24),d<60?"Just now":e<60?`${e}m ago`:f<24?`${f}h ago`:g<7?`${g}d ago`:c.toLocaleDateString())}),(0,b.jsx)("span",{className:"text-slate-500 text-sm",children:"â€¢"}),(0,b.jsx)("span",{className:"text-slate-400 text-sm capitalize",children:a.resource_type}),a.resource_id&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-slate-500 text-sm",children:"â€¢"}),(0,b.jsxs)("span",{className:"text-slate-500 text-xs font-mono",children:[a.resource_id.substring(0,8),"..."]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[a.ip_address&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(ad.default,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"font-mono",children:a.ip_address})]}),a.user_agent&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(ae.default,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"truncate max-w-[300px]",children:a.user_agent})]})]})]})]})},a.id)})})]}),(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(m.default,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-blue-400 font-semibold mb-2",children:"About Activity Logs"}),(0,b.jsxs)("ul",{className:"text-slate-300 text-sm space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Activity logs are updated in real-time"}),(0,b.jsx)("li",{children:"â€¢ Logs are retained for 90 days"}),(0,b.jsx)("li",{children:"â€¢ Includes IP addresses and user agents for security"}),(0,b.jsx)("li",{children:"â€¢ Can be exported along with your data"}),(0,b.jsx)("li",{children:"â€¢ Helps you monitor unauthorized access"})]})]})]})})]})}let ai=[{id:"preferences",label:"Preferences",icon:j.Settings},{id:"users",label:"User Management",icon:e.default},{id:"access",label:"Access Management",icon:f.default},{id:"integrations",label:"Integrations",icon:g.default},{id:"security",label:"Security",icon:h.Shield},{id:"notifications",label:"Notifications",icon:k.Bell},{id:"privacy",label:"Data & Privacy",icon:l.default},{id:"activity",label:"Activity",icon:m.default},{id:"audit",label:"Audit Logs",icon:i.FileText}];function aj(){let[a,d]=(0,c.useState)("preferences");return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-[#013221] p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Settings"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your platform configuration and preferences"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-[#012419]/50 to-[#012419]/30 backdrop-blur-sm border border-[#024d30] rounded-2xl overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-[#024d30]",children:(0,b.jsx)("div",{className:"flex overflow-x-auto",children:ai.map(c=>{let e=c.icon,f=a===c.id;return(0,b.jsxs)("button",{onClick:()=>d(c.id),className:`flex items-center gap-3 px-6 py-4 font-medium transition-all relative whitespace-nowrap ${f?"text-cyan-400 bg-[#024d30]/50":"text-slate-400 hover:text-white hover:bg-[#024d30]/30"}`,children:[(0,b.jsx)(e,{className:"w-5 h-5",style:{color:"#40C706"}}),c.label,f&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-cyan-500 to-blue-500"})]},c.id)})})}),(0,b.jsx)("div",{className:"p-8",children:(()=>{switch(a){case"preferences":default:return(0,b.jsx)(Y,{});case"users":return(0,b.jsx)(x,{});case"access":return(0,b.jsx)(D,{});case"integrations":return(0,b.jsx)(G,{});case"security":return(0,b.jsx)(L,{});case"notifications":return(0,b.jsx)(aa,{});case"privacy":return(0,b.jsx)(ac,{});case"activity":return(0,b.jsx)(ah,{});case"audit":return(0,b.jsx)(N,{})}})()})]})]})}var ak=a.i(83497),p=p,al=a.i(53405),al=al,am=a.i(38784),an=a.i(34157),an=an,ao=a.i(2173),ao=ao,ap=a.i(64791),aq=a.i(82434),ar=a.i(24669),e=e,as=a.i(46157),as=as,at=a.i(97063),au=a.i(84452),au=au;function av(){let a,{user:d}=(0,H.useAuth)(),[f,g]=(0,c.useState)([]),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)("All"),[m,o]=(0,c.useState)(null),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[x,y]=(0,c.useState)("grid"),z=[{id:"All",name:"All Products",icon:ak.Package,color:"cyan"},{id:"Messaging",name:"Messaging",icon:Z.MessageSquare,color:"blue"},{id:"Voice",name:"Voice & Calling",icon:$.Phone,color:"green"},{id:"Video",name:"Video",icon:ap.Video,color:"purple"},{id:"Bot",name:"AI & Bots",icon:aq.Bot,color:"orange"},{id:"Social",name:"Social",icon:e.default,color:"pink"}];(0,c.useEffect)(()=>{A()},[]),(0,c.useEffect)(()=>{if(u){let a=setTimeout(()=>v(null),5e3);return()=>clearTimeout(a)}},[u]);let A=async()=>{r(!0);try{let{data:a,error:b}=await n.db.from("products").select("*").eq("status","active").order("name");if(b)throw b;let{data:c,error:d}=await n.db.from("product_tiers").select("*").order("sort_order");if(d)throw d;let e=(a||[]).map(a=>({...a,features:a.features||[],tiers:(c||[]).filter(b=>b.product_id===a.id)}));g(e)}catch(a){console.error("Error loading products:",a)}finally{r(!1)}},B=async(a,b)=>{if(!d)return void v({type:"error",message:"Please log in to add items to cart"});t(b.id);try{let c=Number(b.price)+Number(b.setup_fee),{error:e}=await n.db.from("cart_items").insert({user_id:d.id,item_type:"product_tier",item_data:{product_name:a.name,product_sku:a.sku,tier_name:b.tier_name,tier_sku:b.tier_sku,description:b.description,price:b.price,setup_fee:b.setup_fee,price_unit:b.price_unit,features:b.features,support_level:b.support_level},quantity:1,unit_price:c,total_price:c});if(e)throw e;v({type:"success",message:`${a.name} (${b.tier_name}) added to cart`})}catch(a){console.error("Error adding to cart:",a),v({type:"error",message:a.message||"Failed to add to cart"})}finally{t(null)}},C=f.filter(a=>{let b=a.name.toLowerCase().includes(i.toLowerCase())||a.description.toLowerCase().includes(i.toLowerCase())||a.sku.toLowerCase().includes(i.toLowerCase()),c="All"===k||a.category===k;return b&&c}),D=a=>{switch(a){case"Messaging":return"from-blue-500/20 to-cyan-500/20 border-blue-500/30";case"Social":return"from-pink-500/20 to-rose-500/20 border-pink-500/30";case"Voice":return"from-green-500/20 to-emerald-500/20 border-green-500/30";case"Video":return"from-purple-500/20 to-violet-500/20 border-purple-500/30";case"Bot":return"from-orange-500/20 to-amber-500/20 border-orange-500/30";default:return"from-slate-500/20 to-slate-600/20 border-slate-500/30"}},E=a=>{switch(a){case"Messaging":return"text-blue-400";case"Social":return"text-pink-400";case"Voice":return"text-green-400";case"Video":return"text-purple-400";case"Bot":return"text-orange-400";default:return"text-slate-400"}},F=a=>{switch(a){case"Basic":default:return"bg-slate-500/20 text-slate-300 border-slate-500/50";case"Standard":return"bg-blue-500/20 text-blue-300 border-blue-500/50";case"Premium":return"bg-purple-500/20 text-purple-300 border-purple-500/50";case"Enterprise":return"bg-gradient-to-r from-orange-500/20 to-amber-500/20 text-orange-300 border-orange-500/50"}},G=a=>{let b=z.find(b=>b.id===a);return b?.icon||ak.Package};return q?(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading products..."})]})}):(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,b.jsxs)("div",{className:"relative bg-gradient-to-br from-cyan-500/10 via-blue-500/10 to-purple-500/10 border-b border-slate-700",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"}),(0,b.jsx)("div",{className:"relative p-8 md:p-12",children:(0,b.jsxs)("div",{className:"max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-xl",children:(0,b.jsx)(ak.Package,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h1",{className:"text-5xl font-bold text-white",children:"Product Catalog"})]}),(0,b.jsx)("p",{className:"text-xl text-slate-300 mb-6",children:"Explore our comprehensive suite of communication APIs and services. Choose the perfect plan for your business needs."}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:"99.9% Uptime"}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Enterprise SLA"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(I.Globe,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:"Global Coverage"}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"200+ Countries"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:"Secure & Compliant"}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"SOC 2, GDPR"})]})]})]})]})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search products...",value:i,onChange:a=>j(a.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl pl-12 pr-4 py-3.5 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"}),i&&(0,b.jsx)("button",{onClick:()=>j(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:z.map(a=>{let c=a.icon,d=k===a.id;return(0,b.jsxs)("button",{onClick:()=>l(a.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border-2 font-medium whitespace-nowrap transition-all ${d?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border-cyan-500 text-cyan-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600 hover:text-slate-300"}`,children:[(0,b.jsx)(c,{className:"w-5 h-5"}),a.name]},a.id)})})]}),(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsxs)("p",{className:"text-slate-400",children:["Showing ",(0,b.jsx)("span",{className:"text-white font-semibold",children:C.length})," product",1!==C.length?"s":""]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:C.map(a=>{var c,d;let e=G(a.category);return(0,b.jsxs)("div",{className:"group bg-slate-800/50 border border-slate-700 rounded-2xl overflow-hidden hover:border-slate-600 transition-all hover:shadow-xl hover:shadow-cyan-500/10 cursor-pointer",onClick:()=>o(a),children:[(0,b.jsxs)("div",{className:`bg-gradient-to-br ${D(a.category)} border-b p-6`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-800/50 rounded-xl border border-slate-700/50",children:(0,b.jsx)(e,{className:`w-8 h-8 ${E(a.category)}`})}),(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-900/50 text-slate-300 text-xs font-medium rounded-full border border-slate-700",children:a.category})]}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:a.name}),(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(al.default,{className:"w-4 h-4 text-slate-500"}),(0,b.jsx)("span",{className:"text-xs font-mono text-slate-400",children:a.sku})]})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2 mb-4",children:[(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Starting from"}),(0,b.jsx)("span",{className:"text-3xl font-bold text-white",children:a.tiers.length>0?(c=a.tiers[0].price,"month"===(d=a.tiers[0].price_unit)?`RM ${c.toFixed(2)}/mo`:`RM ${c.toFixed(4)}/${d}`):"N/A"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,b.jsx)("div",{className:"flex -space-x-2",children:a.tiers.slice(0,4).map((a,c)=>(0,b.jsx)("div",{className:`w-8 h-8 rounded-full border-2 border-slate-800 flex items-center justify-center text-xs font-bold ${F(a.tier_name)}`,title:a.tier_name,children:a.tier_name[0]},a.id))}),(0,b.jsxs)("span",{className:"text-sm text-slate-400",children:[a.tiers.length," pricing tier",1!==a.tiers.length?"s":""]})]}),(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),o(a)},className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 group",children:["View Plans",(0,b.jsx)(au.default,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})]},a.id)})}),0===C.length&&(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-16 text-center",children:(0,b.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(ak.Package,{className:"w-10 h-10 text-slate-500"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-3",children:"No products found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"We couldn't find any products matching your search criteria. Try adjusting your filters or search terms."}),(0,b.jsx)("button",{onClick:()=>{j(""),l("All")},className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Clear Filters"})]})})]}),m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-7xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:`bg-gradient-to-br ${D(m.category)} border-b border-slate-700 p-8 sticky top-0 z-10`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 flex-1",children:[(0,b.jsx)("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:(a=G(m.category),(0,b.jsx)(a,{className:`w-10 h-10 ${E(m.category)}`}))}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h2",{className:"text-4xl font-bold text-white",children:m.name}),(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-900/50 text-slate-300 text-sm font-medium rounded-full border border-slate-700",children:m.category})]}),(0,b.jsx)("p",{className:"text-slate-300 text-lg mb-3",children:m.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(al.default,{className:"w-4 h-4 text-slate-500"}),(0,b.jsx)("span",{className:"text-sm font-mono text-slate-400",children:m.sku})]})]})]}),(0,b.jsx)("button",{onClick:()=>o(null),className:"p-2 hover:bg-slate-800/50 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]})}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[(0,b.jsx)(as.default,{className:"w-7 h-7 text-cyan-400"}),"Choose Your Plan"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:m.tiers.map(a=>(0,b.jsxs)("div",{className:`relative bg-slate-800/50 border-2 rounded-2xl p-6 transition-all hover:scale-105 ${a.is_popular?"border-cyan-500 shadow-lg shadow-cyan-500/25":"border-slate-700 hover:border-slate-600"}`,children:[a.is_popular&&(0,b.jsx)("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:(0,b.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-xs font-bold px-4 py-1.5 rounded-full flex items-center gap-1 shadow-lg",children:[(0,b.jsx)(ao.default,{className:"w-3 h-3 fill-current"}),"MOST POPULAR"]})}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("div",{className:`inline-block px-3 py-1.5 rounded-lg text-sm font-bold mb-4 border ${F(a.tier_name)}`,children:a.tier_name}),(0,b.jsxs)("div",{className:"flex items-baseline gap-2 mb-2",children:[(0,b.jsxs)("span",{className:"text-4xl font-bold text-white",children:["RM ",a.price.toFixed(2)]}),(0,b.jsxs)("span",{className:"text-slate-400",children:["/",a.price_unit]})]}),a.setup_fee>0&&(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:["+ RM ",a.setup_fee.toFixed(2)," setup fee"]}),(0,b.jsx)("p",{className:"text-sm text-slate-300 mt-3 min-h-[40px]",children:a.description})]}),(0,b.jsxs)("div",{className:"mb-6 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(h.Shield,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),(0,b.jsxs)("span",{className:"text-slate-300",children:[a.support_level," Support"]})]}),a.max_users&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(e.default,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),(0,b.jsxs)("span",{className:"text-slate-300",children:["Up to ",a.max_users.toLocaleString()," users"]})]}),a.max_volume&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(ar.TrendingUp,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),(0,b.jsxs)("span",{className:"text-slate-300",children:[a.max_volume.toLocaleString()," volume"]})]}),a.features&&Object.entries(a.features).slice(0,3).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,b.jsx)(an.default,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("span",{className:"text-slate-300",children:[a.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()),": ","boolean"==typeof c?c?"Yes":"No":c.toString()]})]},a))]}),(0,b.jsx)("button",{onClick:()=>B(m,a),disabled:s===a.id,className:`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${a.is_popular?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white shadow-lg shadow-cyan-500/25":"bg-slate-700 hover:bg-slate-600 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:s===a.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Adding..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(am.ShoppingCart,{className:"w-5 h-5"}),"Buy Now"]})})]},a.id))}),(0,b.jsx)("div",{className:"mt-8 bg-blue-500/10 border border-blue-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(at.Info,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-2",children:"Need help choosing?"}),(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Our sales team can help you find the perfect plan for your business needs."}),(0,b.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Contact Sales"})]})]})})]})]})}),u&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,b.jsx)("div",{className:`${"success"===u.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-xl p-4 max-w-md shadow-xl`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===u.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===u.type?(0,b.jsx)(an.default,{className:"w-5 h-5 text-white"}):(0,b.jsx)(w.X,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===u.type?"text-green-400":"text-red-400"}`,children:"success"===u.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1",children:u.message})]}),(0,b.jsx)("button",{onClick:()=>v(null),className:"text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})})})]})}var aw=a.i(11156),l=l,O=O,s=s,y=y,l=l,ax=a.i(95739),ax=ax,ay=a.i(74815),ay=ay,az=a.i(73417),az=az;function aA({invoiceId:a,onClose:d}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)([]),[j,k]=(0,c.useState)(null),[m,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)("");(0,c.useEffect)(()=>{s()},[a]);let s=async()=>{try{let{data:b,error:c}=await n.db.from("invoices").select("*").eq("id",a).single();if(c)throw c;let{data:d,error:e}=await n.db.from("invoice_items").select("*").eq("invoice_id",a);if(e)throw e;let{data:g}=await n.db.from("company_settings").select("*").limit(1).maybeSingle(),i={company_name:"RAPIDACOM SDN BHD",company_registration_number:"202201234567 (1234567-A)",sst_registration_number:"W10-1808-32000123",tin:"202201234567",msic_code:"61100",address_line1:"Level 10, Menara RapidaCOM",address_line2:"Jalan Sultan Ismail",city:"Kuala Lumpur",state:"Wilayah Persekutuan",postal_code:"50250",country:"Malaysia",phone:"+603-2181-8888",email:"billing@rapidacom.com",bank_name:"Malayan Banking Berhad (Maybank)",bank_account_number:"514012345678",bank_account_name:"RAPIDACOM SDN BHD"},j=b.myinvois_uuid||t(b.invoice_number),l=b.myinvois_validation_link||`https://myinvois.hasil.gov.my/verify/${j}`,m={...b,myinvois_uuid:j,myinvois_submission_date:b.myinvois_submission_date||b.invoice_date,myinvois_validation_link:l};f(m),h(d||[]),k(g||i);let o=u(m,g||i);q(o)}catch(a){console.error("Error loading invoice:",a),alert("Failed to load invoice")}finally{o(!1)}},t=a=>{let b=Date.now().toString(36),c=Math.random().toString(36).substring(2,15);return`${a}-${b}-${c}`.toUpperCase()},u=(a,b)=>{let c=[b.company_name,b.company_registration_number,a.myinvois_uuid||"",a.invoice_date,a.total_amount.toFixed(2),a.sst_amount.toFixed(2),a.myinvois_validation_link||""].join("|");return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(c)}`},v=async()=>{alert("Email functionality will be implemented with email service integration")};return m?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white rounded-lg p-8",children:(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"})})}):e&&j?(0,b.jsxs)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"print:hidden flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Malaysian E-Invoice"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"MyInvois Compliant"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:v,className:"p-2 text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Email Invoice",children:(0,b.jsx)(r.Mail,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{let a=window.open("","","width=800,height=600");if(!a)return;let b=document.getElementById("invoice-content");b&&(a.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${e?.invoice_number}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
              padding: 20px;
              color: #1e293b;
            }
            .invoice-container {
              max-width: 800px;
              margin: 0 auto;
              background: white;
            }
            .invoice-header {
              border-bottom: 2px solid #0ea5e9;
              padding-bottom: 20px;
              margin-bottom: 30px;
            }
            .company-info h1 {
              font-size: 24px;
              font-weight: bold;
              color: #0ea5e9;
              margin-bottom: 8px;
            }
            .company-info p {
              font-size: 13px;
              color: #64748b;
              line-height: 1.6;
            }
            .invoice-details {
              display: flex;
              justify-content: space-between;
              margin-bottom: 30px;
            }
            .invoice-meta h2 {
              font-size: 28px;
              font-weight: bold;
              color: #0f172a;
              margin-bottom: 12px;
            }
            .invoice-meta .meta-item {
              display: flex;
              gap: 12px;
              margin-bottom: 6px;
            }
            .invoice-meta .label {
              font-size: 13px;
              color: #64748b;
              width: 120px;
            }
            .invoice-meta .value {
              font-size: 13px;
              color: #0f172a;
              font-weight: 500;
            }
            .status-badge {
              display: inline-block;
              padding: 4px 12px;
              border-radius: 12px;
              font-size: 11px;
              font-weight: 600;
              text-transform: uppercase;
              background: #dcfce7;
              color: #166534;
            }
            .customer-section {
              background: #f8fafc;
              padding: 20px;
              border-radius: 8px;
              margin-bottom: 30px;
            }
            .customer-section h3 {
              font-size: 14px;
              font-weight: 600;
              color: #0f172a;
              margin-bottom: 12px;
            }
            .customer-section p {
              font-size: 13px;
              color: #475569;
              line-height: 1.6;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-bottom: 30px;
            }
            thead {
              background: #0ea5e9;
              color: white;
            }
            th {
              padding: 12px;
              text-align: left;
              font-size: 12px;
              font-weight: 600;
              text-transform: uppercase;
            }
            td {
              padding: 12px;
              border-bottom: 1px solid #e2e8f0;
              font-size: 13px;
            }
            tbody tr:hover {
              background: #f8fafc;
            }
            .text-right {
              text-align: right;
            }
            .summary {
              max-width: 350px;
              margin-left: auto;
            }
            .summary-row {
              display: flex;
              justify-content: space-between;
              padding: 8px 0;
              font-size: 13px;
            }
            .summary-row.total {
              border-top: 2px solid #0ea5e9;
              padding-top: 12px;
              margin-top: 8px;
              font-size: 16px;
              font-weight: bold;
              color: #0ea5e9;
            }
            .footer {
              margin-top: 40px;
              padding-top: 20px;
              border-top: 1px solid #e2e8f0;
            }
            .footer p {
              font-size: 12px;
              color: #64748b;
              line-height: 1.6;
            }
            .qr-section {
              text-align: center;
              margin-top: 30px;
              padding: 20px;
              background: #f8fafc;
              border-radius: 8px;
            }
            .qr-section p {
              font-size: 11px;
              color: #64748b;
              margin-top: 8px;
            }
            @media print {
              body { padding: 0; }
              .no-print { display: none; }
            }
          </style>
        </head>
        <body>
          ${b.innerHTML}
        </body>
      </html>
    `),a.document.close(),a.focus(),setTimeout(()=>{a.print(),a.close()},250))},className:"p-2 text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Download as PDF",children:(0,b.jsx)(l.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{if(!e)return;let a=new Blob([JSON.stringify({invoice:e,items:g,company:j,generated_at:new Date().toISOString()},null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`invoice-${e.invoice_number}.json`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},className:"p-2 text-slate-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download JSON Data",children:(0,b.jsx)(i.FileText,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{if(!e||!g.length)return;let a="Invoice Details\n";a+=`Invoice Number,${e.invoice_number}
Invoice Date,${e.invoice_date}
Due Date,${e.due_date}
Customer,${e.customer_name}
Status,${e.status}

Line Items
Description,Quantity,Unit Price,Amount
`,g.forEach(b=>{a+=`"${b.description}",${b.quantity},${b.unit_price},${b.amount}
`});let b=new Blob([a+=`
Summary
Subtotal,${e.subtotal}
SST (${e.sst_rate}%),${e.sst_amount}
Total,${e.total_amount}
`],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`invoice-${e.invoice_number}.csv`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)},className:"p-2 text-slate-600 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Download CSV",children:(0,b.jsx)(az.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{window.print()},className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",title:"Print",children:(0,b.jsx)(ax.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:d,className:"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,b.jsxs)("div",{className:"p-8 bg-white",id:"invoice-content",children:[(0,b.jsx)("div",{className:"mb-6 pb-6 border-b-4 border-emerald-600",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-1",children:j.company_name}),(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["Co. Reg. No.: ",j.company_registration_number]}),j.sst_registration_number&&(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["SST Reg. No.: ",j.sst_registration_number]}),j.tin&&(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["TIN: ",j.tin]}),j.msic_code&&(0,b.jsxs)("p",{className:"text-sm text-slate-600 font-semibold mb-3",children:["MSIC Code: ",j.msic_code]}),(0,b.jsxs)("div",{className:"text-slate-600 text-sm space-y-0.5 mt-2",children:[(0,b.jsx)("p",{children:j.address_line1}),j.address_line2&&(0,b.jsx)("p",{children:j.address_line2}),(0,b.jsxs)("p",{children:[j.postal_code," ",j.city]}),(0,b.jsxs)("p",{children:[j.state,", ",j.country]}),(0,b.jsxs)("p",{className:"mt-2",children:["Tel: ",j.phone]}),(0,b.jsxs)("p",{children:["Email: ",j.email]})]})]}),(0,b.jsxs)("div",{className:"text-right ml-6",children:[p&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("img",{src:p,alt:"MyInvois QR Code",className:"w-32 h-32 mx-auto border-2 border-slate-200 rounded"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Scan to verify"})]}),(0,b.jsx)("span",{className:`inline-block px-4 py-2 rounded-lg text-sm font-bold border-2 ${(a=>{switch(a){case"paid":return"bg-emerald-100 text-emerald-800 border-emerald-300";case"issued":return"bg-blue-100 text-blue-800 border-blue-300";case"overdue":return"bg-red-100 text-red-800 border-red-300";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-slate-100 text-slate-800 border-slate-300"}})(e.status)}`,children:e.status.toUpperCase()})]})]})}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"bg-emerald-50 border-2 border-emerald-600 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(ay.default,{className:"w-5 h-5 text-emerald-600"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-emerald-900",children:"TAX INVOICE / E-INVOICE"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"MyInvois UUID:"}),(0,b.jsx)("p",{className:"font-mono text-xs text-slate-900 break-all",children:e.myinvois_uuid})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Submission Date:"}),(0,b.jsx)("p",{className:"text-slate-900",children:new Date(e.myinvois_submission_date||e.invoice_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.myinvois_validation_link&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold text-sm",children:"Validation:"}),(0,b.jsx)("p",{className:"text-xs text-blue-600 break-all",children:e.myinvois_validation_link})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded",children:"Bill To"}),(0,b.jsxs)("div",{className:"text-slate-900",children:[(0,b.jsx)("p",{className:"font-bold text-lg mb-1",children:e.customer_name}),e.customer_company&&(0,b.jsx)("p",{className:"font-semibold text-slate-700",children:e.customer_company}),e.customer_registration_number&&(0,b.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["Co. Reg. No.: ",e.customer_registration_number]}),e.customer_tin&&(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:["TIN: ",e.customer_tin]}),e.customer_sst_number&&(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:["SST No.: ",e.customer_sst_number]}),e.customer_address&&(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-2 whitespace-pre-line",children:e.customer_address}),(0,b.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:e.customer_email})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded",children:"Invoice Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Invoice No.:"}),(0,b.jsx)("span",{className:"font-bold text-slate-900",children:e.invoice_number})]}),(0,b.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Invoice Date:"}),(0,b.jsx)("span",{className:"text-slate-900",children:new Date(e.invoice_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex justify-between border-b border-slate-200 pb-1",children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Due Date:"}),(0,b.jsx)("span",{className:"text-slate-900",children:new Date(e.due_date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Currency:"}),(0,b.jsx)("span",{className:"text-slate-900 font-bold",children:e.currency})]})]})]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("table",{className:"w-full border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-slate-800 text-white",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-bold text-sm",children:"Description"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 font-bold text-sm",children:"Qty"}),(0,b.jsxs)("th",{className:"text-right py-3 px-4 font-bold text-sm",children:["Unit Price",(0,b.jsx)("br",{}),(0,b.jsxs)("span",{className:"text-xs",children:["(",e.currency,")"]})]}),(0,b.jsxs)("th",{className:"text-right py-3 px-4 font-bold text-sm",children:["Amount",(0,b.jsx)("br",{}),(0,b.jsxs)("span",{className:"text-xs",children:["(",e.currency,")"]})]})]})}),(0,b.jsx)("tbody",{children:g.map((a,c)=>(0,b.jsxs)("tr",{className:`border-b border-slate-200 ${c%2==0?"bg-slate-50":"bg-white"}`,children:[(0,b.jsxs)("td",{className:"py-3 px-4 text-slate-900",children:[(0,b.jsx)("p",{className:"font-medium",children:a.description}),a.classification_code&&(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Classification: ",a.classification_code]})]}),(0,b.jsx)("td",{className:"text-center py-3 px-4 text-slate-900",children:a.quantity}),(0,b.jsx)("td",{className:"text-right py-3 px-4 text-slate-900",children:a.unit_price.toFixed(2)}),(0,b.jsx)("td",{className:"text-right py-3 px-4 text-slate-900 font-semibold",children:a.amount.toFixed(2)})]},a.id))})]})}),(0,b.jsx)("div",{className:"flex justify-end mb-6",children:(0,b.jsxs)("div",{className:"w-96",children:[(0,b.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-slate-700 text-sm",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Subtotal:"}),(0,b.jsxs)("span",{className:"font-bold",children:[e.currency," ",e.subtotal.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-slate-700 text-sm border-t border-slate-300 pt-2",children:[(0,b.jsxs)("span",{className:"font-semibold",children:["Sales & Service Tax (SST @ ",e.sst_rate,"%):"]}),(0,b.jsxs)("span",{className:"font-bold",children:[e.currency," ",e.sst_amount.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold text-white bg-emerald-600 px-4 py-3 rounded-lg mt-3",children:[(0,b.jsx)("span",{children:"TOTAL AMOUNT:"}),(0,b.jsxs)("span",{children:[e.currency," ",e.total_amount.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"text-center text-xs text-slate-600 mt-2",children:[(0,b.jsx)("p",{className:"font-semibold",children:"Amount in Words:"}),(0,b.jsxs)("p",{className:"italic",children:[function(a){if(0===a)return"Zero";let[b,c]=a.toFixed(2).split("."),d=parseInt(b),e="";if(d>=1e6){e+=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"][Math.floor(d/1e6)]+" Million ";let a=d%1e6;a>0&&(e+=aB(a))}else e=aB(d);return parseInt(c)>0&&(e+=` and ${c}/100`),e.trim()}(e.total_amount)," ",e.currency," Only"]})]})]})}),e.notes&&(0,b.jsxs)("div",{className:"mb-6 p-4 bg-amber-50 border-l-4 border-amber-400 rounded",children:[(0,b.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Notes:"}),(0,b.jsx)("p",{className:"text-slate-700 text-sm whitespace-pre-line",children:e.notes})]}),(0,b.jsxs)("div",{className:"border-t-2 border-slate-300 pt-6 mb-4",children:[(0,b.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Payment Terms & Conditions:"}),(0,b.jsx)("p",{className:"text-slate-600 text-sm mb-4",children:e.payment_terms}),j.bank_name&&j.bank_account_number&&(0,b.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-lg p-4 mb-4",children:[(0,b.jsxs)("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),"Bank Transfer Details:"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Bank Name:"}),(0,b.jsx)("p",{className:"font-bold text-slate-900",children:j.bank_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Account Number:"}),(0,b.jsx)("p",{className:"font-bold text-slate-900",children:j.bank_account_number})]}),j.bank_account_name&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-slate-600 font-semibold",children:"Account Name:"}),(0,b.jsx)("p",{className:"font-bold text-slate-900",children:j.bank_account_name})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded p-3 text-xs text-slate-600",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Important Information:"}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,b.jsx)("li",{children:"This is a computer-generated e-invoice and does not require a signature"}),(0,b.jsx)("li",{children:"This invoice has been submitted to MyInvois portal in compliance with Malaysian Digital Economy regulations"}),(0,b.jsx)("li",{children:"Payment should be made to the bank account specified above"}),(0,b.jsx)("li",{children:"Please quote the invoice number in your payment reference"}),(0,b.jsxs)("li",{children:["For any queries, please contact us at ",j.email," or ",j.phone]})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 pt-4 border-t border-slate-300 text-center",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"This E-Invoice is MyInvois Compliant"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Generated on: ",new Date().toLocaleString("en-MY")]})]})]})})]}),(0,b.jsx)("style",{children:`
        @media print {
          body * {
            visibility: hidden;
          }
          #invoice-content,
          #invoice-content * {
            visibility: visible;
          }
          #invoice-content {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }
          @page {
            size: A4;
            margin: 15mm;
          }
        }
      `})]}):(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[(0,b.jsx)("p",{className:"text-slate-900 text-center mb-4",children:"Invoice not found"}),(0,b.jsx)("button",{onClick:d,className:"w-full bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700",children:"Close"})]})})}function aB(a){let b="";return a>=1e3&&(b+=aC(Math.floor(a/1e3))+" Thousand ",a%=1e3),a>0&&(b+=aC(a)),b}function aC(a){let b=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],c="";if(a>=100&&(c+=b[Math.floor(a/100)]+" Hundred ",a%=100),a>=20)c+=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(a/10)]+" ",a%=10;else if(a>=10)return c+(["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"][a-10]+" ");return a>0&&(c+=b[a]+" "),c}function aD(){let{user:a,profile:d}=(0,H.useAuth)(),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(""),[k,m]=(0,c.useState)("add"),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,x]=(0,c.useState)(""),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(null),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&(P(),Q())},[a]);let P=async()=>{let{data:a,error:b}=await n.db.from("transactions").select("*").order("created_at",{ascending:!1}).limit(10);!b&&a&&C(a.map(a=>({id:a.id,date:a.created_at,description:a.description,amount:Math.abs(Number(a.amount)),status:"paid",type:a.type}))),A(!1)},Q=async()=>{let{data:a,error:b}=await n.db.from("payment_methods").select("*").order("is_primary",{ascending:!1});if(!b&&a){E(a);let b=a.find(a=>a.is_primary);b&&G(b.id)}},R=B.length>0?B:[{id:"1",date:"2024-12-20",description:"SMS API Campaign - December",amount:10890,status:"paid"},{id:"2",date:"2024-12-18",description:"Whatsapp API Usage",amount:8402.5,status:"paid"},{id:"3",date:"2024-12-15",description:"Voice Calls - Q4",amount:3001.25,status:"paid"},{id:"4",date:"2024-12-10",description:"RCS API Messaging",amount:5555,status:"paid"},{id:"5",date:"2024-12-05",description:"Email API Credits",amount:555,status:"paid"}],S=R.reduce((a,b)=>a+b.amount,0),T=d?.balance||0,U=(a,b)=>{if(m(a),"update"===a&&b){let a=D.find(a=>a.id===b);a&&(p(`**** **** **** ${a.last_four}`),r(a.cardholder_name),u(`${a.expiry_month}/${a.expiry_year}`),x(""),G(b))}else p(""),r(""),u(""),x(""),G(null);f(!0)},V=()=>{f(!1),p(""),r(""),u(""),x(""),G(null)},W=async b=>{let c;b.preventDefault();let[d,e]=t.split("/"),f=o.replace(/\s/g,"").slice(-4),g=(c=o.replace(/\s/g,"")).startsWith("4")?"Visa":c.startsWith("5")?"Mastercard":c.startsWith("3")?"American Express":"Unknown";if("update"===k&&F){let{error:a}=await n.db.from("payment_methods").update({card_type:g,last_four:f,expiry_month:d,expiry_year:e,cardholder_name:q,updated_at:new Date().toISOString()}).eq("id",F);a||(alert("Payment method updated successfully!"),Q())}else{let{error:b}=await n.db.from("payment_methods").insert({user_id:a?.id,card_type:g,last_four:f,expiry_month:d,expiry_year:e,cardholder_name:q,is_primary:0===D.length});b||(alert("Payment method added successfully!"),Q())}V()},X=async()=>{if(!i||0>=parseFloat(i))return void alert("Please enter a valid amount");if(!F)return void alert("Please select a payment method");J(!0);try{let b=parseFloat(i),{error:c}=await n.db.from("transactions").insert({user_id:a?.id,type:"topup",amount:b,description:`Account Top-up - RM ${b.toFixed(2)}`,status:"completed"});if(c)throw c;let e=(d?.balance||0)+b,{error:f}=await n.db.from("user_profiles").update({balance:e}).eq("user_id",a?.id);if(f)throw f;alert(`Successfully topped up RM ${b.toFixed(2)}!`),h(!1),j(""),P(),window.location.reload()}catch(a){console.error("Error processing top-up:",a),alert("Failed to process top-up. Please try again.")}finally{J(!1)}},Y=async b=>{N(b);try{let{data:c}=await n.db.from("invoices").select("id").eq("transaction_id",b).maybeSingle();if(c){L(c.id),N(null);return}if(!d){alert("Tenant information not available"),N(null);return}let{data:e}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a?.id).maybeSingle(),{data:f}=await n.db.from("company_settings").select("*").eq("tenant_id",e?.tenant_id).maybeSingle();if(!f){alert("Company settings not configured. Please contact administrator."),N(null);return}let g=B.find(a=>a.id===b);if(!g){alert("Transaction not found"),N(null);return}let{data:h}=await n.db.rpc("get_next_invoice_number",{p_tenant_id:e?.tenant_id}),i=new Date,j=new Date;j.setDate(j.getDate()+30);let k=g.amount,l=.06*k,m=k+l,{data:o,error:p}=await n.db.from("invoices").insert({tenant_id:e?.tenant_id,user_id:a?.id,invoice_number:h,invoice_date:i.toISOString().split("T")[0],due_date:j.toISOString().split("T")[0],transaction_id:b,status:"issued",customer_name:d.full_name||"Customer",customer_email:d.email,customer_address:"",customer_company:"Platform",subtotal:k,sst_rate:6,sst_amount:l,total_amount:m,currency:"MYR",payment_terms:"Payment due within 30 days"}).select().single();if(p)throw p;let{error:q}=await n.db.from("invoice_items").insert({invoice_id:o.id,description:g.description,quantity:1,unit_price:k,amount:k});if(q)throw q;L(o.id)}catch(a){console.error("Error generating invoice:",a),alert("Failed to generate invoice")}finally{N(null)}};return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Billing & Payments"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your billing information and payment history"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Current Balance"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-white",children:["RM ",T.toLocaleString()]})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(O.default,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-green-400 text-sm",children:"Available credits"}),(0,b.jsxs)("button",{onClick:()=>h(!0),className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg transition-all text-sm font-semibold flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Top Up"]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Spent"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-white",children:["RM ",S.toLocaleString()]})]}),(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,b.jsx)(ar.TrendingUp,{className:"w-6 h-6 text-blue-400"})})]}),(0,b.jsx)("p",{className:"text-blue-400 text-sm",children:"This month"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending Charges"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-white",children:["RM ","0.00"]})]}),(0,b.jsx)("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:(0,b.jsx)(s.default,{className:"w-6 h-6 text-orange-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Awaiting processing"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Payment Methods"}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsxs)("button",{onClick:()=>U("add"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors text-sm flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Payment Method"]})})]}),z?(0,b.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):0===D.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(aw.CreditCard,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"No payment methods added yet"}),(0,b.jsx)("button",{onClick:()=>U("add"),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Add your first payment method"})]}):(0,b.jsx)("div",{className:"space-y-3",children:D.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-900/50 rounded-lg hover:bg-slate-900/70 transition-colors",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-lg",children:(0,b.jsx)(aw.CreditCard,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"text-white font-medium",children:[a.card_type," ending in ",a.last_four]}),(0,b.jsxs)("div",{className:"text-slate-400 text-sm",children:["Expires ",a.expiry_month,"/",a.expiry_year]})]}),a.is_primary&&(0,b.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full border border-green-500/30",children:"Primary"}),(0,b.jsx)("button",{onClick:()=>U("update",a.id),className:"text-blue-400 hover:text-blue-300 text-sm px-3 py-1 rounded bg-blue-500/10 hover:bg-blue-500/20 transition-colors",children:"Edit"})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Transaction History"}),(0,b.jsxs)("button",{className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Export"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium text-sm",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium text-sm",children:"Description"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Amount"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-slate-400 font-medium text-sm",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-slate-400 font-medium text-sm",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:R.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-4 px-4 text-slate-300",children:new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,b.jsx)("td",{className:"py-4 px-4 text-white",children:a.description}),(0,b.jsxs)("td",{className:"py-4 px-4 text-right text-white font-medium",children:["RM ",a.amount.toFixed(2)]}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"paid":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:(0,b.jsx)("button",{onClick:()=>Y(a.id),disabled:M===a.id,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:M===a.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),"Generating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Invoice"]})})})]},a.id))})]})})]}),e&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"add"===k?"Add Payment Method":"Update Payment Method"}),(0,b.jsx)("button",{onClick:V,className:"text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Card Number"}),(0,b.jsx)("input",{type:"text",value:o,onChange:a=>p(a.target.value),placeholder:"1234 5678 9012 3456",required:!0,maxLength:19,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Cardholder Name"}),(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),placeholder:"John Doe",required:!0,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Expiry Date"}),(0,b.jsx)("input",{type:"text",value:t,onChange:a=>u(a.target.value),placeholder:"MM/YY",required:!0,maxLength:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"CVV"}),(0,b.jsx)("input",{type:"text",value:v,onChange:a=>x(a.target.value),placeholder:"123",required:!0,maxLength:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:V,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-3 rounded-lg transition-colors font-medium",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-3 rounded-lg font-semibold transition-all",children:"add"===k?"Add Card":"Update Card"})]})]})]})}),g&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Top Up Balance"}),(0,b.jsx)("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Amount (RM)"}),(0,b.jsx)("input",{type:"number",value:i,onChange:a=>j(a.target.value),placeholder:"Enter amount",min:"1",step:"0.01",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:[100,500,1e3,5e3].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>j(a.toString()),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg transition-colors text-sm",children:["RM ",a]},a))}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Payment Method"}),0===D.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:"No payment methods available"}),(0,b.jsx)("button",{type:"button",onClick:()=>{h(!1),U("add")},className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Add Payment Method"})]}):(0,b.jsx)("div",{className:"space-y-2",children:D.map(a=>(0,b.jsxs)("label",{className:`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${F===a.id?"bg-blue-500/10 border-blue-500":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[(0,b.jsx)("input",{type:"radio",name:"paymentMethod",value:a.id,checked:F===a.id,onChange:a=>G(a.target.value),className:"text-blue-500"}),(0,b.jsx)(aw.CreditCard,{className:"w-5 h-5 text-slate-400"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"text-white text-sm font-medium",children:[a.card_type," â€¢â€¢â€¢â€¢ ",a.last_four]}),(0,b.jsxs)("div",{className:"text-slate-400 text-xs",children:["Expires ",a.expiry_month,"/",a.expiry_year]})]}),a.is_primary&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded",children:"Primary"})]},a.id))})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-3 rounded-lg transition-colors font-medium",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:X,disabled:I||!i||!F,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Processing...":"Confirm Top Up"})]})]})]})}),K&&(0,b.jsx)(aA,{invoiceId:K,onClose:()=>L(null)})]})}var aE=a.i(53722),aF=a.i(54074),aG=a.i(8843),aG=aG,p=p,aH=a.i(5641),l=l;function aI(){let[a,d]=(0,c.useState)(""),[e,f]=(0,c.useState)(null),[g]=(0,c.useState)([{id:"1",title:"Getting Started Guide",description:"Learn the basics of our platform and start sending messages",type:"guide",category:"Onboarding",url:"#",content:{overview:"Welcome to our CPaaS platform! This guide will help you get started with sending your first message and understanding the core features of our communication platform.",features:["Quick setup in under 5 minutes","Multi-channel messaging support","Real-time analytics dashboard","Developer-friendly API","Comprehensive documentation"],sections:[{title:"Creating Your Account",content:"Start by signing up for a free account. You'll receive instant access to our dashboard and API credentials."},{title:"Getting API Credentials",content:"Navigate to Settings > Access Management to generate your first API key. Keep this secure as it will be used to authenticate all API requests."},{title:"Sending Your First Message",content:"Use our simple REST API to send your first SMS. You can also use our dashboard to send test messages.",code:`curl -X POST https://api.example.com/v1/messages \\
  -H "Authorization: Bearer YOUR_API_KEY" \\
  -H "Content-Type: application/json" \\
  -d '{
    "to": "+1234567890",
    "from": "YourBrand",
    "message": "Hello from CPaaS!"
  }'`}],learningPath:[{step:1,title:"Create Account",duration:"2 min",completed:!0},{step:2,title:"Get API Keys",duration:"3 min",completed:!1},{step:3,title:"Send First Message",duration:"5 min",completed:!1},{step:4,title:"Explore Dashboard",duration:"10 min",completed:!1}]}},{id:"2",title:"SMS API Documentation",description:"Complete reference for SMS API endpoints and parameters",type:"api",category:"API Reference",url:"#",content:{overview:"Comprehensive API documentation for SMS messaging. Send single or bulk messages, check delivery status, and manage your messaging campaigns programmatically.",features:["RESTful API architecture","JSON request/response format","Unicode and emoji support","Delivery receipts and webhooks","Rate limiting and error handling"],sections:[{title:"Authentication",content:"All API requests must include your API key in the Authorization header using Bearer token authentication.",code:"Authorization: Bearer YOUR_API_KEY"},{title:"Send SMS",content:"POST /v1/sms/send - Send an SMS message to one or more recipients.",code:`{
  "to": ["+1234567890"],
  "from": "YourBrand",
  "message": "Your verification code is 123456",
  "callback_url": "https://your-domain.com/webhook"
}`},{title:"Check Status",content:"GET /v1/sms/{message_id} - Retrieve the delivery status of a sent message.",code:`{
  "id": "msg_12345",
  "status": "delivered",
  "delivered_at": "2024-01-15T10:30:00Z"
}`}],learningPath:[{step:1,title:"API Authentication",duration:"5 min",completed:!1},{step:2,title:"Send Your First SMS",duration:"10 min",completed:!1},{step:3,title:"Handle Webhooks",duration:"15 min",completed:!1},{step:4,title:"Bulk Messaging",duration:"20 min",completed:!1}]}},{id:"3",title:"Whatsapp API Integration Tutorial",description:"Step-by-step video tutorial for Whatsapp API",type:"video",category:"Tutorials",url:"#",content:{overview:"Learn how to integrate Whatsapp API into your platform. This video series covers everything from initial setup to advanced message templates and interactive buttons.",features:["Whatsapp API Account setup","Message templates creation","Rich media messaging","Interactive button messages","Session management"],sections:[{title:"Prerequisites",content:"Before starting, ensure you have a Facebook Business Manager account and a verified business profile. You'll need these credentials to access the WhatsApp Business API."},{title:"API Configuration",content:"Configure your Whatsapp API credentials in the platform dashboard. Navigate to Settings > Integrations and select Whatsapp API.",code:`{
  "provider": "whatsapp",
  "phone_number_id": "YOUR_PHONE_ID",
  "business_account_id": "YOUR_BUSINESS_ID",
  "access_token": "YOUR_ACCESS_TOKEN"
}`},{title:"Sending Messages",content:"Use template messages for initial contact and session messages for conversations within 24 hours.",code:`POST /v1/whatsapp/messages
{
  "to": "+1234567890",
  "type": "template",
  "template": {
    "name": "welcome_message",
    "language": { "code": "en" }
  }
}`}],learningPath:[{step:1,title:"Account Setup",duration:"15 min",completed:!0},{step:2,title:"Create Message Templates",duration:"20 min",completed:!1},{step:3,title:"Send Your First Message",duration:"10 min",completed:!1},{step:4,title:"Handle Incoming Messages",duration:"25 min",completed:!1}]}},{id:"4",title:"Authentication & Security",description:"Best practices for securing your API credentials",type:"documentation",category:"Security",url:"#",content:{overview:"Security is paramount when working with communication APIs. This guide covers best practices for authentication, credential management, and securing your integration.",features:["API key management","OAuth 2.0 implementation","IP whitelisting","Rate limiting strategies","Encryption standards"],sections:[{title:"API Key Best Practices",content:"Never expose API keys in client-side code or public repositories. Store keys in environment variables and rotate them regularly."},{title:"Implementing OAuth 2.0",content:"For user-specific operations, implement OAuth 2.0 authorization flow to ensure secure access without exposing credentials.",code:`const authUrl = 'https://api.example.com/oauth/authorize';
const params = {
  client_id: 'YOUR_CLIENT_ID',
  redirect_uri: 'YOUR_CALLBACK_URL',
  response_type: 'code',
  scope: 'messages.send messages.read'
};`},{title:"IP Whitelisting",content:"Restrict API access to known IP addresses. Configure this in Settings > Security > IP Whitelist."}],learningPath:[{step:1,title:"Understanding API Security",duration:"10 min",completed:!1},{step:2,title:"Implementing OAuth",duration:"30 min",completed:!1},{step:3,title:"Setting Up IP Whitelist",duration:"15 min",completed:!1},{step:4,title:"Security Audit",duration:"20 min",completed:!1}]}},{id:"5",title:"Campaign Management Guide",description:"How to create and manage effective campaigns",type:"guide",category:"Features",url:"#",content:{overview:"Master the art of creating, managing, and optimizing messaging campaigns. Learn how to segment audiences, schedule messages, and track campaign performance.",features:["Audience segmentation","Message personalization","A/B testing","Campaign analytics","Automated workflows"],sections:[{title:"Creating Your First Campaign",content:"Navigate to Campaigns > Create New. Choose your channel (SMS API, Whatsapp API, or RCS API) and define your target audience."},{title:"Audience Segmentation",content:"Create targeted segments based on user behavior, demographics, or custom attributes for more effective messaging."},{title:"Message Personalization",content:"Use dynamic variables to personalize messages for each recipient.",code:`Hello {{first_name}},
Your order #{{order_id}} has been shipped!
Track it here: {{tracking_url}}`}],learningPath:[{step:1,title:"Campaign Basics",duration:"15 min",completed:!1},{step:2,title:"Audience Segmentation",duration:"20 min",completed:!1},{step:3,title:"A/B Testing",duration:"25 min",completed:!1},{step:4,title:"Analytics & Optimization",duration:"30 min",completed:!1}]}},{id:"6",title:"Voice API Reference",description:"Complete documentation for voice calling features",type:"api",category:"API Reference",url:"#"},{id:"7",title:"RCS Messaging Setup",description:"Video walkthrough of RCS configuration",type:"video",category:"Tutorials",url:"#"},{id:"8",title:"Webhooks Configuration",description:"How to set up and manage webhook notifications",type:"documentation",category:"Integration",url:"#"}]),h=g.filter(b=>b.title.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.category.toLowerCase().includes(a.toLowerCase())),j=a=>{switch(a){case"documentation":return"bg-blue-500/20 text-blue-400";case"video":return"bg-red-500/20 text-red-400";case"guide":return"bg-green-500/20 text-green-400";case"api":return"bg-purple-500/20 text-purple-400";default:return"bg-slate-500/20 text-slate-400"}};return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Resources"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Documentation, guides, and tutorials to help you succeed"})]}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search resources...",value:a,onChange:a=>d(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(a=>{let c=(a=>{switch(a){case"documentation":default:return i.FileText;case"video":return ap.Video;case"guide":return aE.BookOpen;case"api":return aF.Code}})(a.type);return(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${j(a.type)}`,children:(0,b.jsx)(c,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.title}),(0,b.jsx)(aG.default,{className:"w-5 h-5 text-slate-500"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"Onboarding":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";case"API Reference":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"Tutorials":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"Security":return"bg-red-500/20 text-red-400 border-red-500/30";case"Features":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"Integration":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.category)}`,children:a.category}),(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 text-xs font-medium rounded-full",children:a.type})]})]})]}),(0,b.jsxs)("button",{onClick:()=>f(a),className:"w-full bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)("span",{children:"View Resource"}),(0,b.jsx)(aG.default,{className:"w-4 h-4"})]})]},a.id)})}),0===h.length&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(aE.BookOpen,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"No resources found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Try adjusting your search criteria"})]}),e&&e.content&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-auto",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-700 p-6 flex items-center justify-between z-10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:`p-3 rounded-lg ${j(e.type)}`,children:["video"===e.type&&(0,b.jsx)(ap.Video,{className:"w-6 h-6"}),"documentation"===e.type&&(0,b.jsx)(i.FileText,{className:"w-6 h-6"}),"guide"===e.type&&(0,b.jsx)(aE.BookOpen,{className:"w-6 h-6"}),"api"===e.type&&(0,b.jsx)(aF.Code,{className:"w-6 h-6"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:e.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:e.category})]})]}),(0,b.jsx)("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Overview"}),(0,b.jsx)("p",{className:"text-slate-300 leading-relaxed",children:e.content.overview})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Key Features"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.content.features.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-slate-300",children:a})]},c))})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Documentation"}),(0,b.jsx)("div",{className:"space-y-6",children:e.content.sections.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-3",children:a.title}),(0,b.jsx)("p",{className:"text-slate-300 mb-4 leading-relaxed",children:a.content}),a.code&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-4 overflow-x-auto",children:(0,b.jsx)("code",{className:"text-sm text-green-400 font-mono",children:a.code})}),(0,b.jsx)("button",{className:"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 rounded border border-slate-600 transition-colors",children:(0,b.jsx)(l.default,{className:"w-4 h-4 text-slate-400"})})]})]},c))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Learning Path"}),(0,b.jsx)("p",{className:"text-slate-300 mb-6",children:"Follow this structured path to master this topic"}),(0,b.jsx)("div",{className:"space-y-3",children:e.content.learningPath.map(a=>(0,b.jsxs)("div",{className:`flex items-center gap-4 p-4 rounded-lg border transition-colors ${a.completed?"bg-green-500/10 border-green-500/30":"bg-slate-800/50 border-slate-700 hover:border-cyan-500/50"}`,children:[(0,b.jsx)("div",{className:`flex items-center justify-center w-10 h-10 rounded-full font-bold ${a.completed?"bg-green-500 text-white":"bg-slate-700 text-slate-300"}`,children:a.completed?(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6"}):a.step}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:`font-semibold ${a.completed?"text-green-400":"text-white"}`,children:a.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.duration})]}),!a.completed&&"video"===e.type&&(0,b.jsxs)("button",{className:"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Start"})]}),a.completed&&(0,b.jsx)("span",{className:"text-green-400 text-sm font-medium",children:"Completed"})]},a.step))})]})]})]})})]})}var aJ=a.i(55225),l=l,e=e,O=O,aK=a.i(75677),aK=aK,aL=a.i(90821),aM=a.i(1304),aM=aM,B=B;function aN(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)("7days"),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)("all"),[k,m]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[u,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),F=[{label:"Messages Sent",value:"1,124,800",change:"+12.5%",trend:"up",icon:Z.MessageSquare,color:"blue"},{label:"Delivery Rate",value:"97.8%",change:"+2.3%",trend:"up",icon:ar.TrendingUp,color:"green"},{label:"Active Users",value:"15,234",change:"+8.1%",trend:"up",icon:e.default,color:"purple"},{label:"Revenue",value:"RM 110,560",change:"+15.3%",trend:"up",icon:O.default,color:"orange"}],G=[{name:"SMS API",sku:"SMS-001",messages:48e4,revenue:106680,deliveryRate:99.2,category:"Messaging"},{name:"Whatsapp API",sku:"WA-001",messages:39e4,revenue:104010,deliveryRate:98.8,category:"Social"},{name:"RCS API",sku:"RCS-001",messages:156e3,revenue:55485,deliveryRate:97.5,category:"Messaging"},{name:"Email API",sku:"EMAIL-001",messages:78e3,revenue:3465,deliveryRate:96.5,category:"Messaging"},{name:"Voice API",sku:"VOICE-001",messages:18e3,revenue:12005,deliveryRate:99.5,category:"Voice"},{name:"Voice Bot",sku:"VBOT-001",messages:12e3,revenue:5988,deliveryRate:97.8,category:"Bot"},{name:"Video Bot",sku:"VIDEO-001",messages:2800,revenue:3110,deliveryRate:96.2,category:"Video"}],I="all"===i?G:G.filter(a=>a.sku===i);(0,c.useEffect)(()=>{a&&(K(),"SMS-001"===i?L():"RCS-001"===i?M():"WA-001"===i?N():"EMAIL-001"===i?P():"VOICE-001"===i?Q():("VIDEO-001"===i||"VIDEO-API-001"===i||"VAPI-001"===i)&&R())},[a,i]);let K=async()=>{p(!0);let{data:a,error:b}=await n.db.from("products").select("id, sku, name, category").eq("status","active").order("name");!b&&a&&m(a),p(!1)},L=async()=>{let{data:a,error:b}=await n.db.from("sms_messages").select("*").order("sent_at",{ascending:!1}).limit(50);!b&&a&&r(a.map(a=>({mobile:a.to_number,message:a.message,smsLength:a.message.length,status:a.status,errorCode:a.error_code||"",errorDesc:a.error_description||"",senderId:a.sender_id||"MAXIS",routeType:a.route_type||"Promotional",sendingTime:new Date(a.sent_at).toLocaleString(),deliveryTime:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"})))},M=async()=>{let{data:a,error:b}=await n.db.from("rcs_messages").select("*").order("sent_at",{ascending:!1}).limit(50);!b&&a&&t(a.map(a=>({mobile:a.phone_number,message:a.message,credits:a.credits||.5,status:a.status,errorCode:a.error_code||"",ctaAction:a.cta_action||"-",sendingTime:a.sent_at?new Date(a.sent_at).toLocaleString():"-",deliveryTime:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-",readTime:a.read_at?new Date(a.read_at).toLocaleString():"-"})))},N=async()=>{let{data:a,error:b}=await n.db.from("whatsapp_messages").select("*").order("sent_at",{ascending:!1}).limit(50);!b&&a&&x(a.map(a=>({mobile:a.phone_number,message:a.message_body||a.message||"",status:a.status,messageType:a.message_type||"text",templateName:a.template_name||"-",sendingTime:a.sent_at?new Date(a.sent_at).toLocaleString():"-",deliveryTime:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-",readTime:a.read_at?new Date(a.read_at).toLocaleString():"-"})))},P=async()=>{let{data:a,error:b}=await n.db.from("email_sends").select("*").order("sent_at",{ascending:!1}).limit(50);!b&&a&&z(a.map(a=>({email:a.recipient_email,subject:a.subject,status:a.status,openCount:a.open_count||0,clickCount:a.click_count||0,sentTime:a.sent_at?new Date(a.sent_at).toLocaleString():"-",openedTime:a.opened_at?new Date(a.opened_at).toLocaleString():"-"})))},Q=async()=>{let{data:a,error:b}=await n.db.from("voice_agent_calls").select("*").order("created_at",{ascending:!1}).limit(50);!b&&a&&C(a.map(a=>({fromNumber:a.caller_number||"Unknown",toNumber:a.callee_number||a.phone_number||"Unknown",duration:a.duration_seconds||0,status:a.status,callType:a.call_type||"outbound",cost:a.cost||0,startTime:a.created_at?new Date(a.created_at).toLocaleString():"-",endTime:a.ended_at?new Date(a.ended_at).toLocaleString():"-"})))},R=async()=>{let{data:a,error:b}=await n.db.from("video_rooms").select("*").order("started_at",{ascending:!1}).limit(50);!b&&a&&E(a.map(a=>({roomId:a.room_id,participants:a.current_participants||0,duration:a.duration_minutes||0,status:a.status,recording:a.recording_enabled||!1,startTime:a.started_at?new Date(a.started_at).toLocaleString():"-",endTime:a.ended_at?new Date(a.ended_at).toLocaleString():"-"})))};return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Reports & Analytics"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mt-2",children:"all"===i?"Track your performance and gain insights":`${k.find(a=>a.sku===i)?.name||"Product"} Performance Report`})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("select",{value:i,onChange:a=>j(a.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 min-w-[200px]",children:[(0,b.jsx)("option",{value:"all",children:"All Products"}),k.map(a=>(0,b.jsx)("option",{value:a.sku,children:a.name},a.id))]}),(0,b.jsxs)("select",{value:d,onChange:a=>f(a.target.value),className:"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"24hours",children:"Last 24 hours"}),(0,b.jsx)("option",{value:"7days",children:"Last 7 days"}),(0,b.jsx)("option",{value:"30days",children:"Last 30 days"}),(0,b.jsx)("option",{value:"90days",children:"Last 90 days"})]}),(0,b.jsxs)("button",{onClick:()=>{h(!0);let a=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),b="all"===i?"All Products":k.find(a=>a.sku===i)?.name||"Product",c="all"===i?"Platform Reports & Analytics":`${b} Performance Report`,e="";"SMS-001"===i&&q.length>0&&(e=`
        <div class="section" style="page-break-before: always;">
          <h2>SMS Campaign Message Details</h2>
          <table>
            <thead>
              <tr>
                <th>Mobile</th>
                <th>Message</th>
                <th>Length</th>
                <th>Status</th>
                <th>Error Code</th>
                <th>Error Desc</th>
                <th>Sender ID</th>
                <th>Route Type</th>
                <th>Sending Time</th>
                <th>Delivery Time</th>
              </tr>
            </thead>
            <tbody>
              ${q.map(a=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${a.mobile}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${a.message}</td>
                  <td style="text-align: center;">${a.smsLength}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===a.status?"#10b981":"pending"===a.status?"#f59e0b":"#ef4444"}">${a.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${a.errorCode||"-"}</td>
                  <td style="font-size: 11px;">${a.errorDesc||"-"}</td>
                  <td style="text-align: center; font-size: 11px;">${a.senderId}</td>
                  <td style="text-align: center; font-size: 11px;">${a.routeType}</td>
                  <td style="font-size: 10px;">${a.sendingTime}</td>
                  <td style="font-size: 10px;">${a.deliveryTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"RCS-001"===i&&s.length>0&&(e=`
        <div class="section" style="page-break-before: always;">
          <h2>RCS Campaign Message Details</h2>
          <table>
            <thead>
              <tr>
                <th>Mobile Number</th>
                <th>Message</th>
                <th>Credits</th>
                <th>Status</th>
                <th>Error Code</th>
                <th>CTA Action</th>
                <th>Send Time</th>
                <th>Delivery Time</th>
                <th>Read Time</th>
              </tr>
            </thead>
            <tbody>
              ${s.map(a=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${a.mobile}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${a.message}</td>
                  <td style="text-align: center;">${a.credits.toFixed(2)}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===a.status?"#10b981":"pending"===a.status?"#f59e0b":"#ef4444"}">${a.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${a.errorCode||"-"}</td>
                  <td style="text-align: center; font-size: 11px;">${a.ctaAction}</td>
                  <td style="font-size: 10px;">${a.sendingTime}</td>
                  <td style="font-size: 10px;">${a.deliveryTime}</td>
                  <td style="font-size: 10px;">${a.readTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"WA-001"===i&&u.length>0&&(e=`
        <div class="section" style="page-break-before: always;">
          <h2>WhatsApp Message Details</h2>
          <table>
            <thead>
              <tr>
                <th>Mobile Number</th>
                <th>Message</th>
                <th>Status</th>
                <th>Type</th>
                <th>Template</th>
                <th>Send Time</th>
                <th>Delivery Time</th>
                <th>Read Time</th>
              </tr>
            </thead>
            <tbody>
              ${u.map(a=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${a.mobile}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${a.message}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===a.status?"#10b981":"pending"===a.status?"#f59e0b":"#ef4444"}">${a.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${a.messageType}</td>
                  <td style="text-align: center; font-size: 11px;">${a.templateName}</td>
                  <td style="font-size: 10px;">${a.sendingTime}</td>
                  <td style="font-size: 10px;">${a.deliveryTime}</td>
                  <td style="font-size: 10px;">${a.readTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"EMAIL-001"===i&&y.length>0&&(e=`
        <div class="section" style="page-break-before: always;">
          <h2>Email Campaign Details</h2>
          <table>
            <thead>
              <tr>
                <th>Email</th>
                <th>Subject</th>
                <th>Status</th>
                <th>Opens</th>
                <th>Clicks</th>
                <th>Sent Time</th>
                <th>Opened Time</th>
              </tr>
            </thead>
            <tbody>
              ${y.map(a=>`
                <tr>
                  <td style="font-size: 11px;">${a.email}</td>
                  <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;">${a.subject}</td>
                  <td style="text-align: center;"><strong style="color: ${"delivered"===a.status?"#10b981":"pending"===a.status?"#f59e0b":"#ef4444"}">${a.status}</strong></td>
                  <td style="text-align: center;">${a.openCount}</td>
                  <td style="text-align: center;">${a.clickCount}</td>
                  <td style="font-size: 10px;">${a.sentTime}</td>
                  <td style="font-size: 10px;">${a.openedTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),"VOICE-001"===i&&A.length>0&&(e=`
        <div class="section" style="page-break-before: always;">
          <h2>Voice Call Details</h2>
          <table>
            <thead>
              <tr>
                <th>From</th>
                <th>To</th>
                <th>Duration (s)</th>
                <th>Status</th>
                <th>Type</th>
                <th>Cost (RM)</th>
                <th>Start Time</th>
                <th>End Time</th>
              </tr>
            </thead>
            <tbody>
              ${A.map(a=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${a.fromNumber}</td>
                  <td style="font-family: monospace; font-size: 11px;">${a.toNumber}</td>
                  <td style="text-align: center;">${a.duration}</td>
                  <td style="text-align: center;"><strong style="color: ${"completed"===a.status?"#10b981":"ongoing"===a.status?"#3b82f6":"#ef4444"}">${a.status}</strong></td>
                  <td style="text-align: center; font-size: 11px;">${a.callType}</td>
                  <td style="text-align: center;">RM ${a.cost.toFixed(4)}</td>
                  <td style="font-size: 10px;">${a.startTime}</td>
                  <td style="font-size: 10px;">${a.endTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `),("VIDEO-001"===i||"VIDEO-API-001"===i||"VAPI-001"===i)&&D.length>0&&(e=`
        <div class="section" style="page-break-before: always;">
          <h2>Video Session Details</h2>
          <table>
            <thead>
              <tr>
                <th>Room ID</th>
                <th>Participants</th>
                <th>Duration (min)</th>
                <th>Status</th>
                <th>Recording</th>
                <th>Start Time</th>
                <th>End Time</th>
              </tr>
            </thead>
            <tbody>
              ${D.map(a=>`
                <tr>
                  <td style="font-family: monospace; font-size: 11px;">${a.roomId}</td>
                  <td style="text-align: center;">${a.participants}</td>
                  <td style="text-align: center;">${a.duration}</td>
                  <td style="text-align: center;"><strong style="color: ${"active"===a.status?"#10b981":"ended"===a.status?"#64748b":"#3b82f6"}">${a.status}</strong></td>
                  <td style="text-align: center;">${a.recording?"Yes":"No"}</td>
                  <td style="font-size: 10px;">${a.startTime}</td>
                  <td style="font-size: 10px;">${a.endTime}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `);let f=new Blob([`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>${c} - ${a}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      color: #333;
    }
    .header {
      text-align: center;
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 3px solid #0891b2;
    }
    .header h1 {
      color: #0891b2;
      margin: 0;
      font-size: 32px;
    }
    .header p {
      color: #666;
      margin: 10px 0;
      font-size: 14px;
    }
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }
    .metric-card {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 20px;
      background: #f9fafb;
    }
    .metric-card h3 {
      color: #6b7280;
      font-size: 12px;
      margin: 0 0 8px 0;
      text-transform: uppercase;
      font-weight: 600;
    }
    .metric-card .value {
      font-size: 28px;
      font-weight: bold;
      color: #111827;
      margin-bottom: 8px;
    }
    .metric-card .change {
      color: #10b981;
      font-size: 14px;
      font-weight: 600;
    }
    .section {
      margin-bottom: 40px;
      page-break-inside: avoid;
    }
    .section h2 {
      color: #111827;
      font-size: 20px;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e5e7eb;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }
    th {
      background: #f3f4f6;
      padding: 12px;
      text-align: left;
      font-weight: 600;
      color: #374151;
      border-bottom: 2px solid #e5e7eb;
    }
    td {
      padding: 12px;
      border-bottom: 1px solid #e5e7eb;
    }
    tr:hover {
      background: #f9fafb;
    }
    .footer {
      margin-top: 60px;
      padding-top: 20px;
      border-top: 1px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 12px;
    }
    @media print {
      body { margin: 20px; }
      .metric-card { page-break-inside: avoid; }
      .section { page-break-inside: avoid; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>${c}</h1>
    <p>Report Period: ${{"24hours":"Last 24 Hours","7days":"Last 7 Days","30days":"Last 30 Days","90days":"Last 90 Days"}[d]||"Last 7 Days"}</p>
    <p>Generated on: ${a}</p>
  </div>

  <div class="metrics-grid">
    ${F.map(a=>`
      <div class="metric-card">
        <h3>${a.label}</h3>
        <div class="value">${a.value}</div>
        <div class="change">${a.change} vs last period</div>
      </div>
    `).join("")}
  </div>

  <div class="section">
    <h2>Platform Performance Summary</h2>
    <table>
      <thead>
        <tr>
          <th>Platform</th>
          <th>Messages Sent</th>
          <th>Delivery Rate</th>
          <th>Revenue (RM)</th>
          <th>Avg Cost (RM)</th>
        </tr>
      </thead>
      <tbody>
        ${I.map(a=>`
          <tr>
            <td><strong>${a.name}</strong></td>
            <td>${a.messages.toLocaleString()}</td>
            <td><strong>${a.deliveryRate}%</strong></td>
            <td>RM ${a.revenue.toLocaleString()}</td>
            <td>RM ${(a.revenue/a.messages).toFixed(4)}</td>
          </tr>
        `).join("")}
      </tbody>
    </table>
  </div>

  <div class="section">
    <h2>Key Insights</h2>
    <ul>
      <li><strong>Total Messages:</strong> ${I.reduce((a,b)=>a+b.messages,0).toLocaleString()} messages sent across all platforms</li>
      <li><strong>Total Revenue:</strong> RM ${I.reduce((a,b)=>a+b.revenue,0).toLocaleString()}</li>
      <li><strong>Average Delivery Rate:</strong> ${(I.reduce((a,b)=>a+b.deliveryRate,0)/I.length).toFixed(2)}%</li>
      <li><strong>Top Performing Platform:</strong> ${I.reduce((a,b)=>b.revenue>a.revenue?b:a).name} (by revenue)</li>
      <li><strong>Most Used Platform:</strong> ${I.reduce((a,b)=>b.messages>a.messages?b:a).name} (by message volume)</li>
    </ul>
  </div>

  ${e}

  <div class="footer">
    <p>This report was automatically generated by the CPaaS Platform Analytics System</p>
    <p>&copy; ${new Date().getFullYear()} Maxis Communications. All rights reserved.</p>
  </div>
</body>
</html>
    `],{type:"text/html"}),g=URL.createObjectURL(f),j=window.open(g,"_blank");j?j.onload=()=>{setTimeout(()=>{j.print(),h(!1)},250)}:(h(!1),alert("Please allow pop-ups to generate the PDF report"))},disabled:g,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50",children:[(0,b.jsx)(aK.default,{className:"w-5 h-5"}),g?"Generating...":"Export as PDF"]}),(0,b.jsxs)("button",{onClick:()=>{let a=new Blob(["SMS-001"===i&&q.length>0?[["Mobile","Message","Length","Status","Error Code","Error Description","Sender ID","Route Type","Sending Time","Delivery Time"],...q.map(a=>[a.mobile,`"${a.message.replace(/"/g,'""')}"`,a.smsLength,a.status,a.errorCode||"",`"${(a.errorDesc||"").replace(/"/g,'""')}"`,a.senderId,a.routeType,a.sendingTime,a.deliveryTime])].map(a=>a.join(",")).join("\n"):"RCS-001"===i&&s.length>0?[["Mobile Number","Message","Credits","Status","Error Code","CTA Action","Send Time","Delivery Time","Read Time"],...s.map(a=>[a.mobile,`"${a.message.replace(/"/g,'""')}"`,a.credits.toFixed(2),a.status,a.errorCode||"",a.ctaAction,a.sendingTime,a.deliveryTime,a.readTime])].map(a=>a.join(",")).join("\n"):"WA-001"===i&&u.length>0?[["Mobile Number","Message","Status","Type","Template","Send Time","Delivery Time","Read Time"],...u.map(a=>[a.mobile,`"${a.message.replace(/"/g,'""')}"`,a.status,a.messageType,a.templateName,a.sendingTime,a.deliveryTime,a.readTime])].map(a=>a.join(",")).join("\n"):"EMAIL-001"===i&&y.length>0?[["Email","Subject","Status","Opens","Clicks","Sent Time","Opened Time"],...y.map(a=>[a.email,`"${a.subject.replace(/"/g,'""')}"`,a.status,a.openCount,a.clickCount,a.sentTime,a.openedTime])].map(a=>a.join(",")).join("\n"):"VOICE-001"===i&&A.length>0?[["From","To","Duration (s)","Status","Type","Cost (RM)","Start Time","End Time"],...A.map(a=>[a.fromNumber,a.toNumber,a.duration,a.status,a.callType,a.cost.toFixed(4),a.startTime,a.endTime])].map(a=>a.join(",")).join("\n"):("VIDEO-001"===i||"VIDEO-API-001"===i||"VAPI-001"===i)&&D.length>0?[["Room ID","Participants","Duration (min)","Status","Recording","Start Time","End Time"],...D.map(a=>[a.roomId,a.participants,a.duration,a.status,a.recording?"Yes":"No",a.startTime,a.endTime])].map(a=>a.join(",")).join("\n"):[["Platform","Messages","Delivery Rate","Revenue (RM)","Avg Cost (RM)"],...I.map(a=>[a.name,a.messages,`${a.deliveryRate}%`,a.revenue,(a.revenue/a.messages).toFixed(4)])].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b;let d="all"===i?"all-products":i.toLowerCase(),e=new Date().toISOString().split("T")[0];c.download=`${d}-report-${e}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(l.default,{className:"w-5 h-5"}),"Export CSV"]})]})]}),"all"!==i&&(0,b.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 bg-blue-500/10 border border-blue-500/30 text-blue-400 px-4 py-2 rounded-lg",children:[(0,b.jsx)(ak.Package,{className:"w-4 h-4"}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Showing data for: ",k.find(a=>a.sku===i)?.name]}),(0,b.jsx)("button",{onClick:()=>j("all"),className:"ml-2 hover:bg-blue-500/20 rounded p-1 transition-colors",title:"Clear filter",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]})]}),0===I.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(ak.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No Data Available"}),(0,b.jsxs)("p",{className:"text-slate-400 mb-4",children:["There is no data available for ",k.find(a=>a.sku===i)?.name," in the selected time period."]}),(0,b.jsx)("button",{onClick:()=>j("all"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg",children:"View All Products"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:F.map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:a.label}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:a.value})]}),(0,b.jsx)("div",{className:`p-3 rounded-xl ${(a=>{switch(a){case"blue":return"bg-blue-500/20 text-blue-400";case"green":return"bg-green-500/20 text-green-400";case"purple":return"bg-purple-500/20 text-purple-400";case"orange":return"bg-orange-500/20 text-orange-400";default:return"bg-slate-500/20 text-slate-400"}})(a.color)}`,children:(0,b.jsx)(d,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-green-400 text-sm font-medium",children:a.change}),(0,b.jsx)("span",{className:"text-slate-500 text-sm",children:"vs last period"})]})]},c)})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"all"===i?"Message Volume":"Volume"}),(0,b.jsx)(aJ.BarChart3,{className:"w-6 h-6 text-slate-400"})]}),(0,b.jsx)("div",{className:"space-y-4",children:I.map((a,c)=>{let d=Math.max(...I.map(a=>a.messages)),e=a.messages/d*100;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-300 font-medium",children:a.name}),(0,b.jsx)("span",{className:"text-white",children:a.messages.toLocaleString()})]}),(0,b.jsx)("div",{className:"w-full bg-slate-900/50 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-500",style:{width:`${e}%`}})})]},c)})})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"all"===i?"Revenue by Platform":"Revenue"}),(0,b.jsx)(O.default,{className:"w-6 h-6 text-slate-400"})]}),(0,b.jsx)("div",{className:"space-y-4",children:I.map((a,c)=>{let d=Math.max(...I.map(a=>a.revenue)),e=a.revenue/d*100;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-300 font-medium",children:a.name}),(0,b.jsxs)("span",{className:"text-white",children:["RM ",a.revenue.toLocaleString()]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-900/50 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${e}%`}})})]},c)})})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"all"===i?"Platform Performance":"Performance Metrics"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-medium text-sm",children:"Platform"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Messages"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Delivery Rate"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Revenue"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-slate-400 font-medium text-sm",children:"Avg Cost"})]})}),(0,b.jsx)("tbody",{children:I.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-4 px-4 text-white font-medium",children:a.name}),(0,b.jsx)("td",{className:"py-4 px-4 text-right text-slate-300",children:a.messages.toLocaleString()}),(0,b.jsx)("td",{className:"py-4 px-4 text-right",children:(0,b.jsxs)("span",{className:"text-green-400 font-medium",children:[a.deliveryRate,"%"]})}),(0,b.jsxs)("td",{className:"py-4 px-4 text-right text-white font-medium",children:["RM ",a.revenue.toLocaleString()]}),(0,b.jsxs)("td",{className:"py-4 px-4 text-right text-slate-300",children:["RM ",(a.revenue/a.messages).toFixed(4)]})]},c))})]})})]}),"SMS-001"===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"480,000"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-blue-500/20 text-blue-400",children:(0,b.jsx)(aM.default,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"+12.5% vs last period"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-green-400 text-sm font-medium mb-1",children:"Delivered"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"476,160"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-green-500/20 text-green-400",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"99.2% delivery rate"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 border border-yellow-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"960"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-yellow-500/20 text-yellow-400",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm font-medium",children:"0.2% in queue"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Failed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"2,880"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-red-500/20 text-red-400",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-red-400 text-sm font-medium",children:"0.6% error rate"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"SMS Features & Details"}),(0,b.jsx)(Z.MessageSquare,{className:"w-6 h-6 text-slate-400"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Delivery Status Breakdown"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Delivered"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"476,160 (99.2%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Pending"}),(0,b.jsx)("span",{className:"text-yellow-400 font-medium",children:"960 (0.2%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Failed"}),(0,b.jsx)("span",{className:"text-red-400 font-medium",children:"2,880 (0.6%)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Error Codes"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Invalid Number"}),(0,b.jsx)("span",{className:"text-red-400 font-medium",children:"1,440 (50%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Network Error"}),(0,b.jsx)("span",{className:"text-red-400 font-medium",children:"864 (30%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"DND Number"}),(0,b.jsx)("span",{className:"text-red-400 font-medium",children:"576 (20%)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Route Type Distribution"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Promotional"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"336,000 (70%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Transactional"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"144,000 (30%)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sender IDs Used"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"MAXIS"}),(0,b.jsx)("span",{className:"text-slate-400 font-medium",children:"288,000 (60%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"MAXISONE"}),(0,b.jsx)("span",{className:"text-slate-400 font-medium",children:"192,000 (40%)"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Message Details"}),(0,b.jsxs)("button",{onClick:L,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Mobile"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Message"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Length"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Error Code"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Error Desc"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Sender ID"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Route Type"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Sending Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Delivery Time"})]})}),(0,b.jsx)("tbody",{children:q.length>0?q.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:a.mobile}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:a.message}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.smsLength}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===a.status?"bg-green-500/20 text-green-400":"pending"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.errorCode||"-"}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.errorDesc||"-"}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.senderId}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.routeType}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.sendingTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.deliveryTime})]},c)):(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:10,className:"py-12 text-center",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No SMS messages found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Messages will appear here once campaigns are sent"})]})})})]})})]})]}),"RCS-001"===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8 mt-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"156,000"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-blue-500/20 text-blue-400",children:(0,b.jsx)(aM.default,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"+8.3% vs last period"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-green-400 text-sm font-medium mb-1",children:"Delivered"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"152,100"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-green-500/20 text-green-400",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-green-400 text-sm font-medium",children:"97.5% delivery rate"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-purple-400 text-sm font-medium mb-1",children:"Read"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"124,320"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-purple-500/20 text-purple-400",children:(0,b.jsx)(B.default,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-purple-400 text-sm font-medium",children:"81.7% read rate"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 border border-yellow-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"312"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-yellow-500/20 text-yellow-400",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm font-medium",children:"0.2% in queue"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-red-400 text-sm font-medium mb-1",children:"Failed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:"3,588"})]}),(0,b.jsx)("div",{className:"p-3 rounded-xl bg-red-500/20 text-red-400",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"text-red-400 text-sm font-medium",children:"2.3% error rate"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"RCS Features & Details"}),(0,b.jsx)(Z.MessageSquare,{className:"w-6 h-6 text-slate-400"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Delivery Status Breakdown"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Delivered"}),(0,b.jsx)("span",{className:"text-green-400 font-medium",children:"152,100 (97.5%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Pending"}),(0,b.jsx)("span",{className:"text-yellow-400 font-medium",children:"312 (0.2%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Failed"}),(0,b.jsx)("span",{className:"text-red-400 font-medium",children:"3,588 (2.3%)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Engagement Metrics"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Read Rate"}),(0,b.jsx)("span",{className:"text-purple-400 font-medium",children:"81.7%"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"CTA Click Rate"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"24.6%"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Avg Response Time"}),(0,b.jsx)("span",{className:"text-slate-400 font-medium",children:"3.2 mins"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Message Type Distribution"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Rich Card"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"93,600 (60%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Carousel"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"46,800 (30%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Text Only"}),(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"15,600 (10%)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top CTA Actions"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"View Product"}),(0,b.jsx)("span",{className:"text-slate-400 font-medium",children:"18,720 (50%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Call Now"}),(0,b.jsx)("span",{className:"text-slate-400 font-medium",children:"11,232 (30%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-300",children:"Visit Website"}),(0,b.jsx)("span",{className:"text-slate-400 font-medium",children:"7,488 (20%)"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Message Details"}),(0,b.jsxs)("button",{onClick:M,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Mobile Number"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Message"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Credits"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Error Code"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"CTA Action"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Send Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Delivery Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Read Time"})]})}),(0,b.jsx)("tbody",{children:s.length>0?s.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:a.mobile}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:a.message}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.credits.toFixed(2)}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===a.status?"bg-green-500/20 text-green-400":"pending"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.errorCode||"-"}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.ctaAction}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.sendingTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.deliveryTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.readTime})]},c)):(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:9,className:"py-12 text-center",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No RCS messages found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Messages will appear here once campaigns are sent"})]})})})]})})]})]}),"WA-001"===i&&u.length>0&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"WhatsApp Message Details"}),(0,b.jsxs)("button",{onClick:N,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Mobile Number"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Message"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Type"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Template"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Send Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Delivery Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Read Time"})]})}),(0,b.jsx)("tbody",{children:u.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:a.mobile}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:a.message}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===a.status?"bg-green-500/20 text-green-400":"pending"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.messageType}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.templateName}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.sendingTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.deliveryTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.readTime})]},c))})]})})]}),"EMAIL-001"===i&&y.length>0&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Campaign Details"}),(0,b.jsxs)("button",{onClick:P,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Subject"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Opens"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Clicks"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Sent Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Opened Time"})]})}),(0,b.jsx)("tbody",{children:y.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.email}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 max-w-xs truncate",children:a.subject}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"delivered"===a.status?"bg-green-500/20 text-green-400":"pending"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.openCount}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.clickCount}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.sentTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.openedTime})]},c))})]})})]}),"VOICE-001"===i&&A.length>0&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Voice Call Details"}),(0,b.jsxs)("button",{onClick:Q,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"From"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"To"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Duration (s)"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Type"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Cost (RM)"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Start Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"End Time"})]})}),(0,b.jsx)("tbody",{children:A.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:a.fromNumber}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:a.toNumber}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.duration}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"completed"===a.status?"bg-green-500/20 text-green-400":"ongoing"===a.status?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.callType}),(0,b.jsxs)("td",{className:"py-3 px-3 text-center text-slate-300",children:["RM ",a.cost.toFixed(4)]}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.startTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.endTime})]},c))})]})})]}),("VIDEO-001"===i||"VIDEO-API-001"===i||"VAPI-001"===i)&&D.length>0&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Video Session Details"}),(0,b.jsxs)("button",{onClick:R,className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Refresh Data"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Room ID"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Participants"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Duration (min)"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-center py-3 px-3 text-slate-400 font-medium",children:"Recording"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"Start Time"}),(0,b.jsx)("th",{className:"text-left py-3 px-3 text-slate-400 font-medium",children:"End Time"})]})}),(0,b.jsx)("tbody",{children:D.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300 font-mono",children:a.roomId}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.participants}),(0,b.jsx)("td",{className:"py-3 px-3 text-center text-slate-300",children:a.duration}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${"active"===a.status?"bg-green-500/20 text-green-400":"ended"===a.status?"bg-slate-500/20 text-slate-400":"bg-blue-500/20 text-blue-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 px-3 text-center",children:a.recording?(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 mx-auto"}):(0,b.jsx)(w.X,{className:"w-4 h-4 text-slate-600 mx-auto"})}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.startTime}),(0,b.jsx)("td",{className:"py-3 px-3 text-slate-300",children:a.endTime})]},c))})]})})]})]})]})}var aO=a.i(4975),l=l,u=u,p=p,s=s,aP=a.i(6575),aP=aP;function aQ(){let[a,d]=(0,c.useState)(""),[e,f]=(0,c.useState)("all"),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),k=(0,c.useRef)(null),m=(0,c.useRef)(null),[n,o]=(0,c.useState)([{id:"1",type:"voice",title:"Customer Support Call - #12345",date:"2024-12-26 10:30 AM",duration:"5:42",size:"2.8 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"},{id:"2",type:"video",title:"Product Demo Session",date:"2024-12-25 2:15 PM",duration:"12:30",size:"45.6 MB",status:"available",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{id:"3",type:"voice",title:"Sales Call - Lead Qualification",date:"2024-12-25 11:00 AM",duration:"8:15",size:"4.2 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"},{id:"4",type:"video",title:"Team Meeting Recording",date:"2024-12-24 3:00 PM",duration:"45:20",size:"156.3 MB",status:"available",url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},{id:"5",type:"voice",title:"Technical Support Call",date:"2024-12-24 9:45 AM",duration:"15:30",size:"7.8 MB",status:"available",url:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"},{id:"6",type:"video",title:"Webinar - Q4 Review",date:"2024-12-23 1:00 PM",duration:"60:00",size:"210.5 MB",status:"processing"}]),q=n.filter(b=>{let c=b.title.toLowerCase().includes(a.toLowerCase()),d="all"===e||b.type===e;return c&&d}),r=n.length,t=n.filter(a=>"voice"===a.type).length,v=n.filter(a=>"video"===a.type).length,x=n.reduce((a,b)=>a+parseFloat(b.size),0),y=()=>{h(null),j(!1),k.current&&(k.current.pause(),k.current.currentTime=0),m.current&&(m.current.pause(),m.current.currentTime=0)},z=a=>{if("available"!==a.status)return void alert("This recording is not available for download yet.");if(a.url){let b=document.createElement("a");b.href=a.url,b.download=`${a.title}.${"voice"===a.type?"mp3":"mp4"}`,document.body.appendChild(b),b.click(),document.body.removeChild(b)}};return(0,c.useEffect)(()=>{let a=g?.type==="voice"?k.current:m.current;if(a){let b=()=>j(!1),c=()=>j(!0),d=()=>j(!1);return a.addEventListener("ended",b),a.addEventListener("play",c),a.addEventListener("pause",d),()=>{a.removeEventListener("ended",b),a.removeEventListener("play",c),a.removeEventListener("pause",d)}}},[g]),(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Recordings"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Manage your voice and video recordings"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Recordings"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:r})]}),(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,b.jsx)(aO.Mic,{className:"w-6 h-6 text-blue-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"All types"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Voice Calls"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:t})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)($.Phone,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsx)("p",{className:"text-green-400 text-sm",children:"Audio only"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Video Calls"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:v})]}),(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,b.jsx)(ap.Video,{className:"w-6 h-6 text-red-400"})})]}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:"With video"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Storage Used"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:x.toFixed(1)})]}),(0,b.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-xl",children:(0,b.jsx)(s.default,{className:"w-6 h-6 text-purple-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"MB total"})]})]}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search recordings...",value:a,onChange:a=>d(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg transition-colors ${"all"===e?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>f("voice"),className:`px-4 py-2 rounded-lg transition-colors ${"voice"===e?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Voice"}),(0,b.jsx)("button",{onClick:()=>f("video"),className:`px-4 py-2 rounded-lg transition-colors ${"video"===e?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Video"})]})]})}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"space-y-4",children:q.map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${"voice"===a.type?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:"voice"===a.type?(0,b.jsx)($.Phone,{className:"w-6 h-6"}):(0,b.jsx)(ap.Video,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-1",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsx)("span",{children:a.date}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:a.duration}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:a.size})]})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"available":return"bg-green-500/20 text-green-400 border-green-500/30";case"processing":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.status)}`,children:a.status}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{"available"!==a.status?alert("This recording is not available for playback yet."):(h(a),j(!0))},disabled:"available"!==a.status,className:`p-2 rounded-lg transition-colors ${"available"===a.status?"bg-blue-500/20 hover:bg-blue-500/30 text-blue-400":"bg-slate-700/20 text-slate-500 cursor-not-allowed"}`,title:"available"===a.status?"Play recording":"Recording not available",children:(0,b.jsx)(aH.Play,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>z(a),disabled:"available"!==a.status,className:`p-2 rounded-lg transition-colors ${"available"===a.status?"bg-green-500/20 hover:bg-green-500/30 text-green-400":"bg-slate-700/20 text-slate-500 cursor-not-allowed"}`,title:"available"===a.status?"Download recording":"Recording not available",children:(0,b.jsx)(l.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void(confirm("Are you sure you want to delete this recording? This action cannot be undone.")&&(o(n.filter(a=>a.id!==b)),g?.id===b&&y()))},className:"p-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors",title:"Delete recording",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]})]})},a.id))}),0===q.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(aO.Mic,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"No recordings found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"Try adjusting your search or filter"})]})]}),g&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl mx-4 overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-semibold text-lg",children:g.title}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:[g.date," â€¢ ",g.duration]})]}),(0,b.jsx)("button",{onClick:y,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"p-6",children:["voice"===g.type?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl p-12 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)($.Phone,{className:"w-16 h-16 text-blue-400"})}),(0,b.jsx)("p",{className:"text-white font-medium text-lg",children:"Audio Recording"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-2",children:"Playing voice call"})]})}),(0,b.jsx)("audio",{ref:k,src:g.url,className:"w-full",controls:!0,autoPlay:!0})]}):(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)("video",{ref:m,src:g.url,className:"w-full rounded-lg bg-black",controls:!0,autoPlay:!0})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>{let a=g?.type==="voice"?k.current:m.current;a&&(i?a.pause():a.play(),j(!i))},className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:i?(0,b.jsx)(aP.default,{className:"w-6 h-6"}):(0,b.jsx)(aH.Play,{className:"w-6 h-6"})}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded ${"voice"===g.type?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:"voice"===g.type?"Voice":"Video"})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>z(g),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download"]}),(0,b.jsx)("button",{onClick:y,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Close"})]})]})]})]})})]})}var aR=a.i(70226),aR=aR,au=au,A=A,f=f,aS=a.i(39506),aS=aS,aT=a.i(56282),aT=aT,aU=a.i(28331),aU=aU,B=B,C=C,E=E,an=an,aM=aM,aV=a.i(68897),aV=aV,aW=a.i(51120),aW=aW,m=m,as=as,aG=aG,aX=a.i(14188),aX=aX,aY=a.i(19733),aY=aY,aZ=a.i(76672),aZ=aZ,p=p,a$=a.i(43128),a$=a$;function a_(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)(1),[g,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,o]=(0,c.useState)(!1),[q,r]=(0,c.useState)("javascript"),[s,t]=(0,c.useState)("sms"),[u,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[D,F]=(0,c.useState)(null),[G,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)("quickstart"),[P,Q]=(0,c.useState)("messaging"),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)({method:"POST",endpoint:"/v1/messages/sms",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"+60123456789",from:"YourBrand",message:"Hello!"},null,2)}),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),ab={messaging:{name:"Messaging API",icon:Z.MessageSquare,color:"blue",apis:[{name:"SMS API",description:"Send and receive SMS messages globally",methods:[{name:"Send SMS",method:"POST",endpoint:"/v1/messages/sms",description:"Send an SMS message to a phone number",parameters:[{name:"to",type:"string",required:!0,description:"Recipient phone number in E.164 format"},{name:"from",type:"string",required:!0,description:"Sender ID or phone number"},{name:"message",type:"string",required:!0,description:"Message content (up to 1600 characters)"},{name:"callback_url",type:"string",required:!1,description:"Webhook URL for delivery receipts"}],response:{messageId:"msg_123",status:"sent",cost:.05}},{name:"Get SMS Status",method:"GET",endpoint:"/v1/messages/sms/{messageId}",description:"Retrieve the status of a sent SMS",parameters:[{name:"messageId",type:"string",required:!0,description:"Message ID returned from send request"}],response:{messageId:"msg_123",status:"delivered",deliveredAt:"2024-01-02T10:30:00Z"}},{name:"List SMS Messages",method:"GET",endpoint:"/v1/messages/sms",description:"List all SMS messages with filtering",parameters:[{name:"from",type:"string",required:!1,description:"Filter by sender"},{name:"to",type:"string",required:!1,description:"Filter by recipient"},{name:"status",type:"string",required:!1,description:"Filter by status"},{name:"limit",type:"number",required:!1,description:"Number of results (1-100)"}],response:{messages:[],totalCount:0,hasMore:!1}}]},{name:"Whatsapp API",description:"Send messages via WhatsApp Business Platform",methods:[{name:"Send WhatsApp Message",method:"POST",endpoint:"/v1/messages/whatsapp",description:"Send a message through WhatsApp Business",parameters:[{name:"to",type:"string",required:!0,description:"Recipient WhatsApp number"},{name:"template",type:"string",required:!1,description:"Template name"},{name:"message",type:"string",required:!1,description:"Text message (if not using template)"},{name:"media_url",type:"string",required:!1,description:"URL for media attachment"}],response:{messageId:"wa_456",status:"sent"}},{name:"Send Template Message",method:"POST",endpoint:"/v1/messages/whatsapp/templates",description:"Send a pre-approved WhatsApp template",parameters:[{name:"to",type:"string",required:!0,description:"Recipient number"},{name:"template_name",type:"string",required:!0,description:"Approved template name"},{name:"language",type:"string",required:!0,description:"Language code (e.g., en_US)"},{name:"parameters",type:"array",required:!1,description:"Template parameter values"}],response:{messageId:"wa_789",status:"queued"}}]},{name:"RCS API",description:"Rich Communication Services with rich media",methods:[{name:"Send RCS Message",method:"POST",endpoint:"/v1/messages/rcs",description:"Send rich media message via RCS",parameters:[{name:"to",type:"string",required:!0,description:"Recipient phone number"},{name:"from",type:"string",required:!0,description:"RCS agent ID"},{name:"content",type:"object",required:!0,description:"RCS message content"},{name:"suggestions",type:"array",required:!1,description:"Suggested replies/actions"}],response:{messageId:"rcs_321",status:"sent"}}]},{name:"Email API",description:"Transactional and marketing email delivery",methods:[{name:"Send Email",method:"POST",endpoint:"/v1/messages/email",description:"Send an email message",parameters:[{name:"to",type:"string",required:!0,description:"Recipient email address"},{name:"from",type:"string",required:!0,description:"Sender email address"},{name:"subject",type:"string",required:!0,description:"Email subject"},{name:"html",type:"string",required:!1,description:"HTML content"},{name:"text",type:"string",required:!1,description:"Plain text content"},{name:"attachments",type:"array",required:!1,description:"File attachments"}],response:{emailId:"email_654",status:"queued"}}]}]},voice:{name:"Voice API",icon:$.Phone,color:"green",apis:[{name:"Voice API",description:"Make and receive voice calls with programmable features",methods:[{name:"Make Outbound Call",method:"POST",endpoint:"/v1/calls",description:"Initiate an outbound call",parameters:[{name:"to",type:"string",required:!0,description:"Destination phone number"},{name:"from",type:"string",required:!0,description:"Caller ID number"},{name:"twiml_url",type:"string",required:!1,description:"TwiML instructions URL"},{name:"callback_url",type:"string",required:!1,description:"Status callback webhook"}],response:{callId:"call_789",status:"initiated"}},{name:"Get Call Details",method:"GET",endpoint:"/v1/calls/{callId}",description:"Retrieve call information and status",parameters:[{name:"callId",type:"string",required:!0,description:"Call identifier"}],response:{callId:"call_789",status:"completed",duration:120}},{name:"Modify Live Call",method:"POST",endpoint:"/v1/calls/{callId}",description:"Modify an in-progress call",parameters:[{name:"callId",type:"string",required:!0,description:"Call identifier"},{name:"action",type:"string",required:!0,description:"Action: redirect, hangup, mute"},{name:"twiml_url",type:"string",required:!1,description:"New TwiML URL (for redirect)"}],response:{callId:"call_789",status:"updated"}}]},{name:"SIP Trunking",description:"Connect your PBX to the PSTN network",methods:[{name:"Create SIP Trunk",method:"POST",endpoint:"/v1/sip/trunks",description:"Provision a new SIP trunk",parameters:[{name:"name",type:"string",required:!0,description:"Trunk friendly name"},{name:"domain",type:"string",required:!0,description:"SIP domain"},{name:"auth_type",type:"string",required:!0,description:"Authentication method"}],response:{trunkId:"trunk_123",domain:"customer.sip.maxis.com"}},{name:"List SIP Trunks",method:"GET",endpoint:"/v1/sip/trunks",description:"List all SIP trunks",parameters:[],response:{trunks:[]}}]},{name:"Cloud PBX",description:"Manage virtual phone system",methods:[{name:"Create Extension",method:"POST",endpoint:"/v1/pbx/extensions",description:"Create a new phone extension",parameters:[{name:"extension",type:"string",required:!0,description:"Extension number"},{name:"name",type:"string",required:!0,description:"Extension name"},{name:"features",type:"object",required:!1,description:"Feature configuration"}],response:{extensionId:"ext_456",extension:"101"}}]},{name:"Number Management",description:"Search, purchase, and manage phone numbers",methods:[{name:"Search Available Numbers",method:"GET",endpoint:"/v1/numbers/available",description:"Search for available phone numbers",parameters:[{name:"country",type:"string",required:!0,description:"Country code (e.g., MY)"},{name:"type",type:"string",required:!1,description:"Number type: local, mobile, tollfree"},{name:"pattern",type:"string",required:!1,description:"Pattern to match"}],response:{numbers:["+60123456789"],totalAvailable:50}},{name:"Purchase Number",method:"POST",endpoint:"/v1/numbers",description:"Purchase a phone number",parameters:[{name:"phone_number",type:"string",required:!0,description:"Number to purchase"},{name:"friendly_name",type:"string",required:!1,description:"Display name"}],response:{numberId:"num_789",phoneNumber:"+60123456789"}}]}]},video:{name:"Video APIs",icon:ap.Video,color:"purple",apis:[{name:"Video Rooms",description:"Create and manage video conferencing rooms",methods:[{name:"Create Video Room",method:"POST",endpoint:"/v1/video/rooms",description:"Create a new video room",parameters:[{name:"name",type:"string",required:!0,description:"Room name"},{name:"max_participants",type:"number",required:!1,description:"Maximum participants"},{name:"recording",type:"boolean",required:!1,description:"Enable recording"}],response:{roomId:"room_abc",roomUrl:"https://meet.maxis.com/room/abc"}},{name:"Generate Access Token",method:"POST",endpoint:"/v1/video/rooms/{roomId}/tokens",description:"Generate participant access token",parameters:[{name:"roomId",type:"string",required:!0,description:"Room identifier"},{name:"identity",type:"string",required:!0,description:"Participant identity"},{name:"ttl",type:"number",required:!1,description:"Token validity in seconds"}],response:{token:"eyJ0eXAi...",expiresAt:"2024-01-02T12:00:00Z"}}]},{name:"Meeting AI",description:"AI-powered meeting features",methods:[{name:"Start Transcription",method:"POST",endpoint:"/v1/video/rooms/{roomId}/transcription",description:"Enable AI transcription for a meeting",parameters:[{name:"roomId",type:"string",required:!0,description:"Room ID"},{name:"language",type:"string",required:!1,description:"Transcription language"}],response:{transcriptionId:"trans_123",status:"active"}}]}]},verification:{name:"Verification & Identity",icon:h.Shield,color:"orange",apis:[{name:"OTP Verification",description:"One-time password verification",methods:[{name:"Send Verification Code",method:"POST",endpoint:"/v1/verify/send",description:"Send OTP to user",parameters:[{name:"to",type:"string",required:!0,description:"Phone or email"},{name:"channel",type:"string",required:!0,description:"sms, whatsapp, or email"},{name:"code_length",type:"number",required:!1,description:"OTP length (4-10)"}],response:{verificationId:"verify_123",status:"pending"}},{name:"Check Verification Code",method:"POST",endpoint:"/v1/verify/check",description:"Verify the OTP code",parameters:[{name:"verification_id",type:"string",required:!0,description:"Verification ID"},{name:"code",type:"string",required:!0,description:"User-provided code"}],response:{status:"approved",valid:!0}}]},{name:"Number Lookup",description:"Phone number intelligence",methods:[{name:"Lookup Phone Number",method:"GET",endpoint:"/v1/lookup/{phoneNumber}",description:"Get phone number information",parameters:[{name:"phoneNumber",type:"string",required:!0,description:"Phone number to lookup"},{name:"type",type:"string",required:!1,description:"carrier, caller-name, or both"}],response:{number:"+60123456789",carrier:"Maxis",valid:!0}}]}]},analytics:{name:"Analytics & Insights",icon:aJ.BarChart3,color:"cyan",apis:[{name:"Usage Analytics",description:"API usage and metrics",methods:[{name:"Get Usage Statistics",method:"GET",endpoint:"/v1/analytics/usage",description:"Retrieve usage statistics",parameters:[{name:"start_date",type:"string",required:!0,description:"Start date (ISO 8601)"},{name:"end_date",type:"string",required:!0,description:"End date (ISO 8601)"},{name:"granularity",type:"string",required:!1,description:"hour, day, or month"}],response:{total_requests:1e3,total_cost:50}}]},{name:"Call Analytics",description:"Voice call metrics and quality",methods:[{name:"Get Call Metrics",method:"GET",endpoint:"/v1/analytics/calls",description:"Retrieve call quality metrics",parameters:[{name:"call_id",type:"string",required:!1,description:"Specific call ID"},{name:"date_range",type:"string",required:!1,description:"Date range filter"}],response:{averageDuration:120,totalCalls:500}}]}]}};(0,c.useEffect)(()=>{a&&(ac(),ad())},[a]),(0,c.useEffect)(()=>{if(D){let a=setTimeout(()=>F(null),4e3);return()=>clearTimeout(a)}},[D]);let ac=async()=>{try{let{data:b,error:c}=await n.db.from("developer_progress").select("*").eq("user_id",a?.id).maybeSingle();if(c&&"PGRST116"!==c.code)throw c;if(b)K(b),e(b.current_step);else{let b={user_id:a?.id||"",current_step:1,api_key_generated:!1,sdk_downloaded:!1,first_api_call:!1,completed_tutorial:!1,test_calls_made:0,last_activity:new Date().toISOString()},{data:c,error:d}=await n.db.from("developer_progress").insert(b).select().single();!d&&c&&K(c)}}catch(a){console.error("Error loading progress:",a)}},ad=async()=>{try{let{data:b,error:c}=await n.db.from("api_keys").select("api_key_prefix, key_name").eq("tenant_id",a?.user_metadata?.tenant_id).eq("status","active").maybeSingle();b&&b.api_key_prefix&&(i(b.api_key_prefix+"_"+"â€¢".repeat(32)),k("sk_"+"â€¢".repeat(48)))}catch(a){console.error("Error checking API keys:",a)}},ae=async b=>{if(G)try{let{error:c}=await n.db.from("developer_progress").update({...b,last_activity:new Date().toISOString()}).eq("user_id",a?.id);if(c)throw c;K({...G,...b})}catch(a){console.error("Error updating progress:",a)}},af=async()=>{try{let b=`mk_live_${Math.random().toString(36).substring(2,10)}`,c=`${b}_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,d=`sk_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,{error:f}=await n.db.from("api_keys").insert({tenant_id:a?.user_metadata?.tenant_id,key_name:"Production API Key",key_description:"API key for production use",api_key_hash:c,api_key_prefix:b,status:"active",total_requests:0});if(f)throw f;i(c),k(d),await ae({api_key_generated:!0,current_step:3}),e(3),F({type:"success",message:"API keys generated successfully!"})}catch(a){console.error("Error generating API keys:",a),F({type:"error",message:"Failed to generate API keys"})}},ag=async(a,b)=>{try{await navigator.clipboard.writeText(a),M(b),setTimeout(()=>M(""),2e3),F({type:"success",message:"Copied to clipboard!"})}catch(a){F({type:"error",message:"Failed to copy"})}},ah=async()=>{if(!g)return void F({type:"error",message:"Please generate API keys first"});z(!0);try{await new Promise(a=>setTimeout(a,1500));let a={success:!0,messageId:`msg_${Date.now()}`,status:"sent",timestamp:new Date().toISOString(),requestId:`req_${Math.random().toString(36).substring(7)}`};x(a);let b={timestamp:new Date().toISOString(),method:T.method,endpoint:T.endpoint,status:200,duration:Math.floor(500*Math.random())+100};W(a=>[b,...a].slice(0,10));let c=(G?.test_calls_made||0)+1;await ae({first_api_call:!0,test_calls_made:c}),F({type:"success",message:"API call successful!"})}catch(a){x({success:!1,error:"API call failed",message:"Please check your credentials and try again"}),F({type:"error",message:"API call failed"})}finally{z(!1)}},ai=a=>{let b={javascript:`// Install SDK: npm install @maxis/communications-sdk
import { MaxisClient } from '@maxis/communications-sdk';

const client = new MaxisClient({
  apiKey: '${g||"your-api-key"}',
  apiSecret: '${j?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"your-api-secret"}'
});

// ${a.name}
const response = await client.${a.method.toLowerCase()}('${a.endpoint}', ${JSON.stringify(Object.fromEntries(a.parameters.slice(0,3).map(a=>[a.name,`<${a.type}>`])),null,2)});

console.log(response);`,python:`# Install SDK: pip install maxis-communications
from maxis import MaxisClient

client = MaxisClient(
    api_key='${g||"your-api-key"}',
    api_secret='${j?"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢":"your-api-secret"}'
)

# ${a.name}
response = client.${a.method.toLowerCase()}('${a.endpoint}', ${JSON.stringify(Object.fromEntries(a.parameters.slice(0,3).map(a=>[a.name,`<${a.type}>`])))})

print(response)`,curl:`# ${a.name}
curl -X ${a.method} 'https://api.maxis.com${a.endpoint}' \\
  -H 'Authorization: Bearer ${g||"your-api-key"}' \\
  -H 'Content-Type: application/json' \\
  -d '${JSON.stringify(Object.fromEntries(a.parameters.slice(0,3).map(a=>[a.name,`<${a.type}>`])),null,2)}'`};return b[q]||b.javascript},aj=[{id:"javascript",name:"JavaScript",icon:"ðŸ“¦"},{id:"python",name:"Python",icon:"ðŸ"},{id:"curl",name:"cURL",icon:"ðŸ’»"}],al=Math.min(100,d/5*100),am=Object.entries(ab).filter(([a,b])=>""===_||b.name.toLowerCase().includes(_.toLowerCase())||b.apis.some(a=>a.name.toLowerCase().includes(_.toLowerCase())||a.description.toLowerCase().includes(_.toLowerCase())));return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[D&&(0,b.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===D.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===D.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(w.X,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:D.message})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(aU.default,{className:"w-10 h-10 text-cyan-400"}),"Developer Hub"]}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Comprehensive API library and interactive playground"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[al.toFixed(0),"%"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Complete"})]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-800 rounded-full h-3 mb-8",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${al}%`}})})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-6 border-b border-slate-700",children:[{id:"quickstart",label:"Quick Start",icon:aR.default},{id:"api-library",label:"API Library",icon:aT.default},{id:"playground",label:"API Playground",icon:aX.default},{id:"resources",label:"Resources",icon:ak.Package}].map(a=>{let c=a.icon;return(0,b.jsx)("button",{onClick:()=>O(a.id),className:`px-6 py-3 font-medium transition-all border-b-2 ${N===a.id?"text-cyan-400 border-cyan-400":"text-slate-400 border-transparent hover:text-slate-300"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"w-5 h-5"}),a.label]})},a.id)})}),"quickstart"===N&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"bg-blue-500/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(aF.Code,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Easy Integration"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Simple REST APIs and SDKs for all major programming languages"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"bg-green-500/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(aR.default,{className:"w-6 h-6 text-green-400"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Fast & Reliable"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"99.9% uptime with global infrastructure for low-latency delivery"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"bg-purple-500/20 w-12 h-12 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(h.Shield,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Production Ready"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Battle-tested at scale with enterprise-grade security and compliance"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(as.default,{className:"w-6 h-6 text-yellow-400"}),"Quick Start Guide"]}),(0,b.jsx)("div",{className:"space-y-6",children:[{number:1,title:"Create Your Account",description:"Sign up for a free account and get instant access to all communication APIs",status:"completed",action:null},{number:2,title:"Generate API Credentials",description:"Create your API key and secret to authenticate your requests",status:2===d?"current":d>2?"completed":"pending",action:af},{number:3,title:"Explore API Library",description:"Browse our comprehensive API documentation and examples",status:3===d?"current":d>3?"completed":"pending",action:()=>O("api-library")},{number:4,title:"Test in Playground",description:"Make your first API call in our interactive playground",status:4===d?"current":d>4?"completed":"pending",action:()=>O("playground")},{number:5,title:"Go Live",description:"Deploy to production and start building amazing experiences",status:5===d?"completed":"pending",action:null}].map(a=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${"completed"===a.status?"bg-green-500/20 text-green-400 border-2 border-green-500":"current"===a.status?"bg-blue-500/20 text-blue-400 border-2 border-blue-500 animate-pulse":"bg-slate-700/50 text-slate-500 border-2 border-slate-600"}`,children:"completed"===a.status?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)("span",{className:"font-bold",children:a.number})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:a.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]}),"current"===a.status&&a.action&&(0,b.jsxs)("button",{onClick:a.action,className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/25 self-start",children:["Continue",(0,b.jsx)(au.default,{className:"w-4 h-4"})]})]},a.number))})]}),g&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(f.default,{className:"w-6 h-6 text-yellow-400"}),"Your API Credentials"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"API Key"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:g,readOnly:!0,className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm"}),(0,b.jsx)("button",{onClick:()=>ag(g,"apiKey"),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"apiKey"===L?(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}):(0,b.jsx)(A.default,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"API Secret"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:l?"text":"password",value:j,readOnly:!0,className:"flex-1 bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm"}),(0,b.jsx)("button",{onClick:()=>o(!l),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:l?(0,b.jsx)(C.default,{className:"w-5 h-5"}):(0,b.jsx)(B.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>ag(j,"apiSecret"),className:"px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"apiSecret"===L?(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}):(0,b.jsx)(A.default,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,b.jsx)(aW.default,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-yellow-200",children:[(0,b.jsx)("strong",{children:"Keep your API secret secure!"})," Never commit it to version control or expose it in client-side code."]})]})]})]})]}),"api-library"===N&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,b.jsx)(aT.default,{className:"w-6 h-6 text-blue-400"}),"Complete API Reference"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Browse all available APIs, methods, and parameters"})]}),(0,b.jsxs)("div",{className:"relative w-80",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search APIs...",value:_,onChange:a=>aa(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500"})]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:Object.entries(ab).map(([a,c])=>{let d=c.icon;return(0,b.jsx)("button",{onClick:()=>Q(a),className:`px-4 py-2 rounded-lg border transition-all ${P===a?`bg-${c.color}-500/20 border-${c.color}-500 text-${c.color}-400`:"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-600"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d,{className:"w-4 h-4"}),c.name]})},a)})})]}),am.map(([a,c])=>P&&P!==a?null:(0,b.jsx)("div",{className:"space-y-4",children:c.apis.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:a.name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]}),(0,b.jsxs)("button",{onClick:()=>S(R===a.name?"":a.name),className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:[R===a.name?"Hide":"Show"," Methods"]})]})}),R===a.name&&(0,b.jsx)("div",{className:"p-6 space-y-6",children:a.methods.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${"GET"===a.method?"bg-green-500/20 text-green-400":"POST"===a.method?"bg-blue-500/20 text-blue-400":"PUT"===a.method?"bg-orange-500/20 text-orange-400":"DELETE"===a.method?"bg-red-500/20 text-red-400":"bg-purple-500/20 text-purple-400"}`,children:a.method}),(0,b.jsx)("code",{className:"text-cyan-400 font-mono text-sm",children:a.endpoint})]}),(0,b.jsxs)("button",{onClick:()=>{U({...T,method:a.method,endpoint:a.endpoint}),O("playground")},className:"text-xs bg-cyan-600 hover:bg-cyan-700 text-white px-3 py-1 rounded-lg transition-colors flex items-center gap-1",children:[(0,b.jsx)(aH.Play,{className:"w-3 h-3"}),"Try it"]})]}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:a.description}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Parameters"}),(0,b.jsx)("div",{className:"space-y-2",children:a.parameters.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,b.jsx)("code",{className:"text-cyan-400 font-mono",children:a.name}),(0,b.jsx)("span",{className:"text-slate-500",children:a.type}),a.required&&(0,b.jsx)("span",{className:"text-red-400 text-xs",children:"required"}),(0,b.jsx)("span",{className:"text-slate-400 flex-1",children:a.description})]},c))})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white mb-2",children:"Example Response"}),(0,b.jsx)("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto",children:(0,b.jsx)("code",{children:JSON.stringify(a.response,null,2)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white",children:"Code Example"}),(0,b.jsx)("div",{className:"flex gap-2",children:aj.map(a=>(0,b.jsx)("button",{onClick:()=>r(a.id),className:`px-3 py-1 rounded text-xs ${q===a.id?"bg-cyan-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:a.name},a.id))})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:()=>ag(ai(a),`code-${c}`),className:"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 text-slate-400 rounded-lg transition-colors z-10",children:L===`code-${c}`?(0,b.jsx)(an.default,{className:"w-4 h-4 text-green-400"}):(0,b.jsx)(A.default,{className:"w-4 h-4"})}),(0,b.jsx)("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-4 text-xs text-slate-300 overflow-x-auto pr-12",children:(0,b.jsx)("code",{children:ai(a)})})]})]})]},c))})]},c))},a))]}),"playground"===N&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(aX.default,{className:"w-6 h-6 text-cyan-400"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Advanced API Playground"})]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Test APIs with real-time request/response inspection and logging"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Request Builder"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Method"}),(0,b.jsxs)("select",{value:T.method,onChange:a=>U({...T,method:a.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"GET",children:"GET"}),(0,b.jsx)("option",{value:"POST",children:"POST"}),(0,b.jsx)("option",{value:"PUT",children:"PUT"}),(0,b.jsx)("option",{value:"DELETE",children:"DELETE"}),(0,b.jsx)("option",{value:"PATCH",children:"PATCH"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Endpoint"}),(0,b.jsx)("input",{type:"text",value:T.endpoint,onChange:a=>U({...T,endpoint:a.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-cyan-500",placeholder:"/v1/messages/sms"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Request Body (JSON)"}),(0,b.jsx)("textarea",{value:T.body,onChange:a=>U({...T,body:a.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-cyan-500 h-40",placeholder:'{ "key": "value" }'})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Webhook URL (Optional)"}),(0,b.jsx)("input",{type:"text",value:X,onChange:a=>Y(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white text-sm focus:outline-none focus:border-cyan-500",placeholder:"https://your-app.com/webhook"})]}),(0,b.jsx)("button",{onClick:ah,disabled:y||!g,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-4 rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/25 font-medium",children:y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Sending Request..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"Send Request"]})}),!g&&(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 flex items-start gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm text-yellow-200",children:"Please generate API credentials from the Quick Start tab first"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(J.Clock,{className:"w-5 h-5 text-slate-400"}),"Request Log"]}),(0,b.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:0===V.length?(0,b.jsx)("p",{className:"text-slate-500 text-sm text-center py-8",children:"No requests yet"}):V.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-3 text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${200===a.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.status}),(0,b.jsx)("span",{className:"text-blue-400 font-mono",children:a.method}),(0,b.jsx)("span",{className:"text-slate-400",children:a.endpoint})]}),(0,b.jsxs)("span",{className:"text-slate-500",children:[a.duration,"ms"]})]}),(0,b.jsx)("div",{className:"text-slate-500",children:a.timestamp})]},c))})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Response"}),u?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[u.success?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}):(0,b.jsx)(w.X,{className:"w-5 h-5 text-red-400"}),(0,b.jsx)("span",{className:`font-medium ${u.success?"text-green-400":"text-red-400"}`,children:u.success?"Success (200 OK)":"Error"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4 relative",children:[(0,b.jsx)("button",{onClick:()=>ag(JSON.stringify(u,null,2),"response"),className:"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 text-slate-400 rounded-lg transition-colors",children:"response"===L?(0,b.jsx)(an.default,{className:"w-4 h-4 text-green-400"}):(0,b.jsx)(A.default,{className:"w-4 h-4"})}),(0,b.jsx)("pre",{className:"text-sm text-slate-300 overflow-x-auto pr-12",children:(0,b.jsx)("code",{children:JSON.stringify(u,null,2)})})]})]}):(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-12 text-center",children:[(0,b.jsx)(m.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-500",children:"No response yet"}),(0,b.jsx)("p",{className:"text-slate-600 text-sm mt-2",children:"Send a request to see the response"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(aZ.default,{className:"w-5 h-5 text-purple-400"}),"Webhook Simulator"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Set a webhook URL to receive delivery receipts and status updates in real-time"}),(0,b.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(a$.default,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-purple-200",children:[(0,b.jsx)("strong",{children:"Webhook Status:"})," ",X?"Configured":"Not configured",X&&(0,b.jsx)("div",{className:"mt-2 text-xs text-purple-300 font-mono break-all",children:X})]})]})})]}),G&&G.test_calls_made>0&&(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"text-green-400 font-medium mb-1 flex items-center gap-2",children:[(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5"}),G.test_calls_made," API ",1===G.test_calls_made?"call":"calls"," made"]}),(0,b.jsx)("div",{className:"text-green-200 text-sm",children:"Keep testing to explore all API capabilities!"})]})]})]})]}),"resources"===N&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,b.jsx)(ak.Package,{className:"w-6 h-6 text-purple-400"}),"Developer Resources"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Everything you need to build, test, and scale your integration"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:aT.default,title:"API Documentation",description:"Complete API reference with examples",link:"#"},{icon:aS.default,title:"Interactive Console",description:"Test APIs directly in your browser",link:"#"},{icon:aF.Code,title:"Code Samples",description:"Production-ready code snippets",link:"#"},{icon:aU.default,title:"Quick Start Guides",description:"Step-by-step integration tutorials",link:"#"},{icon:m.default,title:"Status Dashboard",description:"Real-time API status and metrics",link:"#"},{icon:h.Shield,title:"Security Best Practices",description:"Keep your integration secure",link:"#"},{icon:aV.default,title:"Webhooks Guide",description:"Handle real-time events",link:"#"},{icon:aY.default,title:"Use Cases",description:"Inspiration and examples",link:"#"},{icon:I.Globe,title:"Global Coverage",description:"Available countries and carriers",link:"#"}].map((a,c)=>{let d=a.icon;return(0,b.jsxs)("a",{href:a.link,className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all group cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-700/50 rounded-lg group-hover:bg-slate-700 transition-colors",children:(0,b.jsx)(d,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsx)(aG.default,{className:"w-4 h-4 text-slate-500 group-hover:text-cyan-400 transition-colors"})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:a.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]},c)})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl p-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Need Help Getting Started?"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Our support team is here to help you integrate and go live faster"})]}),(0,b.jsxs)("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-blue-500/25",children:["Contact Support",(0,b.jsx)(au.default,{className:"w-5 h-5"})]})]})})]})]})}var a0=a.i(45222),y=y,ao=ao,z=z,m=m,al=al,a1=a.i(2312),a1=a1,K=K,a2=a.i(6718),a2=a2,a3=a.i(89629),a3=a3,a4=a.i(19285),a4=a4,a5=a.i(57851),a5=a5,a6=a.i(8007),a6=a6,ae=ae,a7=a.i(11081),a7=a7,ax=ax,a8=a.i(66628),a8=a8,a9=a.i(15415),a9=a9;function ba(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)("overview"),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(null),[l,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[x,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(!1),[I,L]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)({subject:"",description:"",priority:"medium",category_id:""}),[V,W]=(0,c.useState)({severity:"medium",impact:"medium",urgency:"medium",affected_services:"",description:""}),[X,Y]=(0,c.useState)({title:"",description:"",category:"",priority:"medium"}),[Z,$]=(0,c.useState)({title:"",description:"",change_type:"standard",risk_level:"low",impact:"low",scheduled_start:"",scheduled_end:""}),[_,aa]=(0,c.useState)({asset_tag:"",asset_name:"",asset_type:"laptop",manufacturer:"",model:"",location:"",purchase_date:""}),[ab,ac]=(0,c.useState)({policy_name:"",priority:"medium",response_time_minutes:240,resolution_time_minutes:2880}),[ad,af]=(0,c.useState)({openTickets:0,criticalIncidents:0,pendingChanges:0,avgResolutionTime:0,slaCompliance:0,totalAssets:0});(0,c.useEffect)(()=>{ag()},[]);let ag=async()=>{g(!0);try{await Promise.all([ah(),ai(),aj(),an(),ap(),aq(),as(),at()])}catch(a){console.error("Error loading support data:",a)}finally{g(!1)}},ah=async()=>{let{data:a}=await n.db.from("support_tickets").select(`
        *,
        category:support_categories(name, icon),
        agent:support_agents(full_name, avatar_url)
      `).order("created_at",{ascending:!1});a&&i(a)},ai=async()=>{let{data:a}=await n.db.from("itsm_incidents").select("*").order("detected_at",{ascending:!1});a&&s(a)},aj=async()=>{let{data:a}=await n.db.from("itsm_problems").select("*").order("identified_at",{ascending:!1});a&&u(a)},an=async()=>{let{data:a}=await n.db.from("itsm_changes").select("*").order("created_at",{ascending:!1});a&&A(a)},ap=async()=>{let{data:a}=await n.db.from("itsm_assets").select("*").order("asset_name");a&&C(a)},aq=async()=>{let{data:a}=await n.db.from("itsm_service_catalog").select("*").eq("is_active",!0).order("display_order");a&&E(a)},as=async()=>{let{data:a}=await n.db.from("itsm_sla_policies").select("*").eq("is_active",!0).order("priority");a&&q(a)},at=async()=>{let{data:a}=await n.db.from("support_tickets").select("status").in("status",["open","assigned","in_progress"]),{data:b}=await n.db.from("itsm_incidents").select("severity").eq("severity","critical").in("incident_status",["new","investigating","in_progress"]),{data:c}=await n.db.from("itsm_changes").select("approval_status").eq("approval_status","pending"),{data:d}=await n.db.from("itsm_assets").select("id");af({openTickets:a?.length||0,criticalIncidents:b?.length||0,pendingChanges:c?.length||0,avgResolutionTime:245,slaCompliance:94.5,totalAssets:d?.length||0})},au=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{data:b}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a.id).single(),c=`INC-${Date.now().toString().slice(-6)}`,{error:d}=await n.db.from("itsm_incidents").insert({tenant_id:b?.tenant_id||null,incident_number:c,severity:V.severity,impact:V.impact,urgency:V.urgency,affected_services:V.affected_services.split(",").map(a=>a.trim()),incident_status:"new",created_by:a.id});d||(G(!1),W({severity:"medium",impact:"medium",urgency:"medium",affected_services:"",description:""}),ai(),at())},av=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{data:b}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a.id).single(),c=`PRB-${Date.now().toString().slice(-6)}`,{error:d}=await n.db.from("itsm_problems").insert({tenant_id:b?.tenant_id||null,problem_number:c,title:X.title,description:X.description,category:X.category,priority:X.priority,problem_status:"identified",created_by:a.id});d||(L(!1),Y({title:"",description:"",category:"",priority:"medium"}),aj())},aw=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{data:b}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a.id).single(),c=`CHG-${Date.now().toString().slice(-6)}`,{error:d}=await n.db.from("itsm_changes").insert({tenant_id:b?.tenant_id||null,change_number:c,title:Z.title,description:Z.description,change_type:Z.change_type,risk_level:Z.risk_level,impact:Z.impact,change_status:"draft",approval_status:"pending",scheduled_start:Z.scheduled_start||null,scheduled_end:Z.scheduled_end||null,requested_by:a.id});d||(O(!1),$({title:"",description:"",change_type:"standard",risk_level:"low",impact:"low",scheduled_start:"",scheduled_end:""}),an(),at())},ay=async()=>{let{data:b}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a?.id).single(),{error:c}=await n.db.from("itsm_assets").insert({tenant_id:b?.tenant_id||null,asset_tag:_.asset_tag,asset_name:_.asset_name,asset_type:_.asset_type,manufacturer:_.manufacturer,model:_.model,asset_status:"in_stock",location:_.location,purchase_date:_.purchase_date||null});c||(Q(!1),aa({asset_tag:"",asset_name:"",asset_type:"laptop",manufacturer:"",model:"",location:"",purchase_date:""}),ap(),at())},az=async()=>{let{data:b}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a?.id).single(),{error:c}=await n.db.from("itsm_sla_policies").insert({tenant_id:b?.tenant_id||null,policy_name:ab.policy_name,priority:ab.priority,response_time_minutes:ab.response_time_minutes,resolution_time_minutes:ab.resolution_time_minutes,business_hours_only:!0,is_active:!0});c||(S(!1),ac({policy_name:"",priority:"medium",response_time_minutes:240,resolution_time_minutes:2880}),as())},aA=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{data:b}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a.id).single(),c=`TKT-${Math.floor(9e5*Math.random()+1e5)}`,{error:d}=await n.db.from("support_tickets").insert({ticket_number:c,tenant_id:b?.tenant_id||null,user_id:a.id,subject:T.subject,description:T.description,status:"open",priority:T.priority,channel:"web",category_id:T.category_id||null});d||(o(!1),U({subject:"",description:"",priority:"medium",category_id:""}),ah(),at())},aB=a=>({critical:"bg-red-500/20 text-red-400 border-red-500/30",high:"bg-orange-500/20 text-orange-400 border-orange-500/30",medium:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",low:"bg-blue-500/20 text-blue-400 border-blue-500/30"})[a]||"bg-gray-500/20 text-gray-400 border-gray-500/30",aC=a=>({open:"bg-blue-500/20 text-blue-400 border-blue-500/30",new:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",investigating:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",in_progress:"bg-orange-500/20 text-orange-400 border-orange-500/30",resolved:"bg-green-500/20 text-green-400 border-green-500/30",closed:"bg-gray-500/20 text-gray-400 border-gray-500/30",pending:"bg-purple-500/20 text-purple-400 border-purple-500/30",approved:"bg-green-500/20 text-green-400 border-green-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30"})[a]||"bg-gray-500/20 text-gray-400 border-gray-500/30",aD=a=>a?new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return f?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading ITSM Center..."})]})}):(0,b.jsxs)("div",{className:"p-8 bg-slate-950 min-h-screen",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"IT Service Management"}),(0,b.jsx)("p",{className:"text-xl text-slate-400",children:"Comprehensive ITSM Platform with SLA Management"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(K.default,{className:"w-5 h-5"}),"New Incident"]}),(0,b.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Ticket"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(a1.default,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:ad.openTickets})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Open Tickets"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:ad.criticalIncidents})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Critical Incidents"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,b.jsx)(a4.default,{className:"w-6 h-6 text-orange-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:ad.pendingChanges})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Pending Changes"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(a6.default,{className:"w-6 h-6 text-green-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:ad.avgResolutionTime})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Avg Resolution (min)"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(a5.default,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white",children:[ad.slaCompliance,"%"]})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"SLA Compliance"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(ak.Package,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:ad.totalAssets})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Total Assets"})]})]})]}),(0,b.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl mb-6",children:(0,b.jsx)("div",{className:"flex gap-2 p-4 overflow-x-auto",children:[{id:"overview",name:"Overview",icon:m.default},{id:"tickets",name:"Tickets",icon:a1.default},{id:"incidents",name:"Incidents",icon:aL.AlertCircle},{id:"problems",name:"Problems",icon:a3.default},{id:"changes",name:"Changes",icon:a4.default},{id:"assets",name:"Assets",icon:ak.Package},{id:"catalog",name:"Service Catalog",icon:am.ShoppingCart},{id:"sla",name:"SLA Management",icon:a5.default},{id:"reports",name:"Reports",icon:aJ.BarChart3}].map(a=>{let c=a.icon,f=d===a.id;return(0,b.jsxs)("button",{onClick:()=>e(a.id),className:`flex items-center gap-2 px-4 py-3 rounded-lg font-medium whitespace-nowrap transition-all ${f?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.name]},a.id)})})}),(0,b.jsxs)("div",{children:["overview"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Recent Incidents"}),(0,b.jsx)("button",{onClick:()=>e("incidents"),className:"text-cyan-400 hover:text-cyan-300 text-sm",children:"View All"})]}),(0,b.jsx)("div",{className:"space-y-3",children:r.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium text-white mb-1",children:a.incident_number}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${aB(a.severity)}`,children:a.severity}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${aC(a.incident_status)}`,children:a.incident_status})]})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:aD(a.detected_at)})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Upcoming Changes"}),(0,b.jsx)("button",{onClick:()=>e("changes"),className:"text-cyan-400 hover:text-cyan-300 text-sm",children:"View All"})]}),(0,b.jsx)("div",{className:"space-y-3",children:x.filter(a=>a.scheduled_start).slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium text-white mb-1",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${aB(a.risk_level)}`,children:[a.risk_level," risk"]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${aC(a.approval_status)}`,children:a.approval_status})]})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:aD(a.scheduled_start)})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Service Catalog"}),(0,b.jsx)("button",{onClick:()=>e("catalog"),className:"text-cyan-400 hover:text-cyan-300 text-sm",children:"View All"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:D.slice(0,4).map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-cyan-500 transition-all cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(am.ShoppingCart,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsx)("div",{className:"font-semibold text-white",children:a.service_name})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-2",children:a.service_category}),(0,b.jsxs)("div",{className:"text-xs text-slate-500",children:["Est. ",a.estimated_fulfillment_time_hours,"h"]})]},a.id))})]})]}),"tickets"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Support Tickets"}),(0,b.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Ticket"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===h.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(a1.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No tickets found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create a new ticket to get support"})]}):h.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all cursor-pointer",onClick:()=>k(a),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-6 h-6 text-cyan-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-white",children:a.subject}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:[a.ticket_number," - Created ",aD(a.created_at)]})]})]}),(0,b.jsxs)("p",{className:"text-sm text-slate-400 mb-3",children:[a.description.substring(0,150),a.description.length>150?"...":""]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aB(a.priority)}`,children:a.priority}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aC(a.status)}`,children:a.status.replace("_"," ")})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(al.default,{className:"w-4 h-4"}),a.category?.name||"General"]}),a.assigned_agent_id&&a.agent&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(M.User,{className:"w-4 h-4"}),a.agent.full_name]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex items-center gap-2",children:a.tags.slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-900 rounded text-xs",children:a},c))})]})]},a.id))})]}),"incidents"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Incident Management"}),(0,b.jsxs)("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Incident"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:r.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-white",children:a.incident_number}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:["Detected ",aD(a.detected_at)]})]})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aB(a.severity)}`,children:a.severity}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aC(a.incident_status)}`,children:a.incident_status})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Impact: ",a.impact]}),(0,b.jsxs)("span",{children:["Urgency: ",a.urgency]}),a.affected_services&&(0,b.jsxs)("span",{children:["Affected: ",a.affected_services.join(", ")]})]})]},a.id))})]}),"problems"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Problem Management"}),(0,b.jsxs)("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Problem"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:t.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a3.default,{className:"w-6 h-6 text-orange-400"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-lg font-semibold text-white",children:[a.problem_number,": ",a.title]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:a.description})]})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aB(a.priority)}`,children:a.priority}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aC(a.problem_status)}`,children:a.problem_status})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Related Incidents: ",a.related_incident_count]}),(0,b.jsxs)("span",{children:["Identified: ",aD(a.identified_at)]})]})]},a.id))})]}),"changes"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Change Management"}),(0,b.jsxs)("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Change"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:x.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a4.default,{className:"w-6 h-6 text-blue-400"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-lg font-semibold text-white",children:[a.change_number,": ",a.title]}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:a.description})]})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aB(a.risk_level)}`,children:[a.risk_level," risk"]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-sm font-medium border ${aC(a.approval_status)}`,children:a.approval_status})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Type: ",a.change_type]}),a.scheduled_start&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{children:["Scheduled: ",aD(a.scheduled_start)]}),(0,b.jsxs)("span",{children:["to ",aD(a.scheduled_end)]})]})]})]},a.id))})]}),"assets"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"IT Asset Management"}),(0,b.jsxs)("button",{onClick:()=>Q(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Asset"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(a=>{var c;let d=(c=a.asset_type,({laptop:ae.default,server:a2.default,phone:a7.default,printer:ax.default,monitor:ae.default,switch:a9.default,storage:a8.default})[c]||ak.Package);return(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(d,{className:"w-8 h-8 text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-lg font-semibold text-white mb-1",children:a.asset_name}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:a.asset_tag})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${aC(a.asset_status)}`,children:a.asset_status.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-400",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Type:"})," ",a.asset_type]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Manufacturer:"})," ",a.manufacturer]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Model:"})," ",a.model]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Location:"})," ",a.location]}),a.warranty_expiry&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Warranty:"})," ",aD(a.warranty_expiry)]})]})]},a.id)})})]}),"catalog"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Service Catalog"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Request IT services and support"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 hover:border-cyan-500 transition-all cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(am.ShoppingCart,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-semibold text-white mb-1",children:a.service_name}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:a.service_code})]})]}),(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-4",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500",children:a.service_category}),(0,b.jsxs)("span",{className:"text-xs text-cyan-400",children:["Est. ",a.estimated_fulfillment_time_hours,"h"]})]}),a.approval_required&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,b.jsxs)("span",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-3 h-3"}),"Approval Required"]})})]},a.id))})]}),"sla"===d&&(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"SLA Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Service Level Agreement policies and tracking"})]}),(0,b.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New SLA Policy"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(a5.default,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-white",children:a.policy_name}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:["Priority: ",a.priority]})]})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${a.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:a.is_active?"Active":"Inactive"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a6.default,{className:"w-4 h-4 text-blue-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Response Time"})]}),(0,b.jsx)("span",{className:"text-sm font-semibold text-white",children:a.response_time_minutes<60?`${a.response_time_minutes} min`:`${(a.response_time_minutes/60).toFixed(1)} hr`})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Resolution Time"})]}),(0,b.jsx)("span",{className:"text-sm font-semibold text-white",children:a.resolution_time_minutes<60?`${a.resolution_time_minutes} min`:`${(a.resolution_time_minutes/60).toFixed(1)} hr`})]})]})]},a.id))})]}),"reports"===d&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"ITSM Metrics"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Average First Response Time"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:"2.4 hours"})]}),(0,b.jsx)(ar.TrendingUp,{className:"w-8 h-8 text-green-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Average Resolution Time"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-white",children:[ad.avgResolutionTime," min"]})]}),(0,b.jsx)(J.Clock,{className:"w-8 h-8 text-blue-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"SLA Compliance Rate"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-white",children:[ad.slaCompliance,"%"]})]}),(0,b.jsx)(a5.default,{className:"w-8 h-8 text-cyan-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Customer Satisfaction"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:"4.6/5.0"})]}),(0,b.jsx)(ao.default,{className:"w-8 h-8 text-yellow-400"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-6",children:"Change Success Rate"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Successful Changes"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:"127"})]}),(0,b.jsx)(v.CheckCircle,{className:"w-8 h-8 text-green-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Failed Changes"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-red-400",children:"8"})]}),(0,b.jsx)(z.default,{className:"w-8 h-8 text-red-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Success Rate"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:"94.1%"})]}),(0,b.jsx)(ar.TrendingUp,{className:"w-8 h-8 text-green-400"})]})]})]})]})]}),F&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Incident"}),(0,b.jsx)("button",{onClick:()=>G(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Severity"}),(0,b.jsxs)("select",{value:V.severity,onChange:a=>W({...V,severity:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impact"}),(0,b.jsxs)("select",{value:V.impact,onChange:a=>W({...V,impact:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Urgency"}),(0,b.jsxs)("select",{value:V.urgency,onChange:a=>W({...V,urgency:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Affected Services (comma separated)"}),(0,b.jsx)("input",{type:"text",value:V.affected_services,onChange:a=>W({...V,affected_services:a.target.value}),placeholder:"e.g., Email Service, Database",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:V.description,onChange:a=>W({...V,description:a.target.value}),placeholder:"Describe the incident...",rows:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:au,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Incident"}),(0,b.jsx)("button",{onClick:()=>G(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),I&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Problem"}),(0,b.jsx)("button",{onClick:()=>L(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,b.jsx)("input",{type:"text",value:X.title,onChange:a=>Y({...X,title:a.target.value}),placeholder:"Problem title",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),(0,b.jsx)("input",{type:"text",value:X.category,onChange:a=>Y({...X,category:a.target.value}),placeholder:"e.g., Network, Hardware",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,b.jsxs)("select",{value:X.priority,onChange:a=>Y({...X,priority:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"critical",children:"Critical"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:X.description,onChange:a=>Y({...X,description:a.target.value}),placeholder:"Describe the problem and root cause analysis...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:av,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Problem"}),(0,b.jsx)("button",{onClick:()=>L(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),N&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Change"}),(0,b.jsx)("button",{onClick:()=>O(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,b.jsx)("input",{type:"text",value:Z.title,onChange:a=>$({...Z,title:a.target.value}),placeholder:"Change title",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Type"}),(0,b.jsxs)("select",{value:Z.change_type,onChange:a=>$({...Z,change_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"standard",children:"Standard"}),(0,b.jsx)("option",{value:"normal",children:"Normal"}),(0,b.jsx)("option",{value:"emergency",children:"Emergency"}),(0,b.jsx)("option",{value:"major",children:"Major"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Risk Level"}),(0,b.jsxs)("select",{value:Z.risk_level,onChange:a=>$({...Z,risk_level:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impact"}),(0,b.jsxs)("select",{value:Z.impact,onChange:a=>$({...Z,impact:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Scheduled Start"}),(0,b.jsx)("input",{type:"datetime-local",value:Z.scheduled_start,onChange:a=>$({...Z,scheduled_start:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Scheduled End"}),(0,b.jsx)("input",{type:"datetime-local",value:Z.scheduled_end,onChange:a=>$({...Z,scheduled_end:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:Z.description,onChange:a=>$({...Z,description:a.target.value}),placeholder:"Describe the change...",rows:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:aw,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Change"}),(0,b.jsx)("button",{onClick:()=>O(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),P&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New Asset"}),(0,b.jsx)("button",{onClick:()=>Q(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Asset Tag"}),(0,b.jsx)("input",{type:"text",value:_.asset_tag,onChange:a=>aa({..._,asset_tag:a.target.value}),placeholder:"e.g., LAPTOP-001",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Asset Name"}),(0,b.jsx)("input",{type:"text",value:_.asset_name,onChange:a=>aa({..._,asset_name:a.target.value}),placeholder:"e.g., Dell Latitude 5520",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Asset Type"}),(0,b.jsxs)("select",{value:_.asset_type,onChange:a=>aa({..._,asset_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"laptop",children:"Laptop"}),(0,b.jsx)("option",{value:"desktop",children:"Desktop"}),(0,b.jsx)("option",{value:"server",children:"Server"}),(0,b.jsx)("option",{value:"phone",children:"Mobile Phone"}),(0,b.jsx)("option",{value:"tablet",children:"Tablet"}),(0,b.jsx)("option",{value:"monitor",children:"Monitor"}),(0,b.jsx)("option",{value:"printer",children:"Printer"}),(0,b.jsx)("option",{value:"switch",children:"Network Switch"}),(0,b.jsx)("option",{value:"router",children:"Router"}),(0,b.jsx)("option",{value:"storage",children:"Storage Device"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Manufacturer"}),(0,b.jsx)("input",{type:"text",value:_.manufacturer,onChange:a=>aa({..._,manufacturer:a.target.value}),placeholder:"e.g., Dell, HP, Apple",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Model"}),(0,b.jsx)("input",{type:"text",value:_.model,onChange:a=>aa({..._,model:a.target.value}),placeholder:"Model number",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Purchase Date"}),(0,b.jsx)("input",{type:"date",value:_.purchase_date,onChange:a=>aa({..._,purchase_date:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Location"}),(0,b.jsx)("input",{type:"text",value:_.location,onChange:a=>aa({..._,location:a.target.value}),placeholder:"e.g., Floor 3 - Marketing",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:ay,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Add Asset"}),(0,b.jsx)("button",{onClick:()=>Q(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),R&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create SLA Policy"}),(0,b.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Policy Name"}),(0,b.jsx)("input",{type:"text",value:ab.policy_name,onChange:a=>ac({...ab,policy_name:a.target.value}),placeholder:"e.g., Premium Support SLA",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority Level"}),(0,b.jsxs)("select",{value:ab.priority,onChange:a=>ac({...ab,priority:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"urgent",children:"Urgent"}),(0,b.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Response Time (minutes)"}),(0,b.jsx)("input",{type:"number",value:ab.response_time_minutes,onChange:a=>ac({...ab,response_time_minutes:parseInt(a.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Resolution Time (minutes)"}),(0,b.jsx)("input",{type:"number",value:ab.resolution_time_minutes,onChange:a=>ac({...ab,resolution_time_minutes:parseInt(a.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:az,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Policy"}),(0,b.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),l&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Support Ticket"}),(0,b.jsx)("button",{onClick:()=>o(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),(0,b.jsx)("input",{type:"text",value:T.subject,onChange:a=>U({...T,subject:a.target.value}),placeholder:"Brief description of your issue",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,b.jsxs)("select",{value:T.priority,onChange:a=>U({...T,priority:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),(0,b.jsxs)("select",{value:T.category_id,onChange:a=>U({...T,category_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select category..."}),(0,b.jsx)("option",{value:"6dd4c7d3-7a75-494c-988d-ec849f38e645",children:"Getting Started"}),(0,b.jsx)("option",{value:"8b337fe1-8820-4ab2-bba2-3c8acbb53040",children:"API Integration"}),(0,b.jsx)("option",{value:"2a78d5aa-c7cd-49ef-97ae-e5b12e4be144",children:"Billing & Payments"}),(0,b.jsx)("option",{value:"476848ac-ef42-4757-b4a1-db54e14e6140",children:"Account Management"}),(0,b.jsx)("option",{value:"83f842bc-bbf6-4d12-a06a-3c1f969f5e2d",children:"Technical Issues"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:T.description,onChange:a=>U({...T,description:a.target.value}),placeholder:"Please provide detailed information about your issue...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:aA,disabled:!T.subject||!T.description,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Ticket"}),(0,b.jsx)("button",{onClick:()=>o(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})})]})}var p=p,aT=aT,l=l,B=B,s=s,e=e,al=al,ao=ao;function bb(){let[a,d]=(0,c.useState)(""),[f,g]=(0,c.useState)("All"),[h,j]=(0,c.useState)("All"),[k,m]=(0,c.useState)([]),[o,q]=(0,c.useState)(!0),[r,t]=(0,c.useState)(null),[u,x]=(0,c.useState)(!1),y=[{id:"All",name:"All Types",icon:i.FileText},{id:"user_guide",name:"User Guides",icon:aT.default},{id:"admin_guide",name:"Admin Guides",icon:e.default}];(0,c.useEffect)(()=>{z()},[]);let z=async()=>{q(!0);try{let{data:a,error:b}=await n.db.from("products").select("id, name, sku, category").order("name");if(b)throw b;let{data:c,error:d}=await n.db.from("product_documentation").select("*").order("downloads",{ascending:!1});if(d)throw d;let e=(c||[]).map(b=>({...b,product:(a||[]).find(a=>a.id===b.product_id)}));m(e)}catch(a){console.error("Error loading documentation:",a)}finally{q(!1)}},A=async a=>{await n.db.from("product_documentation").update({downloads:a.downloads+1}).eq("id",a.id),window.open(a.pdf_url,"_blank"),await z()},C=a=>{t(a),x(!0)},D=k.filter(b=>{let c=b.title.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.product?.name.toLowerCase().includes(a.toLowerCase()),d="All"===f||b.product?.category===f,e="All"===h||b.doc_type===h;return c&&d&&e}),E=a=>{switch(a){case"user_guide":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"admin_guide":return"bg-purple-500/20 text-purple-400 border-purple-500/30";case"api_reference":return"bg-green-500/20 text-green-400 border-green-500/30";case"integration_guide":return"bg-orange-500/20 text-orange-400 border-orange-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},F=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),G=[...k].sort((a,b)=>b.downloads-a.downloads).slice(0,6),H=[...k].sort((a,b)=>new Date(b.last_updated).getTime()-new Date(a.last_updated).getTime()).slice(0,6);return o?(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading documentation..."})]})}):(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,b.jsxs)("div",{className:"relative bg-gradient-to-br from-blue-500/10 via-cyan-500/10 to-teal-500/10 border-b border-slate-700",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"}),(0,b.jsx)("div",{className:"relative p-8 md:p-12",children:(0,b.jsxs)("div",{className:"max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl",children:(0,b.jsx)(i.FileText,{className:"w-8 h-8 text-white"})}),(0,b.jsx)("h1",{className:"text-5xl font-bold text-white",children:"Documentation Library"})]}),(0,b.jsx)("p",{className:"text-xl text-slate-300 mb-6",children:"Comprehensive guides and documentation for all our communication products. Download PDFs for offline access."}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(aT.default,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-white font-semibold",children:[k.length," Guides"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Available"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,b.jsx)(l.default,{className:"w-5 h-5 text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:k.reduce((a,b)=>a+b.downloads,0).toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Downloads"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:"Always Updated"}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Latest Versions"})]})]})]})]})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search documentation...",value:a,onChange:a=>d(a.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-xl pl-12 pr-4 py-3.5 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-2 focus:ring-cyan-500/20 transition-all"}),a&&(0,b.jsx)("button",{onClick:()=>d(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-4",children:[{id:"All",name:"All Products",count:0},{id:"Messaging",name:"Messaging",count:0},{id:"Voice",name:"Voice",count:0},{id:"Video",name:"Video",count:0},{id:"Bot",name:"AI & Bots",count:0},{id:"Social",name:"Social",count:0}].map(a=>{let c=f===a.id;return(0,b.jsxs)("button",{onClick:()=>g(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border-2 font-medium whitespace-nowrap transition-all ${c?"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 border-cyan-500 text-cyan-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600 hover:text-slate-300"}`,children:[(0,b.jsx)(ak.Package,{className:"w-4 h-4"}),a.name]},a.id)})}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:y.map(a=>{let c=a.icon,d=h===a.id;return(0,b.jsxs)("button",{onClick:()=>j(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border font-medium whitespace-nowrap transition-all ${d?"bg-blue-500/20 border-blue-500 text-blue-400":"bg-slate-800/50 border-slate-700 text-slate-400 hover:border-slate-600 hover:text-slate-300"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.name]},a.id)})})]}),""===a&&"All"===f&&"All"===h&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(ao.default,{className:"w-6 h-6 text-yellow-400 fill-yellow-400"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Most Popular"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all group",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${E(a.doc_type)}`,children:a.doc_type.replace("_"," ").toUpperCase()}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-yellow-400",children:[(0,b.jsx)(ar.TrendingUp,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:a.downloads})]})]}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:a.product?.name}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.FileText,{className:"w-3 h-3"}),a.page_count,"p"]}),(0,b.jsx)("span",{children:a.file_size})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(a),className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",title:"View",children:(0,b.jsx)(B.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>A(a),className:"p-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Download",children:(0,b.jsx)(l.default,{className:"w-4 h-4"})})]})]})]},a.id))})]}),""===a&&"All"===f&&"All"===h&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-cyan-400"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Recently Updated"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all group",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-lg text-xs font-medium border ${E(a.doc_type)}`,children:a.doc_type.replace("_"," ").toUpperCase()}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-slate-400",children:[(0,b.jsx)(s.default,{className:"w-3 h-3"}),(0,b.jsx)("span",{className:"text-xs",children:F(a.last_updated)})]})]}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-3",children:a.product?.name}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.FileText,{className:"w-3 h-3"}),a.page_count,"p"]}),(0,b.jsxs)("span",{children:["v",a.version]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(a),className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",title:"View",children:(0,b.jsx)(B.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>A(a),className:"p-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors",title:"Download",children:(0,b.jsx)(l.default,{className:"w-4 h-4"})})]})]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:a||"All"!==f||"All"!==h?"Search Results":"All Documentation"}),(0,b.jsxs)("p",{className:"text-slate-400",children:["Showing ",(0,b.jsx)("span",{className:"text-white font-semibold",children:D.length})," guide",1!==D.length?"s":""]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:D.map(a=>(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden hover:border-slate-600 transition-all group",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-3 bg-slate-700/50 rounded-lg",children:(0,b.jsx)(i.FileText,{className:`w-6 h-6 ${(a=>{switch(a){case"Messaging":return"text-blue-400";case"Voice":return"text-green-400";case"Video":return"text-purple-400";case"Bot":return"text-orange-400";case"Social":return"text-pink-400";default:return"text-slate-400"}})(a.product?.category||"")}`})}),(0,b.jsx)("div",{children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${E(a.doc_type)}`,children:a.doc_type.replace("_"," ").toUpperCase()})})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-xs text-slate-500 mb-1",children:["Version ",a.version]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[(0,b.jsx)(l.default,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:a.downloads})]})]})]}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(al.default,{className:"w-4 h-4 text-slate-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:a.product?.name})]}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4 text-xs text-slate-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),a.page_count," pages"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(ak.Package,{className:"w-4 h-4"}),a.file_size]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),F(a.last_updated)]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>C(a),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2.5 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(B.default,{className:"w-4 h-4"}),"View PDF"]}),(0,b.jsxs)("button",{onClick:()=>A(a),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2.5 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download"]})]})]})},a.id))}),0===D.length&&(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-16 text-center",children:(0,b.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(i.FileText,{className:"w-10 h-10 text-slate-500"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-3",children:"No documentation found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Try adjusting your search or filters to find what you're looking for."}),(0,b.jsx)("button",{onClick:()=>{d(""),g("All"),j("All")},className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Clear All Filters"})]})})]})]}),u&&r&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-6xl h-[90vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:r.title}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsx)("span",{children:r.product?.name}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:["Version ",r.version]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:[r.page_count," pages"]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:r.file_size})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("button",{onClick:()=>A(r),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download"]}),(0,b.jsx)("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400 hover:text-white"})})]})]}),(0,b.jsx)("div",{className:"flex-1 p-6 overflow-auto",children:(0,b.jsx)("div",{className:"bg-slate-800/50 border-2 border-dashed border-slate-700 rounded-xl h-full flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(i.FileText,{className:"w-20 h-20 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"PDF Preview"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6 max-w-md",children:"This is a placeholder for the PDF viewer. In production, this would display the actual PDF document using a library like PDF.js or react-pdf."}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>A(r),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 mx-auto",children:[(0,b.jsx)(l.default,{className:"w-5 h-5"}),"Download PDF to View"]}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["PDF URL: ",(0,b.jsx)("a",{href:r.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:r.pdf_url})]})]})]})})})]})})]})}var z=z,K=K;function bc(){let[a,d]=(0,c.useState)([{id:"1",name:"SMS API Integration Tests",platform:"SMS",tests:45,passed:43,failed:2,pending:0,lastRun:"2 hours ago",status:"failing"},{id:"2",name:"WhatsApp Message Delivery",platform:"WhatsApp",tests:32,passed:32,failed:0,pending:0,lastRun:"1 hour ago",status:"passing"},{id:"3",name:"RCS Rich Media Tests",platform:"RCS",tests:28,passed:26,failed:0,pending:2,lastRun:"3 hours ago",status:"pending"},{id:"4",name:"Voice Call Quality Tests",platform:"Voice",tests:18,passed:18,failed:0,pending:0,lastRun:"30 minutes ago",status:"passing"},{id:"5",name:"Video Conferencing Tests",platform:"Video",tests:25,passed:0,failed:0,pending:25,lastRun:"Never",status:"pending"}]),e=a.reduce((a,b)=>a+b.tests,0),f=a.reduce((a,b)=>a+b.passed,0),g=a.reduce((a,b)=>a+b.failed,0),h=a.reduce((a,b)=>a+b.pending,0),i=e>0?(f/e*100).toFixed(1):0;return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950 p-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white",children:"Feature Validation"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mt-2",children:"Automated testing and validation for all platform features"})]}),(0,b.jsxs)("button",{onClick:()=>{d(a=>a.map(a=>({...a,status:"running"}))),setTimeout(()=>{d(a=>a.map(a=>{let b=a.tests;return{...a,passed:b,failed:0,pending:0,lastRun:"Just now",status:"passing"}}))},3e3)},disabled:a.some(a=>"running"===a.status),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(aH.Play,{className:"w-5 h-5"}),a.some(a=>"running"===a.status)?"Running...":"Run All Tests"]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Tests"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:e})]}),(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,b.jsx)(aF.Code,{className:"w-6 h-6 text-blue-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Across all platforms"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Passed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:f})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsxs)("p",{className:"text-green-400 text-sm",children:["Success rate: ",i,"%"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:g})]}),(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,b.jsx)(z.default,{className:"w-6 h-6 text-red-400"})})]}),(0,b.jsx)("p",{className:"text-red-400 text-sm",children:"Requires attention"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:h})]}),(0,b.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,b.jsx)("p",{className:"text-yellow-400 text-sm",children:"Not yet run"})]})]}),g>0&&(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 mb-8 flex items-start gap-3",children:[(0,b.jsx)(K.default,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Test Failures Detected"}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:[g," test",g>1?"s have":" has"," failed. Please review and fix the issues before deploying to production."]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Test Suites"}),(0,b.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"passing":return"bg-green-500/20 text-green-400 border-green-500/30";case"failing":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"running":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.status)}`,children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Platform: ",a.platform]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:["Last run: ",a.lastRun]})]})]}),(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void(d(a=>a.map(a=>a.id===b?{...a,status:"running"}:a)),setTimeout(()=>{d(a=>a.map(a=>{if(a.id===b){let b=a.tests;return{...a,passed:b,failed:0,pending:0,lastRun:"Just now",status:"passing"}}return a}))},2e3))},disabled:"running"===a.status,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"running"===a.status?"Running...":"Run Tests"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs mb-1",children:"Total"}),(0,b.jsx)("div",{className:"text-white text-2xl font-bold",children:a.tests})]}),(0,b.jsxs)("div",{className:"bg-green-500/10 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-green-400 text-xs mb-1",children:"Passed"}),(0,b.jsxs)("div",{className:"text-green-400 text-2xl font-bold flex items-center gap-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}),a.passed]})]}),(0,b.jsxs)("div",{className:"bg-red-500/10 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-red-400 text-xs mb-1",children:"Failed"}),(0,b.jsxs)("div",{className:"text-red-400 text-2xl font-bold flex items-center gap-2",children:[(0,b.jsx)(z.default,{className:"w-5 h-5"}),a.failed]})]}),(0,b.jsxs)("div",{className:"bg-yellow-500/10 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-yellow-400 text-xs mb-1",children:"Pending"}),(0,b.jsxs)("div",{className:"text-yellow-400 text-2xl font-bold flex items-center gap-2",children:[(0,b.jsx)(J.Clock,{className:"w-5 h-5"}),a.pending]})]})]}),a.tests>0&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Progress"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[(a.passed/a.tests*100).toFixed(0),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-800 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full transition-all",style:{width:`${a.passed/a.tests*100}%`}})})]})]},a.id))})]})]})}var ae=ae,bd=a.i(17753),bd=bd,f=f,l=l,A=A,p=p,aR=aR,e=e,be=a.i(46162),be=be,o=o,bf=a.i(2411),bf=bf,bg=a.i(53631),bg=bg,s=s,bh=a.i(60835),bh=bh,as=as,bi=a.i(29612),bi=bi,bj=a.i(54634),bj=bj,a$=a$,bk=a.i(10082),bk=bk,bl=a.i(69472),bm=a.i(54757),bm=bm,bn=a.i(74830),bo=a.i(69407),bo=bo,bp=a.i(11143),bp=bp,ae=ae,bq=a.i(68367),bq=bq,br=a.i(57685),br=br,e=e,A=A,bg=bg,bs=a.i(42148),bs=bs,aM=aM;let bt={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]};function bu({roomId:a,onLeave:d}){let{user:f}=(0,H.useAuth)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(""),[m,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)([]),[G,I]=(0,c.useState)(""),J=(0,c.useRef)(null),K=(0,c.useRef)(null),L=(0,c.useRef)(new Map),M=(0,c.useRef)(null);(0,c.useEffect)(()=>{N()},[E]);let N=()=>{J.current?.scrollIntoView({behavior:"smooth"})};(0,c.useEffect)(()=>(O(),()=>{_()}),[a]),(0,c.useEffect)(()=>{m&&K.current&&(K.current.srcObject=m)},[m]);let O=async()=>{let b=`peer_${Math.random().toString(36).substr(2,9)}`;l(b);let{data:c}=await n.db.from("video_rooms").select("*").eq("room_id",a).single();c&&(h(c),await P(),await Q(b,c),S(b))},P=async()=>{try{let a=await navigator.mediaDevices.getUserMedia({video:{width:1280,height:720},audio:{echoCancellation:!0,noiseSuppression:!0}});o(a)}catch(a){console.error("Error accessing media devices:",a)}},Q=async(a,b)=>{f&&(await n.db.from("video_room_participants").insert({room_uuid:b.id,user_id:f.id,participant_name:f.email?.split("@")[0]||"Guest",peer_id:a,is_host:b.host_user_id===f.id,audio_enabled:!0,video_enabled:!0}),R(b.id))},R=async a=>{let{data:b}=await n.db.from("video_room_participants").select("*").eq("room_uuid",a).is("left_at",null);if(b){let a=b.map(a=>({id:a.id,peerId:a.peer_id,name:a.participant_name,isHost:a.is_host,audioEnabled:a.audio_enabled,videoEnabled:a.video_enabled,screenSharing:a.screen_sharing}));j(a),a.forEach(a=>{a.peerId===k||L.current.has(a.peerId)||T(a.peerId,!0)})}},S=b=>{let c=n.db.channel(`room_${a}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"video_room_signals",filter:`to_peer_id=eq.${b}`},async a=>{await V(a.new)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"video_room_participants"},()=>{g&&R(g.id)}).subscribe();return()=>{c.unsubscribe()}},T=async(a,b)=>{let c=new RTCPeerConnection(bt);if(L.current.set(a,c),m&&m.getTracks().forEach(a=>{c.addTrack(a,m)}),c.ontrack=b=>{j(c=>c.map(c=>c.peerId===a?{...c,stream:b.streams[0]}:c))},c.onicecandidate=async b=>{b.candidate&&await U(a,"ice-candidate",{candidate:b.candidate.toJSON()})},b){let b=await c.createOffer();await c.setLocalDescription(b),await U(a,"offer",{sdp:c.localDescription?.toJSON()})}return c},U=async(a,b,c)=>{g&&await n.db.from("video_room_signals").insert({room_uuid:g.id,from_peer_id:k,to_peer_id:a,signal_type:b,signal_data:"string"==typeof c?c:JSON.stringify(c)})},V=async a=>{let b=a.from_peer_id,c=a.signal_type,d="string"==typeof a.signal_data?JSON.parse(a.signal_data):a.signal_data,e=L.current.get(b);if(e||(e=await T(b,!1)),"offer"===c){await e.setRemoteDescription(new RTCSessionDescription(d.sdp));let a=await e.createAnswer();await e.setLocalDescription(a),await U(b,"answer",{sdp:e.localDescription?.toJSON()})}else"answer"===c?await e.setRemoteDescription(new RTCSessionDescription(d.sdp)):"ice-candidate"===c?await e.addIceCandidate(new RTCIceCandidate(d.candidate)):"chat"===c&&F(a=>[...a,d])},W=async()=>{if(!G.trim()||!f||!g)return;let a={id:Math.random().toString(36).substr(2,9),senderId:f.id,senderName:f.email?.split("@")[0]||"Me",text:G.trim(),timestamp:new Date().toISOString()};F(b=>[...b,a]),I(""),i.forEach(b=>{b.peerId!==k&&U(b.peerId,"chat",a)})},X=async()=>{t?await Z():await Y()},Y=async()=>{try{let a=(await navigator.mediaDevices.getDisplayMedia({video:!0})).getVideoTracks()[0];L.current.forEach(b=>{let c=b.getSenders().find(a=>a.track?.kind==="video");c&&c.replaceTrack(a)}),a.onended=()=>{Z()},u(!0)}catch(a){console.error("Error sharing screen:",a)}},Z=async()=>{if(m){let a=m.getVideoTracks()[0];L.current.forEach(b=>{let c=b.getSenders().find(a=>a.track?.kind==="video");c&&a&&c.replaceTrack(a)})}u(!1)},$=async()=>{await _(),d()},_=async()=>{m&&m.getTracks().forEach(a=>a.stop()),L.current.forEach(a=>a.close()),L.current.clear(),g&&k&&await n.db.from("video_room_participants").update({left_at:new Date().toISOString()}).eq("room_uuid",g.id).eq("peer_id",k)};return(0,b.jsxs)("div",{ref:M,className:"fixed inset-0 bg-slate-950 flex flex-col z-50",children:[(0,b.jsxs)("div",{className:"bg-slate-900 border-b border-slate-800 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:g?.room_name||"Video Conference"}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["Room: ",a]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>{let b=`${window.location.origin}/video-room/${a}`;navigator.clipboard.writeText(b),D(!0),setTimeout(()=>D(!1),2e3)},className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:C?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy Link"]})}),(0,b.jsx)("button",{onClick:()=>B(!z),className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors",children:(0,b.jsx)(a0.MessageCircle,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{document.fullscreenElement?(document.exitFullscreen(),y(!1)):(M.current?.requestFullscreen(),y(!0))},className:"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors",children:x?(0,b.jsx)(bs.default,{className:"w-5 h-5"}):(0,b.jsx)(bg.default,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex-1 p-4 grid gap-4",style:{gridTemplateColumns:i.length<=1?"1fr":i.length<=4?"repeat(2, 1fr)":"repeat(3, 1fr)"},children:[(0,b.jsxs)("div",{className:"relative bg-slate-900 rounded-xl overflow-hidden",children:[(0,b.jsx)("video",{ref:K,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,b.jsxs)("p",{className:"text-white text-sm font-medium",children:["You ",g?.host_user_id===f?.id&&"(Host)"]})}),!r&&(0,b.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,b.jsx)("div",{className:"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center",children:(0,b.jsx)(ap.Video,{className:"w-10 h-10 text-slate-400"})})})]}),i.filter(a=>a.peerId!==k).map(a=>(0,b.jsx)(bv,{participant:a},a.id))]}),z&&(0,b.jsxs)("div",{className:"w-80 bg-slate-900 border-l border-slate-800 flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-slate-800 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:"Chat"}),(0,b.jsx)("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[0===E.length?(0,b.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),(0,b.jsx)("p",{className:"text-sm",children:"No messages yet. Start the conversation!"})]}):E.map(a=>(0,b.jsxs)("div",{className:`flex flex-col ${a.senderId===f?.id?"items-end":"items-start"}`,children:[(0,b.jsxs)("div",{className:`max-w-[85%] rounded-lg p-3 ${a.senderId===f?.id?"bg-cyan-600 text-white rounded-br-none":"bg-slate-800 text-slate-200 rounded-bl-none"}`,children:[(0,b.jsx)("p",{className:"text-xs font-semibold mb-1 opacity-75",children:a.senderName}),(0,b.jsx)("p",{className:"text-sm",children:a.text})]}),(0,b.jsx)("span",{className:"text-[10px] text-slate-500 mt-1",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},a.id)),(0,b.jsx)("div",{ref:J})]}),(0,b.jsx)("div",{className:"p-4 border-t border-slate-800",children:(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),W()},className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:G,onChange:a=>I(a.target.value),placeholder:"Type a message...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("button",{type:"submit",disabled:!G.trim(),className:"bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition-colors",children:(0,b.jsx)(aM.default,{className:"w-4 h-4"})})]})})]})]}),(0,b.jsx)("div",{className:"bg-slate-900 border-t border-slate-800 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>{if(m){let a=m.getAudioTracks()[0];a&&(a.enabled=!a.enabled,q(a.enabled))}},className:`p-4 rounded-full transition-colors ${p?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:p?(0,b.jsx)(aO.Mic,{className:"w-6 h-6 text-white"}):(0,b.jsx)(bp.default,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("button",{onClick:()=>{if(m){let a=m.getVideoTracks()[0];a&&(a.enabled=!a.enabled,s(a.enabled))}},className:`p-4 rounded-full transition-colors ${r?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:r?(0,b.jsx)(ap.Video,{className:"w-6 h-6 text-white"}):(0,b.jsx)(bo.default,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("button",{onClick:X,className:`p-4 rounded-full transition-colors ${t?"bg-cyan-600 hover:bg-cyan-700":"bg-slate-700 hover:bg-slate-600"}`,children:t?(0,b.jsx)(bq.default,{className:"w-6 h-6 text-white"}):(0,b.jsx)(ae.default,{className:"w-6 h-6 text-white"})}),(0,b.jsx)("button",{onClick:$,className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors",children:(0,b.jsx)(br.default,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-2 bg-slate-800 px-4 py-2 rounded-lg",children:[(0,b.jsx)(e.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:i.length+1})]})]})})]})}function bv({participant:a}){let d=(0,c.useRef)(null);return(0,c.useEffect)(()=>{a.stream&&d.current&&(d.current.srcObject=a.stream)},[a.stream]),(0,b.jsxs)("div",{className:"relative bg-slate-900 rounded-xl overflow-hidden",children:[(0,b.jsx)("video",{ref:d,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg",children:(0,b.jsxs)("p",{className:"text-white text-sm font-medium",children:[a.name," ",a.isHost&&"(Host)"]})}),!a.videoEnabled&&(0,b.jsx)("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center",children:(0,b.jsx)("div",{className:"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center",children:(0,b.jsx)(ap.Video,{className:"w-10 h-10 text-slate-400"})})}),!a.audioEnabled&&(0,b.jsx)("div",{className:"absolute top-4 right-4 bg-red-600 p-2 rounded-lg",children:(0,b.jsx)(bp.default,{className:"w-4 h-4 text-white"})})]})}let bw=[{product_name:"Standard Video API",product_type:"conferencing",industry:"all",description:"Perfect for small teams and simple video integrations.",features:JSON.stringify(["720p HD Video","Up to 10 participants","Chat support","Web SDK access"]),monthly_price:99,per_minute_price:.05,setup_fee:0,max_participants:10,storage_gb:10,api_calls_limit:1e4,has_sdk:!0,has_api:!0},{product_name:"Enterprise Video Suite",product_type:"conferencing",industry:"corporate",description:"High-scale video solutions for large organizations.",features:JSON.stringify(["4K Ultra HD","Up to 1000 participants","White labeling","Advanced Analytics"]),monthly_price:499,per_minute_price:.02,setup_fee:1e3,max_participants:1e3,storage_gb:500,api_calls_limit:5e5,has_sdk:!0,has_api:!0},{product_name:"Telehealth Secure API",product_type:"conferencing",industry:"healthcare",description:"HIPAA compliant video communication for healthcare providers.",features:JSON.stringify(["End-to-end Encryption","Waiting Room","BHR available","DICOM support"]),monthly_price:299,per_minute_price:.08,setup_fee:250,max_participants:4,storage_gb:100,api_calls_limit:5e4,has_sdk:!0,has_api:!0}],bx=[{template_name:"Healthcare Consult",industry:"healthcare",template_type:"conferencing",description:"Secure one-on-one medical consultation room.",features:JSON.stringify(["Encrypted","Waiting Room","File Sharing"]),configuration:JSON.stringify({participant_limit:2,duration:30,recording:!0}),is_premium:!0},{template_name:"Virtual Classroom",industry:"education",template_type:"conferencing",description:"Teacher-led classroom with controls for students.",features:JSON.stringify(["Polls","Raise Hand","Breakout Rooms"]),configuration:JSON.stringify({participant_limit:50,duration:60,recording:!0}),is_premium:!1}],by=[{capability_name:"HD Video",description:"Crystal clear high-definition video up to 4K resolution.",icon:"Video",is_available:!0,display_order:1,category:"Core"},{capability_name:"Spatial Audio",description:"Immersive 3D audio for realistic conversation feel.",icon:"Mic",is_available:!0,display_order:2,category:"Core"},{capability_name:"Screen Share",description:"Ultra-low latency screen sharing for collaborative work.",icon:"Monitor",is_available:!0,display_order:3,category:"Core"},{capability_name:"Cloud Recording",description:"Safe and encrypted recording of all your video sessions.",icon:"Camera",is_available:!0,display_order:10,category:"Advanced"},{capability_name:"Custom Branding",description:"White-label the interface to match your corporate identity.",icon:"Layout",is_available:!0,display_order:11,category:"Advanced"},{capability_name:"RTMP Streaming",description:"Broadcast sessions to YouTube, Twitch, or custom RTMP targets.",icon:"Radio",is_available:!0,display_order:12,category:"Advanced"},{capability_name:"AI Transcription",description:"Real-time multi-language transcription and closed captioning.",icon:"Languages",is_available:!0,display_order:20,category:"AI"},{capability_name:"Smart Noise Cancellation",description:"Suppress background noise and isolate human voice intelligently.",icon:"Shield",is_available:!0,display_order:21,category:"AI"},{capability_name:"AI Meetings Summary",description:"Generate structured summaries and action items automatically.",icon:"Brain",is_available:!0,display_order:22,category:"AI"},{capability_name:"Auto-Scaling SFU",description:"Highly scalable Selective Forwarding Unit for 1000+ participants.",icon:"Zap",is_available:!0,display_order:30,category:"Infrastructure"},{capability_name:"Global Mesh Network",description:"Lowest possible latency with our worldwide edge network.",icon:"Globe",is_available:!0,display_order:31,category:"Infrastructure"}];function bz(){let a,{user:d}=(0,H.useAuth)(),[g,h]=(0,c.useState)("overview"),[k,m]=(0,c.useState)("all"),[q,r]=(0,c.useState)("all"),[t,u]=(0,c.useState)(""),[x,y]=(0,c.useState)([]),[z,B]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)([]),[G,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)([]),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)([]),[$,_]=(0,c.useState)([]),[aa,ab]=(0,c.useState)([]),[ac,ad]=(0,c.useState)([]),[af,ag]=(0,c.useState)([]),[ah,ai]=(0,c.useState)([]),[aj,al]=(0,c.useState)([]),[an,ao]=(0,c.useState)(!0),[aq,ar]=(0,c.useState)([]),[at,au]=(0,c.useState)(!1),[av,aw]=(0,c.useState)("group_sfu"),[ax,ay]=(0,c.useState)(!0),[az,aA]=(0,c.useState)(!0),[aB,aC]=(0,c.useState)(!1),[aD,aE]=(0,c.useState)(null),[aG,aI]=(0,c.useState)(!1),[aK,aL]=(0,c.useState)(null),[aM,aN]=(0,c.useState)(null),[aP,aQ]=(0,c.useState)(null),[aS,aT]=(0,c.useState)(!1),[aU,aV]=(0,c.useState)(null),[aW,aX]=(0,c.useState)(!1),[aY,aZ]=(0,c.useState)([]),[a_,a0]=(0,c.useState)(""),[a1,a2]=(0,c.useState)(""),[a3,a4]=(0,c.useState)(""),[a5,a6]=(0,c.useState)(""),[a7,a8]=(0,c.useState)(""),[a9,ba]=(0,c.useState)(!0),bb=["all","healthcare","education","finance","retail","corporate","legal","real_estate"];(0,c.useEffect)(()=>{d&&Promise.all([bp(),bq(),br(),bs(),bt(),bv(),bz(),bA(),bB(),bC(),bD(),bE(),bF(),bG(),bH(),bI(),bJ(),bK(),bL(),bc()]).finally(()=>ao(!1))},[d]);let bc=async()=>{let{data:a,error:b}=await n.db.from("video_rooms").select("*").order("started_at",{ascending:!1}).limit(10);!b&&a&&ar(a)},bo=async()=>{if(d){ao(!0);try{for(let a of bw)await n.db.from("video_api_products").insert(a);for(let a of bx)await n.db.from("video_templates").insert(a);for(let a of by)await n.db.from("video_api_capabilities").insert(a);let{data:a}=await n.db.from("video_api_products").select("*").limit(1);a&&a.length>0&&await n.db.from("video_api_purchases").insert({user_id:d.id,product_id:a[0].id,api_key:`vapi_sample_${Math.random().toString(36).substr(2,9)}`,sdk_access_token:`vsdk_sample_${Math.random().toString(36).substr(2,9)}`,status:"active",usage_minutes:1250,storage_used_gb:4.5,api_calls_used:850}),aL({type:"success",message:"Successfully seeded sample video data!"}),setTimeout(()=>window.location.reload(),1500)}catch(a){console.error("Error seeding video data:",a),aL({type:"error",message:"Failed to seed: "+a.message})}finally{ao(!1)}}};(0,c.useEffect)(()=>{if(aK){let a=setTimeout(()=>aL(null),5e3);return()=>clearTimeout(a)}},[aK]),(0,c.useEffect)(()=>{if(aM){let a=setTimeout(()=>aN(null),2e3);return()=>clearTimeout(a)}},[aM]);let bp=async()=>{let{data:a,error:b}=await n.db.from("video_api_products").select("*").eq("is_available",!0).order("monthly_price");!b&&a&&y(a.map(a=>({...a,features:"string"==typeof a.features?JSON.parse(a.features):a.features||[]})))},bq=async()=>{if(!d)return;let{data:a}=await n.db.from("video_api_products").select("*"),{data:b,error:c}=await n.db.from("video_api_purchases").select("*").eq("user_id",d.id).order("purchased_at",{ascending:!1});!c&&b&&B(b.map(b=>{let c=b.product||(a||[]).find(a=>a.id===b.product_id);return{...b,product:c||{product_name:"Unknown API",industry:"unknown",api_calls_limit:0,storage_gb:0,max_participants:0}}}))},br=async()=>{let{data:a,error:b}=await n.db.from("video_templates").select("*").order("template_name");!b&&a&&D(a.map(a=>({...a,features:"string"==typeof a.features?JSON.parse(a.features):a.features||[],configuration:"string"==typeof a.configuration?JSON.parse(a.configuration):a.configuration||{}})))},bs=async()=>{if(!d)return;let{data:a,error:b}=await n.db.from("meeting_ai_configurations").select("*").eq("user_id",d.id).order("is_default",{ascending:!1});if(!b&&a){aZ(a);let b=a.find(a=>a.is_default);b&&a0(b.id)}},bt=async()=>{let{data:a,error:b}=await n.db.from("video_api_capabilities").select("*").eq("is_available",!0).order("display_order");!b&&a&&F(a)},bv=async()=>{let{data:a,error:b}=await n.db.from("video_recordings").select("*, recording_analytics(*)").order("started_at",{ascending:!1}).limit(50);!b&&a&&K(a)},bz=async()=>{let{data:a,error:b}=await n.db.from("video_recording_configs").select("*").order("is_default",{ascending:!1});!b&&a&&M(a)},bA=async()=>{let{data:a,error:b}=await n.db.from("cloud_storage_configs").select("*").order("is_default",{ascending:!1});!b&&a&&O(a)},bB=async()=>{let{data:a,error:b}=await n.db.from("network_quality_metrics").select("*, video_call_participants(*)").order("measured_at",{ascending:!1}).limit(100);!b&&a&&Q(a)},bC=async()=>{let{data:a,error:b}=await n.db.from("adaptive_bitrate_configs").select("*").order("created_at",{ascending:!1});!b&&a&&S(a)},bD=async()=>{let{data:a,error:b}=await n.db.from("simulcast_configs").select("*").order("is_default",{ascending:!1});!b&&a&&U(a)},bE=async()=>{let{data:a,error:b}=await n.db.from("background_processing_configs").select("*").order("is_default",{ascending:!1});!b&&a&&W(a)},bF=async()=>{let{data:a,error:b}=await n.db.from("virtual_backgrounds").select("*").eq("is_active",!0).order("category",{ascending:!0});!b&&a&&Y(a)},bG=async()=>{let{data:a,error:b}=await n.db.from("noise_cancellation_configs").select("*").order("is_default",{ascending:!1});!b&&a&&_(a)},bH=async()=>{let{data:a,error:b}=await n.db.from("transcription_configs").select("*").order("is_default",{ascending:!1});!b&&a&&ab(a)},bI=async()=>{let{data:a,error:b}=await n.db.from("rtmp_broadcast_configs").select("*").order("created_at",{ascending:!1});!b&&a&&ad(a)},bJ=async()=>{let{data:a,error:b}=await n.db.from("hls_streaming_configs").select("*").order("created_at",{ascending:!1});!b&&a&&ag(a)},bK=async()=>{let{data:a,error:b}=await n.db.from("broadcast_sessions").select("*").order("created_at",{ascending:!1}).limit(20);!b&&a&&ai(a)},bL=async()=>{let{data:a,error:b}=await n.db.from("ai_processing_analytics").select("*").order("created_at",{ascending:!1}).limit(50);!b&&a&&al(a)},bM=async()=>{if(!d||!a1||!a3||!a5)return void aL({type:"error",message:"Please fill in all required fields"});try{let a=new Date(`${a3}T${a5}`),b=`room_${Math.random().toString(36).substr(2,9)}`,c=`${window.location.origin}/video/${b}`,e=aY.find(a=>a.id===a_),f=a7.split(",").map(a=>a.trim()).filter(a=>a),{data:g,error:h}=await n.db.from("meetings").insert({host_user_id:d.id,meeting_title:a1,meeting_description:"Scheduled video meeting with AI features",meeting_type:"video_conference",scheduled_start_time:a.toISOString(),scheduled_end_time:new Date(a.getTime()+36e5).toISOString(),room_id:b,room_url:c,meeting_link:c,max_participants:100,enable_transcription:e?.enable_transcription||a9,enable_recording:e?.enable_recording||!1,enable_ai_summary:e?.enable_ai_insights||!1,enable_action_items:e?.enable_action_items||!1,enable_sentiment_analysis:e?.enable_sentiment_analysis||!1,transcription_language:e?.transcription_language||"en",participant_emails:f,status:"scheduled",allow_screen_share:!0,allow_chat:!0}).select().single();if(h)throw h;a_&&g&&await n.db.from("meeting_ai_configuration_links").insert({meeting_id:g.id,configuration_id:a_}),aL({type:"success",message:"Meeting scheduled successfully!"}),aX(!1),a2(""),a4(""),a6(""),a8("")}catch(a){console.error("Error scheduling meeting:",a),aL({type:"error",message:"Failed to schedule meeting. Please try again."})}},bN=async()=>{if(aD&&d){aI(!0);try{let a=`vapi_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,b=`vsdk_${Math.random().toString(36).substr(2,9)}_${Date.now()}`,c=new Date;c.setFullYear(c.getFullYear()+1);let e=Number(aD.setup_fee||0)+Number(aD.monthly_price||0),f={product_id:aD.id,product_name:aD.product_name,product_type:aD.product_type,description:aD.description,monthly_price:aD.monthly_price,setup_fee:aD.setup_fee},{error:g}=await n.db.from("cart_items").insert({user_id:d.id,item_type:"video_api",item_data:f,quantity:1,unit_price:e,total_price:e});if(g)throw console.error("Cart error:",g),Error("Failed to add to cart");let{error:i}=await n.db.from("video_api_purchases").insert({user_id:d.id,product_id:aD.id,api_key:a,sdk_access_token:b,status:"active",expires_at:c.toISOString(),usage_minutes:0,storage_used_gb:0,api_calls_used:0});if(i)throw console.error("Purchase error:",i),Error("Failed to activate API");aL({type:"success",message:`${aD.product_name} purchased and activated! Check My APIs tab.`}),await bq(),h("my-apis")}catch(a){console.error("Purchase failed:",a),aL({type:"error",message:a.message||"Purchase failed. Please try again."})}finally{aI(!1),aE(null)}}},bO=(a,b)=>{navigator.clipboard.writeText(a),aN(b)},bP=async a=>{if(d){aT(!0);try{let b=`room_${Math.random().toString(36).substr(2,9)}`,c=`${window.location.origin}/video/${b}`,{data:e,error:f}=await n.db.from("video_rooms").insert({room_id:b,host_user_id:d.id,template_id:a.id,room_name:a.template_name,room_type:a.template_type,max_participants:a.configuration.participant_limit,duration_minutes:a.configuration.duration,recording_enabled:a.configuration.recording,screen_sharing_enabled:!0,whiteboard_enabled:!0,chat_enabled:!0,status:"active",started_at:new Date().toISOString()});if(f)throw f;let g={id:e.id,sessionUrl:c,roomId:b,participants:0};aQ({template:a,session:g}),aL({type:"success",message:"Video session created successfully!"})}catch(a){console.error("Error creating room:",a),aL({type:"error",message:"Failed to create video session. Please try again."})}finally{aT(!1)}}},bQ=a=>{aV(a),aQ(null)},bR=x.filter(a=>{let b="all"===k||a.industry===k,c="all"===q||a.product_type===q,d=a.product_name.toLowerCase().includes(t.toLowerCase())||a.description?.toLowerCase().includes(t.toLowerCase());return b&&c&&d}),bS=C.filter(a=>{let b="all"===k||a.industry===k,c=a.template_name.toLowerCase().includes(t.toLowerCase())||a.description?.toLowerCase().includes(t.toLowerCase());return b&&c}),bT=a=>({healthcare:"bg-red-500/20 text-red-400 border-red-500/30",education:"bg-blue-500/20 text-blue-400 border-blue-500/30",finance:"bg-green-500/20 text-green-400 border-green-500/30",retail:"bg-orange-500/20 text-orange-400 border-orange-500/30",corporate:"bg-purple-500/20 text-purple-400 border-purple-500/30",legal:"bg-slate-500/20 text-slate-400 border-slate-500/30",real_estate:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"})[a]||"bg-slate-500/20 text-slate-400 border-slate-500/30";return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,b.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-blue-600 via-cyan-600 to-teal-600 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,b.jsx)("div",{className:"relative h-full flex items-center px-8",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:(0,b.jsx)(aF.Code,{className:"w-12 h-12 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Video API Platform"}),(0,b.jsx)("p",{className:"text-white/90 text-lg",children:"Enterprise Video Solutions with SDK & API Integration"})]})]})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>h("overview"),className:`px-6 py-2 rounded-lg transition-colors ${"overview"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Overview"}),(0,b.jsx)("button",{onClick:()=>h("marketplace"),className:`px-6 py-2 rounded-lg transition-colors ${"marketplace"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Marketplace"}),(0,b.jsx)("button",{onClick:()=>h("my-apis"),className:`px-6 py-2 rounded-lg transition-colors ${"my-apis"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"My APIs"}),(0,b.jsx)("button",{onClick:()=>h("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,b.jsx)("button",{onClick:()=>h("capabilities"),className:`px-6 py-2 rounded-lg transition-colors ${"capabilities"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Capabilities"}),(0,b.jsx)("button",{onClick:()=>h("sdks"),className:`px-6 py-2 rounded-lg transition-colors ${"sdks"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"SDKs"}),(0,b.jsx)("button",{onClick:()=>h("recordings"),className:`px-6 py-2 rounded-lg transition-colors ${"recordings"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Recordings"}),(0,b.jsx)("button",{onClick:()=>h("network"),className:`px-6 py-2 rounded-lg transition-colors ${"network"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Network Quality"}),(0,b.jsx)("button",{onClick:()=>h("ai-processing"),className:`px-6 py-2 rounded-lg transition-colors ${"ai-processing"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"AI Processing"}),(0,b.jsx)("button",{onClick:()=>h("broadcasting"),className:`px-6 py-2 rounded-lg transition-colors ${"broadcasting"===g?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Broadcasting"})]}),"overview"===g&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Video Platform Overview"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"Manage your video meetings and conferences"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>au(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-green-500/20",children:[(0,b.jsx)(ap.Video,{className:"w-5 h-5"}),"Start Call Now"]}),(0,b.jsxs)("button",{onClick:()=>aX(!0),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg shadow-cyan-500/20",children:[(0,b.jsx)(s.default,{className:"w-5 h-5"}),"Schedule Meeting",(0,b.jsx)(as.default,{className:"w-4 h-4"})]}),(0,b.jsxs)("button",{onClick:bo,className:"bg-slate-800 hover:bg-slate-700 text-slate-300 border border-slate-700 px-6 py-3 rounded-lg flex items-center gap-2 transition-all",children:[(0,b.jsx)(l.default,{className:"w-5 h-5"}),"Load Sample Data"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Active APIs"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:z.filter(a=>"active"===a.status).length})]}),(0,b.jsx)("div",{className:"bg-cyan-500/20 p-3 rounded-xl",children:(0,b.jsx)(ak.Package,{className:"w-6 h-6 text-cyan-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Currently subscribed"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Minutes"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:z.reduce((a,b)=>a+b.usage_minutes,0).toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Video usage this month"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"API Calls"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:z.reduce((a,b)=>a+b.api_calls_used,0).toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-pink-500/20 p-3 rounded-xl",children:(0,b.jsx)(aJ.BarChart3,{className:"w-6 h-6 text-pink-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Total API requests"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Storage Used"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-white",children:[z.reduce((a,b)=>a+Number(b.storage_used_gb),0).toFixed(1)," GB"]})]}),(0,b.jsx)("div",{className:"bg-orange-500/20 p-3 rounded-xl",children:(0,b.jsx)(ae.default,{className:"w-6 h-6 text-orange-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Cloud storage"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Recent Video Sessions"}),(0,b.jsx)("button",{onClick:bc,className:"text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(as.default,{className:"w-5 h-5"})})]}),aq.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700 text-slate-400 text-sm",children:[(0,b.jsx)("th",{className:"py-3 px-4",children:"Room Name"}),(0,b.jsx)("th",{className:"py-3 px-4",children:"Room ID"}),(0,b.jsx)("th",{className:"py-3 px-4",children:"Type"}),(0,b.jsx)("th",{className:"py-3 px-4",children:"Status"}),(0,b.jsx)("th",{className:"py-3 px-4",children:"Created At"}),(0,b.jsx)("th",{className:"py-3 px-4 text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{children:aq.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-800 hover:bg-slate-700/30 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-4 font-medium text-white",children:a.room_name||"Untitled Room"}),(0,b.jsx)("td",{className:"py-3 px-4 text-slate-400 font-mono text-xs",children:a.room_id}),(0,b.jsx)("td",{className:"py-3 px-4 text-slate-300 capitalize",children:a.room_type||"General"}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===a.status?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-500/20 text-slate-400"}`,children:a.status?a.status.toUpperCase():"UNKNOWN"})}),(0,b.jsx)("td",{className:"py-3 px-4 text-slate-400 text-sm",children:new Date(a.started_at).toLocaleString()}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:"active"===a.status&&(0,b.jsx)("button",{onClick:()=>bQ(a.room_id),className:"text-cyan-400 hover:text-cyan-300 font-medium text-sm transition-colors",children:"Join Room"})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,b.jsx)(ap.Video,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),(0,b.jsx)("p",{children:"No active video sessions found."}),(0,b.jsx)("button",{onClick:()=>au(!0),className:"text-cyan-400 hover:text-cyan-300 mt-2 font-medium",children:"Start your first call"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Platform Capabilities"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:ap.Video,title:"Video Conferencing",description:"Real-time HD/4K video conferencing with up to 1000 participants",color:"cyan"},{icon:ae.default,title:"Screen Sharing",description:"High-quality screen sharing with annotation and co-browsing",color:"blue"},{icon:bd.default,title:"Recording & Streaming",description:"Cloud recording with auto-transcription and live streaming",color:"green"},{icon:aF.Code,title:"SDK & API Access",description:"Full SDK support and RESTful APIs for custom integration",color:"orange"},{icon:aR.default,title:"Low Latency",description:"Ultra-low latency communication for real-time interactions",color:"yellow"},{icon:I.Globe,title:"Global Infrastructure",description:"Worldwide edge network for optimal performance",color:"teal"}].map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6 hover:border-slate-600 transition-colors",children:[(0,b.jsx)("div",{className:`bg-${a.color}-500/20 p-3 rounded-lg w-fit mb-4`,children:(0,b.jsx)(d,{className:`w-6 h-6 text-${a.color}-400`})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]},c)})})]})]}),"marketplace"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search video APIs...",value:t,onChange:a=>u(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("select",{value:k,onChange:a=>m(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:bb.map(a=>(0,b.jsx)("option",{value:a,children:"all"===a?"All Industries":a.replace("_"," ").replace(/\b\w/g,a=>a.toUpperCase())},a))}),(0,b.jsx)("select",{value:q,onChange:a=>r(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:["all","conferencing","recording","streaming"].map(a=>(0,b.jsx)("option",{value:a,children:"all"===a?"All Types":a.charAt(0).toUpperCase()+a.slice(1)},a))})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:bR.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:a.product_name}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3 flex-wrap",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${bT(a.industry)}`,children:a.industry.replace("_"," ").toUpperCase()}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-400 border border-cyan-500/30",children:a.product_type.toUpperCase()})]})]})}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:a.description}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Max Participants:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.max_participants})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Storage:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[a.storage_gb," GB"]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"API Calls:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[a.api_calls_limit.toLocaleString(),"/mo"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-4",children:[a.has_sdk&&(0,b.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs",children:[(0,b.jsx)(aF.Code,{className:"w-3 h-3"}),"SDK"]}),a.has_api&&(0,b.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:[(0,b.jsx)(f.default,{className:"w-3 h-3"}),"API"]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-baseline mb-2",children:[(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:"Monthly:"}),(0,b.jsxs)("span",{className:"text-white text-2xl font-bold",children:["RM ",Number(a.monthly_price).toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-baseline mb-2",children:[(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:"Per Minute:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(a.per_minute_price).toFixed(4)]})]}),a.setup_fee>0&&(0,b.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:"Setup Fee:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(a.setup_fee).toFixed(2)]})]})]}),(0,b.jsxs)("button",{onClick:()=>aE(a),className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(am.ShoppingCart,{className:"w-5 h-5"}),"Purchase API"]})]},a.id))})]}),"my-apis"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"My Video APIs"}),(0,b.jsxs)("button",{onClick:()=>h("marketplace"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(am.ShoppingCart,{className:"w-5 h-5"}),"Browse Marketplace"]})]}),0===z.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(ak.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No APIs Yet"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Purchase your first video API to get started"}),(0,b.jsxs)("button",{onClick:()=>h("marketplace"),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(am.ShoppingCart,{className:"w-5 h-5"}),"Browse Marketplace"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:z.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.product.product_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"active":return"bg-green-500/20 text-green-400 border-green-500/30";case"suspended":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.status)}`,children:a.status.toUpperCase()}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${bT(a.product.industry)}`,children:a.product.industry.replace("_"," ").toUpperCase()})]}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["Purchased ",new Date(a.purchased_at).toLocaleDateString()]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Usage Minutes"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.usage_minutes.toLocaleString()}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:"of unlimited"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"API Calls"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.api_calls_used.toLocaleString()}),(0,b.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:["of ",a.product.api_calls_limit.toLocaleString(),"/mo"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Storage Used"}),(0,b.jsxs)("p",{className:"text-white text-lg font-semibold",children:[Number(a.storage_used_gb).toFixed(1)," GB"]}),(0,b.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:["of ",a.product.storage_gb," GB"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Max Participants"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.product.max_participants}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mt-1",children:"concurrent"})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,b.jsx)(f.default,{className:"w-4 h-4"}),"API Key"]}),(0,b.jsx)("button",{onClick:()=>bO(a.api_key,`api_${a.id}`),className:"text-cyan-400 hover:text-cyan-300 text-sm flex items-center gap-1",children:aM===`api_${a.id}`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:a.api_key})]}),a.product.has_sdk&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,b.jsx)(aF.Code,{className:"w-4 h-4"}),"SDK Access Token"]}),(0,b.jsx)("button",{onClick:()=>bO(a.sdk_access_token,`sdk_${a.id}`),className:"text-cyan-400 hover:text-cyan-300 text-sm flex items-center gap-1",children:aM===`sdk_${a.id}`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:a.sdk_access_token})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>h("sdks"),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download SDK"]}),(0,b.jsxs)("button",{onClick:()=>window.open("https://docs.videoapi.com","_blank"),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"API Documentation"]}),(0,b.jsxs)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2",children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configure"]})]})]})]},a.id))})]}),"templates"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,b.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search templates...",value:t,onChange:a=>u(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsx)("select",{value:k,onChange:a=>m(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:bb.map(a=>(0,b.jsx)("option",{value:a,children:"all"===a?"All Industries":a.replace("_"," ").replace(/\b\w/g,a=>a.toUpperCase())},a))})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:bS.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:a.template_name}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3 flex-wrap",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${bT(a.industry)}`,children:a.industry.replace("_"," ").toUpperCase()}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30",children:a.template_type.toUpperCase()}),a.is_premium&&(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",children:"PREMIUM"})]})]})}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:a.description}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-slate-300 text-sm font-medium mb-2",children:"Features:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.features.slice(0,4).map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-300 rounded text-xs",children:a},c)),a.features.length>4&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-400 rounded text-xs",children:["+",a.features.length-4," more"]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.configuration.duration," mins"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Participants:"}),(0,b.jsxs)("span",{className:"text-white",children:["Up to ",a.configuration.participant_limit]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Recording:"}),(0,b.jsx)("span",{className:"text-white",children:a.configuration.recording?"Enabled":"Disabled"})]})]}),(0,b.jsxs)("button",{onClick:()=>bP(a),disabled:aS,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),aS?"Starting...":"Use Template"]})]},a.id))})]}),"capabilities"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Video Platform Capabilities"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Comprehensive features for enterprise-grade video communications"})]}),["Core","Advanced","AI","Infrastructure"].map(a=>{let c=E.filter(b=>(b.category||"").toLowerCase()===a.toLowerCase());return 0===c.length?null:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:`bg-gradient-to-r ${{Core:"from-blue-600 to-cyan-600",Advanced:"from-purple-600 to-pink-600",AI:"from-amber-600 to-orange-600",Infrastructure:"from-slate-600 to-slate-700"}[a]||"from-slate-600 to-slate-700"} p-4 rounded-xl`,children:(0,b.jsxs)("h3",{className:"text-xl font-bold text-white capitalize",children:[a," Capabilities"]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold flex-1",children:a.capability_name}),a.requires_license&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded border border-yellow-500/30",children:"PRO"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.description}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:(a.supported_platforms||["Web","iOS","Android"]).map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-300 rounded text-xs",children:a},c))})]},a.id))})]},a)})]}),"sdks"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Cross-Platform SDKs"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Native libraries for seamless integration across all platforms"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{platform:"iOS SDK",icon:"Smartphone",description:"Native iOS framework with Swift and Objective-C support",version:"3.2.1",size:"45 MB",minVersion:"iOS 13.0+",languages:["Swift","Objective-C"],docs:"https://docs.example.com/ios"},{platform:"Android SDK",icon:"Smartphone",description:"Native Android SDK with Kotlin and Java support",version:"3.2.0",size:"38 MB",minVersion:"Android 8.0+",languages:["Kotlin","Java"],docs:"https://docs.example.com/android"},{platform:"Web SDK (JavaScript)",icon:"Globe",description:"Browser-based WebRTC with React hooks and vanilla JS",version:"3.1.5",size:"12 MB",minVersion:"Modern browsers",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/web"},{platform:"React SDK",icon:"Code",description:"React components and hooks for rapid development",version:"2.5.3",size:"8 MB",minVersion:"React 16.8+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/react"},{platform:"Flutter SDK",icon:"Zap",description:"Cross-platform SDK for Flutter applications",version:"2.1.0",size:"22 MB",minVersion:"Flutter 3.0+",languages:["Dart"],docs:"https://docs.example.com/flutter"},{platform:"Electron SDK",icon:"Monitor",description:"Desktop SDK for Windows, Mac, and Linux",version:"2.0.8",size:"35 MB",minVersion:"Electron 20+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/electron"},{platform:"React Native SDK",icon:"Smartphone",description:"Native mobile SDK for React Native apps",version:"2.4.1",size:"28 MB",minVersion:"RN 0.68+",languages:["JavaScript","TypeScript"],docs:"https://docs.example.com/react-native"},{platform:"Unity SDK",icon:"Gamepad2",description:"Real-time video for gaming and metaverse",version:"1.8.0",size:"52 MB",minVersion:"Unity 2020.3+",languages:["C#"],docs:"https://docs.example.com/unity"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-1",children:a.platform}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]}),(0,b.jsx)("div",{className:"bg-cyan-500/20 p-2 rounded-lg",children:(0,b.jsx)(aF.Code,{className:"w-6 h-6 text-cyan-400"})})]}),(0,b.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Version:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.version})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Size:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.size})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Min Version:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.minVersion})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Languages:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.languages.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-900/50 text-slate-300 rounded text-xs",children:a},c))})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{let b,c,d,e;return c=new Blob([(b=a.platform.toLowerCase()).includes("ios")?`// Video SDK for iOS - Version ${a.version}
// Complete Swift SDK with all features

import Foundation
import AVFoundation
import WebRTC

public class VideoSDK {
    public static let shared = VideoSDK()
    private var peerConnection: RTCPeerConnection?
    private var localVideoTrack: RTCVideoTrack?
    private var localAudioTrack: RTCAudioTrack?

    // Initialize SDK with API Key
    public func initialize(apiKey: String) {
        print("Initializing Video SDK with API Key: \\(apiKey)")
        setupPeerConnection()
    }

    // Join a video room
    public func joinRoom(roomId: String, completion: @escaping (Bool) -> Void) {
        print("Joining room: \\(roomId)")
        setupLocalTracks()
        completion(true)
    }

    // Enable/Disable Camera
    public func toggleCamera(enabled: Bool) {
        localVideoTrack?.isEnabled = enabled
    }

    // Enable/Disable Microphone
    public func toggleMicrophone(enabled: Bool) {
        localAudioTrack?.isEnabled = enabled
    }

    // Start Screen Sharing
    public func startScreenShare() {
        print("Starting screen share")
    }

    // Leave Room
    public func leaveRoom() {
        peerConnection?.close()
        print("Left room successfully")
    }

    private func setupPeerConnection() {
        // WebRTC peer connection setup
    }

    private func setupLocalTracks() {
        // Setup video and audio tracks
    }
}

// Example Usage:
// let sdk = VideoSDK.shared
// sdk.initialize(apiKey: "your_api_key")
// sdk.joinRoom(roomId: "room123") { success in
//     print("Joined: \\(success)")
// }`:b.includes("android")?`// Video SDK for Android - Version ${a.version}
// Complete Kotlin SDK with all features

package com.videosdk

import android.content.Context
import org.webrtc.*

class VideoSDK private constructor() {

    companion object {
        val instance: VideoSDK by lazy { VideoSDK() }
    }

    private var peerConnection: PeerConnection? = null
    private var localVideoTrack: VideoTrack? = null
    private var localAudioTrack: AudioTrack? = null
    private var apiKey: String? = null

    // Initialize SDK with API Key
    fun initialize(context: Context, apiKey: String) {
        this.apiKey = apiKey
        println("Initializing Video SDK with API Key: $apiKey")
        setupPeerConnectionFactory(context)
    }

    // Join a video room
    fun joinRoom(roomId: String, callback: (Boolean) -> Unit) {
        println("Joining room: $roomId")
        setupLocalTracks()
        callback(true)
    }

    // Toggle Camera
    fun toggleCamera(enabled: Boolean) {
        localVideoTrack?.setEnabled(enabled)
    }

    // Toggle Microphone
    fun toggleMicrophone(enabled: Boolean) {
        localAudioTrack?.setEnabled(enabled)
    }

    // Start Screen Sharing
    fun startScreenShare() {
        println("Starting screen share")
    }

    // Leave Room
    fun leaveRoom() {
        peerConnection?.close()
        println("Left room successfully")
    }

    private fun setupPeerConnectionFactory(context: Context) {
        // WebRTC peer connection factory setup
    }

    private fun setupLocalTracks() {
        // Setup video and audio tracks
    }
}

// Example Usage:
// val sdk = VideoSDK.instance
// sdk.initialize(context, "your_api_key")
// sdk.joinRoom("room123") { success ->
//     println("Joined: $success")
// }`:b.includes("web")||b.includes("javascript")?`// Video SDK for Web - Version ${a.version}
// Complete JavaScript/TypeScript SDK with all features

class VideoSDK {
  constructor() {
    this.apiKey = null;
    this.localStream = null;
    this.peerConnection = null;
    this.roomId = null;
  }

  // Initialize SDK with API Key
  initialize(apiKey) {
    this.apiKey = apiKey;
    console.log('Initializing Video SDK with API Key:', apiKey);
    return this;
  }

  // Join a video room
  async joinRoom(roomId, options = {}) {
    this.roomId = roomId;
    console.log('Joining room:', roomId);

    try {
      this.localStream = await navigator.mediaDevices.getUserMedia({
        video: options.video !== false,
        audio: options.audio !== false
      });

      await this.setupPeerConnection();
      return { success: true, stream: this.localStream };
    } catch (error) {
      console.error('Error joining room:', error);
      return { success: false, error };
    }
  }

  // Toggle Camera
  toggleCamera(enabled) {
    const videoTracks = this.localStream?.getVideoTracks();
    videoTracks?.forEach(track => track.enabled = enabled);
  }

  // Toggle Microphone
  toggleMicrophone(enabled) {
    const audioTracks = this.localStream?.getAudioTracks();
    audioTracks?.forEach(track => track.enabled = enabled);
  }

  // Start Screen Sharing
  async startScreenShare() {
    try {
      const screenStream = await navigator.mediaDevices.getDisplayMedia({
        video: true
      });
      console.log('Screen sharing started');
      return screenStream;
    } catch (error) {
      console.error('Error starting screen share:', error);
      return null;
    }
  }

  // Leave Room
  leaveRoom() {
    this.localStream?.getTracks().forEach(track => track.stop());
    this.peerConnection?.close();
    console.log('Left room successfully');
  }

  async setupPeerConnection() {
    const configuration = {
      iceServers: [{ urls: 'stun:stun.l.google.com:19302' }]
    };
    this.peerConnection = new RTCPeerConnection(configuration);
  }
}

// Example Usage:
// const sdk = new VideoSDK();
// sdk.initialize('your_api_key');
// const result = await sdk.joinRoom('room123');
// if (result.success) {
//   document.querySelector('#video').srcObject = result.stream;
// }

export default VideoSDK;`:b.includes("react")?`// Video SDK for React - Version ${a.version}
// Complete React SDK with hooks and components

import React, { createContext, useContext, useState, useEffect } from 'react';

// Video SDK Context
const VideoSDKContext = createContext(null);

// Initialize Provider
export function VideoSDKProvider({ apiKey, children }) {
  const [sdk, setSDK] = useState(null);

  useEffect(() => {
    const videoSDK = new VideoSDK();
    videoSDK.initialize(apiKey);
    setSDK(videoSDK);
  }, [apiKey]);

  return (
    <VideoSDKContext.Provider value={sdk}>
      {children}
    </VideoSDKContext.Provider>
  );
}

// useVideoSDK Hook
export function useVideoSDK() {
  const context = useContext(VideoSDKContext);
  if (!context) {
    throw new Error('useVideoSDK must be used within VideoSDKProvider');
  }
  return context;
}

// useVideoRoom Hook
export function useVideoRoom(roomId) {
  const sdk = useVideoSDK();
  const [localStream, setLocalStream] = useState(null);
  const [participants, setParticipants] = useState([]);
  const [isConnected, setIsConnected] = useState(false);

  useEffect(() => {
    if (sdk && roomId) {
      joinRoom();
    }

    return () => {
      if (sdk) {
        sdk.leaveRoom();
      }
    };
  }, [sdk, roomId]);

  const joinRoom = async () => {
    const result = await sdk.joinRoom(roomId);
    if (result.success) {
      setLocalStream(result.stream);
      setIsConnected(true);
    }
  };

  const toggleCamera = (enabled) => {
    sdk.toggleCamera(enabled);
  };

  const toggleMicrophone = (enabled) => {
    sdk.toggleMicrophone(enabled);
  };

  return {
    localStream,
    participants,
    isConnected,
    toggleCamera,
    toggleMicrophone
  };
}

// Video Component
export function VideoView({ stream, muted = false }) {
  const videoRef = React.useRef(null);

  useEffect(() => {
    if (videoRef.current && stream) {
      videoRef.current.srcObject = stream;
    }
  }, [stream]);

  return (
    <video
      ref={videoRef}
      autoPlay
      playsInline
      muted={muted}
      style={{ width: '100%', height: '100%' }}
    />
  );
}

class VideoSDK {
  constructor() {
    this.apiKey = null;
    this.localStream = null;
  }

  initialize(apiKey) {
    this.apiKey = apiKey;
    console.log('Video SDK initialized');
  }

  async joinRoom(roomId) {
    try {
      this.localStream = await navigator.mediaDevices.getUserMedia({
        video: true,
        audio: true
      });
      return { success: true, stream: this.localStream };
    } catch (error) {
      return { success: false, error };
    }
  }

  toggleCamera(enabled) {
    this.localStream?.getVideoTracks().forEach(track => track.enabled = enabled);
  }

  toggleMicrophone(enabled) {
    this.localStream?.getAudioTracks().forEach(track => track.enabled = enabled);
  }

  leaveRoom() {
    this.localStream?.getTracks().forEach(track => track.stop());
  }
}

// Example Usage:
// <VideoSDKProvider apiKey="your_api_key">
//   <YourComponent />
// </VideoSDKProvider>`:b.includes("flutter")?`// Video SDK for Flutter - Version ${a.version}
// Complete Dart SDK with all features

import 'dart:async';
import 'package:flutter/material.dart';
import 'package:flutter_webrtc/flutter_webrtc.dart';

class VideoSDK {
  static final VideoSDK _instance = VideoSDK._internal();
  factory VideoSDK() => _instance;
  VideoSDK._internal();

  String? _apiKey;
  MediaStream? _localStream;
  RTCPeerConnection? _peerConnection;

  // Initialize SDK with API Key
  void initialize(String apiKey) {
    _apiKey = apiKey;
    print('Initializing Video SDK with API Key: $_apiKey');
  }

  // Join a video room
  Future<Map<String, dynamic>> joinRoom(String roomId) async {
    print('Joining room: $roomId');

    try {
      final mediaConstraints = {
        'audio': true,
        'video': {
          'facingMode': 'user'
        }
      };

      _localStream = await navigator.mediaDevices.getUserMedia(mediaConstraints);
      await _setupPeerConnection();

      return {'success': true, 'stream': _localStream};
    } catch (e) {
      print('Error joining room: $e');
      return {'success': false, 'error': e.toString()};
    }
  }

  // Toggle Camera
  void toggleCamera(bool enabled) {
    _localStream?.getVideoTracks().forEach((track) {
      track.enabled = enabled;
    });
  }

  // Toggle Microphone
  void toggleMicrophone(bool enabled) {
    _localStream?.getAudioTracks().forEach((track) {
      track.enabled = enabled;
    });
  }

  // Start Screen Sharing
  Future<MediaStream?> startScreenShare() async {
    try {
      final screenStream = await navigator.mediaDevices.getDisplayMedia({
        'video': true
      });
      print('Screen sharing started');
      return screenStream;
    } catch (e) {
      print('Error starting screen share: $e');
      return null;
    }
  }

  // Leave Room
  void leaveRoom() {
    _localStream?.getTracks().forEach((track) => track.stop());
    _peerConnection?.close();
    print('Left room successfully');
  }

  Future<void> _setupPeerConnection() async {
    final configuration = {
      'iceServers': [
        {'urls': 'stun:stun.l.google.com:19302'}
      ]
    };
    _peerConnection = await createPeerConnection(configuration);
  }
}

// VideoView Widget
class VideoView extends StatefulWidget {
  final MediaStream stream;
  final bool mirror;

  const VideoView({
    Key? key,
    required this.stream,
    this.mirror = false,
  }) : super(key: key);

  @override
  _VideoViewState createState() => _VideoViewState();
}

class _VideoViewState extends State<VideoView> {
  final RTCVideoRenderer _renderer = RTCVideoRenderer();

  @override
  void initState() {
    super.initState();
    _initRenderer();
  }

  void _initRenderer() async {
    await _renderer.initialize();
    _renderer.srcObject = widget.stream;
  }

  @override
  void dispose() {
    _renderer.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return RTCVideoView(
      _renderer,
      mirror: widget.mirror,
      objectFit: RTCVideoViewObjectFit.RTCVideoViewObjectFitCover,
    );
  }
}

// Example Usage:
// final sdk = VideoSDK();
// sdk.initialize('your_api_key');
// final result = await sdk.joinRoom('room123');
// if (result['success']) {
//   // Use VideoView widget to display stream
// }`:`// Video SDK - Version ${a.version}
// Complete SDK with all features for ${a.platform}

Documentation and sample code for ${a.platform}

Features included:
- Real-time video and audio communication
- Screen sharing capabilities
- Recording functionality
- Chat and messaging
- Whiteboard collaboration
- Virtual backgrounds
- Noise suppression
- AI-powered features
- Broadcasting and streaming
- Full API access

Please refer to the documentation at ${a.docs} for complete implementation details.

Installation:
Follow the platform-specific installation guide in the documentation.

Quick Start:
1. Initialize the SDK with your API key
2. Join a room using the room ID
3. Configure video/audio settings
4. Handle participant events
5. Implement UI controls

For complete examples and tutorials, visit our documentation portal.`],{type:"text/plain"}),d=URL.createObjectURL(c),void((e=document.createElement("a")).href=d,e.download=`${a.platform.replace(/\s+/g,"-").toLowerCase()}-v${a.version}.txt`,document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(d),aL({type:"success",message:`${a.platform} downloaded successfully!`}))},className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors text-sm",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download"]}),(0,b.jsx)("button",{onClick:()=>window.open(a.docs,"_blank"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors",children:(0,b.jsx)(i.FileText,{className:"w-4 h-4"})})]})]},c))}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Quick Start Guides"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"5-Minute Integration",desc:"Get started with basic video calls in minutes"},{title:"API Reference",desc:"Complete API documentation with examples"},{title:"Sample Projects",desc:"Download working examples for each platform"},{title:"Video Tutorials",desc:"Step-by-step video guides and walkthroughs"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all cursor-pointer",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-1",children:a.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.desc})]},c))})]})]}),"recordings"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Recording Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage, archive, and analyze your video recordings"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Total Recordings"}),(0,b.jsx)(ap.Video,{className:"w-6 h-6 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:G.length}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"All time"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Storage Used"}),(0,b.jsx)(ak.Package,{className:"w-6 h-6 text-green-400"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-white",children:[G.reduce((a,b)=>a+(b.file_size_mb||0),0).toFixed(2)," GB"]}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Across all recordings"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Active Recordings"}),(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-orange-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:G.filter(a=>"recording"===a.status).length}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"In progress now"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recording Configurations"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:L.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 text-xs rounded",children:"DEFAULT"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.recording_type.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Quality:"}),(0,b.jsx)("span",{className:"text-white",children:a.video_quality.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Auto-start:"}),(0,b.jsx)("span",{className:"text-white",children:a.auto_start_recording?"Yes":"No"})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Cloud Storage Providers"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"DEFAULT"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Provider:"}),(0,b.jsx)("span",{className:"text-white uppercase",children:a.provider.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Bucket:"}),(0,b.jsx)("span",{className:"text-white text-xs truncate",children:a.bucket_name})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Region:"}),(0,b.jsx)("span",{className:"text-white",children:a.region})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Auto-upload:"}),(0,b.jsx)("span",{className:"text-white",children:a.auto_upload?"Enabled":"Disabled"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Retention:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.retention_days," days"]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Recordings"}),(0,b.jsx)("div",{className:"space-y-3",children:G.slice(0,10).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-1",children:a.recording_name}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm mt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,b.jsx)("span",{className:"text-white ml-2 capitalize",children:a.recording_type.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Size:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[a.file_size_mb?.toFixed(2)||"N/A"," MB"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[Math.floor(a.duration_seconds/60)," min"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,b.jsx)("span",{className:`ml-2 px-2 py-0.5 rounded text-xs ${"completed"===a.status?"bg-green-500/20 text-green-400":"recording"===a.status?"bg-orange-500/20 text-orange-400":"bg-slate-500/20 text-slate-400"}`,children:a.status})]})]})]}),"completed"===a.status&&(0,b.jsxs)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Download"]})]}),a.recording_analytics&&a.recording_analytics.length>0&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700 grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Views:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.recording_analytics[0].view_count})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Downloads:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.recording_analytics[0].download_count})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Unique Viewers:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.recording_analytics[0].unique_viewers})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Avg Quality:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[a.recording_analytics[0].average_quality_score,"/100"]})]})]})]},a.id))})]})]}),"network"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Network Quality Management"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Monitor and optimize video quality with adaptive streaming"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Excellent Quality"}),(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:P.filter(a=>"excellent"===a.quality_rating).length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active connections"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Good Quality"}),(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:P.filter(a=>"good"===a.quality_rating).length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active connections"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Fair Quality"}),(0,b.jsx)(aR.default,{className:"w-5 h-5 text-orange-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:P.filter(a=>"fair"===a.quality_rating).length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Need optimization"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-rose-500/10 border border-red-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Poor Quality"}),(0,b.jsx)(w.X,{className:"w-5 h-5 text-red-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:P.filter(a=>"poor"===a.quality_rating||"critical"===a.quality_rating).length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Requires attention"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Adaptive Bitrate Configurations"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:R.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:a.config_name}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-xs ${a.enabled?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:a.enabled?"Enabled":"Disabled"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Min Bitrate:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.min_bitrate_kbps," kbps"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Target:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.target_bitrate_kbps," kbps"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Max Bitrate:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.max_bitrate_kbps," kbps"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Speed:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.adaptation_speed})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Preference:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.quality_preference})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Simulcast Configurations"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 text-xs rounded",children:"DEFAULT"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded p-3",children:[(0,b.jsx)("p",{className:"text-green-400 font-semibold mb-2",children:"High Quality"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,b.jsx)("div",{className:"text-white text-xs",children:a.high_resolution}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,b.jsxs)("div",{className:"text-white text-xs",children:[a.high_bitrate_kbps," kbps"]}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,b.jsx)("div",{className:"text-white text-xs",children:a.high_framerate})]})]}),(0,b.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded p-3",children:[(0,b.jsx)("p",{className:"text-orange-400 font-semibold mb-2",children:"Medium"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,b.jsx)("div",{className:"text-white text-xs",children:a.medium_resolution}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,b.jsxs)("div",{className:"text-white text-xs",children:[a.medium_bitrate_kbps," kbps"]}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,b.jsx)("div",{className:"text-white text-xs",children:a.medium_framerate})]})]}),(0,b.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded p-3",children:[(0,b.jsx)("p",{className:"text-blue-400 font-semibold mb-2",children:"Low"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,b.jsx)("div",{className:"text-white text-xs",children:a.low_resolution}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"Bitrate"}),(0,b.jsxs)("div",{className:"text-white text-xs",children:[a.low_bitrate_kbps," kbps"]}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:"FPS"}),(0,b.jsx)("div",{className:"text-white text-xs",children:a.low_framerate})]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Real-time Network Statistics"}),(0,b.jsx)("div",{className:"space-y-3",children:P.slice(0,10).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.video_call_participants?.participant_name||"Unknown Participant"}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:new Date(a.measured_at).toLocaleString()})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"excellent"===a.quality_rating?"bg-green-500/20 text-green-400 border border-green-500/30":"good"===a.quality_rating?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"fair"===a.quality_rating?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:a.quality_rating?.toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Quality Score"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.quality_score,"/100"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Packet Loss"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.packet_loss_percentage?.toFixed(2),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Jitter"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.jitter_ms?.toFixed(1)," ms"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"RTT"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.round_trip_time_ms?.toFixed(0)," ms"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Bandwidth"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.bandwidth_mbps?.toFixed(1)," Mbps"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Resolution"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.current_resolution})]})]}),a.adaptive_bitrate_active&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(aR.default,{className:"w-4 h-4 text-orange-400"}),(0,b.jsx)("span",{className:"text-orange-400 font-semibold",children:"Adaptive Bitrate Active"}),(0,b.jsx)("span",{className:"text-slate-400",children:"- Currently streaming at"}),(0,b.jsx)("span",{className:"text-white font-semibold capitalize",children:a.simulcast_layer}),(0,b.jsx)("span",{className:"text-slate-400",children:"quality layer"})]})})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Network Quality Features"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(aR.default,{className:"w-5 h-5 text-cyan-400"}),"Adaptive Bitrate Streaming"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Automatically adjusts video quality based on available bandwidth to maintain stable connections"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(ae.default,{className:"w-5 h-5 text-green-400"}),"Simulcast Technology"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Publishers send multiple quality streams simultaneously for optimal viewer experience"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(aJ.BarChart3,{className:"w-5 h-5 text-orange-400"}),"Real-time Diagnostics"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Monitor packet loss, jitter, RTT, and bandwidth in real-time for proactive optimization"})]})]})]})]}),"ai-processing"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"AI & Advanced Media Processing"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Client-side AI processing for professional video quality"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Background Processing"}),(0,b.jsx)(bi.default,{className:"w-6 h-6 text-purple-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:V.filter(a=>a.enabled).length}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Active configurations"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Noise Cancellation"}),(0,b.jsx)(bj.default,{className:"w-6 h-6 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:$.filter(a=>a.enabled).length}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"AI models enabled"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Live Transcription"}),(0,b.jsx)(Z.MessageSquare,{className:"w-6 h-6 text-green-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:aa.filter(a=>a.enabled).length}),(0,b.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Languages supported"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Background Blur & Replacement"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"WebAssembly-powered background processing without green screens"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:V.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:"DEFAULT"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.processing_type})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Quality:"}),(0,b.jsx)("span",{className:"text-white uppercase",children:a.quality})]}),"blur"===a.processing_type&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Blur Intensity:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.blur_intensity,"%"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Performance:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.performance_mode})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"GPU Acceleration:"}),(0,b.jsx)("span",{className:"text-white",children:a.use_gpu_acceleration?"Enabled":"Disabled"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"WASM Version:"}),(0,b.jsx)("span",{className:"text-white text-xs",children:a.wasm_module_version})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Virtual Backgrounds Library"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:X.slice(0,8).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3 hover:border-purple-500/50 transition-all cursor-pointer",children:[(0,b.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 rounded mb-2 flex items-center justify-center",children:(0,b.jsx)(bd.default,{className:"w-8 h-8 text-slate-600"})}),(0,b.jsx)("h4",{className:"text-white font-semibold text-sm mb-1",children:a.background_name}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsx)("span",{className:"text-slate-400 capitalize",children:a.category}),a.is_premium&&(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-amber-500/20 text-amber-400 rounded",children:"PRO"})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Noise Cancellation"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"Filter out background noise including typing, barking, and fan sounds"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"DEFAULT"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"AI Model:"}),(0,b.jsx)("span",{className:"text-white text-xs",children:a.ai_model.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Suppression:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.noise_suppression_level,"%"]})]}),(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Active Filters:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.filter_keyboard_typing&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Typing"}),a.filter_dog_barking&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Barking"}),a.filter_fan_noise&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Fan"}),a.voice_isolation&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-500/10 text-green-400 text-xs rounded",children:"Voice Isolation"})]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Transcription"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"Real-time speech-to-text with speaker diarization and translation"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:aa.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"DEFAULT"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"AI Model:"}),(0,b.jsx)("span",{className:"text-white text-xs",children:a.ai_model.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Language:"}),(0,b.jsx)("span",{className:"text-white",children:a.language})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Confidence:"}),(0,b.jsxs)("span",{className:"text-white",children:[(100*a.confidence_threshold).toFixed(0),"%"]})]}),(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-2",children:"Features:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.enable_speaker_diarization&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Speaker ID"}),a.enable_punctuation&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Punctuation"}),a.enable_translation&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Translation"}),a.word_timestamps&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-cyan-500/10 text-cyan-400 text-xs rounded",children:"Timestamps"})]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Processing Analytics"}),(0,b.jsx)("div",{className:"space-y-3",children:aj.slice(0,6).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold capitalize",children:a.processing_type.replace("_"," ")}),(0,b.jsxs)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:["Quality: ",a.quality_score,"/100"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Processing Time"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[Math.floor(a.total_processing_time_seconds/60)," min"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"CPU Usage"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.cpu_usage_percentage?.toFixed(1),"%"]})]}),a.gpu_usage_percentage&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"GPU Usage"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.gpu_usage_percentage?.toFixed(1),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Frames Processed"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.frames_processed?.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Errors"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.error_count})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-blue-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"AI Processing Features"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(bi.default,{className:"w-5 h-5 text-purple-400"}),"Background Blur/Replace"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"WASM-powered silhouette detection for professional backgrounds without green screens"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(bj.default,{className:"w-5 h-5 text-blue-400"}),"AI Noise Cancellation"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Remove typing, barking, and background noise using advanced AI models"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-5 h-5 text-green-400"}),"Live Transcription"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Real-time speech-to-text with speaker detection and multi-language translation"})]})]})]})]}),"broadcasting"===g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Broadcasting & Live Streaming"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Stream to millions with RTMP and HLS"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-pink-500/10 border border-red-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Live Broadcasts"}),(0,b.jsx)(a$.default,{className:"w-5 h-5 text-red-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:ah.filter(a=>"live"===a.status).length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Currently streaming"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"RTMP Configs"}),(0,b.jsx)(bl.Youtube,{className:"w-5 h-5 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:ac.length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Active destinations"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"HLS Streams"}),(0,b.jsx)(bk.default,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:af.length}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"CDN configurations"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Peak Viewers"}),(0,b.jsx)(e.default,{className:"w-5 h-5 text-orange-400"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:Math.max(...ah.map(a=>a.peak_viewer_count||0),0).toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"All-time high"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"RTMP Broadcast Configurations"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"Stream to YouTube, Twitch, Facebook, and custom RTMP destinations"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ac.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["youtube"===a.platform&&(0,b.jsx)(bl.Youtube,{className:"w-5 h-5 text-red-400"}),"twitch"===a.platform&&(0,b.jsx)(bm.default,{className:"w-5 h-5 text-purple-400"}),"facebook"===a.platform&&(0,b.jsx)(bn.Facebook,{className:"w-5 h-5 text-blue-400"}),"linkedin"===a.platform&&(0,b.jsx)(I.Globe,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name})]}),a.is_active&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"ACTIVE"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Platform:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.platform})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Video Quality:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.video_resolution," @ ",a.framerate,"fps"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Video Bitrate:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.video_bitrate_kbps," kbps"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Audio Bitrate:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.audio_bitrate_kbps," kbps"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Codec:"}),(0,b.jsxs)("span",{className:"text-white uppercase",children:[a.video_codec," / ",a.audio_codec]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"HLS Streaming Configurations"}),(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"Adaptive bitrate streaming for massive viewer scale with low latency"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:af.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.config_name}),a.is_active&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:"ACTIVE"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"CDN Provider:"}),(0,b.jsx)("span",{className:"text-white uppercase",children:a.cdn_provider.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Latency Mode:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.latency_mode.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Segment Duration:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.segment_duration_seconds,"s"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Max Viewers:"}),(0,b.jsx)("span",{className:"text-white",children:a.max_viewers?.toLocaleString()||"Unlimited"})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Adaptive Streaming:"}),(0,b.jsx)("span",{className:"text-white",children:a.enable_adaptive_streaming?"Enabled":"Disabled"})]}),a.enable_drm&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"DRM:"}),(0,b.jsx)("span",{className:"text-white uppercase",children:a.drm_provider})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Broadcast Sessions"}),(0,b.jsx)("div",{className:"space-y-3",children:ah.map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.broadcast_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded text-xs font-semibold ${"live"===a.status?"bg-red-500/20 text-red-400 border border-red-500/30 animate-pulse":"scheduled"===a.status?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"ended"===a.status?"bg-slate-500/20 text-slate-400 border border-slate-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Type:"}),(0,b.jsx)("span",{className:"text-white ml-2 uppercase",children:a.broadcast_type})]}),"live"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Current Viewers:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.viewer_count?.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Peak Viewers:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.peak_viewer_count?.toLocaleString()})]})]}),"ended"===a.status&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Peak Viewers:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.peak_viewer_count?.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Duration:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[Math.floor(a.duration_seconds/60)," min"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Total Watch Time:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[a.total_watch_time_minutes?.toLocaleString()," min"]})]})]}),"scheduled"===a.status&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Scheduled:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:new Date(a.scheduled_start).toLocaleString()})]})]})]}),"live"===a.status&&(0,b.jsxs)("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ml-4",children:[(0,b.jsx)(a$.default,{className:"w-4 h-4"}),"View Stream"]})]})},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-3",children:"Broadcasting Features"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(a$.default,{className:"w-5 h-5 text-red-400"}),"RTMP Streaming"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Push video to YouTube Live, Twitch, Facebook Live, and custom RTMP endpoints"}),(0,b.jsxs)("ul",{className:"text-slate-400 text-xs space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Multiple simultaneous destinations"}),(0,b.jsx)("li",{children:"â€¢ Automatic failover to backup servers"}),(0,b.jsx)("li",{children:"â€¢ Custom video/audio bitrate control"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[(0,b.jsx)(bk.default,{className:"w-5 h-5 text-green-400"}),"HLS Streaming"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Adaptive bitrate streaming for millions of viewers with CDN delivery"}),(0,b.jsxs)("ul",{className:"text-slate-400 text-xs space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Multiple quality variants (360p to 4K)"}),(0,b.jsx)("li",{children:"â€¢ Ultra-low latency mode available"}),(0,b.jsx)("li",{children:"â€¢ DRM protection support"})]})]})]})]})]})]}),aD&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Purchase Video API"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Get instant access with API keys and SDK"})]}),(0,b.jsx)("button",{onClick:()=>aE(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"space-y-6 mb-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-xl font-semibold text-white mb-2",children:aD.product_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:aD.description}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${bT(aD.industry)}`,children:aD.industry.replace("_"," ").toUpperCase()}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-400 border border-cyan-500/30",children:aD.product_type.toUpperCase()})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Included Features:"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:aD.features.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),a]},c))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Max Participants"}),(0,b.jsx)("p",{className:"text-white text-lg font-bold",children:aD.max_participants})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Cloud Storage"}),(0,b.jsxs)("p",{className:"text-white text-lg font-bold",children:[aD.storage_gb," GB"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"API Calls Limit"}),(0,b.jsxs)("p",{className:"text-white text-lg font-bold",children:[aD.api_calls_limit.toLocaleString(),"/mo"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Access Type"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[aD.has_sdk&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded text-xs",children:"SDK"}),aD.has_api&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:"API"})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Monthly Subscription:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(aD.monthly_price).toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Per Minute Rate:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(aD.per_minute_price).toFixed(4)]})]}),aD.setup_fee>0&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"One-time Setup Fee:"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["RM ",Number(aD.setup_fee).toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,b.jsx)("span",{className:"text-cyan-400 font-semibold",children:"Total Today:"}),(0,b.jsxs)("span",{className:"text-white text-2xl font-bold",children:["RM ",(Number(aD.setup_fee)+Number(aD.monthly_price)).toFixed(2)]})]}),(0,b.jsx)("p",{className:"text-cyan-400 text-xs mt-2",children:"API keys and SDK access will be generated instantly after purchase"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>aE(null),disabled:aG,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:bN,disabled:aG,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:aG?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(am.ShoppingCart,{className:"w-5 h-5"}),"Confirm Purchase"]})})]})]})}),aK&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,b.jsx)("div",{className:`${"success"===aK.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===aK.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===aK.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-white"}):(0,b.jsx)(w.X,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===aK.type?"text-green-400":"text-red-400"}`,children:"success"===aK.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1",children:aK.message})]}),(0,b.jsx)("button",{onClick:()=>aL(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})})}),aP&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Video Session Ready"}),(0,b.jsx)("p",{className:"text-slate-400",children:aP.template.template_name})]}),(0,b.jsx)("button",{onClick:()=>aQ(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,b.jsx)("div",{className:"bg-gradient-to-br from-cyan-500 to-blue-600 p-8 rounded-2xl",children:(0,b.jsx)(ap.Video,{className:"w-16 h-16 text-white"})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Session Type"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:aP.template.template_type})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Max Participants"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:aP.template.configuration.participant_limit})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Duration"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[aP.template.configuration.duration," mins"]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-300 mb-2 block",children:"Session URL"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-cyan-400 break-all",children:aP.session.sessionUrl}),(0,b.jsx)("button",{onClick:()=>bO(aP.session.sessionUrl,"session_url"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"session_url"===aM?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy"]})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-300 mb-2 block",children:"Room ID"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white",children:aP.session.roomId}),(0,b.jsx)("button",{onClick:()=>bO(aP.session.roomId,"room_id"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:"room_id"===aM?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy"]})})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-cyan-400 font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(be.default,{className:"w-5 h-5"}),"Join Meeting"]}),(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Click to enter the video conference room"}),(0,b.jsxs)("button",{onClick:()=>bQ(aP.session.roomId),className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(ap.Video,{className:"w-4 h-4"}),"Join Now"]})]}),(0,b.jsxs)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-blue-400 font-semibold mb-3 flex items-center gap-2",children:[(0,b.jsx)(o.default,{className:"w-5 h-5"}),"Invite Participants"]}),(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-3",children:"Share the link with other participants"}),(0,b.jsxs)("button",{onClick:()=>{var a;return a=aP.session.sessionUrl,void(navigator.clipboard.writeText(a),aL({type:"success",message:"Room link copied to clipboard!"}))},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(bf.default,{className:"w-4 h-4"}),"Share Link"]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Session Features"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:aP.template.features.slice(0,8).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 flex-shrink-0"}),a]},c))})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:()=>aQ(null),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Close"}),(0,b.jsxs)("button",{className:"flex-1 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(bg.default,{className:"w-5 h-5"}),"Open in Full Screen"]})]})]})}),at&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-3xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,b.jsx)(ap.Video,{className:"w-7 h-7 text-green-400"}),"Start Video Call"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Choose your call configuration and features"})]}),(0,b.jsx)("button",{onClick:()=>au(!1),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Call Type"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{onClick:()=>aw("p2p"),className:`p-4 rounded-lg border-2 transition-all text-left ${"p2p"===av?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(e.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"P2P Call"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"1-on-1 high-quality video call with ultra-low latency"})]}),(0,b.jsxs)("button",{onClick:()=>aw("group_sfu"),className:`p-4 rounded-lg border-2 transition-all text-left ${"group_sfu"===av?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(e.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"Group Room (SFU)"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Up to 50 active speakers with optimized bandwidth"})]}),(0,b.jsxs)("button",{onClick:()=>aw("group_mcu"),className:`p-4 rounded-lg border-2 transition-all text-left ${"group_mcu"===av?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(e.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"Group Room (MCU)"}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Large conferences with 100+ participants"})]}),(0,b.jsxs)("button",{onClick:()=>aw("webinar"),className:`p-4 rounded-lg border-2 transition-all text-left ${"webinar"===av?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(ae.default,{className:"w-5 h-5 text-purple-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"Webinar Mode"}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Broadcast to thousands of viewers"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Media & Collaboration Features"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:ax,onChange:a=>ay(a.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ae.default,{className:"w-4 h-4 text-green-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"Screen Sharing"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Share your screen, window, or tab"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:az,onChange:a=>aA(a.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ak.Package,{className:"w-4 h-4 text-orange-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"Virtual Whiteboard"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Collaborative drawing and annotations"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aB,onChange:a=>aC(a.target.checked),className:"w-5 h-5 text-green-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-green-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(be.default,{className:"w-4 h-4 text-blue-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"SIP Interconnect"}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:"PRO"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Allow phone dial-in for audio participants"})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Included Features"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"HD Video & Audio"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Real-time Chat"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Emoji Reactions"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Hand Raise"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>au(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{aV(`room_${Math.random().toString(36).substr(2,9)}`),au(!1),aL({type:"success",message:"Call started successfully!"})},className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(ap.Video,{className:"w-5 h-5"}),"Start Call"]})]})]})}),aW&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-7 h-7 text-cyan-400"}),"Schedule Video Meeting"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Create a new meeting with AI-powered features"})]}),(0,b.jsx)("button",{onClick:()=>aX(!1),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Meeting Title *"}),(0,b.jsx)("input",{type:"text",value:a1,onChange:a=>a2(a.target.value),placeholder:"e.g., Weekly Team Sync",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Date *"}),(0,b.jsx)("input",{type:"date",value:a3,onChange:a=>a4(a.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Time *"}),(0,b.jsx)("input",{type:"time",value:a5,onChange:a=>a6(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Participant Emails (comma-separated)"}),(0,b.jsx)("textarea",{value:a7,onChange:a=>a8(a.target.value),placeholder:"john@example.com, jane@example.com",rows:3,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(bh.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Meeting AI Configuration"})]}),aY.length>0?(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"AI Features Preset"}),(0,b.jsx)("select",{value:a_,onChange:a=>a0(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 mb-3",children:aY.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.configuration_name,a.is_default&&" (Default)"]},a.id))}),a_&&((a=aY.find(a=>a.id===a_))?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(aO.Mic,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Transcription:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.enable_transcription?"On":"Off"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(ap.Video,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Recording:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.enable_recording?"On":"Off"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bh.default,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{className:"text-slate-300",children:"AI Insights:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.enable_ai_insights?"On":"Off"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Action Items:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:a.enable_action_items?"On":"Off"})]})]}):null)]}):(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a9,onChange:a=>ba(a.target.checked),className:"w-5 h-5 text-cyan-600 bg-slate-900 border-slate-700 rounded focus:ring-2 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Enable AI Transcription"}),(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-0.5",children:"Real-time speech-to-text with speaker identification"})]})]})})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Meeting Features"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"HD Video & Audio"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Screen Sharing"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Chat & Reactions"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),"Up to 100 Participants"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>aX(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:bM,disabled:!a1||!a3||!a5,className:"flex-1 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-5 h-5"}),"Schedule Meeting"]})]})]})}),aU&&(0,b.jsx)(bu,{roomId:aU,onLeave:()=>{aV(null)}})]})}var aM=aM,bA=a.i(35652),bA=bA,a7=a7,bB=a.i(85034),bB=bB,bC=a.i(3095),bC=bC,bD=a.i(4699),bD=bD,bE=a.i(98091),bE=bE,aP=aP,u=u,y=y,u=u,an=an,bF=a.i(17007),bF=bF,B=B,C=C,a2=a2,a$=a$,t=t;function bG(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(null),[x,z]=(0,c.useState)(null);(0,c.useEffect)(()=>{A()},[]);let A=async()=>{try{console.log("Loading SMS configurations");let{data:a,error:b}=await n.db.from("sms_configurations").select("*").order("created_at",{ascending:!1});if(b)throw console.error("Error loading SMS configurations:",b),b;console.log("Loaded SMS configurations:",a?.length||0,"configs");let c=(a||[]).map(a=>{let b=a=>{if(!a||"string"!=typeof a)return a;try{return JSON.parse(a)}catch{return a}};return{...a,smpp_config:b(a.smpp_config),http_config:b(a.http_config),credentials:b(a.credentials),settings:b(a.settings)}});e(c)}catch(a){console.error("Error loading SMS configurations:",a),q(a.message)}finally{g(!1)}},C=async(a,b)=>{let c=!b,f=c?"active":"inactive";try{let{error:b}=await n.db.from("sms_configurations").update({is_active:c,status:f}).eq("id",a);if(b)throw b;e(d.map(b=>b.id===a?{...b,is_active:c,status:f}:b)),s("Configuration status updated successfully"),setTimeout(()=>s(null),3e3)}catch(a){console.error("Error updating configuration:",a),q(a.message)}},D=async a=>{try{let{error:b}=await n.db.from("sms_configurations").update({is_default:!0}).eq("id",a);if(b)throw b;e(d.map(b=>({...b,is_default:b.id===a}))),s("Default configuration updated successfully"),setTimeout(()=>s(null),3e3)}catch(a){console.error("Error setting default:",a),q(a.message)}},E=async a=>{if(confirm("Are you sure you want to delete this SMS aggregator configuration?"))try{let{error:b}=await n.db.from("sms_configurations").delete().eq("id",a);if(b)throw b;e(d.filter(b=>b.id!==a)),s("Configuration deleted successfully"),setTimeout(()=>s(null),3e3)}catch(a){console.error("Error deleting configuration:",a),q(a.message)}};return f?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(bF.default,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"SMS Aggregator Configuration"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Configure SMS aggregators like Infobip, Twilio, or custom SMPP providers"})]}),(0,b.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Configuration"]})]}),p&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Error"}),(0,b.jsx)("p",{className:"text-red-300 text-sm",children:p})]}),(0,b.jsx)("button",{onClick:()=>q(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})}),r&&(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-green-300 text-sm",children:r})}),(0,b.jsx)("button",{onClick:()=>s(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})}),k&&m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit SMS Aggregator Configuration"}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Configuration Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",defaultValue:m.gateway_name,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g., Infobip Production"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Aggregator Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{defaultValue:m.provider,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"infobip",children:"Infobip"}),(0,b.jsx)("option",{value:"twilio",children:"Twilio"}),(0,b.jsx)("option",{value:"sinch",children:"Sinch"}),(0,b.jsx)("option",{value:"vonage",children:"Vonage"}),(0,b.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Connection Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{defaultValue:m.protocol,className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"SMPP",children:"SMPP"}),(0,b.jsx)("option",{value:"HTTP",children:"HTTP"}),(0,b.jsx)("option",{value:"HTTPS",children:"HTTPS"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"edit-default",defaultChecked:m.is_default,className:"w-4 h-4 rounded border-slate-600 bg-slate-800 text-blue-500 focus:ring-blue-500"}),(0,b.jsx)("label",{htmlFor:"edit-default",className:"text-sm text-slate-300",children:"Set as default aggregator"})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SMPP Configuration"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Host ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",defaultValue:m.smpp_config?.host||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"smpp.provider.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Port ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"number",defaultValue:m.smpp_config?.port||"2775",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"2775"})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["System ID ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",defaultValue:m.smpp_config?.system_id||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"your_system_id"})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Password ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"password",defaultValue:m.credentials?.password||"",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,b.jsx)("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white",children:(0,b.jsx)(B.default,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Bind Type"}),(0,b.jsxs)("select",{defaultValue:m.smpp_config?.bind_type||"transceiver",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"transceiver",children:"Transceiver"}),(0,b.jsx)("option",{value:"transmitter",children:"Transmitter"}),(0,b.jsx)("option",{value:"receiver",children:"Receiver"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Encoding"}),(0,b.jsxs)("select",{defaultValue:m.smpp_config?.encoding||"UCS2",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"UCS2",children:"UCS2"}),(0,b.jsx)("option",{value:"GSM7",children:"GSM7"}),(0,b.jsx)("option",{value:"UTF-8",children:"UTF-8"})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Max Throughput (msg/sec)"}),(0,b.jsx)("input",{type:"number",defaultValue:m.settings?.max_throughput||"100",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Rate Limit (req/sec)"}),(0,b.jsx)("input",{type:"number",defaultValue:m.settings?.rate_limit||"100",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[(0,b.jsx)("button",{onClick:()=>{s("Configuration updated successfully!"),l(!1),o(null),setTimeout(()=>s(null),3e3)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all font-medium",children:"Save Configuration"}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"px-8 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-medium",children:"Cancel"})]})]})]})}),0===d.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,b.jsx)(j.Settings,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No SMS Aggregator Configurations"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first SMS aggregator to start sending messages via SMPP or HTTP/HTTPS"}),(0,b.jsx)("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg hover:from-blue-600 hover:to-cyan-600 transition-all",children:"Add Configuration"})]}):(0,b.jsx)("div",{className:"space-y-4",children:d.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:`p-3 bg-gradient-to-r ${"smpp"===a.protocol?"from-cyan-500 to-blue-500":"from-blue-500 to-green-500"} rounded-lg`,children:(a=>{switch(a){case"smpp":return(0,b.jsx)(a$.default,{className:"w-5 h-5"});case"http":case"https":return(0,b.jsx)(I.Globe,{className:"w-5 h-5"});default:return(0,b.jsx)(a2.default,{className:"w-5 h-5"})}})(a.protocol)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.gateway_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-medium border border-yellow-500/30",children:"Default"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${{infobip:"bg-orange-500/20 text-orange-400 border-orange-500/30",twilio:"bg-red-500/20 text-red-400 border-red-500/30",custom:"bg-purple-500/20 text-purple-400 border-purple-500/30",other:"bg-slate-500/20 text-slate-400 border-slate-500/30"}[a.provider]||"bg-slate-500/20 text-slate-400 border-slate-500/30"}`,children:a.provider?.toUpperCase()||"N/A"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${{smpp:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",http:"bg-blue-500/20 text-blue-400 border-blue-500/30",https:"bg-green-500/20 text-green-400 border-green-500/30"}[a.protocol]||"bg-slate-500/20 text-slate-400 border-slate-500/30"}`,children:a.protocol?.toUpperCase()||"N/A"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>C(a.id,"active"===a.status),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${"active"===a.status?"bg-green-500/20 text-green-400 border border-green-500/30 hover:bg-green-500/30":"bg-slate-700 text-slate-400 border border-slate-600 hover:bg-slate-600"}`,children:"active"===a.status?"Active":"Inactive"}),!a.is_default&&(0,b.jsx)("button",{onClick:()=>D(a.id),className:"p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-lg transition-all",title:"Set as default",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>z(x===a.id?null:a.id),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-500/10 rounded-lg transition-all",title:"View details",children:(0,b.jsx)(B.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>{o(a),l(!0)},className:"p-2 text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10 rounded-lg transition-all",title:"Edit configuration",children:(0,b.jsx)(t.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>E(a.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete configuration",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]})]}),x===a.id&&(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4 mt-4 space-y-4",children:[a.protocol?.toLowerCase()==="smpp"&&a.smpp_config&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,b.jsx)(a$.default,{className:"w-4 h-4"}),"SMPP Configuration"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.smpp_config.host&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Host:"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.smpp_config.host})]}),a.smpp_config.port&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Port:"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.smpp_config.port})]}),a.smpp_config.system_id&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"System ID:"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.smpp_config.system_id})]}),a.smpp_config.bind_type&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Bind Type:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:a.smpp_config.bind_type})]}),a.smpp_config.encoding&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Encoding:"}),(0,b.jsx)("span",{className:"text-white",children:a.smpp_config.encoding})]}),a.smpp_config.interface_version&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Interface Version:"}),(0,b.jsx)("span",{className:"text-white",children:a.smpp_config.interface_version})]})]})]}),["http","https"].includes(a.protocol?.toLowerCase()||"")&&a.http_config&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4"}),"HTTP/HTTPS Configuration"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.http_config.base_url&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3 col-span-2",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Base URL:"}),(0,b.jsx)("span",{className:"text-white font-mono break-all",children:a.http_config.base_url})]}),a.http_config.endpoint&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3 col-span-2",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Endpoint:"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.http_config.endpoint})]}),a.http_config.method&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Method:"}),(0,b.jsx)("span",{className:"text-white",children:a.http_config.method})]}),a.http_config.content_type&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Content Type:"}),(0,b.jsx)("span",{className:"text-white font-mono text-xs",children:a.http_config.content_type})]})]})]}),a.settings&&Object.keys(a.settings).length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Additional Settings"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.settings.max_throughput&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Max Throughput:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.settings.max_throughput," msg/sec"]})]}),a.settings.rate_limit&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Rate Limit:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.settings.rate_limit," req/sec"]})]}),a.settings.validity_period&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Validity Period:"}),(0,b.jsx)("span",{className:"text-white",children:a.settings.validity_period})]}),a.settings.default_sender&&(0,b.jsxs)("div",{className:"bg-slate-900/50 rounded-lg p-3",children:[(0,b.jsx)("span",{className:"text-slate-500 block mb-1",children:"Default Sender:"}),(0,b.jsx)("span",{className:"text-white",children:a.settings.default_sender})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-500 pt-2",children:[(0,b.jsxs)("span",{children:["Created: ",new Date(a.created_at).toLocaleString()]}),(0,b.jsxs)("span",{children:["Updated: ",new Date(a.updated_at).toLocaleString()]})]})]})]},a.id))}),h&&(0,b.jsx)(bH,{tenantId:a?.app_metadata?.tenant_id||a?.user_metadata?.tenant_id||"",onClose:()=>i(!1),onSuccess:()=>{i(!1),A(),s("SMS aggregator configured successfully"),setTimeout(()=>s(null),3e3)},onError:a=>q(a)})]})}function bH({tenantId:a,onClose:d,onSuccess:e,onError:f}){let[g,h]=(0,c.useState)({aggregatorName:"",aggregatorType:"infobip",connectionType:"smpp",isDefault:!1,smppHost:"",smppPort:"2775",smppSystemId:"",smppPassword:"",smppBindType:"transceiver",smppEncoding:"UCS2",httpBaseUrl:"",httpEndpoint:"",httpMethod:"POST",httpContentType:"application/json",apiKey:"",maxThroughput:"100",rateLimit:"100"}),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),m=async()=>{if(!g.aggregatorName||!g.aggregatorType)return void f("Please fill in all required fields");if("smpp"===g.connectionType&&(!g.smppHost||!g.smppPort||!g.smppSystemId))return void f("Please fill in all SMPP configuration fields");if(("http"===g.connectionType||"https"===g.connectionType)&&!g.httpBaseUrl)return void f("Please fill in the base URL for HTTP/HTTPS configuration");j(!0);try{let b={tenant_id:a||null,gateway_name:g.aggregatorName,provider:g.aggregatorType,protocol:g.connectionType.toUpperCase(),status:"active",is_active:!0,is_default:g.isDefault};"smpp"===g.connectionType?(b.smpp_config=JSON.stringify({host:g.smppHost,port:parseInt(g.smppPort),system_id:g.smppSystemId,bind_type:g.smppBindType,encoding:g.smppEncoding,interface_version:"3.4",ton:1,npi:1}),b.credentials=JSON.stringify({password:g.smppPassword})):(b.http_config=JSON.stringify({base_url:g.httpBaseUrl,endpoint:g.httpEndpoint,method:g.httpMethod,content_type:g.httpContentType,timeout:30}),b.credentials=JSON.stringify({api_key:g.apiKey})),b.settings=JSON.stringify({max_throughput:parseInt(g.maxThroughput),rate_limit:parseInt(g.rateLimit)});let{error:c}=await n.db.from("sms_configurations").insert(b);if(c)throw c;e()}catch(a){console.error("Error saving configuration:",a),f(a.message||"An error occurred while saving")}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl max-w-2xl w-full p-6 my-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Add SMS Aggregator Configuration"}),(0,b.jsxs)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Configuration Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:g.aggregatorName,onChange:a=>h({...g,aggregatorName:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g., Infobip Production"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Aggregator Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:g.aggregatorType,onChange:a=>h({...g,aggregatorType:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"infobip",children:"Infobip"}),(0,b.jsx)("option",{value:"twilio",children:"Twilio"}),(0,b.jsx)("option",{value:"custom",children:"Custom"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Connection Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:g.connectionType,onChange:a=>h({...g,connectionType:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"smpp",children:"SMPP"}),(0,b.jsx)("option",{value:"http",children:"HTTP"}),(0,b.jsx)("option",{value:"https",children:"HTTPS"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"isDefault",checked:g.isDefault,onChange:a=>h({...g,isDefault:a.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),(0,b.jsx)("label",{htmlFor:"isDefault",className:"text-sm text-slate-300 cursor-pointer",children:"Set as default aggregator"})]}),"smpp"===g.connectionType?(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"SMPP Configuration"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Host ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:g.smppHost,onChange:a=>h({...g,smppHost:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"smpp.provider.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Port ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"number",value:g.smppPort,onChange:a=>h({...g,smppPort:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"2775"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["System ID ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:g.smppSystemId,onChange:a=>h({...g,smppSystemId:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"your_system_id"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Password ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:k?"text":"password",value:g.smppPassword,onChange:a=>h({...g,smppPassword:a.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,b.jsx)("button",{type:"button",onClick:()=>l(!k),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:k?(0,b.jsx)(C.default,{className:"w-5 h-5"}):(0,b.jsx)(B.default,{className:"w-5 h-5"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Bind Type"}),(0,b.jsxs)("select",{value:g.smppBindType,onChange:a=>h({...g,smppBindType:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"transceiver",children:"Transceiver"}),(0,b.jsx)("option",{value:"transmitter",children:"Transmitter"}),(0,b.jsx)("option",{value:"receiver",children:"Receiver"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Encoding"}),(0,b.jsxs)("select",{value:g.smppEncoding,onChange:a=>h({...g,smppEncoding:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"UCS2",children:"UCS2"}),(0,b.jsx)("option",{value:"GSM7",children:"GSM7"}),(0,b.jsx)("option",{value:"UTF8",children:"UTF8"})]})]})]})]})]})}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"HTTP/HTTPS Configuration"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Base URL ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:g.httpBaseUrl,onChange:a=>h({...g,httpBaseUrl:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"https://api.provider.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Endpoint"}),(0,b.jsx)("input",{type:"text",value:g.httpEndpoint,onChange:a=>h({...g,httpEndpoint:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"/sms/send"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Method"}),(0,b.jsxs)("select",{value:g.httpMethod,onChange:a=>h({...g,httpMethod:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"POST",children:"POST"}),(0,b.jsx)("option",{value:"GET",children:"GET"}),(0,b.jsx)("option",{value:"PUT",children:"PUT"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),(0,b.jsxs)("select",{value:g.httpContentType,onChange:a=>h({...g,httpContentType:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"application/json",children:"application/json"}),(0,b.jsx)("option",{value:"application/x-www-form-urlencoded",children:"application/x-www-form-urlencoded"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Key"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:k?"text":"password",value:g.apiKey,onChange:a=>h({...g,apiKey:a.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"your-api-key"}),(0,b.jsx)("button",{type:"button",onClick:()=>l(!k),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:k?(0,b.jsx)(C.default,{className:"w-5 h-5"}):(0,b.jsx)(B.default,{className:"w-5 h-5"})})]})]})]})]})}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Additional Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Throughput (msg/sec)"}),(0,b.jsx)("input",{type:"number",value:g.maxThroughput,onChange:a=>h({...g,maxThroughput:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Limit (req/sec)"}),(0,b.jsx)("input",{type:"number",value:g.rateLimit,onChange:a=>h({...g,rateLimit:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"100"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:d,disabled:i,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:m,disabled:i,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bF.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save Configuration"})]})]})})}function bI(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)("compose"),[f,g]=(0,c.useState)("all"),[h,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[x,y]=(0,c.useState)("paste"),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)("now"),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[I,K]=(0,c.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[L,M]=(0,c.useState)({valid:0,duplicates:0,invalid:0}),[N,O]=(0,c.useState)(!0),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)({name:"",category:"promotional",description:"",content:"",use_case:"",is_default:!1}),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)({}),[$,_]=(0,c.useState)({});(0,c.useEffect)(()=>{a&&Promise.all([aa(),ab()]).finally(()=>O(!1))},[a]),(0,c.useEffect)(()=>{console.log("BulkSMS MOUNTED. Calling loadTemplates..."),ab()},[]),(0,c.useEffect)(()=>{Q(!0)},[]),(0,c.useEffect)(()=>{console.log("Loading campaigns (Filter changed or User loaded)"),aa()},[f]),(0,c.useEffect)(()=>{z?af(z):M({valid:0,duplicates:0,invalid:0})},[z]);let aa=async()=>{console.log("Loading SMS campaigns, filter:",f);let a=n.db.from("sms_campaigns").select("*").order("created_at",{ascending:!1});"all"!==f&&(a=a.eq("status",f));let{data:b,error:c}=await a;console.log("SMS Campaigns loaded:",{data:b,error:c,count:b?.length}),!c&&b?E(b):c&&console.error("Error loading SMS campaigns:",c)},ab=async()=>{try{let{data:a,error:b}=await n.db.from("sms_templates").select("*").order("template_name");if(!b&&a){let b=a.map(a=>{let b=a.variables;if("string"==typeof b)try{b=b.startsWith("[")?JSON.parse(b):b.split(",").map(a=>a.trim())}catch(a){console.error("Error parsing template variables:",a),b=[]}return{...a,variables:b}});G(b)}}catch(a){console.error("Error in loadTemplates",a)}},ac=async()=>{let a;if(!T.name||!T.content)return void alert("Please fill in Template Name and Content");let b=/{{([^}]+)}}/g,c=[];for(;null!==(a=b.exec(T.content));)c.push(a[1].trim());try{let{error:a}=await n.db.from("sms_templates").insert({template_name:T.name,category:T.category,description:T.description,content:T.content,variables:JSON.stringify(c),use_case:T.use_case,is_default:T.is_default});if(a)throw a;alert("Template created successfully!"),S(!1),U({name:"",category:"promotional",description:"",content:"",use_case:"",is_default:!1}),ab()}catch(a){console.error("Error creating template:",a),alert("Failed to create template")}};(0,c.useEffect)(()=>{if(D.length>0){let a=D.reduce((a,b)=>a+(b.sent_recipients||0),0),b=D.filter(a=>"completed"===a.status).reduce((a,b)=>a+(b.sent_recipients||0),0),c=D.filter(a=>"in_progress"===a.status).reduce((a,b)=>a+(b.sent_recipients||0),0);K({totalSent:a,delivered:b,pending:c,failed:a-b-c})}},[D]);let ad=async a=>{_(b=>({...b,[a]:!0}));let{data:b,error:c}=await n.db.from("sms_messages").select("*").eq("campaign_id",a).order("created_at",{ascending:!1}).limit(100);!c&&b&&Y(c=>({...c,[a]:b})),_(b=>({...b,[a]:!1}))},ae=async a=>{V===a?W(null):(W(a),X[a]||await ad(a))},af=a=>{let b=a.split("\n").filter(a=>a.trim()).map(a=>a.trim()),c=/^[\d\s+()-]{10,}$/,d=b.filter(a=>c.test(a)),e=new Set(d),f=d.length-e.size,g=b.length-d.length;M({valid:e.size,duplicates:f,invalid:g})},ag=a=>{r(a);let b=F.find(b=>b.id===a);b&&t(b.content)},ah=async()=>{if(!h||!l||!o||!s||!a)return void alert("Please fill in all required fields");if(0===L.valid)return void alert("Please add valid phone numbers");try{let{data:b,error:c}=await n.db.from("sms_campaigns").insert({user_id:a.id,campaign_name:h,route_type:l,sender_id:o,message:s,template_id:q||null,recipient_source:x,total_recipients:z.split("\n").filter(a=>a.trim()).length,sent_recipients:L.valid,insent_recipients:L.invalid,duplicate_numbers:L.duplicates,status:"now"===B?"in_progress":"scheduled",created_by:a.id}).select().single();if(c)throw c;alert("Campaign created successfully!"),al(),aa()}catch(a){console.error("Error creating campaign:",a),alert("Failed to create campaign")}},ai=async a=>{try{let{error:b}=await n.db.from("sms_campaigns").update({status:"paused"}).eq("id",a);if(b)throw b;alert("Campaign paused successfully"),aa()}catch(a){console.error("Error pausing campaign:",a),alert("Failed to pause campaign")}},aj=async a=>{try{let{error:b}=await n.db.from("sms_campaigns").update({status:"in_progress"}).eq("id",a);if(b)throw b;alert("Campaign resumed successfully"),aa()}catch(a){console.error("Error resuming campaign:",a),alert("Failed to resume campaign")}},ak=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("sms_campaigns").delete().eq("id",a);if(b)throw b;alert("Campaign deleted successfully"),aa()}catch(a){console.error("Error deleting campaign:",a),alert("Failed to delete campaign")}},al=()=>{k(""),m(""),p(""),r(""),t(""),A(""),y("paste"),C("now")},am=()=>Math.ceil(s.length/160)||1,an=a=>{switch(a){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"paused":return"bg-orange-500/20 text-orange-400 border-orange-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},ao=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950",children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:I.totalSent.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-blue-500/20 p-3 rounded-xl",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-blue-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:I.delivered.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsxs)("p",{className:"text-green-400 text-sm",children:[I.totalSent?Math.round(I.delivered/I.totalSent*100):0,"% delivery rate"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:I.pending.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:I.failed.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>e("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===d?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,b.jsx)("button",{onClick:()=>e("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===d?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,b.jsx)("button",{onClick:()=>e("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===d?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,b.jsxs)("button",{onClick:()=>e("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===d?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===d&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose SMS API Message"}),(0,b.jsxs)("button",{className:"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>k(a.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Route Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Route Type"}),(0,b.jsx)("option",{value:"promotional",children:"Promotional"}),(0,b.jsx)("option",{value:"transactional",children:"Transactional"}),(0,b.jsx)("option",{value:"otp",children:"OTP"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender ID ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:o,onChange:a=>p(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Sender ID"}),(0,b.jsx)("option",{value:"NRGDIC",children:"NRGDIC"}),(0,b.jsx)("option",{value:"MYBRAND",children:"MYBRAND"}),(0,b.jsx)("option",{value:"COMPANY",children:"COMPANY"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,b.jsxs)("button",{onClick:()=>e("templates"),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:[(0,b.jsx)(i.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,b.jsxs)("select",{value:q,onChange:a=>ag(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Template"}),F.map(a=>(0,b.jsx)("option",{value:a.id,children:a.template_name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("textarea",{value:s,onChange:a=>t(a.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",s.length," | Total SMS: ",am()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"paste"===x,onChange:()=>y("paste"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"upload"===x,onChange:()=>y("upload"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"phonebook"===x,onChange:()=>y("phonebook"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("textarea",{value:z,onChange:a=>A(a.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",z.split("\n").filter(a=>a.trim()).length]}),(0,b.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,b.jsxs)("span",{className:"text-green-400",children:["â— Valid Numbers: ",L.valid]}),(0,b.jsxs)("span",{className:"text-yellow-400",children:["â— Duplicates: ",L.duplicates]}),(0,b.jsxs)("span",{className:"text-red-400",children:["â— Invalid Numbers: ",L.invalid]})]})]})]}),"upload"===x&&(0,b.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,b.jsx)(bA.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,b.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===x&&(0,b.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Phonebook"}),(0,b.jsx)("option",{value:"customers",children:"Customers"}),(0,b.jsx)("option",{value:"leads",children:"Leads"}),(0,b.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"now"===B,onChange:()=>C("now"),className:"w-4 h-4 text-blue-600"}),(0,b.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"schedule"===B,onChange:()=>C("schedule"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:al,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:ah,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,b.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,b.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-slate-100 px-4 py-2 flex items-center justify-between border-b border-slate-200",children:[(0,b.jsx)("span",{className:"text-xs font-medium",children:P?ao():"--:--"}),(0,b.jsx)("span",{className:"text-xs font-semibold",children:o||"NRGDIC"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(bC.default,{className:"w-3 h-3"}),(0,b.jsx)(bB.default,{className:"w-5 h-3"})]})]}),(0,b.jsx)("div",{className:"h-[400px] bg-gradient-to-b from-slate-50 to-slate-100 p-4 overflow-y-auto",children:(0,b.jsx)("div",{className:"flex justify-end mb-4",children:(0,b.jsxs)("div",{className:"max-w-[85%]",children:[(0,b.jsxs)("div",{className:"text-xs text-slate-500 mb-1 text-right",children:["Today, ",P?ao():"--:--"]}),s?(0,b.jsx)("div",{className:"bg-blue-500 text-white rounded-2xl rounded-tr-sm px-4 py-3 shadow-sm",children:(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:s})}):(0,b.jsx)("div",{className:"bg-blue-100 text-blue-300 rounded-2xl rounded-tr-sm px-4 py-3 border border-dashed border-blue-300",children:(0,b.jsx)("p",{className:"text-sm",children:"Your message will appear here"})})]})})}),(0,b.jsx)("div",{className:"bg-white border-t border-slate-200 p-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-slate-100 rounded-full px-4 py-2",children:(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"Text Message"})}),(0,b.jsx)("button",{className:"bg-blue-500 text-white p-2 rounded-full",children:(0,b.jsx)(aM.default,{className:"w-4 h-4"})})]})})]})}),(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:s.length})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:am()})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:L.valid})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,b.jsx)("div",{className:"space-y-3",children:D.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-medium text-sm",children:a.campaign_name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${an(a.status)}`,children:"completed"===a.status?"Completed":"in_progress"===a.status?"In Progress":"paused"===a.status?"Paused":"draft"===a.status?"Draft":"Scheduled"})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,b.jsxs)("span",{children:["Sent: ",a.sent_recipients?.toLocaleString()||0]}),(0,b.jsxs)("span",{children:["Delivered: ",a.sent_recipients?.toLocaleString()||0]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:P?new Date(a.created_at).toLocaleString():"-"})]},a.id))}),D.length>3&&(0,b.jsx)("button",{onClick:()=>e("campaigns"),className:"w-full mt-3 text-blue-400 hover:text-blue-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===d&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,b.jsxs)("button",{onClick:()=>e("compose"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>g("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,b.jsx)("button",{onClick:()=>g("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,b.jsx)("button",{onClick:()=>g("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,b.jsx)("button",{onClick:()=>g("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,b.jsx)("button",{onClick:()=>g("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===D.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first SMS campaign to get started"}),(0,b.jsxs)("button",{onClick:()=>e("compose"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:D.map(a=>{let c=X[a.id]||[],d=V===a.id,e=$[a.id],f=c.reduce((a,b)=>(a[b.status]=(a[b.status]||0)+1,a),{});return(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.campaign_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${an(a.status)}`,children:"completed"===a.status?"Completed":"in_progress"===a.status?"In Progress":"paused"===a.status?"Paused":"draft"===a.status?"Draft":"Scheduled"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:P?new Date(a.created_at).toLocaleString():"-"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===a.status&&(0,b.jsx)("button",{onClick:()=>ai(a.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>aj(a.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ak(a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ae(a.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bE.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bD.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.total_recipients.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,b.jsx)("p",{className:"text-green-400 text-lg font-semibold",children:(a.total_recipients-(a.duplicate_numbers||0)).toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:a.status.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,b.jsxs)("p",{className:"text-white text-lg font-semibold",children:[a.success_rate?a.success_rate.toFixed(1):0,"%"]})]})]})]}),d&&(0,b.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:e?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(J.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===c.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",f.delivered||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-blue-400",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"Sent: ",f.sent||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),"Pending: ",f.pending||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-red-400",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"}),"Failed: ",f.failed||0]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-700",children:c.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:a.phone_number}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(a=>{switch(a){case"delivered":return"text-green-400";case"sent":return"text-blue-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";case"invalid":return"text-orange-400";default:return"text-slate-400"}})(a.status)}`,children:[(a=>{switch(a){case"delivered":return(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,b.jsx)(aM.default,{className:"w-4 h-4"});case"pending":default:return(0,b.jsx)(J.Clock,{className:"w-4 h-4"});case"failed":return(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"});case"invalid":return(0,b.jsx)(w.X,{className:"w-4 h-4"})}})(a.status),(0,b.jsx)("span",{className:"capitalize",children:a.status})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:P&&a.sent_at?new Date(a.sent_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:P&&a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:a.error_message?(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-red-400 text-xs",children:a.error_message})]}):(0,b.jsx)("span",{className:"text-slate-500",children:"-"})})]},a.id))})]})}),100===c.length&&(0,b.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},a.id)})})]}),"templates"===d&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Message Templates"}),(0,b.jsxs)("button",{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===F.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:F.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-blue-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:a.template_name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full border border-blue-500/30",children:"Default"})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===a.category?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"transactional"===a.category?"bg-green-500/20 text-green-400 border border-green-500/30":"otp"===a.category?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"reminder"===a.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:a.category})}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-3",children:(0,b.jsx)("p",{className:"text-slate-300 text-xs line-clamp-3 font-mono",children:a.content})}),a.variables&&a.variables.length>0&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.variables.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:a},c))})]}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:a.use_case}),(0,b.jsx)("button",{onClick:()=>{e("compose"),ag(a.id)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},a.id))})]}),"configuration"===d&&(0,b.jsx)(bG,{}),R&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create New Template"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your SMS template with variables and preview"})]}),(0,b.jsx)("button",{onClick:()=>S(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsxs)("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-800 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Template Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:T.name,onChange:a=>U({...T,name:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. Order Confirmation"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),(0,b.jsxs)("select",{value:T.category,onChange:a=>U({...T,category:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"promotional",children:"Promotional"}),(0,b.jsx)("option",{value:"transactional",children:"Transactional"}),(0,b.jsx)("option",{value:"otp",children:"OTP"}),(0,b.jsx)("option",{value:"alert",children:"Alert"}),(0,b.jsx)("option",{value:"reminder",children:"Reminder"}),(0,b.jsx)("option",{value:"survey",children:"Survey"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Use Case / Tag"}),(0,b.jsx)("input",{type:"text",value:T.use_case,onChange:a=>U({...T,use_case:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. Retail, Banking"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,b.jsx)("div",{onClick:()=>U({...T,is_default:!T.is_default}),className:`w-12 h-6 rounded-full cursor-pointer relative transition-colors ${T.is_default?"bg-blue-600":"bg-slate-700"}`,children:(0,b.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${T.is_default?"left-7":"left-1"}`})}),(0,b.jsx)("span",{className:"text-sm text-slate-300 cursor-pointer",onClick:()=>U({...T,is_default:!T.is_default}),children:"Set as Default"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),(0,b.jsx)("input",{type:"text",value:T.description,onChange:a=>U({...T,description:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-blue-500",placeholder:"Brief description of when to use this template"})]}),(0,b.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Content ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{value:T.content,onChange:a=>U({...T,content:a.target.value}),rows:8,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Hi {{name}}, your order {{order_id}} has been shipped..."}),(0,b.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-slate-500 bg-slate-900/80 px-2 py-1 rounded",children:[T.content.length," chars | ",Math.ceil(T.content.length/160)||1," SMS"]})]}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Click to insert variable:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["name","date","time","amount","link","otp","id"].map(a=>(0,b.jsx)("button",{onClick:()=>U({...T,content:T.content+` {{${a}}}`}),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-blue-500 text-blue-400 text-xs rounded transition-colors",children:`{{${a}}}`},a))})]})]})]}),(0,b.jsxs)("div",{className:"w-1/2 bg-slate-950 p-8 flex flex-col items-center justify-center border-l border-slate-800",children:[(0,b.jsx)("h4",{className:"text-slate-500 text-sm mb-4 uppercase tracking-wider font-semibold",children:"Live Preview"}),(0,b.jsxs)("div",{className:"w-[300px] h-[580px] bg-slate-900 border-4 border-slate-800 rounded-[3rem] p-4 relative shadow-2xl",children:[(0,b.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),(0,b.jsxs)("div",{className:"h-full bg-slate-950 rounded-[2.2rem] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-slate-900 p-4 pt-8 flex items-center gap-3 border-b border-slate-800",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-white font-bold text-xs",children:"promotional"===T.category?"BR":"CP"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white text-sm font-medium",children:"BrandName"}),(0,b.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Just now via SMS"})]})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 bg-slate-950/50",children:[(0,b.jsx)("div",{className:"bg-slate-800 rounded-2xl rounded-tl-sm p-3 max-w-[85%] mb-2",children:(0,b.jsx)("p",{className:"text-slate-200 text-sm leading-relaxed whitespace-pre-wrap break-words",children:T.content||"Your message preview will appear here..."})}),T.content&&(0,b.jsx)("p",{className:"text-slate-600 text-[10px] ml-1",children:"Delivered"})]}),(0,b.jsx)("div",{className:"p-3 bg-slate-900 border-t border-slate-800",children:(0,b.jsx)("div",{className:"h-8 bg-slate-800 border border-slate-700 rounded-full w-full"})})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mt-6",children:"Preview represents how the message might appear on a mobile device."})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900 flex justify-between items-center",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:(0,b.jsxs)("p",{children:["Fields marked with ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})," are required."]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:ac,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-lg font-medium shadow-lg shadow-blue-900/20 hover:shadow-blue-900/40 transition-all",children:"Save Template"})]})]})]})})]})})}var aM=aM,bA=bA,a7=a7,bB=bB,bC=bC,aP=aP,u=u,bD=bD,bE=bE,y=y,y=y,u=u,bJ=a.i(60741),bJ=bJ,bD=bD,bE=bE,R=R,ao=ao;function bK(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),[m,o]=(0,c.useState)({aggregator_name:"",aggregator_type:"infobip",connection_type:"https",rbm_api_endpoint:"",rbm_region:"us",rbm_supported_message_types:[],http_base_url:"",http_method:"POST",http_content_type:"application/json",api_key:"",agent_id:"",rcs_agent_name:"",rcs_agent_description:"",rcs_brand_color:"#007AFF",max_throughput:100,rate_limit:1e3,enable_sms_fallback:!0,enable_delivery_receipts:!0,is_active:!0});(0,c.useEffect)(()=>{a?p():l(!1)},[a]);let p=async()=>{l(!0),console.log("Loading RCS configurations");let{data:a,error:b}=await n.db.from("rcs_aggregator_configurations").select("*").order("created_at",{ascending:!1});b?console.error("Error loading RCS configurations:",b):(console.log("Loaded RCS configurations:",a?.length||0,"configs"),e(a||[])),l(!1)},q=async b=>{b.preventDefault();try{let{error:b}=await n.db.from("rcs_aggregator_configurations").insert({...m,user_id:a?.id});if(b)throw b;alert("Configuration added successfully!"),g(!1),v(),p()}catch(a){console.error("Error adding configuration:",a),alert("Failed to add configuration")}},r=async(a,b)=>{let{error:c}=await n.db.from("rcs_aggregator_configurations").update({is_active:!b}).eq("id",a);c||p()},s=async a=>{await n.db.from("rcs_aggregator_configurations").update({is_default:!1});let{error:b}=await n.db.from("rcs_aggregator_configurations").update({is_default:!0}).eq("id",a);b||p()},t=async a=>{if(!confirm("Are you sure you want to delete this configuration?"))return;let{error:b}=await n.db.from("rcs_aggregator_configurations").delete().eq("id",a);b||p()},v=()=>{o({aggregator_name:"",aggregator_type:"infobip",connection_type:"https",rbm_api_endpoint:"",rbm_region:"us",rbm_supported_message_types:[],http_base_url:"",http_method:"POST",http_content_type:"application/json",api_key:"",agent_id:"",rcs_agent_name:"",rcs_agent_description:"",rcs_brand_color:"#007AFF",max_throughput:100,rate_limit:1e3,enable_sms_fallback:!0,enable_delivery_receipts:!0,is_active:!0})};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"RCS Aggregator Configuration"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage your RCS aggregator connections without Google Jibe Cloud"})]}),(0,b.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Configuration"]})]}),f&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Add New RCS Aggregator"}),(0,b.jsx)("button",{onClick:()=>{g(!1),v()},className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:q,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Configuration Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:m.aggregator_name,onChange:a=>o({...m,aggregator_name:a.target.value}),placeholder:"e.g., Primary Infobip RCS",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Aggregator Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:m.aggregator_type,onChange:a=>o({...m,aggregator_type:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"infobip",children:"Infobip"}),(0,b.jsx)("option",{value:"twilio",children:"Twilio"}),(0,b.jsx)("option",{value:"google_jibe",children:"Google Jibe"}),(0,b.jsx)("option",{value:"custom",children:"Custom Provider"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Connection Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:m.connection_type,onChange:a=>o({...m,connection_type:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"rbm_api",children:"RBM API"}),(0,b.jsx)("option",{value:"http",children:"HTTP"}),(0,b.jsx)("option",{value:"https",children:"HTTPS"})]})]}),"rbm_api"===m.connection_type&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RBM API Endpoint"}),(0,b.jsx)("input",{type:"text",value:m.rbm_api_endpoint,onChange:a=>o({...m,rbm_api_endpoint:a.target.value}),placeholder:"https://rbm-api.example.com",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RBM Region"}),(0,b.jsxs)("select",{value:m.rbm_region,onChange:a=>o({...m,rbm_region:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"us",children:"United States"}),(0,b.jsx)("option",{value:"eu",children:"Europe"}),(0,b.jsx)("option",{value:"asia",children:"Asia Pacific"})]})]})]}),("http"===m.connection_type||"https"===m.connection_type)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Base URL ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",required:!0,value:m.http_base_url,onChange:a=>o({...m,http_base_url:a.target.value}),placeholder:"https://api.aggregator.com/v1",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"HTTP Method"}),(0,b.jsxs)("select",{value:m.http_method,onChange:a=>o({...m,http_method:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"POST",children:"POST"}),(0,b.jsx)("option",{value:"GET",children:"GET"}),(0,b.jsx)("option",{value:"PUT",children:"PUT"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Type"}),(0,b.jsx)("input",{type:"text",value:m.http_content_type,onChange:a=>o({...m,http_content_type:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["API Key ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"password",required:!0,value:m.api_key,onChange:a=>o({...m,api_key:a.target.value}),placeholder:"Enter your API key",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RCS Agent ID"}),(0,b.jsx)("input",{type:"text",value:m.agent_id,onChange:a=>o({...m,agent_id:a.target.value}),placeholder:"agent-12345",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"RCS Agent Name"}),(0,b.jsx)("input",{type:"text",value:m.rcs_agent_name,onChange:a=>o({...m,rcs_agent_name:a.target.value}),placeholder:"My Brand",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Brand Color"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"color",value:m.rcs_brand_color,onChange:a=>o({...m,rcs_brand_color:a.target.value}),className:"h-11 w-16 bg-slate-900/50 border border-slate-700 rounded-lg cursor-pointer"}),(0,b.jsx)("input",{type:"text",value:m.rcs_brand_color,onChange:a=>o({...m,rcs_brand_color:a.target.value}),className:"flex-1 bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Max Throughput (msgs/sec)"}),(0,b.jsx)("input",{type:"number",value:m.max_throughput,onChange:a=>o({...m,max_throughput:parseInt(a.target.value)}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Limit (msgs/hour)"}),(0,b.jsx)("input",{type:"number",value:m.rate_limit,onChange:a=>o({...m,rate_limit:parseInt(a.target.value)}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Agent Description"}),(0,b.jsx)("textarea",{value:m.rcs_agent_description,onChange:a=>o({...m,rcs_agent_description:a.target.value}),rows:3,placeholder:"Brief description of your RCS agent",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:m.enable_sms_fallback,onChange:a=>o({...m,enable_sms_fallback:a.target.checked}),className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Enable SMS Fallback"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:m.enable_delivery_receipts,onChange:a=>o({...m,enable_delivery_receipts:a.target.checked}),className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Enable Delivery Receipts"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:m.is_active,onChange:a=>o({...m,is_active:a.target.checked}),className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Active"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{g(!1),v()},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(R.default,{className:"w-5 h-5"}),"Save Configuration"]})]})]})]}),k?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"}),(0,b.jsx)("p",{className:"text-slate-400 mt-4",children:"Loading configurations..."})]}):0===d.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(j.Settings,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No RCS Aggregators Configured"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first RCS aggregator to start sending rich messages"}),(0,b.jsxs)("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Configuration"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:d.map(a=>{var c;let d;return(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.aggregator_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(c=a.aggregator_type,(d={infobip:"bg-orange-500/20 text-orange-400 border-orange-500/30",twilio:"bg-red-500/20 text-red-400 border-red-500/30",google_jibe:"bg-blue-500/20 text-blue-400 border-blue-500/30",custom:"bg-green-500/20 text-green-400 border-green-500/30",other:"bg-slate-500/20 text-slate-400 border-slate-500/30"})[c]||d.other)}`,children:a.aggregator_type.replace("_"," ").toUpperCase()}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"verified":return"bg-green-500/20 text-green-400 border-green-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.verification_status)}`,children:a.verification_status}),a.is_default&&(0,b.jsxs)("span",{className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,b.jsx)(ao.default,{className:"w-3 h-3"}),"Default"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Connection: ",a.connection_type.toUpperCase()]}),a.rcs_agent_name&&(0,b.jsxs)("span",{children:["Agent: ",a.rcs_agent_name]}),a.agent_id&&(0,b.jsxs)("span",{children:["ID: ",a.agent_id]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>s(a.id),className:"p-2 text-slate-400 hover:text-yellow-400 transition-colors",title:"Set as default",children:(0,b.jsx)(ao.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>r(a.id,a.is_active),className:`p-2 transition-colors ${a.is_active?"text-green-400 hover:text-green-300":"text-slate-400 hover:text-slate-300"}`,title:a.is_active?"Deactivate":"Activate",children:(0,b.jsx)(bJ.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>i(h===a.id?null:a.id),className:"p-2 text-slate-400 hover:text-white transition-colors",children:h===a.id?(0,b.jsx)(bE.default,{className:"w-5 h-5"}):(0,b.jsx)(bD.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>t(a.id),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]})]}),h===a.id&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-700",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Connection Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[a.http_base_url&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Base URL:"}),(0,b.jsx)("p",{className:"text-white break-all",children:a.http_base_url})]}),a.rbm_api_endpoint&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"RBM Endpoint:"}),(0,b.jsx)("p",{className:"text-white break-all",children:a.rbm_api_endpoint})]}),a.http_method&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Method:"}),(0,b.jsx)("span",{className:"text-white ml-2",children:a.http_method})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Performance Settings"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Max Throughput:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[a.max_throughput," msg/s"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Rate Limit:"}),(0,b.jsxs)("span",{className:"text-white ml-2",children:[a.rate_limit," msg/hr"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.enable_sms_fallback&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded border border-green-500/30",children:"SMS Fallback"}),a.enable_delivery_receipts&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded border border-blue-500/30",children:"Delivery Receipts"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Branding"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[a.rcs_agent_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Agent Name:"}),(0,b.jsx)("p",{className:"text-white",children:a.rcs_agent_name})]}),a.rcs_agent_description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Description:"}),(0,b.jsx)("p",{className:"text-white",children:a.rcs_agent_description})]}),a.rcs_brand_color&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Brand Color:"}),(0,b.jsx)("div",{className:"w-6 h-6 rounded border border-slate-600",style:{backgroundColor:a.rcs_brand_color}}),(0,b.jsx)("span",{className:"text-white",children:a.rcs_brand_color})]})]})]})]})})]},a.id)})})]})}function bL(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)("compose"),[h,k]=(0,c.useState)("all"),[l,m]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[x,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("paste"),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("now"),[G,I]=(0,c.useState)(""),[K,L]=(0,c.useState)("none"),[M,N]=(0,c.useState)("url"),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[W,X]=(0,c.useState)({valid:0,duplicates:0,invalid:0}),[Y,$]=(0,c.useState)(!0),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)({name:"",category:"promotional",description:"",message_content:"",media_url:"",buttons:[],use_case:"",is_default:!1}),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)({}),[ah,ai]=(0,c.useState)({});(0,c.useEffect)(()=>{e(!0),Promise.all([aj(),am()]).finally(()=>$(!1))},[]),(0,c.useEffect)(()=>{aj()},[h]),(0,c.useEffect)(()=>{C?ao(C):X({valid:0,duplicates:0,invalid:0})},[C]);let aj=async()=>{let a=n.db.from("rcs_campaigns").select("*").order("created_at",{ascending:!1});"all"!==h&&(a=a.eq("status",h));let{data:b,error:c}=await a;!c&&b&&R(b)},ak=async a=>{ai(b=>({...b,[a]:!0}));let{data:b,error:c}=await n.db.from("rcs_messages").select("*").eq("campaign_id",a).order("created_at",{ascending:!1}).limit(100);!c&&b&&ag(c=>({...c,[a]:b})),ai(b=>({...b,[a]:!1}))},al=async a=>{ad===a?ae(null):(ae(a),af[a]||await ak(a))},am=async()=>{let{data:a,error:b}=await n.db.from("rcs_templates").select("*").order("name");!b&&a&&T(a.map(a=>{let b=a.variables;if("string"==typeof b&&b)try{b=b.startsWith("[")||b.startsWith("{")?JSON.parse(b):b.split(",").map(a=>a.trim())}catch(a){console.error("Error parsing RCS template variables:",a),b=b.split(",").map(a=>a.trim())}else b||(b=[]);let c=a.buttons;if("string"==typeof c&&c)try{c=JSON.parse(c)}catch(a){console.error("Error parsing RCS template buttons:",a),c=[]}else Array.isArray(c)||(c=[]);return{...a,variables:Array.isArray(b)?b:[b],buttons:c}}))};(0,c.useEffect)(()=>{if(Q.length>0){let a=Q.reduce((a,b)=>a+(b.valid_numbers||0),0),b=Q.filter(a=>"completed"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0),c=Q.filter(a=>"in_progress"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0);V({totalSent:a,delivered:b,pending:c,failed:a-b-c})}else V({totalSent:0,delivered:0,pending:0,failed:0})},[Q]);let an=async()=>{let a;if(!ab.name||!ab.message_content)return void alert("Please fill in Template Name and Content");let b=/{{([^}]+)}}/g,c=[];for(;null!==(a=b.exec(ab.message_content));)c.push(a[1].trim());try{let{error:a}=await n.db.from("rcs_templates").insert({name:ab.name,category:ab.category,description:ab.description,message_content:ab.message_content,media_url:ab.media_url,buttons:JSON.stringify(ab.buttons),variables:JSON.stringify(c),use_case:ab.use_case,is_default:ab.is_default});if(a)throw a;alert("Template created successfully!"),aa(!1),ac({name:"",category:"promotional",description:"",message_content:"",media_url:"",buttons:[],use_case:"",is_default:!1}),am()}catch(a){console.error("Error creating template:",a),alert("Failed to create template")}},ao=a=>{let b=a.split("\n").filter(a=>a.trim()).map(a=>a.trim()),c=/^[\d\s+()-]{10,}$/,d=b.filter(a=>c.test(a)),e=new Set(d),f=d.length-e.size,g=b.length-d.length;X({valid:e.size,duplicates:f,invalid:g})},ap=a=>{t(a);let b=S.find(b=>b.id===a);b&&(z(b.message_content),b.media_url?(I(b.media_url),L(b.media_type||"image")):(I(""),L("none")))},aq=async()=>{if(!l||!o||!q||!x||!a)return void alert("Please fill in all required fields");if(0===W.valid)return void alert("Please add valid phone numbers");try{let{data:b,error:c}=await n.db.from("rcs_campaigns").insert({user_id:a.id,campaign_name:l,message_type:o,sender_id:q,message:x,template_id:s||null,recipient_source:A,total_recipients:C.split("\n").filter(a=>a.trim()).length,valid_numbers:W.valid,invalid_numbers:W.invalid,duplicate_numbers:W.duplicates,status:"now"===E?"in_progress":"scheduled",created_by:a.id}).select().single();if(c)throw c;alert("Campaign created successfully!"),au(),aj()}catch(a){console.error("Error creating campaign:",a),alert("Failed to create campaign")}},ar=async a=>{try{let{error:b}=await n.db.from("rcs_campaigns").update({status:"paused"}).eq("id",a);if(b)throw b;alert("Campaign paused successfully"),aj()}catch(a){console.error("Error pausing campaign:",a),alert("Failed to pause campaign")}},as=async a=>{try{let{error:b}=await n.db.from("rcs_campaigns").update({status:"in_progress"}).eq("id",a);if(b)throw b;alert("Campaign resumed successfully"),aj()}catch(a){console.error("Error resuming campaign:",a),alert("Failed to resume campaign")}},at=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("rcs_campaigns").delete().eq("id",a);if(b)throw b;alert("Campaign deleted successfully"),aj()}catch(a){console.error("Error deleting campaign:",a),alert("Failed to delete campaign")}},au=()=>{m(""),p(""),r(""),t(""),z(""),D(""),B("paste"),F("now"),I(""),L("none"),N("url"),P(null)},av=()=>Math.ceil(x.length/160)||1,aw=a=>{switch(a){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},ax=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return d?(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950",suppressHydrationWarning:!0,children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:U.totalSent.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-purple-500/20 p-3 rounded-xl",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-purple-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:U.delivered.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsxs)("p",{className:"text-green-400 text-sm",children:[U.totalSent?Math.round(U.delivered/U.totalSent*100):0,"% delivery rate"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:U.pending.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:U.failed.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>g("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===f?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,b.jsx)("button",{onClick:()=>g("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===f?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,b.jsx)("button",{onClick:()=>g("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===f?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,b.jsxs)("button",{onClick:()=>g("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===f?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===f&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose RCS API Message"}),(0,b.jsxs)("button",{className:"text-purple-400 hover:text-purple-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:l,onChange:a=>m(a.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:o,onChange:a=>p(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500",children:[(0,b.jsx)("option",{value:"",children:"Select Message Type"}),(0,b.jsx)("option",{value:"text",children:"Text Message"}),(0,b.jsx)("option",{value:"card",children:"Rich Card"}),(0,b.jsx)("option",{value:"carousel",children:"Carousel"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender ID ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Sender ID"}),(0,b.jsx)("option",{value:"NRGDIC",children:"NRGDIC"}),(0,b.jsx)("option",{value:"MYBRAND",children:"MYBRAND"}),(0,b.jsx)("option",{value:"COMPANY",children:"COMPANY"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,b.jsxs)("button",{onClick:()=>g("templates"),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:[(0,b.jsx)(i.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,b.jsxs)("select",{value:s,onChange:a=>ap(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Template"}),S.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("textarea",{value:x,onChange:a=>z(a.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",x.length," | Total SMS: ",av()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Add Media (Image)"}),G&&(0,b.jsxs)("button",{onClick:()=>{I(""),L("none"),P(null)},className:"text-red-400 hover:text-red-300 text-xs flex items-center gap-1",children:[(0,b.jsx)(w.X,{className:"w-3 h-3"}),"Remove Media"]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("button",{onClick:()=>N("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"url"===M?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"URL"}),(0,b.jsx)("button",{onClick:()=>N("upload"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"upload"===M?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"Upload File"})]}),"url"===M?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",value:O?"":G,onChange:a=>{I(a.target.value),a.target.value?L("image"):L("none"),P(null)},placeholder:"https://images.unsplash.com/photo-...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Provide a direct link to an image (JPEG, PNG, GIF, WebP)"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-6 text-center hover:border-purple-500 transition-colors",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, WebP)");if(b.size>5242880)return void alert("Image size must be less than 5MB");let c=new FileReader;c.onloadend=()=>{I(c.result),L("image"),P(b)},c.readAsDataURL(b)},className:"hidden",id:"rcs-image-upload"}),(0,b.jsx)("label",{htmlFor:"rcs-image-upload",className:"cursor-pointer",children:O?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-10 h-10 text-purple-400 mx-auto"}),(0,b.jsx)("p",{className:"text-white font-medium",children:O.name}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs",children:[(O.size/1024).toFixed(2)," KB"]})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(bA.default,{className:"w-10 h-10 text-slate-500 mx-auto"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Click to select an image"}),(0,b.jsx)("p",{className:"text-slate-500 text-xs",children:"JPEG, PNG, GIF, WebP (Max 5MB)"})]})})]}),O&&G&&(0,b.jsx)("div",{className:"mt-3 rounded-lg overflow-hidden border border-slate-700",children:(0,b.jsx)("img",{src:G,alt:"Preview",className:"w-full h-32 object-cover"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"paste"===A,onChange:()=>B("paste"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"upload"===A,onChange:()=>B("upload"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"phonebook"===A,onChange:()=>B("phonebook"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===A&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("textarea",{value:C,onChange:a=>D(a.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",C.split("\n").filter(a=>a.trim()).length]}),(0,b.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,b.jsxs)("span",{className:"text-green-400",children:["â— Valid Numbers: ",W.valid]}),(0,b.jsxs)("span",{className:"text-yellow-400",children:["â— Duplicates: ",W.duplicates]}),(0,b.jsxs)("span",{className:"text-red-400",children:["â— Invalid Numbers: ",W.invalid]})]})]})]}),"upload"===A&&(0,b.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,b.jsx)(bA.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,b.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===A&&(0,b.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Phonebook"}),(0,b.jsx)("option",{value:"customers",children:"Customers"}),(0,b.jsx)("option",{value:"leads",children:"Leads"}),(0,b.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"now"===E,onChange:()=>F("now"),className:"w-4 h-4 text-blue-600"}),(0,b.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"schedule"===E,onChange:()=>F("schedule"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:au,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:aq,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,b.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,b.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-purple-600 px-4 py-3 flex items-center justify-between border-b border-purple-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center",children:(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:q||"Business Chat"}),(0,b.jsx)("p",{className:"text-[10px] text-purple-200",children:"RCS Verified Account"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(bC.default,{className:"w-3 h-3 text-white"}),(0,b.jsx)(bB.default,{className:"w-5 h-3 text-white"})]})]}),(0,b.jsxs)("div",{className:"h-[380px] bg-[#f0f2f5] p-4 overflow-y-auto",children:[(0,b.jsx)("div",{className:"text-center mb-4",children:(0,b.jsx)("span",{className:"text-[10px] bg-white/80 px-2 py-1 rounded-full text-slate-500 shadow-sm border border-slate-100",children:d?ax():"--:--"})}),(0,b.jsx)("div",{className:"flex justify-start mb-4",children:(0,b.jsxs)("div",{className:"max-w-[85%]",children:["card"===o&&(0,b.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200 mb-2",children:[G&&"image"===K?(0,b.jsx)("div",{className:"h-32 bg-slate-200 overflow-hidden",children:(0,b.jsx)("img",{src:G,alt:"Rich card",className:"w-full h-full object-cover"})}):(0,b.jsx)("div",{className:"h-32 bg-slate-200 flex items-center justify-center",children:(0,b.jsx)(i.FileText,{className:"w-8 h-8 text-slate-400"})}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-1",children:"Rich Card Title"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 mb-2",children:x||"Rich card content preview..."}),(0,b.jsx)("button",{className:"w-full py-2 bg-purple-50 text-purple-600 rounded-lg text-xs font-semibold border border-purple-100",children:"Action Button"})]})]}),"card"!==o&&(0,b.jsxs)("div",{className:"bg-white text-slate-800 rounded-2xl rounded-tl-sm px-4 py-3 shadow-sm border border-slate-200",children:[G&&"image"===K&&(0,b.jsx)("div",{className:"mb-2 -mx-4 -mt-3 rounded-t-2xl overflow-hidden",children:(0,b.jsx)("img",{src:G,alt:"Media preview",className:"w-full h-32 object-cover"})}),(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:x||"Type your message..."}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 text-right mt-1",children:d?ax():"--:--"})]})]})})]}),(0,b.jsx)("div",{className:"bg-white border-t border-slate-200 p-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-slate-100 rounded-full px-4 py-2",children:(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"RCS Message"})}),(0,b.jsx)("button",{className:"bg-purple-600 text-white p-2 rounded-full",children:(0,b.jsx)(aM.default,{className:"w-4 h-4"})})]})})]})}),(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:x.length})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:av()})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:W.valid})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,b.jsx)("div",{className:"space-y-3",children:Q.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-medium text-sm",children:a.campaign_name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${aw(a.status)}`,children:"completed"===a.status?"Completed":"in_progress"===a.status?"In Progress":"Scheduled"})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,b.jsxs)("span",{children:["Sent: ",a.valid_numbers?.toLocaleString()||0]}),(0,b.jsxs)("span",{children:["Delivered: ",a.valid_numbers?.toLocaleString()||0]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(a.created_at).toLocaleString()})]},a.id))}),Q.length>3&&(0,b.jsx)("button",{onClick:()=>g("campaigns"),className:"w-full mt-3 text-purple-400 hover:text-purple-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===f&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,b.jsxs)("button",{onClick:()=>g("compose"),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>k("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===h?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>k("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===h?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,b.jsx)("button",{onClick:()=>k("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===h?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,b.jsx)("button",{onClick:()=>k("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===h?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,b.jsx)("button",{onClick:()=>k("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===h?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,b.jsx)("button",{onClick:()=>k("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===h?"bg-purple-600 text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===Q.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first RCS campaign to get started"}),(0,b.jsxs)("button",{onClick:()=>g("compose"),className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:Q.map(a=>{let c=af[a.id]||[],d=ad===a.id,e=ah[a.id],f=c.reduce((a,b)=>(a[b.status]=(a[b.status]||0)+1,a),{});return(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.campaign_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${aw(a.status)}`,children:a.status})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:new Date(a.created_at).toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===a.status&&(0,b.jsx)("button",{onClick:()=>ar(a.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>as(a.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>at(a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>al(a.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bE.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bD.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.total_recipients.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,b.jsx)("p",{className:"text-green-400 text-lg font-semibold",children:a.valid_numbers.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:a.status.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,b.jsxs)("p",{className:"text-white text-lg font-semibold",children:[a.total_recipients>0?Math.round(a.valid_numbers/a.total_recipients*100):0,"%"]})]})]})]}),d&&(0,b.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:e?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(J.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===c.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",f.delivered||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-blue-400",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"Sent: ",f.sent||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),"Pending: ",f.pending||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-red-400",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"}),"Failed: ",f.failed||0]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Read At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-700",children:c.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:a.phone_number}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(a=>{switch(a){case"delivered":return"text-green-400";case"sent":return"text-blue-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";default:return"text-slate-400"}})(a.status)}`,children:[(a=>{switch(a){case"delivered":return(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,b.jsx)(aM.default,{className:"w-4 h-4"});case"pending":default:return(0,b.jsx)(J.Clock,{className:"w-4 h-4"});case"failed":return(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"})}})(a.status),(0,b.jsx)("span",{className:"capitalize",children:a.status})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:a.sent_at?new Date(a.sent_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:a.read_at?new Date(a.read_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:a.error_message?(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-red-400 text-xs",children:a.error_message})]}):(0,b.jsx)("span",{className:"text-slate-500",children:"-"})})]},a.id))})]})}),100===c.length&&(0,b.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},a.id)})})]}),"templates"===f&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"RCS Message Templates"}),(0,b.jsxs)("button",{onClick:()=>aa(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===S.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-purple-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:a.name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded-full border border-purple-500/30",children:"Default"})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===a.category?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"transactional"===a.category?"bg-green-500/20 text-green-400 border border-green-500/30":"marketing"===a.category?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"reminder"===a.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:a.category})}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:a.description}),a.media_url&&(0,b.jsx)("div",{className:"mb-3 rounded overflow-hidden bg-slate-800 flex items-center justify-center min-h-[128px]",children:(0,b.jsx)("img",{src:a.media_url,alt:a.name,className:"w-full h-32 object-cover",onError:a=>{a.currentTarget.parentElement.style.display="none"}})}),(0,b.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-3",children:(0,b.jsx)("p",{className:"text-slate-300 text-xs line-clamp-3 font-mono",children:a.message_content})}),Array.isArray(a.buttons)&&a.buttons.length>0&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Action Buttons:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.buttons.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded border border-purple-500/30",children:a.text},c))})]}),a.variables&&a.variables.length>0&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.variables.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:a},c))})]}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:a.use_case}),(0,b.jsx)("button",{onClick:()=>{g("compose"),ap(a.id)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},a.id))})]}),_&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create New RCS Template"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your Rich Communication Services template"})]}),(0,b.jsx)("button",{onClick:()=>aa(!1),className:"text-slate-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsxs)("div",{className:"w-1/2 p-6 overflow-y-auto border-r border-slate-800 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Template Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:ab.name,onChange:a=>ac({...ab,name:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g. Order Confirmation"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),(0,b.jsxs)("select",{value:ab.category,onChange:a=>ac({...ab,category:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",children:[(0,b.jsx)("option",{value:"promotional",children:"Promotional"}),(0,b.jsx)("option",{value:"transactional",children:"Transactional"}),(0,b.jsx)("option",{value:"otp",children:"OTP"}),(0,b.jsx)("option",{value:"alert",children:"Alert"}),(0,b.jsx)("option",{value:"reminder",children:"Reminder"}),(0,b.jsx)("option",{value:"survey",children:"Survey"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Use Case / Tag"}),(0,b.jsx)("input",{type:"text",value:ab.use_case,onChange:a=>ac({...ab,use_case:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"e.g. Retail, Banking"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,b.jsx)("div",{onClick:()=>ac({...ab,is_default:!ab.is_default}),className:`w-12 h-6 rounded-full cursor-pointer relative transition-colors ${ab.is_default?"bg-purple-600":"bg-slate-700"}`,children:(0,b.jsx)("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${ab.is_default?"left-7":"left-1"}`})}),(0,b.jsx)("span",{className:"text-sm text-slate-300 cursor-pointer",onClick:()=>ac({...ab,is_default:!ab.is_default}),children:"Set as Default"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),(0,b.jsx)("input",{type:"text",value:ab.description,onChange:a=>ac({...ab,description:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"Brief description of when to use this template"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Media URL (Optional)"}),(0,b.jsx)("input",{type:"text",value:ab.media_url,onChange:a=>ac({...ab,media_url:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:border-purple-500",placeholder:"https://example.com/image.jpg"})]}),(0,b.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Content ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{value:ab.message_content,onChange:a=>ac({...ab,message_content:a.target.value}),rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-purple-500 font-mono text-sm",placeholder:"Hi {{name}}, your order {{order_id}} has been shipped..."}),(0,b.jsxs)("div",{className:"absolute bottom-3 right-3 text-xs text-slate-500 bg-slate-900/80 px-2 py-1 rounded",children:[ab.message_content.length," chars"]})]}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-2",children:"Click to insert variable:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["name","date","time","amount","link","otp","id"].map(a=>(0,b.jsx)("button",{onClick:()=>ac({...ab,message_content:ab.message_content+` {{${a}}}`}),className:"px-2 py-1 bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-purple-500 text-purple-400 text-xs rounded transition-colors",children:`{{${a}}}`},a))})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-800 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Actions / Buttons"}),(0,b.jsxs)("button",{onClick:()=>ac({...ab,buttons:[...ab.buttons,{text:"New Button",url:"",type:"url"}]}),className:"text-purple-400 hover:text-purple-300 text-xs font-medium flex items-center gap-1",children:[(0,b.jsx)(y.default,{className:"w-3 h-3"}),"Add Button"]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[ab.buttons.map((a,c)=>(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,b.jsx)("input",{type:"text",value:a.text,onChange:a=>{let b=[...ab.buttons];b[c].text=a.target.value,ac({...ab,buttons:b})},className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-purple-500 outline-none",placeholder:"Button Text"}),(0,b.jsxs)("select",{value:a.type,onChange:a=>{let b=[...ab.buttons];b[c].type=a.target.value,ac({...ab,buttons:b})},className:"bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-purple-500 outline-none",children:[(0,b.jsx)("option",{value:"url",children:"URL"}),(0,b.jsx)("option",{value:"call",children:"Call"}),(0,b.jsx)("option",{value:"reply",children:"Reply"})]}),(0,b.jsx)("button",{onClick:()=>{let a=[...ab.buttons];a.splice(c,1),ac({...ab,buttons:a})},className:"text-slate-500 hover:text-red-400 p-1",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]}),"reply"!==a.type&&(0,b.jsx)("input",{type:"text",value:a.url,onChange:a=>{let b=[...ab.buttons];b[c].url=a.target.value,ac({...ab,buttons:b})},className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm text-white focus:border-purple-500 outline-none placeholder-slate-600",placeholder:"call"===a.type?"+1234567890":"https://example.com"})]},c)),0===ab.buttons.length&&(0,b.jsx)("p",{className:"text-slate-500 text-xs italic text-center py-2",children:"No buttons added"})]})]})]}),(0,b.jsxs)("div",{className:"w-1/2 bg-slate-950 p-8 flex flex-col items-center justify-center border-l border-slate-800",children:[(0,b.jsx)("h4",{className:"text-slate-500 text-sm mb-4 uppercase tracking-wider font-semibold",children:"Live Preview"}),(0,b.jsxs)("div",{className:"w-[300px] h-[580px] bg-slate-900 border-4 border-slate-800 rounded-[3rem] p-4 relative shadow-2xl",children:[(0,b.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl z-10"}),(0,b.jsxs)("div",{className:"h-full bg-slate-950 rounded-[2.2rem] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-slate-900 p-4 pt-8 flex items-center gap-3 border-b border-slate-800",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold text-xs",children:"promotional"===ab.category?"BR":"CP"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white text-sm font-medium",children:"BrandName"}),(0,b.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Just now via RCS"})]})]}),(0,b.jsxs)("div",{className:"flex-1 p-4 bg-slate-950/50 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm border border-slate-200 mb-2 max-w-[90%]",children:[ab.media_url?(0,b.jsx)("div",{className:"h-32 bg-slate-200 flex items-center justify-center overflow-hidden",children:(0,b.jsx)("img",{src:ab.media_url,alt:"Media",className:"w-full h-full object-cover"})}):(0,b.jsx)("div",{className:"h-24 bg-slate-100 flex items-center justify-center border-b border-slate-100",children:(0,b.jsx)(i.FileText,{className:"w-8 h-8 text-slate-300"})}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("h4",{className:"text-sm font-bold text-slate-800 mb-1",children:ab.name||"Card Title"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 mb-3 whitespace-pre-wrap leading-relaxed",children:ab.message_content||"Your message preview will appear here..."}),(0,b.jsxs)("div",{className:"space-y-2",children:[ab.buttons.map((a,c)=>(0,b.jsx)("div",{className:"w-full py-2 bg-white text-purple-600 rounded-lg text-xs font-semibold border border-purple-100 text-center shadow-sm",children:a.text},c)),0===ab.buttons.length&&(0,b.jsx)("div",{className:"w-full py-2 bg-slate-50 text-slate-400 rounded-lg text-xs font-semibold border border-slate-100 text-center",children:"Action Button"})]})]})]}),(0,b.jsx)("p",{className:"text-slate-600 text-[10px] ml-1 mt-1",children:"Delivered â€¢ R"})]}),(0,b.jsx)("div",{className:"p-3 bg-slate-900 border-t border-slate-800",children:(0,b.jsx)("div",{className:"h-8 bg-slate-800 border border-slate-700 rounded-full w-full flex items-center px-3",children:(0,b.jsx)("span",{className:"text-slate-600 text-xs",children:"Chat with BrandName"})})})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mt-6",children:"Preview represents how the message might appear on a mobile device."})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900 flex justify-between items-center",children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:(0,b.jsxs)("p",{children:["Fields marked with ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})," are required."]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>aa(!1),className:"px-6 py-2.5 text-slate-300 hover:text-white transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:an,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-2.5 rounded-lg font-medium shadow-lg shadow-purple-900/20 hover:shadow-purple-900/40 transition-all",children:"Save Template"})]})]})]})}),"configuration"===f&&(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:(0,b.jsx)(bK,{})})]})}):null}var aM=aM,bA=bA,e=e,R=R,y=y,bM=a.i(67900),a7=a7,bC=bC,aP=aP,u=u,bD=bD,bE=bE,y=y,u=u,an=an,bF=bF,A=A,B=B,C=C;function bN({onConfigUpdate:a}={}){let{user:d}=(0,H.useAuth)(),[e,f]=(0,c.useState)("my-config"),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,v]=(0,c.useState)(null),[x,z]=(0,c.useState)(null);(0,c.useEffect)(()=>{B(),C()},[]);let B=async()=>{try{let{data:a,error:b}=await n.db.from("tenant_whatsapp_configs").select("*").maybeSingle();if(b)throw b;if(h(a),a){let{data:b,error:c}=await n.db.from("tenant_whatsapp_numbers").select("*").eq("whatsapp_config_id",a.id).order("created_at",{ascending:!1});if(c)throw c;j(b||[])}}catch(a){console.error("Error loading Whatsapp API configuration:",a),v(a.message)}finally{o(!1)}},C=async()=>{try{let{data:a,error:b}=await n.db.from("sample_whatsapp_configs").select("*").order("created_at",{ascending:!1});if(b)throw b;if(a){let b=await Promise.all(a.map(async a=>{let b="string"==typeof a.config_data?JSON.parse(a.config_data):a.config_data,{data:c}=await n.db.from("sample_whatsapp_numbers").select("*").eq("config_id",a.id).limit(5);return{...a,config_data:b,phone_numbers:c||[]}}));l(b)}}catch(a){console.error("Error loading sample configurations:",a)}},D=async()=>{if(g&&confirm("Are you sure you want to delete this WhatsApp configuration? All associated numbers will be removed."))try{let{error:a}=await n.db.from("tenant_whatsapp_configs").delete().eq("id",g.id);if(a)throw a;h(null),j([]),z("WhatsApp configuration deleted successfully"),setTimeout(()=>z(null),3e3)}catch(a){console.error("Error deleting configuration:",a),v(a.message)}},E=async a=>{if(confirm("Are you sure you want to remove this number?"))try{let{error:b}=await n.db.from("tenant_whatsapp_numbers").delete().eq("id",a);if(b)throw b;j(i.filter(b=>b.id!==a)),z("Number removed successfully"),setTimeout(()=>z(null),3e3)}catch(a){console.error("Error deleting number:",a),v(a.message)}};return m?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(bF.default,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"WhatsApp Business Configuration"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Configure your WhatsApp Business Account to send and receive messages"})]}),(0,b.jsxs)("button",{onClick:()=>q(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Configuration"]})]}),(0,b.jsxs)("div",{className:"flex gap-2 border-b border-slate-700",children:[(0,b.jsx)("button",{onClick:()=>f("my-config"),className:`px-4 py-3 font-medium transition-all ${"my-config"===e?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-white"}`,children:"My Configuration"}),(0,b.jsxs)("button",{onClick:()=>f("samples"),className:`px-4 py-3 font-medium transition-all ${"samples"===e?"text-green-400 border-b-2 border-green-400":"text-slate-400 hover:text-white"}`,children:["Sample Configurations (",k.length,")"]})]}),t&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-red-400 font-semibold mb-1",children:"Error"}),(0,b.jsx)("p",{className:"text-red-300 text-sm",children:t})]}),(0,b.jsx)("button",{onClick:()=>v(null),className:"ml-auto text-red-400 hover:text-red-300",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})}),x&&(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-green-300 text-sm",children:x})}),(0,b.jsx)("button",{onClick:()=>z(null),className:"ml-auto text-green-400 hover:text-green-300",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})}),"my-config"===e?g?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:(0,b.jsx)(a0.MessageCircle,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:"WhatsApp Business Account"}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["Account ID: ",g.business_account_id]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[g.is_verified?(0,b.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium border border-green-500/30",children:[(0,b.jsx)(an.default,{className:"w-4 h-4"}),"Verified"]}):(0,b.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-sm font-medium border border-yellow-500/30",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"}),"Not Verified"]}),(0,b.jsx)("button",{onClick:D,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all",title:"Delete configuration",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]})]}),g.webhook_url&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Webhook Endpoint"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"text",value:g.webhook_url,readOnly:!0,className:"flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none"}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(g.webhook_url),z("Webhook URL copied to clipboard"),setTimeout(()=>z(null),2e3)},className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all",title:"Copy URL",children:(0,b.jsx)(A.default,{className:"w-5 h-5"})})]})]}),g.webhook_token&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Webhook Token"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"password",value:g.webhook_token,readOnly:!0,className:"flex-1 px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none"}),(0,b.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(g.webhook_token),z("Token copied to clipboard"),setTimeout(()=>z(null),2e3)},className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all",title:"Copy token",children:(0,b.jsx)(A.default,{className:"w-5 h-5"})})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Connected Numbers"})}),0===i.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No phone numbers connected yet"})]}):(0,b.jsx)("div",{className:"space-y-3",children:i.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("span",{className:"text-white font-medium",children:a.display_phone_number||a.phone_number}),a.is_active&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-xs font-medium border border-green-500/30",children:"Active"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.verified_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Verified Name:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.verified_name})]}),a.channel_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Channel:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.channel_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Quality:"}),(0,b.jsx)("span",{className:`ml-2 ${"GREEN"===a.quality_rating?"text-green-400":"YELLOW"===a.quality_rating?"text-yellow-400":"RED"===a.quality_rating?"text-red-400":"text-slate-400"}`,children:a.quality_rating})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Status:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.code_verification_status})]})]})]}),(0,b.jsx)("button",{onClick:()=>E(a.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all ml-4",title:"Remove number",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]},a.id))})]})]}):(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No WhatsApp Configuration"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Connect your WhatsApp Business Account to start sending messages"}),(0,b.jsx)("button",{onClick:()=>q(!0),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:from-green-600 hover:to-emerald-600 transition-all",children:"Add Configuration"})]}):(0,b.jsx)("div",{className:"space-y-6",children:0===k.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,b.jsx)(bM.Building2,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Sample Configurations"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Sample configurations will appear here"})]}):k.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg",children:(0,b.jsx)(bM.Building2,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.business_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.industry})]})]}),a.is_verified&&(0,b.jsxs)("span",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium border border-green-500/30",children:[(0,b.jsx)(an.default,{className:"w-4 h-4"}),"Verified"]})]}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:a.description}),a.config_data&&(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[a.config_data.email&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Email:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.config_data.email})]}),a.config_data.phone&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Phone:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.config_data.phone})]}),a.config_data.website&&(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Website:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.config_data.website})]})]}),a.phone_numbers.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)($.Phone,{className:"w-4 h-4"}),"Connected Numbers (",a.phone_numbers.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:a.phone_numbers.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-white font-medium",children:a.display_phone_number||a.phone_number}),a.is_active&&(0,b.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 rounded text-xs font-medium border border-green-500/30",children:"Active"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[a.verified_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Name:"}),(0,b.jsx)("span",{className:"text-slate-300 ml-2",children:a.verified_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-500",children:"Quality:"}),(0,b.jsx)("span",{className:`ml-2 ${"HIGH"===a.quality_rating?"text-green-400":"MEDIUM"===a.quality_rating?"text-yellow-400":"LOW"===a.quality_rating?"text-red-400":"text-slate-400"}`,children:a.quality_rating})]})]})]},a.id))})]})]},a.id))}),p&&(0,b.jsx)(bO,{tenantId:d?.app_metadata?.tenant_id||d?.user_metadata?.tenant_id||"",onClose:()=>q(!1),onSuccess:()=>{q(!1),B(),z("WhatsApp Business Account configured successfully"),setTimeout(()=>z(null),3e3),a&&setTimeout(()=>a(),500)},onError:a=>v(a)})]})}function bO({tenantId:a,onClose:d,onSuccess:e,onError:f}){let[g,h]=(0,c.useState)({businessAccountId:"",accessToken:""}),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),m=async()=>{if(!g.businessAccountId||!g.accessToken)return void f("Please fill in all required fields");j(!0);try{let b=`${process.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/verify-whatsapp-business`,c={Authorization:`Bearer ${process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},d=await fetch(b,{method:"POST",headers:c,body:JSON.stringify({businessAccountId:g.businessAccountId,accessToken:g.accessToken})}),h=await d.json();if(!h.success){f(h.error||"Failed to verify WhatsApp Business Account"),j(!1);return}let i=`${process.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/whatsapp-webhook`,k=crypto.randomUUID(),{data:l,error:m}=await n.db.from("tenant_whatsapp_configs").insert({tenant_id:a,business_account_id:g.businessAccountId,access_token:g.accessToken,webhook_url:i,webhook_token:k,is_verified:!0,verified_at:new Date().toISOString(),config_data:h.account}).select().single();if(m)throw m;if(h.phoneNumbers&&h.phoneNumbers.length>0){let b=h.phoneNumbers.map(b=>({tenant_id:a,whatsapp_config_id:l.id,phone_number:b.displayPhoneNumber,display_phone_number:b.displayPhoneNumber,verified_name:b.verifiedName,code_verification_status:b.codeVerificationStatus,quality_rating:b.qualityRating,phone_number_id:b.id,is_active:!0})),{error:c}=await n.db.from("tenant_whatsapp_numbers").insert(b);c&&console.error("Error inserting phone numbers:",c)}e()}catch(a){console.error("Error verifying WhatsApp account:",a),f(a.message||"An error occurred during verification")}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl max-w-md w-full p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"WhatsApp Business Account ID"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"WhatsApp Business Account ID*"}),(0,b.jsx)("input",{type:"text",required:!0,value:g.businessAccountId,onChange:a=>h({...g,businessAccountId:a.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-green-500",placeholder:"1234567890"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Access Token*"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:k?"text":"password",required:!0,value:g.accessToken,onChange:a=>h({...g,accessToken:a.target.value}),className:"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-green-500",placeholder:"EABC..."}),(0,b.jsx)("button",{type:"button",onClick:()=>l(!k),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:k?(0,b.jsx)(C.default,{className:"w-5 h-5"}):(0,b.jsx)(B.default,{className:"w-5 h-5"})})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{type:"button",onClick:d,disabled:i,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{type:"button",onClick:m,disabled:i||!g.businessAccountId||!g.accessToken,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bF.default,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify"})]})]})})}function bP(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)("compose"),[k,l]=(0,c.useState)("all"),[m,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,x]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)("paste"),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("now"),[I,K]=(0,c.useState)(""),[L,M]=(0,c.useState)("none"),[N,O]=(0,c.useState)("url"),[P,Q]=(0,c.useState)(null),[S,T]=(0,c.useState)([]),[U,V]=(0,c.useState)([]),[W,X]=(0,c.useState)([]),[Y,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[ac,ad]=(0,c.useState)({valid:0,duplicates:0,invalid:0}),[ae,af]=(0,c.useState)(!0),[ag,ah]=(0,c.useState)(!1),[ai,aj]=(0,c.useState)({name:"",category:"marketing",description:"",body_content:"",language:"en_US",header_type:"none",header_content:"",footer_text:"",buttons:[],use_case:"",is_default:!1}),[ak,al]=(0,c.useState)(null),[am,an]=(0,c.useState)({}),[ao,ap]=(0,c.useState)({});(0,c.useEffect)(()=>{f(!0),Promise.all([aq(),at(),au()]).finally(()=>af(!1))},[]),(0,c.useEffect)(()=>{a&&aq()},[k]),(0,c.useEffect)(()=>{D?av(D):ad({valid:0,duplicates:0,invalid:0})},[D]);let aq=async()=>{let a=n.db.from("whatsapp_campaigns").select("*").order("created_at",{ascending:!1});"all"!==k&&(a=a.eq("status",k));let{data:b,error:c}=await a;!c&&b&&T(b)},ar=async a=>{ap(b=>({...b,[a]:!0}));let{data:b,error:c}=await n.db.from("whatsapp_messages").select("*").eq("campaign_id",a).order("created_at",{ascending:!1}).limit(100);!c&&b&&an(c=>({...c,[a]:b})),ap(b=>({...b,[a]:!1}))},as=async a=>{ak===a?al(null):(al(a),am[a]||await ar(a))},at=async()=>{let{data:a,error:b}=await n.db.from("whatsapp_templates").select("*").order("name");!b&&a&&V(a.map(a=>{let b=a.variables;if("string"==typeof b&&b)try{b=b.startsWith("[")||b.startsWith("{")?JSON.parse(b):b.split(",").map(a=>a.trim())}catch(a){console.error("Error parsing WhatsApp template variables:",a),b=b.split(",").map(a=>a.trim())}else b||(b=[]);let c=a.buttons;if("string"==typeof c&&c)try{c=JSON.parse(c)}catch(a){console.error("Error parsing WhatsApp template buttons:",a),c=[]}else c||(c=[]);return{...a,variables:Array.isArray(b)?b:[b],buttons:Array.isArray(c)?c:[]}}))};(0,c.useEffect)(()=>{if(S.length>0){let a=S.reduce((a,b)=>a+(b.valid_numbers||0),0),b=S.filter(a=>"completed"===a.status||"in_progress"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0),c=S.filter(a=>"scheduled"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0);ab({totalSent:a,delivered:b,pending:c,failed:a-b-c})}else ab({totalSent:0,delivered:0,pending:0,failed:0})},[S]);let au=async()=>{let{data:a}=await n.db.from("tenant_whatsapp_configs").select("id, is_verified").maybeSingle();if(a&&a.is_verified){_(!0);let{data:b}=await n.db.from("tenant_whatsapp_numbers").select("*").eq("whatsapp_config_id",a.id).eq("is_active",!0);b&&(X(b),b.length>0&&s(b[0].phone_number))}else _(!1)},av=a=>{let b=a.split("\n").filter(a=>a.trim()).map(a=>a.trim()),c=/^[\d\s+()-]{10,}$/,d=b.filter(a=>c.test(a)),e=new Set(d),f=d.length-e.size,g=b.length-d.length;ad({valid:e.size,duplicates:f,invalid:g})},aw=a=>{x(a);let b=U.find(b=>b.id===a);b&&(A(b.body_content),"image"===b.header_type&&b.header_content?(K(b.header_content),M("image")):(K(""),M("none")))},ax=async()=>{if(!m||!p||!r||!z||!a)return void alert("Please fill in all required fields");if(0===ac.valid)return void alert("Please add valid phone numbers");try{let{data:b,error:c}=await n.db.from("whatsapp_campaigns").insert({user_id:a.id,campaign_name:m,message_type:p,sender_number:r,message:z,template_id:t||null,media_url:I||null,media_type:"none"!==L?L:null,recipient_source:B,total_recipients:D.split("\n").filter(a=>a.trim()).length,valid_numbers:ac.valid,invalid_numbers:ac.invalid,duplicate_numbers:ac.duplicates,status:"now"===F?"in_progress":"scheduled",created_by:a.id}).select().single();if(c)throw c;alert("Campaign created successfully!"),aC(),aq()}catch(a){console.error("Error creating campaign:",a),alert("Failed to create campaign")}},ay=async a=>{try{let{error:b}=await n.db.from("whatsapp_campaigns").update({status:"paused"}).eq("id",a);if(b)throw b;alert("Campaign paused successfully"),aq()}catch(a){console.error("Error pausing campaign:",a),alert("Failed to pause campaign")}},az=async a=>{try{let{error:b}=await n.db.from("whatsapp_campaigns").update({status:"in_progress"}).eq("id",a);if(b)throw b;alert("Campaign resumed successfully"),aq()}catch(a){console.error("Error resuming campaign:",a),alert("Failed to resume campaign")}},aA=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("whatsapp_campaigns").delete().eq("id",a);if(b)throw b;alert("Campaign deleted successfully"),aq()}catch(a){console.error("Error deleting campaign:",a),alert("Failed to delete campaign")}},aB=async()=>{if(!ai.name||!ai.body_content||!a)return void alert("Please fill in required fields (Name and Body Content)");try{let a,b=/{{([^}]+)}}/g,c=[];for(;null!==(a=b.exec(ai.body_content));)c.push(a[1].trim());let{error:d}=await n.db.from("whatsapp_templates").insert({name:ai.name,category:ai.category,description:ai.description,body_content:ai.body_content,language:ai.language,header_type:ai.header_type,header_content:ai.header_content,footer_text:ai.footer_text,buttons:JSON.stringify(ai.buttons),variables:JSON.stringify(c),use_case:ai.use_case,is_default:ai.is_default});if(d)throw d;alert("Template saved successfully!"),ah(!1),aj({name:"",category:"marketing",description:"",body_content:"",language:"en_US",header_type:"none",header_content:"",footer_text:"",buttons:[],use_case:"",is_default:!1}),at()}catch(a){console.error("Error saving WhatsApp template:",a),alert("Failed to save template")}},aC=()=>{o(""),q(""),s(""),x(""),A(""),E(""),C("paste"),E(""),G("now"),K(""),M("none"),O("url"),Q(null)},aD=()=>Math.ceil(z.length/160)||1,aE=a=>{switch(a){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in_progress":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},aF=()=>new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return d?(0,b.jsx)("div",{className:"flex-1 overflow-auto bg-slate-950",suppressHydrationWarning:!0,children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Total Sent"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:aa.totalSent.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"All time messages"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Delivered"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:aa.delivered.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-green-500/20 p-3 rounded-xl",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})]}),(0,b.jsxs)("p",{className:"text-green-400 text-sm",children:[aa.totalSent?Math.round(aa.delivered/aa.totalSent*100):0,"% delivery rate"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:aa.pending.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-xl",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"In queue"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Failed"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:aa.failed.toLocaleString()})]}),(0,b.jsx)("div",{className:"bg-red-500/20 p-3 rounded-xl",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Requires attention"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>h("compose"),className:`px-6 py-2 rounded-lg transition-colors ${"compose"===g?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Compose"}),(0,b.jsx)("button",{onClick:()=>h("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===g?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,b.jsx)("button",{onClick:()=>h("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===g?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,b.jsxs)("button",{onClick:()=>h("configuration"),className:`px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ${"configuration"===g?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configuration"]})]}),"compose"===g&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2",children:[!Y&&(0,b.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/50 rounded-xl p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-yellow-400 font-semibold text-lg mb-2",children:"Whatsapp API Not Configured"}),(0,b.jsx)("p",{className:"text-yellow-300 mb-4",children:"You need to configure your WhatsApp Business Account before sending messages. Connect your Meta Business Account to start sending Whatsapp API campaigns."}),(0,b.jsxs)("button",{onClick:()=>h("configuration"),className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-all",children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configure Whatsapp API Now"]})]})]})}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Compose Whatsapp API Message"}),(0,b.jsxs)("button",{className:"text-green-400 hover:text-green-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Templates"]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Campaign Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:m,onChange:a=>o(a.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:p,onChange:a=>q(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500",children:[(0,b.jsx)("option",{value:"",children:"Select Message Type"}),(0,b.jsx)("option",{value:"text",children:"Text Message"}),(0,b.jsx)("option",{value:"media",children:"Media Message"}),(0,b.jsx)("option",{value:"template",children:"Template Message"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Sender Number ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-500",disabled:!Y||0===W.length,children:[(0,b.jsx)("option",{value:"",children:0===W.length?"No numbers available - Configure WhatsApp":"Select Sender Number"}),W.map(a=>(0,b.jsxs)("option",{value:a.phone_number,children:[a.display_phone_number||a.phone_number,a.verified_name&&` - ${a.verified_name}`]},a.id))]}),!Y&&(0,b.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"Configure WhatsApp to see available numbers"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Message Template"}),(0,b.jsxs)("button",{onClick:()=>h("templates"),className:"text-blue-400 hover:text-blue-300 text-xs flex items-center gap-1",children:[(0,b.jsx)(i.FileText,{className:"w-3 h-3"}),"Browse Templates"]})]}),(0,b.jsxs)("select",{value:t,onChange:a=>aw(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Template"}),U.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Message ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("textarea",{value:z,onChange:a=>A(a.target.value),placeholder:"Enter your Message",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Limit up to: 2400 | Characters: ",z.length," | Total SMS: ",aD()]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Add Media (Image)"}),I&&(0,b.jsxs)("button",{onClick:()=>{K(""),M("none"),Q(null)},className:"text-red-400 hover:text-red-300 text-xs flex items-center gap-1",children:[(0,b.jsx)(w.X,{className:"w-3 h-3"}),"Remove Media"]})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("button",{onClick:()=>O("url"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"url"===N?"bg-green-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"URL"}),(0,b.jsx)("button",{onClick:()=>O("upload"),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${"upload"===N?"bg-green-600 text-white":"bg-slate-800 text-slate-400 hover:text-white"}`,children:"Upload File"})]}),"url"===N?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",value:P?"":I,onChange:a=>{K(a.target.value),a.target.value?M("image"):M("none"),Q(null)},placeholder:"https://images.unsplash.com/photo-...",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-500 mt-1 italic",children:"Provide a direct link to an image (JPEG, PNG, GIF, WebP)"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-6 text-center hover:border-green-500 transition-colors",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/"))return void alert("Please select an image file (JPEG, PNG, GIF, WebP)");if(b.size>5242880)return void alert("Image size must be less than 5MB");let c=new FileReader;c.onloadend=()=>{K(c.result),M("image"),Q(b)},c.readAsDataURL(b)},className:"hidden",id:"whatsapp-image-upload"}),(0,b.jsx)("label",{htmlFor:"whatsapp-image-upload",className:"cursor-pointer",children:P?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-10 h-10 text-green-400 mx-auto"}),(0,b.jsx)("p",{className:"text-white font-medium",children:P.name}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs",children:[(P.size/1024).toFixed(2)," KB"]})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(bA.default,{className:"w-10 h-10 text-slate-500 mx-auto"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Click to select an image"}),(0,b.jsx)("p",{className:"text-slate-500 text-xs",children:"JPEG, PNG, GIF, WebP (Max 5MB)"})]})})]}),P&&I&&(0,b.jsx)("div",{className:"mt-3 rounded-lg overflow-hidden border border-slate-700",children:(0,b.jsx)("img",{src:I,alt:"Preview",className:"w-full h-32 object-cover"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:["Send messages to ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"paste"===B,onChange:()=>C("paste"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Paste Numbers"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"upload"===B,onChange:()=>C("upload"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Upload XLS or CSV"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"phonebook"===B,onChange:()=>C("phonebook"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Choose From Phonebook"})]})]}),"paste"===B&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("textarea",{value:D,onChange:a=>E(a.target.value),placeholder:"Paste your numbers here",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500"}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Limit up to: 150000 | Count: ",D.split("\n").filter(a=>a.trim()).length]}),(0,b.jsxs)("div",{className:"flex gap-4 text-xs",children:[(0,b.jsxs)("span",{className:"text-green-400",children:["â— Valid Numbers: ",ac.valid]}),(0,b.jsxs)("span",{className:"text-yellow-400",children:["â— Duplicates: ",ac.duplicates]}),(0,b.jsxs)("span",{className:"text-red-400",children:["â— Invalid Numbers: ",ac.invalid]})]})]})]}),"upload"===B&&(0,b.jsxs)("div",{className:"border-2 border-dashed border-slate-700 rounded-lg p-8 text-center",children:[(0,b.jsx)(bA.default,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 mb-2",children:"Drop your XLS or CSV file here"}),(0,b.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg",children:"Choose File"})]}),"phonebook"===B&&(0,b.jsxs)("select",{className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Select Phonebook"}),(0,b.jsx)("option",{value:"customers",children:"Customers"}),(0,b.jsx)("option",{value:"leads",children:"Leads"}),(0,b.jsx)("option",{value:"subscribers",children:"Subscribers"})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"now"===F,onChange:()=>G("now"),className:"w-4 h-4 text-blue-600"}),(0,b.jsxs)("span",{className:"text-slate-300",children:["Send Now ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",checked:"schedule"===F,onChange:()=>G("schedule"),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Schedule"})]})]})}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:aC,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:ax,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"Send Now"]})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5"}),"Mobile Preview"]}),(0,b.jsx)("div",{className:"bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl",children:(0,b.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden",children:[(0,b.jsxs)("div",{className:"bg-[#075e54] px-4 py-3 flex items-center justify-between border-b border-[#054d44]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,b.jsx)(e.default,{className:"w-4 h-4 text-slate-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:r||"Business Name"}),(0,b.jsx)("p",{className:"text-[10px] text-green-200",children:"online"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a7.default,{className:"w-4 h-4 text-white/70"}),(0,b.jsx)(bC.default,{className:"w-3 h-3 text-white/70"})]})]}),(0,b.jsxs)("div",{className:"h-[380px] bg-[#e5ddd5] p-3 overflow-y-auto relative border-x border-slate-100",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none",style:{backgroundImage:"radial-gradient(#000 1px, transparent 0)",backgroundSize:"20px 20px"}}),(0,b.jsx)("div",{className:"text-center mb-4 relative z-10",children:(0,b.jsx)("span",{className:"text-[10px] bg-[#dcf8c6] px-2 py-1 rounded shadow-sm text-slate-600",children:d?aF():"--:--"})}),(0,b.jsx)("div",{className:"flex justify-start mb-4 relative z-10",children:(0,b.jsx)("div",{className:"max-w-[85%]",children:(0,b.jsxs)("div",{className:"bg-white text-slate-800 rounded-lg rounded-tl-none px-3 py-2 shadow-sm relative",children:[(0,b.jsx)("div",{className:"absolute top-0 -left-2 w-0 h-0 border-t-[8px] border-t-white border-l-[8px] border-l-transparent"}),I&&"image"===L&&(0,b.jsx)("div",{className:"mb-2 -mx-3 -mt-2 rounded-t-lg overflow-hidden border-b border-slate-100",children:(0,b.jsx)("img",{src:I,alt:"Media preview",className:"w-full h-40 object-cover"})}),(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:z||"Hello! Type your message..."}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1 mt-1",children:[(0,b.jsx)("p",{className:"text-[9px] text-slate-400",children:d?aF():"--:--"}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(v.CheckCircle,{className:"w-2 h-2 text-blue-400"}),(0,b.jsx)(v.CheckCircle,{className:"w-2 h-2 text-blue-400 -ml-1"})]})]})]})})})]}),(0,b.jsxs)("div",{className:"bg-[#f0f0f0] p-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 bg-white rounded-full px-4 py-2 flex items-center gap-2 h-9",children:(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"Type a message"})}),(0,b.jsx)("button",{className:"bg-[#075e54] text-white p-2.5 rounded-full shadow-lg",children:(0,b.jsx)(aM.default,{className:"w-4 h-4"})})]})]})}),(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Characters:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:z.length})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"SMS Parts:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:aD()})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Recipients:"}),(0,b.jsx)("span",{className:"text-white font-medium",children:ac.valid})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Campaigns"}),(0,b.jsx)("div",{className:"space-y-3",children:S.slice(0,3).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-medium text-sm",children:a.campaign_name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${aE(a.status)}`,children:"completed"===a.status?"Completed":"in_progress"===a.status?"In Progress":"Scheduled"})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-slate-400",children:[(0,b.jsxs)("span",{children:["Sent: ",a.valid_numbers?.toLocaleString()||0]}),(0,b.jsxs)("span",{children:["Delivered: ",a.valid_numbers?.toLocaleString()||0]})]}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(a.created_at).toLocaleString()})]},a.id))}),S.length>3&&(0,b.jsx)("button",{onClick:()=>h("campaigns"),className:"w-full mt-3 text-green-400 hover:text-green-300 text-sm py-2",children:"View All"})]})]})]}),"campaigns"===g&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign History"}),(0,b.jsxs)("button",{onClick:()=>h("compose"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-1 mb-6 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"all"===k?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"All"}),(0,b.jsx)("button",{onClick:()=>l("draft"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"draft"===k?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Draft"}),(0,b.jsx)("button",{onClick:()=>l("scheduled"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"scheduled"===k?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Scheduled"}),(0,b.jsx)("button",{onClick:()=>l("in_progress"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"in_progress"===k?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Active"}),(0,b.jsx)("button",{onClick:()=>l("paused"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"paused"===k?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Paused"}),(0,b.jsx)("button",{onClick:()=>l("completed"),className:`px-4 py-2 rounded-lg transition-colors text-sm ${"completed"===k?"bg-green-600 text-white":"text-slate-400 hover:text-white"}`,children:"Completed"})]}),0===S.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first WhatsApp campaign to get started"}),(0,b.jsxs)("button",{onClick:()=>h("compose"),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"Create Campaign"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:S.map(a=>{let c=am[a.id]||[],d=ak===a.id,e=ao[a.id],f=c.reduce((a,b)=>(a[b.status]=(a[b.status]||0)+1,a),{});return(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a.media_url&&"image"===a.media_type&&(0,b.jsx)("div",{className:"w-10 h-10 rounded border border-slate-700 overflow-hidden flex-shrink-0",children:(0,b.jsx)("img",{src:a.media_url,alt:"Thumb",className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.campaign_name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${aE(a.status)}`,children:a.status}),a.media_url&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-slate-500",children:[(0,b.jsx)(bA.default,{className:"w-3 h-3"})," Media Attached"]})]})]})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:new Date(a.created_at).toLocaleString()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["in_progress"===a.status&&(0,b.jsx)("button",{onClick:()=>ay(a.id),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Pause Campaign",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>az(a.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Resume Campaign",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>aA(a.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg flex items-center gap-2 transition-colors",title:"Delete Campaign",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>as(a.id),className:"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bE.default,{className:"w-4 h-4"}),"Hide Details"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bD.default,{className:"w-4 h-4"}),"View Details"]})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Total Recipients"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.total_recipients.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Valid Numbers"}),(0,b.jsx)("p",{className:"text-green-400 text-lg font-semibold",children:a.valid_numbers.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Status"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold capitalize",children:a.status.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Success Rate"}),(0,b.jsxs)("p",{className:"text-white text-lg font-semibold",children:[a.total_recipients>0?Math.round(a.valid_numbers/a.total_recipients*100):0,"%"]})]})]})]}),d&&(0,b.jsx)("div",{className:"border-t border-slate-700 bg-slate-800/30 p-6",children:e?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(J.Clock,{className:"w-8 h-8 text-slate-500 mx-auto mb-2 animate-spin"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Loading message details..."})]}):0===c.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-8 h-8 text-slate-500 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No messages found for this campaign"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Campaign Message Preview"})}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 mb-6 max-w-lg",children:[a.media_url&&"image"===a.media_type&&(0,b.jsx)("div",{className:"mb-3 rounded-lg overflow-hidden border border-slate-700",children:(0,b.jsx)("img",{src:a.media_url,alt:"Campaign Media",className:"w-full h-48 object-cover"})}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"text-sm text-white whitespace-pre-line",children:a.message||"No message content"}),a.template_id&&(0,b.jsxs)("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:["Template ID: ",a.template_id]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white",children:"Message Details"}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1 text-blue-400",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Read: ",f.read||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-green-400",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Delivered: ",f.delivered||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-cyan-400",children:[(0,b.jsx)(aM.default,{className:"w-4 h-4"}),"Sent: ",f.sent||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),"Pending: ",f.pending||0]}),(0,b.jsxs)("span",{className:"flex items-center gap-1 text-red-400",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"}),"Failed: ",f.failed||0]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-800/50 border-b border-slate-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Phone Number"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sent At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Delivered At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Read At"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Error"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-700",children:c.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white font-mono",children:a.phone_number}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium ${(a=>{switch(a){case"read":return"text-blue-400";case"delivered":return"text-green-400";case"sent":return"text-cyan-400";case"pending":return"text-yellow-400";case"failed":return"text-red-400";default:return"text-slate-400"}})(a.status)}`,children:[(a=>{switch(a){case"read":case"delivered":return(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"});case"sent":return(0,b.jsx)(aM.default,{className:"w-4 h-4"});case"pending":default:return(0,b.jsx)(J.Clock,{className:"w-4 h-4"});case"failed":return(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"})}})(a.status),(0,b.jsx)("span",{className:"capitalize",children:a.status})]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:a.sent_at?new Date(a.sent_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-slate-300",children:a.read_at?new Date(a.read_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:a.error_message?(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-red-400 text-xs",children:a.error_message})]}):(0,b.jsx)("span",{className:"text-slate-500",children:"-"})})]},a.id))})]})}),100===c.length&&(0,b.jsx)("div",{className:"bg-slate-800/30 border-t border-slate-700 px-4 py-3 text-center",children:(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Showing first 100 messages"})})]})]})})]},a.id)})})]}),"configuration"===g&&(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:(0,b.jsx)(bN,{onConfigUpdate:()=>{au(),h("compose")}})}),"templates"===g&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"WhatsApp Message Templates"}),(0,b.jsxs)("button",{onClick:()=>ah(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Create Template"]})]}),0===U.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No templates found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first template to get started"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-5 hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:a.name}),a.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full border border-green-500/30",children:"Default"})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${"promotional"===a.category?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"transactional"===a.category?"bg-green-500/20 text-green-400 border border-green-500/30":"marketing"===a.category?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"otp"===a.category?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"reminder"===a.category?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:a.category}),(0,b.jsx)("span",{className:"px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded",children:a.language})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:a.description}),a.header_content&&"image"===a.header_type&&(0,b.jsx)("div",{className:"mb-3 rounded overflow-hidden",children:(0,b.jsx)("img",{src:a.header_content,alt:a.name,className:"w-full h-32 object-cover"})}),a.header_content&&"text"===a.header_type&&(0,b.jsx)("div",{className:"bg-slate-800 rounded p-2 mb-2",children:(0,b.jsx)("p",{className:"text-white text-sm font-semibold",children:a.header_content})}),(0,b.jsx)("div",{className:"bg-slate-800 rounded p-3 mb-2",children:(0,b.jsx)("p",{className:"text-slate-300 text-xs line-clamp-4 whitespace-pre-line",children:a.body_content})}),a.footer_text&&(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("p",{className:"text-slate-500 text-xs italic",children:a.footer_text})}),a.buttons&&a.buttons.length>0&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Action Buttons:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.buttons.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded border border-green-500/30",children:a.text},c))})]}),a.variables&&a.variables.length>0&&(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-1",children:"Variables:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.variables.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-800 text-slate-400 text-xs rounded border border-slate-700",children:a},c))})]}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mb-4 italic",children:a.use_case}),(0,b.jsx)("button",{onClick:()=>{h("compose"),aw(a.id)},className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Use Template"})]},a.id))})]}),ag&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-5xl h-[90vh] flex flex-col overflow-hidden shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900/50",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create WhatsApp Template"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Design your message template for automated responses"})]}),(0,b.jsx)("button",{onClick:()=>ah(!1),className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-slate-800 rounded-lg",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template Name*"}),(0,b.jsx)("input",{type:"text",value:ai.name,onChange:a=>aj({...ai,name:a.target.value}),placeholder:"e.g. welcome_message",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category*"}),(0,b.jsxs)("select",{value:ai.category,onChange:a=>aj({...ai,category:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,b.jsx)("option",{value:"marketing",children:"Marketing"}),(0,b.jsx)("option",{value:"utility",children:"Utility"}),(0,b.jsx)("option",{value:"authentication",children:"Authentication"}),(0,b.jsx)("option",{value:"promotional",children:"Promotional"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Language*"}),(0,b.jsxs)("select",{value:ai.language,onChange:a=>aj({...ai,language:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,b.jsx)("option",{value:"en_US",children:"English (US)"}),(0,b.jsx)("option",{value:"ms_MY",children:"Malay (Malaysia)"}),(0,b.jsx)("option",{value:"zh_CN",children:"Chinese (Simplified)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Header Type"}),(0,b.jsxs)("select",{value:ai.header_type,onChange:a=>aj({...ai,header_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-green-500",children:[(0,b.jsx)("option",{value:"none",children:"None"}),(0,b.jsx)("option",{value:"text",children:"Text"}),(0,b.jsx)("option",{value:"image",children:"Image URL"})]})]})]}),"none"!==ai.header_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"text"===ai.header_type?"Header Text":"Image URL"}),(0,b.jsx)("input",{type:"text",value:ai.header_content,onChange:a=>aj({...ai,header_content:a.target.value}),placeholder:"text"===ai.header_type?"Enter header text":"https://example.com/image.jpg",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Body Content*"}),(0,b.jsx)("textarea",{value:ai.body_content,onChange:a=>aj({...ai,body_content:a.target.value}),placeholder:"Hello {{name}}, welcome to our service!",rows:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"}),(0,b.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Use double curly braces for variables, e.g., ","{{name}}"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Footer Text (Optional)"}),(0,b.jsx)("input",{type:"text",value:ai.footer_text,onChange:a=>aj({...ai,footer_text:a.target.value}),placeholder:"Reply STOP to opt out",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:border-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300",children:"Buttons (Max 3)"}),ai.buttons.length<3&&(0,b.jsxs)("button",{onClick:()=>aj({...ai,buttons:[...ai.buttons,{text:"",type:"QUICK_REPLY"}]}),className:"text-xs text-green-400 hover:text-green-300 flex items-center gap-1",children:[(0,b.jsx)(y.default,{className:"w-3 h-3"})," Add Button"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:ai.buttons.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3 items-start bg-slate-800/50 p-3 rounded-lg border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("input",{type:"text",value:a.text,onChange:a=>{let b=[...ai.buttons];b[c].text=a.target.value,aj({...ai,buttons:b})},placeholder:"Button Text",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-1.5 text-sm text-white focus:outline-none"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:a.type,onChange:a=>{let b=[...ai.buttons];b[c].type=a.target.value,aj({...ai,buttons:b})},className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white",children:[(0,b.jsx)("option",{value:"QUICK_REPLY",children:"Quick Reply"}),(0,b.jsx)("option",{value:"URL",children:"Visit Website"}),(0,b.jsx)("option",{value:"PHONE_NUMBER",children:"Call Number"})]}),"QUICK_REPLY"!==a.type&&(0,b.jsx)("input",{type:"text",value:a.value||"",onChange:a=>{let b=[...ai.buttons];b[c].value=a.target.value,aj({...ai,buttons:b})},placeholder:"URL"===a.type?"https://...":"+1...",className:"flex-[2] bg-slate-900 border border-slate-700 rounded px-2 py-1 text-xs text-white"})]})]}),(0,b.jsx)("button",{onClick:()=>aj({...ai,buttons:ai.buttons.filter((a,b)=>b!==c)}),className:"text-red-400 hover:text-red-300 p-1",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]},c))})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/30 rounded-2xl p-6 border border-slate-700 flex flex-col items-center justify-center",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"WhatsApp Message Preview"}),(0,b.jsx)("div",{className:"w-full max-w-[320px] bg-slate-900 rounded-[2.5rem] p-4 border-4 border-slate-800 shadow-2xl scale-90 lg:scale-100 origin-top",children:(0,b.jsxs)("div",{className:"bg-white rounded-[2rem] overflow-hidden min-h-[400px]",children:[(0,b.jsx)("div",{className:"bg-[#075e54] px-4 py-3 flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,b.jsx)(bM.Building2,{className:"w-4 h-4 text-slate-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-white leading-tight",children:"Business Name"}),(0,b.jsx)("p",{className:"text-[10px] text-green-200",children:"online"})]})]})}),(0,b.jsx)("div",{className:"p-3 space-y-0.5 bg-[#e5ddd5] min-h-[340px]",children:(0,b.jsxs)("div",{className:"max-w-[85%] bg-white rounded-lg rounded-tl-none shadow-sm overflow-hidden animate-in fade-in slide-in-from-left-2 duration-300",children:["image"===ai.header_type&&ai.header_content&&(0,b.jsx)("div",{className:"w-full h-32 overflow-hidden bg-slate-100",children:(0,b.jsx)("img",{src:ai.header_content,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-2 space-y-1",children:["text"===ai.header_type&&ai.header_content&&(0,b.jsx)("p",{className:"text-sm font-bold text-slate-900",children:ai.header_content}),(0,b.jsx)("p",{className:"text-sm text-slate-800 whitespace-pre-line",children:ai.body_content||"Body content preview will appear here..."}),ai.footer_text&&(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:ai.footer_text}),(0,b.jsx)("p",{className:"text-[9px] text-slate-400 text-right mt-1",children:"12:34 PM"})]}),ai.buttons.length>0&&(0,b.jsx)("div",{className:"border-t border-slate-100 divide-y divide-slate-100 bg-slate-50/50",children:ai.buttons.map((a,c)=>(0,b.jsxs)("div",{className:"py-2.5 px-3 flex items-center justify-center gap-2 text-[#00a884] text-sm font-medium",children:["URL"===a.type&&(0,b.jsx)(j.Settings,{className:"w-4 h-4 rotate-45"}),"PHONE_NUMBER"===a.type&&(0,b.jsx)($.Phone,{className:"w-4 h-4"}),a.text||"Button text"]},c))})]})})]})})]})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>ah(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Discard"}),(0,b.jsxs)("button",{onClick:aB,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors font-bold",children:[(0,b.jsx)(R.default,{className:"w-5 h-5"}),"Save Template"]})]})]})})]})}):null}var bQ=a.i(31626),bR=a.i(22125),bR=bR,bS=a.i(97111),bS=bS,bT=a.i(40738),bT=bT,p=p,bU=a.i(3325),bU=bU,l=l,y=y,u=u,bj=bj,B=B,bV=a.i(5182),bV=bV,aR=aR,bW=a.i(71398),bW=bW,o=o,m=m,A=A,ae=ae;let bX=(0,c.createContext)(null);function bY(){let a=(0,c.useContext)(bX);if(!a)throw Error("useIVR must be used within IVRProvider");return a}function bZ({children:a}){let[d,e]=(0,c.useState)({project:null,currentPage:null,selectedNodes:[],clipboard:[],history:[],historyIndex:-1,viewport:{x:0,y:0,zoom:1},validationErrors:[]}),f=(0,c.useCallback)(a=>{e(b=>{let c=b.history.slice(0,b.historyIndex+1);return c.push(JSON.parse(JSON.stringify(a))),{...b,history:c.slice(-50),historyIndex:Math.min(c.length-1,49)}})},[]),g=(0,c.useCallback)((a,b)=>{let c={id:`project_${Date.now()}`,name:a,description:b,pages:[{id:`page_${Date.now()}`,name:"Main",nodes:[],connections:[]}],variables:{},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),status:"draft",version:1};e(a=>({...a,project:c,currentPage:c.pages[0].id,selectedNodes:[],history:[c],historyIndex:0}))},[]),h=(0,c.useCallback)(a=>{e(b=>({...b,project:a,currentPage:a.pages[0]?.id||null,selectedNodes:[],history:[a],historyIndex:0}))},[]),i=(0,c.useCallback)(a=>{e(b=>{if(!b.project)return b;let c={...b.project,...a,updated_at:new Date().toISOString()};return f(c),{...b,project:c}})},[f]),j=(0,c.useCallback)(()=>d.project&&d.currentPage&&d.project.pages.find(a=>a.id===d.currentPage)||null,[d.project,d.currentPage]),k=(0,c.useCallback)(a=>{e(b=>{if(!b.project)return b;let c={id:`page_${Date.now()}`,name:a,nodes:[],connections:[]},d={...b.project,pages:[...b.project.pages,c],updated_at:new Date().toISOString()};return f(d),{...b,project:d,currentPage:c.id}})},[f]),l=(0,c.useCallback)(a=>{e(b=>{if(!b.project||b.project.pages.length<=1)return b;let c=b.project.pages.filter(b=>b.id!==a),d={...b.project,pages:c,updated_at:new Date().toISOString()};return f(d),{...b,project:d,currentPage:b.currentPage===a?c[0].id:b.currentPage}})},[f]),m=(0,c.useCallback)(a=>{e(b=>({...b,currentPage:a,selectedNodes:[]}))},[]),n=(0,c.useCallback)(a=>{e(b=>{if(!b.project||!b.currentPage)return b;let c=b.project.pages.map(c=>c.id!==b.currentPage?c:{...c,nodes:[...c.nodes,a]}),d={...b.project,pages:c,updated_at:new Date().toISOString()};return f(d),{...b,project:d}})},[f]),o=(0,c.useCallback)((a,b)=>{e(c=>{if(!c.project||!c.currentPage)return c;let d=c.project.pages.map(d=>d.id!==c.currentPage?d:{...d,nodes:d.nodes.map(c=>c.id===a?{...c,...b}:c)}),e={...c.project,pages:d,updated_at:new Date().toISOString()};return f(e),{...c,project:e}})},[f]),p=(0,c.useCallback)(a=>{e(b=>{if(!b.project||!b.currentPage)return b;let c=b.project.pages.map(c=>c.id!==b.currentPage?c:{...c,nodes:c.nodes.filter(b=>b.id!==a),connections:c.connections.filter(b=>b.from!==a&&b.to!==a)}),d={...b.project,pages:c,updated_at:new Date().toISOString()};return f(d),{...b,project:d,selectedNodes:b.selectedNodes.filter(b=>b!==a)}})},[f]),q=(0,c.useCallback)(a=>{a.forEach(a=>p(a))},[p]),r=(0,c.useCallback)(a=>{e(b=>{if(!b.project||!b.currentPage)return b;let c=b.project.pages.map(c=>c.id!==b.currentPage||c.connections.some(b=>b.from===a.from&&b.to===a.to)?c:{...c,connections:[...c.connections,a]}),d={...b.project,pages:c,updated_at:new Date().toISOString()};return f(d),{...b,project:d}})},[f]),s=(0,c.useCallback)(a=>{e(b=>{if(!b.project||!b.currentPage)return b;let c=b.project.pages.map(c=>c.id!==b.currentPage?c:{...c,connections:c.connections.filter(b=>b.id!==a)}),d={...b.project,pages:c,updated_at:new Date().toISOString()};return f(d),{...b,project:d}})},[f]),t=(0,c.useCallback)((a,b=!1)=>{e(c=>{if(b){let b=c.selectedNodes.includes(a);return{...c,selectedNodes:b?c.selectedNodes.filter(b=>b!==a):[...c.selectedNodes,a]}}return{...c,selectedNodes:[a]}})},[]),u=(0,c.useCallback)(()=>{e(a=>({...a,selectedNodes:[]}))},[]),v=(0,c.useCallback)(()=>{let a=j();if(!a)return;let b=a.nodes.filter(a=>d.selectedNodes.includes(a.id));e(a=>({...a,clipboard:b}))},[j,d.selectedNodes]),w=(0,c.useCallback)(a=>{if(0===d.clipboard.length)return;let b=a||{x:50,y:50};d.clipboard.map(a=>({...a,id:`node_${Date.now()}_${Math.random()}`,position:{x:a.position.x+b.x,y:a.position.y+b.y}})).forEach(a=>n(a))},[d.clipboard,n]),x=(0,c.useCallback)(()=>{e(a=>{if(a.historyIndex<=0)return a;let b=a.historyIndex-1;return{...a,project:a.history[b],historyIndex:b}})},[]),y=(0,c.useCallback)(()=>{e(a=>{if(a.historyIndex>=a.history.length-1)return a;let b=a.historyIndex+1;return{...a,project:a.history[b],historyIndex:b}})},[]),z=(0,c.useCallback)(a=>{e(b=>({...b,viewport:{...b.viewport,...a}}))},[]),A=(0,c.useCallback)(()=>{var a;let b;if(!d.project)return[];let c=(a=d.project,b=[],a.pages.forEach(a=>{var c,d;let e,f,g=a.nodes.filter(a=>"start"===a.type);0===g.length?b.push({nodeId:"page",type:"error",message:`Page "${a.name}" must have a start node`}):g.length>1&&b.push({nodeId:g[1].id,type:"error",message:`Page "${a.name}" can only have one start node`}),0===a.nodes.filter(a=>"endFlow"===a.type).length&&b.push({nodeId:"page",type:"warning",message:`Page "${a.name}" should have at least one end flow node`}),a.nodes.forEach(a=>{let c=function(a,b){let c=[];switch(a.type){case"setParams":a.parameters&&0!==Object.keys(a.parameters).length||c.push({nodeId:a.id,type:"warning",message:"SetParams node has no parameters defined",field:"parameters"});break;case"playMessage":a.messages&&0!==a.messages.length||c.push({nodeId:a.id,type:"error",message:"PlayMessage node must have at least one message",field:"messages"});break;case"getDigits":a.resultVariable&&""!==a.resultVariable.trim()||c.push({nodeId:a.id,type:"error",message:"GetDigits node must specify a result variable",field:"resultVariable"}),a.messages&&0!==a.messages.length||c.push({nodeId:a.id,type:"error",message:"GetDigits node must have at least one message",field:"messages"}),a.maxDigits<a.minDigits&&c.push({nodeId:a.id,type:"error",message:"Maximum digits cannot be less than minimum digits",field:"maxDigits"});break;case"playMenu":a.options&&0!==a.options.length||c.push({nodeId:a.id,type:"error",message:"PlayMenu node must have at least one option",field:"options"}),a.messages&&0!==a.messages.length||c.push({nodeId:a.id,type:"error",message:"PlayMenu node must have at least one message",field:"messages"});break;case"runScript":if(a.script&&""!==a.script.trim())try{Function(a.script)}catch(b){c.push({nodeId:a.id,type:"error",message:`Script has syntax errors: ${b.message}`,field:"script"})}else c.push({nodeId:a.id,type:"error",message:"RunScript node must have a script",field:"script"});break;case"switch":a.variable&&""!==a.variable.trim()||c.push({nodeId:a.id,type:"error",message:"Switch node must specify a variable",field:"variable"}),a.conditions&&0!==a.conditions.length||c.push({nodeId:a.id,type:"warning",message:"Switch node has no conditions",field:"conditions"});break;case"callAPI":a.url&&""!==a.url.trim()||c.push({nodeId:a.id,type:"error",message:"CallAPI node must specify a URL",field:"url"}),a.responseVariable&&""!==a.responseVariable.trim()||c.push({nodeId:a.id,type:"error",message:"CallAPI node must specify a response variable",field:"responseVariable"});break;case"endFlow":"transfer"!==a.endType||a.transferNumber&&""!==a.transferNumber.trim()||c.push({nodeId:a.id,type:"error",message:"Transfer end flow must specify a transfer number",field:"transferNumber"});break;case"jumperExit":a.jumperName&&""!==a.jumperName.trim()||c.push({nodeId:a.id,type:"error",message:"Jumper exit must specify a jumper name",field:"jumperName"});break;case"jumperEntry":a.jumperName&&""!==a.jumperName.trim()||c.push({nodeId:a.id,type:"error",message:"Jumper entry must specify a jumper name",field:"jumperName"})}return c}(a,0);b.push(...c)});let h=(c=a.nodes,d=a.connections,e=[],f=new Set(c.map(a=>a.id)),d.forEach(a=>{f.has(a.from)||e.push({nodeId:a.from,type:"error",message:`Connection references non-existent node: ${a.from}`}),f.has(a.to)||e.push({nodeId:a.to,type:"error",message:`Connection references non-existent node: ${a.to}`})}),c.forEach(a=>{"start"!==a.type&&"endFlow"!==a.type&&(d.some(b=>b.to===a.id)||e.push({nodeId:a.id,type:"warning",message:`Node "${a.name}" has no incoming connections`})),"endFlow"!==a.type&&"jumperExit"!==a.type&&(d.some(b=>b.from===a.id)||e.push({nodeId:a.id,type:"warning",message:`Node "${a.name}" has no outgoing connections`}))}),function(a,b,c){let d=new Map;a.forEach(a=>{d.set(a.id,[])}),b.forEach(a=>{let b=d.get(a.from)||[];b.push(a.to),d.set(a.from,b)});let e=new Set,f=new Set,g=[];for(let b of a)if(!e.has(b.id)&&function a(b){for(let c of(e.add(b),f.add(b),d.get(b)||[]))if(e.has(c)){if(f.has(c))return g.push(b),g.push(c),!0}else if(a(c))return g.push(b),!0;return f.delete(b),!1}(b.id)){c.push({nodeId:g[0],type:"warning",message:`Potential infinite loop detected involving these nodes: ${g.join(", ")}`});break}}(c,d,e),e);b.push(...h)}),b);return e(a=>({...a,validationErrors:c})),c},[d.project]),B=(0,c.useCallback)(()=>{let a=j();return a?a.nodes.filter(a=>d.selectedNodes.includes(a.id)):[]},[j,d.selectedNodes]),C={...d,createProject:g,loadProject:h,updateProject:i,addPage:k,deletePage:l,setCurrentPage:m,addNode:n,updateNode:o,deleteNode:p,deleteNodes:q,addConnection:r,deleteConnection:s,selectNode:t,clearSelection:u,copy:v,paste:w,undo:x,redo:y,setViewport:z,validate:A,getCurrentPage:j,getSelectedNodes:B};return(0,b.jsx)(bX.Provider,{value:C,children:a})}var b$=a.i(88424),b$=b$,b_=a.i(77714),b_=b_,br=br,b0=a.i(9615),b0=b0,au=au,b1=a.i(5047),b1=b1;let b2={start:{icon:aH.Play,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/50"},setParams:{icon:b$.default,color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/50"},playMessage:{icon:a0.MessageCircle,color:"text-cyan-400",bgColor:"bg-cyan-500/20",borderColor:"border-cyan-500/50"},getDigits:{icon:b$.default,color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/50"},playMenu:{icon:$.Phone,color:"text-indigo-400",bgColor:"bg-indigo-500/20",borderColor:"border-indigo-500/50"},playConfirm:{icon:b1.default,color:"text-yellow-400",bgColor:"bg-yellow-500/20",borderColor:"border-yellow-500/50"},runScript:{icon:aF.Code,color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/50"},switch:{icon:b_.default,color:"text-pink-400",bgColor:"bg-pink-500/20",borderColor:"border-pink-500/50"},callAPI:{icon:I.Globe,color:"text-teal-400",bgColor:"bg-teal-500/20",borderColor:"border-teal-500/50"},endFlow:{icon:br.default,color:"text-red-400",bgColor:"bg-red-500/20",borderColor:"border-red-500/50"},connector:{icon:b0.default,color:"text-slate-400",bgColor:"bg-slate-500/20",borderColor:"border-slate-500/50"},jumperEntry:{icon:au.default,color:"text-emerald-400",bgColor:"bg-emerald-500/20",borderColor:"border-emerald-500/50"},jumperExit:{icon:au.default,color:"text-amber-400",bgColor:"bg-amber-500/20",borderColor:"border-amber-500/50"}};function b3({node:a,isSelected:c,onClick:d,onDoubleClick:e,hasError:f}){let g=b2[a.type]||b2.connector,h=g.icon;return(0,b.jsx)("div",{className:`absolute cursor-pointer transition-all duration-200 ${c?"ring-2 ring-white ring-offset-2 ring-offset-slate-900":""}`,style:{left:a.position.x,top:a.position.y,width:200,height:80},onClick:d,onDoubleClick:e,children:(0,b.jsxs)("div",{className:`h-full rounded-xl border-2 backdrop-blur-sm ${g.bgColor} ${f?"border-red-500":g.borderColor} ${c?"shadow-lg shadow-cyan-500/50":""} flex items-center gap-3 px-4 relative`,children:[(0,b.jsx)("div",{className:`p-2 rounded-lg ${g.bgColor} ${f?"text-red-400":g.color}`,children:(0,b.jsx)(h,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-white font-semibold text-sm truncate",children:a.name}),a.description&&(0,b.jsx)("div",{className:"text-slate-400 text-xs truncate",children:a.description})]}),(0,b.jsx)("div",{className:"absolute -right-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-white border-2 border-slate-900"}),(0,b.jsx)("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-4 h-4 rounded-full bg-white border-2 border-slate-900"})]})})}function b4({onNodeDoubleClick:a}){let d=(0,c.useRef)(null),{getCurrentPage:e,selectedNodes:f,selectNode:g,clearSelection:h,viewport:i,setViewport:j,validationErrors:k}=bY(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)({x:0,y:0}),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)({x:0,y:0}),t=e(),u=t?.nodes||[],v=t?.connections||[],w=(0,c.useCallback)(a=>{0===a.button&&a.target===d.current&&(m(!0),o({x:a.clientX-i.x,y:a.clientY-i.y}),h())},[i,h]),x=(0,c.useCallback)(a=>{s({x:a.clientX,y:a.clientY}),l&&j({x:a.clientX-n.x,y:a.clientY-n.y})},[l,n,j]),y=(0,c.useCallback)(()=>{m(!1),q(null)},[]),z=(0,c.useCallback)(a=>{a.preventDefault();let b=a.deltaY>0?.9:1.1;j({zoom:Math.max(.25,Math.min(2,i.zoom*b))})},[i.zoom,j]);return(0,b.jsxs)("div",{ref:d,className:"relative w-full h-full bg-slate-900 overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:w,onMouseMove:x,onMouseUp:y,onWheel:z,children:[(()=>{if(!d.current)return null;let a=d.current.clientWidth,c=d.current.clientHeight,e=[],f=i.x%(20*i.zoom),g=i.y%(20*i.zoom);for(let d=f;d<a;d+=20*i.zoom)e.push((0,b.jsx)("line",{x1:d,y1:0,x2:d,y2:c,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1},`v-${d}`));for(let d=g;d<c;d+=20*i.zoom)e.push((0,b.jsx)("line",{x1:0,y1:d,x2:a,y2:d,stroke:"rgba(255, 255, 255, 0.05)",strokeWidth:1},`h-${d}`));return(0,b.jsx)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:0},children:e})})(),v.map(a=>{let c=u.find(b=>b.id===a.from),d=u.find(b=>b.id===a.to);if(!c||!d)return null;let e=c.position.x+200+i.x,f=c.position.y+40+i.y,g=d.position.x+i.x,h=d.position.y+40+i.y,j=(e+g)/2;return(0,b.jsxs)("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{zIndex:1},children:[(0,b.jsx)("defs",{children:(0,b.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:(0,b.jsx)("polygon",{points:"0 0, 10 3, 0 6",fill:"#06b6d4"})})}),(0,b.jsx)("path",{d:`M ${e} ${f} C ${j} ${f}, ${j} ${h}, ${g} ${h}`,stroke:"#06b6d4",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",opacity:"0.6"}),a.label&&(0,b.jsx)("text",{x:j,y:(f+h)/2-5,fill:"#94a3b8",fontSize:"12",textAnchor:"middle",children:a.label})]},a.id)}),(0,b.jsx)("div",{className:"absolute",style:{transform:`translate(${i.x}px, ${i.y}px) scale(${i.zoom})`,transformOrigin:"0 0",zIndex:2},children:u.map(c=>{let d=k.some(a=>a.nodeId===c.id&&"error"===a.type);return(0,b.jsx)(b3,{node:c,isSelected:f.includes(c.id),onClick:()=>g(c.id,!1),onDoubleClick:()=>a?.(c),hasError:d},c.id)})}),(0,b.jsxs)("div",{className:"absolute bottom-4 right-4 bg-slate-800/90 backdrop-blur-sm px-3 py-1 rounded-lg text-white text-xs font-mono border border-white/10",children:[Math.round(100*i.zoom),"%"]}),0===u.length&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-slate-600 text-lg font-bold mb-2",children:"Empty Canvas"}),(0,b.jsx)("div",{className:"text-slate-700 text-sm",children:"Drag nodes from the toolbar to get started"})]})})]})}var b$=b$,b_=b_,br=br,b0=b0,au=au,b1=b1,b5=a.i(16794),b5=b5,b6=a.i(12609),b6=b6,bg=bg,b7=a.i(81892),b7=b7,b8=a.i(26429),b8=b8,R=R,l=l,bA=bA,p=p;let b9=[{type:"start",label:"Start",icon:aH.Play,category:"flow"},{type:"setParams",label:"Set Parameters",icon:b$.default,category:"flow"},{type:"playMessage",label:"Play Message",icon:a0.MessageCircle,category:"interaction"},{type:"getDigits",label:"Get Digits",icon:b$.default,category:"interaction"},{type:"playMenu",label:"Play Menu",icon:$.Phone,category:"interaction"},{type:"playConfirm",label:"Confirmation",icon:b1.default,category:"interaction"},{type:"runScript",label:"Run Script",icon:aF.Code,category:"logic"},{type:"switch",label:"Switch",icon:b_.default,category:"logic"},{type:"callAPI",label:"API Call",icon:I.Globe,category:"integration"},{type:"endFlow",label:"End Flow",icon:br.default,category:"flow"},{type:"connector",label:"Connector",icon:b0.default,category:"flow"},{type:"jumperEntry",label:"Jump Entry",icon:au.default,category:"flow"},{type:"jumperExit",label:"Jump Exit",icon:au.default,category:"flow"}];function ca({onSave:a,onExport:d,onImport:e}){let{viewport:f,setViewport:g,undo:h,redo:i,history:j,historyIndex:k,addNode:m,validate:n,validationErrors:o,getCurrentPage:q}=bY(),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("all"),[w,x]=(0,c.useState)(!1),y=q(),z=k<j.length-1,A=b9.filter(a=>{let b=a.label.toLowerCase().includes(r.toLowerCase()),c="all"===t||a.category===t;return b&&c}),B=a=>{"fit"===a?g({zoom:1,x:0,y:0}):g({zoom:Math.max(.25,Math.min(2,f.zoom*("in"===a?1.2:.8)))})},C=o.filter(a=>"error"===a.type).length,D=o.filter(a=>"warning"===a.type).length;return(0,b.jsxs)("div",{className:"w-80 h-full bg-slate-900 border-r border-white/10 flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/10",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"IVR Workflow Builder"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:h,disabled:!(k>0),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Undo",children:(0,b.jsx)(b7.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:i,disabled:!z,className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 disabled:opacity-30 disabled:cursor-not-allowed transition-all",title:"Redo",children:(0,b.jsx)(b8.default,{className:"w-4 h-4"})}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsx)("button",{onClick:()=>B("out"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Zoom Out",children:(0,b.jsx)(b6.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>B("fit"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Fit to Screen",children:(0,b.jsx)(bg.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>B("in"),className:"p-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Zoom In",children:(0,b.jsx)(b5.default,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,b.jsxs)("button",{onClick:a,className:"flex-1 px-3 py-2 rounded-lg bg-cyan-500 hover:bg-cyan-600 text-white text-sm font-semibold transition-all flex items-center justify-center gap-2",children:[(0,b.jsx)(R.default,{className:"w-4 h-4"}),"Save"]}),(0,b.jsx)("button",{onClick:()=>{n(),x(!0),setTimeout(()=>x(!1),3e3)},className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Validate Flow",children:(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:d,className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Export",children:(0,b.jsx)(l.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:e,className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all",title:"Import",children:(0,b.jsx)(bA.default,{className:"w-4 h-4"})})]})]}),w&&o.length>0&&(0,b.jsxs)("div",{className:"p-4 bg-white/5 border-b border-white/10",children:[(0,b.jsx)("div",{className:"text-white font-semibold text-sm mb-2",children:"Validation Results"}),C>0&&(0,b.jsxs)("div",{className:"text-red-400 text-xs flex items-center gap-2 mb-1",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-3 h-3"}),C," error",1!==C?"s":""]}),D>0&&(0,b.jsxs)("div",{className:"text-yellow-400 text-xs flex items-center gap-2",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-3 h-3"}),D," warning",1!==D?"s":""]})]}),w&&0===o.length&&(0,b.jsx)("div",{className:"p-4 bg-green-500/10 border-b border-green-500/20",children:(0,b.jsxs)("div",{className:"text-green-400 text-sm flex items-center gap-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"No validation errors"]})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search nodes...",value:r,onChange:a=>s(a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-4 flex-wrap",children:["all","flow","interaction","logic","integration"].map(a=>(0,b.jsx)("button",{onClick:()=>u(a),className:`px-3 py-1 rounded-lg text-xs font-semibold uppercase tracking-wider transition-all ${t===a?"bg-cyan-500 text-white":"bg-white/5 text-slate-400 hover:bg-white/10"}`,children:a},a))}),(0,b.jsx)("div",{className:"space-y-2",children:A.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>(a=>{let b,c={id:`node_${Date.now()}`,name:b9.find(b=>b.type===a)?.label||a,position:{x:100,y:100},type:a};switch(a){case"start":b={...c,type:"start"};break;case"setParams":b={...c,type:"setParams",parameters:{},variables:{}};break;case"playMessage":b={...c,type:"playMessage",messages:[],loop:1,bargeIn:!0};break;case"getDigits":b={...c,type:"getDigits",messages:[],resultVariable:"userInput",minDigits:1,maxDigits:1,timeout:5e3,attempts:3};break;case"playMenu":b={...c,type:"playMenu",messages:[],options:[],timeout:5e3,attempts:3};break;case"playConfirm":b={...c,type:"playConfirm",messages:[],confirmKey:"1",cancelKey:"2",timeout:5e3};break;case"runScript":b={...c,type:"runScript",script:"// Enter JavaScript code here",variables:[]};break;case"switch":b={...c,type:"switch",variable:"",conditions:[],defaultAction:""};break;case"callAPI":b={...c,type:"callAPI",url:"",method:"GET",responseVariable:"apiResponse",timeout:3e4};break;case"endFlow":b={...c,type:"endFlow",endType:"disconnect"};break;case"connector":b={...c,type:"connector"};break;case"jumperEntry":b={...c,type:"jumperEntry",jumperName:"jumper1"};break;case"jumperExit":b={...c,type:"jumperExit",jumperName:"jumper1"};break;default:return}m(b)})(a.type),className:"w-full flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 hover:border-cyan-500/50 transition-all group",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-cyan-500/20 text-cyan-400 group-hover:bg-cyan-500/30",children:(0,b.jsx)(c,{className:"w-4 h-4"})}),(0,b.jsx)("span",{className:"text-white text-sm font-medium",children:a.label})]},a.type)})}),0===A.length&&(0,b.jsx)("div",{className:"text-center text-slate-500 text-sm py-8",children:"No nodes match your search"})]}),y&&(0,b.jsx)("div",{className:"p-4 border-t border-white/10 bg-white/5",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Nodes"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:y.nodes.length})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Connections"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:y.connections.length})]})]})})]})}function cb({node:a,onClose:d}){let{updateNode:e}=bY(),[f,g]=(0,c.useState)(a);if(!f)return(0,b.jsx)("div",{className:"w-80 h-full bg-slate-900 border-l border-white/10 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center text-slate-500",children:[(0,b.jsx)("div",{className:"mb-2",children:"No node selected"}),(0,b.jsx)("div",{className:"text-xs",children:"Double-click a node to edit its properties"})]})});let h=(a,b)=>{g({...f,[a]:b}),e(f.id,{[a]:b})};return(0,b.jsxs)("div",{className:"w-80 h-full bg-slate-900 border-l border-white/10 flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:"Node Properties"}),(0,b.jsx)("button",{onClick:d,className:"p-1 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Node Name"}),(0,b.jsx)("input",{type:"text",value:f.name,onChange:a=>h("name",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Description (Optional)"}),(0,b.jsx)("textarea",{value:f.description||"",onChange:a=>h("description",a.target.value),rows:2,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none"})]}),function(a,c){switch(a.type){case"getDigits":return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Result Variable"}),(0,b.jsx)("input",{type:"text",value:a.resultVariable,onChange:a=>c("resultVariable",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Min Digits"}),(0,b.jsx)("input",{type:"number",value:a.minDigits,onChange:a=>c("minDigits",parseInt(a.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Max Digits"}),(0,b.jsx)("input",{type:"number",value:a.maxDigits,onChange:a=>c("maxDigits",parseInt(a.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Timeout (ms)"}),(0,b.jsx)("input",{type:"number",value:a.timeout,onChange:a=>c("timeout",parseInt(a.target.value)),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]});case"runScript":return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"JavaScript Code"}),(0,b.jsx)("textarea",{value:a.script,onChange:a=>c("script",a.target.value),rows:10,className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white font-mono focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"// Enter JavaScript code here"}),(0,b.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-3 h-3 inline mr-1"}),"Use $variableName to access IVR variables"]})]});case"switch":return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Variable to Switch On"}),(0,b.jsx)("input",{type:"text",value:a.variable,onChange:a=>c("variable",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"$variableName"})]});case"callAPI":return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"API URL"}),(0,b.jsx)("input",{type:"url",value:a.url,onChange:a=>c("url",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"https://api.example.com/endpoint"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"HTTP Method"}),(0,b.jsxs)("select",{value:a.method,onChange:a=>c("method",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"GET",children:"GET"}),(0,b.jsx)("option",{value:"POST",children:"POST"}),(0,b.jsx)("option",{value:"PUT",children:"PUT"}),(0,b.jsx)("option",{value:"DELETE",children:"DELETE"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Response Variable"}),(0,b.jsx)("input",{type:"text",value:a.responseVariable,onChange:a=>c("responseVariable",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]});case"endFlow":return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"End Type"}),(0,b.jsxs)("select",{value:a.endType,onChange:a=>c("endType",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"disconnect",children:"Disconnect"}),(0,b.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),"transfer"===a.endType&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Transfer Number"}),(0,b.jsx)("input",{type:"tel",value:a.transferNumber||"",onChange:a=>c("transferNumber",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"+1234567890"})]})]});case"jumperEntry":case"jumperExit":return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Jumper Name"}),(0,b.jsx)("input",{type:"text",value:a.jumperName,onChange:a=>c("jumperName",a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"jumper1"})]});default:return(0,b.jsx)("div",{className:"text-center text-slate-500 text-sm py-4",children:"No additional properties for this node type"})}}(f,h)]})]})}var y=y,p=p,q=q,s=s,m=m;function cc({onProjectSelect:a,onCreateNew:d}){let[e]=(0,c.useState)([{id:"ivr_sample_1",name:"Customer Support Routing",description:"Routes customers to appropriate departments based on their selection. Includes sales, support, and billing options.",pages:[{id:"page_1",name:"Main Menu",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMenu",name:"Main Menu",position:{x:350,y:100},messages:[],options:[],timeout:5e3,attempts:3},{id:"node_3",type:"endFlow",name:"End Call",position:{x:600,y:100},endType:"disconnect"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"}]}],variables:{},created_at:"2026-02-15T10:00:00Z",updated_at:"2026-02-17T14:30:00Z",status:"active",version:2},{id:"ivr_sample_2",name:"After Hours Support",description:"Handles incoming calls outside business hours with AI-powered voicemail and emergency routing options.",pages:[{id:"page_1",name:"After Hours Flow",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMessage",name:"After Hours Message",position:{x:350,y:100},messages:[],loop:1,bargeIn:!0},{id:"node_3",type:"playConfirm",name:"Emergency?",position:{x:600,y:100},messages:[],confirmKey:"1",cancelKey:"2",timeout:5e3},{id:"node_4",type:"endFlow",name:"Disconnect",position:{x:850,y:100},endType:"disconnect"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"}]}],variables:{},created_at:"2026-02-10T08:00:00Z",updated_at:"2026-02-16T16:45:00Z",status:"active",version:3},{id:"ivr_sample_3",name:"Account Verification Flow",description:"Collects and verifies customer account information using DTMF input and API validation before routing to live agent.",pages:[{id:"page_1",name:"Verification",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"getDigits",name:"Get Account #",position:{x:350,y:100},messages:[],resultVariable:"accountNumber",minDigits:8,maxDigits:10,timeout:5e3,attempts:3},{id:"node_3",type:"callAPI",name:"Verify Account",position:{x:600,y:100},url:"https://api.example.com/verify",method:"POST",responseVariable:"apiResponse",timeout:3e4},{id:"node_4",type:"switch",name:"Check Result",position:{x:850,y:100},variable:"apiResponse",conditions:[],defaultAction:""},{id:"node_5",type:"endFlow",name:"Transfer to Agent",position:{x:1100,y:100},endType:"transfer",transferNumber:"+1234567890"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"},{id:"conn_4",from:"node_4",to:"node_5"}]}],variables:{accountNumber:"",apiResponse:""},created_at:"2026-02-12T12:00:00Z",updated_at:"2026-02-17T09:15:00Z",status:"draft",version:1},{id:"ivr_sample_4",name:"Multilingual Welcome",description:"Detects caller language preference and routes to appropriate language-specific menu and support team.",pages:[{id:"page_1",name:"Language Selection",nodes:[{id:"node_1",type:"start",name:"Start",position:{x:100,y:100}},{id:"node_2",type:"playMenu",name:"Language Menu",position:{x:350,y:100},messages:[],options:[],timeout:5e3,attempts:3},{id:"node_3",type:"runScript",name:"Set Language",position:{x:600,y:100},script:"// Set language",variables:[]},{id:"node_4",type:"endFlow",name:"Transfer",position:{x:850,y:100},endType:"transfer"}],connections:[{id:"conn_1",from:"node_1",to:"node_2"},{id:"conn_2",from:"node_2",to:"node_3"},{id:"conn_3",from:"node_3",to:"node_4"}]}],variables:{selectedLanguage:"en"},created_at:"2026-02-08T14:00:00Z",updated_at:"2026-02-17T11:20:00Z",status:"active",version:4}]),[f,g]=(0,c.useState)(""),h=e.filter(a=>a.name.toLowerCase().includes(f.toLowerCase())||a.description?.toLowerCase().includes(f.toLowerCase()));return(0,b.jsxs)("div",{className:"p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-black text-white mb-2",children:"IVR Workflows"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage your interactive voice response flows"})]}),(0,b.jsxs)("button",{onClick:d,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Workflow"]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search workflows...",value:f,onChange:a=>g(a.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),h.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(c=>(0,b.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 hover:border-cyan-500/50 transition-all cursor-pointer group",onClick:()=>a(c),children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1 group-hover:text-cyan-400 transition-colors",children:c.name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm line-clamp-2",children:c.description})]}),(0,b.jsx)("button",{onClick:a=>{a.stopPropagation()},className:"p-2 hover:bg-white/10 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:(0,b.jsx)(q.default,{className:"w-4 h-4 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 pt-4 border-t border-white/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Nodes"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:c.pages.reduce((a,b)=>a+b.nodes.length,0)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Pages"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:c.pages.length})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(s.default,{className:"w-3 h-3"}),new Date(c.updated_at).toLocaleDateString()]}),(0,b.jsx)("div",{className:`px-2 py-1 rounded-full uppercase font-bold ${"active"===c.status?"bg-green-500/20 text-green-400":"draft"===c.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:c.status})]})]},c.id))}):(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center mb-6 mx-auto",children:(0,b.jsx)(m.default,{className:"w-10 h-10 text-cyan-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:f?"No workflows found":"No workflows yet"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:f?"Try adjusting your search term":"Create your first IVR workflow to get started"}),!f&&(0,b.jsxs)("button",{onClick:d,className:"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all mx-auto",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create First Workflow"]})]})]})}var cd=a.i(1989);function ce(){let[a,d]=(0,c.useState)("list"),[e,f]=(0,c.useState)(null),{loadProject:g,createProject:h,project:i}=bY();return"list"===a?(0,b.jsx)("div",{className:"h-full bg-slate-900",children:(0,b.jsx)(cc,{onProjectSelect:a=>{g(a),d("builder")},onCreateNew:()=>{h("New Workflow","Description of your workflow"),d("builder")}})}):(0,b.jsxs)("div",{className:"h-full flex overflow-hidden bg-slate-900",children:[(0,b.jsx)(ca,{}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border-b border-white/10 px-4 py-3 flex items-center justify-between",children:[(0,b.jsxs)("button",{onClick:()=>{d("list"),f(null)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-all",children:[(0,b.jsx)(cd.Home,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm font-semibold",children:"Back to Projects"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-white font-bold text-lg",children:i?.name||"Workflow Builder"}),(0,b.jsx)("div",{className:"text-slate-400 text-xs",children:i?.description||"Visual IVR Designer"})]}),(0,b.jsx)("div",{className:"w-32"})," "]}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(b4,{onNodeDoubleClick:a=>{f(a)}})})]}),e&&(0,b.jsx)(cb,{node:e,onClose:()=>{f(null)}})]})}function cf(){return(0,b.jsx)(bZ,{children:(0,b.jsx)(ce,{})})}var cg=a.i(45284),cg=cg,be=be;function ch({onClose:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)("idle");return(0,b.jsxs)("div",{className:"fixed bottom-6 right-6 w-80 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl z-50 backdrop-blur-xl",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-cyan-500/20 rounded-full flex items-center justify-center",children:(0,b.jsx)($.Phone,{className:"w-4 h-4 text-cyan-400"})}),(0,b.jsx)("span",{className:"text-white font-bold",children:"Dialpad"})]}),(0,b.jsx)("button",{onClick:a,className:"p-1.5 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"p-6 bg-white/5 relative",children:[(0,b.jsxs)("div",{className:"text-center mb-2",children:["calling"===f&&(0,b.jsx)("span",{className:"text-xs text-yellow-400 font-semibold uppercase tracking-wider animate-pulse",children:"Calling..."}),"connected"===f&&(0,b.jsx)("span",{className:"text-xs text-green-400 font-semibold uppercase tracking-wider",children:"Connected"})]}),(0,b.jsx)("div",{className:"bg-slate-800/50 rounded-xl p-4 min-h-[60px] flex items-center justify-center border border-white/5",children:(0,b.jsx)("input",{type:"text",value:d,readOnly:!0,placeholder:"Enter number",className:"bg-transparent text-white text-2xl font-mono text-center w-full outline-none"})}),d.length>0&&"idle"===f&&(0,b.jsx)("button",{onClick:()=>{e(a=>a.slice(0,-1))},className:"absolute right-8 top-1/2 -translate-y-1/2 mt-1 p-2 hover:bg-white/10 rounded-lg transition-all text-slate-400 hover:text-white",children:(0,b.jsx)(cg.default,{className:"w-4 h-4"})})]}),(0,b.jsx)("div",{className:"p-4 grid grid-cols-3 gap-3",children:[{label:"1",sub:""},{label:"2",sub:"ABC"},{label:"3",sub:"DEF"},{label:"4",sub:"GHI"},{label:"5",sub:"JKL"},{label:"6",sub:"MNO"},{label:"7",sub:"PQRS"},{label:"8",sub:"TUV"},{label:"9",sub:"WXYZ"},{label:"*",sub:""},{label:"0",sub:"+"},{label:"#",sub:""}].map(a=>(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.label,void e(a=>a+b)},disabled:"idle"!==f,className:`aspect-square rounded-2xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all flex flex-col items-center justify-center group ${"idle"!==f?"opacity-50 cursor-not-allowed":""}`,children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-white group-hover:scale-110 transition-transform",children:a.label}),a.sub&&(0,b.jsx)("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider mt-1",children:a.sub})]},a.label))}),(0,b.jsx)("div",{className:"p-4 pt-0",children:"idle"===f?(0,b.jsxs)("button",{onClick:()=>{d.length>0&&(g("calling"),setTimeout(()=>g("connected"),2e3))},disabled:0===d.length,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed text-white py-4 rounded-2xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 transition-all",children:[(0,b.jsx)(be.default,{className:"w-5 h-5"}),"Call"]}):(0,b.jsxs)("button",{onClick:()=>{g("idle"),e("")},className:"w-full bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white py-4 rounded-2xl font-bold uppercase text-sm tracking-wider shadow-lg shadow-red-500/30 flex items-center justify-center gap-2 transition-all",children:[(0,b.jsx)($.Phone,{className:"w-5 h-5 rotate-[135deg]"}),"End Call"]})})]})}function ci(){let[a,d]=(0,c.useState)("inbound"),[e,f]=(0,c.useState)(!1),[g,i]=(0,c.useState)(!1),[k,n]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[x,z]=(0,c.useState)(null),[C,D]=(0,c.useState)({alias:"",number:"",greeting:"",routing:"",hours:""}),[E,F]=(0,c.useState)({name:"",type:"sales",contacts:0,script:"",cps:10,retries:3}),[G,H]=(0,c.useState)(null),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)({name:"",proxyNumber:"",userNumber:"",providerNumber:"",ttl:"1h"}),[P,Q]=(0,c.useState)([{id:1,name:"Uber Ride Session",proxyNumber:"+60 3-2001-0001",userNumber:"+60 12-3456-7890",providerNumber:"+60 11-8765-4321",ttl:"1h",status:"active",calls:12,duration:"45m 23s"},{id:2,name:"Food Delivery Order",proxyNumber:"+60 3-2001-0002",userNumber:"+60 12-3456-7891",providerNumber:"+60 11-9876-5432",ttl:"30m",status:"active",calls:5,duration:"18m 12s"},{id:3,name:"OTP Verification",proxyNumber:"+60 3-2001-0003",userNumber:"+60 13-7946-0958",providerNumber:"+60 14-7946-0123",ttl:"10m",status:"expired",calls:3,duration:"2m 45s"},{id:4,name:"Sales Outreach Campaign",proxyNumber:"+60 3-2001-0004",userNumber:"+60 12-1112-2222",providerNumber:"+60 19-9998-8888",ttl:"24h",status:"active",calls:28,duration:"2h 15m"},{id:5,name:"Real Estate Inquiry",proxyNumber:"+60 3-2001-0005",userNumber:"+60 17-7776-6666",providerNumber:"+60 16-4443-3333",ttl:"1h",status:"active",calls:8,duration:"32m 56s"}]),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)("web"),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,_]=(0,c.useState)(null),[aa,ab]=(0,c.useState)("whisper"),[ac,ad]=(0,c.useState)([{id:1,callId:"CALL-2024-001",agentName:"Sarah Chen",agentNumber:"+60 12-3456-7890",customerNumber:"+60 11-2233-4455",supervisorName:"John Smith",mode:"whisper",status:"active",duration:"5m 23s",startTime:"14:32",notes:["Customer asking about pricing","Escalation needed"]},{id:2,callId:"CALL-2024-002",agentName:"Ahmad Rahman",agentNumber:"+60 13-5678-9012",customerNumber:"+60 12-8877-6655",supervisorName:"Lisa Wong",mode:"listen",status:"active",duration:"2m 15s",startTime:"14:38",notes:["Training session"]},{id:3,callId:"CALL-2024-003",agentName:"Mei Ling",agentNumber:"+60 14-2345-6789",customerNumber:"+60 19-4433-2211",supervisorName:"John Smith",mode:"barge",status:"active",duration:"8m 47s",startTime:"14:25",notes:["Complex technical issue","Manager joined"]}]),[af,ag]=(0,c.useState)([{callId:"CALL-2024-004",agentName:"David Tan",customerNumber:"+60 11-5566-7788",duration:"1m 12s",queue:"Sales"},{callId:"CALL-2024-005",agentName:"Priya Kumar",customerNumber:"+60 12-9988-7766",duration:"3m 45s",queue:"Support"},{callId:"CALL-2024-006",agentName:"Wei Zhang",customerNumber:"+60 13-3344-5566",duration:"0m 38s",queue:"Billing"}]),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(null),[an,ao]=(0,c.useState)({name:"",source:"",channel:"",trackingNumbers:"",goal:""}),[ap,aq]=(0,c.useState)([{id:1,name:"Google PPC Q1 2024",trackingNumbers:["+60 3-2100-0001","+60 3-2100-0002"],source:"Google Ads",channel:"PPC",callCount:892,conversions:178,conversionRate:20,avgDuration:"4m 32s",costPerLead:18.5,totalRevenue:45600,roi:2.8,status:"active",created:"2024-01-15"},{id:2,name:"Facebook Lead Gen",trackingNumbers:["+60 3-2100-0003","+60 3-2100-0004","+60 3-2100-0005"],source:"Facebook",channel:"Social",callCount:654,conversions:124,conversionRate:19,avgDuration:"3m 18s",costPerLead:22.3,totalRevenue:31200,roi:2.1,status:"active",created:"2024-01-20"},{id:3,name:"Organic SEO Traffic",trackingNumbers:["+60 3-2100-0006"],source:"Google Organic",channel:"SEO",callCount:1247,conversions:287,conversionRate:23,avgDuration:"5m 45s",costPerLead:8.2,totalRevenue:68400,roi:4.5,status:"active",created:"2024-01-10"},{id:4,name:"LinkedIn B2B Campaign",trackingNumbers:["+60 3-2100-0007","+60 3-2100-0008"],source:"LinkedIn",channel:"Social",callCount:234,conversions:45,conversionRate:19.2,avgDuration:"6m 12s",costPerLead:45.8,totalRevenue:22500,roi:1.8,status:"paused",created:"2024-02-01"}]),[ar,as]=(0,c.useState)([{alias:"Main Office Line",number:"+60 3-1234-5678",dest:"Smart IVR Flow",active:12,status:"active",greeting:"Welcome to Acme Corp",routing:"IVR Menu"},{alias:"Support Hotline",number:"+60 3-9876-5432",dest:"Queue: Tier 1",active:8,status:"active",greeting:"Thank you for calling support",routing:"Agent Queue"},{alias:"Sales Department",number:"+60 3-5555-1234",dest:"Round Robin",active:5,status:"active",greeting:"Sales team speaking",routing:"Round Robin"},{alias:"Emergency Hotline",number:"+60 3-9119-0000",dest:"Priority Queue",active:3,status:"active",greeting:"Emergency services",routing:"Priority Routing"},{alias:"Customer Service UK",number:"+44 20 7123 4567",dest:"UK Support Team",active:15,status:"active",greeting:"Hello, you've reached UK support",routing:"Skills-based"}]),[au,av]=(0,c.useState)([{name:"Q1 Sales Promo",contacts:1250,completed:892,success:487,status:"active",avgDuration:"3m 45s",conversionRate:"54.6%"},{name:"Customer Satisfaction Survey",contacts:5e3,completed:3200,success:2880,status:"active",avgDuration:"2m 20s",conversionRate:"90.0%"},{name:"Payment Reminder Campaign",contacts:800,completed:650,success:520,status:"completed",avgDuration:"1m 50s",conversionRate:"80.0%"},{name:"New Product Launch",contacts:2500,completed:450,success:180,status:"active",avgDuration:"4m 10s",conversionRate:"40.0%"},{name:"Appointment Reminders",contacts:1500,completed:1500,success:1425,status:"completed",avgDuration:"1m 15s",conversionRate:"95.0%"}]);(0,c.useEffect)(()=>{f(!0)},[]);let ax=[{id:"inbound",label:"Inbound Flows",icon:bR.default},{id:"outbound",label:"Outbound Campaign",icon:bS.default},{id:"recordings",label:"Call Recordings",icon:bj.default},{id:"click2call",label:"Click to Call",icon:bT.default},{id:"masking",label:"Identity Protection",icon:bW.default},{id:"whisper",label:"Call Whisper",icon:bV.default},{id:"tracking",label:"Call Tracking",icon:aJ.BarChart3}];return e?(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c min-h-screen bg-[#01140f] p-8 pb-20 overflow-x-hidden",children:[(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c fixed top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[1000px] bg-cyan-500/10 rounded-full blur-[120px] pointer-events-none -z-10"}),(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c fixed bottom-0 right-0 w-[500px] h-[500px] bg-emerald-500/10 rounded-full blur-[100px] pointer-events-none -z-10"}),(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c max-w-[1400px] mx-auto",children:[(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c mb-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c",children:[(0,b.jsx)("h1",{className:"jsx-a54f60f4c5f8d68c text-4xl font-black text-white mb-2",children:"Voice API"}),(0,b.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-slate-400",children:"Manage your voice communication infrastructure"})]}),(0,b.jsxs)("button",{onClick:()=>r(!q),className:"jsx-a54f60f4c5f8d68c bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all",children:[(0,b.jsx)($.Phone,{className:"w-5 h-5"}),q?"Close":"Open"," Dialpad"]})]}),(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{label:"Carrier Latency",value:"< 20ms",icon:m.default,color:"cyan"},{label:"Global Compliance",value:"SOC 2/GDPR",icon:bW.default,color:"emerald"},{label:"Uptime SLA",value:"99.99%",icon:v.CheckCircle,color:"blue"},{label:"HD Audio Codec",value:"Opus/G.722",icon:bj.default,color:"indigo"}].map((a,c)=>(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c flex items-center gap-4 py-4 px-6 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-md",children:[(0,b.jsx)("div",{className:`jsx-a54f60f4c5f8d68c text-${a.color}-400`,children:(0,b.jsx)(a.icon,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c",children:[(0,b.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-[10px] uppercase font-black tracking-widest text-slate-500",children:a.label}),(0,b.jsx)("p",{className:"jsx-a54f60f4c5f8d68c text-sm font-bold text-white",children:a.value})]})]},c))}),(0,b.jsxs)("div",{className:"jsx-a54f60f4c5f8d68c flex flex-col gap-6",children:[(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c w-full overflow-x-auto",children:(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c flex gap-2 p-2 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-xl shadow-2xl min-w-max",children:ax.map(c=>{let e=c.icon,f=a===c.id;return(0,b.jsxs)("button",{onClick:()=>d(c.id),className:`jsx-a54f60f4c5f8d68c nav-glass-btn flex items-center gap-3 px-6 py-3 rounded-xl transition-all duration-300 group relative whitespace-nowrap ${f?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-lg shadow-cyan-500/30 font-bold":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[(0,b.jsx)(e,{className:`jsx-a54f60f4c5f8d68c w-5 h-5 transition-transform group-hover:scale-110 ${f?"text-white":"text-cyan-400"}`}),(0,b.jsx)("span",{className:"jsx-a54f60f4c5f8d68c text-sm font-semibold",children:c.label}),f&&(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c absolute bottom-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-white rounded-full shadow-[0_0_10px_white]"})]},c.id)})})}),(0,b.jsx)("div",{className:"jsx-a54f60f4c5f8d68c w-full",children:(()=>{switch(a){case"inbound":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Total Flows",value:ar.length.toString(),change:"+2",color:"from-cyan-500/20 to-blue-500/20"},{label:"Active Calls",value:ar.reduce((a,b)=>a+b.active,0).toString(),change:"+15%",color:"from-purple-500/20 to-pink-500/20"},{label:"Success Rate",value:"94.2%",change:"+2.1%",color:"from-green-500/20 to-emerald-500/20"}].map((a,c)=>(0,b.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${a.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:a.label}),(0,b.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:a.value}),(0,b.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.change.startsWith("+")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.change})]})]},c))}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/5",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(bR.default,{className:"w-5 h-5 text-cyan-400"}),"Active Inbound Flows"]}),(0,b.jsxs)("button",{onClick:()=>i(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-xl transition-all shadow-lg shadow-cyan-500/20 flex items-center gap-2 text-sm font-bold uppercase tracking-wider",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Inbound Flow"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-white/5",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Alias"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Virtual Number"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Greeting"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Routing Type"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Active Calls"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/10",children:ar.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:a.alias}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-cyan-400",children:a.number}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.greeting}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-indigo-500/20 text-indigo-400 rounded-lg text-xs font-semibold",children:a.routing})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.active}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===a.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===a.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),a.status]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>z(a),className:"p-2 hover:bg-white/10 rounded-lg text-cyan-400 transition-colors",title:"View Settings",children:(0,b.jsx)(j.Settings,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this inbound flow?")&&as(a=>a.filter((a,b)=>b!==c))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},c))})]})})]}),g&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Inbound Flow"}),(0,b.jsx)("button",{onClick:()=>i(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Flow Name"}),(0,b.jsx)("input",{type:"text",value:C.name,onChange:a=>D(b=>({...b,name:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"e.g., Customer Support Line"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Virtual Number"}),(0,b.jsx)("input",{type:"text",value:C.number,onChange:a=>D(b=>({...b,number:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"+60 3-XXXX-XXXX"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Greeting Message"}),(0,b.jsx)("textarea",{rows:3,value:C.greeting,onChange:a=>D(b=>({...b,greeting:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"Thank you for calling..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Routing Type"}),(0,b.jsxs)("select",{value:C.routing,onChange:a=>D(b=>({...b,routing:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"IVR Menu",children:"IVR Menu"}),(0,b.jsx)("option",{value:"Agent Queue",children:"Agent Queue"}),(0,b.jsx)("option",{value:"Round Robin",children:"Round Robin"}),(0,b.jsx)("option",{value:"Skills-based",children:"Skills-based"}),(0,b.jsx)("option",{value:"Priority Routing",children:"Priority Routing"}),(0,b.jsx)("option",{value:"Direct Transfer",children:"Direct Transfer"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{onClick:()=>i(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!C.name||!C.number)return void alert("Please fill in at least the flow name and number");let a={alias:C.name,number:C.number,greeting:C.greeting||"Welcome",routing:C.routing,active:0,status:"active",dest:C.routing};as(b=>[...b,a]),D({name:"",number:"",greeting:"",routing:"IVR Menu",hours:""}),i(!1)},className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-cyan-500/30 transition-all",children:"Create Flow"})]})]})]})}),x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-cyan-500/10 to-blue-500/10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Flow Configuration"}),(0,b.jsx)("button",{onClick:()=>z(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Flow Name"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:x.alias})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Virtual Number"}),(0,b.jsx)("p",{className:"text-cyan-400 font-mono",children:x.number})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Routing Type"}),(0,b.jsx)("p",{className:"text-white",children:x.routing})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===x.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===x.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),x.status]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Greeting Message"}),(0,b.jsx)("p",{className:"text-slate-300",children:x.greeting})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Active Calls"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:x.active})]}),(0,b.jsx)("button",{onClick:()=>z(null),className:"w-full bg-cyan-500 hover:bg-cyan-600 text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"outbound":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Active Campaigns",value:au.filter(a=>"active"===a.status).length.toString(),change:"+2",color:"from-blue-500/20 to-indigo-500/20"},{label:"Calls Today",value:"2,450",change:"+18%",color:"from-purple-500/20 to-pink-500/20"},{label:"Success Rate",value:"76.8%",change:"+3.2%",color:"from-green-500/20 to-emerald-500/20"}].map((a,c)=>(0,b.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${a.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:a.label}),(0,b.jsxs)("div",{className:"flex items-end justify-between mt-2",children:[(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:a.value}),(0,b.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${a.change.startsWith("+")?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.change})]})]},c))}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-white/5",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(bS.default,{className:"w-5 h-5 text-blue-400"}),"Outbound Campaigns"]}),(0,b.jsxs)("button",{onClick:()=>n(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl transition-all shadow-lg shadow-blue-500/20 flex items-center gap-2 text-sm font-bold uppercase tracking-wider",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Campaign"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-white/5",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Campaign"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Contacts"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Completed"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Success"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Avg Duration"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Conversion"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/10",children:au.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.contacts.toLocaleString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.completed.toLocaleString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.success.toLocaleString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-cyan-400",children:a.avgDuration}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${parseFloat(a.conversionRate)>=80?"bg-green-500/20 text-green-400":parseFloat(a.conversionRate)>=50?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.conversionRate})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===a.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===a.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),a.status]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>H(a),className:"p-2 hover:bg-white/10 rounded-lg text-blue-400 transition-colors",title:"View Details",children:(0,b.jsx)(B.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this campaign?")&&av(a=>a.filter((a,b)=>b!==c))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},c))})]})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Outbound Campaign"}),(0,b.jsx)("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Campaign Name"}),(0,b.jsx)("input",{type:"text",value:E.name,onChange:a=>F(b=>({...b,name:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Summer Promotion 2026"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Campaign Type"}),(0,b.jsxs)("select",{value:E.type,onChange:a=>F(b=>({...b,type:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"sales",children:"Sales Outreach"}),(0,b.jsx)("option",{value:"survey",children:"Customer Survey"}),(0,b.jsx)("option",{value:"reminder",children:"Payment Reminder"}),(0,b.jsx)("option",{value:"notification",children:"Mass Notification"}),(0,b.jsx)("option",{value:"appointment",children:"Appointment Confirmation"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Number of Contacts"}),(0,b.jsx)("input",{type:"number",value:E.contacts||"",onChange:a=>F(b=>({...b,contacts:parseInt(a.target.value)||0})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100",min:"1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Message Script"}),(0,b.jsx)("textarea",{rows:4,value:E.script,onChange:a=>F(b=>({...b,script:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Hello, this is..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Call Rate (CPS)"}),(0,b.jsx)("input",{type:"number",value:E.cps,onChange:a=>F(b=>({...b,cps:parseInt(a.target.value)||10})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"50"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Max Retries"}),(0,b.jsx)("input",{type:"number",value:E.retries,onChange:a=>F(b=>({...b,retries:parseInt(a.target.value)||3})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",max:"5"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{onClick:()=>n(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!E.name)return void alert("Please enter a campaign name");let a={name:E.name,contacts:E.contacts||100,completed:0,success:0,avgDuration:"0m 0s",conversionRate:"0%",status:"active"};av(b=>[...b,a]),F({name:"",type:"sales",contacts:0,script:"",cps:10,retries:3}),n(!1)},className:"flex-1 bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-blue-500/30 transition-all",children:"Create Campaign"})]})]})]})}),G&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-blue-500/10 to-indigo-500/10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Campaign Details"}),(0,b.jsx)("button",{onClick:()=>H(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Campaign Name"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:G.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===G.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===G.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),G.status]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Contacts"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:G.contacts.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Completed"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-white",children:G.completed.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Success Count"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-400",children:G.success.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Conversion Rate"}),(0,b.jsx)("p",{className:`text-2xl font-bold ${parseFloat(G.conversionRate)>=80?"text-green-400":parseFloat(G.conversionRate)>=50?"text-yellow-400":"text-red-400"}`,children:G.conversionRate})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Average Call Duration"}),(0,b.jsx)("p",{className:"text-lg font-mono text-cyan-400",children:G.avgDuration})]}),(0,b.jsx)("button",{onClick:()=>H(null),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"ivr":return(0,b.jsx)("div",{className:"h-[calc(100vh-400px)] min-h-[600px]",children:(0,b.jsx)(cf,{})});case"recordings":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Cloud Call Recordings"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search by number...",className:"bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-2 text-sm text-white focus:border-cyan-500 outline-none w-64"})]}),(0,b.jsx)("button",{className:"p-2 bg-white/5 border border-white/10 rounded-xl text-slate-400 hover:text-white",children:(0,b.jsx)(bU.default,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-white/5",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Timestamp"}),(0,b.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Direction"}),(0,b.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Parties"}),(0,b.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Duration"}),(0,b.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Sentiment"}),(0,b.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/10",children:[{id:1,time:"Today, 10:45 AM",dir:"Inbound",from:"+1...4567",to:"+1...9901",dur:"5m 20s",sentiment:"Positive"},{id:2,time:"Today, 10:30 AM",dir:"Outbound",from:"+1...8822",to:"+44...1234",dur:"0m 45s",sentiment:"Neutral"},{id:3,time:"Yesterday, 4:12 PM",dir:"Inbound",from:"+60...7766",to:"+60...0000",dur:"12m 10s",sentiment:"Negative"}].map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.time}),(0,b.jsx)("td",{className:"px-6 py-4",children:"Inbound"===a.dir?(0,b.jsx)(bR.default,{className:"w-4 h-4 text-green-400"}):(0,b.jsx)(bS.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,b.jsx)("span",{className:"text-white",children:a.from}),(0,b.jsx)("span",{className:"text-slate-600",children:"â†’"}),(0,b.jsx)("span",{className:"text-white",children:a.to})]})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.dur}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-tight ${"Positive"===a.sentiment?"bg-green-500/20 text-green-400":"Negative"===a.sentiment?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:a.sentiment})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>{var b;s===(b=a.id)?t(null):(t(b),setTimeout(()=>{t(null)},3e3))},className:`transition-colors ${s===a.id?"text-green-400 hover:text-green-300":"text-cyan-400 hover:text-cyan-300"}`,title:s===a.id?"Stop":"Play",children:s===a.id?(0,b.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-2 h-2 bg-current rounded-full animate-pulse"})}):(0,b.jsx)(aH.Play,{className:"w-4 h-4 fill-current"})}),(0,b.jsx)("button",{onClick:()=>{let b,c,d;return b=new Blob([`Call Recording
Time: ${a.time}
Direction: ${a.dir}
From: ${a.from}
To: ${a.to}
Duration: ${a.dur}
Sentiment: ${a.sentiment}`],{type:"text/plain"}),c=URL.createObjectURL(b),void((d=document.createElement("a")).href=c,d.download=`recording-${a.id}-${a.time.replace(/[^a-zA-Z0-9]/g,"_")}.txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c))},className:"text-slate-400 hover:text-white transition-colors",title:"Download Recording",children:(0,b.jsx)(l.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})})]});case"masking":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center shadow-2xl shadow-orange-500/20 border border-white/20",children:(0,b.jsx)(bW.default,{className:"w-12 h-12 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-4xl font-black text-white tracking-tighter",children:"Identity Protection"}),(0,b.jsx)("p",{className:"text-slate-400 font-medium",children:"Anonymize conversations between users and providers without exposing real phone numbers."})]}),(0,b.jsxs)("button",{onClick:()=>K(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-xl transition-all shadow-lg shadow-orange-500/20 flex items-center gap-2 font-bold uppercase tracking-wider",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Proxy"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Proxies",value:P.length.toString(),color:"from-orange-500/20 to-red-500/20"},{label:"Active Sessions",value:P.filter(a=>"active"===a.status).length.toString(),color:"from-green-500/20 to-emerald-500/20"},{label:"Total Calls Today",value:P.reduce((a,b)=>a+b.calls,0).toString(),color:"from-blue-500/20 to-cyan-500/20"},{label:"Privacy Score",value:"98.2%",color:"from-purple-500/20 to-pink-500/20"}].map((a,c)=>(0,b.jsxs)("div",{className:`glass-card p-6 rounded-2xl bg-gradient-to-br ${a.color} border border-white/10 backdrop-blur-xl shadow-2xl`,children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium mb-2",children:a.label}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white",children:a.value})]},c))}),(0,b.jsxs)("div",{className:"glass-card rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden shadow-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5",children:(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-orange-400"}),"Active Proxy Sessions"]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-white/5",children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Session Name"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Proxy Number"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"User â†’ Provider"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"TTL"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Calls"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Duration"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/10",children:P.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors group",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-white",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-orange-400",children:a.proxyNumber}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,b.jsx)("span",{className:"text-cyan-400",children:a.userNumber}),(0,b.jsx)("span",{className:"text-slate-600",children:"â†’"}),(0,b.jsx)("span",{className:"text-green-400",children:a.providerNumber})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-orange-500/20 text-orange-400 rounded-lg text-xs font-semibold",children:a.ttl})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm text-slate-300",children:a.calls}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-mono text-slate-300",children:a.duration}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-tight ${"active"===a.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===a.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),a.status]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>M(a),className:"p-2 hover:bg-white/10 rounded-lg text-orange-400 transition-colors",title:"View Details",children:(0,b.jsx)(B.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{confirm("Are you sure you want to delete this proxy?")&&Q(a=>a.filter((a,b)=>b!==c))},className:"p-2 hover:bg-white/10 rounded-lg text-red-400 transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})]}),(0,b.jsx)("div",{className:"glass-card p-8 rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-4 bg-orange-500/20 rounded-2xl border border-orange-500/20",children:(0,b.jsx)(bV.default,{className:"w-8 h-8 text-orange-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white font-bold text-xl leading-none mb-1",children:"Session TTL Config"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Define how long proxy numbers remain active."})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 bg-black/40 p-1 rounded-xl border border-white/10",children:["10m","30m","1h","24h","Custom"].map(a=>(0,b.jsx)("button",{className:`px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${"1h"===a?"bg-orange-500 text-white":"text-slate-500 hover:text-white"}`,children:a},a))})]})}),J&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Create New Proxy Session"}),(0,b.jsx)("button",{onClick:()=>K(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Session Name"}),(0,b.jsx)("input",{type:"text",value:N.name,onChange:a=>O(b=>({...b,name:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"e.g., Delivery Order #12345"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Proxy Number"}),(0,b.jsx)("input",{type:"text",value:N.proxyNumber,onChange:a=>O(b=>({...b,proxyNumber:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 3-XXXX-XXXX"}),(0,b.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"The masked number that will be displayed to both parties"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"User Number"}),(0,b.jsx)("input",{type:"text",value:N.userNumber,onChange:a=>O(b=>({...b,userNumber:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 1X-XXXX-XXXX"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Provider Number"}),(0,b.jsx)("input",{type:"text",value:N.providerNumber,onChange:a=>O(b=>({...b,providerNumber:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"+60 1X-XXXX-XXXX"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Time to Live (TTL)"}),(0,b.jsxs)("select",{value:N.ttl,onChange:a=>O(b=>({...b,ttl:a.target.value})),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,b.jsx)("option",{value:"10m",children:"10 minutes"}),(0,b.jsx)("option",{value:"30m",children:"30 minutes"}),(0,b.jsx)("option",{value:"1h",children:"1 hour"}),(0,b.jsx)("option",{value:"24h",children:"24 hours"}),(0,b.jsx)("option",{value:"7d",children:"7 days"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,b.jsx)("button",{onClick:()=>K(!1),className:"flex-1 bg-white/5 hover:bg-white/10 border border-white/10 text-white px-6 py-3 rounded-xl font-bold transition-all",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!N.name||!N.proxyNumber)return void alert("Please enter proxy name and number");let a={id:P.length+1,name:N.name,proxyNumber:N.proxyNumber,userNumber:N.userNumber,providerNumber:N.providerNumber,ttl:N.ttl,status:"active",calls:0,duration:"0m 0s"};Q(b=>[...b,a]),O({name:"",proxyNumber:"",userNumber:"",providerNumber:"",ttl:"1h"}),K(!1)},className:"flex-1 bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-orange-500/30 transition-all",children:"Create Proxy"})]})]})]})}),L&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between bg-gradient-to-r from-orange-500/10 to-red-500/10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Proxy Session Details"}),(0,b.jsx)("button",{onClick:()=>M(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Session Name"}),(0,b.jsx)("p",{className:"text-white font-semibold text-lg",children:L.name})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Proxy Number"}),(0,b.jsx)("p",{className:"text-orange-400 font-mono text-lg",children:L.proxyNumber})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Status"}),(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase ${"active"===L.status?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${"active"===L.status?"bg-green-400 animate-pulse":"bg-slate-400"}`}),L.status]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-white/5",children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Connection Mapping"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"User"}),(0,b.jsx)("p",{className:"text-cyan-400 font-mono text-sm",children:L.userNumber})]}),(0,b.jsx)("div",{className:"text-slate-600",children:"âŸ·"}),(0,b.jsxs)("div",{className:"flex-1 text-center",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Proxy"}),(0,b.jsx)("p",{className:"text-orange-400 font-mono text-sm",children:L.proxyNumber})]}),(0,b.jsx)("div",{className:"text-slate-600",children:"âŸ·"}),(0,b.jsxs)("div",{className:"flex-1 text-right",children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Provider"}),(0,b.jsx)("p",{className:"text-green-400 font-mono text-sm",children:L.providerNumber})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"TTL"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:L.ttl})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Calls"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:L.calls})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Total Duration"}),(0,b.jsx)("p",{className:"text-white font-semibold font-mono",children:L.duration})]})]}),(0,b.jsx)("button",{onClick:()=>M(null),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-xl font-bold transition-all mt-4",children:"Close"})]})]})})]});case"click2call":let c,d;return c={web:`<!-- Click to Call Web SDK -->
<script src="https://cdn.acmecpaas.com/c2c-sdk.js"></script>
<script>
  // Initialize Click to Call Widget
  const c2c = new ClickToCallSDK({
    apiKey: 'YOUR_API_KEY',
    phoneNumber: '+60-3-XXXX-XXXX',
    theme: 'glass', // 'standard' | 'glass' | 'neumorphic' | 'minimal'
    position: 'bottom-right',
    
    // Customization
    brandColor: '#8b5cf6',
    brandName: 'Acme Corp',
    greeting: 'Need help? Click to call us!',
    
    // CRM Integration
    onCallStart: (callData) => {
      console.log('Call started:', callData);
      // Log to CRM
    },
    onCallEnd: (callData) => {
      console.log('Call ended:', callData);
      // Update CRM record
    },
    
    // WebRTC Configuration (optional)
    enableWebRTC: true,
    stunServers: ['stun:stun.l.google.com:19302']
  });
  
  // Initialize the widget
  c2c.init();
  
  // Available methods:
  // c2c.show() - Show widget
  // c2c.hide() - Hide widget
  // c2c.call(number) - Initiate call
  // c2c.destroy() - Remove widget
</script>`,android:`// Click to Call Android SDK (Kotlin)
// Add to build.gradle
dependencies {
    implementation 'com.acmecpaas:clicktocall:1.0.0'
}

// Initialize in Application class
class MyApp : Application() {
    override fun onCreate() {
        super.onCreate()
        
        ClickToCall.initialize(
            context = this,
            config = ClickToCallConfig(
                apiKey = "YOUR_API_KEY",
                phoneNumber = "+60-3-XXXX-XXXX",
                theme = ClickToCallTheme.MATERIAL_YOU,
                brandColor = Color(0xFF8B5CF6)
            )
        )
    }
}

// In your Activity/Fragment
class MainActivity : AppCompatActivity() {
    private lateinit var c2c: ClickToCallWidget
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Create floating widget
        c2c = ClickToCallWidget(this)
        c2c.setCallbacks(object : CallCallback {
            override fun onCallStarted(call: CallData) {
                // Log to analytics
                logCallEvent("call_started", call)
            }
            
            override fun onCallEnded(call: CallData) {
                // Update CRM
                updateCRMRecord(call)
            }
        })
        
        // Show widget
        c2c.show()
    }
    
    // Programmatic call
    fun makeCall(number: String) {
        c2c.initiateCall(number)
    }
}`,ios:`// Click to Call iOS SDK (Swift)
// Add to Package.swift or Podfile
dependencies: [
    .package(url: "https://github.com/acmecpaas/clicktocall-ios", from: "1.0.0")
]

import ClickToCallSDK
import SwiftUI

@main
struct MyApp: App {
    init() {
        // Initialize SDK
        ClickToCall.shared.configure(
            apiKey: "YOUR_API_KEY",
            phoneNumber: "+60-3-XXXX-XXXX",
            config: C2CConfiguration(
                theme: .glassmorphism,
                brandColor: .purple,
                position: .bottomTrailing
            )
        )
    }
    
    var body: some Scene {
        WindowGroup {
            ContentView()
                .clickToCallWidget() // Add floating widget
        }
    }
}

// SwiftUI View Integration
struct ContentView: View {
    @StateObject private var c2c = ClickToCall.shared
    
    var body: some View {
        VStack {
            // Your content
            
            // Inline call button
            Button("Call Support") {
                c2c.initiateCall(number: "+60-3-1234-5678")
            }
        }
        .onCallEvent { event in
            switch event {
            case .started(let callData):
                // Analytics logging
                Analytics.log("call_started", data: callData)
            case .ended(let callData):
                // CRM update
                CRM.updateRecord(callData)
            }
        }
    }
}

// CallKit Integration
extension ClickToCall {
    func setupCallKit() {
        let provider = CXProvider(configuration: providerConfiguration)
        let controller = CXCallController()
        // CallKit integration handled automatically
    }
}`,windows:`// Click to Call Windows SDK (C#/.NET)
// Install via NuGet
// Install-Package AcmeCPaaS.ClickToCall

using AcmeCPaaS.ClickToCall;
using System.Windows;

namespace MyApp
{
    public partial class App : Application
    {
        protected override void OnStartup(StartupEventArgs e)
        {
            base.OnStartup(e);
            
            // Initialize Click to Call SDK
            var config = new C2CConfiguration
            {
                ApiKey = "YOUR_API_KEY",
                PhoneNumber = "+60-3-XXXX-XXXX",
                Theme = C2CTheme.ModernFluent,
                BrandColor = Colors.Purple,
                Position = WidgetPosition.BottomRight
            };
            
            ClickToCallManager.Initialize(config);
            
            // Set up event handlers
            ClickToCallManager.OnCallStarted += (sender, args) =>
            {
                // Log to analytics
                Analytics.TrackEvent("CallStarted", args.CallData);
            };
            
            ClickToCallManager.OnCallEnded += (sender, args) =>
            {
                // Update CRM
                CRMService.UpdateContact(args.CallData);
            };
        }
    }
    
    // In your Window/UserControl
    public partial class MainWindow : Window
    {
        private ClickToCallWidget _widget;
        
        public MainWindow()
        {
            InitializeComponent();
            
            // Create floating widget
            _widget = new ClickToCallWidget();
            _widget.Show();
        }
        
        // Programmatic call
        private void CallButton_Click(object sender, RoutedEventArgs e)
        {
            ClickToCallManager.InitiateCall("+60-3-1234-5678");
        }
        
        // System tray integration
        private void SetupTrayIcon()
        {
            var trayIcon = new NotifyIcon
            {
                Icon = Resources.AppIcon,
                Visible = true
            };
            
            var menu = new ContextMenuStrip();
            menu.Items.Add("Quick Call", null, (s, e) => _widget.Show());
            trayIcon.ContextMenuStrip = menu;
        }
    }
}`,macos:`// Click to Call macOS SDK (Swift)
// Add via Swift Package Manager
dependencies: [
    .package(url: "https://github.com/acmecpaas/clicktocall-macos", from: "1.0.0")
]

import Cocoa
import ClickToCallSDK

@main
class AppDelegate: NSObject, NSApplicationDelegate {
    var statusItem: NSStatusItem?
    var c2cManager: ClickToCallManager?
    
    func applicationDidFinishLaunching(_ notification: Notification) {
        // Initialize SDK
        let config = C2CConfiguration(
            apiKey: "YOUR_API_KEY",
            phoneNumber: "+60-3-XXXX-XXXX",
            theme: .aqua,
            brandColor: .systemPurple
        )
        
        c2cManager = ClickToCallManager.shared
        c2cManager?.configure(with: config)
        
        // Menu bar integration
        setupMenuBar()
        
        // Event handlers
        c2cManager?.onCallStarted = { callData in
            // Analytics
            Analytics.track("call_started", properties: callData.dictionary)
        }
        
        c2cManager?.onCallEnded = { callData in
            // CRM update
            CRMService.shared.updateContact(with: callData)
        }
    }
    
    private func setupMenuBar() {
        statusItem = NSStatusBar.system.statusItem(
            withLength: NSStatusItem.squareLength
        )
        
        if let button = statusItem?.button {
            button.image = NSImage(systemSymbolName: "phone.fill", 
                                   accessibilityDescription: "Click to Call")
        }
        
        let menu = NSMenu()
        menu.addItem(NSMenuItem(
            title: "Quick Call",
            action: #selector(quickCall),
            keyEquivalent: "c"
        ))
        menu.addItem(NSMenuItem.separator())
        menu.addItem(NSMenuItem(
            title: "Quit",
            action: #selector(NSApplication.terminate(_:)),
            keyEquivalent: "q"
        ))
        
        statusItem?.menu = menu
    }
    
    @objc func quickCall() {
        c2cManager?.showCallWidget()
    }
}

// SwiftUI View Integration
import SwiftUI

struct ContentView: View {
    @StateObject private var c2c = ClickToCallManager.shared
    
    var body: some View {
        VStack {
            Button("Call Support") {
                c2c.initiateCall(number: "+60-3-1234-5678")
            }
            .clickToCallButton(style: .primary)
        }
        .frame(minWidth: 400, minHeight: 300)
    }
}`},d={web:{name:"Web / CRM",icon:I.Globe,color:"text-blue-400",bgColor:"bg-blue-500/20",borderColor:"border-blue-500/20"},android:{name:"Android",icon:$.Phone,color:"text-green-400",bgColor:"bg-green-500/20",borderColor:"border-green-500/20"},ios:{name:"iOS",icon:$.Phone,color:"text-purple-400",bgColor:"bg-purple-500/20",borderColor:"border-purple-500/20"},windows:{name:"Windows",icon:ae.default,color:"text-cyan-400",bgColor:"bg-cyan-500/20",borderColor:"border-cyan-500/20"},macos:{name:"macOS",icon:ae.default,color:"text-orange-400",bgColor:"bg-orange-500/20",borderColor:"border-orange-500/20"}},(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"glass-card p-8 rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-2xl border-l-4 border-l-purple-500",children:[(0,b.jsx)("h3",{className:"text-2xl font-black text-white mb-4",children:"Widget Generator"}),(0,b.jsx)("p",{className:"text-slate-400 mb-8",children:"Generate a highly customizable floating button or inline element for your website."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-black text-slate-500 uppercase tracking-widest mb-2 block",children:"Theme Interface"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["Standard","Glass","Neumorphic","Minimal"].map(a=>(0,b.jsx)("button",{className:`py-3 rounded-xl border text-[10px] uppercase font-black transition-all ${"Glass"===a?"bg-purple-500 border-purple-400 text-white shadow-lg shadow-purple-500/20":"bg-white/5 border-white/10 text-slate-400"}`,children:a},a))})]}),(0,b.jsx)("button",{onClick:()=>S(!0),className:"w-full bg-gradient-to-r from-purple-500 to-indigo-600 text-white py-4 rounded-2xl font-black uppercase text-sm tracking-widest shadow-xl shadow-purple-500/20 hover:scale-[1.02] transition-transform",children:"Generate Snippet"})]})]}),(0,b.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl",children:[(0,b.jsxs)("h4",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(at.Info,{className:"w-4 h-4 text-purple-400"}),"Integration Guide"]}),(0,b.jsx)("div",{className:"space-y-3",children:["Paste the <script> in your <head>","Initialize with your unique API Key","Customize callbacks for CRM logging","Enable WebRTC for browser-based audio"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,b.jsx)("span",{className:"w-6 h-6 rounded-full bg-purple-500/10 border border-purple-500/20 flex items-center justify-center text-xs font-black text-purple-400 flex-shrink-0",children:c+1}),a]},c))})]})]}),(0,b.jsxs)("div",{className:"glass-card bg-slate-900/40 border border-white/10 rounded-3xl overflow-hidden p-0 flex flex-col items-center justify-center min-h-[500px] relative shadow-2xl",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-500/10 via-transparent to-indigo-500/10"}),(0,b.jsxs)("div",{className:"text-center space-y-4 px-8 z-10",children:[(0,b.jsx)("h4",{className:"text-xs font-black text-purple-400 uppercase tracking-[0.3em]",children:"Live Preview"}),(0,b.jsxs)("div",{className:"w-64 h-96 bg-[#0a0a0a] rounded-[3rem] border-8 border-slate-800 shadow-2xl relative overflow-hidden flex flex-col items-center justify-center p-6 text-center transform rotate-2",children:[(0,b.jsx)("div",{className:"w-20 h-1 bg-slate-800 rounded-full absolute top-4"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-tr from-purple-500 to-indigo-600 rounded-full mx-auto flex items-center justify-center shadow-lg shadow-purple-500/40",children:(0,b.jsx)(bR.default,{className:"w-8 h-8 text-white animate-bounce"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white font-black text-sm uppercase",children:"Calling Local Agent"}),(0,b.jsx)("p",{className:"text-slate-500 text-[10px]",children:"Your identity is protected"})]}),(0,b.jsxs)("div",{className:"pt-8 grid grid-cols-2 gap-2 w-full",children:[(0,b.jsx)("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-purple-400 animate-[loading_2s_infinite]"})}),(0,b.jsx)("div",{className:"h-2 bg-white/10 rounded-full"})]})]})]}),(0,b.jsx)("p",{className:"text-slate-500 text-xs mt-4",children:"Demo showing mobile widget interface"})]})]})]}),R&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between sticky top-0 bg-slate-900 z-10",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Click to Call SDK Suite"}),(0,b.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400 hover:text-white transition-all",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"p-6 border-b border-white/10 bg-white/5",children:(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto",children:Object.entries(d).map(([a,c])=>(0,b.jsxs)("button",{onClick:()=>U(a),className:`px-4 py-2 rounded-lg font-bold text-sm whitespace-nowrap transition-all flex items-center gap-2 ${T===a?`${c.bgColor} ${c.color} border ${c.borderColor}`:"bg-white/5 text-slate-400 border border-white/10"}`,children:[(0,b.jsx)(c.icon,{className:"w-4 h-4"}),c.name]},a))})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"bg-slate-950 rounded-xl border border-white/10 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-slate-900",children:[(0,b.jsxs)("span",{className:"text-sm font-mono text-slate-400",children:["web"===T&&"JavaScript/TypeScript","android"===T&&"Kotlin","ios"===T&&"Swift","windows"===T&&"C# / .NET","macos"===T&&"Swift"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{let a;return a=c[T],void navigator.clipboard.writeText(a)},className:"px-3 py-1.5 bg-purple-500 hover:bg-purple-600 text-white rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[(0,b.jsx)(A.default,{className:"w-3 h-3"}),"Copy Code"]}),(0,b.jsxs)("button",{onClick:()=>{let a,b,d;return a=new Blob([c[T]],{type:"text/plain"}),b=URL.createObjectURL(a),void((d=document.createElement("a")).href=b,d.download=({web:"clicktocall-web-sdk.js",android:"clicktocall-android-sdk.aar",ios:"ClickToCallSDK.xcframework.zip",windows:"AcmeCPaaS.ClickToCall.nupkg",macos:"ClickToCallSDK.xcframework.zip"})[T],document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(b))},className:"px-3 py-1.5 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-xs font-bold flex items-center gap-2 transition-colors",children:[(0,b.jsx)(l.default,{className:"w-3 h-3"}),"Download SDK"]})]})]}),(0,b.jsx)("div",{className:"p-6 overflow-x-auto",children:(0,b.jsx)("pre",{className:"text-sm text-slate-300 font-mono leading-relaxed",children:(0,b.jsx)("code",{children:c[T]})})})]})}),(0,b.jsxs)("div",{className:"p-6 border-t border-white/10 bg-white/5",children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white mb-4",children:"SDK Features"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Call Initiation","Status Tracking","Number Masking","Analytics Hooks","Theme Customization","Multi-language","CRM Integration","WebRTC Support"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),a]},c))})]})]})})]});case"whisper":return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsxs)("div",{className:"glass-card p-10 rounded-[3rem] bg-gradient-to-br from-[#0f172a] to-[#1e293b] border border-white/10 backdrop-blur-3xl shadow-[0_35px_60px_-15px_rgba(0,0,0,0.3)] relative overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-cyan-500/10 rounded-full blur-[100px] -mr-32 -mt-32"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-12 relative z-10",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-8",children:[(0,b.jsxs)("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-cyan-500/10 border border-cyan-500/20 rounded-2xl",children:[(0,b.jsx)(bV.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("span",{className:"text-cyan-400 font-black text-xs uppercase tracking-widest",children:"Active Supervision"})]}),(0,b.jsxs)("h2",{className:"text-5xl font-black text-white tracking-tighter leading-[0.9]",children:["Real-time ",(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500",children:"Call Coaching"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-lg leading-relaxed max-w-lg",children:'Guide your agents without the customer hearing. Enable "Listen", "Whisper", or "Barge" modes for mission-critical customer support.'}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsx)("button",{onClick:()=>{W(!0)},className:"px-8 py-4 bg-cyan-500 text-white rounded-2xl font-black uppercase text-sm tracking-widest shadow-lg shadow-cyan-500/30 hover:bg-cyan-600 transition-all",children:"Start Monitoring"}),(0,b.jsx)("button",{onClick:()=>{Y(!0)},className:"px-8 py-4 bg-white/5 border border-white/10 text-white rounded-2xl font-black uppercase text-sm tracking-widest hover:bg-white/10 transition-all",children:"Setup Supervisor"})]})]}),(0,b.jsx)("div",{className:"w-full md:w-80 space-y-4",children:[{label:"Listen Mode",mode:"listen",icon:bj.default},{label:"Whisper Mode",mode:"whisper",icon:aO.Mic},{label:"Barge-In",mode:"barge",icon:aR.default}].map((a,c)=>(0,b.jsxs)("button",{onClick:()=>{var b;ab(b=a.mode),Z&&(ad(ac.map(a=>a.id===Z.id?{...a,mode:b}:a)),_({...Z,mode:b}))},className:`w-full p-5 rounded-3xl border transition-all duration-500 flex items-center justify-between ${aa===a.mode?"bg-cyan-500/10 border-cyan-500/50 shadow-[0_0_20px_rgba(6,182,212,0.15)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`p-3 rounded-2xl ${aa===a.mode?"bg-cyan-500 text-white":"bg-slate-800 text-slate-500"}`,children:(0,b.jsx)(a.icon,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:`font-bold ${aa===a.mode?"text-white":"text-slate-500"}`,children:a.label})]}),aa===a.mode&&(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-ping"})]},c))})]})]}),(0,b.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Active Whisper Sessions"}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:[ac.filter(a=>"active"===a.status).length," Active"]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[ac.filter(a=>"active"===a.status).map(a=>(0,b.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-cyan-500/20 flex items-center justify-center",children:(0,b.jsx)(bV.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold text-white",children:a.agentName}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:a.callId})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"listen"===a.mode?"bg-blue-500/20 text-blue-400":"whisper"===a.mode?"bg-cyan-500/20 text-cyan-400":"bg-purple-500/20 text-purple-400"}`,children:a.mode.toUpperCase()}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:a.duration}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void(ad(ac.map(a=>a.id===b?{...a,status:"ended"}:a)),Z?.id===b&&_(null))},className:"p-2 hover:bg-red-500/20 rounded-lg text-red-400 transition-all",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]})]}),a.notes.length>0&&(0,b.jsx)("div",{className:"mt-2 pt-2 border-t border-white/10",children:(0,b.jsxs)("p",{className:"text-xs text-slate-500",children:["Notes: ",a.notes.join(", ")]})})]},a.id)),0===ac.filter(a=>"active"===a.status).length&&(0,b.jsx)("div",{className:"text-center py-8 text-slate-500",children:'No active whisper sessions. Click "Start Monitoring" to begin.'})]})]}),V&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-3xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Select Call to Monitor"}),(0,b.jsx)("button",{onClick:()=>W(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"p-6 max-h-96 overflow-y-auto",children:(0,b.jsx)("div",{className:"space-y-3",children:af.map((a,c)=>(0,b.jsx)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-white",children:a.agentName}),(0,b.jsxs)("p",{className:"text-sm text-slate-400",children:[a.callId," â€¢ ",a.queue," â€¢ ",a.duration]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.customerNumber})]}),(0,b.jsx)("button",{onClick:()=>{let b;return b={id:ac.length+1,callId:a.callId,agentName:a.agentName,agentNumber:a.agentNumber||"+60 12-XXXX-XXXX",customerNumber:a.customerNumber,supervisorName:"Current User",mode:aa,status:"active",duration:"0m 00s",startTime:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),notes:[]},void(ad([...ac,b]),_(b),W(!1))},className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg text-sm font-bold transition-all",children:"Monitor"})]})},c))})})]})}),X&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Supervisor Configuration"}),(0,b.jsx)("button",{onClick:()=>Y(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Supervisor Name"}),(0,b.jsx)("input",{type:"text",placeholder:"John Smith",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Extension/Number"}),(0,b.jsx)("input",{type:"text",placeholder:"+60 12-XXXX-XXXX",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Assigned Agents"}),(0,b.jsxs)("select",{multiple:!0,className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white h-32",children:[(0,b.jsx)("option",{children:"Sarah Chen"}),(0,b.jsx)("option",{children:"Ahmad Rahman"}),(0,b.jsx)("option",{children:"Mei Ling"}),(0,b.jsx)("option",{children:"David Tan"}),(0,b.jsx)("option",{children:"Priya Kumar"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Default Mode"}),(0,b.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"listen",children:"Listen Only"}),(0,b.jsx)("option",{value:"whisper",children:"Whisper to Agent"}),(0,b.jsx)("option",{value:"barge",children:"Barge-In (3-way)"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>Y(!1),className:"flex-1 px-4 py-3 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-bold transition-all",children:"Save Configuration"}),(0,b.jsx)("button",{onClick:()=>Y(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})})]});case"tracking":let e;return e={totalCalls:ap.reduce((a,b)=>a+b.callCount,0),totalLeads:ap.reduce((a,b)=>a+b.conversions,0),avgConversionRate:(ap.reduce((a,b)=>a+b.conversionRate,0)/ap.length).toFixed(1),avgCostPerLead:(ap.reduce((a,b)=>a+b.costPerLead,0)/ap.length).toFixed(2)},(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Calls Tracked",value:e.totalCalls.toLocaleString(),icon:bR.default},{label:"Attributed Leads",value:e.totalLeads.toLocaleString(),icon:o.default},{label:"Conversion Rate",value:`${e.avgConversionRate}%`,icon:aR.default},{label:"Cost Per Lead",value:`RM ${e.avgCostPerLead}`,icon:aw.CreditCard}].map((a,c)=>(0,b.jsxs)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10 backdrop-blur-xl hover:translate-y-[-2px] transition-all",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(a.icon,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)(aJ.BarChart3,{className:"w-4 h-4 text-slate-700"})]}),(0,b.jsx)("p",{className:"text-[10px] uppercase font-black tracking-widest text-slate-500 mb-1",children:a.label}),(0,b.jsx)("p",{className:"text-2xl font-black text-white",children:a.value})]},c))}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Tracking Campaigns"}),(0,b.jsxs)("button",{onClick:()=>ak(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-bold flex items-center gap-2 transition-all",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Create Campaign"]})]}),(0,b.jsx)("div",{className:"glass-card p-6 rounded-2xl bg-white/5 border border-white/10",children:(0,b.jsx)("div",{className:"space-y-3",children:ap.map(a=>(0,b.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h4",{className:"font-bold text-white",children:a.name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${"active"===a.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.status.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[(0,b.jsxs)("span",{children:[a.source," â€¢ ",a.channel]}),(0,b.jsxs)("span",{children:[a.trackingNumbers.length," Number",a.trackingNumbers.length>1?"s":""]}),(0,b.jsxs)("span",{children:["Created ",a.created]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>am(a),className:"p-2 hover:bg-blue-500/20 rounded-lg text-blue-400 transition-all",title:"View Details",children:(0,b.jsx)(B.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void aq(ap.filter(a=>a.id!==b))},className:"p-2 hover:bg-red-500/20 rounded-lg text-red-400 transition-all",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-6 gap-4 pt-3 border-t border-white/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Calls"}),(0,b.jsx)("p",{className:"text-sm font-bold text-white",children:a.callCount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conversions"}),(0,b.jsx)("p",{className:"text-sm font-bold text-white",children:a.conversions})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conv Rate"}),(0,b.jsxs)("p",{className:"text-sm font-bold text-green-400",children:[a.conversionRate,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Avg Duration"}),(0,b.jsx)("p",{className:"text-sm font-bold text-white",children:a.avgDuration})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Cost/Lead"}),(0,b.jsxs)("p",{className:"text-sm font-bold text-orange-400",children:["RM ",a.costPerLead.toFixed(2)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"ROI"}),(0,b.jsxs)("p",{className:"text-sm font-bold text-cyan-400",children:[a.roi,"x"]})]})]})]},a.id))})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 glass-card rounded-3xl bg-white/5 border border-white/10 backdrop-blur-xl overflow-hidden min-h-[400px]",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-bold text-white uppercase tracking-widest text-xs",children:"Attributed Source Performance"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400"}),(0,b.jsx)("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Inbound Volume"})]})]}),(0,b.jsx)("div",{className:"p-10 h-64 flex items-end gap-1",children:Array.from({length:40}).map((a,c)=>(0,b.jsx)("div",{className:"flex-1 bg-blue-500/20 hover:bg-blue-500/50 transition-all rounded-t-sm",style:{height:`${20+80*Math.random()}%`}},c))}),(0,b.jsxs)("div",{className:"p-6 bg-white/5 border-t border-white/10 grid grid-cols-3 gap-4 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-blue-500",children:"PPC Google"}),(0,b.jsx)("p",{className:"text-lg font-black text-white",children:"42%"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-purple-500",children:"Facebook Ads"}),(0,b.jsx)("p",{className:"text-lg font-black text-white",children:"28%"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 font-bold uppercase mb-1 underline decoration-green-500",children:"Organic SEO"}),(0,b.jsx)("p",{className:"text-lg font-black text-white",children:"30%"})]})]})]}),(0,b.jsxs)("div",{className:"glass-card p-8 rounded-3xl bg-gradient-to-br from-blue-600 to-indigo-700 border border-white/20 text-white shadow-2xl relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl group-hover:bg-white/20 transition-all"}),(0,b.jsxs)("h4",{className:"text-2xl font-black mb-4 leading-tight",children:["Export ",(0,b.jsx)("br",{}),"Advanced ",(0,b.jsx)("br",{}),"Report"]}),(0,b.jsx)("p",{className:"text-blue-100 text-sm mb-8",children:"Deep analytics including call heatmaps, agent performance ranking, and ROI attribution exportable in CSV, PDF, or JSON API."}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("button",{onClick:()=>{let a=new Blob([`Campaign Name,Source,Channel,Calls,Conversions,Conv Rate,Avg Duration,Cost Per Lead (MYR),Revenue (MYR),ROI
${ap.map(a=>`${a.name},${a.source},${a.channel},${a.callCount},${a.conversions},${a.conversionRate}%,${a.avgDuration},RM ${a.costPerLead.toFixed(2)},RM ${a.totalRevenue.toLocaleString()},${a.roi}x`).join("\n")}`],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`call-tracking-stats-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b)},className:"w-full py-4 bg-white text-blue-900 rounded-2xl font-black uppercase text-xs tracking-widest shadow-xl flex items-center justify-center gap-2 hover:bg-blue-50 transition-all",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"})," Download Stats"]}),(0,b.jsx)("button",{onClick:()=>{ai(!0)},className:"w-full py-4 bg-blue-400/20 border border-white/20 text-white rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-blue-400/30 transition-all",children:"Schedule Email"})]})]})]}),aj&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Create Tracking Campaign"}),(0,b.jsx)("button",{onClick:()=>ak(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Campaign Name"}),(0,b.jsx)("input",{type:"text",value:an.name,onChange:a=>ao({...an,name:a.target.value}),placeholder:"Q1 2024 Google PPC",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Source"}),(0,b.jsx)("input",{type:"text",value:an.source,onChange:a=>ao({...an,source:a.target.value}),placeholder:"Google Ads",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Channel"}),(0,b.jsxs)("select",{value:an.channel,onChange:a=>ao({...an,channel:a.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select Channel"}),(0,b.jsx)("option",{value:"PPC",children:"PPC"}),(0,b.jsx)("option",{value:"Social",children:"Social Media"}),(0,b.jsx)("option",{value:"SEO",children:"SEO"}),(0,b.jsx)("option",{value:"Email",children:"Email"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Tracking Numbers (comma separated)"}),(0,b.jsx)("input",{type:"text",value:an.trackingNumbers,onChange:a=>ao({...an,trackingNumbers:a.target.value}),placeholder:"+60 3-2100-0001, +60 3-2100-0002",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Conversion Goal"}),(0,b.jsx)("input",{type:"text",value:an.goal,onChange:a=>ao({...an,goal:a.target.value}),placeholder:"Sales, Lead Generation, etc.",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>{if(an.name&&an.source){let a={id:ap.length+1,name:an.name,trackingNumbers:an.trackingNumbers.split(",").map(a=>a.trim()).filter(a=>a),source:an.source,channel:an.channel||"Other",callCount:0,conversions:0,conversionRate:0,avgDuration:"0m 00s",costPerLead:0,totalRevenue:0,roi:0,status:"active",created:new Date().toISOString().split("T")[0]};aq([...ap,a]),ao({name:"",source:"",channel:"",trackingNumbers:"",goal:""}),ak(!1)}},className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold transition-all",children:"Create Campaign"}),(0,b.jsx)("button",{onClick:()=>ak(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})}),al&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-3xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:al.name}),(0,b.jsx)("button",{onClick:()=>am(null),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Source"}),(0,b.jsx)("p",{className:"text-lg font-bold text-white",children:al.source})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-1",children:"Channel"}),(0,b.jsx)("p",{className:"text-lg font-bold text-white",children:al.channel})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-2",children:"Tracking Numbers"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:al.trackingNumbers.map((a,c)=>(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-sm font-mono",children:a},c))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 bg-white/5 rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Total Calls"}),(0,b.jsx)("p",{className:"text-2xl font-black text-white",children:al.callCount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conversions"}),(0,b.jsx)("p",{className:"text-2xl font-black text-green-400",children:al.conversions})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Conv Rate"}),(0,b.jsxs)("p",{className:"text-2xl font-black text-cyan-400",children:[al.conversionRate,"%"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Avg Duration"}),(0,b.jsx)("p",{className:"text-lg font-bold text-white",children:al.avgDuration})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Cost Per Lead"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-orange-400",children:["RM ",al.costPerLead.toFixed(2)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"ROI"}),(0,b.jsxs)("p",{className:"text-lg font-bold text-green-400",children:[al.roi,"x"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Total Revenue"}),(0,b.jsxs)("p",{className:"text-3xl font-black text-white",children:["RM ",al.totalRevenue.toLocaleString()]})]})]})]})}),ah&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-lg",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Schedule Report Email"}),(0,b.jsx)("button",{onClick:()=>ai(!1),className:"p-2 hover:bg-white/10 rounded-lg text-slate-400",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Email Address"}),(0,b.jsx)("input",{type:"email",placeholder:"reports@company.com",className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Frequency"}),(0,b.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"daily",children:"Daily"}),(0,b.jsx)("option",{value:"weekly",children:"Weekly"}),(0,b.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-400 mb-2 block",children:"Report Format"}),(0,b.jsxs)("select",{className:"w-full bg-white/5 border border-white/10 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"csv",children:"CSV"}),(0,b.jsx)("option",{value:"pdf",children:"PDF"}),(0,b.jsx)("option",{value:"json",children:"JSON"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>ai(!1),className:"flex-1 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold transition-all",children:"Schedule Report"}),(0,b.jsx)("button",{onClick:()=>ai(!1),className:"px-4 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 transition-all",children:"Cancel"})]})]})]})})]});default:return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in zoom-in duration-300",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-white/5 border border-white/10 rounded-3xl flex items-center justify-center mb-6 backdrop-blur-xl",children:(0,b.jsx)(aR.default,{className:"w-10 h-10 text-cyan-400 animate-pulse"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Module Under Construction"}),(0,b.jsx)("p",{className:"text-slate-400 max-w-sm",children:"We are currently implementing the premium glassy interface for this module. Stay tuned!"})]})}})()})]})]}),q&&(0,b.jsx)(ch,{onClose:()=>r(!1)}),(0,b.jsx)(bQ.default,{id:"a54f60f4c5f8d68c",children:'.glass-card.jsx-a54f60f4c5f8d68c{position:relative;overflow:hidden}.glass-card.jsx-a54f60f4c5f8d68c:before{content:"";background:linear-gradient(90deg,#0000,#ffffff0d,#0000);width:50%;height:100%;transition:all .75s;position:absolute;top:0;left:-100%;transform:skew(-25deg)}.glass-card.jsx-a54f60f4c5f8d68c:hover:before{left:150%}.nav-glass-btn.jsx-a54f60f4c5f8d68c{border:1px solid #fff0}.nav-glass-btn.jsx-a54f60f4c5f8d68c:hover{border:1px solid #ffffff1a}'})]}):null}var m=m,e=e,ao=ao,y=y,u=u,cj=a.i(6053),cj=cj,ck=a.i(96496),ck=ck,cl=a.i(48114),cl=cl,a5=a5,as=as,bS=bS,B=B,be=be,bp=bp,bj=bj,cm=a.i(71652),cm=cm,cn=a.i(20974),cn=cn;function co(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)("unified-desktop"),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[x,z]=(0,c.useState)([]),[A,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[I,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(null),[ah,ai]=(0,c.useState)(null),[aj,ak]=(0,c.useState)(null),[al,am]=(0,c.useState)(null),[an,ap]=(0,c.useState)(null),[aq,at]=(0,c.useState)(null),[au,av]=(0,c.useState)(""),[aw,ax]=(0,c.useState)(!1),[ay,az]=(0,c.useState)(!1),[aA,aB]=(0,c.useState)(!1),[aC,aD]=(0,c.useState)(0),[aE,aF]=(0,c.useState)({campaign_name:"",campaign_description:"",dialer_type:"predictive",max_call_attempts:3,retry_delay_minutes:30,calling_hours_start:"09:00",calling_hours_end:"18:00",timezone:"Asia/Kuala_Lumpur",scheduled_start_date:"",scheduled_end_date:"",script_template:""}),[aG,aI]=(0,c.useState)({customer_name:"",primary_phone:"",primary_email:"",secondary_phone:"",secondary_email:"",preferred_channel:"voice",customer_tier:"standard",company_name:"",job_title:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Malaysia",date_of_birth:"",notes:"",tags:"",preferred_language:"English",timezone:"Asia/Kuala_Lumpur",custom_field1:"",custom_field2:""}),[aJ,aK]=(0,c.useState)({rule_name:"",rule_description:"",channel_type:"all",routing_strategy:"round_robin",priority:5,target_queue:"",target_skill:"",overflow_action:"voicemail",overflow_threshold_seconds:300,business_hours_only:!1,customer_tier_filter:"",min_skill_level:1,max_wait_time:600,enable_callback:!0,callback_threshold:180,agent_selection_criteria:"longest_idle",backup_queue:"",time_based_routing:!1,time_start:"09:00",time_end:"18:00",days_of_week:["monday","tuesday","wednesday","thursday","friday"]}),[aL,aM]=(0,c.useState)({agent_name:"",skill_name:"",skill_category:"language",proficiency_level:5,is_active:!0}),[aN,aP]=(0,c.useState)({priority_name:"",priority_description:"",priority_level:5,boost_percentage:50,is_active:!0,condition_type:"customer_tier",condition_value:"",wait_time_minutes:3,lifetime_value_min:0,interaction_count_min:0}),[aQ,aR]=(0,c.useState)({menu_name:"",menu_description:"",greeting_text:"",greeting_audio_url:"",use_conversational_ai:!1,ai_model:"gpt-4",timeout_seconds:10,max_retries:3,invalid_option_message:"Invalid option. Please try again.",timeout_message:"We did not receive your response. Please try again.",is_active:!0}),[aS,aT]=(0,c.useState)([]);(0,c.useEffect)(()=>{a&&aU()},[a]),(0,c.useEffect)(()=>{i&&aV()},[i]);let aU=async()=>{if(!a)return;let{data:b,error:c}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a.id).maybeSingle();b&&!c?j(b.tenant_id):console.error("Error fetching tenant_id:",c)},aV=async()=>{h(!0);try{await Promise.all([aW(),aX(),aY(),aZ(),a$(),a_(),a0(),a1(),a3(),a4()])}catch(a){console.error("Error loading data:",a)}finally{h(!1)}},aW=async()=>{try{let{data:a,error:b}=await n.db.from("cc_customer_context").select("*").order("total_interactions",{ascending:!1});if(b)throw b;l(a||[])}catch(a){console.error("Exception in loadCustomers:",a),l([])}},aX=async()=>{try{let{data:a,error:b}=await n.db.from("cc_unified_queues").select("*").order("priority",{ascending:!1});if(b)throw b;p(a||[])}catch(a){console.error("Exception in loadQueueItems:",a),p([])}},aY=async()=>{try{let{data:a,error:b}=await n.db.from("cc_ivr_menus").select("*").order("menu_name");if(b)throw b;r(a||[])}catch(a){console.error("Exception in loadIVRMenus:",a),r([])}},aZ=async()=>{try{let{data:a,error:b}=await n.db.from("cc_ivr_menu_options").select("*").order("priority");if(b)throw b;t(a||[])}catch(a){console.error("Exception in loadIVROptions:",a),t([])}},a$=async()=>{try{let{data:a,error:b}=await n.db.from("cc_acd_routing_rules").select("*").order("priority",{ascending:!1});if(b)throw b;z(a||[])}catch(a){console.error("Exception in loadACDRules:",a),z([])}},a_=async()=>{try{let{data:a,error:b}=await n.db.from("cc_agent_skills").select("*").order("agent_name");if(b)throw b;C(a||[])}catch(a){console.error("Exception in loadAgentSkills:",a),C([])}},a0=async()=>{try{let{data:a,error:b}=await n.db.from("cc_routing_priorities").select("*").order("priority_level",{ascending:!1});if(b)throw b;E(a||[])}catch(a){console.error("Exception in loadPriorityRules:",a),E([])}},a1=async()=>{try{let{data:a,error:b}=await n.db.from("cc_dialer_campaigns").select("*").order("campaign_name");if(b)throw b;G(a||[]),a&&a.length>0&&!P&&(Q(a[0].id),a2(a[0].id))}catch(a){console.error("Exception in loadDialerCampaigns:",a),G([])}},a2=async a=>{if(a)try{let{data:b,error:c}=await n.db.from("cc_dialer_call_lists").select("*").eq("campaign_id",a).order("priority",{ascending:!1});if(c)throw c;K(b||[])}catch(a){console.error("Exception in loadCallLists:",a),K([])}},a3=async()=>{try{let{data:a,error:b}=await n.db.from("cc_dialer_sessions").select("*").eq("session_status","active").order("started_at",{ascending:!1});if(b)throw b;M(a||[])}catch(a){console.error("Exception in loadDialerSessions:",a),M([])}},a4=async()=>{try{let{data:a,error:b}=await n.db.from("cc_dialer_call_results").select("*").order("dialed_at",{ascending:!1}).limit(50);if(b)throw b;O(a||[])}catch(a){console.error("Exception in loadCallResults:",a),O([])}},a6=async()=>{if(!i)return void alert("Unable to determine tenant. Please try logging out and back in.");try{if(aq){let{error:a}=await n.db.from("cc_dialer_campaigns").update({campaign_name:aE.campaign_name,campaign_description:aE.campaign_description,dialer_type:aE.dialer_type,max_call_attempts:aE.max_call_attempts,retry_delay_minutes:aE.retry_delay_minutes,calling_hours_start:aE.calling_hours_start,calling_hours_end:aE.calling_hours_end,timezone:aE.timezone,scheduled_start_date:aE.scheduled_start_date||null,scheduled_end_date:aE.scheduled_end_date||null,script_template:aE.script_template}).eq("id",aq);if(a)throw a}else{let{data:a,error:b}=await n.db.from("cc_dialer_campaigns").insert({tenant_id:i,campaign_name:aE.campaign_name,campaign_description:aE.campaign_description,dialer_type:aE.dialer_type,status:"draft",max_call_attempts:aE.max_call_attempts,retry_delay_minutes:aE.retry_delay_minutes,calling_hours_start:aE.calling_hours_start,calling_hours_end:aE.calling_hours_end,timezone:aE.timezone,scheduled_start_date:aE.scheduled_start_date||null,scheduled_end_date:aE.scheduled_end_date||null,script_template:aE.script_template}).select().single();if(b)throw b}U(!1),at(null),aF({campaign_name:"",campaign_description:"",dialer_type:"predictive",max_call_attempts:3,retry_delay_minutes:30,calling_hours_start:"09:00",calling_hours_end:"18:00",timezone:"Asia/Kuala_Lumpur",scheduled_start_date:"",scheduled_end_date:"",script_template:""}),await a1()}catch(a){alert("Failed to save dialer campaign: "+a.message),console.error("Error saving dialer campaign:",a)}},a7=async(a,b)=>{let{error:c}=await n.db.from("cc_acd_routing_rules").update({is_active:!b}).eq("id",a);c?alert("Failed to toggle rule: "+c.message):a$()},a8=async(a,b)=>{let{error:c}=await n.db.from("cc_routing_priorities").update({is_active:!b}).eq("id",a);c?alert("Failed to toggle rule: "+c.message):a0()},a9=async(a,b)=>{let{error:c}=await n.db.from("cc_agent_skills").update({is_active:!b}).eq("id",a);c?alert("Failed to toggle skill: "+c.message):a_()},ba=async()=>{if(!aL.agent_name||!aL.skill_name)return void alert("Please fill in Agent Name and Skill Name");try{if(aj){let{error:a}=await n.db.from("cc_agent_skills").update({agent_name:aL.agent_name,skill_name:aL.skill_name,skill_category:aL.skill_category,proficiency_level:aL.proficiency_level,is_active:aL.is_active,updated_at:new Date().toISOString()}).eq("id",aj);if(a)throw a}else{let{error:a}=await n.db.from("cc_agent_skills").insert({tenant_id:"11111111-1111-1111-1111-111111111111",agent_id:"22222222-2222-2222-2222-222222222222",agent_name:aL.agent_name,skill_name:aL.skill_name,skill_category:aL.skill_category,proficiency_level:aL.proficiency_level,is_active:aL.is_active});if(a)throw a}aa(!1),ak(null),a_()}catch(a){alert("Failed to save agent skill: "+a.message)}},bb=async a=>{if(confirm("Are you sure you want to delete this skill?"))try{let{error:b}=await n.db.from("cc_agent_skills").delete().eq("id",a);if(b)throw b;a_()}catch(a){alert("Failed to delete skill: "+a.message)}},bc=async()=>{if(!aN.priority_name)return void alert("Please fill in Priority Rule Name");let a={};switch(aN.condition_type){case"customer_tier":if(!aN.condition_value)return void alert("Please select a customer tier");a={customer_tier:aN.condition_value};break;case"wait_time":a={wait_time_minutes:`>${aN.wait_time_minutes}`};break;case"lifetime_value":a={lifetime_value_min:aN.lifetime_value_min};break;case"interaction_count":a={interaction_count_min:aN.interaction_count_min}}try{if(al){let{error:b}=await n.db.from("cc_routing_priorities").update({priority_name:aN.priority_name,priority_description:aN.priority_description,priority_level:aN.priority_level,boost_percentage:aN.boost_percentage,conditions:a,is_active:aN.is_active,updated_at:new Date().toISOString()}).eq("id",al);if(b)throw b}else{let{error:b}=await n.db.from("cc_routing_priorities").insert({tenant_id:null,priority_name:aN.priority_name,priority_description:aN.priority_description,priority_level:aN.priority_level,boost_percentage:aN.boost_percentage,conditions:a,is_active:aN.is_active});if(b)throw b}ac(!1),am(null),a0()}catch(a){alert("Failed to save priority rule: "+a.message)}},bd=async a=>{if(confirm("Are you sure you want to delete this priority rule?"))try{let{error:b}=await n.db.from("cc_routing_priorities").delete().eq("id",a);if(b)throw b;a0()}catch(a){alert("Failed to delete priority rule: "+a.message)}},bf=async a=>{ap(a.id),aR({menu_name:a.menu_name,menu_description:a.menu_description||"",greeting_text:a.greeting_text,greeting_audio_url:a.greeting_audio_url||"",use_conversational_ai:a.use_conversational_ai||!1,ai_model:a.ai_model||"gpt-4",timeout_seconds:a.timeout_seconds||10,max_retries:a.max_retries||3,invalid_option_message:a.invalid_option_message||"Invalid option. Please try again.",timeout_message:a.timeout_message||"We did not receive your response. Please try again.",is_active:a.is_active});try{let{data:b,error:c}=await n.db.from("cc_ivr_menu_options").select("*").eq("ivr_menu_id",a.id);if(c)throw c;let d=(b||[]).map(a=>({option_key:a.option_key,option_label:a.option_label,action_type:a.action_type,action_target:a.action_target||"",ai_intent:a.ai_intent||"",priority:a.priority||1,is_active:a.is_active}));aT(d)}catch(a){console.error("Failed to load IVR options:",a.message),aT([])}ae(!0)},bg=async()=>{if(!aQ.menu_name||!aQ.greeting_text)return void alert("Please fill in Menu Name and Greeting Text");if(0===aS.length)return void alert("Please add at least one menu option");try{let a=an;if(an){let{error:a}=await n.db.from("cc_ivr_menus").update({menu_name:aQ.menu_name,menu_description:aQ.menu_description,greeting_text:aQ.greeting_text,greeting_audio_url:aQ.greeting_audio_url||null,use_conversational_ai:aQ.use_conversational_ai,ai_model:aQ.ai_model,timeout_seconds:aQ.timeout_seconds,max_retries:aQ.max_retries,invalid_option_message:aQ.invalid_option_message,timeout_message:aQ.timeout_message,is_active:aQ.is_active,updated_at:new Date().toISOString()}).eq("id",an);if(a)throw a;await n.db.from("cc_ivr_menu_options").delete().eq("ivr_menu_id",an)}else{let{data:b,error:c}=await n.db.from("cc_ivr_menus").insert({tenant_id:null,menu_name:aQ.menu_name,menu_description:aQ.menu_description,greeting_text:aQ.greeting_text,greeting_audio_url:aQ.greeting_audio_url||null,use_conversational_ai:aQ.use_conversational_ai,ai_model:aQ.ai_model,timeout_seconds:aQ.timeout_seconds,max_retries:aQ.max_retries,invalid_option_message:aQ.invalid_option_message,timeout_message:aQ.timeout_message,is_active:aQ.is_active}).select().single();if(c)throw c;a=b.id}let b=aS.map(b=>({tenant_id:null,ivr_menu_id:a,option_key:b.option_key,option_label:b.option_label,action_type:b.action_type,action_target:b.action_target||null,ai_intent:b.ai_intent||null,priority:b.priority,is_active:b.is_active})),{error:c}=await n.db.from("cc_ivr_menu_options").insert(b);if(c)throw c;ae(!1),ap(null),aT([]),aY()}catch(a){alert("Failed to save IVR menu: "+a.message)}},bh=async a=>{if(confirm("Are you sure you want to delete this IVR menu? This will also delete all associated menu options."))try{await n.db.from("cc_ivr_menu_options").delete().eq("ivr_menu_id",a);let{error:b}=await n.db.from("cc_ivr_menus").delete().eq("id",a);if(b)throw b;aY()}catch(a){alert("Failed to delete IVR menu: "+a.message)}},bi=a=>{"traditional"===a?aT([...aS,{option_key:String(aS.filter(a=>!a.option_key.startsWith("AI")).length+1),option_label:"",action_type:"transfer_queue",action_target:"",ai_intent:"",priority:1,is_active:!0}]):aT([...aS,{option_key:`AI_INTENT_${aS.filter(a=>a.option_key.startsWith("AI")).length+1}`,option_label:"",action_type:"ai_intent",action_target:"",ai_intent:"",priority:1,is_active:!0}])},bk=(a,b,c)=>{let d=[...aS];d[a]={...d[a],[b]:c},aT(d)},bl=async a=>{if(confirm("Are you sure you want to delete this dialer campaign? This will also delete all associated call lists and sessions."))try{await n.db.from("cc_outbound_call_lists").delete().eq("campaign_id",a),await n.db.from("cc_dialer_sessions").delete().eq("campaign_id",a);let{error:b}=await n.db.from("cc_outbound_dialers").delete().eq("id",a);if(b)throw b;P===a&&Q(null),a1()}catch(a){alert("Failed to delete dialer campaign: "+a.message)}},bm=async()=>{if(!aG.customer_name||!aG.primary_phone||!aG.primary_email)return void alert("Please fill in all required fields: Name, Phone, and Email");if(!i)return void alert("Unable to determine tenant. Please try logging out and back in.");let a=aG.tags?aG.tags.split(",").map(a=>a.trim()):[],b={};aG.custom_field1&&(b.field1=aG.custom_field1),aG.custom_field2&&(b.field2=aG.custom_field2),aG.company_name&&(b.company_name=aG.company_name),aG.job_title&&(b.job_title=aG.job_title),aG.date_of_birth&&(b.date_of_birth=aG.date_of_birth),aG.preferred_language&&(b.preferred_language=aG.preferred_language),aG.timezone&&(b.timezone=aG.timezone),aG.notes&&(b.notes=aG.notes),aG.address_line1&&(b.address={line1:aG.address_line1,line2:aG.address_line2,city:aG.city,state:aG.state,postal_code:aG.postal_code,country:aG.country});try{if(af){let{error:c}=await n.db.from("cc_customer_context").update({customer_name:aG.customer_name,primary_phone:aG.primary_phone,primary_email:aG.primary_email,secondary_phone:aG.secondary_phone||null,secondary_email:aG.secondary_email||null,preferred_channel:aG.preferred_channel,customer_tier:aG.customer_tier,tags:a,custom_fields:b,updated_at:new Date().toISOString()}).eq("id",af);c?alert("Failed to update customer: "+c.message):(alert("Customer updated successfully!"),W(!1),ag(null),bn(),aW())}else{let c=`CUST-${String(k.length+100).padStart(5,"0")}`,{error:d}=await n.db.from("cc_customer_context").insert({tenant_id:i,customer_id:c,customer_name:aG.customer_name,primary_phone:aG.primary_phone,primary_email:aG.primary_email,secondary_phone:aG.secondary_phone||null,secondary_email:aG.secondary_email||null,preferred_channel:aG.preferred_channel,customer_tier:aG.customer_tier,lifetime_value:0,total_interactions:0,last_interaction_at:new Date().toISOString(),average_satisfaction:0,tags:a,custom_fields:b});d?alert("Failed to add customer: "+d.message):(alert("Customer added successfully!"),W(!1),bn(),aW())}}catch(a){alert("Failed to save customer. Please try again.")}},bn=()=>{aI({customer_name:"",primary_phone:"",primary_email:"",secondary_phone:"",secondary_email:"",preferred_channel:"voice",customer_tier:"standard",company_name:"",job_title:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Malaysia",date_of_birth:"",notes:"",tags:"",preferred_language:"English",timezone:"Asia/Kuala_Lumpur",custom_field1:"",custom_field2:""})},bo=async a=>{let b=a.custom_fields||{},c=b.address||{},d=Array.isArray(a.tags)?a.tags.join(", "):"";aI({customer_name:a.customer_name||"",primary_phone:a.primary_phone||"",primary_email:a.primary_email||"",secondary_phone:a.secondary_phone||"",secondary_email:a.secondary_email||"",preferred_channel:a.preferred_channel||"voice",customer_tier:a.customer_tier||"standard",company_name:b.company_name||"",job_title:b.job_title||"",address_line1:c.line1||"",address_line2:c.line2||"",city:c.city||"",state:c.state||"",postal_code:c.postal_code||"",country:c.country||"Malaysia",date_of_birth:b.date_of_birth||"",notes:b.notes||"",tags:d,preferred_language:b.preferred_language||"English",timezone:b.timezone||"Asia/Kuala_Lumpur",custom_field1:b.field1||"",custom_field2:b.field2||""}),ag(a.id),W(!0)},bq=async a=>{if(!confirm("Are you sure you want to delete this customer?"))return;let{error:b}=await n.db.from("cc_customer_context").delete().eq("id",a);b?alert("Failed to delete customer: "+b.message):aW()},br=async()=>{if(!aJ.rule_name)return void alert("Please enter a rule name");let a={};aJ.business_hours_only&&(a.business_hours_only=!0),aJ.customer_tier_filter&&(a.customer_tier=aJ.customer_tier_filter),aJ.min_skill_level>1&&(a.min_skill_level=aJ.min_skill_level),600!==aJ.max_wait_time&&(a.max_wait_time=aJ.max_wait_time),aJ.time_based_routing&&(a.time_based={enabled:!0,start_time:aJ.time_start,end_time:aJ.time_end,days_of_week:aJ.days_of_week}),aJ.enable_callback&&(a.callback={enabled:!0,threshold_seconds:aJ.callback_threshold}),"longest_idle"!==aJ.agent_selection_criteria&&(a.agent_selection=aJ.agent_selection_criteria),aJ.backup_queue&&(a.backup_queue=aJ.backup_queue);let b={rule_name:aJ.rule_name,rule_description:aJ.rule_description,channel_type:"all"===aJ.channel_type?null:aJ.channel_type,routing_strategy:aJ.routing_strategy,priority:aJ.priority,target_queue:aJ.target_queue||null,target_skill:aJ.target_skill||null,overflow_action:aJ.overflow_action,overflow_threshold_seconds:aJ.overflow_threshold_seconds,conditions:Object.keys(a).length>0?a:null};try{if(ah){let{error:a}=await n.db.from("cc_acd_routing_rules").update(b).eq("id",ah);a?alert("Failed to update ACD rule: "+a.message):(alert("ACD Routing Rule updated successfully!"),Y(!1),ai(null),bs(),a$())}else{let{error:a}=await n.db.from("cc_acd_routing_rules").insert({tenant_id:null,...b,is_active:!0});a?alert("Failed to create ACD rule: "+a.message):(alert("ACD Routing Rule created successfully!"),Y(!1),bs(),a$())}}catch(a){alert("Failed to save ACD rule. Please try again.")}},bs=()=>{aK({rule_name:"",rule_description:"",channel_type:"all",routing_strategy:"round_robin",priority:5,target_queue:"",target_skill:"",overflow_action:"voicemail",overflow_threshold_seconds:300,business_hours_only:!1,customer_tier_filter:"",min_skill_level:1,max_wait_time:600,enable_callback:!0,callback_threshold:180,agent_selection_criteria:"longest_idle",backup_queue:"",time_based_routing:!1,time_start:"09:00",time_end:"18:00",days_of_week:["monday","tuesday","wednesday","thursday","friday"]})},bt=async a=>{let b=a.conditions||{},c=b.time_based||{},d=b.callback||{};aK({rule_name:a.rule_name||"",rule_description:a.rule_description||"",channel_type:a.channel_type||"all",routing_strategy:a.routing_strategy||"round_robin",priority:a.priority||5,target_queue:a.target_queue||"",target_skill:a.target_skill||"",overflow_action:a.overflow_action||"voicemail",overflow_threshold_seconds:a.overflow_threshold_seconds||300,business_hours_only:b.business_hours_only||!1,customer_tier_filter:b.customer_tier||"",min_skill_level:b.min_skill_level||1,max_wait_time:b.max_wait_time||600,enable_callback:d.enabled||!1,callback_threshold:d.threshold_seconds||180,agent_selection_criteria:b.agent_selection||"longest_idle",backup_queue:b.backup_queue||"",time_based_routing:c.enabled||!1,time_start:c.start_time||"09:00",time_end:c.end_time||"18:00",days_of_week:c.days_of_week||["monday","tuesday","wednesday","thursday","friday"]}),ai(a.id),Y(!0)},bu=async a=>{if(!confirm("Are you sure you want to delete this ACD routing rule?"))return;let{error:b}=await n.db.from("cc_acd_routing_rules").delete().eq("id",a);b?alert("Failed to delete ACD rule: "+b.message):(a$(),alert("ACD Routing Rule deleted successfully!"))},bv=a=>{switch(a){case"vip":return"bg-purple-500/20 text-purple-400";case"premium":return"bg-blue-500/20 text-blue-400";case"standard":return"bg-green-500/20 text-green-400";default:return"bg-gray-500/20 text-gray-400"}},bw=a=>{if(a<60)return`${a}s`;let b=Math.floor(a/60);return`${b}m ${a%60}s`};if(g)return(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Loading contact center data..."})});let bx=A.reduce((a,b)=>(a[b.agent_name]||(a[b.agent_name]=[]),a[b.agent_name].push(b),a),{});return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contact Center"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Omnichannel unified desktop with intelligent routing"}),(0,b.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:["Current Tenant: ",(0,b.jsx)("span",{className:"text-blue-400 font-medium",children:"Platform"})]})]}),(0,b.jsxs)("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg",children:[(0,b.jsx)(be.default,{className:"w-5 h-5"}),"Dialpad"]})]})}),(0,b.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,b.jsxs)("button",{onClick:()=>f("unified-desktop"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"unified-desktop"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(m.default,{className:"w-4 h-4 inline mr-2"}),"Unified Desktop"]}),(0,b.jsxs)("button",{onClick:()=>f("customer-context"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"customer-context"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(e.default,{className:"w-4 h-4 inline mr-2"}),"Customer Context"]}),(0,b.jsxs)("button",{onClick:()=>f("acd-routing"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"acd-routing"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(a5.default,{className:"w-4 h-4 inline mr-2"}),"ACD Routing"]}),(0,b.jsxs)("button",{onClick:()=>f("agent-skills"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"agent-skills"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(ao.default,{className:"w-4 h-4 inline mr-2"}),"Agent Skills"]}),(0,b.jsxs)("button",{onClick:()=>f("priority-routing"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"priority-routing"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(ar.TrendingUp,{className:"w-4 h-4 inline mr-2"}),"Priority Routing"]}),(0,b.jsxs)("button",{onClick:()=>f("ivr-config"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"ivr-config"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)($.Phone,{className:"w-4 h-4 inline mr-2"}),"IVR Configuration"]}),(0,b.jsxs)("button",{onClick:()=>f("outbound-dialers"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors ${"outbound-dialers"===d?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(bS.default,{className:"w-4 h-4 inline mr-2"}),"Outbound Dialers"]})]}),"unified-desktop"===d&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Total in Queue"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:o.length})]}),(0,b.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Waiting"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:o.filter(a=>"waiting"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Active"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:o.filter(a=>"assigned"===a.status).length})]}),(0,b.jsxs)("div",{className:"bg-gray-700 p-4 rounded-lg",children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Avg Wait Time"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:o.length>0?bw(Math.floor(o.reduce((a,b)=>a+b.wait_time_seconds,0)/o.length)):"0s"})]})]})}),0===o.length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400",children:"No items in queue"})}):(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Channel"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Customer"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Queue"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Priority"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Wait Time"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Agent"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-700",children:o.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("div",{className:`inline-flex items-center px-3 py-1 rounded-full ${(a=>{switch(a){case"voice":return"bg-blue-600";case"sms":return"bg-green-600";case"whatsapp":return"bg-emerald-600";case"chat":return"bg-purple-600";case"email":return"bg-orange-600";default:return"bg-gray-600"}})(a.channel_type)} text-white`,children:(0,b.jsx)("span",{className:"text-xs font-medium uppercase",children:a.channel_type})})}),(0,b.jsxs)("td",{className:"px-4 py-3",children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.customer_name}),(0,b.jsx)("div",{className:"text-gray-400 text-sm",children:a.customer_phone})]}),(0,b.jsx)("td",{className:"px-4 py-3 text-gray-300",children:a.queue_name}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${a.priority>=8?"bg-red-500/20 text-red-400":a.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["P",a.priority]})}),(0,b.jsx)("td",{className:"px-4 py-3 text-gray-300",children:bw(a.wait_time_seconds)}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"waiting"===a.status?"bg-yellow-500/20 text-yellow-400":"assigned"===a.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-3 text-gray-300",children:a.assigned_agent_name||"-"})]},a.id))})]})})]}),"customer-context"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Customer Context & History"}),(0,b.jsxs)("button",{onClick:()=>{ag(null),bn(),W(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),0===k.length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:"No customers found."})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:a.customer_name}),(0,b.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium mt-1 ${bv(a.customer_tier)}`,children:a.customer_tier.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>bo(a),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Edit Customer",children:(0,b.jsx)(cj.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("button",{onClick:()=>bq(a.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Delete Customer",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Phone:"}),(0,b.jsx)("span",{className:"text-gray-300",children:a.primary_phone})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Email:"}),(0,b.jsx)("span",{className:"text-gray-300 truncate ml-2",children:a.primary_email})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Channel:"}),(0,b.jsx)("span",{className:"text-gray-300 uppercase",children:a.preferred_channel})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Interactions:"}),(0,b.jsx)("span",{className:"text-white font-bold",children:a.total_interactions})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"LTV:"}),(0,b.jsxs)("span",{className:"text-green-400 font-bold",children:["RM ",parseFloat(a.lifetime_value).toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Satisfaction:"}),(0,b.jsxs)("span",{className:"text-yellow-400 font-bold",children:[parseFloat(a.average_satisfaction).toFixed(1)," / 5.0"]})]})]})]},a.id))})]}),"acd-routing"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"ACD Routing Rules"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Automatic Call Distribution - Intelligent routing strategies"})]}),(0,b.jsxs)("button",{onClick:()=>{ai(null),bs(),Y(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,b.jsx)(y.default,{className:"w-4 h-4 mr-2"}),"Create Rule"]})]}),0===x.length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400",children:"No routing rules configured"})}):(0,b.jsx)("div",{className:"space-y-3",children:x.map(a=>(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:a.rule_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"skills_based":return"bg-blue-500/20 text-blue-400";case"priority_based":return"bg-red-500/20 text-red-400";case"sticky_agent":return"bg-purple-500/20 text-purple-400";case"round_robin":return"bg-green-500/20 text-green-400";case"longest_idle":return"bg-yellow-500/20 text-yellow-400";case"least_busy":return"bg-cyan-500/20 text-cyan-400";default:return"bg-gray-500/20 text-gray-400"}})(a.routing_strategy)}`,children:a.routing_strategy.replace("_"," ").toUpperCase()}),(0,b.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${a.priority>=8?"bg-red-500/20 text-red-400":a.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["Priority ",a.priority]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:a.rule_description}),(0,b.jsxs)("div",{className:"flex gap-4 text-xs text-gray-400",children:[a.target_queue&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Queue:"})," ",(0,b.jsx)("span",{className:"text-blue-400",children:a.target_queue})]}),a.target_skill&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Skill:"})," ",(0,b.jsx)("span",{className:"text-green-400",children:a.target_skill})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>bt(a),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Edit Rule",children:(0,b.jsx)(cj.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("button",{onClick:()=>bu(a.id),className:"p-1 hover:bg-gray-700 rounded transition-colors",title:"Delete Rule",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})}),(0,b.jsx)("button",{onClick:()=>a7(a.id,a.is_active),children:a.is_active?(0,b.jsx)(cl.default,{className:"w-8 h-8 text-green-500"}):(0,b.jsx)(ck.default,{className:"w-8 h-8 text-gray-600"})})]})]})},a.id))})]}),"agent-skills"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Agent Skills"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Skills-based routing - Language proficiencies and department expertise"})]}),(0,b.jsxs)("button",{onClick:()=>{ak(null),aM({agent_name:"",skill_name:"",skill_category:"language",proficiency_level:5,is_active:!0}),aa(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,b.jsx)(y.default,{className:"w-4 h-4 mr-2"}),"Add Skill"]})]}),0===Object.keys(bx).length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400",children:"No agent skills configured"})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(bx).map(([a,c])=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:a}),(0,b.jsxs)("span",{className:"text-gray-400 text-sm",children:[c.length," skills"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:c.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 rounded p-3 flex justify-between items-center group hover:bg-gray-600 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-lg",children:(a=>{switch(a){case"language":return"ðŸŒ";case"department":return"ðŸ¢";case"technical":return"ðŸ”§";case"product":return"ðŸ“¦";case"soft_skills":return"ðŸ’¼";case"industry":return"ðŸ­";case"certification":return"ðŸŽ“";default:return"â­"}})(a.skill_category)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white text-sm font-medium",children:a.skill_name}),(0,b.jsx)("div",{className:"text-gray-400 text-xs capitalize",children:a.skill_category})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"text-yellow-400 font-bold text-sm",children:[a.proficiency_level,"/10"]}),(0,b.jsx)("button",{onClick:()=>{ak(a.id),aM({agent_name:a.agent_name,skill_name:a.skill_name,skill_category:a.skill_category,proficiency_level:a.proficiency_level,is_active:a.is_active}),aa(!0)},className:"p-1 hover:bg-blue-600 rounded transition-colors",title:"Edit Skill",children:(0,b.jsx)(cj.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("button",{onClick:()=>bb(a.id),className:"p-1 hover:bg-red-600 rounded transition-colors",title:"Delete Skill",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})}),(0,b.jsx)("button",{onClick:()=>a9(a.id,a.is_active),title:"Toggle Active Status",children:a.is_active?(0,b.jsx)(cl.default,{className:"w-6 h-6 text-green-500"}):(0,b.jsx)(ck.default,{className:"w-6 h-6 text-gray-600"})})]})]},a.id))})]},a))})]}),"priority-routing"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Priority Routing Rules"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Automatically boost priority for VIP customers, high-value accounts, and urgent situations"})]}),(0,b.jsxs)("button",{onClick:()=>{am(null),aP({priority_name:"",priority_description:"",priority_level:5,boost_percentage:50,is_active:!0,condition_type:"customer_tier",condition_value:"",wait_time_minutes:3,lifetime_value_min:0,interaction_count_min:0}),ac(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,b.jsx)(y.default,{className:"w-4 h-4 mr-2"}),"Create Priority Rule"]})]}),0===D.length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400",children:"No priority rules configured"})}):(0,b.jsx)("div",{className:"space-y-3",children:D.map(a=>(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-750 transition-colors",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:a.priority_name}),(0,b.jsxs)("span",{className:"px-2 py-1 rounded bg-red-500/20 text-red-400 text-xs font-bold",children:["Level ",a.priority_level,"/10"]}),(0,b.jsxs)("span",{className:"px-2 py-1 rounded bg-green-500/20 text-green-400 text-xs font-bold",children:["+",a.boost_percentage,"% Priority"]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-2",children:a.priority_description}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:["Conditions: ",(0,b.jsx)("span",{className:"text-gray-400",children:JSON.stringify(a.conditions)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{let b;return am(a.id),b=a.conditions.customer_tier?"customer_tier":a.conditions.wait_time_minutes?"wait_time":a.conditions.lifetime_value_min?"lifetime_value":a.conditions.interaction_count_min?"interaction_count":"customer_tier",void(aP({priority_name:a.priority_name,priority_description:a.priority_description||"",priority_level:a.priority_level,boost_percentage:a.boost_percentage,is_active:a.is_active,condition_type:b,condition_value:a.conditions.customer_tier||"",wait_time_minutes:a.conditions.wait_time_minutes||3,lifetime_value_min:a.conditions.lifetime_value_min||0,interaction_count_min:a.conditions.interaction_count_min||0}),ac(!0))},className:"p-2 hover:bg-blue-600 rounded transition-colors",title:"Edit Rule",children:(0,b.jsx)(cj.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("button",{onClick:()=>bd(a.id),className:"p-2 hover:bg-red-600 rounded transition-colors",title:"Delete Rule",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})}),(0,b.jsx)("button",{onClick:()=>a8(a.id,a.is_active),title:"Toggle Active Status",children:a.is_active?(0,b.jsx)(cl.default,{className:"w-8 h-8 text-green-500"}):(0,b.jsx)(ck.default,{className:"w-8 h-8 text-gray-600"})})]})]})},a.id))})]}),"ivr-config"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"IVR Configuration"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Interactive Voice Response with traditional key press + Conversational AI"})]}),(0,b.jsxs)("button",{onClick:()=>{ap(null),aR({menu_name:"",menu_description:"",greeting_text:"",greeting_audio_url:"",use_conversational_ai:!1,ai_model:"gpt-4",timeout_seconds:10,max_retries:3,invalid_option_message:"Invalid option. Please try again.",timeout_message:"We did not receive your response. Please try again.",is_active:!0}),aT([]),ae(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center whitespace-nowrap",children:[(0,b.jsx)(y.default,{className:"w-4 h-4 mr-2"}),"Configure New IVR"]})]}),0===q.length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400",children:"No IVR menus configured"})}):(0,b.jsx)("div",{className:"space-y-4",children:q.map(a=>{let c=s.filter(b=>b.ivr_menu_id===a.id),d=c.filter(a=>a.option_key&&!a.option_key.startsWith("AI")),e=c.filter(a=>a.option_key&&a.option_key.startsWith("AI"));return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:a.menu_name}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:a.menu_description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${a.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.is_active?"Active":"Inactive"}),(0,b.jsx)("button",{onClick:()=>bf(a),className:"p-2 hover:bg-blue-600 rounded transition-colors",title:"Edit IVR",children:(0,b.jsx)(cj.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("button",{onClick:()=>bh(a.id),className:"p-2 hover:bg-red-600 rounded transition-colors",title:"Delete IVR",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,b.jsxs)("div",{className:"bg-gray-700 p-3 rounded mb-4",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Greeting Message:"}),(0,b.jsx)("div",{className:"text-white",children:a.greeting_text}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Timeout: ",a.timeout_seconds,"s"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)($.Phone,{className:"w-4 h-4 text-blue-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Traditional Key Press"}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",d.length," options)"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:0===d.length?(0,b.jsx)("div",{className:"text-gray-500 text-sm",children:"No traditional options"}):d.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 p-2 rounded flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-blue-600 text-white px-2 py-1 rounded font-bold text-sm min-w-[32px] text-center",children:a.option_key}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-white text-sm",children:a.option_label}),(0,b.jsx)("div",{className:"text-gray-400 text-xs",children:a.action_target||a.action_type})]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(as.default,{className:"w-4 h-4 text-purple-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Conversational AI"}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.length," intents)"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:0===e.length?(0,b.jsx)("div",{className:"text-gray-500 text-sm",children:"No AI intents"}):e.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 p-2 rounded flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-purple-600 text-white px-2 py-1 rounded text-xs min-w-[32px] flex items-center justify-center",children:(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-white text-sm",children:a.option_label}),(0,b.jsxs)("div",{className:"text-gray-400 text-xs",children:["Intent: ",a.ai_intent]}),(0,b.jsx)("div",{className:"text-gray-500 text-xs",children:a.action_target||a.action_type})]})]},a.id))})]})]})]},a.id)})})]}),"outbound-dialers"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Outbound Dialer Management"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Automated dialers to maximize agent productivity - Predictive, Power, and Preview modes"})]}),(0,b.jsxs)("button",{onClick:()=>U(!0),className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 hover:from-blue-600 hover:to-cyan-700 transition-all shadow-lg",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Dialer"]})]}),0===F.length?(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:[(0,b.jsx)(bS.default,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400 text-lg mb-2",children:"No dialer campaigns found"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first outbound dialer campaign to start calling"}),(0,b.jsxs)("button",{onClick:()=>U(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Campaign"]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.map(a=>{var c;let d,e,f,g=(c=a.id,e=(d=I.filter(a=>a.campaign_id===c)).length,f=d.filter(a=>a.attempts>0).length,{total_contacts:e,contacts_dialed:f,contacts_reached:d.filter(a=>"completed"===a.status||"connected"===a.status).length,contacts_converted:d.filter(a=>a.last_disposition?.toLowerCase().includes("sale")||a.last_disposition?.toLowerCase().includes("success")).length});return(0,b.jsxs)("div",{className:`bg-gray-800 rounded-lg p-4 transition-all ${P===a.id?"ring-2 ring-blue-500":""}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>{Q(a.id),a2(a.id)},children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:a.campaign_name}),(0,b.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium mt-1 ${"predictive"===a.dialer_type?"bg-red-500/20 text-red-400":"power"===a.dialer_type?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:a.dialer_type.toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"active"===a.status?"bg-green-500/20 text-green-400":"paused"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:a.status}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),at(a.id),aF({campaign_name:a.campaign_name,campaign_description:a.campaign_description||"",dialer_type:a.dialer_type,max_call_attempts:a.max_call_attempts,retry_delay_minutes:a.retry_delay_minutes,calling_hours_start:a.calling_hours_start||"09:00",calling_hours_end:a.calling_hours_end||"18:00",timezone:a.timezone||"Asia/Kuala_Lumpur",scheduled_start_date:a.scheduled_start_date||"",scheduled_end_date:a.scheduled_end_date||"",script_template:a.script_template||""}),U(!0)},className:"p-1.5 hover:bg-blue-600 rounded transition-colors",title:"Edit Campaign",children:(0,b.jsx)(cj.default,{className:"w-4 h-4 text-blue-400"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),bl(a.id)},className:"p-1.5 hover:bg-red-600 rounded transition-colors",title:"Delete Campaign",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:a.campaign_description}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Total Contacts:"}),(0,b.jsx)("span",{className:"text-white font-bold",children:g.total_contacts})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Dialed:"}),(0,b.jsx)("span",{className:"text-blue-400 font-bold",children:g.contacts_dialed})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Reached:"}),(0,b.jsx)("span",{className:"text-green-400 font-bold",children:g.contacts_reached})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Converted:"}),(0,b.jsx)("span",{className:"text-yellow-400 font-bold",children:g.contacts_converted})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Success Rate:"}),(0,b.jsxs)("span",{className:"text-purple-400 font-bold",children:[g.contacts_dialed>0?(g.contacts_converted/g.contacts_dialed*100).toFixed(1):0,"%"]})]})]})]},a.id)})}),P&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"Active Sessions"}),0===L.filter(a=>a.campaign_id===P).length?(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"No active sessions"}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:L.filter(a=>a.campaign_id===P).map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 rounded p-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:a.agent_name}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs flex items-center gap-1",children:[(0,b.jsx)(aH.Play,{className:"w-3 h-3"}),"Active"]})]}),(0,b.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Presented:"}),(0,b.jsx)("span",{className:"text-white",children:a.calls_presented})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Answered:"}),(0,b.jsx)("span",{className:"text-green-400 font-bold",children:a.calls_answered})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Converted:"}),(0,b.jsx)("span",{className:"text-yellow-400 font-bold",children:a.calls_converted})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Talk Time:"}),(0,b.jsxs)("span",{className:"text-blue-400",children:[Math.floor(a.total_talk_time_seconds/60),"m"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Duration:"}),(0,b.jsxs)("span",{className:"text-gray-300",children:[Math.floor((Date.now()-new Date(a.started_at).getTime())/6e4),"m"]})]})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg",children:"Call List"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center gap-1",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Contact"]})})]}),0===I.length?(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"No contacts in call list"}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Contact"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Phone"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Tier"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Priority"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Status"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Attempts"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Last Result"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-300",children:"Action"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-700",children:I.map(a=>{let c=F.find(b=>b.id===a.campaign_id);return(0,b.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,b.jsxs)("td",{className:"px-3 py-2",children:[(0,b.jsx)("div",{className:"text-white text-sm font-medium",children:a.contact_name}),a.customer_id&&(0,b.jsx)("div",{className:"text-gray-400 text-xs",children:a.customer_id})]}),(0,b.jsxs)("td",{className:"px-3 py-2",children:[(0,b.jsx)("div",{className:"text-gray-300 text-sm",children:a.phone_number}),a.alternate_phone&&(0,b.jsx)("div",{className:"text-gray-500 text-xs",children:a.alternate_phone})]}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${bv(a.customer_tier)}`,children:a.customer_tier.toUpperCase()})}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-bold ${a.priority>=8?"bg-red-500/20 text-red-400":a.priority>=5?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:["P",a.priority]})}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${"pending"===a.status?"bg-blue-500/20 text-blue-400":"completed"===a.status?"bg-green-500/20 text-green-400":"callback_scheduled"===a.status?"bg-purple-500/20 text-purple-400":"no_answer"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:a.status.replace("_"," ")})}),(0,b.jsx)("td",{className:"px-3 py-2 text-gray-300 text-sm",children:a.attempts}),(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)("div",{className:"text-gray-300 text-xs",children:a.last_disposition||"-"})}),(0,b.jsx)("td",{className:"px-3 py-2",children:c?.dialer_type==="preview"?(0,b.jsxs)("button",{className:"px-2 py-1 bg-purple-600 text-white rounded text-xs hover:bg-purple-700 flex items-center gap-1",children:[(0,b.jsx)(B.default,{className:"w-3 h-3"}),"Preview"]}):(0,b.jsxs)("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 flex items-center gap-1",children:[(0,b.jsx)($.Phone,{className:"w-3 h-3"}),"Call"]})})]},a.id)})})]})})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-white font-bold text-lg mb-3",children:"Recent Call Results"}),0===N.filter(a=>a.campaign_id===P).length?(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"No call results yet"}):(0,b.jsx)("div",{className:"space-y-2",children:N.filter(a=>a.campaign_id===P).slice(0,10).map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 rounded p-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.phone_number}),(0,b.jsx)("div",{className:"text-gray-400 text-xs",children:a.agent_name})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:`text-xs font-bold ${a.is_converted?"text-green-400":a.is_answered?"text-blue-400":"text-gray-400"}`,children:a.disposition}),a.sub_disposition&&(0,b.jsx)("div",{className:"text-gray-500 text-xs",children:a.sub_disposition})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(J.Clock,{className:"w-3 h-3"}),Math.floor(a.talk_time_seconds/60),"m ",a.talk_time_seconds%60,"s"]}),a.is_converted&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-green-400",children:[(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"Converted"]}),(0,b.jsx)("div",{className:"text-gray-500",children:new Date(a.dialed_at).toLocaleTimeString()})]}),a.agent_notes&&(0,b.jsx)("div",{className:"mt-2 text-xs text-gray-300 bg-gray-800 rounded p-2",children:a.agent_notes})]},a.id))})]})]})]})]}),R&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl w-96 p-6 relative border border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(be.default,{className:"w-6 h-6 text-green-500"}),"Dialpad"]}),aw?(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 text-center",children:[(0,b.jsx)("div",{className:"text-white text-sm mb-2",children:"Calling"}),(0,b.jsx)("div",{className:"text-white text-2xl font-bold mb-1",children:au}),(0,b.jsxs)("div",{className:"text-white/80 text-lg",children:[Math.floor(aC/60),":",(aC%60).toString().padStart(2,"0")]})]})}):(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 mb-6 min-h-[60px] flex items-center justify-center",children:(0,b.jsx)("input",{type:"text",value:au,onChange:a=>av(a.target.value),placeholder:"Enter phone number",className:"bg-transparent text-white text-2xl text-center font-mono w-full outline-none"})}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:["1","2","3","4","5","6","7","8","9","*","0","#"].map(a=>(0,b.jsx)("button",{onClick:()=>{av(b=>b+a)},disabled:aw,className:"bg-gray-800 hover:bg-gray-700 text-white text-2xl font-semibold py-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a},a))}),aw?(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,b.jsxs)("button",{onClick:()=>az(!ay),className:`${ay?"bg-red-600":"bg-gray-700"} hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1`,children:[ay?(0,b.jsx)(bp.default,{className:"w-6 h-6"}):(0,b.jsx)(aO.Mic,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-xs",children:ay?"Unmute":"Mute"})]}),(0,b.jsxs)("button",{onClick:()=>aB(!aA),className:`${aA?"bg-blue-600":"bg-gray-700"} hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1`,children:[aA?(0,b.jsx)(bj.default,{className:"w-6 h-6"}):(0,b.jsx)(cm.default,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-xs",children:"Speaker"})]}),(0,b.jsxs)("button",{onClick:()=>S(!0),className:"bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1",children:[(0,b.jsx)(cn.default,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-xs",children:"Keypad"})]}),(0,b.jsxs)("button",{onClick:()=>{ax(!1),av(""),aD(0),az(!1)},className:"bg-red-600 hover:bg-red-700 text-white p-4 rounded-lg transition-colors flex flex-col items-center gap-1",children:[(0,b.jsx)($.Phone,{className:"w-6 h-6 rotate-[135deg]"}),(0,b.jsx)("span",{className:"text-xs",children:"End"})]})]}):(0,b.jsxs)("div",{className:"flex gap-3",children:[au&&(0,b.jsx)("button",{onClick:()=>{av(a=>a.slice(0,-1))},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"âŒ« Delete"}),(0,b.jsxs)("button",{onClick:()=>{au&&(ax(!0),aD(0))},disabled:!au,className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white py-3 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)($.Phone,{className:"w-5 h-5"}),"Call"]})]})]})}),T&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{U(!1),at(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(bS.default,{className:"w-6 h-6 text-blue-500"}),aq?"Edit Dialer Campaign":"Create New Dialer Campaign"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:aE.campaign_name,onChange:a=>aF({...aE,campaign_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Q1 Sales Campaign"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Dialer Type *"}),(0,b.jsxs)("select",{value:aE.dialer_type,onChange:a=>aF({...aE,dialer_type:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"predictive",children:"Predictive - High volume automated dialing"}),(0,b.jsx)("option",{value:"power",children:"Power - Progressive automated dialing"}),(0,b.jsx)("option",{value:"preview",children:"Preview - Agent reviews before calling"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:aE.campaign_description,onChange:a=>aF({...aE,campaign_description:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-24",placeholder:"Describe the purpose and goals of this campaign..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Call Attempts"}),(0,b.jsx)("input",{type:"number",value:aE.max_call_attempts,onChange:a=>aF({...aE,max_call_attempts:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"1",max:"10"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Retry Delay (minutes)"}),(0,b.jsx)("input",{type:"number",value:aE.retry_delay_minutes,onChange:a=>aF({...aE,retry_delay_minutes:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"15",step:"15"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),(0,b.jsxs)("select",{value:aE.timezone,onChange:a=>aF({...aE,timezone:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Asia/Kuala_Lumpur (GMT+8)"}),(0,b.jsx)("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),(0,b.jsx)("option",{value:"Asia/Jakarta",children:"Asia/Jakarta (GMT+7)"}),(0,b.jsx)("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calling Hours Start"}),(0,b.jsx)("input",{type:"time",value:aE.calling_hours_start,onChange:a=>aF({...aE,calling_hours_start:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Calling Hours End"}),(0,b.jsx)("input",{type:"time",value:aE.calling_hours_end,onChange:a=>aF({...aE,calling_hours_end:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:aE.scheduled_start_date,onChange:a=>aF({...aE,scheduled_start_date:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:aE.scheduled_end_date,onChange:a=>aF({...aE,scheduled_end_date:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Call Script Template"}),(0,b.jsx)("textarea",{value:aE.script_template,onChange:a=>aF({...aE,script_template:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-32 font-mono text-sm",placeholder:"Hello [CUSTOMER_NAME], this is [AGENT_NAME] from [COMPANY]..."})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{U(!1),at(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:a6,disabled:!aE.campaign_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:aq?"Update Campaign":"Create Campaign"})]})]})]})}),V&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{W(!1),ag(null),bn()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(e.default,{className:"w-6 h-6 text-emerald-500"}),af?"Edit Customer":"Add New Customer"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),(0,b.jsx)("input",{type:"text",value:aG.customer_name,onChange:a=>aI({...aG,customer_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"John Doe"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier *"}),(0,b.jsxs)("select",{value:aG.customer_tier,onChange:a=>aI({...aG,customer_tier:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,b.jsx)("option",{value:"basic",children:"Basic"}),(0,b.jsx)("option",{value:"standard",children:"Standard"}),(0,b.jsx)("option",{value:"premium",children:"Premium"}),(0,b.jsx)("option",{value:"vip",children:"VIP"}),(0,b.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company Name"}),(0,b.jsx)("input",{type:"text",value:aG.company_name,onChange:a=>aI({...aG,company_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Acme Corp"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Job Title"}),(0,b.jsx)("input",{type:"text",value:aG.job_title,onChange:a=>aI({...aG,job_title:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Sales Manager"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Phone *"}),(0,b.jsx)("input",{type:"tel",value:aG.primary_phone,onChange:a=>aI({...aG,primary_phone:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"+60123456789"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secondary Phone"}),(0,b.jsx)("input",{type:"tel",value:aG.secondary_phone,onChange:a=>aI({...aG,secondary_phone:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"+60198765432"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Primary Email *"}),(0,b.jsx)("input",{type:"email",value:aG.primary_email,onChange:a=>aI({...aG,primary_email:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"john.doe@example.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Secondary Email"}),(0,b.jsx)("input",{type:"email",value:aG.secondary_email,onChange:a=>aI({...aG,secondary_email:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"john@personal.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Channel"}),(0,b.jsxs)("select",{value:aG.preferred_channel,onChange:a=>aI({...aG,preferred_channel:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,b.jsx)("option",{value:"voice",children:"Voice Call"}),(0,b.jsx)("option",{value:"sms",children:"SMS"}),(0,b.jsx)("option",{value:"email",children:"Email"}),(0,b.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,b.jsx)("option",{value:"chat",children:"Live Chat"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Preferred Language"}),(0,b.jsxs)("select",{value:aG.preferred_language,onChange:a=>aI({...aG,preferred_language:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,b.jsx)("option",{value:"English",children:"English"}),(0,b.jsx)("option",{value:"Malay",children:"Bahasa Malaysia"}),(0,b.jsx)("option",{value:"Chinese",children:"Chinese"}),(0,b.jsx)("option",{value:"Tamil",children:"Tamil"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Address Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address Line 1"}),(0,b.jsx)("input",{type:"text",value:aG.address_line1,onChange:a=>aI({...aG,address_line1:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"123 Main Street"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address Line 2"}),(0,b.jsx)("input",{type:"text",value:aG.address_line2,onChange:a=>aI({...aG,address_line2:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Unit 456, Tower B"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"City"}),(0,b.jsx)("input",{type:"text",value:aG.city,onChange:a=>aI({...aG,city:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Kuala Lumpur"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"State / Province"}),(0,b.jsx)("input",{type:"text",value:aG.state,onChange:a=>aI({...aG,state:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Wilayah Persekutuan"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Postal Code"}),(0,b.jsx)("input",{type:"text",value:aG.postal_code,onChange:a=>aI({...aG,postal_code:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"50000"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Country"}),(0,b.jsxs)("select",{value:aG.country,onChange:a=>aI({...aG,country:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,b.jsx)("option",{value:"Malaysia",children:"Malaysia"}),(0,b.jsx)("option",{value:"Singapore",children:"Singapore"}),(0,b.jsx)("option",{value:"Indonesia",children:"Indonesia"}),(0,b.jsx)("option",{value:"Thailand",children:"Thailand"}),(0,b.jsx)("option",{value:"Philippines",children:"Philippines"}),(0,b.jsx)("option",{value:"Vietnam",children:"Vietnam"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Additional Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Date of Birth"}),(0,b.jsx)("input",{type:"date",value:aG.date_of_birth,onChange:a=>aI({...aG,date_of_birth:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),(0,b.jsxs)("select",{value:aG.timezone,onChange:a=>aI({...aG,timezone:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",children:[(0,b.jsx)("option",{value:"Asia/Kuala_Lumpur",children:"Asia/Kuala_Lumpur (GMT+8)"}),(0,b.jsx)("option",{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),(0,b.jsx)("option",{value:"Asia/Jakarta",children:"Asia/Jakarta (GMT+7)"}),(0,b.jsx)("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"}),(0,b.jsx)("option",{value:"Asia/Manila",children:"Asia/Manila (GMT+8)"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags (comma-separated)"}),(0,b.jsx)("input",{type:"text",value:aG.tags,onChange:a=>aI({...aG,tags:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"high-value, tech-savvy, frequent-caller"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes"}),(0,b.jsx)("textarea",{value:aG.notes,onChange:a=>aI({...aG,notes:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500 h-24",placeholder:"Additional notes about the customer..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Field 1"}),(0,b.jsx)("input",{type:"text",value:aG.custom_field1,onChange:a=>aI({...aG,custom_field1:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Custom data..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Custom Field 2"}),(0,b.jsx)("input",{type:"text",value:aG.custom_field2,onChange:a=>aI({...aG,custom_field2:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-emerald-500",placeholder:"Custom data..."})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{W(!1),ag(null),bn()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:bm,disabled:!aG.customer_name||!aG.primary_phone||!aG.primary_email,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:af?"Update Customer":"Save Customer"})]})]})]})}),X&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{Y(!1),ai(null),bs()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(a5.default,{className:"w-6 h-6 text-blue-500"}),ah?"Edit ACD Routing Rule":"Create ACD Routing Rule"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rule Name *"}),(0,b.jsx)("input",{type:"text",value:aJ.rule_name,onChange:a=>aK({...aJ,rule_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"VIP Customer Priority Routing"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:aJ.rule_description,onChange:a=>aK({...aJ,rule_description:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-20",placeholder:"Describe the purpose and behavior of this routing rule..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority Level *"}),(0,b.jsxs)("select",{value:aJ.priority,onChange:a=>aK({...aJ,priority:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"1",children:"1 - Lowest"}),(0,b.jsx)("option",{value:"2",children:"2 - Low"}),(0,b.jsx)("option",{value:"3",children:"3 - Below Normal"}),(0,b.jsx)("option",{value:"4",children:"4 - Normal"}),(0,b.jsx)("option",{value:"5",children:"5 - Standard"}),(0,b.jsx)("option",{value:"6",children:"6 - Above Normal"}),(0,b.jsx)("option",{value:"7",children:"7 - High"}),(0,b.jsx)("option",{value:"8",children:"8 - Very High"}),(0,b.jsx)("option",{value:"9",children:"9 - Critical"}),(0,b.jsx)("option",{value:"10",children:"10 - Emergency"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Channel Type"}),(0,b.jsxs)("select",{value:aJ.channel_type,onChange:a=>aK({...aJ,channel_type:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"all",children:"All Channels"}),(0,b.jsx)("option",{value:"voice",children:"Voice Calls"}),(0,b.jsx)("option",{value:"chat",children:"Live Chat"}),(0,b.jsx)("option",{value:"email",children:"Email"}),(0,b.jsx)("option",{value:"sms",children:"SMS"}),(0,b.jsx)("option",{value:"whatsapp",children:"WhatsApp"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Routing Strategy"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Strategy Type *"}),(0,b.jsxs)("select",{value:aJ.routing_strategy,onChange:a=>aK({...aJ,routing_strategy:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"round_robin",children:"Round Robin - Distribute evenly"}),(0,b.jsx)("option",{value:"least_active",children:"Least Active - Route to least busy agent"}),(0,b.jsx)("option",{value:"longest_idle",children:"Longest Idle - Route to longest waiting agent"}),(0,b.jsx)("option",{value:"skills_based",children:"Skills-Based - Match by expertise"}),(0,b.jsx)("option",{value:"priority_weighted",children:"Priority Weighted - VIP gets priority"}),(0,b.jsx)("option",{value:"predictive",children:"Predictive - AI-based routing"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Selection"}),(0,b.jsxs)("select",{value:aJ.agent_selection_criteria,onChange:a=>aK({...aJ,agent_selection_criteria:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"longest_idle",children:"Longest Idle Time"}),(0,b.jsx)("option",{value:"most_skilled",children:"Most Skilled"}),(0,b.jsx)("option",{value:"best_satisfaction",children:"Best Satisfaction Score"}),(0,b.jsx)("option",{value:"random",children:"Random Selection"}),(0,b.jsx)("option",{value:"sequential",children:"Sequential Order"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Queue"}),(0,b.jsx)("input",{type:"text",value:aJ.target_queue,onChange:a=>aK({...aJ,target_queue:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"support_queue"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Required Skill"}),(0,b.jsx)("input",{type:"text",value:aJ.target_skill,onChange:a=>aK({...aJ,target_skill:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"technical_support"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Skill Level"}),(0,b.jsxs)("select",{value:aJ.min_skill_level,onChange:a=>aK({...aJ,min_skill_level:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"1",children:"1 - Beginner"}),(0,b.jsx)("option",{value:"2",children:"2 - Intermediate"}),(0,b.jsx)("option",{value:"3",children:"3 - Advanced"}),(0,b.jsx)("option",{value:"4",children:"4 - Expert"}),(0,b.jsx)("option",{value:"5",children:"5 - Master"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Backup Queue"}),(0,b.jsx)("input",{type:"text",value:aJ.backup_queue,onChange:a=>aK({...aJ,backup_queue:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"general_queue"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Overflow & Timing"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overflow Action"}),(0,b.jsxs)("select",{value:aJ.overflow_action,onChange:a=>aK({...aJ,overflow_action:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"voicemail",children:"Send to Voicemail"}),(0,b.jsx)("option",{value:"callback",children:"Offer Callback"}),(0,b.jsx)("option",{value:"queue",children:"Hold in Queue"}),(0,b.jsx)("option",{value:"redirect",children:"Redirect to Another Queue"}),(0,b.jsx)("option",{value:"disconnect",children:"Disconnect with Message"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Overflow Threshold (seconds)"}),(0,b.jsx)("input",{type:"number",value:aJ.overflow_threshold_seconds,onChange:a=>aK({...aJ,overflow_threshold_seconds:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"30",step:"30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Wait Time (seconds)"}),(0,b.jsx)("input",{type:"number",value:aJ.max_wait_time,onChange:a=>aK({...aJ,max_wait_time:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"60",step:"30"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Callback Threshold (seconds)"}),(0,b.jsx)("input",{type:"number",value:aJ.callback_threshold,onChange:a=>aK({...aJ,callback_threshold:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"30",step:"30"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 pb-2 border-b border-gray-700",children:"Advanced Conditions"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier Filter"}),(0,b.jsxs)("select",{value:aJ.customer_tier_filter,onChange:a=>aK({...aJ,customer_tier_filter:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"",children:"All Tiers"}),(0,b.jsx)("option",{value:"vip",children:"VIP Only"}),(0,b.jsx)("option",{value:"premium",children:"Premium Only"}),(0,b.jsx)("option",{value:"standard",children:"Standard Only"}),(0,b.jsx)("option",{value:"basic",children:"Basic Only"})]})]}),(0,b.jsx)("div",{className:"flex items-center pt-6",children:(0,b.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aJ.business_hours_only,onChange:a=>aK({...aJ,business_hours_only:a.target.checked}),className:"w-5 h-5 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"ml-3 text-gray-300",children:"Business Hours Only"})]})}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aJ.enable_callback,onChange:a=>aK({...aJ,enable_callback:a.target.checked}),className:"w-5 h-5 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"ml-3 text-gray-300",children:"Enable Callback Option"})]})}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aJ.time_based_routing,onChange:a=>aK({...aJ,time_based_routing:a.target.checked}),className:"w-5 h-5 text-blue-600 bg-gray-800 border-gray-700 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"ml-3 text-gray-300",children:"Enable Time-Based Routing"})]})})]}),aJ.time_based_routing&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-white mb-3",children:"Time-Based Configuration"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Start Time"}),(0,b.jsx)("input",{type:"time",value:aJ.time_start,onChange:a=>aK({...aJ,time_start:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"End Time"}),(0,b.jsx)("input",{type:"time",value:aJ.time_end,onChange:a=>aK({...aJ,time_end:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Active Days"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(a=>(0,b.jsxs)("label",{className:"flex items-center cursor-pointer bg-gray-800 px-3 py-2 rounded-lg border border-gray-700",children:[(0,b.jsx)("input",{type:"checkbox",checked:aJ.days_of_week.includes(a),onChange:b=>{b.target.checked?aK({...aJ,days_of_week:[...aJ.days_of_week,a]}):aK({...aJ,days_of_week:aJ.days_of_week.filter(b=>b!==a)})},className:"w-4 h-4 text-blue-600 bg-gray-900 border-gray-700 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"ml-2 text-gray-300 capitalize text-sm",children:a})]},a))})]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{Y(!1),ai(null),bs()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:br,disabled:!aJ.rule_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ah?"Update Rule":"Create Rule"})]})]})]})}),_&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-2xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{aa(!1),ak(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(ao.default,{className:"w-6 h-6 text-yellow-500"}),aj?"Edit Agent Skill":"Add New Agent Skill"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Agent Name *"}),(0,b.jsx)("input",{type:"text",value:aL.agent_name,onChange:a=>aM({...aL,agent_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",placeholder:"John Smith"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Name *"}),(0,b.jsx)("input",{type:"text",value:aL.skill_name,onChange:a=>aM({...aL,skill_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",placeholder:"English, Technical Support, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skill Category"}),(0,b.jsxs)("select",{value:aL.skill_category,onChange:a=>aM({...aL,skill_category:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-yellow-500",children:[(0,b.jsx)("option",{value:"language",children:"Language"}),(0,b.jsx)("option",{value:"department",children:"Department"}),(0,b.jsx)("option",{value:"technical",children:"Technical"}),(0,b.jsx)("option",{value:"product",children:"Product Knowledge"}),(0,b.jsx)("option",{value:"soft_skills",children:"Soft Skills"}),(0,b.jsx)("option",{value:"industry",children:"Industry Expertise"}),(0,b.jsx)("option",{value:"certification",children:"Certification"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Proficiency Level: ",aL.proficiency_level,"/10"]}),(0,b.jsx)("input",{type:"range",min:"1",max:"10",value:aL.proficiency_level,onChange:a=>aM({...aL,proficiency_level:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,b.jsx)("span",{children:"Beginner"}),(0,b.jsx)("span",{children:"Intermediate"}),(0,b.jsx)("span",{children:"Expert"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"is_active",checked:aL.is_active,onChange:a=>aM({...aL,is_active:a.target.checked}),className:"w-4 h-4 text-yellow-600 bg-gray-900 border-gray-700 rounded focus:ring-yellow-500"}),(0,b.jsx)("label",{htmlFor:"is_active",className:"text-sm text-gray-300",children:"Active (Available for skill-based routing)"})]}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"Skill Information"}),(0,b.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ Skills are used for intelligent routing to match customer needs with agent expertise"}),(0,b.jsx)("li",{children:"â€¢ Higher proficiency levels indicate deeper expertise in the skill area"}),(0,b.jsx)("li",{children:"â€¢ Inactive skills are not considered during routing but remain in the system"}),(0,b.jsx)("li",{children:"â€¢ You can assign multiple skills to each agent for comprehensive coverage"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{aa(!1),ak(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:ba,disabled:!aL.agent_name||!aL.skill_name,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:aj?"Update Skill":"Add Skill"})]})]})}),ab&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{ac(!1),am(null)},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(ar.TrendingUp,{className:"w-6 h-6 text-red-500"}),al?"Edit Priority Rule":"Create Priority Rule"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-red-400 mb-2",children:"About Priority Routing"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Priority rules automatically boost the queue position for specific customers or situations. Higher priority levels and boost percentages mean faster service."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rule Name *"}),(0,b.jsx)("input",{type:"text",value:aN.priority_name,onChange:a=>aP({...aN,priority_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",placeholder:"VIP Customer Priority"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:aN.priority_description,onChange:a=>aP({...aN,priority_description:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500 h-20",placeholder:"Describe when and why this priority boost should be applied..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Priority Level: ",aN.priority_level,"/10"]}),(0,b.jsx)("input",{type:"range",min:"1",max:"10",value:aN.priority_level,onChange:a=>aP({...aN,priority_level:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,b.jsx)("span",{children:"Low"}),(0,b.jsx)("span",{children:"Medium"}),(0,b.jsx)("span",{children:"High"}),(0,b.jsx)("span",{children:"Critical"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Boost Percentage: +",aN.boost_percentage,"%"]}),(0,b.jsx)("input",{type:"range",min:"0",max:"300",step:"10",value:aN.boost_percentage,onChange:a=>aP({...aN,boost_percentage:parseInt(a.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,b.jsx)("span",{children:"0%"}),(0,b.jsx)("span",{children:"100%"}),(0,b.jsx)("span",{children:"200%"}),(0,b.jsx)("span",{children:"300%"})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Trigger Condition Type"}),(0,b.jsxs)("select",{value:aN.condition_type,onChange:a=>aP({...aN,condition_type:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",children:[(0,b.jsx)("option",{value:"customer_tier",children:"Customer Tier"}),(0,b.jsx)("option",{value:"wait_time",children:"Wait Time (Minutes)"}),(0,b.jsx)("option",{value:"lifetime_value",children:"Lifetime Value (Minimum)"}),(0,b.jsx)("option",{value:"interaction_count",children:"Interaction Count (Minimum)"})]})]}),"customer_tier"===aN.condition_type&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Customer Tier *"}),(0,b.jsxs)("select",{value:aN.condition_value,onChange:a=>aP({...aN,condition_value:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500",children:[(0,b.jsx)("option",{value:"",children:"Select Tier"}),(0,b.jsx)("option",{value:"vip",children:"VIP"}),(0,b.jsx)("option",{value:"enterprise",children:"Enterprise"}),(0,b.jsx)("option",{value:"premium",children:"Premium"}),(0,b.jsx)("option",{value:"standard",children:"Standard"}),(0,b.jsx)("option",{value:"basic",children:"Basic"})]})]}),"wait_time"===aN.condition_type&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Minimum Wait Time (Minutes): ",aN.wait_time_minutes]}),(0,b.jsx)("input",{type:"number",min:"1",max:"60",value:aN.wait_time_minutes,onChange:a=>aP({...aN,wait_time_minutes:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers waiting longer than this duration"})]}),"lifetime_value"===aN.condition_type&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Lifetime Value (RM)"}),(0,b.jsx)("input",{type:"number",min:"0",step:"100",value:aN.lifetime_value_min,onChange:a=>aP({...aN,lifetime_value_min:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers with lifetime value above this amount"})]}),"interaction_count"===aN.condition_type&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Interaction Count"}),(0,b.jsx)("input",{type:"number",min:"1",value:aN.interaction_count_min,onChange:a=>aP({...aN,interaction_count_min:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-red-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boost priority for customers with this many or more interactions"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"priority_is_active",checked:aN.is_active,onChange:a=>aP({...aN,is_active:a.target.checked}),className:"w-4 h-4 text-red-600 bg-gray-900 border-gray-700 rounded focus:ring-red-500"}),(0,b.jsx)("label",{htmlFor:"priority_is_active",className:"text-sm text-gray-300",children:"Active (Apply this rule to incoming interactions)"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white mb-2",children:"Priority Rule Examples"}),(0,b.jsxs)("ul",{className:"text-sm text-gray-400 space-y-1",children:[(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"VIP Customers:"})," Priority Level 10, +200% boost for customer_tier = VIP"]}),(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"Long Wait:"})," Priority Level 7, +100% boost for wait_time greater than 3 minutes"]}),(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"High Value:"})," Priority Level 8, +150% boost for lifetime_value above RM 10,000"]}),(0,b.jsxs)("li",{children:["â€¢ ",(0,b.jsx)("strong",{children:"Loyal Customers:"})," Priority Level 6, +75% boost for interaction_count above 20"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{ac(!1),am(null)},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:bc,disabled:!aN.priority_name,className:"flex-1 bg-gradient-to-r from-red-500 to-orange-600 hover:from-red-600 hover:to-orange-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:al?"Update Rule":"Create Rule"})]})]})}),ad&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{ae(!1),ap(null),aT([])},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)($.Phone,{className:"w-6 h-6 text-blue-500"}),an?"Edit IVR Configuration":"Create IVR Configuration"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-blue-400 mb-2",children:"About IVR Configuration"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Configure Interactive Voice Response menus with traditional key press options and modern Conversational AI intents. Customers can either press keys or speak naturally to navigate your system."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Menu Name *"}),(0,b.jsx)("input",{type:"text",value:aQ.menu_name,onChange:a=>aR({...aQ,menu_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Main Menu"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:aQ.menu_description,onChange:a=>aR({...aQ,menu_description:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-20",placeholder:"Primary customer service menu..."})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Greeting Message *"}),(0,b.jsx)("textarea",{value:aQ.greeting_text,onChange:a=>aR({...aQ,greeting_text:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-24",placeholder:"Thank you for calling. Press 1 for sales, 2 for support, or just say what you need..."})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Greeting Audio URL (Optional)"}),(0,b.jsx)("input",{type:"text",value:aQ.greeting_audio_url,onChange:a=>aR({...aQ,greeting_audio_url:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"https://example.com/audio/greeting.mp3"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timeout (Seconds)"}),(0,b.jsx)("input",{type:"number",min:"5",max:"60",value:aQ.timeout_seconds,onChange:a=>aR({...aQ,timeout_seconds:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Retries"}),(0,b.jsx)("input",{type:"number",min:"1",max:"5",value:aQ.max_retries,onChange:a=>aR({...aQ,max_retries:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Invalid Option Message"}),(0,b.jsx)("input",{type:"text",value:aQ.invalid_option_message,onChange:a=>aR({...aQ,invalid_option_message:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timeout Message"}),(0,b.jsx)("input",{type:"text",value:aQ.timeout_message,onChange:a=>aR({...aQ,timeout_message:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"md:col-span-2 flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"ivr_use_ai",checked:aQ.use_conversational_ai,onChange:a=>aR({...aQ,use_conversational_ai:a.target.checked}),className:"w-4 h-4 text-purple-600 bg-gray-900 border-gray-700 rounded focus:ring-purple-500"}),(0,b.jsx)("label",{htmlFor:"ivr_use_ai",className:"text-sm text-gray-300",children:"Enable Conversational AI"})]}),aQ.use_conversational_ai&&(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("select",{value:aQ.ai_model,onChange:a=>aR({...aQ,ai_model:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500",children:[(0,b.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,b.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,b.jsx)("option",{value:"claude-3",children:"Claude 3"}),(0,b.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"ivr_is_active",checked:aQ.is_active,onChange:a=>aR({...aQ,is_active:a.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-900 border-gray-700 rounded focus:ring-blue-500"}),(0,b.jsx)("label",{htmlFor:"ivr_is_active",className:"text-sm text-gray-300",children:"Active"})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-700 pt-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Menu Options"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>bi("traditional"),className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-lg flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Key Press"]}),aQ.use_conversational_ai&&(0,b.jsxs)("button",{onClick:()=>bi("ai"),className:"px-3 py-1.5 bg-purple-600 hover:bg-purple-700 text-white text-sm rounded-lg flex items-center gap-2",children:[(0,b.jsx)(as.default,{className:"w-4 h-4"}),"Add AI Intent"]})]})]}),0===aS.length?(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:(0,b.jsx)("p",{className:"text-gray-400",children:"No menu options added yet"})}):(0,b.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:aS.map((a,c)=>(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:a.option_key.startsWith("AI")?"Intent Key":"Key Press"}),(0,b.jsx)("input",{type:"text",value:a.option_key,onChange:a=>bk(c,"option_key",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:a.option_key.startsWith("AI")?"AI_INTENT_1":"1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Label"}),(0,b.jsx)("input",{type:"text",value:a.option_label,onChange:a=>bk(c,"option_label",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:"Sales Department"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Action Type"}),(0,b.jsxs)("select",{value:a.action_type,onChange:a=>bk(c,"action_type",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"transfer_queue",children:"Transfer to Queue"}),(0,b.jsx)("option",{value:"transfer_agent",children:"Transfer to Agent"}),(0,b.jsx)("option",{value:"voicemail",children:"Voicemail"}),(0,b.jsx)("option",{value:"callback",children:"Request Callback"}),(0,b.jsx)("option",{value:"submenu",children:"Sub Menu"}),(0,b.jsx)("option",{value:"hangup",children:"Hang Up"}),a.option_key.startsWith("AI")&&(0,b.jsx)("option",{value:"ai_intent",children:"AI Intent"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Target"}),(0,b.jsx)("input",{type:"text",value:a.action_target,onChange:a=>bk(c,"action_target",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:"sales_queue"})]}),a.option_key.startsWith("AI")&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"AI Intent"}),(0,b.jsx)("input",{type:"text",value:a.ai_intent,onChange:a=>bk(c,"ai_intent",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500",placeholder:"speak_to_sales"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Priority"}),(0,b.jsx)("input",{type:"number",min:"1",max:"10",value:a.priority,onChange:a=>bk(c,"priority",parseInt(a.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white text-sm focus:outline-none focus:border-blue-500"})]}),(0,b.jsxs)("div",{className:"flex items-end gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsx)("input",{type:"checkbox",id:`option_active_${c}`,checked:a.is_active,onChange:a=>bk(c,"is_active",a.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-900 border-gray-700 rounded focus:ring-blue-500"}),(0,b.jsx)("label",{htmlFor:`option_active_${c}`,className:"text-xs text-gray-300",children:"Active"})]}),(0,b.jsx)("button",{onClick:()=>{aT(aS.filter((a,b)=>b!==c))},className:"px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Remove Option",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]})},c))})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{ae(!1),ap(null),aT([])},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:bg,disabled:!aQ.menu_name||!aQ.greeting_text||0===aS.length,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:an?"Update IVR":"Create IVR"})]})]})})]})}var cp=a.i(48604),cp=cp,e=e,bh=bh,aV=aV,bV=bV,aR=aR,cq=a.i(37935),cq=cq,an=an,y=y,u=u,E=E,aG=aG,f=f,bF=bF;function cr({botId:a}){let[d,g]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,o]=(0,c.useState)("all"),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1),[t,x]=(0,c.useState)(null),[z,A]=(0,c.useState)({}),[B,C]=(0,c.useState)(""),[D,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!0),I={MessageSquare:Z.MessageSquare,Share2:cp.default,Users:e.default,Brain:bh.default,Database:aV.default,Phone:$.Phone,Headphones:bV.default,CreditCard:aw.CreditCard,Package:ak.Package,BarChart3:aJ.BarChart3,Zap:aR.default,MoreHorizontal:cq.default,TrendingUp:ar.TrendingUp};(0,c.useEffect)(()=>{a&&J()},[a]);let J=async()=>{H(!0);try{let[b,c,d]=await Promise.all([n.db.from("cb_integration_categories").select("*").order("sort_order"),n.db.from("cb_integration_providers").select("*").eq("is_active",!0),n.db.from("cb_bot_integrations").select("*, cb_integration_providers(*)").eq("bot_id",a)]);b.data&&g(b.data),c.data&&i(c.data),d.data&&l(d.data)}catch(a){console.error("Error loading integration data:",a)}finally{H(!1)}},K=h.filter(a=>{let b="all"===m||a.category_id===m,c=a.provider_display_name.toLowerCase().includes(p.toLowerCase())||a.description?.toLowerCase().includes(p.toLowerCase());return b&&c}),L=(a,b)=>{if(x(a),F(b||null),C(b?.integration_name||`${a.provider_display_name} Integration`),b)A(b.configuration||{});else{let b={};Object.keys(a.configuration_schema||{}).forEach(a=>{b[a]=""}),A(b)}s(!0)},M=()=>{s(!1),x(null),F(null),A({}),C("")},N=async()=>{if(t)try{let b={bot_id:a,provider_id:t.id,integration_name:B,configuration:z,is_active:!0,sync_status:"configured"};if(D){let{error:a}=await n.db.from("cb_bot_integrations").update(b).eq("id",D.id);if(a)throw a}else{let{error:a}=await n.db.from("cb_bot_integrations").insert(b);if(a)throw a}M(),J()}catch(a){alert("Failed to save integration: "+a.message)}},O=async a=>{try{let{error:b}=await n.db.from("cb_bot_integrations").update({is_active:!a.is_active}).eq("id",a.id);if(b)throw b;J()}catch(a){alert("Failed to toggle integration: "+a.message)}},P=async a=>{if(confirm("Are you sure you want to delete this integration?"))try{let{error:b}=await n.db.from("cb_bot_integrations").delete().eq("id",a);if(b)throw b;J()}catch(a){alert("Failed to delete integration: "+a.message)}},Q=async a=>{try{let{error:b}=await n.db.from("cb_bot_integrations").update({sync_status:"testing",last_sync_at:new Date().toISOString()}).eq("id",a.id);if(b)throw b;setTimeout(()=>{n.db.from("cb_bot_integrations").update({sync_status:"connected"}).eq("id",a.id).then(()=>J())},2e3),J()}catch(a){alert("Failed to test connection: "+a.message)}};return G?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(bF.default,{className:"w-8 h-8 text-blue-500 animate-spin"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Channel Integrations"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Connect your chatbot to messaging platforms, CRMs, and other services"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[k.filter(a=>a.is_active).length," Active"]})})]}),(0,b.jsx)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:(0,b.jsx)("input",{type:"text",placeholder:"Search integrations...",value:p,onChange:a=>q(a.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})}),(0,b.jsxs)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[(0,b.jsxs)("button",{onClick:()=>o("all"),className:`px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition-colors ${"all"===m?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["All (",h.length,")"]}),d.map(a=>{let c=h.filter(b=>b.category_id===a.id).length;return(0,b.jsxs)("button",{onClick:()=>o(a.id),className:`px-4 py-2 rounded-lg text-sm font-semibold whitespace-nowrap transition-colors ${m===a.id?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[a.category_display_name," (",c,")"]},a.id)})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(a=>{let c,d=I[a.configuration_schema?.icon]||j.Settings,e=(c=a.id,k.some(a=>a.provider_id===c)),f=k.find(b=>b.provider_id===a.id),g=f?(a=>{if(!a.is_active)return{icon:w.X,color:"text-gray-500",bg:"bg-gray-500/20",label:"Inactive"};switch(a.sync_status){case"connected":return{icon:v.CheckCircle,color:"text-green-500",bg:"bg-green-500/20",label:"Connected"};case"testing":return{icon:bF.default,color:"text-blue-500",bg:"bg-blue-500/20",label:"Testing"};case"error":return{icon:aL.AlertCircle,color:"text-red-500",bg:"bg-red-500/20",label:"Error"};default:return{icon:aL.AlertCircle,color:"text-yellow-500",bg:"bg-yellow-500/20",label:"Configured"}}})(f):null;return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700 hover:border-gray-600 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg ${e?"bg-blue-500/20":"bg-gray-700"} flex items-center justify-center`,children:(0,b.jsx)(d,{className:`w-5 h-5 ${e?"text-blue-500":"text-gray-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:a.provider_display_name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.provider_type})]})]}),e&&g&&(0,b.jsxs)("div",{className:`${g.bg} px-2 py-1 rounded flex items-center gap-1`,children:[(0,b.jsx)(g.icon,{className:`w-3 h-3 ${g.color} ${g.icon===bF.default?"animate-spin":""}`}),(0,b.jsx)("span",{className:`text-xs ${g.color}`,children:g.label})]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[a.capabilities?.slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:a.replace(/_/g," ")},c)),a.capabilities?.length>3&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:["+",a.capabilities.length-3]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:e&&f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>L(a,f),className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configure"]}),(0,b.jsx)("button",{onClick:()=>O(f),className:`px-3 py-2 rounded-lg text-sm font-semibold transition-colors ${f.is_active?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:f.is_active?(0,b.jsx)(w.X,{className:"w-4 h-4"}):(0,b.jsx)(an.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>Q(f),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors",children:(0,b.jsx)(E.default,{className:"w-4 h-4"})})]}):(0,b.jsxs)("button",{onClick:()=>L(a),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Connect"]})})]},a.id)})}),0===K.length&&(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[(0,b.jsx)(j.Settings,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-400 mb-2",children:"No integrations found"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or category filter"})]}),r&&t&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-gray-700 sticky top-0 bg-gray-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white",children:[D?"Configure":"Connect"," ",t.provider_display_name]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:t.description})]}),(0,b.jsx)("button",{onClick:M,className:"text-gray-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Integration Name"}),(0,b.jsx)("input",{type:"text",value:B,onChange:a=>C(a.target.value),placeholder:"e.g., Production Slack Bot",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(f.default,{className:"w-5 h-5 text-blue-400 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-blue-300 mb-1",children:["Authentication: ",t.auth_type]}),(0,b.jsxs)("p",{className:"text-xs text-blue-200/80",children:["api_key"===t.auth_type&&"Enter your API key to authenticate","oauth2"===t.auth_type&&"OAuth 2.0 authentication required","token"===t.auth_type&&"Enter your access token","basic_auth"===t.auth_type&&"Enter your username and password"]})]})]})}),Object.entries(t.configuration_schema||{}).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:a.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}),(0,b.jsx)("input",{type:a.includes("secret")||a.includes("password")||a.includes("token")?"password":"text",value:z[a]||"",onChange:b=>A({...z,[a]:b.target.value}),placeholder:`Enter ${a.replace(/_/g," ")}`,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"})]},a)),(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Capabilities"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:t.capabilities?.map((a,c)=>(0,b.jsx)("span",{className:"px-3 py-1 bg-gray-600 text-gray-200 text-xs rounded-full",children:a.replace(/_/g," ")},c))})]}),t.documentation_url&&(0,b.jsxs)("a",{href:t.documentation_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-400 hover:text-blue-300 text-sm",children:[(0,b.jsx)(aG.default,{className:"w-4 h-4"}),"View Documentation"]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-gray-700 flex gap-3 sticky bottom-0 bg-gray-800",children:[D&&(0,b.jsxs)("button",{onClick:()=>P(D.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(u.default,{className:"w-4 h-4"}),"Delete"]}),(0,b.jsx)("button",{onClick:M,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:N,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:D?"Save Changes":"Connect Integration"})]})]})})]})}var al=al,aV=aV,g=g,bh=bh,y=y,t=t,u=u,R=R,an=an,e=e,aR=aR,bA=bA,bf=bf,a2=a2,a8=a8,bF=bF;function cs(){let[a,d]=(0,c.useState)("dashboard"),[f,h]=(0,c.useState)(!1),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(null),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,v]=(0,c.useState)([]),[x,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(null),[Q,S]=(0,c.useState)({intent_name:"",intent_display_name:"",intent_description:"",training_phrases:[],action_type:"text",is_active:!0,priority:5}),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)({entity_name:"",entity_display_name:"",entity_type:"list",values:[],regex_pattern:"",is_active:!0}),[X,Y]=(0,c.useState)(""),[$,_]=(0,c.useState)(""),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)([]),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(""),[ai,aj]=(0,c.useState)("openai"),[ak,am]=(0,c.useState)(null),[ao,ap]=(0,c.useState)([]),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)([]),[aw,ax]=(0,c.useState)(!1),[ay,az]=(0,c.useState)(null),[aA,aB]=(0,c.useState)({config_name:"",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,temperature:.7,max_tokens:500,is_active:!0}),[aC,aD]=(0,c.useState)({title:"",content:"",content_type:"article",category:"",tags:[],url:"",source_type:"manual",file:null,is_active:!0}),[aF,aG]=(0,c.useState)(""),[aI,aJ]=(0,c.useState)(0),[aK,aM]=(0,c.useState)(!1),[aN,aO]=(0,c.useState)({intent_classifier:{status:"idle",last_trained:null,progress:0},entity_extractor:{status:"idle",last_trained:null,progress:0}});(0,c.useEffect)(()=>{aP()},[]),(0,c.useEffect)(()=>{l&&aS()},[l]);let aP=async()=>{h(!0);try{let{data:a,error:b}=await n.db.from("cb_bots").select("*").order("created_at",{ascending:!1});if(b)throw b;k(a||[]),a&&a.length>0&&!l&&m(a[0].id)}catch(a){console.error("Error loading bots:",a)}finally{h(!1)}},aQ=async()=>{let a=[{name:"WhatsApp Customer Care",description:"Automated WhatsApp bot for customer support and order tracking",platform:"whatsapp",type:"support",status:"active",language:"en",greeting_message:"Hi! Welcome to our WhatsApp support. How can I help you today?",configuration:JSON.stringify({welcome_msg:!0,auto_reply:!0})},{name:"Telegram News Bot",description:"Telegram bot for delivering real-time news updates and alerts",platform:"telegram",type:"informational",status:"active",language:"en",greeting_message:"Welcome to the News Alert bot! You will receive updates here.",configuration:JSON.stringify({categories:["tech","world","finance"]})},{name:"Facebook Sales Assistant",description:"Facebook bot for handling product inquiries and lead generation",platform:"facebook",type:"sales",status:"active",language:"en",greeting_message:"Hello! Interested in our products? I can show you the latest catalog.",configuration:JSON.stringify({flow:"sales_funnel"})},{name:"TikTok Interactive Bot",description:"TikTok bot for engaging with followers and managing contests",platform:"tiktok",type:"engagement",status:"active",language:"en",greeting_message:"Hey TikToker! Ready to join the challenge?",configuration:JSON.stringify({mode:"contest"})},{name:"Messenger Support Bot",description:"Messenger bot for 24/7 automated customer service",platform:"messenger",type:"support",status:"active",language:"en",greeting_message:"How can we assist you on Messenger today?",configuration:JSON.stringify({persistent_menu:!0})},{name:"Instagram Shopping Bot",description:"Instagram bot for product catalogs and seamless shopping experience",platform:"instagram",type:"sales",status:"active",language:"en",greeting_message:"Welcome to our Instagram shop! Browse our latest collections.",configuration:JSON.stringify({shop_id:"instashop_1"})},{name:"Viber Business Bot",description:"Viber bot for secure business communications and notifications",platform:"viber",type:"business",status:"active",language:"en",greeting_message:"Welcome to our official Viber business account.",configuration:JSON.stringify({security:"high"})},{name:"Webchat Help Desk",description:"Webchat bot for real-time website assistance and FAQ handling",platform:"webchat",type:"support",status:"active",language:"en",greeting_message:"Hello! How can I help you with our website today?",configuration:JSON.stringify({theme:"blue"})},{name:"Line Service Bot",description:"Line bot for service bookings and appointment management",platform:"line",type:"service",status:"active",language:"en",greeting_message:"Welcome! Use this bot to book your next appointment.",configuration:JSON.stringify({calendar_id:"line_cal_1"})},{name:"Line Global Bot",description:"Global Line bot for multi-language customer engagement",platform:"line",type:"conversational",status:"active",language:"en",greeting_message:"Hello and welcome to our global Line channel.",configuration:JSON.stringify({regions:["APAC","EMEA","AMER"]})}];h(!0);try{await n.db.from("cb_bots").insert(a);let{data:b,error:c}=await n.db.from("cb_bots").select("*");if(c)throw c;for(let c of b||[]){if(!a.find(a=>a.name===c.name))continue;let b=[{bot_id:c.id,intent_name:"greeting",intent_display_name:"Greeting",intent_description:"User says hello",training_phrases:JSON.stringify(["Hi","Hello","Hey there"]),action_type:"text",priority:5},{bot_id:c.id,intent_name:"help",intent_display_name:"Help Request",intent_description:"User needs assistance",training_phrases:JSON.stringify(["Help","I need help","Support"]),action_type:"text",priority:4},{bot_id:c.id,intent_name:"bye",intent_display_name:"Goodbye",intent_description:"User says goodbye",training_phrases:JSON.stringify(["Bye","Goodbye","See you"]),action_type:"text",priority:5},{bot_id:c.id,intent_name:"status_check",intent_display_name:"Status Check",intent_description:"Check order/service status",training_phrases:JSON.stringify(["Where is my order?","Track status","Check my booking"]),action_type:"api",priority:3},{bot_id:c.id,intent_name:"refund",intent_display_name:"Refund Inquiry",intent_description:"Inquire about refunds",training_phrases:JSON.stringify(["I want a refund","Refund policy","Money back"]),action_type:"text",priority:2}];await n.db.from("cb_intents").insert(b);let d=[{bot_id:c.id,entity_name:"order_id",entity_display_name:"Order ID",entity_type:"regex",regex_pattern:"ORD-\\d{5}",is_active:!0},{bot_id:c.id,entity_name:"product_type",entity_display_name:"Product Type",entity_type:"list",values:JSON.stringify([{value:"electronics",synonyms:["gadget","tech"]},{value:"fashion",synonyms:["clothing","wear"]}]),is_active:!0}];await n.db.from("cb_entities").insert(d);let e=[{bot_id:c.id,title:"How to use this bot",content:"Simply type your request in natural language. I can help with orders, support, and FAQs.",content_type:"article",category:"General"},{bot_id:c.id,title:"Return Policy",content:"Our return policy allows items to be returned within 30 days of purchase.",content_type:"faq",category:"Policies"},{bot_id:c.id,title:"Shipping Times",content:"Standard shipping takes 3-5 business days. Express takes 1-2.",content_type:"faq",category:"Shipping"}];await n.db.from("cb_knowledge_base").insert(e);let f={bot_id:c.id,config_name:"Standard NLU Config",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,is_active:!0};await n.db.from("cb_ml_configs").insert(f);let g=`session-${Math.random().toString(36).substr(2,9)}`,{data:h,error:i}=await n.db.from("cb_conversations").insert({bot_id:c.id,session_id:g,user_id:`user-${Math.random().toString(36).substr(2,5)}`,channel:c.platform||"web",status:"completed",message_count:2});if(h){let a=Array.isArray(h)?h[0].id:h.id;await n.db.from("cb_messages").insert([{conversation_id:a,message_type:"user",message_text:"Hello, I need help with my order",detected_intent:"help",intent_confidence:.95},{conversation_id:a,message_type:"bot",message_text:"Hi! Sure, I can help you with that. What is your order ID?"}])}}alert("Successfully seeded 10 bots with full sample data sets!"),await aP()}catch(a){console.error("Error seeding bots:",a),alert("Failed to seed sample bots: "+a.message)}finally{h(!1)}},aS=async()=>{l&&await Promise.all([aU(),aW(),aX(),aY(),aZ(),aT()])},aT=async()=>{if(l)try{let{data:a,error:b}=await n.db.from("cb_ml_configs").select("*").eq("bot_id",l).order("created_at",{ascending:!1});if(b)throw b;av(a||[])}catch(a){console.error("Error loading ML configs:",a)}},aU=async()=>{if(l)try{let{data:a,error:b}=await n.db.from("cb_intents").select("*").eq("bot_id",l).order("priority",{ascending:!1});if(b)throw b;let c=(a||[]).map(a=>({...a,training_phrases:"string"==typeof a.training_phrases?JSON.parse(a.training_phrases):a.training_phrases||[]}));p(c)}catch(a){console.error("Error loading intents:",a)}},aW=async()=>{if(l)try{let{data:a,error:b}=await n.db.from("cb_entities").select("*").eq("bot_id",l).order("entity_display_name");if(b)throw b;let c=(a||[]).map(a=>({...a,values:"string"==typeof a.values?JSON.parse(a.values):a.values||[]}));r(c)}catch(a){console.error("Error loading entities:",a)}},aX=async()=>{if(l)try{let{data:a,error:b}=await n.db.from("cb_conversations").select("*").eq("bot_id",l).order("started_at",{ascending:!1}).limit(50);if(b)throw b;v(a||[])}catch(a){console.error("Error loading conversations:",a)}},aY=async()=>{if(l)try{let{data:a,error:b}=await n.db.from("cb_knowledge_base").select("*").eq("bot_id",l).order("created_at",{ascending:!1});if(b)throw b;let c=(a||[]).map(a=>({...a,tags:"string"==typeof a.tags?JSON.parse(a.tags):a.tags||[]}));B(c)}catch(a){console.error("Error loading knowledge base:",a)}},aZ=async()=>{if(l)try{let{data:a,error:b}=await n.db.from("cb_integrations").select("*").eq("bot_id",l).order("integration_name");if(b)throw b;D(a||[])}catch(a){console.error("Error loading integrations:",a)}},a$=()=>{S({intent_name:"",intent_display_name:"",intent_description:"",training_phrases:[],action_type:"text",is_active:!0,priority:5}),U("")},a_=()=>{W({entity_name:"",entity_display_name:"",entity_type:"list",values:[],regex_pattern:"",is_active:!0}),Y(""),_("")},a1=()=>{T.trim()&&(S({...Q,training_phrases:[...Q.training_phrases,T.trim()]}),U(""))},a3=async a=>{if(confirm("Are you sure you want to delete this intent?"))try{let{error:b}=await n.db.from("cb_intents").delete().eq("id",a);if(b)throw b;aU()}catch(a){alert("Failed to delete intent: "+a.message)}},a4=async()=>{if(!l||!Q.intent_name||!Q.intent_display_name)return void alert("Please fill in all required fields");try{if(K){let{error:a}=await n.db.from("cb_intents").update({intent_name:Q.intent_name,intent_display_name:Q.intent_display_name,intent_description:Q.intent_description,training_phrases:Q.training_phrases,action_type:Q.action_type,is_active:Q.is_active,priority:Q.priority}).eq("id",K);if(a)throw a}else{let{error:a}=await n.db.from("cb_intents").insert({bot_id:l,intent_name:Q.intent_name,intent_display_name:Q.intent_display_name,intent_description:Q.intent_description,training_phrases:Q.training_phrases,action_type:Q.action_type,is_system_intent:!1,is_active:Q.is_active,priority:Q.priority});if(a)throw a}F(!1),L(null),a$(),aU()}catch(a){alert("Failed to save intent: "+a.message)}},a5=async a=>{if(confirm("Are you sure you want to delete this entity?"))try{let{error:b}=await n.db.from("cb_entities").delete().eq("id",a);if(b)throw b;aW()}catch(a){alert("Failed to delete entity: "+a.message)}},a6=async()=>{if(!l||!V.entity_name||!V.entity_display_name)return void alert("Please fill in all required fields");try{if(M){let{error:a}=await n.db.from("cb_entities").update({entity_name:V.entity_name,entity_display_name:V.entity_display_name,entity_type:V.entity_type,values:V.values,regex_pattern:V.regex_pattern||null,is_active:V.is_active}).eq("id",M);if(a)throw a}else{let{error:a}=await n.db.from("cb_entities").insert({bot_id:l,entity_name:V.entity_name,entity_display_name:V.entity_display_name,entity_type:V.entity_type,values:V.values,regex_pattern:V.regex_pattern||null,is_active:V.is_active});if(a)throw a}H(!1),N(null),a_(),aW()}catch(a){alert("Failed to save entity: "+a.message)}},a7=async()=>{if(!aa.trim()||ae||!l)return;let a={type:"user",text:aa,timestamp:new Date};ad(b=>[...b,a]),ab(""),af(!0);try{let a=`${process.env.NEXT_PUBLIC_SUPABASE_URL}/functions/v1/chatbot-query`,b=await fetch(a,{method:"POST",headers:{Authorization:`Bearer ${process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({bot_id:l,message:aa,session_id:ag||void 0,user_id:"test_user",channel:"web_test",llm_provider:ai})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to get chatbot response")}let c=await b.json();!ag&&c.session_id&&ah(c.session_id);let d={type:"bot",text:c.response,timestamp:new Date,intent:c.detected_intent?.intent_name||null,confidence:c.detected_intent?.confidence||0,provider:c.provider,model:c.model,kb_used:c.knowledge_base_used,metadata:c.metadata};ad(a=>[...a,d])}catch(b){console.error("Error processing message:",b);let a={type:"bot",text:`Error: ${b.message||"Failed to process your message. Please check your API keys and try again."}`,timestamp:new Date,intent:null,confidence:0,isError:!0};ad(b=>[...b,a])}finally{af(!1)}},a9=async a=>{try{let{data:b,error:c}=await n.db.from("cb_messages").select("*").eq("conversation_id",a).order("created_at",{ascending:!0});if(c)throw c;ap(b||[]),am(a),at(!0)}catch(a){console.error("Error loading conversation messages:",a)}},ba=()=>{aB({config_name:"",nlu_engine:"llm",llm_provider:"openai",llm_model:"gpt-3.5-turbo",confidence_threshold:.7,temperature:.7,max_tokens:500,is_active:!0})},bb=async a=>{if(confirm("Are you sure you want to delete this ML configuration?"))try{let{error:b}=await n.db.from("cb_ml_configs").delete().eq("id",a);if(b)throw b;aT()}catch(a){alert("Failed to delete ML config: "+a.message)}},bc=async()=>{if(!l||!aA.config_name)return void alert("Please fill in all required fields");try{if(ay){let{error:a}=await n.db.from("cb_ml_configs").update(aA).eq("id",ay);if(a)throw a}else{let{error:a}=await n.db.from("cb_ml_configs").insert({bot_id:l,...aA});if(a)throw a}ax(!1),az(null),ba(),aT()}catch(a){alert("Failed to save ML config: "+a.message)}},bd=async a=>{aO(b=>({...b,[a]:{...b[a],status:"training",progress:0}}));let b=setInterval(()=>{aO(c=>{let d=c[a].progress;return d>=100?(clearInterval(b),{...c,[a]:{status:"completed",last_trained:new Date().toISOString(),progress:100}}):{...c,[a]:{...c[a],progress:d+10}}})},300);setTimeout(()=>{clearInterval(b),aO(b=>({...b,[a]:{status:"completed",last_trained:new Date().toISOString(),progress:100}})),setTimeout(()=>{aO(b=>({...b,[a]:{...b[a],status:"idle",progress:0}}))},2e3)},3500)},be=()=>{aD({title:"",content:"",content_type:"article",category:"",tags:[],url:"",source_type:"manual",file:null,is_active:!0}),aG(""),aJ(0)},bg=()=>{aF.trim()&&!aC.tags.includes(aF.trim())&&(aD({...aC,tags:[...aC.tags,aF.trim()]}),aG(""))},bi=async a=>{if(confirm("Are you sure you want to delete this article?"))try{let{error:b}=await n.db.from("cb_knowledge_base").delete().eq("id",a);if(b)throw b;aY()}catch(a){alert("Failed to delete article: "+a.message)}},bj=async a=>{aM(!0),aJ(0);try{let b=new FileReader;if(b.onprogress=a=>{a.lengthComputable&&aJ(a.loaded/a.total*100)},b.onload=async b=>{let c=b.target?.result;aD(b=>({...b,content:c,title:b.title||a.name.replace(/\.[^/.]+$/,"")})),aJ(100),aM(!1)},"application/pdf"===a.type){alert("PDF parsing requires a backend service. Please copy/paste content for now."),aM(!1);return}b.readAsText(a)}catch(a){alert("Failed to process file: "+a.message),aM(!1)}},bk=async a=>{aM(!0);try{let b=await fetch(a),c=await b.text(),d=new DOMParser().parseFromString(c,"text/html"),e=d.body.innerText;aD(b=>({...b,content:e,url:a,title:b.title||d.title||"Imported from URL"})),alert("Content imported successfully from URL")}catch(a){alert("Failed to fetch URL: "+a.message)}finally{aM(!1)}},bl=async()=>{if(!l||!aC.title||!aC.content)return void alert("Please fill in title and content");try{let a={title:aC.title,content:aC.content,content_type:aC.content_type,category:aC.category||null,tags:aC.tags.length>0?aC.tags:null,url:aC.url||null,is_active:aC.is_active,metadata:{source_type:aC.source_type,imported_at:new Date().toISOString()}};if(O){let{error:b}=await n.db.from("cb_knowledge_base").update(a).eq("id",O);if(b)throw b}else{let{error:b}=await n.db.from("cb_knowledge_base").insert({bot_id:l,...a});if(b)throw b}J(!1),P(null),be(),aY()}catch(a){alert("Failed to save article: "+a.message)}};if(f)return(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Loading chatbot builder..."})]})});let bm=j.find(a=>a.id===l);return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(aq.Bot,{className:"w-8 h-8 text-blue-500"}),"AI Chatbot Builder"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Build intelligent conversational AI with advanced NLU and multi-turn conversations"}),bm&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Current Bot:"}),(0,b.jsx)("select",{value:l||"",onChange:a=>m(a.target.value),className:"bg-gray-800 border border-gray-700 text-blue-400 font-medium px-2 py-1 rounded transition-colors focus:outline-none focus:border-blue-500",children:j.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"active"===bm.status?"bg-green-500/20 text-green-400":"training"===bm.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:bm.status}),(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded uppercase font-bold",children:bm.platform||"web"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:aQ,disabled:f,className:"bg-gray-800 text-white px-4 py-2 rounded-lg font-semibold border border-gray-700 hover:bg-gray-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[(0,b.jsx)(aV.default,{className:"w-4 h-4 text-blue-400"}),"Load Sample Bots"]}),(0,b.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Chatbot"]})]})]})}),0===j.length?(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-12 text-center",children:[(0,b.jsx)(aq.Bot,{className:"w-20 h-20 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No chatbots found"}),(0,b.jsx)("p",{className:"text-gray-400 mb-6",children:"Create your first AI chatbot to get started"}),(0,b.jsxs)("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5 inline mr-2"}),"Create Chatbot"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,b.jsxs)("button",{onClick:()=>d("dashboard"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"dashboard"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(ar.TrendingUp,{className:"w-4 h-4"}),"Dashboard"]}),(0,b.jsxs)("button",{onClick:()=>d("intents"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"intents"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4"}),"Intents (",o.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("entities"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"entities"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(al.default,{className:"w-4 h-4"}),"Entities (",q.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("chat"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"chat"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(a0.MessageCircle,{className:"w-4 h-4"}),"Test Chat"]}),(0,b.jsxs)("button",{onClick:()=>d("logs"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"logs"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Conversation Logs (",s.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("ml-settings"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"ml-settings"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(bh.default,{className:"w-4 h-4"}),"ML Settings"]}),(0,b.jsxs)("button",{onClick:()=>d("knowledge-base"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"knowledge-base"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(aE.BookOpen,{className:"w-4 h-4"}),"Knowledge Base (",A.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("integrations"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"integrations"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(g.default,{className:"w-4 h-4"}),"Integrations (",C.length,")"]})]}),"dashboard"===a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Intents"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:o.length}),(0,b.jsxs)("div",{className:"text-white/70 text-sm mt-1",children:[o.filter(a=>a.is_active).length," active"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(al.default,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Entities"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:q.length}),(0,b.jsxs)("div",{className:"text-white/70 text-sm mt-1",children:[q.filter(a=>a.is_active).length," active"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(e.default,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Conversations"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:s.length}),(0,b.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Total sessions"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(aR.default,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Engine"})]}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:bm?.nlu_engine}),(0,b.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"NLU Engine"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Bot Configuration"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bot Name"}),(0,b.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:bm?.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language"}),(0,b.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:bm?.language})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confidence Threshold"}),(0,b.jsx)("div",{className:"bg-gray-700 rounded px-4 py-2 text-white",children:bm?.confidence_threshold})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,b.jsx)("div",{className:`rounded px-4 py-2 font-medium ${bm?.status==="active"?"bg-green-500/20 text-green-400":bm?.status==="training"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:bm?.status})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Features Enabled"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Multi-turn Conversations"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Intent Recognition (ML)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Entity Extraction (ML)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"API Tool Calling"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Context Management"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Knowledge Base RAG"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Spacy Word Embeddings"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Zero-shot NLU (LLM)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)(an.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white",children:"Channel Integrations"})]})]})]})]}),"intents"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Intent Management"}),(0,b.jsxs)("button",{onClick:()=>{L(null),a$(),F(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Intent"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:o.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:a.intent_display_name}),(0,b.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:["(",a.intent_name,")"]}),a.is_system_intent&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"System"}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${a.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.is_active?"Active":"Inactive"}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:["Priority: ",a.priority]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:a.intent_description})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{L(a.id),S({intent_name:a.intent_name,intent_display_name:a.intent_display_name,intent_description:a.intent_description,training_phrases:a.training_phrases||[],action_type:a.action_type,is_active:a.is_active,priority:a.priority}),F(!0)},className:"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-600/20 rounded transition-colors",title:"Edit Intent",children:(0,b.jsx)(t.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>a3(a.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",title:"Delete Intent",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["Training Phrases (",a.training_phrases.length,"):"]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.training_phrases.slice(0,5).map((a,c)=>(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-sm rounded",children:['"',a,'"']},c)),a.training_phrases.length>5&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-400 text-sm rounded",children:["+",a.training_phrases.length-5," more"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Action:"}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"api"===a.action_type?"bg-orange-500/20 text-orange-400":"text"===a.action_type?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:a.action_type})]})]})]},a.id))})]}),"entities"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Entity Management"}),(0,b.jsxs)("button",{onClick:()=>{N(null),a_(),H(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Entity"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:q.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:a.entity_display_name}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"system"===a.entity_type?"bg-blue-500/20 text-blue-400":"regex"===a.entity_type?"bg-purple-500/20 text-purple-400":"list"===a.entity_type?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.entity_type}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${a.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.is_active?"Active":"Inactive"})]}),(0,b.jsxs)("p",{className:"text-gray-500 text-sm font-mono",children:["@",a.entity_name]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{N(a.id),W({entity_name:a.entity_name,entity_display_name:a.entity_display_name,entity_type:a.entity_type,values:a.values||[],regex_pattern:a.regex_pattern||"",is_active:a.is_active}),H(!0)},className:"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-600/20 rounded transition-colors",title:"Edit Entity",children:(0,b.jsx)(t.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>a5(a.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",title:"Delete Entity",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]}),a.regex_pattern&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-gray-700 rounded",children:[(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Pattern:"}),(0,b.jsx)("code",{className:"text-xs text-green-400 font-mono block mt-1",children:a.regex_pattern})]})]},a.id))})]}),"chat"===a&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Chat Interface"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Test your chatbot with real LLM integration"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{onClick:()=>{ad([]),ah("")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors",children:"Clear Chat"})})]}),(0,b.jsxs)("div",{className:"mb-4 flex gap-2 items-center bg-gray-700 p-3 rounded-lg",children:[(0,b.jsx)("span",{className:"text-sm text-gray-300 font-medium",children:"LLM Provider:"}),(0,b.jsx)("button",{onClick:()=>aj("openai"),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-colors ${"openai"===ai?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"OpenAI"}),(0,b.jsx)("button",{onClick:()=>aj("gemini"),className:`px-4 py-1.5 rounded-lg text-sm font-semibold transition-colors ${"gemini"===ai?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"Google Gemini"}),ag&&(0,b.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-xs",children:[(0,b.jsx)("span",{className:"text-gray-400",children:"Session:"}),(0,b.jsxs)("span",{className:"text-gray-300 font-mono",children:[ag.substring(0,8),"..."]})]})]}),(0,b.jsx)("div",{className:"bg-gray-900 rounded-lg h-96 overflow-y-auto p-4 mb-4",children:0===ac.length?(0,b.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{className:"mb-2",children:"Start a conversation to test your bot"}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:["Using ","openai"===ai?"OpenAI GPT":"Google Gemini"]})]})}):(0,b.jsxs)("div",{className:"space-y-4",children:[ac.map((a,c)=>(0,b.jsx)("div",{className:`flex ${"user"===a.type?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`max-w-[80%] rounded-lg p-3 ${"user"===a.type?"bg-blue-600 text-white":a.isError?"bg-red-900/50 text-red-200 border border-red-700":"bg-gray-700 text-gray-200"}`,children:[(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.text}),"bot"===a.type&&!a.isError&&(0,b.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-600 space-y-1",children:[a.intent&&(0,b.jsxs)("div",{className:"text-xs opacity-75",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Intent:"})," ",a.intent," (",(100*a.confidence).toFixed(1),"%)"]}),a.provider&&(0,b.jsxs)("div",{className:"text-xs opacity-75",children:[(0,b.jsx)("span",{className:"font-semibold",children:"Model:"})," ",a.provider,"/",a.model]}),a.kb_used&&(0,b.jsxs)("div",{className:"text-xs text-green-400",children:[(0,b.jsx)(an.default,{className:"w-3 h-3 inline mr-1"}),"Knowledge Base Used (",a.metadata?.kb_matches||0," matches)"]})]})]})},c)),ae&&(0,b.jsx)("div",{className:"flex justify-start",children:(0,b.jsx)("div",{className:"bg-gray-700 text-gray-200 rounded-lg p-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bF.default,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{className:"text-sm",children:"Thinking..."})]})})})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:aa,onChange:a=>ab(a.target.value),onKeyPress:a=>"Enter"===a.key&&!a.shiftKey&&a7(),placeholder:"Type your message here...",disabled:ae,className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 disabled:opacity-50"}),(0,b.jsx)("button",{onClick:a7,disabled:ae||!aa.trim(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:ae?"Sending...":"Send"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Debug Info"}),(0,b.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 h-[500px] overflow-y-auto",children:(0,b.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-400 font-semibold mb-1",children:"Configuration"}),(0,b.jsxs)("div",{className:"bg-gray-800 p-2 rounded",children:[(0,b.jsxs)("div",{className:"text-gray-300",children:["Bot ID: ",(0,b.jsx)("span",{className:"text-blue-400 font-mono",children:l})]}),(0,b.jsxs)("div",{className:"text-gray-300",children:["Session ID: ",(0,b.jsx)("span",{className:"text-blue-400 font-mono",children:ag||"Not started"})]}),(0,b.jsxs)("div",{className:"text-gray-300",children:["LLM Provider: ",(0,b.jsx)("span",{className:"text-blue-400",children:ai})]}),(0,b.jsxs)("div",{className:"text-gray-300",children:["Messages: ",(0,b.jsx)("span",{className:"text-blue-400",children:ac.length})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-400 font-semibold mb-1",children:"Last Response Metadata"}),(0,b.jsx)("div",{className:"bg-gray-800 p-2 rounded",children:ac.length>0&&"bot"===ac[ac.length-1].type?(0,b.jsx)("pre",{className:"text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(ac[ac.length-1],null,2)}):(0,b.jsx)("div",{className:"text-gray-500",children:"No bot response yet"})})]})]})})]})]}),"logs"===a&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Conversation Logs"}),(0,b.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Session ID"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"User"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Channel"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Messages"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Status"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-300",children:"Started"})]})}),(0,b.jsx)("tbody",{children:s.map(a=>(0,b.jsxs)("tr",{onClick:()=>a9(a.id),className:"border-t border-gray-700 hover:bg-gray-700 cursor-pointer transition-colors",children:[(0,b.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-300 font-mono",children:[a.session_id.substring(0,12),"..."]}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:a.user_id}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:a.channel})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:a.message_count}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"completed"===a.status?"bg-green-500/20 text-green-400":"active"===a.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-400",children:new Date(a.started_at).toLocaleString()})]},a.id))})]})})]}),"ml-settings"===a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"ML & NLU Configuration"}),(0,b.jsxs)("button",{onClick:()=>{az(null),ba(),ax(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New ML Config"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:au.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:a.config_name}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${a.is_active?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:a.is_active?"Active":"Inactive"})]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{az(a.id),aB({config_name:a.config_name,nlu_engine:a.nlu_engine,llm_provider:a.llm_provider,llm_model:a.llm_model,confidence_threshold:a.confidence_threshold,temperature:a.temperature,max_tokens:a.max_tokens,is_active:a.is_active}),ax(!0)},className:"text-blue-400 hover:text-blue-300 p-2 hover:bg-blue-600/20 rounded transition-colors",children:(0,b.jsx)(t.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>bb(a.id),className:"text-red-400 hover:text-red-300 p-2 hover:bg-red-600/20 rounded transition-colors",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"NLU Engine:"}),(0,b.jsx)("p",{className:"text-white font-medium",children:a.nlu_engine})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"LLM Provider:"}),(0,b.jsx)("p",{className:"text-white font-medium",children:a.llm_provider})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Model:"}),(0,b.jsx)("p",{className:"text-white font-medium",children:a.llm_model})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Confidence:"}),(0,b.jsxs)("p",{className:"text-white font-medium",children:[(100*a.confidence_threshold).toFixed(0),"%"]})]})]})]},a.id))}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(aR.default,{className:"w-5 h-5 text-yellow-500"}),"Training Status"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-white font-semibold flex items-center gap-2",children:["Intent Classifier","training"===aN.intent_classifier.status&&(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"completed"===aN.intent_classifier.status&&(0,b.jsx)(an.default,{className:"w-4 h-4 text-green-500"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:aN.intent_classifier.last_trained?`Last trained: ${new Date(aN.intent_classifier.last_trained).toLocaleString()}`:"Never trained"})]}),(0,b.jsxs)("button",{onClick:()=>bd("intent_classifier"),disabled:"training"===aN.intent_classifier.status,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Train Now"]})]}),"training"===aN.intent_classifier.status&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${aN.intent_classifier.progress}%`}})}),(0,b.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Training in progress... ",aN.intent_classifier.progress,"%"]})]})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h4",{className:"text-white font-semibold flex items-center gap-2",children:["Entity Extractor","training"===aN.entity_extractor.status&&(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),"completed"===aN.entity_extractor.status&&(0,b.jsx)(an.default,{className:"w-4 h-4 text-green-500"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:aN.entity_extractor.last_trained?`Last trained: ${new Date(aN.entity_extractor.last_trained).toLocaleString()}`:"Never trained"})]}),(0,b.jsxs)("button",{onClick:()=>bd("entity_extractor"),disabled:"training"===aN.entity_extractor.status,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Train Now"]})]}),"training"===aN.entity_extractor.status&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("div",{className:"w-full bg-gray-600 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${aN.entity_extractor.progress}%`}})}),(0,b.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Training in progress... ",aN.entity_extractor.progress,"%"]})]})]})]}),(0,b.jsx)("div",{className:"mt-6 bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,b.jsx)("p",{className:"font-semibold text-blue-400 mb-1",children:"Training Information"}),(0,b.jsx)("p",{children:"Training uses your configured intents and entities to improve the NLU model. The process typically takes 3-5 seconds and includes data validation, feature extraction, and model optimization."})]})]})})]})]}),"knowledge-base"===a&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:"Knowledge Base & FAQ"}),(0,b.jsxs)("button",{onClick:()=>J(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Article"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:A.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:a.title}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"faq"===a.content_type?"bg-blue-500/20 text-blue-400":"article"===a.content_type?"bg-purple-500/20 text-purple-400":"bg-gray-500/20 text-gray-400"}`,children:a.content_type}),a.category&&(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:a.category})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm line-clamp-2",children:a.content})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{P(a.id),aD({title:a.title,content:a.content,content_type:a.content_type,category:a.category||"",tags:a.tags||[],url:"",source_type:"manual",file:null,is_active:a.is_active}),J(!0)},className:"text-blue-400 hover:text-blue-300 p-2",children:(0,b.jsx)(t.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>bi(a.id),className:"text-red-400 hover:text-red-300 p-2",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:a.tags.map((a,c)=>(0,b.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:["#",a]},c))})]},a.id))})]}),"integrations"===a&&l&&(0,b.jsx)(cr,{botId:l})]}),E&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{F(!1),L(null),a$()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-6 h-6 text-blue-500"}),K?"Edit Intent":"Create New Intent"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Intent Name *"}),(0,b.jsx)("input",{type:"text",value:Q.intent_name,onChange:a=>S({...Q,intent_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"greeting"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase, no spaces (e.g., order_status)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),(0,b.jsx)("input",{type:"text",value:Q.intent_display_name,onChange:a=>S({...Q,intent_display_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Greeting"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:Q.intent_description,onChange:a=>S({...Q,intent_description:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-20",placeholder:"Describe what this intent represents..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Training Phrases"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("input",{type:"text",value:T,onChange:a=>U(a.target.value),onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),a1()),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter a training phrase and press Enter"}),(0,b.jsx)("button",{onClick:a1,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:(0,b.jsx)(y.default,{className:"w-5 h-5"})})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:Q.training_phrases.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-lg",children:[(0,b.jsx)("span",{className:"text-white text-sm",children:a}),(0,b.jsx)("button",{onClick:()=>{S({...Q,training_phrases:Q.training_phrases.filter((a,b)=>b!==c)})},className:"text-red-400 hover:text-red-300",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]},c))}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Add at least 5 training phrases for better accuracy"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Action Type"}),(0,b.jsxs)("select",{value:Q.action_type,onChange:a=>S({...Q,action_type:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"text",children:"Text Response"}),(0,b.jsx)("option",{value:"api",children:"API Call"}),(0,b.jsx)("option",{value:"webhook",children:"Webhook"}),(0,b.jsx)("option",{value:"knowledge_base",children:"Knowledge Base"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Priority"}),(0,b.jsx)("input",{type:"number",value:Q.priority,onChange:a=>S({...Q,priority:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",min:"1",max:"10"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 h-10",children:[(0,b.jsx)("input",{type:"checkbox",checked:Q.is_active,onChange:a=>S({...Q,is_active:a.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,b.jsx)("span",{className:"text-white",children:"Active"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{F(!1),L(null),a$()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:a4,disabled:!Q.intent_name||!Q.intent_display_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:K?"Update Intent":"Create Intent"})]})]})]})}),G&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{H(!1),N(null),a_()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(al.default,{className:"w-6 h-6 text-blue-500"}),M?"Edit Entity":"Create New Entity"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Name *"}),(0,b.jsx)("input",{type:"text",value:V.entity_name,onChange:a=>W({...V,entity_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"product_name"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lowercase, no spaces (e.g., product_type)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Display Name *"}),(0,b.jsx)("input",{type:"text",value:V.entity_display_name,onChange:a=>W({...V,entity_display_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Product Name"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Type"}),(0,b.jsxs)("select",{value:V.entity_type,onChange:a=>W({...V,entity_type:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"list",children:"List - Predefined values with synonyms"}),(0,b.jsx)("option",{value:"regex",children:"Regex - Pattern matching"}),(0,b.jsx)("option",{value:"system",children:"System - Built-in (date, time, number, etc.)"})]})]}),"list"===V.entity_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entity Values"}),(0,b.jsxs)("div",{className:"space-y-3 mb-3",children:[(0,b.jsx)("input",{type:"text",value:X,onChange:a=>Y(a.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter value (e.g., laptop)"}),(0,b.jsx)("input",{type:"text",value:$,onChange:a=>_(a.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Enter synonyms separated by commas (e.g., notebook, computer)"}),(0,b.jsxs)("button",{onClick:()=>{if(X.trim()){let a={value:X.trim(),synonyms:$?$.split(",").map(a=>a.trim()):[]};W({...V,values:[...V.values,a]}),Y(""),_("")}},className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Value"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:V.values.map((a,c)=>(0,b.jsxs)("div",{className:"bg-gray-800 p-3 rounded-lg flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-semibold",children:a.value}),a.synonyms&&a.synonyms.length>0&&(0,b.jsxs)("div",{className:"text-sm text-gray-400 mt-1",children:["Synonyms: ",a.synonyms.join(", ")]})]}),(0,b.jsx)("button",{onClick:()=>{W({...V,values:V.values.filter((a,b)=>b!==c)})},className:"text-red-400 hover:text-red-300",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]},c))})]}),"regex"===V.entity_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Regex Pattern"}),(0,b.jsx)("input",{type:"text",value:V.regex_pattern,onChange:a=>W({...V,regex_pattern:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"^[A-Z]{2}\\d{6}$"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a valid regular expression pattern"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:V.is_active,onChange:a=>W({...V,is_active:a.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,b.jsx)("span",{className:"text-white",children:"Active"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{H(!1),N(null),a_()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:a6,disabled:!V.entity_name||!V.entity_display_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:M?"Update Entity":"Create Entity"})]})]})]})}),aw&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-3xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{ax(!1),az(null),ba()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(bh.default,{className:"w-6 h-6 text-blue-500"}),ay?"Edit ML Configuration":"Create ML Configuration"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Configuration Name *"}),(0,b.jsx)("input",{type:"text",value:aA.config_name,onChange:a=>aB({...aA,config_name:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Production Config"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"NLU Engine"}),(0,b.jsxs)("select",{value:aA.nlu_engine,onChange:a=>aB({...aA,nlu_engine:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"spacy",children:"Spacy (Word Embeddings)"}),(0,b.jsx)("option",{value:"llm",children:"LLM (Zero-shot)"}),(0,b.jsx)("option",{value:"hybrid",children:"Hybrid (Spacy + LLM)"}),(0,b.jsx)("option",{value:"rasa",children:"Rasa NLU"}),(0,b.jsx)("option",{value:"dialogflow",children:"Dialogflow"}),(0,b.jsx)("option",{value:"luis",children:"Microsoft LUIS"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LLM Provider"}),(0,b.jsxs)("select",{value:aA.llm_provider,onChange:a=>aB({...aA,llm_provider:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"openai",children:"OpenAI"}),(0,b.jsx)("option",{value:"gemini",children:"Google Gemini"}),(0,b.jsx)("option",{value:"anthropic",children:"Anthropic (Claude)"}),(0,b.jsx)("option",{value:"azure",children:"Azure OpenAI"}),(0,b.jsx)("option",{value:"cohere",children:"Cohere"}),(0,b.jsx)("option",{value:"huggingface",children:"HuggingFace"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Model"}),(0,b.jsxs)("select",{value:aA.llm_model,onChange:a=>aB({...aA,llm_model:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:["openai"===aA.llm_provider&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,b.jsx)("option",{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),(0,b.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]}),"gemini"===aA.llm_provider&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:"gemini-pro",children:"Gemini Pro"}),(0,b.jsx)("option",{value:"gemini-pro-vision",children:"Gemini Pro Vision"}),(0,b.jsx)("option",{value:"gemini-ultra",children:"Gemini Ultra"})]}),"anthropic"===aA.llm_provider&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),(0,b.jsx)("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"}),(0,b.jsx)("option",{value:"claude-3-haiku",children:"Claude 3 Haiku"})]}),!["openai","gemini","anthropic"].includes(aA.llm_provider)&&(0,b.jsx)("option",{value:"default",children:"Default Model"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confidence Threshold"}),(0,b.jsx)("input",{type:"number",step:"0.05",min:"0",max:"1",value:aA.confidence_threshold,onChange:a=>aB({...aA,confidence_threshold:parseFloat(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0.0 - 1.0 (higher = more strict)"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Temperature"}),(0,b.jsx)("input",{type:"number",step:"0.1",min:"0",max:"2",value:aA.temperature,onChange:a=>aB({...aA,temperature:parseFloat(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"0.0 = deterministic, 2.0 = creative"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Max Tokens"}),(0,b.jsx)("input",{type:"number",step:"50",min:"50",max:"4000",value:aA.max_tokens,onChange:a=>aB({...aA,max_tokens:parseInt(a.target.value)}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum response length"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:aA.is_active,onChange:a=>aB({...aA,is_active:a.target.checked}),className:"w-5 h-5 rounded border-gray-700 bg-gray-800"}),(0,b.jsx)("span",{className:"text-white",children:"Active Configuration"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{ax(!1),az(null),ba()},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsx)("button",{onClick:bc,disabled:!aA.config_name,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white py-3 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:ay?"Update Configuration":"Create Configuration"})]})]})]})}),as&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{at(!1),am(null),ap([])},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-6 h-6 text-blue-500"}),"Conversation Details"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-2",children:"Session Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Session ID:"}),(0,b.jsx)("p",{className:"text-white font-mono",children:ak})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Total Messages:"}),(0,b.jsx)("p",{className:"text-white",children:ao.length})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 max-h-[600px] overflow-y-auto",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-400 mb-4",children:"Message History"}),(0,b.jsx)("div",{className:"space-y-4",children:ao.map((a,c)=>(0,b.jsx)("div",{className:`flex ${"user"===a.message_type?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`max-w-[80%] rounded-lg p-4 ${"user"===a.message_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-200"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-xs font-semibold opacity-75",children:"user"===a.message_type?"User":"Bot"}),(0,b.jsx)("span",{className:"text-xs opacity-60",children:new Date(a.created_at).toLocaleTimeString()})]}),(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.message_text}),a.detected_intent&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-600 text-xs",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"opacity-75",children:["Intent: ",a.detected_intent]}),a.intent_confidence&&(0,b.jsxs)("span",{className:"opacity-75",children:["Confidence: ",(100*a.intent_confidence).toFixed(0),"%"]})]})})]})},a.id))})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{onClick:()=>{at(!1),am(null),ap([])},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold",children:"Close"})})]})]})}),I&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-900 rounded-2xl shadow-2xl max-w-4xl w-full p-6 relative border border-gray-700 my-8",children:[(0,b.jsx)("button",{onClick:()=>{J(!1),P(null),be()},className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,b.jsx)(aE.BookOpen,{className:"w-6 h-6 text-blue-500"}),O?"Edit Article":"Add New Article"]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-2 bg-gray-800 p-4 rounded-lg border border-gray-700",children:[(0,b.jsxs)("button",{onClick:()=>aD({...aC,source_type:"manual"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"manual"===aC.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,b.jsx)(t.default,{className:"w-4 h-4"}),"Manual Entry"]}),(0,b.jsxs)("button",{onClick:()=>aD({...aC,source_type:"upload"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"upload"===aC.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,b.jsx)(bA.default,{className:"w-4 h-4"}),"Upload Document"]}),(0,b.jsxs)("button",{onClick:()=>aD({...aC,source_type:"url"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"url"===aC.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,b.jsx)(bf.default,{className:"w-4 h-4"}),"Import from URL"]}),(0,b.jsxs)("button",{onClick:()=>aD({...aC,source_type:"storage"}),className:`flex-1 py-3 px-4 rounded-lg transition-colors font-semibold flex items-center justify-center gap-2 ${"storage"===aC.source_type?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,b.jsx)(a2.default,{className:"w-4 h-4"}),"Storage"]})]}),"upload"===aC.source_type&&(0,b.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Upload Document"}),(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer",children:[(0,b.jsx)("input",{type:"file",accept:".txt,.md,.csv,.json,.xml,.html",onChange:a=>{let b=a.target.files?.[0];b&&(aD({...aC,file:b}),bj(b))},className:"hidden",id:"file-upload"}),(0,b.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,b.jsx)(bA.default,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-white font-semibold mb-1",children:"Click to upload or drag and drop"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Supported: TXT, MD, CSV, JSON, XML, HTML"})]})]}),aK&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[(0,b.jsx)(bF.default,{className:"w-4 h-4 animate-spin"}),(0,b.jsxs)("span",{className:"text-sm",children:["Processing file... ",Math.round(aI),"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${aI}%`}})})]})]}),"url"===aC.source_type&&(0,b.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Import from URL"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"url",value:aC.url,onChange:a=>aD({...aC,url:a.target.value}),placeholder:"https://example.com/article",className:"flex-1 bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500"}),(0,b.jsx)("button",{onClick:()=>aC.url&&bk(aC.url),disabled:!aC.url||aK,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:aK?(0,b.jsx)(bF.default,{className:"w-5 h-5 animate-spin"}):"Import"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Paste a URL to import content from a webpage"})]}),"storage"===aC.source_type&&(0,b.jsxs)("div",{className:"bg-gray-800 p-6 rounded-lg border border-gray-700",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Connect to Storage"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a2.default,{className:"w-6 h-6 text-blue-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"FTP/SFTP"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Connect to FTP or SFTP server"})]}),(0,b.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 p-4 rounded-lg transition-colors text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a8.default,{className:"w-6 h-6 text-green-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"NAS/SAN"})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"Connect to network storage"})]})]}),(0,b.jsx)("div",{className:"mt-4 bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsx)("p",{className:"text-blue-400 text-sm",children:"Storage integrations require configuration. Contact your administrator to set up storage connections."})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),(0,b.jsx)("input",{type:"text",value:aC.title,onChange:a=>aD({...aC,title:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Article title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content Type"}),(0,b.jsxs)("select",{value:aC.content_type,onChange:a=>aD({...aC,content_type:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",children:[(0,b.jsx)("option",{value:"article",children:"Article"}),(0,b.jsx)("option",{value:"faq",children:"FAQ"}),(0,b.jsx)("option",{value:"documentation",children:"Documentation"}),(0,b.jsx)("option",{value:"guide",children:"Guide"}),(0,b.jsx)("option",{value:"policy",children:"Policy"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,b.jsx)("input",{type:"text",value:aC.category,onChange:a=>aD({...aC,category:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"e.g., Product Info, Troubleshooting, Billing"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Content *"}),(0,b.jsx)("textarea",{value:aC.content,onChange:a=>aD({...aC,content:a.target.value}),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500 h-48 resize-none",placeholder:"Enter the article content..."}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[aC.content.length," characters"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tags"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsx)("input",{type:"text",value:aF,onChange:a=>aG(a.target.value),onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),bg()),className:"flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-blue-500",placeholder:"Add tag and press Enter"}),(0,b.jsx)("button",{onClick:bg,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:(0,b.jsx)(y.default,{className:"w-5 h-5"})})]}),aC.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:aC.tags.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-800 px-3 py-1.5 rounded-lg",children:[(0,b.jsxs)("span",{className:"text-white text-sm",children:["#",a]}),(0,b.jsx)("button",{onClick:()=>{aD({...aC,tags:aC.tags.filter((a,b)=>b!==c)})},className:"text-red-400 hover:text-red-300",children:(0,b.jsx)(w.X,{className:"w-4 h-4"})})]},c))})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{type:"checkbox",id:"kb-active",checked:aC.is_active,onChange:a=>aD({...aC,is_active:a.target.checked}),className:"w-5 h-5 rounded bg-gray-800 border-gray-700 text-blue-600 focus:ring-blue-500"}),(0,b.jsx)("label",{htmlFor:"kb-active",className:"text-gray-300 cursor-pointer",children:"Make this article active and searchable"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>{J(!1),P(null),be()},className:"bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold",children:"Cancel"}),(0,b.jsxs)("button",{onClick:bl,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors font-semibold flex items-center gap-2",children:[(0,b.jsx)(R.default,{className:"w-5 h-5"}),O?"Update Article":"Save Article"]})]})]})]})})]})}var ct=a.i(60726),ct=ct,a9=a9,m=m,a3=a3,aZ=aZ,aV=aV,g=g,f=f,e=e,cu=a.i(13508),cu=cu,y=y,cv=a.i(50522),B=B,t=t,u=u,bh=bh,bj=bj,A=A,bg=bg,an=an,Q=Q,cw=a.i(94578),cw=cw,as=as;let cx=[{id:"openai",name:"OpenAI",models:["gpt-4","gpt-4-turbo","gpt-3.5-turbo"],description:"GPT-4 from OpenAI has broad general knowledge and domain expertise",logo:"ðŸ¤–"},{id:"anthropic",name:"Anthropic",models:["claude-3-opus","claude-3-sonnet","claude-3-haiku"],description:"A faster, cheaper yet still very capable version of Claude",logo:"ðŸ”®"},{id:"gemini",name:"Gemini",models:["gemini-pro","gemini-2.5-pro"],description:"Gemini is Google latest family of large language models",logo:"ðŸ’Ž"},{id:"mistral",name:"Mistral",models:["mistral-large","mistral-medium","mistral-small"],description:"Mistral specializes in creating fast, secure, open-source LLMs",logo:"ðŸŒªï¸"},{id:"cohere",name:"Cohere",models:["command","command-light"],description:"A smaller and faster version of Cohere's command model",logo:"ðŸŽ¯"},{id:"huggingface",name:"Hugging Face",models:["custom"],description:"Hugging Face is a machine learning platform and community",logo:"ðŸ¤—"}],cy=[{id:"assemblyai",name:"AssemblyAI",description:"Industry-leading AI models for speech-to-text, speaker diarization, and audio intelligence",logo:"ðŸŽ™ï¸",features:["real-time","diarization","sentiment","entity-detection","language-detection"]},{id:"deepgram",name:"Deepgram",description:"Cutting-edge speech recognition services using advanced AI",logo:"ðŸŽ¤"},{id:"openai",name:"OpenAI Whisper",description:"Robust speech recognition model from OpenAI",logo:"ðŸ¤–"},{id:"google",name:"Google Cloud",description:"Google Cloud Speech-to-Text services",logo:"ðŸŒ"},{id:"azure",name:"Azure",description:"Azure Speech Services with advanced AI",logo:"ðŸ”·"}],cz=[{id:"assemblyai",name:"AssemblyAI",description:"High-quality neural text-to-speech with natural voices and emotional range",logo:"ðŸŽ™ï¸"},{id:"openai",name:"OpenAI",description:"OpenAI Text-to-Speech with natural voices",logo:"ðŸ¤–"},{id:"elevenlabs",name:"ElevenLabs",description:"Premium AI voice generation with emotional intelligence",logo:"ðŸŽ­"},{id:"azure",name:"Azure",description:"Azure Text-to-Speech with neural voices",logo:"ðŸ”·"},{id:"google",name:"Google Cloud",description:"Google Cloud Text-to-Speech services",logo:"ðŸŒ"}],cA=[{id:"vonage",name:"Vonage",description:"Cloud communication platform that provides voice, messaging, and video solutions",logo:"ðŸ“ž"},{id:"twilio",name:"Twilio",description:"Cloud communications platform for building SMS, voice, and messaging applications",logo:"â˜Žï¸"},{id:"exotel",name:"Exotel",description:"Cloud telephony platform offering voice and messaging services for businesses",logo:"ðŸ“±"},{id:"aws",name:"AWS",description:"Amazon Web Services offers a broad set of global cloud-based products",logo:"â˜ï¸"},{id:"google",name:"Google Cloud",description:"Google Cloud offers a suite of cloud computing services",logo:"ðŸŒ"}];function cB(){let[a,d]=(0,c.useState)("dashboard"),[k,l]=(0,c.useState)(""),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(null),[s,x]=(0,c.useState)(!1),[z,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(1),[R,S]=(0,c.useState)(1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)("neutral"),[$,_]=(0,c.useState)([]),[aa,ab]=(0,c.useState)(0),[ac,ad]=(0,c.useState)(null),[ae,af]=(0,c.useState)({apiKey:"",realtimeEnabled:!0,diarizationEnabled:!0,sentimentEnabled:!0,entityDetection:!0,languageDetection:!0,customVocabulary:[]}),[ag,ah]=(0,c.useState)({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"assemblyai",tts_provider:"assemblyai",telephony_provider:"twilio",voice_provider:"assemblyai",system_prompt:"",status:"testing"}),[ai,aj]=(0,c.useState)([{role:"system",content:""}]),[ak,al]=(0,c.useState)([]),[am,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)({name:"knowledge_query",description:"Use this tool to retrieve specific information or data from provided queries before responding.",action:"knowledge_retrieval",retrievalSetting:"hybrid",topK:5,scoreThreshold:.5,parameters:JSON.stringify({properties:{context:{description:"Concise and searchable description of the users query or topic.",type:"string"},organizations:{description:"Names of organizations or companies mentioned in the content",type:"array"}}},null,2)}),[ar,au]=(0,c.useState)("");(0,c.useEffect)(()=>{av()},[]);let av=async()=>{x(!0);try{let{data:a,error:b}=await n.db.from("voice_agents").select("*").order("created_at",{ascending:!1});if(b)throw b;p(a||[]),a&&a.length>0&&r(a[0])}catch(a){console.error("Error loading agents:",a)}finally{x(!1)}},aw=async()=>{let a=[{name:"Salesforce Sales Assistant",description:"AI assistant for Salesforce CRM - handles lead qualification, opportunity tracking, and sales pipeline management",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hello! I'm your Salesforce assistant. I can help you manage leads, track opportunities, and update your sales pipeline. How can I assist you today?"},{name:"ServiceNow IT Support Bot",description:"AI assistant for ServiceNow ITSM - manages incident tickets, service requests, and IT service catalog",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Welcome to IT Support. I can help you create incidents, track service requests, or browse our IT service catalog. What do you need help with?"},{name:"HubSpot Marketing Assistant",description:"AI assistant for HubSpot - handles contact management, deal tracking, and marketing automation",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hi! I'm your HubSpot marketing assistant. I can help with contact management, deal tracking, email campaigns, and marketing analytics. What would you like to do?"},{name:"Microsoft Teams Collaboration Bot",description:"AI assistant for Microsoft Teams - schedules meetings, manages tasks, and facilitates team collaboration",agent_type:"inbound",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your Teams collaboration assistant. I can schedule meetings, create tasks, share files, and help coordinate with your team. How can I help?"},{name:"Zoom Meeting Assistant",description:"AI assistant for Zoom - schedules meetings, manages recordings, and provides meeting analytics",agent_type:"inbound",status:"active",voice_type:"female",language:"en-US",greeting_message:"Welcome! I'm your Zoom meeting assistant. I can schedule meetings, share meeting links, manage recordings, and provide analytics. What would you like to do?"},{name:"Webex Enterprise Assistant",description:"AI assistant for Cisco Webex - manages enterprise communication, meetings, and team collaboration",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your Webex assistant. I can help with meeting scheduling, team spaces, messaging, and enterprise communication. How may I assist you?"},{name:"PBX Call Management Bot",description:"AI assistant for traditional PBX systems - handles call routing, extensions, and voicemail",agent_type:"inbound",status:"active",voice_type:"male",language:"en-US",greeting_message:"Thank you for calling. I'm your PBX assistant. I can route you to extensions, manage voicemail, or answer questions about our services. How can I direct your call?"},{name:"Genesys Contact Center Agent",description:"AI assistant for Genesys Cloud - manages customer interactions, queue management, and agent assistance",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Welcome to customer service. I'm your Genesys assistant. I can help route your call, provide information, or connect you with a specialist. How can I help you today?"},{name:"NICE Workforce Assistant",description:"AI assistant for NICE WFM - handles workforce optimization, scheduling, and performance management",agent_type:"inbound",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Hello! I'm your NICE workforce assistant. I can help with scheduling, time-off requests, performance metrics, and workforce planning. What do you need?"},{name:"CUCM Call Manager Bot",description:"AI assistant for Cisco Unified Call Manager - manages enterprise telephony and call routing",agent_type:"inbound",status:"active",voice_type:"male",language:"en-US",greeting_message:"Welcome. I'm your CUCM assistant. I can help with call routing, extension management, and telephony services. How may I direct your call?"},{name:"UCCX Contact Center Bot",description:"AI assistant for Cisco Unified Contact Center Express - handles IVR, queuing, and agent routing",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Thank you for calling. I'm your UCCX contact center assistant. I can help route your call, provide self-service options, or connect you with an agent. How can I help?"},{name:"UCCE Enterprise Agent",description:"AI assistant for Cisco Unified Contact Center Enterprise - manages enterprise-scale omnichannel routing",agent_type:"blended",status:"active",voice_type:"neutral",language:"en-US",greeting_message:"Welcome to enterprise customer service. I'm your UCCE assistant, handling omnichannel routing and customer interactions. How can I assist you?"},{name:"Talkdesk Cloud Agent",description:"AI assistant for Talkdesk - manages cloud contact center operations and customer engagement",agent_type:"blended",status:"active",voice_type:"female",language:"en-US",greeting_message:"Hello! I'm your Talkdesk assistant. I can help with customer inquiries, route calls, provide analytics, and enhance your contact center experience. How may I help?"}];x(!0);try{let b=a.map(a=>({name:a.name,description:a.description,agent_type:a.agent_type,status:a.status,voice_type:a.voice_type,language:a.language,greeting_message:a.greeting_message,total_calls:Math.floor(500*Math.random()),successful_calls:Math.floor(400*Math.random()),avg_duration:Math.floor(180*Math.random())+60,updated_at:new Date().toISOString()})),{data:c,error:d}=await n.db.from("voice_agents").insert(b);if(d)throw d;alert(`âœ… Successfully created ${a.length} sample AI assistants!`),av()}catch(a){console.error("Error seeding bots:",a),alert("Failed to create sample bots. Please try again.")}finally{x(!1)}},ax=async()=>{try{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return void alert("You must be logged in to create an agent");x(!0);let{error:b}=await n.db.from("voice_agents").insert([{name:ag.agent_name,description:ag.agent_description,status:ag.status,voice_type:"elevenlabs"===ag.voice_provider?"female":"neutral",language:"en-US",ai_model:ag.ai_model,prompts:JSON.stringify({system:ag.system_prompt}),greeting_message:"Hello! How can I help you today?",total_calls:0,successful_calls:0,avg_duration:0,created_by:a.id,updated_at:new Date().toISOString()}]);if(b)throw b;alert("Voice assistant created successfully!"),C(!1),P(1),ah({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"deepgram",tts_provider:"elevenlabs",telephony_provider:"twilio",voice_provider:"elevenlabs",system_prompt:"",status:"testing"}),aj([{role:"system",content:""}]),al([]),av()}catch(a){console.error("Error creating agent:",a),alert("Failed to create voice assistant. Please check all required fields.")}finally{x(!1)}},ay=async()=>{try{if(!q)return;x(!0);let{error:a}=await n.db.from("voice_agents").update({name:ag.agent_name,description:ag.agent_description,status:ag.status,voice_type:"elevenlabs"===ag.voice_provider?"female":"neutral",language:"en-US",prompts:JSON.stringify({system:ag.system_prompt}),updated_at:new Date().toISOString()}).eq("id",q.id);if(a)throw a;alert("Voice assistant updated successfully!"),E(!1),S(1),r(null),ah({agent_name:"",agent_description:"",tags:[],ai_model:"gpt-4",ai_provider:"openai",credential:"",stt_provider:"deepgram",tts_provider:"elevenlabs",telephony_provider:"twilio",voice_provider:"elevenlabs",system_prompt:"",status:"testing"}),aj([{role:"system",content:""}]),al([]),av()}catch(a){console.error("Error updating agent:",a),alert("Failed to update voice assistant. Please try again.")}finally{x(!1)}},az=(a,b="en-US")=>{if("speechSynthesis"in window){if(K&&M){window.speechSynthesis.cancel(),L(!1),N(null);return}let c=new SpeechSynthesisUtterance(a);c.lang=b,c.rate=.9,c.pitch=1;let d=window.speechSynthesis.getVoices().find(a=>a.lang.startsWith(b.split("-")[0]));d&&(c.voice=d),c.onstart=()=>{L(!0)},c.onend=()=>{L(!1),N(null)},c.onerror=()=>{L(!1),N(null)},N(c),window.speechSynthesis.speak(c)}else console.warn("Text-to-speech is not supported in your browser.")},aA=()=>{window.speechSynthesis&&(window.speechSynthesis.cancel(),L(!1),N(null))},aB=(a,b,c)=>{let d=[...ai];d[a]={...d[a],[b]:c},aj(d)},aC=[{id:"dashboard",label:"Dashboard",icon:ct.default,section:"main"},{id:"assistants",label:"Assistants",icon:Z.MessageSquare,section:"main",badge:"beta"},{id:"endpoints",label:"Endpoints",icon:a9.default,section:"main"},{id:"knowledge",label:"Knowledge",icon:aE.BookOpen,section:"main"},{id:"models",label:"Models",icon:bh.default,section:"main"}],aD=[{id:"llm-logs",label:"LLM logs",icon:m.default},{id:"tool-logs",label:"Tool logs",icon:a3.default},{id:"webhook-logs",label:"Webhook logs",icon:aZ.default},{id:"knowledge-logs",label:"Knowledge logs",icon:aV.default},{id:"conversation-logs",label:"Conversation logs",icon:a0.MessageCircle}],aG=[{id:"external-integrations",label:"External integrations",icon:g.default},{id:"credentials",label:"Credentials",icon:f.default}],aI=[{id:"users-teams",label:"Users and Teams",icon:e.default},{id:"projects",label:"Projects",icon:cu.default}];return(0,b.jsxs)("div",{className:"flex flex-col h-screen bg-[#013221]",children:[(0,b.jsxs)("div",{className:"bg-[#012419] border-b border-[#024d30]",children:[(0,b.jsx)("div",{className:"px-6 py-4 flex items-center justify-between border-b border-[#024d30]",children:(0,b.jsx)("h2",{className:"text-lg font-bold text-white",children:"Voice Agent Platform"})}),(0,b.jsx)("div",{className:"px-6 py-3 overflow-x-auto",children:(0,b.jsxs)("div",{className:"flex items-center gap-6 min-w-max",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:aC.map(c=>(0,b.jsxs)("button",{onClick:()=>{d(c.id),l("")},className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap ${a===c.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,b.jsx)(c.icon,{className:"w-4 h-4",style:{color:a===c.id?"#fff":"#40C706"}}),(0,b.jsx)("span",{className:"text-sm font-medium",children:c.label}),c.badge&&(0,b.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full font-semibold",children:c.badge})]},c.id))}),(0,b.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Observability"}),aD.map(c=>(0,b.jsxs)("button",{onClick:()=>{d("observability"),l(c.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"observability"===a&&k===c.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,b.jsx)(c.icon,{className:"w-4 h-4",style:{color:"observability"===a&&k===c.id?"#fff":"#40C706"}}),(0,b.jsx)("span",{className:"text-xs font-medium",children:c.label})]},c.id))]}),(0,b.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Integrations"}),aG.map(c=>(0,b.jsxs)("button",{onClick:()=>{d("integrations"),l(c.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"integrations"===a&&k===c.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,b.jsx)(c.icon,{className:"w-4 h-4",style:{color:"integrations"===a&&k===c.id?"#fff":"#40C706"}}),(0,b.jsx)("span",{className:"text-xs font-medium",children:c.label})]},c.id))]}),(0,b.jsx)("div",{className:"h-6 w-px bg-[#024d30]"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mr-2",children:"Organizations"}),aI.map(c=>(0,b.jsxs)("button",{onClick:()=>{d("organizations"),l(c.id)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all whitespace-nowrap ${"organizations"===a&&k===c.id?"bg-green-600 text-white":"text-gray-400 hover:bg-[#024d30] hover:text-gray-300"}`,children:[(0,b.jsx)(c.icon,{className:"w-4 h-4",style:{color:"organizations"===a&&k===c.id?"#fff":"#40C706"}}),(0,b.jsx)("span",{className:"text-xs font-medium",children:c.label})]},c.id))]})]})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsx)("div",{className:"p-8",children:s?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(()=>{switch(a){case"dashboard":default:return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2",children:["Welcome, ",q?.name||"User"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Design and Deploy Custom Voice Assistant"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-xl p-8 text-white",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-3",children:"Design and Deploy Custom Voice Assistant"}),(0,b.jsx)("p",{className:"text-blue-100 mb-6",children:"Build intelligent voice assistants that can handle calls, answer questions, and integrate with your existing systems. Deploy across websites, phone systems, or voice-enabled devices."}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("button",{onClick:()=>C(!0),className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center gap-2",children:["Create Assistant",(0,b.jsx)(cv.ChevronRight,{className:"w-5 h-5"})]}),(0,b.jsx)("button",{onClick:()=>d("knowledge"),className:"bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-800 transition-colors",children:"View documentation"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-green-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(Z.MessageSquare,{className:"w-7 h-7 text-green-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"AI Assistants"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Deploy domain-specific AI agents with custom skills, workflows, and multi-step reasoning."}),(0,b.jsx)("button",{onClick:()=>d("assistants"),className:"text-green-400 font-semibold text-sm hover:text-green-300 transition-colors",children:"Learn more â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-purple-500/50 transition-all",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-purple-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(h.Shield,{className:"w-7 h-7 text-purple-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Governance & Endpoints"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Secure API endpoints with fine-grained governance, audit trails, and enterprise-grade access control."}),(0,b.jsx)("button",{onClick:()=>d("endpoints"),className:"text-purple-400 font-semibold text-sm hover:text-purple-300 transition-colors",children:"Learn more â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-red-500/50 transition-all",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-red-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(bh.default,{className:"w-7 h-7 text-red-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Model Integration"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Bring your own model â€” support for OpenAI, Anthropic, and custom LLMs with fine-tuning capabilities."}),(0,b.jsx)("button",{onClick:()=>d("models"),className:"text-red-400 font-semibold text-sm hover:text-red-300 transition-colors",children:"Learn more â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-blue-500/50 transition-all",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-blue-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(m.default,{className:"w-7 h-7 text-blue-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Real-time Testing & Monitoring"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Instantly test AI agents and monitor performance in a live sandbox to iterate faster with confidence."}),(0,b.jsx)("button",{onClick:()=>{d("observability"),l("llm-logs")},className:"text-blue-400 font-semibold text-sm hover:text-blue-300 transition-colors",children:"Learn more â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-yellow-500/50 transition-all",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-yellow-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(a0.MessageCircle,{className:"w-7 h-7 text-yellow-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Conversational AI"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Context-aware, LLM-powered chat experiences that understand user intent and deliver accurate responses."}),(0,b.jsx)("button",{onClick:()=>d("assistants"),className:"text-yellow-400 font-semibold text-sm hover:text-yellow-300 transition-colors",children:"Learn more â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-cyan-500/50 transition-all",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-cyan-500/20 rounded-lg flex items-center justify-center mb-4",children:(0,b.jsx)(g.default,{className:"w-7 h-7 text-cyan-400"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Enterprise Integrations"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"Connect to CRM, databases, and third-party APIs with secure credential management."}),(0,b.jsx)("button",{onClick:()=>{d("integrations"),l("external-integrations")},className:"text-cyan-400 font-semibold text-sm hover:text-cyan-300 transition-colors",children:"Learn more â†’"})]})]}),q&&(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Active Agent Statistics"}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Total Calls"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:q.total_calls||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Success Rate"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-green-400",children:[q.total_calls>0?(q.successful_calls/q.total_calls*100).toFixed(1):0,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Avg Duration"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white",children:[Math.floor((q.avg_duration||0)/60),"m"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-gray-400 text-sm mb-1",children:"Status"}),(0,b.jsx)("div",{className:`text-xl font-bold ${"active"===q.status?"text-green-400":"testing"===q.status?"text-yellow-400":"text-gray-400"}`,children:q.status})]})]})]})]});case"assistants":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-8 h-8 text-green-400"}),"AI Assistants",(0,b.jsx)("span",{className:"text-xs bg-green-500/20 text-green-400 px-3 py-1 rounded-full font-medium",children:"BETA"})]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage and deploy intelligent voice assistants"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:aw,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",disabled:s,children:[(0,b.jsx)(as.default,{className:"w-5 h-5"}),"Load Sample Bots"]}),(0,b.jsxs)("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create New Assistant"]})]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:o.map(a=>(0,b.jsx)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all cursor-pointer",onClick:()=>r(a),children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===a.status?"bg-green-500/20 text-green-400":"testing"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:a.status})]}),(0,b.jsx)("p",{className:"text-gray-400 mb-4",children:a.description}),(0,b.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"AI Model"}),(0,b.jsx)("div",{className:"text-sm font-semibold text-white",children:a.ai_model||"GPT-4"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Language"}),(0,b.jsx)("div",{className:"text-sm font-semibold text-white",children:a.language})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Voice"}),(0,b.jsx)("div",{className:"text-sm font-semibold text-white",children:a.voice_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Total Calls"}),(0,b.jsx)("div",{className:"text-sm font-semibold text-white",children:a.total_calls})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Success Rate"}),(0,b.jsxs)("div",{className:"text-sm font-semibold text-green-400",children:[a.total_calls>0?(a.successful_calls/a.total_calls*100).toFixed(1):0,"%"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:b=>{b.stopPropagation();if(r(a),ah({agent_name:a.name||a.agent_name||"",agent_description:a.description||a.agent_description||"",tags:[],ai_model:a.ai_model||"gpt-4",ai_provider:a.ai_provider||"openai",credential:"",stt_provider:a.stt_provider||"deepgram",tts_provider:a.voice_provider||"elevenlabs",telephony_provider:"twilio",voice_provider:a.voice_provider||"elevenlabs",system_prompt:a.prompts?"string"==typeof a.prompts?JSON.parse(a.prompts).system:a.prompts.system:"",status:a.status||"testing"}),aj([{role:"system",content:a.prompts?"string"==typeof a.prompts?JSON.parse(a.prompts).system:a.prompts.system:""}]),a.skills)try{al("string"==typeof a.skills?JSON.parse(a.skills):a.skills)}catch(a){al([])}else al([]);E(!0),S(1)},className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-[#024d30] rounded-lg transition-all",children:(0,b.jsx)(t.default,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),J(a),G(!0),L(!1),U(!1),W([]),Y("neutral"),_([]),ab(0),ad(null)},className:"p-2 text-gray-400 hover:text-green-400 hover:bg-[#024d30] rounded-lg transition-all",title:"Test Voice Assistant",children:(0,b.jsx)(aH.Play,{className:"w-5 h-5"})}),(0,b.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-400 hover:bg-[#024d30] rounded-lg transition-all",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]})]})},a.id))})]});case"endpoints":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(a9.default,{className:"w-8 h-8 text-purple-400"}),"API Endpoints"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Secure API endpoints with governance and access control"})]}),(0,b.jsxs)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Endpoint"]})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Voice Agent API"}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:"RESTful API for voice agent interactions"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-bold rounded",children:"POST"}),(0,b.jsx)("code",{className:"text-cyan-400",children:"/api/v1/agents/call"})]}),(0,b.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,b.jsx)(B.default,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Initiate a voice call with an AI agent"})]}),(0,b.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded",children:"GET"}),(0,b.jsx)("code",{className:"text-cyan-400",children:"/api/v1/agents/:id"})]}),(0,b.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,b.jsx)(B.default,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Get agent configuration and status"})]}),(0,b.jsxs)("div",{className:"bg-[#013221] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs font-bold rounded",children:"PUT"}),(0,b.jsx)("code",{className:"text-cyan-400",children:"/api/v1/agents/:id"})]}),(0,b.jsx)("button",{className:"text-gray-400 hover:text-white",children:(0,b.jsx)(B.default,{className:"w-5 h-5"})})]}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"Update agent configuration"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Total Requests"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:"12,458"}),(0,b.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"â†‘ 23% from last week"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Avg Response Time"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:"145ms"}),(0,b.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"â†“ 12% faster"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,b.jsx)("div",{className:"text-sm text-gray-400 mb-1",children:"Error Rate"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:"0.3%"}),(0,b.jsx)("div",{className:"text-xs text-green-400 mt-1",children:"â†“ 0.2% improvement"})]})]})]});case"knowledge":return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(aE.BookOpen,{className:"w-8 h-8 text-blue-400"}),"Knowledge Base"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage training data and documentation for your AI agents"})]}),(0,b.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Knowledge"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(i.FileText,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Documentation"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"24 documents"})]})]}),(0,b.jsx)("button",{className:"text-blue-400 font-semibold text-sm hover:text-blue-300",children:"View all â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(aV.default,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"FAQs"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"156 questions"})]})]}),(0,b.jsx)("button",{className:"text-green-400 font-semibold text-sm hover:text-green-300",children:"View all â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(I.Globe,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Web Sources"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"12 websites"})]})]}),(0,b.jsx)("button",{className:"text-purple-400 font-semibold text-sm hover:text-purple-300",children:"View all â†’"})]}),(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(aF.Code,{className:"w-6 h-6 text-orange-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"API Integrations"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"8 endpoints"})]})]}),(0,b.jsx)("button",{className:"text-orange-400 font-semibold text-sm hover:text-orange-300",children:"View all â†’"})]})]})]});case"models":return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(bh.default,{className:"w-8 h-8 text-red-400"}),"Integration Models"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"Available AI models and service providers for your voice assistants"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"AI Language Models"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:cx.map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:a.logo}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a.models.length," models available"]})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:a.description}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.models.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-[#024d30] text-gray-300 rounded text-xs font-mono",children:a},a))})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Speech-to-Text Providers"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:cy.map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:a.logo}),(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.name})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.description})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Text-to-Speech Providers"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:cz.map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:a.logo}),(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.name})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.description})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Telephony Providers"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:cA.map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-xl p-6 border border-[#024d30] hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)("span",{className:"text-3xl",children:a.logo}),(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.name})]}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.description})]},a.id))})]})]});case"observability":let c;return(c={"llm-logs":(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"LLM Request Logs"}),(0,b.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"GPT-4 Request"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"2 minutes ago"})]}),(0,b.jsx)("span",{className:"text-cyan-400 font-semibold",children:"124ms"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Tokens: 450 input / 230 output"})]},a))})]}),"tool-logs":(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Tool Execution Logs"}),(0,b.jsx)("div",{className:"space-y-2",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(a3.default,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"API Call Tool"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"5 minutes ago"})]}),(0,b.jsx)("span",{className:"text-green-400 font-semibold",children:"Success"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Function: fetch_customer_data"})]},a))})]}),"webhook-logs":(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Webhook Activity"}),(0,b.jsx)("div",{className:"space-y-2",children:[1,2].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aZ.default,{className:"w-5 h-5 text-purple-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"Call Completed"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"10 minutes ago"})]}),(0,b.jsx)("span",{className:"text-green-400 font-semibold",children:"200 OK"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Endpoint: https://api.example.com/webhook"})]},a))})]}),"knowledge-logs":(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Knowledge Base Queries"}),(0,b.jsx)("div",{className:"space-y-2",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aV.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"Vector Search"}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"3 minutes ago"})]}),(0,b.jsx)("span",{className:"text-cyan-400 font-semibold",children:"45ms"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Results: 5 documents retrieved"})]},a))})]}),"conversation-logs":(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Conversation History"}),(0,b.jsx)("div",{className:"space-y-2",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-4 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-5 h-5 text-green-400"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:["Call Session #",1e3+a]}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:"1 hour ago"})]}),(0,b.jsx)("span",{className:"text-green-400 font-semibold",children:"Completed"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Duration: 3m 24s â€¢ Turns: 12"})]},a))})]})})[k]||c["llm-logs"];case"integrations":let e;return(e={"external-integrations":(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"External Integrations"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Connect to external services and APIs"})]}),(0,b.jsxs)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Integration"]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:["Salesforce CRM","Zendesk","Slack","HubSpot"].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30] flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(g.default,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Connected"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"p-2 text-gray-400 hover:text-white hover:bg-[#024d30] rounded-lg transition-all",children:(0,b.jsx)(j.Settings,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg font-semibold text-sm",children:"Active"})]})]},a))})]}),credentials:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"API Credentials"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage API keys and authentication"})]}),(0,b.jsxs)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Generate Key"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:["Production API Key","Development API Key","Test API Key"].map((a,c)=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.default,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a})]}),(0,b.jsx)("button",{className:"text-red-400 hover:text-red-300",children:(0,b.jsx)(u.default,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"bg-[#013221] rounded p-3 font-mono text-sm text-gray-400 mb-3",children:["sk_live_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",String(Math.random()).slice(2,6)]}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:["Created ",c+1," months ago â€¢ Last used 2 days ago"]})]},a))})]})})[k]||e["external-integrations"];case"organizations":let n;return(n={"users-teams":(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Users and Teams"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Manage team members and permissions"})]}),(0,b.jsxs)("button",{className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Invite User"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:["John Doe","Jane Smith","Mike Johnson"].map((a,c)=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30] flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold",children:a[0]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:["Admin","Developer","Developer"][c]})]})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg font-semibold text-sm",children:"Active"})]},a))})]}),projects:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Projects"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Organize your voice agents by project"})]}),(0,b.jsxs)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Project"]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:["Customer Support","Sales Automation","Internal Tools"].map(a=>(0,b.jsxs)("div",{className:"bg-[#012419] rounded-lg p-6 border border-[#024d30]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)(cu.default,{className:"w-6 h-6 text-purple-400"}),(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4",children:"3 agents â€¢ 2 team members"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{className:"text-purple-400 hover:text-purple-300 text-sm font-semibold",children:"View agents â†’"})})]},a))})]})})[k]||n["users-teams"]}})()})}),z&&(0,b.jsxs)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex",children:[(0,b.jsxs)("div",{className:"w-80 bg-gray-50 border-r border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Setup Progress"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Complete all steps to create new assistant"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${O>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:O>1?(0,b.jsx)(an.default,{className:"w-5 h-5"}):"01"}),(0,b.jsx)("div",{className:`w-0.5 h-16 ${O>1?"bg-blue-600":"bg-gray-300"}`})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 1"}),(0,b.jsx)("p",{className:"text-blue-600 font-semibold mb-1",children:"Configuration"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Select the llm you want to use for your assistant."})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${O>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:O>2?(0,b.jsx)(an.default,{className:"w-5 h-5"}):"02"}),(0,b.jsx)("div",{className:`w-0.5 h-16 ${O>2?"bg-blue-600":"bg-gray-300"}`})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 2"}),(0,b.jsx)("p",{className:`font-semibold mb-1 ${O>=2?"text-blue-600":"text-gray-600"}`,children:"Tools (optional)"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Let your assistant work with given differnt tools on behalf of you"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"flex flex-col items-center",children:(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${O>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:O>3?(0,b.jsx)(an.default,{className:"w-5 h-5"}):"03"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:"Step 3"}),(0,b.jsx)("p",{className:`font-semibold mb-1 ${O>=3?"text-blue-600":"text-gray-600"}`,children:"Profile"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Provide the name, a brief description, and relevant tags for your assistant to help identify and categorize it."})]})]})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-2",children:[(0,b.jsx)("span",{children:"Deployment"}),(0,b.jsx)(cv.ChevronRight,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Assistant"}),(0,b.jsx)(cv.ChevronRight,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-gray-900 font-medium",children:"Create-Assistant"})]})}),(0,b.jsx)("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[1===O&&(0,b.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,b.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex gap-3",children:[(0,b.jsx)(at.Info,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("p",{className:"text-sm text-yellow-800",children:"Rapida Assistant enables you to deploy intelligent conversational agents across multiple channels."})}),(0,b.jsx)("a",{href:"#",className:"text-sm text-yellow-700 hover:text-yellow-800 font-semibold whitespace-nowrap",children:"Read documentation â†’"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Provider Model"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)("select",{value:ag.ai_provider,onChange:a=>{let b=cx.find(b=>b.id===a.target.value);ah({...ag,ai_provider:a.target.value,ai_model:b?.models[0]||""})},className:"bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:cx.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))}),(0,b.jsx)("select",{value:ag.ai_model,onChange:a=>ah({...ag,ai_model:a.target.value}),className:"bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:cx.find(a=>a.id===ag.ai_provider)?.models.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Credential"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("select",{value:ag.credential,onChange:a=>ah({...ag,credential:a.target.value}),className:"flex-1 bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:[(0,b.jsx)("option",{value:"",children:"Select credential"}),(0,b.jsx)("option",{value:"default",children:"Default Credential"})]}),(0,b.jsx)("button",{className:"p-2.5 border border-gray-300 rounded-lg hover:bg-gray-50",children:(0,b.jsx)(j.Settings,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsx)("button",{className:"p-2.5 border border-gray-300 rounded-lg hover:bg-gray-50",children:(0,b.jsx)(y.default,{className:"w-5 h-5 text-gray-600"})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Instruction"}),ai.map((a,c)=>(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,b.jsxs)("select",{value:a.role,onChange:a=>aB(c,"role",a.target.value),className:"bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 text-sm",children:[(0,b.jsx)("option",{value:"system",children:"System"}),(0,b.jsx)("option",{value:"user",children:"User"})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,b.jsx)("button",{onClick:()=>{aj(ai.filter((a,b)=>b!==c))},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:(0,b.jsx)(A.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg",children:(0,b.jsx)(bg.default,{className:"w-4 h-4"})})]})]}),(0,b.jsx)("textarea",{value:a.content,onChange:a=>aB(c,"content",a.target.value),placeholder:"Write your prompt here. enter {{variable}} to insert a variable.",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 min-h-32"})]},c)),(0,b.jsxs)("button",{onClick:()=>{aj([...ai,{role:"user",content:""}])},className:"text-blue-600 hover:text-blue-700 font-semibold text-sm flex items-center gap-2",children:["Add new message",(0,b.jsx)(y.default,{className:"w-4 h-4"})]})]})]}),2===O&&(0,b.jsx)("div",{className:"space-y-6 max-w-3xl",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Configure Tools"}),ak.length>0&&(0,b.jsx)("div",{className:"space-y-3 mb-4",children:ak.map((a,c)=>(0,b.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-gray-900",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:a.description}),(0,b.jsxs)("div",{className:"flex gap-3 mt-2 text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:["Action: ",a.action]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:["Retrieval: ",a.retrievalSetting]})]})]}),(0,b.jsx)("button",{onClick:()=>al(ak.filter((a,b)=>b!==c)),className:"text-red-600 hover:text-red-700",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})},c))}),(0,b.jsxs)("button",{onClick:()=>ao(!0),className:"border-2 border-dashed border-gray-300 rounded-lg p-4 w-full hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600 font-semibold",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Tool"]})]})}),3===O&&(0,b.jsxs)("div",{className:"space-y-6 max-w-3xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),(0,b.jsx)("input",{type:"text",value:ag.agent_name,onChange:a=>ah({...ag,agent_name:a.target.value}),placeholder:"e.g., assistant-pay-tales-how",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Provide a name, that will appear in the assistant list and help identify it."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),(0,b.jsx)("textarea",{value:ag.agent_description,onChange:a=>ah({...ag,agent_description:a.target.value}),placeholder:"What's the purpose of the assistant?",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 h-24"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Provide a description to explain what this assistant is about."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags (Optional)"}),(0,b.jsx)("div",{className:"flex gap-2 mb-2",children:(0,b.jsx)("input",{type:"text",value:ar,onChange:a=>au(a.target.value),onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),void(ar.trim()&&!ag.tags.includes(ar.trim())&&(ah({...ag,tags:[...ag.tags,ar.trim()]}),au("")))),placeholder:"Add tags",className:"flex-1 bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"})}),ag.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:ag.tags.map((a,c)=>(0,b.jsxs)("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[a,(0,b.jsx)("button",{onClick:()=>{ah({...ag,tags:ag.tags.filter(b=>b!==a)})},className:"hover:text-blue-900",children:(0,b.jsx)(w.X,{className:"w-3 h-3"})})]},c))}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Add tags to organize and locate items more efficiently. Separate tags with commas and press Enter to add them."})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-between",children:[(0,b.jsx)("button",{onClick:()=>C(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[O>1&&(0,b.jsx)("button",{onClick:()=>P(O-1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Back"}),O<3?(0,b.jsxs)("button",{onClick:()=>P(O+1),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-2",children:["Continue",(0,b.jsx)(cv.ChevronRight,{className:"w-5 h-5"})]}):(0,b.jsxs)("button",{onClick:ax,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-2",children:["Create assistant",(0,b.jsx)(cv.ChevronRight,{className:"w-5 h-5"})]})]})]})]})]}),am&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto m-4",children:[(0,b.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Configure Assistant Tool"}),(0,b.jsx)("button",{onClick:()=>ao(!1),className:"text-gray-400 hover:text-gray-600",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Action"}),(0,b.jsx)("div",{className:"space-y-2",children:[{id:"knowledge_retrieval",label:"Knowledge Retrieval",checked:!0},{id:"api_request",label:"API Request"},{id:"endpoint_llm",label:"Endpoint (LLM Call)"},{id:"put_on_hold",label:"Put On Hold"},{id:"end_conversation",label:"End Of Conversation"}].map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:ap.action===a.id,onChange:()=>aq({...ap,action:a.id}),className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.label})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Retrieval Setting"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:[{id:"hybrid",label:"Hybrid Search",desc:"Execute full-text search and vector searches simultaneously, re-rank to select the best match for the user's query."},{id:"semantic",label:"Semantic Search",desc:"Generate query embeddings and search for the text chunk most similar to its vector representation."},{id:"fulltext",label:"Full Text Search",desc:"Index all terms in the document, allowing users to search any term and retrieve relevant text chunk containing those terms."}].map(a=>(0,b.jsxs)("button",{onClick:()=>aq({...ap,retrievalSetting:a.id}),className:`text-left p-4 border-2 rounded-lg transition-all ${ap.retrievalSetting===a.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[(0,b.jsx)("div",{className:"font-semibold text-gray-900 mb-1 text-sm",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:a.desc})]},a.id))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Top K"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",min:"1",max:"20",value:ap.topK,onChange:a=>aq({...ap,topK:parseInt(a.target.value)}),className:"flex-1"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-900 w-8",children:ap.topK})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Score Threshold"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:ap.scoreThreshold,onChange:a=>aq({...ap,scoreThreshold:parseFloat(a.target.value)}),className:"flex-1"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-900 w-8",children:ap.scoreThreshold})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"Tool Definition"}),(0,b.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-700",children:"Collapse"})]}),(0,b.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-3",children:(0,b.jsxs)("p",{className:"text-sm text-yellow-800",children:["Know more about knowledge tool definiation that can be supported by rapida",(0,b.jsx)("a",{href:"#",className:"ml-2 text-yellow-700 hover:text-yellow-900 font-semibold",children:"Read documentation â†’"})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),(0,b.jsx)("input",{type:"text",value:ap.name,onChange:a=>aq({...ap,name:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:ap.description,onChange:a=>aq({...ap,description:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2 text-gray-900 h-20"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parameters"}),(0,b.jsx)("textarea",{value:ap.parameters,onChange:a=>aq({...ap,parameters:a.target.value}),className:"w-full bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-green-400 font-mono text-sm h-48"})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>ao(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{al([...ak,ap]),ao(!1),aq({name:"knowledge_query",description:"Use this tool to retrieve specific information or data from provided queries before responding.",action:"knowledge_retrieval",retrievalSetting:"hybrid",topK:5,scoreThreshold:.5,parameters:JSON.stringify({properties:{context:{description:"Concise and searchable description of the users query or topic.",type:"string"}}},null,2)})},className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700",children:"Save tool"})]})]})})]}),D&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,b.jsxs)("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Assistant"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Update your voice assistant configuration"})]}),(0,b.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsx)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Assistant Name"}),(0,b.jsx)("input",{type:"text",value:ag.agent_name,onChange:a=>ah({...ag,agent_name:a.target.value}),placeholder:"Enter assistant name",className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:ag.agent_description,onChange:a=>ah({...ag,agent_description:a.target.value}),placeholder:"Describe your assistant",rows:3,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"AI Provider"}),(0,b.jsx)("select",{value:ag.ai_provider,onChange:a=>ah({...ag,ai_provider:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:cx.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"AI Model"}),(0,b.jsx)("select",{value:ag.ai_model,onChange:a=>ah({...ag,ai_model:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:cx.find(a=>a.id===ag.ai_provider)?.models.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"STT Provider"}),(0,b.jsx)("select",{value:ag.stt_provider,onChange:a=>ah({...ag,stt_provider:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:cy.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Voice Provider"}),(0,b.jsx)("select",{value:ag.voice_provider,onChange:a=>ah({...ag,voice_provider:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:cz.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:ag.status,onChange:a=>ah({...ag,status:a.target.value}),className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-2.5 text-gray-900",children:[(0,b.jsx)("option",{value:"testing",children:"Testing"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"System Prompt"}),(0,b.jsx)("textarea",{value:ag.system_prompt,onChange:a=>ah({...ag,system_prompt:a.target.value}),placeholder:"Enter system prompt for your assistant...",rows:6,className:"w-full bg-white border border-gray-300 rounded-lg px-4 py-3 text-gray-900 font-mono text-sm"})]})]})}),(0,b.jsxs)("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:()=>E(!1),className:"px-6 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"}),(0,b.jsxs)("button",{onClick:ay,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 flex items-center gap-2",children:["Update Assistant",(0,b.jsx)(an.default,{className:"w-5 h-5"})]})]})]})}),F&&H&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-6 text-white flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-white/20 p-3 rounded-xl",children:(0,b.jsx)(bj.default,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:H.name}),(0,b.jsx)("p",{className:"text-green-100 text-sm",children:"Voice Assistant Demo"})]})]}),(0,b.jsx)("button",{onClick:()=>{aA(),G(!1),J(null)},className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]})}),(0,b.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,b.jsx)(aO.Mic,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:"System Configuration"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-gray-700",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"AI Model:"})," ",H.ai_model||"GPT-4"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Voice Type:"})," ",H.voice_type||"Neutral"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Language:"})," ",H.language||"English (US)"]})]})]})]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(Q.default,{className:"w-5 h-5 text-green-600"}),"Voice Demonstrations"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"English (US)"})]}),(0,b.jsx)("button",{onClick:()=>az(H.greeting_message||H.system_prompt||"Hello! I am your AI voice assistant. How can I help you today?","en-US"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cw.default,{className:"w-4 h-4"}),"Stop"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',H.greeting_message||H.system_prompt||"Hello! I am your AI voice assistant. How can I help you today?",'"']})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Spanish (ES)"})]}),(0,b.jsx)("button",{onClick:()=>az("Â¡Hola! Soy tu asistente de voz con inteligencia artificial. Â¿En quÃ© puedo ayudarte hoy?","es-ES"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cw.default,{className:"w-4 h-4"}),"Stop"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Â¡Hola! Soy tu asistente de voz con inteligencia artificial. Â¿En quÃ© puedo ayudarte hoy?"'})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"French (FR)"})]}),(0,b.jsx)("button",{onClick:()=>az("Bonjour! Je suis votre assistant vocal intelligent. Comment puis-je vous aider aujourd'hui?","fr-FR"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cw.default,{className:"w-4 h-4"}),"Stop"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Bonjour! Je suis votre assistant vocal intelligent. Comment puis-je vous aider aujourd\'hui?"'})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"German (DE)"})]}),(0,b.jsx)("button",{onClick:()=>az("Hallo! Ich bin Ihr KI-Sprachassistent. Wie kann ich Ihnen heute helfen?","de-DE"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cw.default,{className:"w-4 h-4"}),"Stop"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"Hallo! Ich bin Ihr KI-Sprachassistent. Wie kann ich Ihnen heute helfen?"'})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Chinese (Mandarin)"})]}),(0,b.jsx)("button",{onClick:()=>az("æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„äººå·¥æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹ã€‚ä»Šå¤©æˆ‘èƒ½ä¸ºæ‚¨åšäº›ä»€ä¹ˆï¼Ÿ","zh-CN"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cw.default,{className:"w-4 h-4"}),"Stop"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„äººå·¥æ™ºèƒ½è¯­éŸ³åŠ©æ‰‹ã€‚ä»Šå¤©æˆ‘èƒ½ä¸ºæ‚¨åšäº›ä»€ä¹ˆï¼Ÿ"'})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4 text-blue-600"}),(0,b.jsx)("span",{className:"font-medium text-gray-900",children:"Japanese"})]}),(0,b.jsx)("button",{onClick:()=>az("ã“ã‚“ã«ã¡ã¯ï¼ç§ã¯ã‚ãªãŸã®AIéŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ä»Šæ—¥ã¯ä½•ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ","ja-JP"),className:`px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cw.default,{className:"w-4 h-4"}),"Stop"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Play"]})})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 italic",children:'"ã“ã‚“ã«ã¡ã¯ï¼ç§ã¯ã‚ãªãŸã®AIéŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚ä»Šæ—¥ã¯ä½•ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã—ã‚‡ã†ã‹ï¼Ÿ"'})]})]})]}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(at.Info,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,b.jsx)("p",{className:"font-semibold mb-1",children:"Demo Mode"}),(0,b.jsxs)("p",{children:["This is a demonstration using your browser's built-in text-to-speech. In production, this assistant would use ",H.voice_provider||"ElevenLabs"," for high-quality, natural-sounding voices."]})]})]})})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50 flex justify-end flex-shrink-0",children:(0,b.jsx)("button",{onClick:()=>{aA(),G(!1),J(null)},className:"px-6 py-2.5 bg-gray-600 text-white rounded-lg font-semibold hover:bg-gray-700",children:"Close Demo"})})]})})]})}var y=y,p=p,B=B,t=t,A=A,ao=ao,cC=a.i(51964),cC=cC,O=O,a2=a2,cD=a.i(19253),cD=cD,e=e,an=an;let cE={casual:cC.default,sales:O.default,marketing:ar.TrendingUp,technical:aF.Code,it:a2.default,board:cD.default,client:e.default,friendly:a0.MessageCircle},cF={green:{bg:"bg-green-500",text:"text-green-400",border:"border-green-500"},red:{bg:"bg-red-500",text:"text-red-400",border:"border-red-500"},purple:{bg:"bg-purple-500",text:"text-purple-400",border:"border-purple-500"},blue:{bg:"bg-blue-500",text:"text-blue-400",border:"border-blue-500"},cyan:{bg:"bg-cyan-500",text:"text-cyan-400",border:"border-cyan-500"},gray:{bg:"bg-gray-600",text:"text-gray-400",border:"border-gray-600"},orange:{bg:"bg-orange-500",text:"text-orange-400",border:"border-orange-500"}};function cG(){let[a,d]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[h,j]=(0,c.useState)("all"),[k,l]=(0,c.useState)(""),[m,o]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[s,u]=(0,c.useState)(null),[v,x]=(0,c.useState)([]),[z,C]=(0,c.useState)("list");(0,c.useEffect)(()=>{D()},[]),(0,c.useEffect)(()=>{E()},[a,h,k]);let D=async()=>{o(!0);try{let{data:a,error:b}=await n.db.from("meeting_templates").select("*").order("template_category").order("template_name");if(b)throw b;d(a||[])}catch(a){console.error("Error loading templates:",a)}finally{o(!1)}},E=()=>{let b=a;if("all"!==h&&(b=b.filter(a=>a.template_category===h)),k){let a=k.toLowerCase();b=b.filter(b=>b.template_name.toLowerCase().includes(a)||b.template_description?.toLowerCase().includes(a))}g(b)},F=async a=>{try{let{data:b,error:c}=await n.db.from("meeting_template_sections").select("*").eq("template_id",a).order("section_order");if(c)throw c;x(b||[])}catch(a){console.error("Error loading template sections:",a)}},G=async a=>{u(a),await F(a.id),C("view")},H=async a=>{u(a),await F(a.id),C("edit")},I=async a=>{console.log("Copying template:",a.template_name)},J=[{id:"all",label:"All Templates",icon:ao.default},{id:"casual",label:"Casual",icon:cC.default},{id:"sales",label:"Sales",icon:O.default},{id:"marketing",label:"Marketing",icon:ar.TrendingUp},{id:"technical",label:"Technical",icon:aF.Code},{id:"it",label:"It",icon:a2.default},{id:"board",label:"Board",icon:cD.default},{id:"client",label:"Client",icon:e.default},{id:"friendly",label:"Friendly",icon:a0.MessageCircle}];if(m)return(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Loading Templates..."})]})});if("view"===z&&s){let a;return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("button",{onClick:()=>{C("list"),u(null)},className:"mb-4 text-gray-400 hover:text-white flex items-center gap-2",children:"â† Back to Templates"}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-16 h-16 ${cF[s.icon_color].bg} rounded-lg flex items-center justify-center`,children:(a=cE[s.template_category])?(0,b.jsx)(a,{className:"w-8 h-8 text-white"}):(0,b.jsx)(i.FileText,{className:"w-8 h-8 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:s.template_name}),(0,b.jsx)("p",{className:"text-gray-400",children:s.template_description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded capitalize",children:s.template_category}),s.is_default&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Default"})]})]})]}),(0,b.jsxs)("button",{onClick:()=>H(s),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(t.default,{className:"w-4 h-4"}),"Edit Template"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white",children:["Template Sections (",v.length,")"]}),v.map(a=>(0,b.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-1",children:a.section_title}),a.section_description&&(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:a.section_description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-600 text-gray-300 text-xs rounded capitalize",children:a.section_type.replace("_"," ")}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["Order: ",a.section_order]})]})]})})},a.id))]})]})]})}return(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(i.FileText,{className:"w-8 h-8"}),"Meeting Templates"]}),(0,b.jsx)("p",{className:"text-blue-100",children:"Customize your meeting minutes documents"})]}),(0,b.jsxs)("button",{onClick:()=>r(!0),className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Template"]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.default,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-300 w-5 h-5"}),(0,b.jsx)("input",{type:"text",placeholder:"Search templates...",value:k,onChange:a=>l(a.target.value),className:"w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg pl-12 pr-4 py-3 text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),(0,b.jsx)("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:J.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>j(a.id),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${h===a.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.label]},a.id)})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(a=>{let c=cE[a.template_category]||i.FileText,d=cF[a.icon_color]||cF.blue;return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,b.jsx)("div",{className:`w-14 h-14 ${d.bg} rounded-lg flex items-center justify-center flex-shrink-0`,children:(0,b.jsx)(c,{className:"w-7 h-7 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:a.template_name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded capitalize flex items-center gap-1",children:["casual"===a.template_category&&(0,b.jsx)(cC.default,{className:"w-3 h-3"}),"sales"===a.template_category&&(0,b.jsx)(O.default,{className:"w-3 h-3"}),"marketing"===a.template_category&&(0,b.jsx)(ar.TrendingUp,{className:"w-3 h-3"}),"technical"===a.template_category&&(0,b.jsx)(aF.Code,{className:"w-3 h-3"}),"it"===a.template_category&&(0,b.jsx)(a2.default,{className:"w-3 h-3"}),"board"===a.template_category&&(0,b.jsx)(cD.default,{className:"w-3 h-3"}),"client"===a.template_category&&(0,b.jsx)(e.default,{className:"w-3 h-3"}),"friendly"===a.template_category&&(0,b.jsx)(a0.MessageCircle,{className:"w-3 h-3"}),a.template_category]}),a.is_default&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 text-xs rounded flex items-center gap-1",children:[(0,b.jsx)(ao.default,{className:"w-3 h-3"}),"Default"]})]})]})]}),(0,b.jsx)("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:a.template_description}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:[a.sections_count," sections included"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>G(a),className:"flex-1 bg-blue-600/20 text-blue-400 px-4 py-2 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(B.default,{className:"w-4 h-4"}),"View"]}),(0,b.jsxs)("button",{onClick:()=>H(a),className:"flex-1 bg-purple-600/20 text-purple-400 px-4 py-2 rounded-lg hover:bg-purple-600/30 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(t.default,{className:"w-4 h-4"}),"Edit"]}),(0,b.jsx)("button",{onClick:()=>I(a),className:"bg-gray-700 text-gray-300 p-2 rounded-lg hover:bg-gray-600 transition-colors",children:(0,b.jsx)(A.default,{className:"w-4 h-4"})})]})]},a.id)})}),0===f.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(i.FileText,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-400 mb-2",children:"No templates found"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:k?"Try adjusting your search terms":"Create your first meeting template to get started"}),(0,b.jsxs)("button",{onClick:()=>r(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Template"]})]}),q&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create New Template"}),(0,b.jsx)("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Template Name"}),(0,b.jsx)("input",{type:"text",placeholder:"e.g., Sprint Planning Meeting",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{placeholder:"Describe the purpose of this template...",rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),(0,b.jsxs)("select",{className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"casual",children:"Casual"}),(0,b.jsx)("option",{value:"sales",children:"Sales"}),(0,b.jsx)("option",{value:"marketing",children:"Marketing"}),(0,b.jsx)("option",{value:"technical",children:"Technical"}),(0,b.jsx)("option",{value:"it",children:"IT"}),(0,b.jsx)("option",{value:"board",children:"Board"}),(0,b.jsx)("option",{value:"client",children:"Client"}),(0,b.jsx)("option",{value:"friendly",children:"Friendly"}),(0,b.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("label",{className:"flex items-center gap-2 text-gray-300",children:[(0,b.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded"}),(0,b.jsx)("span",{className:"text-sm",children:"Set as default template"})]})}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:()=>r(!1),className:"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:()=>{r(!1)},className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(an.default,{className:"w-5 h-5"}),"Create Template"]})]})]})]})})]})}var s=s,bf=bf,b$=b$,Q=Q,e=e,a$=a$,m=m,bA=bA;function cH({onClose:a,onSuccess:d}){let[f,g]=(0,c.useState)({meetingTitle:"",description:"",meetingLink:"",referenceId:"",meetingDate:"",meetingTime:"",meetingPlatform:"direct_recording",documentTemplateId:"",documentLanguage:"english",transcriptionLanguage:"auto-detect",enableTranslation:!1,participantEmails:[]}),[h,j]=(0,c.useState)({liveTranscription:!0,microphoneDevice:"default",speakerDiarization:!0,languageEnhancement:!0,echoCancellation:!1,volumeNormalization:!1,voiceIsolation:!1,noiseReductionLevel:"medium"}),[k,l]=(0,c.useState)([]),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),[x,y]=(0,c.useState)("ready");(0,c.useEffect)(()=>{z()},[]);let z=async()=>{try{let{data:a,error:b}=await n.db.from("meeting_templates").select("id, template_name, template_category").order("template_name");if(b)throw b;if(l(a||[]),a&&a.length>0){let b=a.find(a=>a.template_name.includes("Board"));b&&g(a=>({...a,documentTemplateId:b.id}))}}catch(a){console.error("Error loading templates:",a)}},A=(a,b)=>{g(c=>({...c,[a]:b}))},B=(a,b)=>{j(c=>({...c,[a]:b}))},C=()=>{o&&o.includes("@")&&(f.participantEmails.includes(o)||g(a=>({...a,participantEmails:[...a.participantEmails,o]})),p(""))},D=async()=>{if(!f.meetingTitle)return void u("Meeting title is required");r(!0),u("");try{let b=null;f.meetingDate&&f.meetingTime&&(b=new Date(`${f.meetingDate}T${f.meetingTime}`).toISOString());let{data:c,error:e}=await n.db.from("meetings").insert({meeting_title:f.meetingTitle,meeting_description:f.description||null,meeting_type:"scheduled",meeting_link:f.meetingLink||null,reference_id:f.referenceId||null,scheduled_start_time:b,meeting_platform:f.meetingPlatform,document_template_id:f.documentTemplateId||null,document_language:f.documentLanguage,transcription_language:f.transcriptionLanguage,enable_translation:f.enableTranslation,translation_target_language:f.enableTranslation?"english":null,participant_emails:f.participantEmails.length>0?f.participantEmails:null,meeting_status:"scheduled"}).select().single();if(e)throw e;let{error:g}=await n.db.from("meeting_audio_settings").insert({meeting_id:c.id,live_transcription_enabled:h.liveTranscription,microphone_device:h.microphoneDevice,websocket_transcription_enabled:!0,speaker_diarization_enabled:h.speakerDiarization,language_enhancement_enabled:h.languageEnhancement,echo_cancellation_enabled:h.echoCancellation,volume_normalization_enabled:h.volumeNormalization,voice_isolation_enabled:h.voiceIsolation,noise_reduction_level:h.noiseReductionLevel});if(g)throw g;if(f.participantEmails.length>0){let a=f.participantEmails.map(a=>({meeting_id:c.id,participant_email:a,notify_on_transcript:!0})),{error:b}=await n.db.from("meeting_participants_list").insert(a);if(b)throw b}d(),a()}catch(a){console.error("Error scheduling meeting:",a),u(a.message||"Failed to schedule meeting")}finally{r(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 max-w-6xl w-full my-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Schedule New Meeting"}),(0,b.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),t&&(0,b.jsxs)("div",{className:"mb-4 bg-red-500/10 border border-red-500/50 rounded-lg p-4 flex items-start gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{className:"text-red-200",children:t})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Meeting Title ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",placeholder:"e.g., Weekly Team Sync, Client Discovery Call",value:f.meetingTitle,onChange:a=>A("meetingTitle",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Optional)"}),(0,b.jsx)("textarea",{placeholder:"Brief overview of the meeting objective...",value:f.description,onChange:a=>A("description",a.target.value),rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(bf.default,{className:"w-4 h-4"}),"Meeting Link/ID (Optional)"]}),(0,b.jsx)("input",{type:"text",placeholder:"https://zoom.us/j/123456789 or Meeting ID",value:f.meetingLink,onChange:a=>A("meetingLink",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(b$.default,{className:"w-4 h-4"}),"Reference ID (Optional)"]}),(0,b.jsx)("input",{type:"text",placeholder:"Internal ID or code",value:f.referenceId,onChange:a=>A("referenceId",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),"Meeting Date (Optional)"]}),(0,b.jsx)("input",{type:"date",value:f.meetingDate,onChange:a=>A("meetingDate",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),"Meeting Time (Optional)"]}),(0,b.jsx)("input",{type:"time",value:f.meetingTime,onChange:a=>A("meetingTime",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(ap.Video,{className:"w-4 h-4"}),"Meeting Platform"]}),(0,b.jsxs)("select",{value:f.meetingPlatform,onChange:a=>A("meetingPlatform",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"direct_recording",children:"Direct Recording"}),(0,b.jsx)("option",{value:"zoom",children:"Zoom"}),(0,b.jsx)("option",{value:"google_meet",children:"Google Meet"}),(0,b.jsx)("option",{value:"microsoft_teams",children:"Microsoft Teams"}),(0,b.jsx)("option",{value:"webex",children:"Webex"}),(0,b.jsx)("option",{value:"other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Document Template"]}),(0,b.jsx)("select",{value:f.documentTemplateId,onChange:a=>A("documentTemplateId",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(a=>(0,b.jsx)("option",{value:a.id,children:a.template_name},a.id))}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Template for meeting minutes document"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-4 h-4"}),"Document Language"]}),(0,b.jsxs)("select",{value:f.documentLanguage,onChange:a=>A("documentLanguage",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"english",children:"English"}),(0,b.jsx)("option",{value:"malay",children:"Bahasa Melayu"}),(0,b.jsx)("option",{value:"chinese",children:"Chinese"}),(0,b.jsx)("option",{value:"tamil",children:"Tamil"}),(0,b.jsx)("option",{value:"spanish",children:"Spanish"}),(0,b.jsx)("option",{value:"french",children:"French"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Language for meeting minutes document"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(Q.default,{className:"w-4 h-4"}),"Transcription Language"]}),(0,b.jsxs)("select",{value:f.transcriptionLanguage,onChange:a=>A("transcriptionLanguage",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"auto-detect",children:"Auto-Detect (Recommended for Mixed Languages)"}),(0,b.jsx)("option",{value:"english",children:"English"}),(0,b.jsx)("option",{value:"malay",children:"Bahasa Melayu"}),(0,b.jsx)("option",{value:"chinese",children:"Chinese"}),(0,b.jsx)("option",{value:"mixed",children:"Mixed (English + Bahasa Melayu)"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Automatically detect language (supports English + Bahasa Malay mixed conversations)"})]})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("label",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.enableTranslation,onChange:a=>A("enableTranslation",a.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Enable Translation to English"}),(0,b.jsx)("p",{className:"text-sm text-blue-200 mt-1",children:"Translate non-English speech to English"}),f.enableTranslation&&(0,b.jsx)("p",{className:"text-xs text-blue-300 mt-2 italic",children:"When enabled, Malay speech will be transcribed in Malay and automatically translated to English"})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(e.default,{className:"w-4 h-4"}),"Participants (Optional)"]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,b.jsx)("input",{type:"email",placeholder:"email@example.com",value:o,onChange:a=>p(a.target.value),onKeyPress:a=>"Enter"===a.key&&C(),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,b.jsx)("button",{onClick:C,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"âœ“ All participants with email addresses will automatically receive a notification when the meeting transcript is ready"}),f.participantEmails.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:f.participantEmails.map(a=>(0,b.jsxs)("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[a,(0,b.jsx)("button",{onClick:()=>{g(b=>({...b,participantEmails:b.participantEmails.filter(b=>b!==a)}))},className:"text-gray-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-3 h-3"})})]},a))}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Participants will receive an email with the transcript when the meeting is complete"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(a$.default,{className:"w-5 h-5 text-red-400"}),"Real-Time Audio Capture"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-300",children:"Live Transcription"}),(0,b.jsx)("input",{type:"checkbox",checked:h.liveTranscription,onChange:a=>B("liveTranscription",a.target.checked),className:"w-4 h-4 rounded"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(aO.Mic,{className:"w-4 h-4"}),"Microphone Device"]}),(0,b.jsxs)("select",{value:h.microphoneDevice,onChange:a=>B("microphoneDevice",a.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"default",children:"MacBook Pro Microphone (Built-in)"}),(0,b.jsx)("option",{value:"external",children:"External Microphone"}),(0,b.jsx)("option",{value:"headset",children:"Headset Microphone"})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-2 flex items-center gap-1",children:[(0,b.jsx)(v.CheckCircle,{className:"w-3 h-3"}),"Real-time WebSocket transcription enabled - powered by Teleaon AI"]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(m.default,{className:"w-5 h-5"}),"Audio Processing Settings"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("label",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.speakerDiarization,onChange:a=>B("speakerDiarization",a.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Speaker Diarization"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Identify speakers"})]})]}),(0,b.jsxs)("label",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.languageEnhancement,onChange:a=>B("languageEnhancement",a.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Language Enhancement"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Context-aware AI"})]})]}),(0,b.jsxs)("label",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.echoCancellation,onChange:a=>B("echoCancellation",a.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Echo Cancellation"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Remove echo"})]})]}),(0,b.jsxs)("label",{className:"flex items-start gap-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.volumeNormalization,onChange:a=>B("volumeNormalization",a.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Volume Normalization"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Auto-adjust levels"})]})]})]}),(0,b.jsxs)("label",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.voiceIsolation,onChange:a=>B("voiceIsolation",a.target.checked),className:"w-4 h-4 rounded mt-0.5"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-white font-medium text-sm",children:"Voice Isolation"}),(0,b.jsx)("span",{className:"px-2 py-0.5 bg-purple-500 text-white text-xs rounded font-bold",children:"PRO"}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"AI voice extraction"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Noise Reduction Level"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["low","medium","high","aggressive"].map(a=>(0,b.jsx)("button",{onClick:()=>B("noiseReductionLevel",a),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h.noiseReductionLevel===a?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]})]}),(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-6 text-center",children:[(0,b.jsx)(aO.Mic,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"Ready to Record"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Recording will be transcribed with speaker identification, action items, and insights"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{disabled:!0,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold opacity-50 cursor-not-allowed flex items-center justify-center gap-2",children:[(0,b.jsx)(aO.Mic,{className:"w-5 h-5"}),"Start Recording"]}),(0,b.jsxs)("button",{disabled:!0,className:"flex-1 bg-gray-600 text-gray-300 px-6 py-3 rounded-lg font-semibold opacity-50 cursor-not-allowed flex items-center justify-center gap-2",children:[(0,b.jsx)(bA.default,{className:"w-5 h-5"}),"Upload File"]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"Recording features will be available after scheduling"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:a,disabled:q,className:"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:D,disabled:q||!f.meetingTitle,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2",children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Scheduling..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}),"Schedule Meeting"]})})]})]})})}var bo=bo,bp=bp,ae=ae,bq=bq,e=e,q=q,cI=a.i(42419),cI=cI,bg=bg,bj=bj,cm=cm,m=m;let cJ=({meetingId:a,meetingTitle:d,onLeave:f})=>{let g,h,[i,k]=(0,c.useState)([]),[l,o]=(0,c.useState)([]),[p,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)("participants"),[A,B]=(0,c.useState)(80),[C,D]=(0,c.useState)(80),[E,F]=(0,c.useState)(0);(0,c.useEffect)(()=>{G(),H();let a=setInterval(()=>{F(a=>a+1)},1e3),b=setInterval(()=>{H()},5e3);return()=>{clearInterval(a),clearInterval(b)}},[a]);let G=async()=>{try{let{data:b,error:c}=await n.db.from("meeting_participants").select("*").eq("meeting_id",a).order("role",{ascending:!1});if(c)throw c;k(b||[])}catch(a){console.error("Error loading participants:",a)}},H=async()=>{try{let{data:b,error:c}=await n.db.from("meeting_transcripts").select("*").eq("meeting_id",a).order("segment_number",{ascending:!0});if(c)throw c;o(b||[])}catch(a){console.error("Error loading transcripts:",a)}};return(0,b.jsxs)("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:d}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),(g=Math.floor(E/3600),h=Math.floor(E%3600/60),`${g.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${(E%60).toString().padStart(2,"0")}`)]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[(0,b.jsx)(e.default,{className:"w-4 h-4"}),i.length," participants"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),(0,b.jsx)("span",{className:"text-sm font-semibold text-red-500",children:"LIVE"})]})]})]}),(0,b.jsx)("button",{onClick:()=>x(!w),className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,b.jsx)(q.default,{className:"w-5 h-5 text-gray-400"})})]}),(0,b.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,b.jsx)("div",{className:"flex-1 bg-black p-4 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 w-full max-w-6xl",children:[(0,b.jsxs)("div",{className:"col-span-2 relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-4xl font-bold",children:i[0]?.participant_name.charAt(0)||"H"})}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/70 px-3 py-2 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(m.default,{className:"w-4 h-4 text-green-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:i[0]?.participant_name||"Host"}),i[0]?.audio_enabled&&(0,b.jsx)(bj.default,{className:"w-4 h-4 text-green-400"}),!i[0]?.audio_enabled&&(0,b.jsx)(cm.default,{className:"w-4 h-4 text-red-400"})]})]}),i.slice(1,5).map((a,c)=>(0,b.jsxs)("div",{className:"relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",children:[(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center text-white text-2xl font-bold",children:a.participant_name.charAt(0)}),(0,b.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-sm flex items-center gap-1",children:[(0,b.jsx)("span",{className:"text-white",children:a.participant_name}),a.audio_enabled&&(0,b.jsx)(bj.default,{className:"w-3 h-3 text-green-400"}),!a.audio_enabled&&(0,b.jsx)(cm.default,{className:"w-3 h-3 text-red-400"})]})]},a.id))]})}),w&&(0,b.jsxs)("div",{className:"w-96 bg-gray-800 border-l border-gray-700 flex flex-col",children:[(0,b.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,b.jsxs)("button",{onClick:()=>z("participants"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"participants"===y?"text-white bg-gray-700 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,b.jsx)(e.default,{className:"w-4 h-4 mx-auto mb-1"}),"Participants"]}),(0,b.jsxs)("button",{onClick:()=>z("chat"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"chat"===y?"text-white bg-gray-700 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4 mx-auto mb-1"}),"Chat"]}),(0,b.jsxs)("button",{onClick:()=>z("transcript"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${"transcript"===y?"text-white bg-gray-700 border-b-2 border-blue-500":"text-gray-400 hover:text-white hover:bg-gray-750"}`,children:[(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4 mx-auto mb-1"}),"Transcript"]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:["participants"===y&&(0,b.jsx)("div",{className:"space-y-2",children:i.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:a.participant_name.charAt(0)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.participant_name}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:a.role})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[a.audio_enabled?(0,b.jsx)(aO.Mic,{className:"w-4 h-4 text-green-400"}):(0,b.jsx)(bp.default,{className:"w-4 h-4 text-red-400"}),a.video_enabled?(0,b.jsx)(ap.Video,{className:"w-4 h-4 text-green-400"}):(0,b.jsx)(bo.default,{className:"w-4 h-4 text-red-400"})]})]},a.id))}),"chat"===y&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Sarah Johnson"}),(0,b.jsx)("div",{className:"text-white text-sm",children:"Great discussion everyone!"})]}),(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Participant A"}),(0,b.jsx)("div",{className:"text-white text-sm",children:"Agreed, very productive session."})]})]}),"transcript"===y&&(0,b.jsx)("div",{className:"space-y-3",children:l.length>0?l.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-white",children:a.speaker_name}),(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:[Math.floor(a.start_time_seconds/60),":",(a.start_time_seconds%60).toString().padStart(2,"0")]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-300",children:a.transcript_text}),a.is_question&&(0,b.jsx)("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Question"})]},a.id)):(0,b.jsxs)("div",{className:"text-center text-gray-400 py-8",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,b.jsx)("p",{children:"Live transcription will appear here"})]})})]})]})]}),(0,b.jsx)("div",{className:"bg-gray-800 border-t border-gray-700 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 bg-gray-700 rounded-lg px-3 py-2",children:[(0,b.jsx)(bj.default,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"range",min:"0",max:"100",value:A,onChange:a=>B(Number(a.target.value)),className:"w-20 accent-blue-500"}),(0,b.jsxs)("span",{className:"text-xs text-gray-400 w-8",children:[A,"%"]})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>t(!s),className:`p-4 rounded-full transition-colors ${s?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"}`,children:s?(0,b.jsx)(aO.Mic,{className:"w-5 h-5 text-white"}):(0,b.jsx)(bp.default,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{onClick:()=>r(!p),className:`p-4 rounded-full transition-colors ${p?"bg-gray-700 hover:bg-gray-600":"bg-red-600 hover:bg-red-700"}`,children:p?(0,b.jsx)(ap.Video,{className:"w-5 h-5 text-white"}):(0,b.jsx)(bo.default,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{onClick:()=>v(!u),className:`p-4 rounded-full transition-colors ${u?"bg-blue-600 hover:bg-blue-700":"bg-gray-700 hover:bg-gray-600"}`,children:u?(0,b.jsx)(bq.default,{className:"w-5 h-5 text-white"}):(0,b.jsx)(ae.default,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{onClick:()=>{confirm("Are you sure you want to leave this meeting?")&&f()},className:"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors",children:(0,b.jsx)($.Phone,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,b.jsx)(cI.default,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,b.jsx)(bg.default,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{className:"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors",children:(0,b.jsx)(j.Settings,{className:"w-5 h-5 text-white"})})]})]})})]})};var e=e,s=s,cK=a.i(35134),cK=cK,bh=bh,cL=a.i(28811),cL=cL,l=l,y=y,t=t,u=u,a5=a5,aR=aR,as=as,m=m,p=p,bf=bf,cM=a.i(38998),cM=cM,cN=a.i(32384),cN=cN;function cO(){let[a,d]=(0,c.useState)("upcoming"),[f,g]=(0,c.useState)(!1),[h,j]=(0,c.useState)(!1),[k,o]=(0,c.useState)(null),[q,r]=(0,c.useState)([]),[w,x]=(0,c.useState)(null),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[H,I]=(0,c.useState)(null),[K,L]=(0,c.useState)([]);(0,c.useEffect)(()=>{M()},[]),(0,c.useEffect)(()=>{w&&N()},[w]);let M=async()=>{g(!0);try{let{data:a,error:b}=await n.db.from("meetings").select("*").order("scheduled_start_time",{ascending:!1});if(b)throw b;let c=(a||[]).map(a=>({...a,tags:"string"==typeof a.tags?JSON.parse(a.tags):a.tags||[]}));r(c),c.length>0&&!w&&x(c[0].id)}catch(a){console.error("Error loading meetings:",a)}finally{g(!1)}},N=async()=>{w&&await Promise.all([O(),P(),Q(),R(),S(),T()])},O=async()=>{if(w)try{let{data:a,error:b}=await n.db.from("meeting_participants").select("*").eq("meeting_id",w).order("joined_at",{ascending:!1});if(b)throw b;A(a||[])}catch(a){console.error("Error loading participants:",a)}},P=async()=>{if(w)try{let{data:a,error:b}=await n.db.from("meeting_transcripts").select("*").eq("meeting_id",w).order("segment_number");if(b)throw b;let c=(a||[]).map(a=>({...a,keywords:"string"==typeof a.keywords?JSON.parse(a.keywords):a.keywords||[],topics:"string"==typeof a.topics?JSON.parse(a.topics):a.topics||[]}));C(c)}catch(a){console.error("Error loading transcripts:",a)}},Q=async()=>{if(w)try{let{data:a,error:b}=await n.db.from("meeting_action_items").select("*").eq("meeting_id",w).order("priority",{ascending:!1});if(b)throw b;E(a||[])}catch(a){console.error("Error loading action items:",a)}},R=async()=>{if(w)try{let{data:a,error:b}=await n.db.from("meeting_summaries").select("*").eq("meeting_id",w);if(b)throw b;let c=(a||[]).map(a=>({...a,key_points:"string"==typeof a.key_points?JSON.parse(a.key_points):a.key_points||[],decisions_made:"string"==typeof a.decisions_made?JSON.parse(a.decisions_made):a.decisions_made||[],next_steps:"string"==typeof a.next_steps?JSON.parse(a.next_steps):a.next_steps||[]}));G(c)}catch(a){console.error("Error loading summaries:",a)}},S=async()=>{if(w)try{let{data:a,error:b}=await n.db.from("meeting_analytics").select("*").eq("meeting_id",w).maybeSingle();if(b)throw b;I(a)}catch(a){console.error("Error loading analytics:",a)}},T=async()=>{if(w)try{let{data:a,error:b}=await n.db.from("meeting_ai_insights").select("*").eq("meeting_id",w).order("importance_score",{ascending:!1});if(b)throw b;L(a||[])}catch(a){console.error("Error loading AI insights:",a)}},U=a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`};if(f)return(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-400",children:"Loading Meetings AI..."})]})});let V=q.find(a=>a.id===w),W=q.filter(a=>"scheduled"===a.status),X=q.filter(a=>"live"===a.status),Y=q.filter(a=>"ended"===a.status);return k?(0,b.jsx)(cJ,{meetingId:k.id,meetingTitle:k.meeting_title,onLeave:()=>o(null)}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(ap.Video,{className:"w-8 h-8 text-blue-500"}),"Meetings AI"]}),(0,b.jsx)("p",{className:"text-gray-400",children:"AI-powered meeting platform with real-time transcription, summaries, and insights"})]}),(0,b.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Schedule Meeting"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(s.default,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Upcoming"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:W.length}),(0,b.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Scheduled meetings"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(aH.Play,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Live Now"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:X.length}),(0,b.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Active meetings"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Completed"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:Y.length}),(0,b.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Past meetings"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)(a5.default,{className:"w-8 h-8 text-white"}),(0,b.jsx)("span",{className:"text-white/80 text-sm",children:"Action Items"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:q.reduce((a,b)=>a+("ended"===b.status?D.length:0),0)}),(0,b.jsx)("div",{className:"text-white/70 text-sm mt-1",children:"Total tracked"})]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:[(0,b.jsxs)("button",{onClick:()=>d("upcoming"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"upcoming"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),"Upcoming (",W.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("live"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"live"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Live (",X.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("past"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"past"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"}),"Past (",Y.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("templates"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"templates"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(cN.default,{className:"w-4 h-4"}),"Templates"]}),V&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>d("transcript"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"transcript"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4"}),"Transcript"]}),(0,b.jsxs)("button",{onClick:()=>d("summary"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"summary"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(i.FileText,{className:"w-4 h-4"}),"Summary"]}),(0,b.jsxs)("button",{onClick:()=>d("actions"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"actions"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(cL.default,{className:"w-4 h-4"}),"Actions (",D.length,")"]}),(0,b.jsxs)("button",{onClick:()=>d("insights"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"insights"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(bh.default,{className:"w-4 h-4"}),"AI Insights"]}),(0,b.jsxs)("button",{onClick:()=>d("analytics"),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${"analytics"===a?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[(0,b.jsx)(aJ.BarChart3,{className:"w-4 h-4"}),"Analytics"]})]})]}),("upcoming"===a||"live"===a||"past"===a)&&(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:("upcoming"===a?W:"live"===a?X:Y).map(a=>(0,b.jsxs)("div",{onClick:()=>x(a.id),className:`bg-gray-800 rounded-lg p-6 cursor-pointer transition-all hover:bg-gray-750 ${w===a.id?"ring-2 ring-blue-500":""}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.meeting_title}),(0,b.jsx)("span",{className:`px-3 py-1 rounded text-xs font-semibold ${"live"===a.status?"bg-green-500/20 text-green-400 animate-pulse":"scheduled"===a.status?"bg-blue-500/20 text-blue-400":"ended"===a.status?"bg-gray-500/20 text-gray-400":"bg-red-500/20 text-red-400"}`,children:"live"===a.status?"Live Now":a.status}),a.enable_ai_summary&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded flex items-center gap-1",children:[(0,b.jsx)(as.default,{className:"w-3 h-3"}),"AI Enabled"]})]}),(0,b.jsx)("p",{className:"text-gray-400 mb-3",children:a.meeting_description}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),new Date(a.scheduled_start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.default,{className:"w-4 h-4"}),"Host: ",a.host_name]}),(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(cK.default,{className:"w-4 h-4"}),a.meeting_type]}),a.duration_minutes&&(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.default,{className:"w-4 h-4"}),a.duration_minutes," min"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:["live"===a.status&&(0,b.jsxs)("button",{onClick:()=>o(a),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),"Join"]}),"scheduled"===a.status&&(0,b.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(bf.default,{className:"w-4 h-4"}),"Join Link"]})]})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:a},c))})]},a.id))}),"transcript"===a&&V&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-5 h-5 text-blue-400"}),"Real-Time Transcript"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,b.jsx)(l.default,{className:"w-4 h-4"}),"Export"]}),(0,b.jsxs)("button",{className:"bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[(0,b.jsx)(p.default,{className:"w-4 h-4"}),"Search"]})]})]}),(0,b.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:B.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"font-semibold text-white",children:a.speaker_name}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:U(a.start_time_seconds)}),a.sentiment&&(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"positive"===a.sentiment?"bg-green-500/20 text-green-400":"negative"===a.sentiment?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:a.sentiment}),a.is_question&&(0,b.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded",children:"Question"})]})}),(0,b.jsx)("p",{className:"text-gray-200 mb-2",children:a.transcript_text}),a.keywords&&a.keywords.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.keywords.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-gray-600 text-gray-300 text-xs rounded",children:a},c))})]},a.id))})]})}),"summary"===a&&V&&F.length>0&&(0,b.jsx)("div",{className:"space-y-4",children:F.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(as.default,{className:"w-5 h-5 text-purple-400"}),"AI-Generated Summary",(0,b.jsxs)("span",{className:"text-sm text-gray-400 font-normal ml-2",children:["(",a.summary_type,")"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(cM.default,{className:"w-4 h-4 text-yellow-400"}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[(100*a.confidence_score).toFixed(0),"% confidence"]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Summary"}),(0,b.jsx)("p",{className:"text-gray-200 leading-relaxed",children:a.summary_text})]}),a.key_points&&a.key_points.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Key Points"}),(0,b.jsx)("ul",{className:"space-y-2",children:a.key_points.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400 mt-1 flex-shrink-0"}),a]},c))})]}),a.decisions_made&&a.decisions_made.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Decisions Made"}),(0,b.jsx)("ul",{className:"space-y-2",children:a.decisions_made.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,b.jsx)(aR.default,{className:"w-4 h-4 text-yellow-400 mt-1 flex-shrink-0"}),a]},c))})]}),a.next_steps&&a.next_steps.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Next Steps"}),(0,b.jsx)("ul",{className:"space-y-2",children:a.next_steps.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-gray-200",children:[(0,b.jsx)(a5.default,{className:"w-4 h-4 text-blue-400 mt-1 flex-shrink-0"}),a]},c))})]})]})]},a.id))}),"actions"===a&&V&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,b.jsx)(cL.default,{className:"w-5 h-5 text-green-400"}),"Action Items"]}),(0,b.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Action"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:D.map(a=>(0,b.jsx)("div",{className:"bg-gray-700 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded font-semibold ${"urgent"===a.priority?"bg-red-500/20 text-red-400":"high"===a.priority?"bg-orange-500/20 text-orange-400":"medium"===a.priority?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:a.priority}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"task"===a.action_item_type?"bg-blue-500/20 text-blue-400":"decision"===a.action_item_type?"bg-purple-500/20 text-purple-400":"bg-green-500/20 text-green-400"}`,children:a.action_item_type}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs rounded ${"completed"===a.status?"bg-green-500/20 text-green-400":"in_progress"===a.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:a.status.replace("_"," ")})]}),(0,b.jsx)("p",{className:"text-white mb-2",children:a.action_item_text}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[(0,b.jsxs)("span",{children:["Assigned to: ",a.assigned_to]}),(0,b.jsxs)("span",{children:["Due: ",new Date(a.due_date).toLocaleDateString()]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(cM.default,{className:"w-3 h-3"}),(100*a.confidence_score).toFixed(0),"%"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"text-gray-400 hover:text-white p-2",children:(0,b.jsx)(t.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"text-gray-400 hover:text-red-400 p-2",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})]})},a.id))})]})}),"insights"===a&&V&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg p-6 mb-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(bh.default,{className:"w-7 h-7"}),"AI-Powered Insights"]}),(0,b.jsx)("p",{className:"text-purple-100",children:"Intelligent analysis of meeting dynamics, engagement, and outcomes"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:K.map(a=>(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:`p-2 rounded ${"topic"===a.insight_type?"bg-blue-500/20 text-blue-400":"sentiment"===a.insight_type?"bg-green-500/20 text-green-400":"engagement"===a.insight_type?"bg-purple-500/20 text-purple-400":"recommendation"===a.insight_type?"bg-yellow-500/20 text-yellow-400":"bg-pink-500/20 text-pink-400"}`,children:["topic"===a.insight_type&&(0,b.jsx)(Z.MessageSquare,{className:"w-5 h-5"}),"sentiment"===a.insight_type&&(0,b.jsx)(m.default,{className:"w-5 h-5"}),"engagement"===a.insight_type&&(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5"}),"recommendation"===a.insight_type&&(0,b.jsx)(as.default,{className:"w-5 h-5"}),"highlight"===a.insight_type&&(0,b.jsx)(aR.default,{className:"w-5 h-5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-bold text-white",children:a.insight_title}),(0,b.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:a.insight_type})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(cM.default,{className:"w-4 h-4 text-yellow-400"}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[a.importance_score.toFixed(1),"/10"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4 text-green-400"}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[(100*a.confidence_level).toFixed(0),"%"]})]})]})]}),(0,b.jsx)("p",{className:"text-gray-200",children:a.insight_description})]},a.id))})]}),"analytics"===a&&V&&H&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,b.jsx)(e.default,{className:"w-4 h-4"}),"Participants"]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:H.total_participants}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:["Peak: ",H.peak_concurrent_participants]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,b.jsx)(ar.TrendingUp,{className:"w-4 h-4"}),"Engagement Score"]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:H.engagement_score.toFixed(1)}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Out of 10"})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsxs)("h4",{className:"text-sm text-gray-400 mb-2 flex items-center gap-2",children:[(0,b.jsx)(cL.default,{className:"w-4 h-4"}),"Action Items"]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:H.action_items_count}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Generated by AI"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Participation Overview"}),(0,b.jsx)("div",{className:"space-y-4",children:z.slice(0,5).map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-white font-medium",children:a.participant_name}),(0,b.jsx)("span",{className:"text-gray-400 text-sm",children:U(a.speaking_time_seconds)})]}),(0,b.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${a.speaking_time_seconds/H.total_speaking_time_seconds*100}%`}})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:[a.questions_asked," questions"]}),(0,b.jsxs)("span",{children:[a.reactions_count," reactions"]}),(0,b.jsx)("span",{className:`px-2 py-0.5 rounded ${"excellent"===a.connection_quality?"bg-green-500/20 text-green-400":"good"===a.connection_quality?"bg-blue-500/20 text-blue-400":"fair"===a.connection_quality?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.connection_quality})]})]},a.id))})]})]}),"templates"===a&&(0,b.jsx)(cG,{}),h&&(0,b.jsx)(cH,{onClose:()=>j(!1),onSuccess:()=>{j(!1),M()}})]})}var u=u,a2=a2,cP=a.i(73365),cP=cP,an=an;function cQ({onNavigate:a}){let{user:d}=(0,H.useAuth)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,o]=(0,c.useState)(null);(0,c.useEffect)(()=>{d&&(q(),p())},[d]);let p=async()=>{let{data:a}=await n.db.from("payment_methods").select("id, card_type, last_four, is_primary").eq("user_id",d?.id).eq("is_primary",!0).maybeSingle();a&&l(a)};(0,c.useEffect)(()=>{if(m){let a=setTimeout(()=>o(null),5e3);return()=>clearTimeout(a)}},[m]);let q=async()=>{h(!0);let{data:a,error:b}=await n.db.from("cart_items").select("*").order("created_at",{ascending:!1});!b&&a&&f(a),h(!1)},r=async a=>{let{error:b}=await n.db.from("cart_items").delete().eq("id",a);b||(f(b=>b.filter(b=>b.id!==a)),o({type:"success",message:"Item removed from cart"}))},s=async()=>{let{error:a}=await n.db.from("cart_items").delete().eq("user_id",d?.id);a||(f([]),o({type:"success",message:"Cart cleared"}))},t=async()=>{if(0===e.length||!d)return;let{data:b}=await n.db.from("payment_methods").select("*").eq("user_id",d.id).limit(1);if(!b||0===b.length){o({type:"error",message:"Please add a payment method before checking out."}),setTimeout(()=>{a("billing")},2e3);return}j(!0);let c=`ORD-${Date.now()}-${Math.random().toString(36).substring(7).toUpperCase()}`,f=e.reduce((a,b)=>a+Number(b.total_price),0),g=f+.1*f,{data:h}=await n.db.from("profiles").select("balance").eq("id",d.id).single(),i=(h?.balance||0)-g,{error:k}=await n.db.from("orders").insert({user_id:d.id,order_number:c,status:"completed",total_amount:g,items:e,completed_at:new Date().toISOString()});if(k){o({type:"error",message:"Checkout failed. Please try again."}),j(!1);return}let{error:l}=await n.db.from("transactions").insert({user_id:d.id,type:"debit",amount:-g,balance_after:i,description:`Order ${c}`,reference:c,metadata:{items:e.map(a=>({type:a.item_type,name:v(a),quantity:a.quantity,price:a.unit_price}))}});l&&console.error("Failed to create transaction:",l);let{error:m}=await n.db.from("profiles").update({balance:i}).eq("id",d.id);for(let a of(m&&console.error("Failed to update balance:",m),e))if("phone_number"===a.item_type)await n.db.from("phone_numbers").insert({user_id:d.id,phone_number:a.item_data.phone_number,country_code:a.item_data.country_code||"US",number_type:a.item_data.number_type,status:"active",monthly_cost:a.item_data.monthly_cost,setup_cost:a.item_data.setup_cost,business_name:"",business_location:a.item_data.region,capabilities:a.item_data.capabilities||{voice:!0,sms:!0,mms:!1},usage_minutes:0,purchased_at:new Date().toISOString(),expires_at:new Date(Date.now()+31536e6).toISOString()});else if("sip_trunk"===a.item_type)await n.db.from("sip_trunks").insert({user_id:d.id,trunk_name:a.item_data.trunk_name,trunk_type:a.item_data.trunk_type,status:"active",concurrent_channels:a.item_data.concurrent_channels,monthly_cost:a.item_data.monthly_cost,per_minute_cost:a.item_data.per_minute_cost,inbound_enabled:!0,outbound_enabled:!0,sip_uri:`sip-${Math.random().toString(36).substring(7)}.example.com:5060`,auth_username:`user_${d.id.substring(0,8)}`,regions:a.item_data.regions||["US","CA"],purchased_at:new Date().toISOString()});else if("product_tier"===a.item_type){let b=a.item_data.billing_cycle||"monthly",e="monthly"===b?30:"quarterly"===b?90:365;await n.db.from("user_subscriptions").insert({user_id:d.id,product_id:a.item_data.product_id,product_name:a.item_data.product_name,status:"active",billing_cycle:b,amount:a.unit_price,currency:"MYR",started_at:new Date().toISOString(),expires_at:new Date(Date.now()+24*e*36e5).toISOString(),auto_renew:!0,usage_count:0,usage_limit:a.item_data.usage_limit||1e4,license_key:`${a.item_data.product_name.substring(0,3).toUpperCase()}-${Math.random().toString(36).substring(2,10).toUpperCase()}`,license_type:a.item_data.tier_name.toLowerCase(),max_users:a.item_data.max_users||5,features:a.item_data.features||{},metadata:{tier_name:a.item_data.tier_name,tier_id:a.item_data.tier_id,order_number:c,purchased_at:new Date().toISOString()}})}await s(),o({type:"success",message:`Order ${c} completed successfully!`}),j(!1);let p=e.some(a=>"product_tier"===a.item_type);setTimeout(()=>{p?a("subscriptions"):a("voice-bot")},2e3)},v=a=>"phone_number"===a.item_type?a.item_data.phone_number:"sip_trunk"===a.item_type?a.item_data.trunk_name:"product_tier"===a.item_type?`${a.item_data.product_name} - ${a.item_data.tier_name}`:"Unknown Item",w=e.reduce((a,b)=>a+Number(b.total_price),0),x=.1*w,y=w+x;return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,b.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-orange-500 to-red-600 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,b.jsx)("div",{className:"relative h-full flex items-center px-8",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:(0,b.jsx)(am.ShoppingCart,{className:"w-12 h-12 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Shopping Cart"}),(0,b.jsx)("p",{className:"text-white/90 text-lg",children:"Review your items and complete your purchase"})]})]})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("button",{onClick:()=>a("voice-bot"),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6 transition-colors",children:[(0,b.jsx)(cP.default,{className:"w-5 h-5"}),"Continue Shopping"]}),g?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin"})}):0===e.length?(0,b.jsx)("div",{className:"text-center py-16",children:(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-2xl p-12 max-w-md mx-auto",children:[(0,b.jsx)(am.ShoppingCart,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Your cart is empty"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add items from the marketplace to get started"}),(0,b.jsx)("button",{onClick:()=>a("voice-bot"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg",children:"Browse Marketplace"})]})}):(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-white",children:["Cart Items (",e.length,")"]}),(0,b.jsxs)("button",{onClick:s,className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(u.default,{className:"w-4 h-4"}),"Clear Cart"]})]}),e.map(a=>(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-orange-500/20 p-3 rounded-lg",children:(a=>{switch(a){case"phone_number":return(0,b.jsx)($.Phone,{className:"w-6 h-6 text-orange-400"});case"sip_trunk":return(0,b.jsx)(a2.default,{className:"w-6 h-6 text-orange-400"});case"product_tier":return(0,b.jsx)(am.ShoppingCart,{className:"w-6 h-6 text-orange-400"});default:return(0,b.jsx)(aw.CreditCard,{className:"w-6 h-6 text-orange-400"})}})(a.item_type)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:v(a)}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:(a=>{if("phone_number"===a.item_type)return`${a.item_data.region} â€¢ ${a.item_data.number_type}`;if("sip_trunk"===a.item_type)return`${a.item_data.concurrent_channels} channels â€¢ ${a.item_data.trunk_type}`;if("product_tier"===a.item_type){let b=a.item_data.setup_fee>0?` + RM ${Number(a.item_data.setup_fee).toFixed(2)} setup`:"";return`${a.item_data.description}${b}`}return""})(a)}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-slate-400 text-sm",children:["Quantity: ",a.quantity]}),(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:"â€¢"}),(0,b.jsxs)("span",{className:"text-white font-semibold",children:["RM ",Number(a.unit_price).toFixed(2)," each"]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-white mb-2",children:["RM ",Number(a.total_price).toFixed(2)]}),(0,b.jsxs)("button",{onClick:()=>r(a.id),className:"text-red-400 hover:text-red-300 text-sm flex items-center gap-2",children:[(0,b.jsx)(u.default,{className:"w-4 h-4"}),"Remove"]})]})]})},a.id))]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 sticky top-8",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Order Summary"}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Subtotal"}),(0,b.jsxs)("span",{className:"text-white font-semibold",children:["RM ",w.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Tax (10%)"}),(0,b.jsxs)("span",{className:"text-white font-semibold",children:["RM ",x.toFixed(2)]})]}),(0,b.jsx)("div",{className:"border-t border-slate-700 pt-4",children:(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-white font-bold text-lg",children:"Total"}),(0,b.jsxs)("span",{className:"text-white font-bold text-2xl",children:["RM ",y.toFixed(2)]})]})})]}),k?(0,b.jsxs)("div",{className:"mb-4 p-4 bg-slate-900/50 rounded-lg border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(aw.CreditCard,{className:"w-5 h-5 text-blue-400"}),(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:"Payment Method"})]}),(0,b.jsxs)("div",{className:"text-white font-medium",children:[k.card_type," ending in ",k.last_four]}),(0,b.jsx)("button",{onClick:()=>a("billing"),className:"text-blue-400 hover:text-blue-300 text-xs mt-2",children:"Change payment method"})]}):(0,b.jsxs)("div",{className:"mb-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[(0,b.jsx)("p",{className:"text-yellow-400 text-sm mb-2",children:"No payment method on file"}),(0,b.jsx)("button",{onClick:()=>a("billing"),className:"text-yellow-400 hover:text-yellow-300 text-xs underline",children:"Add payment method"})]}),(0,b.jsx)("button",{onClick:t,disabled:i||!k,className:"w-full bg-orange-600 hover:bg-orange-700 text-white px-6 py-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(an.default,{className:"w-5 h-5"}),"Complete Purchase"]})}),(0,b.jsx)("div",{className:"mt-4 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-blue-400 text-xs",children:"Secure checkout â€¢ 30-day money-back guarantee"})})]})})]})]}),m&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,b.jsx)("div",{className:`${"success"===m.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===m.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===m.type?(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M5 13l4 4L19 7"})}):(0,b.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===m.type?"text-green-400":"text-red-400"}`,children:"success"===m.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1",children:m.message})]}),(0,b.jsx)("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}var p=p,f=f,A=A,aR=aR,O=O,y=y;function cR(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)("marketplace"),[g,i]=(0,c.useState)("all"),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)([]),[o,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(!0),[x,z]=(0,c.useState)(null),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)("production"),[F,G]=(0,c.useState)(!1),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&M()},[a]),(0,c.useEffect)(()=>{if(I){let a=setTimeout(()=>J(null),5e3);return()=>clearTimeout(a)}},[I]);let M=async()=>{u(!0),await Promise.all([N(),P(),Q()]),u(!1)},N=async()=>{let{data:a,error:b}=await n.db.from("api_marketplace_industries").select("*").eq("is_active",!0).order("display_order");!b&&a&&m(a)},P=async()=>{let{data:a,error:b}=await n.db.from("api_marketplace_products").select("*").eq("is_active",!0).order("product_name");!b&&a&&q(a)},Q=async()=>{if(!a)return;let{data:b,error:c}=await n.db.from("api_marketplace_keys").select("*").eq("user_id",a.id).order("created_at",{ascending:!1});!c&&b&&s(b)},R=async()=>{if(!x||!a||!B.trim())return void J({type:"error",message:"Please enter a key name"});G(!0);try{let b=`${x.product_code.toLowerCase()}_${D}_${Math.random().toString(36).substr(2,16)}`,c=`sec_${Math.random().toString(36).substr(2,24)}`,{data:d}=await n.db.from("tenant_users").select("tenant_id").eq("user_id",a.id).single();if(!d)throw Error("Tenant not found");let{error:f}=await n.db.from("api_marketplace_keys").insert({tenant_id:d.tenant_id,user_id:a.id,product_id:x.id,key_name:B.trim(),api_key:b,api_secret:c,environment:D,is_active:!0});if(f)throw f;J({type:"success",message:"API key generated successfully!"}),z(null),C(""),E("production"),Q(),e("my-keys")}catch(a){J({type:"error",message:a.message||"Failed to generate API key"})}finally{G(!1)}},S=(a,b)=>{navigator.clipboard.writeText(a),L(b),setTimeout(()=>L(null),2e3)},T=o.filter(a=>{let b="all"===g||a.industry_id===g,c=a.product_name.toLowerCase().includes(j.toLowerCase())||a.description?.toLowerCase().includes(j.toLowerCase());return b&&c}),U=a=>l.find(b=>b.id===a);return(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-slate-950",children:[(0,b.jsxs)("div",{className:"relative h-48 bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/20"}),(0,b.jsx)("div",{className:"relative h-full flex items-center px-8",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:(0,b.jsx)(ak.Package,{className:"w-12 h-12 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"API Marketplace"}),(0,b.jsx)("p",{className:"text-white/90 text-lg",children:"Industry-Specific APIs for Every Business Need"})]})]})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 mb-8 inline-flex",children:[(0,b.jsx)("button",{onClick:()=>e("marketplace"),className:`px-6 py-2 rounded-lg transition-colors ${"marketplace"===d?"bg-emerald-600 text-white":"text-slate-400 hover:text-white"}`,children:"Browse APIs"}),(0,b.jsxs)("button",{onClick:()=>e("my-keys"),className:`px-6 py-2 rounded-lg transition-colors ${"my-keys"===d?"bg-emerald-600 text-white":"text-slate-400 hover:text-white"}`,children:["My API Keys (",r.length,")"]})]}),"marketplace"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[300px]",children:[(0,b.jsx)(p.default,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2"}),(0,b.jsx)("input",{type:"text",placeholder:"Search APIs...",value:j,onChange:a=>k(a.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,b.jsxs)("select",{value:g,onChange:a=>i(a.target.value),className:"bg-slate-900 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[(0,b.jsx)("option",{value:"all",children:"All Industries"}),l.map(a=>(0,b.jsx)("option",{value:a.id,children:a.industry_name},a.id))]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(a=>{let c=U(a.industry_id);return(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-all hover:shadow-lg hover:shadow-emerald-500/10",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:a.product_name}),c&&(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:c.industry_name})]}),(0,b.jsx)("div",{className:"bg-emerald-500/20 p-2 rounded-lg",children:(0,b.jsx)(aF.Code,{className:"w-5 h-5 text-emerald-400"})})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-400 flex items-center gap-1",children:[(0,b.jsx)(aR.default,{className:"w-3 h-3"}),"Rate Limit:"]}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[a.rate_limit_per_minute,"/min"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-400 flex items-center gap-1",children:[(0,b.jsx)(O.default,{className:"w-3 h-3"}),"Pricing:"]}),(0,b.jsx)("span",{className:"text-white font-medium",children:"subscription"===a.pricing_model?`RM ${a.base_price}/mo`:`RM ${a.price_per_request}/req`})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-400 flex items-center gap-1",children:[(0,b.jsx)(h.Shield,{className:"w-3 h-3"}),"Endpoint:"]}),(0,b.jsx)("span",{className:"text-cyan-400 font-mono text-xs",children:a.api_endpoint.split("/").pop()})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-slate-300 text-xs font-medium mb-2",children:"Features:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(a.features||[]).slice(0,3).map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-300 rounded text-xs",children:a},c)),(a.features||[]).length>3&&(0,b.jsxs)("span",{className:"px-2 py-0.5 bg-slate-900/50 text-slate-400 rounded text-xs",children:["+",(a.features||[]).length-3]})]})]}),(0,b.jsxs)("button",{onClick:()=>z(a),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,b.jsx)(f.default,{className:"w-4 h-4"}),"Generate API Key"]})]},a.id)})}),0===T.length&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(ak.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No APIs Found"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Try adjusting your search or filters"})]})]}),"my-keys"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"My API Keys"}),(0,b.jsxs)("button",{onClick:()=>e("marketplace"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Generate New Key"]})]}),0===r.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(f.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No API Keys Yet"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Generate your first API key to get started"}),(0,b.jsxs)("button",{onClick:()=>e("marketplace"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Browse APIs"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:r.map(a=>{let c=o.find(b=>b.id===a.product_id),d=c?U(c.industry_id):null;return(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:a.key_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${a.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:a.is_active?"ACTIVE":"INACTIVE"}),(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-500/20 text-blue-400 border border-blue-500/30",children:a.environment.toUpperCase()}),d&&(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:d.industry_name})]}),c&&(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:c.product_name})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Total Requests"}),(0,b.jsx)("p",{className:"text-white text-lg font-semibold",children:a.total_requests.toLocaleString()})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Created"}),(0,b.jsx)("p",{className:"text-white text-sm font-semibold",children:new Date(a.created_at).toLocaleDateString()})]}),c&&(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Rate Limit"}),(0,b.jsxs)("p",{className:"text-white text-sm font-semibold",children:[c.rate_limit_per_minute,"/min"]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,b.jsx)(f.default,{className:"w-4 h-4"}),"API Key"]}),(0,b.jsx)("button",{onClick:()=>S(a.api_key,`api_${a.id}`),className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center gap-1",children:K===`api_${a.id}`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:a.api_key})]}),a.api_secret&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[(0,b.jsx)(h.Shield,{className:"w-4 h-4"}),"API Secret"]}),(0,b.jsx)("button",{onClick:()=>S(a.api_secret,`secret_${a.id}`),className:"text-emerald-400 hover:text-emerald-300 text-sm flex items-center gap-1",children:K===`secret_${a.id}`?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.CheckCircle,{className:"w-4 h-4"})," Copied!"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(A.default,{className:"w-4 h-4"})," Copy"]})})]}),(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 font-mono text-sm text-white break-all",children:a.api_secret})]}),c&&(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-300 text-sm font-medium mb-2",children:"API Endpoint:"}),(0,b.jsx)("code",{className:"text-cyan-400 text-sm",children:c.api_endpoint})]})]})]},a.id)})})]})]}),x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white mb-2",children:"Generate API Key"}),(0,b.jsx)("p",{className:"text-slate-400",children:x.product_name})]}),(0,b.jsx)("button",{onClick:()=>z(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Key Name *"}),(0,b.jsx)("input",{type:"text",value:B,onChange:a=>C(a.target.value),placeholder:"e.g., Production API Key",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Environment"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{onClick:()=>E("production"),className:`p-4 rounded-lg border-2 transition-all ${"production"===D?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,b.jsx)("p",{className:"text-white font-semibold mb-1",children:"Production"}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Live environment"})]}),(0,b.jsxs)("button",{onClick:()=>E("sandbox"),className:`p-4 rounded-lg border-2 transition-all ${"sandbox"===D?"border-emerald-500 bg-emerald-500/10":"border-slate-700 bg-slate-900/50 hover:border-slate-600"}`,children:[(0,b.jsx)("p",{className:"text-white font-semibold mb-1",children:"Sandbox"}),(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Testing environment"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"API Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Pricing Model:"}),(0,b.jsx)("span",{className:"text-white capitalize",children:x.pricing_model.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Rate Limit:"}),(0,b.jsxs)("span",{className:"text-white",children:[x.rate_limit_per_minute,"/min"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Daily Limit:"}),(0,b.jsxs)("span",{className:"text-white",children:[x.rate_limit_per_day.toLocaleString(),"/day"]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>z(null),disabled:F,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:R,disabled:F||!B.trim(),className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.default,{className:"w-5 h-5"}),"Generate Key"]})})]})]})}),I&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 animate-slide-in",children:(0,b.jsx)("div",{className:`${"success"===I.type?"bg-green-500/20 border-green-500/50":"bg-red-500/20 border-red-500/50"} border backdrop-blur-sm rounded-lg p-4 max-w-md`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:`${"success"===I.type?"bg-green-500":"bg-red-500"} rounded-full p-1`,children:"success"===I.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-white"}):(0,b.jsx)(w.X,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:`font-semibold ${"success"===I.type?"text-green-400":"text-red-400"}`,children:"success"===I.type?"Success!":"Error"}),(0,b.jsx)("p",{className:"text-white text-sm mt-1",children:I.message})]}),(0,b.jsx)("button",{onClick:()=>J(null),className:"text-slate-400 hover:text-white",children:(0,b.jsx)(w.X,{className:"w-5 h-5"})})]})})})]})}var aM=aM,e=e,s=s,y=y,p=p,B=B,cS=a.i(23086),cS=cS,cj=cj,A=A,aP=aP,aV=aV,aR=aR,a5=a5,E=E,bA=bA,a7=a7,cT=a.i(38482),cT=cT;function cU(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)("campaigns"),[g,h]=(0,c.useState)([]),[k,l]=(0,c.useState)([]),[m,o]=(0,c.useState)([]),[q,t]=(0,c.useState)([]),[u,x]=(0,c.useState)([]),[z,C]=(0,c.useState)([]),[D,F]=(0,c.useState)([]),[G,I]=(0,c.useState)([]),[J,K]=(0,c.useState)(!0),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)("all"),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(1),[an,ao]=(0,c.useState)(null),[ap,aq]=(0,c.useState)(null),[as,at]=(0,c.useState)(null),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)(null),[ay,az]=(0,c.useState)({campaign_name:"",campaign_type:"regular",template_id:"",subject_line:"",preview_text:"",from_email:"",from_name:"",reply_to_email:"",selected_lists:[],schedule_type:"send_now",scheduled_at:"",ab_test_enabled:!1,ab_subject_variants:["",""],tags:""}),[aA,aB]=(0,c.useState)({template_name:"",template_category:"general",subject_line:"",preview_text:"",html_content:"",plain_text_content:"",template_variables:"",thumbnail_url:"",is_responsive:!0}),[aC,aD]=(0,c.useState)({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]}),[aE,aF]=(0,c.useState)({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]}),[aG,aI]=(0,c.useState)({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1});(0,c.useEffect)(()=>{a&&Promise.all([aK(),aN(),aO(),aQ(),aS(),aT(),aU(),aW()]).finally(()=>K(!1))},[a]),(0,c.useEffect)(()=>{if(P){let a=setTimeout(()=>Q(null),5e3);return()=>clearTimeout(a)}},[P]);let aK=async()=>{let{data:a,error:b}=await n.db.from("email_campaigns").select("*").order("created_at",{ascending:!1});!b&&a&&h(a.map(a=>({...a,tags:"string"==typeof a.tags?JSON.parse(a.tags):a.tags||[],ab_test_config:"string"==typeof a.ab_test_config?JSON.parse(a.ab_test_config):a.ab_test_config||{}})))},aN=async()=>{let{data:a,error:b}=await n.db.from("email_templates").select("*").order("created_at",{ascending:!1});!b&&a&&l(a.map(a=>({...a,template_variables:"string"==typeof a.template_variables?JSON.parse(a.template_variables):a.template_variables||[]})))},aO=async()=>{let{data:a,error:b}=await n.db.from("email_contact_lists").select("*").order("created_at",{ascending:!1});!b&&a&&o(a.map(a=>({...a,tags:"string"==typeof a.tags?JSON.parse(a.tags):a.tags||[]})))},aQ=async()=>{let{data:a,error:b}=await n.db.from("email_contacts").select("*").order("created_at",{ascending:!1}).limit(100);!b&&a&&t(a.map(a=>({...a,tags:"string"==typeof a.tags?JSON.parse(a.tags):a.tags||[],custom_fields:"string"==typeof a.custom_fields?JSON.parse(a.custom_fields):a.custom_fields||{}})))},aS=async()=>{let{data:a,error:b}=await n.db.from("email_automation_sequences").select("*").order("created_at",{ascending:!1});!b&&a&&x(a.map(a=>({...a,entry_conditions:"string"==typeof a.entry_conditions?JSON.parse(a.entry_conditions):a.entry_conditions||{}})))},aT=async()=>{let{data:a,error:b}=await n.db.from("email_provider_configs").select("*").order("is_default",{ascending:!1});!b&&a&&C(a)},aU=async()=>{let{data:a,error:b}=await n.db.from("email_campaign_analytics").select("*").order("date",{ascending:!1}).limit(50);!b&&a&&F(a)},aW=async()=>{let{data:a,error:b}=await n.db.from("email_sending_quotas").select("*").order("created_at",{ascending:!1});!b&&a&&I(a)},aX=async()=>{if(!ay.campaign_name||!ay.subject_line||!ay.from_email)return void Q({type:"error",message:"Please fill in required fields"});if(0===ay.selected_lists.length&&2===al)return void Q({type:"error",message:"Please select at least one contact list"});ak(!0);try{let b=ay.tags?ay.tags.split(",").map(a=>a.trim()).filter(a=>a):[],{data:c,error:d}=await n.db.from("email_campaigns").insert([{campaign_name:ay.campaign_name,campaign_type:ay.campaign_type,template_id:ay.template_id||null,subject_line:ay.subject_line,preview_text:ay.preview_text||null,from_email:ay.from_email,from_name:ay.from_name||null,reply_to_email:ay.reply_to_email||null,status:"send_now"===ay.schedule_type?"sending":"scheduled",scheduled_at:"schedule"===ay.schedule_type?ay.scheduled_at:null,ab_test_enabled:ay.ab_test_enabled,ab_test_config:ay.ab_test_enabled?{subject_variants:ay.ab_subject_variants.filter(a=>a)}:null,tags:b,created_by:a?.id}]).select().single();if(d)throw d;if(c&&ay.selected_lists.length>0){let a=(await Promise.all(ay.selected_lists.map(async a=>{let{data:b}=await n.db.from("email_contact_list_members").select("contact_id, email_contacts(email)").eq("list_id",a);return b||[]}))).flat(),b=Array.from(new Map(a.map(a=>[a.contact_id,a])).values());b.length>0&&(await n.db.from("email_campaign_recipients").insert(b.map(a=>({campaign_id:c.id,contact_id:a.contact_id,email:a.email_contacts[0]?.email}))),await n.db.from("email_campaigns").update({total_recipients:b.length}).eq("id",c.id))}Q({type:"success",message:"Campaign created successfully"}),S(!1),am(1),az({campaign_name:"",campaign_type:"regular",template_id:"",subject_line:"",preview_text:"",from_email:"",from_name:"",reply_to_email:"",selected_lists:[],schedule_type:"send_now",scheduled_at:"",ab_test_enabled:!1,ab_subject_variants:["",""],tags:""}),aK()}catch(a){console.error("Error creating campaign:",a),Q({type:"error",message:"Failed to create campaign"})}finally{ak(!1)}},aY=async()=>{if(!aA.template_name||!aA.subject_line||!aA.html_content)return void Q({type:"error",message:"Please fill in required fields"});ak(!0);try{let b=aA.template_variables?aA.template_variables.split(",").map(a=>a.trim()).filter(a=>a):[],{error:c}=await n.db.from("email_templates").insert([{template_name:aA.template_name,template_category:aA.template_category,subject_line:aA.subject_line,preview_text:aA.preview_text||null,html_content:aA.html_content,plain_text_content:aA.plain_text_content||null,template_variables:b,thumbnail_url:aA.thumbnail_url||null,is_responsive:aA.is_responsive,created_by:a?.id}]);if(c)throw c;Q({type:"success",message:"Template created successfully"}),U(!1),aB({template_name:"",template_category:"general",subject_line:"",preview_text:"",html_content:"",plain_text_content:"",template_variables:"",thumbnail_url:"",is_responsive:!0}),aN()}catch(a){console.error("Error creating template:",a),Q({type:"error",message:"Failed to create template"})}finally{ak(!1)}},aZ=async()=>{if(!aC.email)return void Q({type:"error",message:"Please enter an email address"});ak(!0);try{let a=aC.tags?aC.tags.split(",").map(a=>a.trim()).filter(a=>a):[],{data:b,error:c}=await n.db.from("email_contacts").insert([{email:aC.email,first_name:aC.first_name||null,last_name:aC.last_name||null,phone_number:aC.phone_number||null,company:aC.company||null,job_title:aC.job_title||null,country:aC.country||null,custom_fields:aC.custom_fields,tags:a,subscription_status:aC.subscription_status,source:"manual"}]).select().single();!c&&b?(aC.selected_lists.length>0&&await n.db.from("email_contact_list_members").insert(aC.selected_lists.map(a=>({list_id:a,contact_id:b.id}))),Q({type:"success",message:"Contact added successfully"}),W(!1),aD({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]}),aQ()):Q({type:"error",message:c?.message||"Failed to add contact"})}catch(a){console.error("Error adding contact:",a),Q({type:"error",message:"Failed to add contact"})}finally{ak(!1)}},a$=async()=>{if(!aw)return void Q({type:"error",message:"Please select a file to import"});ak(!0);try{let a=(await aw.text()).split("\n").filter(a=>a.trim());if(a.length<2){Q({type:"error",message:"CSV file must contain headers and at least one contact"}),ak(!1);return}let b=a[0].split(",").map(a=>a.trim()),c=b.findIndex(a=>"email"===a.toLowerCase());if(-1===c){Q({type:"error",message:'CSV must contain an "email" column'}),ak(!1);return}let d=[];for(let e=1;e<a.length;e++){let f=a[e].split(",").map(a=>a.trim()),g=f[c];if(g&&g.includes("@")){let a={email:g,source:"import"},c=b.findIndex(a=>"first_name"===a.toLowerCase()||"firstname"===a.toLowerCase()),e=b.findIndex(a=>"last_name"===a.toLowerCase()||"lastname"===a.toLowerCase()),h=b.findIndex(a=>"company"===a.toLowerCase()),i=b.findIndex(a=>"phone"===a.toLowerCase()||"phone_number"===a.toLowerCase());-1!==c&&(a.first_name=f[c]||null),-1!==e&&(a.last_name=f[e]||null),-1!==h&&(a.company=f[h]||null),-1!==i&&(a.phone_number=f[i]||null),d.push(a)}}if(0===d.length){Q({type:"error",message:"No valid contacts found in CSV"}),ak(!1);return}let{error:e}=await n.db.from("email_contacts").insert(d);e?Q({type:"error",message:"Failed to import contacts"}):(Q({type:"success",message:`Successfully imported ${d.length} contacts`}),Y(!1),ax(null),aQ())}catch(a){console.error("Error importing contacts:",a),Q({type:"error",message:"Failed to import contacts"})}finally{ak(!1)}},a_=async()=>{if(an){ak(!0);try{let{error:a}=await n.db.from("email_contacts").update({subscription_status:an.subscription_status,tags:an.tags}).eq("id",an.id);a?Q({type:"error",message:"Failed to update contact settings"}):(Q({type:"success",message:"Contact settings updated successfully"}),$(!1),ao(null),aQ())}catch(a){console.error("Error updating contact:",a),Q({type:"error",message:"Failed to update contact settings"})}finally{ak(!1)}}},a0=async()=>{if(!aE.sequence_name)return void Q({type:"error",message:"Please enter a sequence name"});ak(!0);try{let{error:a}=await n.db.from("email_automation_sequences").insert([{sequence_name:aE.sequence_name,sequence_description:aE.sequence_description||null,trigger_type:aE.trigger_type,trigger_event:aE.trigger_event||null,entry_conditions:aE.entry_conditions?JSON.parse(aE.entry_conditions):null,is_active:aE.is_active}]);a?Q({type:"error",message:"Failed to create sequence"}):(Q({type:"success",message:"Automation sequence created successfully"}),aa(!1),aF({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]}),aS())}catch(a){console.error("Error creating sequence:",a),Q({type:"error",message:"Failed to create sequence"})}finally{ak(!1)}},a1=async(a,b)=>{try{let{error:c}=await n.db.from("email_automation_sequences").update({is_active:!b}).eq("id",a);c?Q({type:"error",message:"Failed to update sequence"}):(Q({type:"success",message:`Sequence ${!b?"activated":"paused"} successfully`}),aS())}catch(a){console.error("Error updating sequence:",a),Q({type:"error",message:"Failed to update sequence"})}},a2=async()=>{if(!aG.provider_name||!aG.from_email)return void Q({type:"error",message:"Please fill in required fields"});if("smtp"===aG.provider_type&&(!aG.smtp_host||!aG.smtp_username))return void Q({type:"error",message:"Please fill in SMTP configuration"});if("api"===aG.provider_type&&!aG.api_key)return void Q({type:"error",message:"Please provide API key"});ak(!0);try{let{error:a}=await n.db.from("email_provider_configs").insert([{provider_name:aG.provider_name,provider_type:aG.provider_type,smtp_host:"smtp"===aG.provider_type?aG.smtp_host:null,smtp_port:"smtp"===aG.provider_type?parseInt(aG.smtp_port):null,smtp_username:"smtp"===aG.provider_type?aG.smtp_username:null,smtp_password:"smtp"===aG.provider_type?aG.smtp_password:null,smtp_encryption:"smtp"===aG.provider_type?aG.smtp_encryption:null,api_key:"api"===aG.provider_type?aG.api_key:null,api_secret:"api"===aG.provider_type?aG.api_secret:null,sending_domain:aG.sending_domain||null,from_email:aG.from_email,from_name:aG.from_name||null,is_default:aG.is_default,is_verified:!1}]);a?Q({type:"error",message:"Failed to add provider"}):(Q({type:"success",message:"Email provider added successfully"}),ag(!1),aI({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1}),aT())}catch(a){console.error("Error adding provider:",a),Q({type:"error",message:"Failed to add provider"})}finally{ak(!1)}},a3=async()=>{if(as){ak(!0);try{let{error:a}=await n.db.from("email_provider_configs").update({is_active:as.is_active,is_default:as.is_default,daily_sending_limit:as.daily_sending_limit}).eq("id",as.id);a?Q({type:"error",message:"Failed to configure provider"}):(Q({type:"success",message:"Provider configured successfully"}),ai(!1),at(null),aT())}catch(a){console.error("Error configuring provider:",a),Q({type:"error",message:"Failed to configure provider"})}finally{ak(!1)}}},a4=async a=>{av(!0);try{await new Promise(a=>setTimeout(a,2e3));let b=Math.random()>.3;await n.db.from("email_provider_configs").update({is_verified:b,last_verified_at:b?new Date().toISOString():null}).eq("id",a),b?Q({type:"success",message:"Connection test successful"}):Q({type:"error",message:"Connection test failed"}),aT()}catch(a){console.error("Error testing connection:",a),Q({type:"error",message:"Connection test failed"})}finally{av(!1)}},a6=g.filter(a=>{let b=a.campaign_name.toLowerCase().includes(L.toLowerCase())||a.subject_line.toLowerCase().includes(L.toLowerCase()),c="all"===N||a.status===N;return b&&c}),a8=g.reduce((a,b)=>a+(b.emails_sent||0),0),a9=g.reduce((a,b)=>a+(b.emails_delivered||0),0),ba=g.reduce((a,b)=>a+(b.emails_opened||0),0),bb=g.reduce((a,b)=>a+(b.emails_clicked||0),0),bc=a9>0?(ba/a9*100).toFixed(2):0,bd=a9>0?(bb/a9*100).toFixed(2):0;return J?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[P&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===P.type?"bg-green-500":"bg-red-500"} text-white`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["success"===P.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:P.message})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Email Campaigns"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"Create, manage, and analyze email marketing campaigns"})]}),(0,b.jsxs)("button",{onClick:()=>S(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Campaign"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Total Sent"}),(0,b.jsx)(aM.default,{className:"w-5 h-5 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:a8.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"All campaigns"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Delivered"}),(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:a9.toLocaleString()}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[a8>0?(a9/a8*100).toFixed(1):0,"% delivery rate"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Avg Open Rate"}),(0,b.jsx)(B.default,{className:"w-5 h-5 text-purple-400"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-white",children:[bc,"%"]}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[ba.toLocaleString()," opens"]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/10 to-amber-500/10 border border-orange-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Avg Click Rate"}),(0,b.jsx)(cS.default,{className:"w-5 h-5 text-orange-400"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-white",children:[bd,"%"]}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:[bb.toLocaleString()," clicks"]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 inline-flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>f("campaigns"),className:`px-6 py-2 rounded-lg transition-colors ${"campaigns"===d?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Campaigns"}),(0,b.jsx)("button",{onClick:()=>f("templates"),className:`px-6 py-2 rounded-lg transition-colors ${"templates"===d?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Templates"}),(0,b.jsx)("button",{onClick:()=>f("contacts"),className:`px-6 py-2 rounded-lg transition-colors ${"contacts"===d?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Contacts"}),(0,b.jsx)("button",{onClick:()=>f("automation"),className:`px-6 py-2 rounded-lg transition-colors ${"automation"===d?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Automation"}),(0,b.jsx)("button",{onClick:()=>f("analytics"),className:`px-6 py-2 rounded-lg transition-colors ${"analytics"===d?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Analytics"}),(0,b.jsx)("button",{onClick:()=>f("providers"),className:`px-6 py-2 rounded-lg transition-colors ${"providers"===d?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Providers"})]}),"campaigns"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:L,onChange:a=>M(a.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),(0,b.jsxs)("select",{value:N,onChange:a=>O(a.target.value),className:"bg-slate-800/50 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"sending",children:"Sending"}),(0,b.jsx)("option",{value:"sent",children:"Sent"}),(0,b.jsx)("option",{value:"paused",children:"Paused"})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:a6.map(a=>(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.campaign_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"sent"===a.status?"bg-green-500/20 text-green-400":"sending"===a.status?"bg-blue-500/20 text-blue-400 animate-pulse":"scheduled"===a.status?"bg-purple-500/20 text-purple-400":"draft"===a.status?"bg-slate-500/20 text-slate-400":"paused"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status.toUpperCase()}),"ab_test"===a.campaign_type&&(0,b.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold",children:"A/B TEST"})]}),(0,b.jsxs)("p",{className:"text-slate-400 mb-1",children:[(0,b.jsx)(r.Mail,{className:"w-4 h-4 inline mr-2"}),a.subject_line]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500 mb-4",children:[(0,b.jsxs)("span",{children:["From: ",a.from_email]}),a.scheduled_at&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:["Scheduled: ",new Date(a.scheduled_at).toLocaleString()]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Recipients"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.total_recipients?.toLocaleString()||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Sent"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.emails_sent?.toLocaleString()||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Delivered"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.emails_delivered?.toLocaleString()||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Opened"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.emails_opened?.toLocaleString()||0,a.emails_delivered>0&&(0,b.jsxs)("span",{className:"text-green-400 text-xs ml-1",children:["(",(a.emails_opened/a.emails_delivered*100).toFixed(1),"%)"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Clicked"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.emails_clicked?.toLocaleString()||0,a.emails_delivered>0&&(0,b.jsxs)("span",{className:"text-cyan-400 text-xs ml-1",children:["(",(a.emails_clicked/a.emails_delivered*100).toFixed(1),"%)"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Bounced"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.emails_bounced?.toLocaleString()||0})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"View Details",children:(0,b.jsx)(aJ.BarChart3,{className:"w-5 h-5 text-slate-400"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-5 h-5 text-slate-400"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Duplicate",children:(0,b.jsx)(A.default,{className:"w-5 h-5 text-slate-400"})}),"draft"===a.status&&(0,b.jsx)("button",{className:"p-2 hover:bg-green-600 rounded-lg transition-colors",title:"Send",children:(0,b.jsx)(aM.default,{className:"w-5 h-5 text-green-400"})})]})]})},a.id))})]}),"templates"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Templates"}),(0,b.jsxs)("button",{onClick:()=>U(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Template"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:k.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-4 hover:border-cyan-500/50 transition-all",children:[(0,b.jsx)("div",{className:"aspect-video bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg mb-3 flex items-center justify-center",children:(0,b.jsx)(i.FileText,{className:"w-12 h-12 text-slate-600"})}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:a.template_name}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${"promotional"===a.template_category?"bg-orange-500/20 text-orange-400":"transactional"===a.template_category?"bg-blue-500/20 text-blue-400":"newsletter"===a.template_category?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:a.template_category})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3 line-clamp-2",children:a.subject_line}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,b.jsxs)("span",{children:["Used ",a.usage_count||0," times"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"hover:text-cyan-400 transition-colors",children:(0,b.jsx)(B.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"hover:text-cyan-400 transition-colors",children:(0,b.jsx)(cj.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{className:"hover:text-cyan-400 transition-colors",children:(0,b.jsx)(A.default,{className:"w-4 h-4"})})]})]})]},a.id))})]}),"contacts"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Contact Management"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>Y(!0),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(bA.default,{className:"w-5 h-5"}),"Import"]}),(0,b.jsxs)("button",{onClick:()=>W(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Contact"]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:m.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.list_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:a.list_description})]}),(0,b.jsx)(aV.default,{className:"w-6 h-6 text-cyan-400"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Total"}),(0,b.jsx)("p",{className:"text-white font-semibold text-lg",children:a.total_contacts?.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Active"}),(0,b.jsx)("p",{className:"text-green-400 font-semibold text-lg",children:a.active_contacts?.toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Unsubscribed"}),(0,b.jsx)("p",{className:"text-red-400 font-semibold text-lg",children:a.unsubscribed_contacts?.toLocaleString()})]})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:a.tags.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:a},c))}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-3 py-2 rounded-lg text-sm transition-colors",children:"View Contacts"}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(j.Settings,{className:"w-5 h-5 text-slate-400"})})]})]},a.id))}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Contacts"}),(0,b.jsx)("div",{className:"space-y-2",children:q.slice(0,10).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/50 rounded-lg transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-full flex items-center justify-center text-white font-semibold",children:a.first_name?.[0]||a.email[0].toUpperCase()}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.first_name," ",a.last_name]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.company&&(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:a.company}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"subscribed"===a.subscription_status?"bg-green-500/20 text-green-400":"unsubscribed"===a.subscription_status?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:a.subscription_status}),(0,b.jsx)("button",{onClick:()=>{ao(a),$(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",title:"Manage contact",children:(0,b.jsx)(j.Settings,{className:"w-4 h-4 text-slate-400"})})]})]},a.id))})]})]}),"automation"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Automation"}),(0,b.jsxs)("button",{onClick:()=>aa(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Sequence"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:u.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${a.is_active?"bg-green-500/20":"bg-slate-700"}`,children:(0,b.jsx)(aR.default,{className:`w-6 h-6 ${a.is_active?"text-green-400":"text-slate-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.sequence_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.sequence_description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold uppercase",children:a.trigger_type.replace("_"," ")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Subscribers"}),(0,b.jsx)("p",{className:"text-white text-2xl font-bold",children:a.total_subscribers?.toLocaleString()})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Active"}),(0,b.jsx)("p",{className:"text-blue-400 text-2xl font-bold",children:a.active_subscribers?.toLocaleString()})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Completed"}),(0,b.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:a.completed_subscribers?.toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{aq(a),ae(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,b.jsx)(B.default,{className:"w-4 h-4"}),"View Sequence"]}),(0,b.jsxs)("button",{onClick:()=>{aq(a),ac(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,b.jsx)(cj.default,{className:"w-4 h-4"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>a1(a.id,a.is_active),className:`px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2 ${a.is_active?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400":"bg-green-500/20 hover:bg-green-500/30 text-green-400"}`,children:[a.is_active?(0,b.jsx)(aP.default,{className:"w-4 h-4"}):(0,b.jsx)(aH.Play,{className:"w-4 h-4"}),a.is_active?"Pause":"Activate"]})]})]},a.id))})]}),"analytics"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaign Analytics"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Performance Metrics"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,b.jsx)(B.default,{className:"w-5 h-5 text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Average Open Rate"}),(0,b.jsxs)("p",{className:"text-white text-2xl font-bold",children:[bc,"%"]})]})]}),(0,b.jsx)(ar.TrendingUp,{className:"w-8 h-8 text-green-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(cS.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Average Click Rate"}),(0,b.jsxs)("p",{className:"text-white text-2xl font-bold",children:[bd,"%"]})]})]}),(0,b.jsx)(ar.TrendingUp,{className:"w-8 h-8 text-cyan-400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,b.jsxs)("p",{className:"text-white text-2xl font-bold",children:[a8>0?(a9/a8*100).toFixed(1):0,"%"]})]})]}),(0,b.jsx)(ar.TrendingUp,{className:"w-8 h-8 text-blue-400"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Device Breakdown"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(cT.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white",children:"Desktop"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:"58%"}})}),(0,b.jsx)("span",{className:"text-white font-semibold w-12 text-right",children:"58%"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white",children:"Mobile"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:"42%"}})}),(0,b.jsx)("span",{className:"text-white font-semibold w-12 text-right",children:"42%"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Top Performing Campaigns"}),(0,b.jsx)("div",{className:"space-y-3",children:g.filter(a=>"sent"===a.status&&a.emails_delivered>0).sort((a,b)=>b.emails_opened/b.emails_delivered-a.emails_opened/a.emails_delivered).slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.campaign_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.subject_line})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Open Rate"}),(0,b.jsxs)("p",{className:"text-green-400 font-bold text-lg",children:[(a.emails_opened/a.emails_delivered*100).toFixed(1),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Click Rate"}),(0,b.jsxs)("p",{className:"text-cyan-400 font-bold text-lg",children:[(a.emails_clicked/a.emails_delivered*100).toFixed(1),"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Delivered"}),(0,b.jsx)("p",{className:"text-white font-bold text-lg",children:a.emails_delivered.toLocaleString()})]})]})]},a.id))})]})]}),"providers"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Email Providers"}),(0,b.jsxs)("button",{onClick:()=>ag(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Provider"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:z.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-3 rounded-lg ${a.is_active?"bg-green-500/20":"bg-slate-700"}`,children:(0,b.jsx)(r.Mail,{className:`w-6 h-6 ${a.is_active?"text-green-400":"text-slate-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.provider_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.from_email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.is_default&&(0,b.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold",children:"DEFAULT"}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"}),(0,b.jsx)("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded-full text-xs font-semibold uppercase",children:a.provider_type.replace("_"," ")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[a.smtp_host&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"SMTP Host"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.smtp_host})]}),a.smtp_port&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Port"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.smtp_port})]}),a.daily_sending_limit&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Daily Limit"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.daily_sending_limit.toLocaleString()})]}),a.monthly_sending_limit&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs",children:"Monthly Limit"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.monthly_sending_limit.toLocaleString()})]})]}),G.filter(b=>b.provider_config_id===a.id).map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("p",{className:"text-slate-400 text-sm capitalize",children:[a.quota_period," Usage"]}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.emails_sent.toLocaleString()," / ",a.quota_limit.toLocaleString()]})]}),(0,b.jsx)("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`h-full rounded-full ${a.emails_sent/a.quota_limit>.9?"bg-red-500":a.emails_sent/a.quota_limit>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(a.emails_sent/a.quota_limit*100,100)}%`}})})]},a.id)),(0,b.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,b.jsxs)("button",{onClick:()=>{at(a),ai(!0)},className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,b.jsx)(j.Settings,{className:"w-4 h-4"}),"Configure"]}),(0,b.jsxs)("button",{onClick:()=>a4(a.id),disabled:au,className:"bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center gap-2",children:[(0,b.jsx)(E.default,{className:`w-4 h-4 ${au?"animate-spin":""}`}),au?"Testing...":"Test Connection"]})]})]},a.id))})]}),R&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Email Campaign"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Design and schedule your email marketing campaign"})]}),(0,b.jsx)("button",{onClick:()=>{S(!1),am(1)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"flex items-center flex-1",children:[(0,b.jsx)("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${al>=a?"bg-cyan-600 text-white":"bg-slate-700 text-slate-400"}`,children:a}),(0,b.jsx)("div",{className:`flex-1 h-1 mx-2 ${al>a?"bg-cyan-600":"bg-slate-700"}`})]},a))}),(0,b.jsxs)("div",{className:"flex justify-between mt-2 text-xs",children:[(0,b.jsx)("span",{className:al>=1?"text-cyan-400":"text-slate-500",children:"Campaign Details"}),(0,b.jsx)("span",{className:al>=2?"text-cyan-400":"text-slate-500",children:"Select Audience"}),(0,b.jsx)("span",{className:al>=3?"text-cyan-400":"text-slate-500",children:"Schedule & Review"})]})]}),(0,b.jsxs)("div",{className:"p-6",children:[1===al&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:ay.campaign_name,onChange:a=>az({...ay,campaign_name:a.target.value}),placeholder:"Summer Sale 2024",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Campaign Type"}),(0,b.jsxs)("select",{value:ay.campaign_type,onChange:a=>az({...ay,campaign_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"regular",children:"Regular Campaign"}),(0,b.jsx)("option",{value:"ab_test",children:"A/B Test Campaign"}),(0,b.jsx)("option",{value:"automated",children:"Automated"}),(0,b.jsx)("option",{value:"drip",children:"Drip Campaign"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Select Template (Optional)"}),(0,b.jsxs)("select",{value:ay.template_id,onChange:a=>{let b=a.target.value;az({...ay,template_id:b});let c=k.find(a=>a.id===b);c&&az(a=>({...a,subject_line:c.subject_line,preview_text:c.preview_text||""}))},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"",children:"Create from scratch"}),k.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.template_name," (",a.template_category,")"]},a.id))]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Choose a template or design from scratch"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subject Line *"}),(0,b.jsx)("input",{type:"text",value:ay.subject_line,onChange:a=>az({...ay,subject_line:a.target.value}),placeholder:"Your exclusive offer awaits!",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Preview Text"}),(0,b.jsx)("input",{type:"text",value:ay.preview_text,onChange:a=>az({...ay,preview_text:a.target.value}),placeholder:"Don't miss out on our biggest sale of the year",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Displayed in email client preview pane"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Email *"}),(0,b.jsx)("input",{type:"email",value:ay.from_email,onChange:a=>az({...ay,from_email:a.target.value}),placeholder:"newsletter@company.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Name"}),(0,b.jsx)("input",{type:"text",value:ay.from_name,onChange:a=>az({...ay,from_name:a.target.value}),placeholder:"Company Team",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Reply-To Email"}),(0,b.jsx)("input",{type:"email",value:ay.reply_to_email,onChange:a=>az({...ay,reply_to_email:a.target.value}),placeholder:"support@company.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),"ab_test"===ay.campaign_type&&(0,b.jsxs)("div",{className:"border border-purple-500/30 bg-purple-500/10 rounded-lg p-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("input",{type:"checkbox",checked:ay.ab_test_enabled,onChange:a=>az({...ay,ab_test_enabled:a.target.checked}),className:"w-5 h-5 rounded"}),(0,b.jsx)("span",{className:"text-white font-medium",children:"Enable A/B Testing"})]}),ay.ab_test_enabled&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-slate-300 text-sm",children:"Test different subject lines to see which performs better:"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white text-sm mb-1",children:"Variant A (Original)"}),(0,b.jsx)("input",{type:"text",value:ay.ab_subject_variants[0],onChange:a=>{let b=[...ay.ab_subject_variants];b[0]=a.target.value,az({...ay,ab_subject_variants:b})},placeholder:"First subject line option",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-purple-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white text-sm mb-1",children:"Variant B (Alternative)"}),(0,b.jsx)("input",{type:"text",value:ay.ab_subject_variants[1],onChange:a=>{let b=[...ay.ab_subject_variants];b[1]=a.target.value,az({...ay,ab_subject_variants:b})},placeholder:"Second subject line option",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-purple-500"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,b.jsx)("input",{type:"text",value:ay.tags,onChange:a=>az({...ay,tags:a.target.value}),placeholder:"promotion, summer, sale",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Comma-separated tags for organization"})]})]}),2===al&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Select Contact Lists"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Choose which contact lists will receive this campaign"}),(0,b.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[m.map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg hover:border-cyan-500/50 cursor-pointer transition-all",children:[(0,b.jsx)("input",{type:"checkbox",checked:ay.selected_lists.includes(a.id),onChange:b=>{b.target.checked?az({...ay,selected_lists:[...ay.selected_lists,a.id]}):az({...ay,selected_lists:ay.selected_lists.filter(b=>b!==a.id)})},className:"w-5 h-5 rounded"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.list_name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(e.default,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsxs)("span",{className:"text-cyan-400",children:[a.total_contacts," contacts"]})]})]}),a.list_description&&(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:a.list_description}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:a},c))})]})]},a.id)),0===m.length&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(e.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No contact lists found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Create contact lists to send campaigns"})]})]}),ay.selected_lists.length>0&&(0,b.jsxs)("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-cyan-400 mb-1",children:[(0,b.jsx)(a5.default,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-semibold",children:"Estimated Recipients"})]}),(0,b.jsx)("p",{className:"text-white text-2xl font-bold",children:m.filter(a=>ay.selected_lists.includes(a.id)).reduce((a,b)=>a+(b.active_contacts||0),0).toLocaleString()}),(0,b.jsxs)("p",{className:"text-slate-300 text-sm mt-1",children:["Active contacts across ",ay.selected_lists.length," selected lists"]})]})]}),3===al&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Schedule Campaign"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-cyan-500/50 transition-all",children:[(0,b.jsx)("input",{type:"radio",name:"schedule_type",value:"send_now",checked:"send_now"===ay.schedule_type,onChange:a=>az({...ay,schedule_type:a.target.value}),className:"w-5 h-5 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(aR.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"Send Immediately"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Campaign will be sent as soon as it's created"})]})]}),(0,b.jsxs)("label",{className:"flex items-start gap-3 p-4 bg-slate-800/50 border border-slate-700 rounded-lg cursor-pointer hover:border-cyan-500/50 transition-all",children:[(0,b.jsx)("input",{type:"radio",name:"schedule_type",value:"schedule",checked:"schedule"===ay.schedule_type,onChange:a=>az({...ay,schedule_type:a.target.value}),className:"w-5 h-5 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(s.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:"Schedule for Later"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:"Choose a specific date and time to send"}),"schedule"===ay.schedule_type&&(0,b.jsx)("input",{type:"datetime-local",value:ay.scheduled_at,onChange:a=>az({...ay,scheduled_at:a.target.value}),min:new Date().toISOString().slice(0,16),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-3",children:"Campaign Summary"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Campaign Name"}),(0,b.jsx)("p",{className:"text-white font-medium",children:ay.campaign_name||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Type"}),(0,b.jsx)("p",{className:"text-white font-medium capitalize",children:ay.campaign_type.replace("_"," ")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Subject Line"}),(0,b.jsx)("p",{className:"text-white font-medium",children:ay.subject_line||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"From"}),(0,b.jsx)("p",{className:"text-white font-medium",children:ay.from_email||"-"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Lists Selected"}),(0,b.jsx)("p",{className:"text-white font-medium",children:ay.selected_lists.length})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Total Recipients"}),(0,b.jsx)("p",{className:"text-white font-medium",children:m.filter(a=>ay.selected_lists.includes(a.id)).reduce((a,b)=>a+(b.active_contacts||0),0).toLocaleString()})]})]})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Before Sending"}),(0,b.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,b.jsx)("li",{children:"Ensure your content complies with email marketing regulations"}),(0,b.jsx)("li",{children:"Include an unsubscribe link in your email template"}),(0,b.jsx)("li",{children:"Test your email on different devices and email clients"}),(0,b.jsx)("li",{children:"Review all links and personalization variables"})]})]})]})})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[al>1&&(0,b.jsx)("button",{onClick:()=>am(al-1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Back"}),(0,b.jsx)("button",{onClick:()=>{S(!1),am(1)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),al<3?(0,b.jsxs)("button",{onClick:()=>am(al+1),disabled:1===al&&(!ay.campaign_name||!ay.subject_line||!ay.from_email),className:"flex-1 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:["Next Step",(0,b.jsx)(cv.ChevronRight,{className:"w-5 h-5"})]}):(0,b.jsx)("button",{onClick:aX,disabled:aj,className:"flex-1 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Creating Campaign..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"Create Campaign"]})})]})]})]})}),T&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Email Template"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Design a reusable email template with rich content"})]}),(0,b.jsx)("button",{onClick:()=>U(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Template Name *"}),(0,b.jsx)("input",{type:"text",value:aA.template_name,onChange:a=>aB({...aA,template_name:a.target.value}),placeholder:"Welcome Email",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Category"}),(0,b.jsxs)("select",{value:aA.template_category,onChange:a=>aB({...aA,template_category:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"general",children:"General"}),(0,b.jsx)("option",{value:"promotional",children:"Promotional"}),(0,b.jsx)("option",{value:"transactional",children:"Transactional"}),(0,b.jsx)("option",{value:"newsletter",children:"Newsletter"}),(0,b.jsx)("option",{value:"welcome",children:"Welcome"}),(0,b.jsx)("option",{value:"abandoned_cart",children:"Abandoned Cart"}),(0,b.jsx)("option",{value:"announcement",children:"Announcement"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subject Line *"}),(0,b.jsx)("input",{type:"text",value:aA.subject_line,onChange:a=>aB({...aA,subject_line:a.target.value}),placeholder:"Welcome to our platform!",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Preview Text"}),(0,b.jsx)("input",{type:"text",value:aA.preview_text,onChange:a=>aB({...aA,preview_text:a.target.value}),placeholder:"Get started with your new account",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Shown in email client preview"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Thumbnail URL (Optional)"}),(0,b.jsx)("input",{type:"url",value:aA.thumbnail_url,onChange:a=>aB({...aA,thumbnail_url:a.target.value}),placeholder:"https://example.com/template-preview.jpg",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Image URL for template preview"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"HTML Content *"}),(0,b.jsx)("textarea",{value:aA.html_content,onChange:a=>aB({...aA,html_content:a.target.value}),placeholder:`<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Email Template</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding: 20px; }
    .header { background: #007bff; color: white; padding: 20px; text-align: center; }
    .content { padding: 20px; background: #f9f9f9; }
    .button { display: inline-block; padding: 12px 24px; background: #007bff; color: white; text-decoration: none; border-radius: 5px; }
    .footer { text-align: center; padding: 20px; font-size: 12px; color: #666; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Welcome to {{company_name}}!</h1>
    </div>
    <div class="content">
      <h2>Hello {{first_name}},</h2>
      <p>Thank you for joining us. We're excited to have you on board!</p>
      <p><a href="{{action_url}}" class="button">Get Started</a></p>
      <img src="https://via.placeholder.com/600x300" alt="Welcome" style="max-width: 100%; height: auto;">
    </div>
    <div class="footer">
      <p>&copy; 2024 {{company_name}}. All rights reserved.</p>
      <p><a href="{{unsubscribe_url}}">Unsubscribe</a></p>
    </div>
  </div>
</body>
</html>`,rows:15,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white font-mono text-sm focus:outline-none focus:border-cyan-500 resize-none"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Full HTML email template with inline CSS for best compatibility"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Plain Text Content (Fallback)"}),(0,b.jsx)("textarea",{value:aA.plain_text_content,onChange:a=>aB({...aA,plain_text_content:a.target.value}),placeholder:"Plain text version for email clients that don't support HTML...",rows:6,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500 resize-none"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Plain text fallback for non-HTML email clients"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Template Variables"}),(0,b.jsx)("input",{type:"text",value:aA.template_variables,onChange:a=>aB({...aA,template_variables:a.target.value}),placeholder:"first_name, last_name, company_name, action_url, unsubscribe_url",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:["Comma-separated list of merge variables (e.g., ","{{first_name}}",")"]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aA.is_responsive,onChange:a=>aB({...aA,is_responsive:a.target.checked}),className:"w-5 h-5 rounded"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Responsive Design"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Template adapts to mobile and desktop screens"})]})]}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500/10 to-cyan-500/10 border border-green-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(i.FileText,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-green-400 font-semibold mb-1",children:"Template Best Practices"}),(0,b.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,b.jsx)("li",{children:"Use inline CSS for styling (many email clients strip style tags)"}),(0,b.jsx)("li",{children:"Include image URLs from reliable hosting (avoid relative paths)"}),(0,b.jsx)("li",{children:"Test templates across different email clients"}),(0,b.jsx)("li",{children:"Keep width under 600px for best mobile compatibility"}),(0,b.jsx)("li",{children:"Always include alt text for images"}),(0,b.jsx)("li",{children:"Add unsubscribe link for compliance"})]})]})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>U(!1),className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:aY,disabled:aj,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Creating Template..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.FileText,{className:"w-5 h-5"}),"Create Template"]})})]})]})]})}),V&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add New Contact"}),(0,b.jsx)("button",{onClick:()=>{W(!1),aD({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Email Address *"}),(0,b.jsx)("input",{type:"email",value:aC.email,onChange:a=>aD({...aC,email:a.target.value}),placeholder:"contact@example.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"First Name"}),(0,b.jsx)("input",{type:"text",value:aC.first_name,onChange:a=>aD({...aC,first_name:a.target.value}),placeholder:"John",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Last Name"}),(0,b.jsx)("input",{type:"text",value:aC.last_name,onChange:a=>aD({...aC,last_name:a.target.value}),placeholder:"Doe",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Company"}),(0,b.jsx)("input",{type:"text",value:aC.company,onChange:a=>aD({...aC,company:a.target.value}),placeholder:"Company Name",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Job Title"}),(0,b.jsx)("input",{type:"text",value:aC.job_title,onChange:a=>aD({...aC,job_title:a.target.value}),placeholder:"Marketing Manager",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",value:aC.phone_number,onChange:a=>aD({...aC,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Country"}),(0,b.jsx)("input",{type:"text",value:aC.country,onChange:a=>aD({...aC,country:a.target.value}),placeholder:"Malaysia",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,b.jsxs)("select",{value:aC.subscription_status,onChange:a=>aD({...aC,subscription_status:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,b.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags (comma-separated)"}),(0,b.jsx)("input",{type:"text",value:aC.tags,onChange:a=>aD({...aC,tags:a.target.value}),placeholder:"customer, vip, newsletter",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Add to Lists"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:m.map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 p-3 bg-slate-800 border border-slate-700 rounded-lg cursor-pointer hover:border-cyan-500 transition-colors",children:[(0,b.jsx)("input",{type:"checkbox",checked:aC.selected_lists.includes(a.id),onChange:b=>{b.target.checked?aD({...aC,selected_lists:[...aC.selected_lists,a.id]}):aD({...aC,selected_lists:aC.selected_lists.filter(b=>b!==a.id)})},className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,b.jsx)("span",{className:"text-white text-sm",children:a.list_name})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{W(!1),aD({email:"",first_name:"",last_name:"",phone_number:"",company:"",job_title:"",country:"",custom_fields:{},tags:"",subscription_status:"subscribed",selected_lists:[]})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:aZ,disabled:aj,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Adding Contact..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Contact"]})})]})]})]})}),X&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Import Contacts"}),(0,b.jsx)("button",{onClick:()=>{Y(!1),ax(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"CSV Format Instructions"}),(0,b.jsxs)("ul",{className:"text-slate-400 text-sm space-y-1",children:[(0,b.jsx)("li",{children:"â€¢ First row must contain headers"}),(0,b.jsx)("li",{children:"â€¢ Required column: email"}),(0,b.jsx)("li",{children:"â€¢ Optional columns: first_name, last_name, company, phone, phone_number"}),(0,b.jsx)("li",{children:"â€¢ All other columns will be ignored"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Upload CSV File"}),(0,b.jsx)("input",{type:"file",accept:".csv",onChange:a=>ax(a.target.files?.[0]||null),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-700"}),aw&&(0,b.jsxs)("p",{className:"text-cyan-400 text-sm mt-2",children:["Selected: ",aw.name]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{Y(!1),ax(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a$,disabled:aj||!aw,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Importing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bA.default,{className:"w-5 h-5"}),"Import Contacts"]})})]})]})]})}),Z&&an&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Contact Settings"}),(0,b.jsx)("button",{onClick:()=>{$(!1),ao(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Contact"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:an.email}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm mt-1",children:[an.first_name," ",an.last_name]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Subscription Status"}),(0,b.jsxs)("select",{value:an.subscription_status,onChange:a=>ao({...an,subscription_status:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"subscribed",children:"Subscribed"}),(0,b.jsx)("option",{value:"unsubscribed",children:"Unsubscribed"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags (comma-separated)"}),(0,b.jsx)("input",{type:"text",value:an.tags?an.tags.join(", "):"",onChange:a=>ao({...an,tags:a.target.value.split(",").map(a=>a.trim()).filter(a=>a)}),placeholder:"customer, vip, newsletter",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{$(!1),ao(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a_,disabled:aj,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Settings,{className:"w-5 h-5"}),"Save Settings"]})})]})]})]})}),_&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Automation Sequence"}),(0,b.jsx)("button",{onClick:()=>{aa(!1),aF({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sequence Name *"}),(0,b.jsx)("input",{type:"text",value:aE.sequence_name,onChange:a=>aF({...aE,sequence_name:a.target.value}),placeholder:"Welcome Series",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:aE.sequence_description,onChange:a=>aF({...aE,sequence_description:a.target.value}),placeholder:"Describe your automation sequence...",rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Trigger Type"}),(0,b.jsxs)("select",{value:aE.trigger_type,onChange:a=>aF({...aE,trigger_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"manual",children:"Manual"}),(0,b.jsx)("option",{value:"signup",children:"On Signup"}),(0,b.jsx)("option",{value:"purchase",children:"On Purchase"}),(0,b.jsx)("option",{value:"abandoned_cart",children:"Abandoned Cart"}),(0,b.jsx)("option",{value:"date_based",children:"Date Based"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Status"}),(0,b.jsxs)("select",{value:aE.is_active?"active":"inactive",onChange:a=>aF({...aE,is_active:"active"===a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{aa(!1),aF({sequence_name:"",sequence_description:"",trigger_type:"manual",trigger_event:"",entry_conditions:"",is_active:!0,emails:[]})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a0,disabled:aj,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Sequence"]})})]})]})]})}),ad&&ap&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:ap.sequence_name}),(0,b.jsx)("button",{onClick:()=>{ae(!1),aq(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-white",children:ap.sequence_description||"No description provided"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Total Subscribers"}),(0,b.jsx)("p",{className:"text-white text-2xl font-bold",children:ap.total_subscribers||0})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Active"}),(0,b.jsx)("p",{className:"text-blue-400 text-2xl font-bold",children:ap.active_subscribers||0})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Completed"}),(0,b.jsx)("p",{className:"text-green-400 text-2xl font-bold",children:ap.completed_subscribers||0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-3",children:"Sequence Details"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Trigger Type"}),(0,b.jsx)("span",{className:"text-white font-medium capitalize",children:ap.trigger_type.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Status"}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ap.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:ap.is_active?"ACTIVE":"INACTIVE"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Created"}),(0,b.jsx)("span",{className:"text-white",children:new Date(ap.created_at).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ae(!1),aq(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Close"}),(0,b.jsxs)("button",{onClick:()=>{ae(!1),ac(!0)},className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(cj.default,{className:"w-5 h-5"}),"Edit Sequence"]})]})]})]})}),ab&&ap&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Sequence"}),(0,b.jsx)("button",{onClick:()=>{ac(!1),aq(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Sequence Name"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:ap.sequence_name})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Note: Full sequence editing will be available soon. For now, you can pause/activate sequences from the main list."}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)("button",{onClick:()=>{ac(!1),aq(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Close"})})]})]})}),af&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700 sticky top-0 bg-slate-900",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Email Provider"}),(0,b.jsx)("button",{onClick:()=>{ag(!1),aI({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Provider Name *"}),(0,b.jsx)("input",{type:"text",value:aG.provider_name,onChange:a=>aI({...aG,provider_name:a.target.value}),placeholder:"My Email Provider",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Provider Type"}),(0,b.jsxs)("select",{value:aG.provider_type,onChange:a=>aI({...aG,provider_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"smtp",children:"SMTP"}),(0,b.jsx)("option",{value:"api",children:"API (SendGrid, Mailgun, etc.)"})]})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Email *"}),(0,b.jsx)("input",{type:"email",value:aG.from_email,onChange:a=>aI({...aG,from_email:a.target.value}),placeholder:"noreply@yourdomain.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"From Name"}),(0,b.jsx)("input",{type:"text",value:aG.from_name,onChange:a=>aI({...aG,from_name:a.target.value}),placeholder:"Your Company",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Sending Domain"}),(0,b.jsx)("input",{type:"text",value:aG.sending_domain,onChange:a=>aI({...aG,sending_domain:a.target.value}),placeholder:"yourdomain.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),"smtp"===aG.provider_type&&(0,b.jsxs)("div",{className:"space-y-4 border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:"SMTP Configuration"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"SMTP Host *"}),(0,b.jsx)("input",{type:"text",value:aG.smtp_host,onChange:a=>aI({...aG,smtp_host:a.target.value}),placeholder:"smtp.gmail.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"SMTP Port"}),(0,b.jsx)("input",{type:"number",value:aG.smtp_port,onChange:a=>aI({...aG,smtp_port:a.target.value}),placeholder:"587",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Username *"}),(0,b.jsx)("input",{type:"text",value:aG.smtp_username,onChange:a=>aI({...aG,smtp_username:a.target.value}),placeholder:"your@email.com",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Password *"}),(0,b.jsx)("input",{type:"password",value:aG.smtp_password,onChange:a=>aI({...aG,smtp_password:a.target.value}),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Encryption"}),(0,b.jsxs)("select",{value:aG.smtp_encryption,onChange:a=>aI({...aG,smtp_encryption:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"tls",children:"TLS"}),(0,b.jsx)("option",{value:"ssl",children:"SSL"}),(0,b.jsx)("option",{value:"none",children:"None"})]})]})]})]}),"api"===aG.provider_type&&(0,b.jsxs)("div",{className:"space-y-4 border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-white font-semibold",children:"API Configuration"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"API Key *"}),(0,b.jsx)("input",{type:"password",value:aG.api_key,onChange:a=>aI({...aG,api_key:a.target.value}),placeholder:"Your API key",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"API Secret (optional)"}),(0,b.jsx)("input",{type:"password",value:aG.api_secret,onChange:a=>aI({...aG,api_secret:a.target.value}),placeholder:"Your API secret",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:aG.is_default,onChange:a=>aI({...aG,is_default:a.target.checked}),className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,b.jsx)("span",{className:"text-white",children:"Set as default provider"})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ag(!1),aI({provider_name:"",provider_type:"smtp",smtp_host:"",smtp_port:"587",smtp_username:"",smtp_password:"",smtp_encryption:"tls",api_key:"",api_secret:"",sending_domain:"",from_email:"",from_name:"",is_default:!1})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a2,disabled:aj,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Adding Provider..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Provider"]})})]})]})]})}),ah&&as&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Configure Provider"}),(0,b.jsx)("button",{onClick:()=>{ai(!1),at(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Provider"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:as.provider_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:as.from_email})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("input",{type:"checkbox",checked:as.is_active,onChange:a=>at({...as,is_active:a.target.checked}),className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,b.jsx)("span",{className:"text-white",children:"Provider is active"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:as.is_default,onChange:a=>at({...as,is_default:a.target.checked}),className:"w-4 h-4 text-cyan-600 bg-slate-700 border-slate-600 rounded focus:ring-cyan-500"}),(0,b.jsx)("span",{className:"text-white",children:"Set as default provider"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Daily Sending Limit"}),(0,b.jsx)("input",{type:"number",value:as.daily_sending_limit||"",onChange:a=>at({...as,daily_sending_limit:parseInt(a.target.value)||null}),placeholder:"1000",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Maximum emails to send per day (leave empty for unlimited)"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ai(!1),at(null)},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a3,disabled:aj,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aj?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Settings,{className:"w-5 h-5"}),"Save Configuration"]})})]})]})]})})]})}var a7=a7,ad=ad,cV=a.i(98326),cV=cV,E=E,K=K,m=m,bC=bC,cW=a.i(37564),cW=cW,a5=a5,aR=aR,aW=aW,aP=aP,B=B,cX=a.i(74227),cX=cX,a$=a$,l=l,aZ=aZ,cj=cj,u=u;function cY({onNavigate:a}){let{user:d}=(0,H.useAuth)(),[e,f]=(0,c.useState)("sim-swap"),[g,i]=(0,c.useState)([]),[k,o]=(0,c.useState)([]),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,C]=(0,c.useState)([]),[D,F]=(0,c.useState)([]),[G,L]=(0,c.useState)(!0),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)("providers"),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)("sim-swap"),[Y,Z]=(0,c.useState)(""),[$,_]=(0,c.useState)(null),[aa,ab]=(0,c.useState)(!1),[ac,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(!1),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)(!1),[ay,az]=(0,c.useState)(!1),[aA,aB]=(0,c.useState)(null),[aC,aD]=(0,c.useState)({phone_number:"",lookback_days:"7"}),[aE,aG]=(0,c.useState)({phone_number:"",verification_method:"network_auth"}),[aI,aJ]=(0,c.useState)({phone_number:"",request_type:"precise",geofence_id:""}),[aK,aM]=(0,c.useState)({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),[aN,aO]=(0,c.useState)({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1});(0,c.useEffect)(()=>{d&&Promise.all([aQ(),aS(),aT(),aU(),aV(),aX(),aY(),a_()]).finally(()=>L(!1))},[d]),(0,c.useEffect)(()=>{if(O){let a=setTimeout(()=>P(null),5e3);return()=>clearTimeout(a)}},[O]);let aQ=async()=>{let{data:a,error:b}=await n.db.from("telco_api_providers").select("*").order("is_active",{ascending:!1});!b&&a&&i(a)},aS=async()=>{let{data:a,error:b}=await n.db.from("sim_swap_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!b&&a&&o(a)},aT=async()=>{let{data:a,error:b}=await n.db.from("number_verification_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!b&&a&&q(a)},aU=async()=>{let{data:a,error:b}=await n.db.from("device_location_requests").select("*").order("request_timestamp",{ascending:!1}).limit(50);!b&&a&&s(a)},aV=async()=>{let{data:a,error:b}=await n.db.from("geofences").select("*").order("created_at",{ascending:!1});!b&&a&&x(a)},aX=async()=>{let{data:a,error:b}=await n.db.from("qod_sessions").select("*").order("request_timestamp",{ascending:!1}).limit(50);!b&&a&&z(a)},aY=async()=>{let{data:a,error:b}=await n.db.from("telco_api_usage").select("*").order("usage_date",{ascending:!1}).limit(100);!b&&a&&C(a)},a_=async()=>{let{data:a,error:b}=await n.db.from("telco_tracked_devices").select("*").order("created_at",{ascending:!1});!b&&a&&F(a)},a0=async()=>{if(!Y)return void P({type:"error",message:"Please enter a phone number"});ab(!0),_(null);try{if("sim-swap"===W){let a={phone_number:Y,swap_detected:Math.random()>.7,fraud_score:Math.floor(100*Math.random()),last_swap_date:new Date(Date.now()-30*Math.random()*864e5).toISOString(),days_since_swap:Math.floor(30*Math.random()),response_time_ms:Math.floor(200*Math.random())+100};_(a),P({type:"success",message:"SIM Swap check completed"})}else if("number-verify"===W){let a={phone_number:Y,is_verified:Math.random()>.3,match_score:Math.floor(100*Math.random()),network_name:["Maxis","Celcom","DiGi","U Mobile"][Math.floor(4*Math.random())],network_type:"4G",response_time_ms:Math.floor(150*Math.random())+80};_(a),P({type:"success",message:"Number verification completed"})}else if("location"===W)_({phone_number:Y,latitude:3.139+(Math.random()-.5)*.1,longitude:101.6869+(Math.random()-.5)*.1,accuracy_meters:Math.floor(100*Math.random())+50,city:"Kuala Lumpur",country:"Malaysia",response_time_ms:Math.floor(300*Math.random())+150}),P({type:"success",message:"Location retrieved successfully"});else if("qod"===W){let a={session_id:`qod_${Date.now()}`,phone_number:Y,status:"active",target_latency_ms:50,actual_latency_ms:Math.floor(40*Math.random())+20,target_bandwidth_mbps:100,actual_bandwidth_mbps:Math.floor(100*Math.random())+80,packet_loss_percent:(2*Math.random()).toFixed(2),jitter_ms:Math.floor(10*Math.random())+5};_(a),P({type:"success",message:"QoD session created successfully"})}}catch(a){P({type:"error",message:"API test failed"})}finally{ab(!1)}},a1=async(a,b)=>{let{error:c}=await n.db.from("telco_api_providers").update({is_active:!b}).eq("id",a);c?P({type:"error",message:"Failed to update provider"}):(P({type:"success",message:`Provider ${!b?"activated":"deactivated"}`}),aQ())},a2=async a=>{let{error:b}=await n.db.from("geofences").delete().eq("id",a);b?P({type:"error",message:"Failed to delete geofence"}):(P({type:"success",message:"Geofence deleted successfully"}),aV())},a3=async()=>{if(!aC.phone_number)return void P({type:"error",message:"Please enter a phone number"});ao(!0);try{let a=Math.random()>.7,b=Math.floor(100*Math.random()),c=Math.floor(Math.random()*parseInt(aC.lookback_days)),{error:d}=await n.db.from("sim_swap_requests").insert([{phone_number:aC.phone_number,provider_id:g.find(a=>a.is_active)?.id,swap_detected:a,fraud_score:b,last_swap_date:a?new Date(Date.now()-24*c*36e5).toISOString():null,days_since_swap:a?c:null,response_time_ms:Math.floor(200*Math.random())+100,request_timestamp:new Date().toISOString()}]);d?P({type:"error",message:"Failed to create SIM Swap check"}):(P({type:"success",message:"SIM Swap check completed successfully"}),ae(!1),aD({phone_number:"",lookback_days:"7"}),aS())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},a4=async()=>{if(!aE.phone_number)return void P({type:"error",message:"Please enter a phone number"});ao(!0);try{let a=Math.random()>.3,b=Math.floor(100*Math.random()),c=["Maxis","Celcom","DiGi","U Mobile"],{error:d}=await n.db.from("number_verification_requests").insert([{phone_number:aE.phone_number,provider_id:g.find(a=>a.is_active)?.id,verification_method:aE.verification_method,is_verified:a,match_score:b,network_name:c[Math.floor(Math.random()*c.length)],network_type:["4G","5G"][Math.floor(2*Math.random())],response_time_ms:Math.floor(150*Math.random())+80,request_timestamp:new Date().toISOString()}]);d?P({type:"error",message:"Failed to verify number"}):(P({type:"success",message:"Number verification completed successfully"}),ag(!1),aG({phone_number:"",verification_method:"network_auth"}),aT())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},a6=async()=>{if(!aI.phone_number)return void P({type:"error",message:"Please enter a phone number"});ao(!0);try{let a=3.139+(Math.random()-.5)*.1,b=101.6869+(Math.random()-.5)*.1,c=Math.floor(100*Math.random())+50,{error:d}=await n.db.from("device_location_requests").insert([{phone_number:aI.phone_number,provider_id:g.find(a=>a.is_active)?.id,request_type:aI.request_type,geofence_id:aI.geofence_id||null,latitude:a,longitude:b,accuracy_meters:c,city:"Kuala Lumpur",country:"Malaysia",is_within_area:aI.geofence_id?Math.random()>.5:null,status:"completed",response_time_ms:Math.floor(300*Math.random())+150,request_timestamp:new Date().toISOString()}]);d?P({type:"error",message:"Failed to create location request"}):(P({type:"success",message:"Location request completed successfully"}),ai(!1),aJ({phone_number:"",request_type:"precise",geofence_id:""}),aU())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},a8=async()=>{if(!aK.phone_number)return void P({type:"error",message:"Please enter a phone number"});ao(!0);try{let a=`qod_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,b=parseInt(aK.target_latency_ms),c=Math.floor(.8*b*Math.random())+.2*b,d=parseInt(aK.target_bandwidth_mbps),e=Math.floor(.3*d*Math.random())+.7*d,{error:f}=await n.db.from("qod_sessions").insert([{session_id:a,phone_number:aK.phone_number,provider_id:g.find(a=>a.is_active)?.id,qos_profile:aK.qos_profile,target_latency_ms:b,actual_latency_ms:c,target_bandwidth_mbps:d,actual_bandwidth_mbps:e,session_duration_minutes:parseInt(aK.session_duration_minutes),packet_loss_percent:parseFloat((2*Math.random()).toFixed(2)),jitter_ms:Math.floor(10*Math.random())+5,status:"active",request_timestamp:new Date().toISOString()}]);f?P({type:"error",message:"Failed to create QoD session"}):(P({type:"success",message:"QoD session created successfully"}),ak(!1),aM({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),aX())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},a9=async()=>{if(!aN.device_name||!aN.phone_number)return void P({type:"error",message:"Please enter device name and phone number"});ao(!0);try{let a=aN.tags?aN.tags.split(",").map(a=>a.trim()).filter(a=>a):[],{error:b}=await n.db.from("telco_tracked_devices").insert([{user_id:d?.id,device_name:aN.device_name,phone_number:aN.phone_number,device_type:aN.device_type,os_version:aN.os_version||null,device_model:aN.device_model||null,imei:aN.imei||null,tracking_enabled:aN.tracking_enabled,location_consent:aN.location_consent,precision_level:aN.precision_level,update_frequency_minutes:parseInt(aN.update_frequency_minutes),battery_optimization:aN.battery_optimization,tags:a,notes:aN.notes||null,alert_on_movement:aN.alert_on_movement,alert_on_geofence_exit:aN.alert_on_geofence_exit,alert_on_geofence_enter:aN.alert_on_geofence_enter,is_active:!0}]);b?P({type:"error",message:"Failed to add device"}):(P({type:"success",message:"Device added successfully"}),am(!1),aO({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1}),a_())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},ba=async a=>{if(!confirm("Are you sure you want to delete this SIM Swap check?"))return;let{error:b}=await n.db.from("sim_swap_requests").delete().eq("id",a);b?P({type:"error",message:"Failed to delete SIM Swap check"}):(P({type:"success",message:"SIM Swap check deleted successfully"}),aS())},bb=async a=>{if(!confirm("Are you sure you want to delete this verification request?"))return;let{error:b}=await n.db.from("number_verification_requests").delete().eq("id",a);b?P({type:"error",message:"Failed to delete verification request"}):(P({type:"success",message:"Verification request deleted successfully"}),aT())},bc=async a=>{if(!confirm("Are you sure you want to delete this location request?"))return;let{error:b}=await n.db.from("location_verification_requests").delete().eq("id",a);b?P({type:"error",message:"Failed to delete location request"}):(P({type:"success",message:"Location request deleted successfully"}),aU())},bd=async a=>{if(!confirm("Are you sure you want to delete this QoD session?"))return;let{error:b}=await n.db.from("qod_sessions").delete().eq("id",a);b?P({type:"error",message:"Failed to delete QoD session"}):(P({type:"success",message:"QoD session deleted successfully"}),aX())},be=async a=>{if(!confirm("Are you sure you want to delete this tracked device?"))return;let{error:b}=await n.db.from("telco_tracked_devices").delete().eq("id",a);b?P({type:"error",message:"Failed to delete tracked device"}):(P({type:"success",message:"Tracked device deleted successfully"}),a_())},bf=async()=>{if(!aA||!aC.phone_number)return void P({type:"error",message:"Please fill in required fields"});ao(!0);try{let{error:a}=await n.db.from("sim_swap_requests").update({phone_number:aC.phone_number,request_timestamp:new Date().toISOString()}).eq("id",aA.id);a?P({type:"error",message:"Failed to update SIM Swap check"}):(P({type:"success",message:"SIM Swap check updated successfully"}),aq(!1),aB(null),aD({phone_number:"",lookback_days:"7"}),aS())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},bg=async()=>{if(!aA||!aE.phone_number)return void P({type:"error",message:"Please fill in required fields"});ao(!0);try{let{error:a}=await n.db.from("number_verification_requests").update({phone_number:aE.phone_number,verification_method:aE.verification_method,request_timestamp:new Date().toISOString()}).eq("id",aA.id);a?P({type:"error",message:"Failed to update verification request"}):(P({type:"success",message:"Verification request updated successfully"}),at(!1),aB(null),aG({phone_number:"",verification_method:"network_auth"}),aT())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},bh=async()=>{if(!aA||!aI.phone_number)return void P({type:"error",message:"Please fill in required fields"});ao(!0);try{let{error:a}=await n.db.from("location_verification_requests").update({phone_number:aI.phone_number,request_type:aI.request_type,geofence_id:aI.geofence_id||null,request_timestamp:new Date().toISOString()}).eq("id",aA.id);a?P({type:"error",message:"Failed to update location request"}):(P({type:"success",message:"Location request updated successfully"}),av(!1),aB(null),aJ({phone_number:"",request_type:"precise",geofence_id:""}),aU())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},bi=async()=>{if(!aA||!aK.phone_number)return void P({type:"error",message:"Please fill in required fields"});ao(!0);try{let{error:a}=await n.db.from("qod_sessions").update({phone_number:aK.phone_number,qos_profile:aK.qos_profile,session_duration_minutes:parseInt(aK.session_duration_minutes),target_latency_ms:parseInt(aK.target_latency_ms),target_bandwidth_mbps:parseInt(aK.target_bandwidth_mbps)}).eq("id",aA.id);a?P({type:"error",message:"Failed to update QoD session"}):(P({type:"success",message:"QoD session updated successfully"}),ax(!1),aB(null),aM({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"}),aX())}catch(a){P({type:"error",message:"An error occurred"})}finally{ao(!1)}},bj=k.length,bk=k.filter(a=>a.swap_detected).length,bl=k.reduce((a,b)=>a+(b.fraud_score||0),0)/(bj||1),bm=p.length,bn=p.filter(a=>a.is_verified).length,bo=p.reduce((a,b)=>a+(b.match_score||0),0)/(bm||1),bp=r.length,bq=r.filter(a=>"completed"===a.status).length,br=y.length,bs=y.filter(a=>"active"===a.status).length,bt=A.filter(a=>{let b=new Date(a.usage_date),c=new Date;return b.toDateString()===c.toDateString()}),bu=bt.reduce((a,b)=>a+(b.total_requests||0),0),bv=bt.reduce((a,b)=>a+parseFloat(b.total_cost||0),0);return G?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[O&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${"success"===O.type?"bg-green-500":"bg-red-500"} text-white`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["success"===O.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:O.message})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Telco API"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1",children:"Network intelligence APIs for authentication, fraud prevention, and QoS"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>V(!0),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(aH.Play,{className:"w-5 h-5"}),"Test APIs"]}),(0,b.jsxs)("button",{onClick:()=>a?.("resources"),className:"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(aF.Code,{className:"w-5 h-5"}),"API Docs"]}),(0,b.jsxs)("button",{onClick:()=>R(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(j.Settings,{className:"w-5 h-5"}),"Configure"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"API Requests Today"}),(0,b.jsx)(m.default,{className:"w-5 h-5 text-red-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:bu.toLocaleString()}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Across all services"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Success Rate"}),(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-white",children:[bu>0?(bt.reduce((a,b)=>a+b.successful_requests,0)/bu*100).toFixed(1):0,"%"]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"API reliability"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Active QoD Sessions"}),(0,b.jsx)(cV.default,{className:"w-5 h-5 text-blue-400"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:bs}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Live network optimization"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-white",children:"Cost Today"}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-purple-400"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-white",children:["$",bv.toFixed(2)]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"API usage cost"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-1 inline-flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>f("sim-swap"),className:`px-6 py-2 rounded-lg transition-colors ${"sim-swap"===e?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"SIM Swap"}),(0,b.jsx)("button",{onClick:()=>f("number-verify"),className:`px-6 py-2 rounded-lg transition-colors ${"number-verify"===e?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Number Verification"}),(0,b.jsx)("button",{onClick:()=>f("location"),className:`px-6 py-2 rounded-lg transition-colors ${"location"===e?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Device Location"}),(0,b.jsx)("button",{onClick:()=>f("qod"),className:`px-6 py-2 rounded-lg transition-colors ${"qod"===e?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Quality on Demand"}),(0,b.jsx)("button",{onClick:()=>f("analytics"),className:`px-6 py-2 rounded-lg transition-colors ${"analytics"===e?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Analytics"})]}),"sim-swap"===e&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,b.jsx)(h.Shield,{className:"w-8 h-8 text-red-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"SIM Swap Detection"}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:"Protect your users from SIM swap fraud by detecting recent SIM card changes or port-outs. This API checks if a phone number has been associated with a different SIM card recently."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Real-time Detection"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Instant verification of SIM card status and recent changes"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(J.Clock,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Timestamp History"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Returns exact date and time of last SIM swap or port"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(K.default,{className:"w-5 h-5 text-orange-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Fraud Scoring"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Risk assessment based on swap timing and patterns"})]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Checks"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:bj}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"API requests processed"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Swaps Detected"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-red-400 mb-1",children:bk}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:[bj>0?(bk/bj*100).toFixed(1):0,"% detection rate"]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Fraud Score"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-orange-400 mb-1",children:bl.toFixed(0)}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Risk assessment average"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent SIM Swap Checks"}),(0,b.jsx)("button",{onClick:()=>ae(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Check"})]}),(0,b.jsx)("div",{className:"space-y-3",children:k.slice(0,10).map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.phone_number}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.swap_detected?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:a.swap_detected?"SWAP DETECTED":"NO SWAP"}),a.fraud_score>=70&&(0,b.jsx)("span",{className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full text-xs font-semibold",children:"HIGH RISK"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Fraud Score"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.fraud_score||0,"/100"]})]}),a.last_swap_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Last Swap"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:new Date(a.last_swap_date).toLocaleDateString()})]}),null!==a.days_since_swap&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Days Since Swap"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.days_since_swap," days"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Response Time"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.response_time_ms,"ms"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{aB(a),aD({phone_number:a.phone_number,lookback_days:"7"}),aq(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>ba(a.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-5 h-5 text-red-400"})})]})]})},a.id))})]})]}),"number-verify"===e&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(a7.default,{className:"w-8 h-8 text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Number Verification"}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:"Silently verify user identity in the background using network intelligence. No SMS OTP required - the API confirms the mobile number matches the device using the network connection."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(aR.default,{className:"w-5 h-5 text-yellow-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Silent Authentication"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Background verification with zero user friction"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(bC.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Network-Based"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Uses carrier network data for instant verification"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(aW.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"No SMS Required"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Eliminates OTP friction and SMS costs"})]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Verifications"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:bm}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"API requests processed"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Verified Users"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-green-400 mb-1",children:bn}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:[bm>0?(bn/bm*100).toFixed(1):0,"% success rate"]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Match Score"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-cyan-400 mb-1",children:[bo.toFixed(0),"%"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Confidence level"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent Verifications"}),(0,b.jsx)("button",{onClick:()=>ag(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Verification"})]}),(0,b.jsx)("div",{className:"space-y-3",children:p.slice(0,10).map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.phone_number}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.is_verified?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.is_verified?"VERIFIED":"NOT VERIFIED"}),(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs uppercase",children:a.verification_method})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Match Score"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.match_score||0,"%"]})]}),a.network_name&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Network"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.network_name})]}),a.network_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Network Type"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.network_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Response Time"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.response_time_ms,"ms"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Timestamp"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:new Date(a.request_timestamp).toLocaleTimeString()})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{aB(a),aG({phone_number:a.phone_number,verification_method:a.verification_method||"network_auth"}),at(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>bb(a.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-5 h-5 text-red-400"})})]})]})},a.id))})]})]}),"location"===e&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(ad.default,{className:"w-8 h-8 text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Device Location"}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:"Access device location data through network intelligence. Verify if a device is within a specific area (geofencing) or retrieve precise GPS coordinates with user consent."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(a5.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Geofence Verification"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Check if device is within defined geographic area"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(cX.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Precise Coordinates"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Get exact latitude/longitude with meter-level accuracy"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(aW.default,{className:"w-5 h-5 text-orange-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Consent-Based"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Privacy-first location access with user permission"})]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Active Geofences"}),(0,b.jsx)("div",{className:"space-y-3",children:t.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a5.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.geofence_name})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Center"}),(0,b.jsxs)("p",{className:"text-white font-mono text-xs",children:[a.center_latitude?.toFixed(4),", ",a.center_longitude?.toFixed(4)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Radius"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[(a.radius_meters/1e3).toFixed(1)," km"]})]})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:a},c))})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Location Statistics"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Total Requests"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:bp})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Successful Locations"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-400",children:bq}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:[bp>0?(bq/bp*100).toFixed(1):0,"% success rate"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Active Geofences"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-cyan-400",children:t.filter(a=>a.is_active).length})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Tracked Devices"}),(0,b.jsxs)("button",{onClick:()=>am(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(a7.default,{className:"w-4 h-4"}),"Add Device"]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[D.slice(0,5).map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(a7.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("span",{className:"text-white font-semibold",children:a.device_name}),(0,b.jsx)("span",{className:"text-slate-400 font-mono text-sm",children:a.phone_number}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"}),a.tracking_enabled&&(0,b.jsxs)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs font-semibold flex items-center gap-1",children:[(0,b.jsx)(a5.default,{className:"w-3 h-3"}),"TRACKING"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Device Type"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.device_type})]}),a.device_model&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Model"}),(0,b.jsx)("p",{className:"text-white",children:a.device_model})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Precision"}),(0,b.jsx)("p",{className:"text-white capitalize",children:a.precision_level})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Update Frequency"}),(0,b.jsxs)("p",{className:"text-white",children:[a.update_frequency_minutes," min"]})]})]}),a.last_known_latitude&&a.last_known_longitude&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-slate-800/50 rounded border border-slate-700",children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs mb-1",children:"Last Known Location"}),(0,b.jsxs)("p",{className:"text-white font-mono text-xs",children:[a.last_known_latitude.toFixed(4),", ",a.last_known_longitude.toFixed(4)]}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:["Updated: ",a.last_location_update?new Date(a.last_location_update).toLocaleString():"Never"]})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:a.tags.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:a},c))})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{aB(a),aO({device_name:a.device_name,phone_number:a.phone_number,device_type:a.device_type,os_version:a.os_version||"",device_model:a.device_model||"",imei:a.imei||"",tracking_enabled:a.tracking_enabled,location_consent:a.location_consent,precision_level:a.precision_level,update_frequency_minutes:a.update_frequency_minutes?.toString()||"60",battery_optimization:a.battery_optimization,tags:a.tags?a.tags.join(", "):"",notes:a.notes||"",alert_on_movement:a.alert_on_movement,alert_on_geofence_exit:a.alert_on_geofence_exit,alert_on_geofence_enter:a.alert_on_geofence_enter}),az(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>be(a.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-5 h-5 text-red-400"})})]})]})},a.id)),0===D.length&&(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(a7.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No tracked devices yet"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Add your first device to start tracking"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"Recent Location Requests"}),(0,b.jsx)("button",{onClick:()=>ai(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Request"})]}),(0,b.jsx)("div",{className:"space-y-3",children:r.slice(0,10).map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(ad.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white font-mono",children:a.phone_number}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"completed"===a.status?"bg-green-500/20 text-green-400":"pending"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:a.status.toUpperCase()}),(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs uppercase",children:a.request_type})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.latitude&&a.longitude&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Coordinates"}),(0,b.jsxs)("p",{className:"text-white font-mono text-xs",children:[a.latitude?.toFixed(4),", ",a.longitude?.toFixed(4)]})]}),a.accuracy_meters&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Accuracy"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.accuracy_meters,"m"]})]}),a.city&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Location"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.city})]}),null!==a.is_within_area&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"In Geofence"}),(0,b.jsx)("p",{className:`font-semibold ${a.is_within_area?"text-green-400":"text-red-400"}`,children:a.is_within_area?"Yes":"No"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,b.jsx)("button",{onClick:()=>{aB(a),aJ({phone_number:a.phone_number,request_type:a.request_type||"precise",geofence_id:a.geofence_id||""}),av(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>bc(a.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-5 h-5 text-red-400"})})]})]})},a.id))})]})]}),"qod"===e&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(cV.default,{className:"w-8 h-8 text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Quality on Demand (QoD)"}),(0,b.jsx)("p",{className:"text-slate-300 mb-4",children:"Request guaranteed network performance for specific sessions. Ensure stable latency and prioritized bandwidth for critical applications like gaming, video streaming, or IoT."}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(cV.default,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Stable Latency"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Guarantee consistent low-latency connections"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(cW.default,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Prioritized Bandwidth"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Reserve dedicated bandwidth for your application"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(m.default,{className:"w-5 h-5 text-purple-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:"Session-Based"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"QoS guarantees for specific time periods"})]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Total Sessions"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-white mb-1",children:br}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Lifetime requests"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Active Now"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-green-400 mb-1",children:bs}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Live QoD sessions"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Latency"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-cyan-400 mb-1",children:[y.filter(a=>a.actual_latency_ms).length>0?(y.reduce((a,b)=>a+(b.actual_latency_ms||0),0)/y.filter(a=>a.actual_latency_ms).length).toFixed(0):0,"ms"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Active sessions"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-white font-semibold mb-2",children:"Avg Bandwidth"}),(0,b.jsxs)("p",{className:"text-4xl font-bold text-purple-400 mb-1",children:[y.filter(a=>a.actual_bandwidth_mbps).length>0?(y.reduce((a,b)=>a+(b.actual_bandwidth_mbps||0),0)/y.filter(a=>a.actual_bandwidth_mbps).length).toFixed(0):0," Mbps"]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Active sessions"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:"QoD Sessions"}),(0,b.jsx)("button",{onClick:()=>ak(!0),className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"New Session"})]}),(0,b.jsx)("div",{className:"space-y-3",children:y.slice(0,10).map(a=>(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsx)(cV.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsx)("span",{className:"text-white font-mono text-sm",children:a.session_id}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"active"===a.status?"bg-green-500/20 text-green-400 animate-pulse":"requested"===a.status?"bg-yellow-500/20 text-yellow-400":"terminated"===a.status?"bg-slate-500/20 text-slate-400":"bg-red-500/20 text-red-400"}`,children:a.status.toUpperCase()}),(0,b.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs uppercase",children:a.qos_profile.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Phone Number"}),(0,b.jsx)("p",{className:"text-white font-mono text-xs",children:a.phone_number})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Target Latency"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.target_latency_ms,"ms"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Actual Latency"}),(0,b.jsxs)("p",{className:`font-semibold ${a.actual_latency_ms&&a.actual_latency_ms<=a.target_latency_ms?"text-green-400":"text-orange-400"}`,children:[a.actual_latency_ms||"-","ms"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Bandwidth"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.actual_bandwidth_mbps||a.target_bandwidth_mbps," Mbps"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Duration"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.session_duration_minutes," min"]})]})]}),"active"===a.status&&null!==a.packet_loss_percent&&(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.default,{className:"w-4 h-4 text-cyan-400"}),(0,b.jsx)("span",{className:"text-slate-400",children:"Packet Loss:"}),(0,b.jsxs)("span",{className:"text-white font-semibold",children:[a.packet_loss_percent,"%"]})]}),null!==a.jitter_ms&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(a$.default,{className:"w-4 h-4 text-purple-400"}),(0,b.jsx)("span",{className:"text-slate-400",children:"Jitter:"}),(0,b.jsxs)("span",{className:"text-white font-semibold",children:[a.jitter_ms,"ms"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 ml-4",children:["active"===a.status&&(0,b.jsx)("button",{className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Terminate",children:(0,b.jsx)(aP.default,{className:"w-5 h-5 text-red-400"})}),(0,b.jsx)("button",{onClick:()=>{aB(a),aM({phone_number:a.phone_number,qos_profile:a.qos_profile,session_duration_minutes:a.session_duration_minutes?.toString()||"60",target_latency_ms:a.target_latency_ms?.toString()||"50",target_bandwidth_mbps:a.target_bandwidth_mbps?.toString()||"100"}),ax(!0)},className:"p-2 hover:bg-cyan-600/20 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsx)("button",{onClick:()=>bd(a.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-5 h-5 text-red-400"})})]})]})},a.id))})]})]}),"analytics"===e&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"API Analytics & Usage"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Today's Usage"}),(0,b.jsx)("div",{className:"space-y-3",children:["sim_swap","number_verification","device_location","qod"].map(a=>{let c=bt.find(b=>b.api_service===a);return(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"text-white font-semibold capitalize",children:a.replace("_"," ")}),(0,b.jsxs)("span",{className:"text-slate-400 text-sm",children:["$",c?.total_cost?.toFixed(2)||"0.00"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Requests"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:c?.total_requests||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Success"}),(0,b.jsx)("p",{className:"text-green-400 font-semibold",children:c?.successful_requests||0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Failed"}),(0,b.jsx)("p",{className:"text-red-400 font-semibold",children:c?.failed_requests||0})]})]})]},a)})})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"API Providers"}),(0,b.jsx)("div",{className:"space-y-3",children:g.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Globe,{className:"w-5 h-5 text-cyan-400"}),(0,b.jsx)("h4",{className:"text-white font-semibold",children:a.provider_name})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.supported_services.map(a=>(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:a},a))}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Rate Limit"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.rate_limit_per_second,"/sec"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Daily Limit"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[(a.rate_limit_per_day/1e3).toFixed(0),"K/day"]})]})]})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"30-Day Usage Trend"}),(0,b.jsx)("div",{className:"space-y-2",children:A.slice(0,30).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg hover:bg-slate-900 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("span",{className:"text-slate-400 text-sm w-24",children:new Date(a.usage_date).toLocaleDateString()}),(0,b.jsx)("span",{className:"text-white font-semibold w-32 capitalize",children:a.api_service.replace("_"," ")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Requests: "}),(0,b.jsx)("span",{className:"text-white font-semibold",children:a.total_requests})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Success Rate: "}),(0,b.jsxs)("span",{className:"text-green-400 font-semibold",children:[a.total_requests>0?(a.successful_requests/a.total_requests*100).toFixed(1):0,"%"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Avg Response: "}),(0,b.jsxs)("span",{className:"text-cyan-400 font-semibold",children:[a.avg_response_time_ms,"ms"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Cost: "}),(0,b.jsxs)("span",{className:"text-white font-semibold",children:["$",parseFloat(a.total_cost).toFixed(2)]})]})]})]},a.id))})]})]}),Q&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Telco API Configuration"}),(0,b.jsx)("button",{onClick:()=>R(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>T("providers"),className:`px-4 py-2 rounded-lg transition-colors ${"providers"===S?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Providers"}),(0,b.jsx)("button",{onClick:()=>T("api-keys"),className:`px-4 py-2 rounded-lg transition-colors ${"api-keys"===S?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"API Keys"}),(0,b.jsx)("button",{onClick:()=>T("webhooks"),className:`px-4 py-2 rounded-lg transition-colors ${"webhooks"===S?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Webhooks"}),(0,b.jsx)("button",{onClick:()=>T("geofences"),className:`px-4 py-2 rounded-lg transition-colors ${"geofences"===S?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Geofences"}),(0,b.jsx)("button",{onClick:()=>T("qos"),className:`px-4 py-2 rounded-lg transition-colors ${"qos"===S?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"QoS Profiles"}),(0,b.jsx)("button",{onClick:()=>T("testing"),className:`px-4 py-2 rounded-lg transition-colors ${"testing"===S?"bg-cyan-600 text-white":"text-slate-400 hover:text-white"}`,children:"Testing"})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["providers"===S&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Manage your Telco API providers and their configurations"}),(0,b.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Add Provider"})]}),g.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(I.Globe,{className:"w-8 h-8 text-cyan-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white",children:a.provider_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.provider_region})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.is_active,onChange:()=>a1(a.id,a.is_active),className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Rate Limit"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[a.rate_limit_per_second,"/sec"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Daily Limit"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[(a.rate_limit_per_day/1e3).toFixed(0),"K/day"]})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Priority"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.priority})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Fallback"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:a.failover_provider_id?"Yes":"No"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-2",children:"Supported Services"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.supported_services.map(a=>(0,b.jsx)("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-xs font-semibold",children:a.replace("_"," ").toUpperCase()},a))})]})]},a.id))]}),"api-keys"===S&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Manage API keys and authentication credentials"}),(0,b.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Generate New Key"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(aW.default,{className:"w-6 h-6 text-cyan-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Production API Key"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Use this key for production environments"})]})]}),(0,b.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white",children:"sk_live_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(B.default,{className:"w-4 h-4 text-slate-400"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(l.default,{className:"w-4 h-4 text-slate-400"})})]})]})}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Created"}),(0,b.jsx)("p",{className:"text-white",children:"Dec 15, 2024"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Last Used"}),(0,b.jsx)("p",{className:"text-white",children:"2 hours ago"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(h.Shield,{className:"w-6 h-6 text-green-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Sandbox API Key"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Use this key for testing and development"})]})]}),(0,b.jsx)("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 font-mono text-sm",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-white",children:"sk_test_â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(B.default,{className:"w-4 h-4 text-slate-400"})}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(l.default,{className:"w-4 h-4 text-slate-400"})})]})]})})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Security Best Practices"}),(0,b.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,b.jsx)("li",{children:"Never share your API keys publicly or commit them to version control"}),(0,b.jsx)("li",{children:"Rotate keys regularly and revoke unused keys immediately"}),(0,b.jsx)("li",{children:"Use environment variables to store keys in your applications"}),(0,b.jsx)("li",{children:"Monitor API key usage for suspicious activity"})]})]})]})})]}),"webhooks"===S&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Configure webhook endpoints to receive real-time notifications"}),(0,b.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Add Webhook"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aZ.default,{className:"w-6 h-6 text-cyan-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"SIM Swap Alerts"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"https://api.yourapp.com/webhooks/sim-swap"})]})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"ACTIVE"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Events"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"sim_swap.detected"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Last Triggered"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"2 hours ago"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Success Rate"}),(0,b.jsx)("p",{className:"text-green-400 font-semibold",children:"99.8%"})]})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aZ.default,{className:"w-6 h-6 text-purple-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"QoD Session Events"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"https://api.yourapp.com/webhooks/qod"})]})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"ACTIVE"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Events"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"qod.started, qod.ended"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Last Triggered"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"15 mins ago"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Success Rate"}),(0,b.jsx)("p",{className:"text-green-400 font-semibold",children:"100%"})]})]})]}),(0,b.jsx)("div",{className:"bg-orange-500/10 border border-orange-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(K.default,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-orange-400 font-semibold mb-1",children:"Webhook Requirements"}),(0,b.jsxs)("ul",{className:"text-slate-300 space-y-1 list-disc list-inside",children:[(0,b.jsx)("li",{children:"Endpoints must respond with 2xx status codes within 5 seconds"}),(0,b.jsx)("li",{children:"Failed deliveries are retried 3 times with exponential backoff"}),(0,b.jsx)("li",{children:"Verify webhook signatures to ensure authenticity"})]})]})]})})]}),"geofences"===S&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Create and manage geofences for location-based services"}),(0,b.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Create Geofence"})]}),t.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(a5.default,{className:"w-6 h-6 text-cyan-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:a.geofence_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.description})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.is_active?"bg-green-500/20 text-green-400":"bg-slate-500/20 text-slate-400"}`,children:a.is_active?"ACTIVE":"INACTIVE"}),(0,b.jsx)("button",{onClick:()=>a2(a.id),className:"p-2 hover:bg-red-600/20 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-4 h-4 text-red-400"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Center Coordinates"}),(0,b.jsxs)("p",{className:"text-white font-mono text-xs",children:[a.center_latitude?.toFixed(6),", ",a.center_longitude?.toFixed(6)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Radius"}),(0,b.jsxs)("p",{className:"text-white font-semibold",children:[(a.radius_meters/1e3).toFixed(2)," km"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Shape"}),(0,b.jsx)("p",{className:"text-white font-semibold capitalize",children:a.shape_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Created"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:new Date(a.created_at).toLocaleDateString()})]})]}),a.tags&&a.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:a.tags.map((a,c)=>(0,b.jsx)("span",{className:"px-2 py-1 bg-cyan-500/20 text-cyan-400 rounded text-xs",children:a},c))})]},a.id)),0===t.length&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center",children:[(0,b.jsx)(ad.default,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400",children:"No geofences configured yet"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Create your first geofence to start using location-based services"})]})]}),"qos"===S&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("p",{className:"text-slate-400",children:"Configure Quality of Service profiles for different use cases"}),(0,b.jsx)("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:"Create Profile"})]}),["gaming","video_streaming","voice_call","video_conference","iot","file_transfer"].map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)(cV.default,{className:"w-8 h-8 text-purple-400"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white capitalize",children:a.replace("_"," ")}),(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["Optimized QoS parameters for ",a.replace("_"," ")," applications"]})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-semibold",children:"AVAILABLE"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Target Latency"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"gaming"===a?"20ms":"video_streaming"===a?"100ms":"voice_call"===a?"50ms":"video_conference"===a?"40ms":"iot"===a?"200ms":"500ms"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Bandwidth"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"gaming"===a?"10 Mbps":"video_streaming"===a?"25 Mbps":"voice_call"===a?"1 Mbps":"video_conference"===a?"5 Mbps":"iot"===a?"0.5 Mbps":"100 Mbps"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Packet Loss"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"gaming"===a||"voice_call"===a?"<0.1%":"<1%"})]}),(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:"Jitter"}),(0,b.jsx)("p",{className:"text-white font-semibold",children:"gaming"===a||"voice_call"===a?"<5ms":"<30ms"})]})]})]},a))]}),"testing"===S&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-slate-400 mb-4",children:"Test your Telco API integrations before deploying to production"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(h.Shield,{className:"w-6 h-6 text-red-400"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test SIM Swap"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Check if a phone number has recently swapped SIM cards"}),(0,b.jsx)("button",{onClick:()=>{X("sim-swap"),V(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(a7.default,{className:"w-6 h-6 text-green-400"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Number Verification"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Verify phone number ownership without SMS"}),(0,b.jsx)("button",{onClick:()=>{X("number-verify"),V(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(ad.default,{className:"w-6 h-6 text-blue-400"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Device Location"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Retrieve GPS coordinates and geofence verification"}),(0,b.jsx)("button",{onClick:()=>{X("location"),V(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)(cV.default,{className:"w-6 h-6 text-purple-400"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Quality on Demand"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"Request guaranteed network performance"}),(0,b.jsx)("button",{onClick:()=>{X("qod"),V(!0)},className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Test Now"})]})]})]})]})]})}),U&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white",children:["Test ",W.replace("-"," ").toUpperCase()," API"]}),(0,b.jsx)("button",{onClick:()=>{V(!1),_(null),Z("")},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",value:Y,onChange:a=>Z(a.target.value),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Enter a Malaysian phone number in E.164 format"})]}),(0,b.jsx)("button",{onClick:a0,disabled:aa,className:"w-full bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:aa?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Testing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aH.Play,{className:"w-5 h-5"}),"Run Test"]})}),$&&(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-white",children:"Test Result"})]}),(0,b.jsx)("pre",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4 text-sm text-slate-300 overflow-x-auto",children:JSON.stringify($,null,2)})]})]})]})}),ac&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New SIM Swap Check"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Detect recent SIM card changes and fraud activity"})]}),(0,b.jsx)("button",{onClick:()=>{ae(!1),aD({phone_number:"",lookback_days:"7"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aC.phone_number,onChange:a=>aD({...aC,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Malaysian phone number in E.164 format"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Lookback Period (Days)"}),(0,b.jsxs)("select",{value:aC.lookback_days,onChange:a=>aD({...aC,lookback_days:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"1",children:"Last 24 hours"}),(0,b.jsx)("option",{value:"3",children:"Last 3 days"}),(0,b.jsx)("option",{value:"7",children:"Last 7 days"}),(0,b.jsx)("option",{value:"14",children:"Last 14 days"}),(0,b.jsx)("option",{value:"30",children:"Last 30 days"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"How far back to check for SIM swap activity"})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"What This API Does"}),(0,b.jsx)("p",{className:"text-slate-300",children:"Checks if the phone number has been associated with a different SIM card within the specified period. Returns fraud risk score and swap detection details."})]})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ae(!1),aD({phone_number:"",lookback_days:"7"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a3,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Checking..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Shield,{className:"w-5 h-5"}),"Run Check"]})})]})]})]})}),af&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Number Verification"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Silently verify phone number ownership without SMS"})]}),(0,b.jsx)("button",{onClick:()=>{ag(!1),aG({phone_number:"",verification_method:"network_auth"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aE.phone_number,onChange:a=>aG({...aE,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Phone number to verify"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Verification Method"}),(0,b.jsxs)("select",{value:aE.verification_method,onChange:a=>aG({...aE,verification_method:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"network_auth",children:"Network Authentication"}),(0,b.jsx)("option",{value:"sim_check",children:"SIM Card Verification"}),(0,b.jsx)("option",{value:"carrier_verify",children:"Carrier Direct Verify"}),(0,b.jsx)("option",{value:"oidc",children:"OpenID Connect"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Method used for silent verification"})]}),(0,b.jsx)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-green-400 font-semibold mb-1",children:"Zero-Friction Verification"}),(0,b.jsx)("p",{className:"text-slate-300",children:"Uses network intelligence to verify phone number ownership instantly in the background. No SMS OTP required, eliminating user friction and reducing SMS costs."})]})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ag(!1),aG({phone_number:"",verification_method:"network_auth"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a4,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a7.default,{className:"w-5 h-5"}),"Verify Number"]})})]})]})]})}),ah&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New Location Request"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Retrieve device location or verify geofence presence"})]}),(0,b.jsx)("button",{onClick:()=>{ai(!1),aJ({phone_number:"",request_type:"precise",geofence_id:""})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aI.phone_number,onChange:a=>aJ({...aI,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device phone number to locate"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Request Type"}),(0,b.jsxs)("select",{value:aI.request_type,onChange:a=>aJ({...aI,request_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"precise",children:"Precise GPS Coordinates"}),(0,b.jsx)("option",{value:"approximate",children:"Approximate Area"}),(0,b.jsx)("option",{value:"geofence",children:"Geofence Verification"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Level of location accuracy required"})]}),"geofence"===aI.request_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Geofence (Optional)"}),(0,b.jsxs)("select",{value:aI.geofence_id,onChange:a=>aJ({...aI,geofence_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"",children:"Select a geofence..."}),t.filter(a=>a.is_active).map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.geofence_name," - ",(a.radius_meters/1e3).toFixed(1),"km radius"]},a.id))]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Check if device is within this geofence"})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(ad.default,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Privacy & Consent"}),(0,b.jsx)("p",{className:"text-slate-300",children:"Location requests require user consent in accordance with privacy regulations. Precise coordinates provide meter-level accuracy for fraud prevention and delivery verification."})]})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ai(!1),aJ({phone_number:"",request_type:"precise",geofence_id:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a6,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Requesting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cX.default,{className:"w-5 h-5"}),"Request Location"]})})]})]})]})}),aj&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"New QoD Session"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Request guaranteed network performance"})]}),(0,b.jsx)("button",{onClick:()=>{ak(!1),aM({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aK.phone_number,onChange:a=>aM({...aK,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device requiring guaranteed QoS"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"QoS Profile"}),(0,b.jsxs)("select",{value:aK.qos_profile,onChange:a=>{let b=a.target.value,c="50",d="100";"gaming"===b?(c="20",d="10"):"video_streaming"===b?(c="100",d="25"):"voice_call"===b?(c="50",d="1"):"video_conference"===b?(c="40",d="5"):"iot"===b?(c="200",d="0.5"):"file_transfer"===b&&(c="500",d="100"),aM({...aK,qos_profile:b,target_latency_ms:c,target_bandwidth_mbps:d})},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"gaming",children:"Gaming (Low Latency)"}),(0,b.jsx)("option",{value:"video_streaming",children:"Video Streaming"}),(0,b.jsx)("option",{value:"voice_call",children:"Voice Call"}),(0,b.jsx)("option",{value:"video_conference",children:"Video Conference"}),(0,b.jsx)("option",{value:"iot",children:"IoT / M2M"}),(0,b.jsx)("option",{value:"file_transfer",children:"File Transfer"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Pre-configured QoS profile for your use case"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Target Latency (ms)"}),(0,b.jsx)("input",{type:"number",value:aK.target_latency_ms,onChange:a=>aM({...aK,target_latency_ms:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Target Bandwidth (Mbps)"}),(0,b.jsx)("input",{type:"number",value:aK.target_bandwidth_mbps,onChange:a=>aM({...aK,target_bandwidth_mbps:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Session Duration (minutes)"}),(0,b.jsxs)("select",{value:aK.session_duration_minutes,onChange:a=>aM({...aK,session_duration_minutes:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"15",children:"15 minutes"}),(0,b.jsx)("option",{value:"30",children:"30 minutes"}),(0,b.jsx)("option",{value:"60",children:"1 hour"}),(0,b.jsx)("option",{value:"120",children:"2 hours"}),(0,b.jsx)("option",{value:"240",children:"4 hours"}),(0,b.jsx)("option",{value:"480",children:"8 hours"})]}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"How long to maintain guaranteed QoS"})]}),(0,b.jsx)("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(cV.default,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-purple-400 font-semibold mb-1",children:"Network Performance Guarantee"}),(0,b.jsx)("p",{className:"text-slate-300",children:"QoD reserves dedicated network resources to ensure stable latency and bandwidth for critical applications. Sessions are monitored in real-time with automatic adjustments to maintain QoS guarantees."})]})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ak(!1),aM({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a8,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aR.default,{className:"w-5 h-5"}),"Create Session"]})})]})]})]})}),al&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Device for Tracking"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Register a new device for location tracking and monitoring"})]}),(0,b.jsx)("button",{onClick:()=>{am(!1),aO({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Name *"}),(0,b.jsx)("input",{type:"text",value:aN.device_name,onChange:a=>aO({...aN,device_name:a.target.value}),placeholder:"CEO iPhone",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Friendly name for this device"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aN.phone_number,onChange:a=>aO({...aN,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Device phone number"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Type"}),(0,b.jsxs)("select",{value:aN.device_type,onChange:a=>aO({...aN,device_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"iOS",children:"iOS"}),(0,b.jsx)("option",{value:"Android",children:"Android"}),(0,b.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"OS Version"}),(0,b.jsx)("input",{type:"text",value:aN.os_version,onChange:a=>aO({...aN,os_version:a.target.value}),placeholder:"17.2",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Device Model"}),(0,b.jsx)("input",{type:"text",value:aN.device_model,onChange:a=>aO({...aN,device_model:a.target.value}),placeholder:"iPhone 15 Pro",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"IMEI"}),(0,b.jsx)("input",{type:"text",value:aN.imei,onChange:a=>aO({...aN,imei:a.target.value}),placeholder:"356789012345678",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"International Mobile Equipment Identity"})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tracking Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Precision Level"}),(0,b.jsxs)("select",{value:aN.precision_level,onChange:a=>aO({...aN,precision_level:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"coarse",children:"Coarse (City level)"}),(0,b.jsx)("option",{value:"approximate",children:"Approximate (100m accuracy)"}),(0,b.jsx)("option",{value:"precise",children:"Precise (GPS accuracy)"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Update Frequency"}),(0,b.jsxs)("select",{value:aN.update_frequency_minutes,onChange:a=>aO({...aN,update_frequency_minutes:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"5",children:"Every 5 minutes"}),(0,b.jsx)("option",{value:"15",children:"Every 15 minutes"}),(0,b.jsx)("option",{value:"30",children:"Every 30 minutes"}),(0,b.jsx)("option",{value:"60",children:"Every hour"}),(0,b.jsx)("option",{value:"120",children:"Every 2 hours"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3 mt-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aN.tracking_enabled,onChange:a=>aO({...aN,tracking_enabled:a.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Enable Tracking"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Start tracking this device immediately"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aN.location_consent,onChange:a=>aO({...aN,location_consent:a.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Location Consent"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"User has provided consent for location tracking"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aN.battery_optimization,onChange:a=>aO({...aN,battery_optimization:a.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Battery Optimization"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Optimize tracking for battery life"})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Alert Settings"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aN.alert_on_movement,onChange:a=>aO({...aN,alert_on_movement:a.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Alert on Movement"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Get notified when device moves"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aN.alert_on_geofence_enter,onChange:a=>aO({...aN,alert_on_geofence_enter:a.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Alert on Geofence Entry"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Notify when device enters a geofenced area"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:aN.alert_on_geofence_exit,onChange:a=>aO({...aN,alert_on_geofence_exit:a.target.checked}),className:"w-5 h-5 rounded bg-slate-800 border-slate-700 text-cyan-600 focus:ring-cyan-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-white font-medium",children:"Alert on Geofence Exit"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:"Notify when device exits a geofenced area"})]})]})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Tags"}),(0,b.jsx)("input",{type:"text",value:aN.tags,onChange:a=>aO({...aN,tags:a.target.value}),placeholder:"executive, high-priority, fleet",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Comma-separated tags for organization"})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Notes"}),(0,b.jsx)("textarea",{value:aN.notes,onChange:a=>aO({...aN,notes:a.target.value}),placeholder:"Additional information about this device...",rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500 resize-none"})]})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-blue-400 font-semibold mb-1",children:"Privacy & Compliance"}),(0,b.jsx)("p",{className:"text-slate-300",children:"Ensure you have proper consent from device owners before enabling tracking. All location data is encrypted and stored securely in compliance with privacy regulations."})]})]})}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{am(!1),aO({device_name:"",phone_number:"",device_type:"Android",os_version:"",device_model:"",imei:"",tracking_enabled:!0,location_consent:!0,precision_level:"approximate",update_frequency_minutes:"60",battery_optimization:!0,tags:"",notes:"",alert_on_movement:!1,alert_on_geofence_exit:!1,alert_on_geofence_enter:!1})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:a9,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Adding Device..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a7.default,{className:"w-5 h-5"}),"Add Device"]})})]})]})]})}),ap&&aA&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit SIM Swap Check"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update SIM swap check details"})]}),(0,b.jsx)("button",{onClick:()=>{aq(!1),aB(null),aD({phone_number:"",lookback_days:"7"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aC.phone_number,onChange:a=>aD({...aC,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{aq(!1),aB(null),aD({phone_number:"",lookback_days:"7"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:bf,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cj.default,{className:"w-5 h-5"}),"Update Check"]})})]})]})]})}),as&&aA&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Number Verification"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update verification request details"})]}),(0,b.jsx)("button",{onClick:()=>{at(!1),aB(null),aG({phone_number:"",verification_method:"network_auth"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aE.phone_number,onChange:a=>aG({...aE,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Verification Method"}),(0,b.jsxs)("select",{value:aE.verification_method,onChange:a=>aG({...aE,verification_method:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"network_auth",children:"Network Authentication"}),(0,b.jsx)("option",{value:"sms_verify",children:"SMS Verification"}),(0,b.jsx)("option",{value:"voice_verify",children:"Voice Verification"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{at(!1),aB(null),aG({phone_number:"",verification_method:"network_auth"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:bg,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cj.default,{className:"w-5 h-5"}),"Update Request"]})})]})]})]})}),au&&aA&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit Location Request"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update location verification details"})]}),(0,b.jsx)("button",{onClick:()=>{av(!1),aB(null),aJ({phone_number:"",request_type:"precise",geofence_id:""})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aI.phone_number,onChange:a=>aJ({...aI,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Request Type"}),(0,b.jsxs)("select",{value:aI.request_type,onChange:a=>aJ({...aI,request_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"precise",children:"Precise Location"}),(0,b.jsx)("option",{value:"approximate",children:"Approximate Location"}),(0,b.jsx)("option",{value:"geofence_check",children:"Geofence Check"})]})]}),"geofence_check"===aI.request_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Geofence"}),(0,b.jsxs)("select",{value:aI.geofence_id,onChange:a=>aJ({...aI,geofence_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"",children:"Select geofence"}),t.map(a=>(0,b.jsx)("option",{value:a.id,children:a.geofence_name},a.id))]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{av(!1),aB(null),aJ({phone_number:"",request_type:"precise",geofence_id:""})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:bh,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cj.default,{className:"w-5 h-5"}),"Update Request"]})})]})]})]})}),aw&&aA&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-2xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-slate-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Edit QoD Session"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"Update quality on demand session"})]}),(0,b.jsx)("button",{onClick:()=>{ax(!1),aB(null),aM({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Phone Number *"}),(0,b.jsx)("input",{type:"tel",value:aK.phone_number,onChange:a=>aM({...aK,phone_number:a.target.value}),placeholder:"+60123456789",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"QoS Profile"}),(0,b.jsxs)("select",{value:aK.qos_profile,onChange:a=>aM({...aK,qos_profile:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"gaming",children:"Gaming (Low latency)"}),(0,b.jsx)("option",{value:"streaming",children:"Video Streaming"}),(0,b.jsx)("option",{value:"voip",children:"VoIP Calling"}),(0,b.jsx)("option",{value:"iot",children:"IoT Priority"}),(0,b.jsx)("option",{value:"enterprise",children:"Enterprise"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Duration (min)"}),(0,b.jsx)("input",{type:"number",value:aK.session_duration_minutes,onChange:a=>aM({...aK,session_duration_minutes:a.target.value}),min:"1",max:"480",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Latency (ms)"}),(0,b.jsx)("input",{type:"number",value:aK.target_latency_ms,onChange:a=>aM({...aK,target_latency_ms:a.target.value}),min:"10",max:"500",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-white font-medium mb-2",children:"Bandwidth (Mbps)"}),(0,b.jsx)("input",{type:"number",value:aK.target_bandwidth_mbps,onChange:a=>aM({...aK,target_bandwidth_mbps:a.target.value}),min:"1",max:"1000",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-cyan-500"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{ax(!1),aB(null),aM({phone_number:"",qos_profile:"gaming",session_duration_minutes:"60",target_latency_ms:"50",target_bandwidth_mbps:"100"})},className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-4 py-3 rounded-lg transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:bi,disabled:an,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:an?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.default,{className:"w-5 h-5 animate-spin"}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(cj.default,{className:"w-5 h-5"}),"Update Session"]})})]})]})]})})]})}var y=y,aP=aP,u=u,cj=cj,p=p,bU=bU,aM=aM,s=s,l=l,E=E,z=z,m=m,cZ=a.i(16686),c$=a.i(85886),c$=c$,e=e,O=O,B=B;function c_(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,o]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[t,x]=(0,c.useState)(null),[A,C]=(0,c.useState)("all"),[D,F]=(0,c.useState)(""),[G,I]=(0,c.useState)(null),[J,K]=(0,c.useState)({name:"",description:"",budget:"",videoFormat:"short",duetEnabled:!1,stitchEnabled:!1,shopEnabled:!1,creatorMarketplace:!1,sparkAdsEnabled:!1});(0,c.useEffect)(()=>{a&&L()},[a]),(0,c.useEffect)(()=>{if(G){let a=setTimeout(()=>I(null),5e3);return()=>clearTimeout(a)}},[G]);let L=async()=>{try{let{data:a,error:b}=await n.db.from("campaigns").select("*").eq("channel_type","tiktok").order("created_at",{ascending:!1});if(b)throw b;let{data:c,error:d}=await n.db.from("tiktok_campaigns").select("*").order("created_at",{ascending:!1});if(d)throw d;let e=(a||[]).map(a=>{let b=(c||[]).find(b=>b.campaign_id===a.id);return{...a,tiktok_details:b}});f(e),h(c||[])}catch(a){console.error("Error loading campaigns:",a),I({type:"error",message:"Failed to load campaigns"})}finally{j(!1)}},M=async(a,b)=>{try{let c={status:b};if("running"===b){let b=d.find(b=>b.id===a);b?.started_at||(c.started_at=new Date().toISOString())}"completed"===b&&(c.completed_at=new Date().toISOString());let{error:e}=await n.db.from("campaigns").update(c).eq("id",a);if(e)throw e;I({type:"success",message:`Campaign ${"running"===b?"started":b} successfully`}),await L()}catch(a){console.error("Error updating campaign:",a),I({type:"error",message:"Failed to update campaign status"})}},N=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("campaigns").delete().eq("id",a);if(b)throw b;I({type:"success",message:"Campaign deleted successfully"}),await L()}catch(a){console.error("Error deleting campaign:",a),I({type:"error",message:"Failed to delete campaign"})}},P=async()=>{if(!J.name.trim())return void I({type:"error",message:"Campaign name is required"});try{let{data:a,error:b}=await n.db.from("campaigns").insert({name:J.name,description:J.description,channel_type:"tiktok",status:"draft",metadata:{budget:J.budget}}).select().single();if(b)throw b;let{error:c}=await n.db.from("tiktok_campaigns").insert({campaign_id:a.id,campaign_name:J.name,video_format:J.videoFormat,duet_enabled:J.duetEnabled,stitch_enabled:J.stitchEnabled,shop_enabled:J.shopEnabled,creator_marketplace:J.creatorMarketplace,spark_ads_enabled:J.sparkAdsEnabled,total_budget:parseFloat(J.budget)||0,status:"draft"});if(c)throw c;I({type:"success",message:"Campaign created successfully"}),o(!1),K({name:"",description:"",budget:"",videoFormat:"short",duetEnabled:!1,stitchEnabled:!1,shopEnabled:!1,creatorMarketplace:!1,sparkAdsEnabled:!1}),await L()}catch(a){console.error("Error creating campaign:",a),I({type:"error",message:"Failed to create campaign"})}},Q=d.filter(a=>{let b="all"===A||a.status===A,c=a.name?.toLowerCase().includes(D.toLowerCase());return b&&c}),R=d.reduce((a,b)=>a+(b.messages_sent||0),0),S=d.reduce((a,b)=>a+(b.messages_delivered||0),0),T=d.reduce((a,b)=>a+(parseFloat(b.tiktok_details?.total_budget)||0),0),U=d.filter(a=>"running"===a.status).length,V=R>0?(S/R*100).toFixed(1):0,W=g.reduce((a,b)=>a+(b.total_views||0),0);return(g.reduce((a,b)=>a+(b.total_likes||0),0),g.reduce((a,b)=>a+(b.total_shares||0),0),i)?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(E.default,{className:"w-8 h-8 text-cyan-400 animate-spin"}),(0,b.jsx)("div",{className:"text-slate-400",children:"Loading TikTok Campaigns..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 overflow-y-auto",children:[G&&(0,b.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===G.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===G.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(z.default,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:G.message})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(cZ.Music,{className:"w-10 h-10 text-cyan-400"}),"TikTok"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your TikTok campaigns"})]}),(0,b.jsxs)("button",{onClick:()=>{x(null),o(!0)},className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/25",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-cyan-400"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("span",{className:"text-green-400 text-sm font-semibold",children:[V,"%"]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[V,"%"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"+2.3% from last week"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(e.default,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:U}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Currently running"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-blue-500/50 transition-all",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(O.default,{className:"w-6 h-6 text-blue-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",T.toFixed(2)]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"This month"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(B.default,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsx)(m.default,{className:"w-5 h-5 text-cyan-400 animate-pulse"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:W.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Views"})]})]}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:D,onChange:a=>F(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bU.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsxs)("select",{value:A,onChange:a=>C(a.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"running",children:"Running"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,b.jsxs)("button",{className:"bg-slate-900/50 border border-slate-700 hover:bg-slate-800 text-white px-4 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(l.default,{className:"w-5 h-5"}),"Export"]})]})]})}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===Q.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,b.jsx)(cZ.Music,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No TikTok campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first TikTok campaign to get started"})]})}):Q.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(c$.default,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.description||"No description"})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-right text-white",children:(a.messages_sent||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(a.messages_delivered||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-red-400",children:(a.messages_failed||0).toLocaleString()}),(0,b.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(a.tiktok_details?.total_budget)||0).toFixed(2)]}),(0,b.jsx)("td",{className:"p-4 text-slate-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===a.status?(0,b.jsx)("button",{onClick:()=>M(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}):"paused"===a.status||"draft"===a.status?(0,b.jsx)("button",{onClick:()=>M(a.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}):null,(0,b.jsx)("button",{onClick:()=>{x(a),r(!0)},className:"p-2 hover:bg-purple-500/20 text-purple-400 rounded-lg transition-colors",title:"Analytics",children:(0,b.jsx)(aJ.BarChart3,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{x(a),o(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>N(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(cZ.Music,{className:"w-7 h-7 text-cyan-400"}),t?"Edit Campaign":"Create TikTok Campaign"]}),(0,b.jsx)("button",{onClick:()=>{o(!1),x(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:J.name,onChange:a=>K({...J,name:a.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:J.description,onChange:a=>K({...J,description:a.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,b.jsx)("input",{type:"number",value:J.budget,onChange:a=>K({...J,budget:a.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Video Format"}),(0,b.jsxs)("select",{value:J.videoFormat,onChange:a=>K({...J,videoFormat:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500 transition-colors",children:[(0,b.jsx)("option",{value:"short",children:"Short (15-60 seconds)"}),(0,b.jsx)("option",{value:"long",children:"Long (1-3 minutes)"}),(0,b.jsx)("option",{value:"live",children:"Live Video"})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"TikTok Features"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.duetEnabled,onChange:a=>K({...J,duetEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Enable Duet"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.stitchEnabled,onChange:a=>K({...J,stitchEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Enable Stitch"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.shopEnabled,onChange:a=>K({...J,shopEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"TikTok Shop Integration"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.creatorMarketplace,onChange:a=>K({...J,creatorMarketplace:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Creator Marketplace"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.sparkAdsEnabled,onChange:a=>K({...J,sparkAdsEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-cyan-500 focus:ring-cyan-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Spark Ads Enabled"})]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,b.jsx)("button",{onClick:()=>{o(!1),x(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:P,className:"px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),t?"Update Campaign":"Create Campaign"]})]})]})})]})}var y=y,aP=aP,u=u,cj=cj,p=p,bU=bU,aM=aM,s=s,l=l,E=E,z=z,m=m,bd=bd,c0=a.i(49625),c0=c0,e=e,O=O,B=B;function c1(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,o]=(0,c.useState)(!1),[q,r]=(0,c.useState)(!1),[t,x]=(0,c.useState)(null),[A,C]=(0,c.useState)("all"),[D,F]=(0,c.useState)(""),[G,I]=(0,c.useState)(null),[J,K]=(0,c.useState)({name:"",description:"",budget:"",shoppingEnabled:!1,carouselPosts:!0,guidesEnabled:!1,influencerCollaboration:!1,brandedContentAds:!1});(0,c.useEffect)(()=>{a&&L()},[a]),(0,c.useEffect)(()=>{if(G){let a=setTimeout(()=>I(null),5e3);return()=>clearTimeout(a)}},[G]);let L=async()=>{try{let{data:a,error:b}=await n.db.from("campaigns").select("*").eq("channel_type","instagram").order("created_at",{ascending:!1});if(b)throw b;let{data:c,error:d}=await n.db.from("instagram_campaigns").select("*").order("created_at",{ascending:!1});if(d)throw d;let e=(a||[]).map(a=>{let b=(c||[]).find(b=>b.campaign_id===a.id);return{...a,instagram_details:b}});f(e),h(c||[])}catch(a){console.error("Error loading campaigns:",a),I({type:"error",message:"Failed to load campaigns"})}finally{j(!1)}},M=async(a,b)=>{try{let c={status:b};if("running"===b){let b=d.find(b=>b.id===a);b?.started_at||(c.started_at=new Date().toISOString())}"completed"===b&&(c.completed_at=new Date().toISOString());let{error:e}=await n.db.from("campaigns").update(c).eq("id",a);if(e)throw e;I({type:"success",message:`Campaign ${"running"===b?"started":b} successfully`}),await L()}catch(a){console.error("Error updating campaign:",a),I({type:"error",message:"Failed to update campaign status"})}},N=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("campaigns").delete().eq("id",a);if(b)throw b;I({type:"success",message:"Campaign deleted successfully"}),await L()}catch(a){console.error("Error deleting campaign:",a),I({type:"error",message:"Failed to delete campaign"})}},P=async()=>{if(!J.name.trim())return void I({type:"error",message:"Campaign name is required"});try{let{data:a,error:b}=await n.db.from("campaigns").insert({name:J.name,description:J.description,channel_type:"instagram",status:"draft",metadata:{budget:J.budget}}).select().single();if(b)throw b;let{error:c}=await n.db.from("instagram_campaigns").insert({campaign_id:a.id,campaign_name:J.name,shopping_enabled:J.shoppingEnabled,carousel_posts:J.carouselPosts,guides_enabled:J.guidesEnabled,influencer_collaboration:J.influencerCollaboration,branded_content_ads:J.brandedContentAds,total_budget:parseFloat(J.budget)||0,status:"draft"});if(c)throw c;I({type:"success",message:"Campaign created successfully"}),o(!1),K({name:"",description:"",budget:"",shoppingEnabled:!1,carouselPosts:!0,guidesEnabled:!1,influencerCollaboration:!1,brandedContentAds:!1}),await L()}catch(a){console.error("Error creating campaign:",a),I({type:"error",message:"Failed to create campaign"})}},Q=d.filter(a=>{let b="all"===A||a.status===A,c=a.name?.toLowerCase().includes(D.toLowerCase());return b&&c}),R=d.reduce((a,b)=>a+(b.messages_sent||0),0),S=d.reduce((a,b)=>a+(b.messages_delivered||0),0),T=d.reduce((a,b)=>a+(parseFloat(b.instagram_details?.total_budget)||0),0),U=d.filter(a=>"running"===a.status).length,V=R>0?(S/R*100).toFixed(1):0,W=g.reduce((a,b)=>a+(b.total_impressions||0),0);return(g.reduce((a,b)=>a+(b.total_reach||0),0),g.reduce((a,b)=>a+(b.total_likes||0),0),i)?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(E.default,{className:"w-8 h-8 text-pink-400 animate-spin"}),(0,b.jsx)("div",{className:"text-slate-400",children:"Loading Instagram Campaigns..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 overflow-y-auto",children:[G&&(0,b.jsxs)("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg border ${"success"===G.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"} flex items-center gap-3 animate-slide-in`,children:["success"===G.type?(0,b.jsx)(v.CheckCircle,{className:"w-5 h-5"}):(0,b.jsx)(z.default,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:G.message})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(bd.default,{className:"w-10 h-10 text-pink-400"}),"Instagram"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your Instagram campaigns"})]}),(0,b.jsxs)("button",{onClick:()=>{x(null),o(!0)},className:"bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-pink-500/25",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-pink-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-pink-500/20 rounded-lg",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-pink-400"})}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-pink-400"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:R.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-green-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("span",{className:"text-green-400 text-sm font-semibold",children:[V,"%"]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[V,"%"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"+2.3% from last week"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(e.default,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:U}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Currently running"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-blue-500/50 transition-all",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(O.default,{className:"w-6 h-6 text-blue-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",T.toFixed(2)]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"This month"})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-pink-500/10 to-orange-500/10 border border-pink-500/30 rounded-xl p-6 hover:border-pink-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-pink-500/20 rounded-lg",children:(0,b.jsx)(B.default,{className:"w-6 h-6 text-pink-400"})}),(0,b.jsx)(m.default,{className:"w-5 h-5 text-pink-400 animate-pulse"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:W.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Impressions"})]})]}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:D,onChange:a=>F(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bU.default,{className:"w-5 h-5 text-slate-400"}),(0,b.jsxs)("select",{value:A,onChange:a=>C(a.target.value),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"running",children:"Running"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,b.jsxs)("button",{className:"bg-slate-900/50 border border-slate-700 hover:bg-slate-800 text-white px-4 py-3 rounded-lg flex items-center gap-2 transition-colors",children:[(0,b.jsx)(l.default,{className:"w-5 h-5"}),"Export"]})]})]})}),(0,b.jsx)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===Q.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,b.jsx)(bd.default,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No Instagram campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Instagram campaign to get started"})]})}):Q.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-pink-500/20 rounded-lg",children:(0,b.jsx)(c0.default,{className:"w-5 h-5 text-pink-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.description||"No description"})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border-red-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-right text-white",children:(a.messages_sent||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(a.messages_delivered||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-red-400",children:(a.messages_failed||0).toLocaleString()}),(0,b.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(a.instagram_details?.total_budget)||0).toFixed(2)]}),(0,b.jsx)("td",{className:"p-4 text-slate-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===a.status?(0,b.jsx)("button",{onClick:()=>M(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}):"paused"===a.status||"draft"===a.status?(0,b.jsx)("button",{onClick:()=>M(a.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}):null,(0,b.jsx)("button",{onClick:()=>{x(a),r(!0)},className:"p-2 hover:bg-purple-500/20 text-purple-400 rounded-lg transition-colors",title:"Analytics",children:(0,b.jsx)(aJ.BarChart3,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{x(a),o(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>N(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(bd.default,{className:"w-7 h-7 text-pink-400"}),t?"Edit Campaign":"Create Instagram Campaign"]}),(0,b.jsx)("button",{onClick:()=>{o(!1),x(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:J.name,onChange:a=>K({...J,name:a.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:J.description,onChange:a=>K({...J,description:a.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,b.jsx)("input",{type:"number",value:J.budget,onChange:a=>K({...J,budget:a.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-pink-500 transition-colors"})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Instagram Features"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.shoppingEnabled,onChange:a=>K({...J,shoppingEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Shopping Tags"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.carouselPosts,onChange:a=>K({...J,carouselPosts:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Carousel Posts"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.guidesEnabled,onChange:a=>K({...J,guidesEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Guides"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.influencerCollaboration,onChange:a=>K({...J,influencerCollaboration:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Influencer Collaboration"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:J.brandedContentAds,onChange:a=>K({...J,brandedContentAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-pink-500 focus:ring-pink-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Branded Content"})]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,b.jsx)("button",{onClick:()=>{o(!1),x(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:P,className:"px-6 py-3 bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-700 hover:to-orange-700 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),t?"Update Campaign":"Create Campaign"]})]})]})})]})}var y=y,aP=aP,u=u,cj=cj,p=p,s=s,e=e,a5=a5,B=B,c2=a.i(33156),c2=c2;function c3(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(null),[q,r]=(0,c.useState)("all"),[t,v]=(0,c.useState)(""),[x,z]=(0,c.useState)(null),[A,C]=(0,c.useState)({name:"",description:"",budget:"",objective:"engagement",boostedPosts:!1,carouselAds:!0,messengerAds:!1,marketplaceAds:!1});(0,c.useEffect)(()=>{a&&D()},[a]),(0,c.useEffect)(()=>{if(x){let a=setTimeout(()=>z(null),5e3);return()=>clearTimeout(a)}},[x]);let D=async()=>{try{let{data:a,error:b}=await n.db.from("campaigns").select("*").eq("channel_type","facebook").order("created_at",{ascending:!1});if(b)throw b;let{data:c,error:d}=await n.db.from("facebook_campaigns").select("*").order("created_at",{ascending:!1});if(d)throw d;let e=(a||[]).map(a=>{let b=(c||[]).find(b=>b.campaign_id===a.id);return{...a,facebook_details:b}});f(e),h(c||[])}catch(a){console.error("Error loading campaigns:",a),z({type:"error",message:"Failed to load campaigns"})}finally{j(!1)}},E=async(a,b)=>{try{let c={status:b};if("running"===b){let b=d.find(b=>b.id===a);b?.started_at||(c.started_at=new Date().toISOString())}"completed"===b&&(c.completed_at=new Date().toISOString());let{error:e}=await n.db.from("campaigns").update(c).eq("id",a);if(e)throw e;z({type:"success",message:`Campaign ${"running"===b?"started":b} successfully`}),await D()}catch(a){console.error("Error updating campaign:",a),z({type:"error",message:"Failed to update campaign status"})}},F=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("campaigns").delete().eq("id",a);if(b)throw b;z({type:"success",message:"Campaign deleted successfully"}),await D()}catch(a){console.error("Error deleting campaign:",a),z({type:"error",message:"Failed to delete campaign"})}},G=async()=>{if(!A.name.trim())return void z({type:"error",message:"Campaign name is required"});try{let{data:a,error:b}=await n.db.from("campaigns").insert({name:A.name,description:A.description,channel_type:"facebook",status:"draft"}).select().single();if(b)throw b;let{error:c}=await n.db.from("facebook_campaigns").insert({campaign_id:a.id,campaign_name:A.name,objective:A.objective,boosted_posts:A.boostedPosts,carousel_ads:A.carouselAds,messenger_ads:A.messengerAds,marketplace_ads:A.marketplaceAds,lifetime_budget:parseFloat(A.budget)||0,status:"draft"});if(c)throw c;z({type:"success",message:"Campaign created successfully"}),l(!1),C({name:"",description:"",budget:"",objective:"engagement",boostedPosts:!1,carouselAds:!0,messengerAds:!1,marketplaceAds:!1}),await D()}catch(a){console.error("Error creating campaign:",a),z({type:"error",message:"Failed to create campaign"})}},I=d.filter(a=>{let b="all"===q||a.status===q,c=a.name?.toLowerCase().includes(t.toLowerCase());return b&&c}),J=d.reduce((a,b)=>a+(b.messages_sent||0),0),K=d.reduce((a,b)=>a+(b.messages_delivered||0),0),L=d.reduce((a,b)=>a+(parseFloat(b.facebook_details?.lifetime_budget)||0),0),M=d.filter(a=>"running"===a.status).length,N=J>0?(K/J*100).toFixed(1):0,O=g.reduce((a,b)=>a+(b.total_reach||0),0);return(g.reduce((a,b)=>a+(b.total_engagement||0),0),i)?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[x&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===x.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:x.message}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(bn.Facebook,{className:"w-10 h-10 text-blue-500"}),"Facebook"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your Facebook campaigns"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(a5.default,{className:"w-6 h-6 text-blue-400"})}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-blue-400"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:J.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(e.default,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Number(N)>=95?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:[N,"%"]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[N,"%"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(aJ.BarChart3,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:M}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(B.default,{className:"w-6 h-6 text-cyan-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(O/1e6).toFixed(1),"M"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Reach"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,b.jsx)(c2.default,{className:"w-6 h-6 text-orange-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",L.toFixed(2)]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaigns"}),(0,b.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:t,onChange:a=>v(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500 transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"running",children:"Running"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===I.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,b.jsx)(bn.Facebook,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No Facebook campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Facebook campaign to get started"})]})}):I.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(bn.Facebook,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.description||"No description"})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-right text-white",children:(a.messages_sent||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(a.messages_delivered||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-red-400",children:(a.messages_failed||0).toLocaleString()}),(0,b.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(a.facebook_details?.lifetime_budget)||0).toFixed(2)]}),(0,b.jsx)("td",{className:"p-4 text-slate-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===a.status?(0,b.jsx)("button",{onClick:()=>E(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}):"paused"===a.status||"draft"===a.status?(0,b.jsx)("button",{onClick:()=>E(a.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}):null,(0,b.jsx)("button",{onClick:()=>{o(a),l(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>F(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(bn.Facebook,{className:"w-7 h-7 text-blue-500"}),m?"Edit Campaign":"Create Facebook Campaign"]}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:A.name,onChange:a=>C({...A,name:a.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:A.description,onChange:a=>C({...A,description:a.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Lifetime Budget (RM)"}),(0,b.jsx)("input",{type:"number",value:A.budget,onChange:a=>C({...A,budget:a.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Objective"}),(0,b.jsxs)("select",{value:A.objective,onChange:a=>C({...A,objective:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",children:[(0,b.jsx)("option",{value:"engagement",children:"Engagement"}),(0,b.jsx)("option",{value:"brand_awareness",children:"Brand Awareness"}),(0,b.jsx)("option",{value:"reach",children:"Reach"}),(0,b.jsx)("option",{value:"traffic",children:"Traffic"}),(0,b.jsx)("option",{value:"conversions",children:"Conversions"}),(0,b.jsx)("option",{value:"lead_generation",children:"Lead Generation"})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Facebook Features"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.boostedPosts,onChange:a=>C({...A,boostedPosts:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Boosted Posts"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.carouselAds,onChange:a=>C({...A,carouselAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Carousel Ads"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.messengerAds,onChange:a=>C({...A,messengerAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Messenger Ads"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.marketplaceAds,onChange:a=>C({...A,marketplaceAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Marketplace Ads"})]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),m?"Update Campaign":"Create Campaign"]})]})]})})]})}var y=y,aP=aP,u=u,cj=cj,p=p,s=s,B=B,e=e;function c4(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(null),[q,r]=(0,c.useState)("all"),[t,v]=(0,c.useState)(""),[x,z]=(0,c.useState)(null),[A,C]=(0,c.useState)({name:"",description:"",budget:"",contentStrategy:"long_form",premiereEnabled:!1,shortsEnabled:!0,liveStreaming:!1,monetizationEnabled:!1});(0,c.useEffect)(()=>{a&&D()},[a]),(0,c.useEffect)(()=>{if(x){let a=setTimeout(()=>z(null),5e3);return()=>clearTimeout(a)}},[x]);let D=async()=>{try{let{data:a,error:b}=await n.db.from("campaigns").select("*").eq("channel_type","youtube").order("created_at",{ascending:!1});if(b)throw b;let{data:c,error:d}=await n.db.from("youtube_campaigns").select("*").order("created_at",{ascending:!1});if(d)throw d;let e=(a||[]).map(a=>{let b=(c||[]).find(b=>b.campaign_id===a.id);return{...a,youtube_details:b}});f(e),h(c||[])}catch(a){console.error("Error loading campaigns:",a),z({type:"error",message:"Failed to load campaigns"})}finally{j(!1)}},E=async(a,b)=>{try{let c={status:b};if("running"===b){let b=d.find(b=>b.id===a);b?.started_at||(c.started_at=new Date().toISOString())}"completed"===b&&(c.completed_at=new Date().toISOString());let{error:e}=await n.db.from("campaigns").update(c).eq("id",a);if(e)throw e;z({type:"success",message:`Campaign ${"running"===b?"started":b} successfully`}),await D()}catch(a){console.error("Error updating campaign:",a),z({type:"error",message:"Failed to update campaign status"})}},F=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("campaigns").delete().eq("id",a);if(b)throw b;z({type:"success",message:"Campaign deleted successfully"}),await D()}catch(a){console.error("Error deleting campaign:",a),z({type:"error",message:"Failed to delete campaign"})}},G=async()=>{if(!A.name.trim())return void z({type:"error",message:"Campaign name is required"});try{let{data:a,error:b}=await n.db.from("campaigns").insert({name:A.name,description:A.description,channel_type:"youtube",status:"draft"}).select().single();if(b)throw b;let{error:c}=await n.db.from("youtube_campaigns").insert({campaign_id:a.id,campaign_name:A.name,content_strategy:A.contentStrategy,premiere_enabled:A.premiereEnabled,shorts_enabled:A.shortsEnabled,live_streaming:A.liveStreaming,monetization_enabled:A.monetizationEnabled,total_budget:parseFloat(A.budget)||0,status:"draft"});if(c)throw c;z({type:"success",message:"Campaign created successfully"}),l(!1),C({name:"",description:"",budget:"",contentStrategy:"long_form",premiereEnabled:!1,shortsEnabled:!0,liveStreaming:!1,monetizationEnabled:!1}),await D()}catch(a){console.error("Error creating campaign:",a),z({type:"error",message:"Failed to create campaign"})}},I=d.filter(a=>{let b="all"===q||a.status===q,c=a.name?.toLowerCase().includes(t.toLowerCase());return b&&c}),J=d.reduce((a,b)=>a+(b.messages_sent||0),0),K=d.reduce((a,b)=>a+(b.messages_delivered||0),0),L=d.reduce((a,b)=>a+(parseFloat(b.youtube_details?.total_budget)||0),0),M=d.filter(a=>"running"===a.status).length,N=J>0?(K/J*100).toFixed(1):0,O=g.reduce((a,b)=>a+(b.total_views||0),0);return(g.reduce((a,b)=>a+(b.total_subscribers_gained||0),0),i)?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[x&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===x.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:x.message}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(bl.Youtube,{className:"w-10 h-10 text-red-500"}),"YouTube"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your YouTube campaigns"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-red-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,b.jsx)(ap.Video,{className:"w-6 h-6 text-red-400"})}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-red-400"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:J.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(B.default,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Number(N)>=95?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:[N,"%"]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[N,"%"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(aJ.BarChart3,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:M}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(B.default,{className:"w-6 h-6 text-cyan-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[(O/1e6).toFixed(1),"M"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Views"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,b.jsx)(e.default,{className:"w-6 h-6 text-orange-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",L.toFixed(2)]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaigns"}),(0,b.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:t,onChange:a=>v(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors"})]}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-red-500 transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"running",children:"Running"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===I.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,b.jsx)(bl.Youtube,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No YouTube campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first YouTube campaign to get started"})]})}):I.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-red-500/20 rounded-lg",children:(0,b.jsx)(bl.Youtube,{className:"w-5 h-5 text-red-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.description||"No description"})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-right text-white",children:(a.messages_sent||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(a.messages_delivered||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-red-400",children:(a.messages_failed||0).toLocaleString()}),(0,b.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(a.youtube_details?.total_budget)||0).toFixed(2)]}),(0,b.jsx)("td",{className:"p-4 text-slate-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===a.status?(0,b.jsx)("button",{onClick:()=>E(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}):"paused"===a.status||"draft"===a.status?(0,b.jsx)("button",{onClick:()=>E(a.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}):null,(0,b.jsx)("button",{onClick:()=>{o(a),l(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>F(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(bl.Youtube,{className:"w-7 h-7 text-red-500"}),m?"Edit Campaign":"Create YouTube Campaign"]}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:A.name,onChange:a=>C({...A,name:a.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:A.description,onChange:a=>C({...A,description:a.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,b.jsx)("input",{type:"number",value:A.budget,onChange:a=>C({...A,budget:a.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content Strategy"}),(0,b.jsxs)("select",{value:A.contentStrategy,onChange:a=>C({...A,contentStrategy:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors",children:[(0,b.jsx)("option",{value:"long_form",children:"Long Form (8+ minutes)"}),(0,b.jsx)("option",{value:"short_form",children:"Short Form (2-8 minutes)"}),(0,b.jsx)("option",{value:"shorts",children:"YouTube Shorts (60 seconds)"}),(0,b.jsx)("option",{value:"mixed",children:"Mixed Strategy"})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"YouTube Features"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.premiereEnabled,onChange:a=>C({...A,premiereEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Premiere Videos"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.shortsEnabled,onChange:a=>C({...A,shortsEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"YouTube Shorts"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.liveStreaming,onChange:a=>C({...A,liveStreaming:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Live Streaming"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.monetizationEnabled,onChange:a=>C({...A,monetizationEnabled:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-red-500 focus:ring-red-500 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Monetization"})]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),m?"Update Campaign":"Create Campaign"]})]})]})})]})}var y=y,aP=aP,u=u,cj=cj,p=p,s=s,c5=a.i(85911),e=e,a5=a5,cD=cD;function c6(){let{user:a}=(0,H.useAuth)(),[d,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(null),[q,r]=(0,c.useState)("all"),[t,v]=(0,c.useState)(""),[x,z]=(0,c.useState)(null),[A,B]=(0,c.useState)({name:"",description:"",budget:"",objective:"brand_awareness",sponsoredContent:!1,textAds:!1,messageAds:!1,dynamicAds:!1});(0,c.useEffect)(()=>{a&&C()},[a]),(0,c.useEffect)(()=>{if(x){let a=setTimeout(()=>z(null),5e3);return()=>clearTimeout(a)}},[x]);let C=async()=>{try{let{data:a,error:b}=await n.db.from("campaigns").select("*").eq("channel_type","linkedin").order("created_at",{ascending:!1});if(b)throw b;let{data:c,error:d}=await n.db.from("linkedin_campaigns").select("*").order("created_at",{ascending:!1});if(d)throw d;let e=(a||[]).map(a=>{let b=(c||[]).find(b=>b.campaign_id===a.id);return{...a,linkedin_details:b}});f(e),h(c||[])}catch(a){console.error("Error loading campaigns:",a),z({type:"error",message:"Failed to load campaigns"})}finally{j(!1)}},D=async(a,b)=>{try{let c={status:b};if("running"===b){let b=d.find(b=>b.id===a);b?.started_at||(c.started_at=new Date().toISOString())}"completed"===b&&(c.completed_at=new Date().toISOString());let{error:e}=await n.db.from("campaigns").update(c).eq("id",a);if(e)throw e;z({type:"success",message:`Campaign ${"running"===b?"started":b} successfully`}),await C()}catch(a){console.error("Error updating campaign:",a),z({type:"error",message:"Failed to update campaign status"})}},E=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("campaigns").delete().eq("id",a);if(b)throw b;z({type:"success",message:"Campaign deleted successfully"}),await C()}catch(a){console.error("Error deleting campaign:",a),z({type:"error",message:"Failed to delete campaign"})}},F=async()=>{if(!A.name.trim())return void z({type:"error",message:"Campaign name is required"});try{let{data:a,error:b}=await n.db.from("campaigns").insert({name:A.name,description:A.description,channel_type:"linkedin",status:"draft"}).select().single();if(b)throw b;let{error:c}=await n.db.from("linkedin_campaigns").insert({campaign_id:a.id,campaign_name:A.name,objective:A.objective,sponsored_content:A.sponsoredContent,text_ads:A.textAds,message_ads:A.messageAds,dynamic_ads:A.dynamicAds,total_budget:parseFloat(A.budget)||0,status:"draft"});if(c)throw c;z({type:"success",message:"Campaign created successfully"}),l(!1),B({name:"",description:"",budget:"",objective:"brand_awareness",sponsoredContent:!1,textAds:!1,messageAds:!1,dynamicAds:!1}),await C()}catch(a){console.error("Error creating campaign:",a),z({type:"error",message:"Failed to create campaign"})}},G=d.filter(a=>{let b="all"===q||a.status===q,c=a.name?.toLowerCase().includes(t.toLowerCase());return b&&c}),I=d.reduce((a,b)=>a+(b.messages_sent||0),0),J=d.reduce((a,b)=>a+(b.messages_delivered||0),0),K=d.reduce((a,b)=>a+(parseFloat(b.linkedin_details?.total_budget)||0),0),L=d.filter(a=>"running"===a.status).length,M=I>0?(J/I*100).toFixed(1):0,N=g.reduce((a,b)=>a+(b.leads_generated||0),0);return i?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsx)("div",{className:"text-slate-400",children:"Loading..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[x&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===x.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:x.message}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(c5.Linkedin,{className:"w-10 h-10 text-blue-600"}),"LinkedIn"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage and monitor your LinkedIn B2B campaigns"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-600/10 to-blue-700/10 border border-blue-600/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-600/20 rounded-lg",children:(0,b.jsx)(cD.default,{className:"w-6 h-6 text-blue-500"})}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-blue-500"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:I.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Messages Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(a5.default,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("span",{className:`text-xs font-semibold px-2 py-1 rounded ${Number(M)>=95?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"}`,children:[M,"%"]})]}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:[M,"%"]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivery Rate"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(aJ.BarChart3,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"LIVE"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Campaigns"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(e.default,{className:"w-6 h-6 text-cyan-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:N.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Leads Generated"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,b.jsx)(ar.TrendingUp,{className:"w-6 h-6 text-orange-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",K.toFixed(2)]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Cost"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Campaigns"}),(0,b.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2 font-medium",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"New Campaign"]})]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(p.default,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:t,onChange:a=>v(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-600 transition-colors"})]}),(0,b.jsxs)("select",{value:q,onChange:a=>r(a.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-600 transition-colors",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"running",children:"Running"}),(0,b.jsx)("option",{value:"paused",children:"Paused"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Campaign Name"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Sent"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Delivered"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Failed"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Cost"}),(0,b.jsx)("th",{className:"text-left p-4 text-slate-400 font-medium",children:"Date"}),(0,b.jsx)("th",{className:"text-right p-4 text-slate-400 font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:0===G.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:8,className:"p-12 text-center",children:[(0,b.jsx)(c5.Linkedin,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No LinkedIn campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first LinkedIn campaign to get started"})]})}):G.map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/30 transition-colors",children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:(0,b.jsx)(c5.Linkedin,{className:"w-5 h-5 text-blue-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-white font-medium",children:a.name}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.description||"No description"})]})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${(a=>{switch(a){case"running":return"bg-green-500/20 text-green-400 border-green-500/30";case"paused":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"draft":default:return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-purple-500/20 text-purple-400 border-purple-500/30"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-right text-white",children:(a.messages_sent||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-green-400 font-medium",children:(a.messages_delivered||0).toLocaleString()}),(0,b.jsx)("td",{className:"p-4 text-right text-red-400",children:(a.messages_failed||0).toLocaleString()}),(0,b.jsxs)("td",{className:"p-4 text-right text-white",children:["RM ",(parseFloat(a.linkedin_details?.total_budget)||0).toFixed(2)]}),(0,b.jsx)("td",{className:"p-4 text-slate-400",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),new Date(a.created_at).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})]})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["running"===a.status?(0,b.jsx)("button",{onClick:()=>D(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg transition-colors",title:"Pause",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}):"paused"===a.status||"draft"===a.status?(0,b.jsx)("button",{onClick:()=>D(a.id,"running"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg transition-colors",title:"Start",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}):null,(0,b.jsx)("button",{onClick:()=>{o(a),l(!0)},className:"p-2 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors",title:"Edit",children:(0,b.jsx)(cj.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>E(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})})]})})]},a.id))})]})})]}),k&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-800 rounded-xl border border-slate-700 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between sticky top-0 bg-slate-800 z-10",children:[(0,b.jsxs)("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,b.jsx)(c5.Linkedin,{className:"w-7 h-7 text-blue-600"}),m?"Edit Campaign":"Create LinkedIn Campaign"]}),(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-5 h-5 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:A.name,onChange:a=>B({...A,name:a.target.value}),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:A.description,onChange:a=>B({...A,description:a.target.value}),placeholder:"Enter campaign description",rows:3,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Budget (RM)"}),(0,b.jsx)("input",{type:"number",value:A.budget,onChange:a=>B({...A,budget:a.target.value}),placeholder:"0.00",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Objective"}),(0,b.jsxs)("select",{value:A.objective,onChange:a=>B({...A,objective:a.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-blue-600 transition-colors",children:[(0,b.jsx)("option",{value:"brand_awareness",children:"Brand Awareness"}),(0,b.jsx)("option",{value:"website_visits",children:"Website Visits"}),(0,b.jsx)("option",{value:"engagement",children:"Engagement"}),(0,b.jsx)("option",{value:"lead_generation",children:"Lead Generation"}),(0,b.jsx)("option",{value:"website_conversions",children:"Website Conversions"}),(0,b.jsx)("option",{value:"job_applicants",children:"Job Applicants"})]})]}),(0,b.jsxs)("div",{className:"border-t border-slate-700 pt-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"LinkedIn Ad Types"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.sponsoredContent,onChange:a=>B({...A,sponsoredContent:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Sponsored Content"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.textAds,onChange:a=>B({...A,textAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Text Ads"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.messageAds,onChange:a=>B({...A,messageAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Message Ads (InMail)"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:A.dynamicAds,onChange:a=>B({...A,dynamicAds:a.target.checked}),className:"w-5 h-5 bg-slate-900 border-slate-700 rounded text-blue-600 focus:ring-blue-600 focus:ring-offset-slate-800"}),(0,b.jsx)("span",{className:"text-slate-300",children:"Dynamic Ads"})]})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-slate-700 flex gap-3 justify-end sticky bottom-0 bg-slate-800",children:[(0,b.jsx)("button",{onClick:()=>{l(!1),o(null)},className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),(0,b.jsxs)("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),m?"Update Campaign":"Create Campaign"]})]})]})})]})}var aM=aM,aP=aP,u=u,bD=bD,bE=bE,y=y;function c7(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)("compose"),[f,g]=(0,c.useState)("all"),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("text"),[l,m]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("paste"),[w,x]=(0,c.useState)(""),[z,A]=(0,c.useState)("now"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[I,K]=(0,c.useState)([]),[L,M]=(0,c.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[N,O]=(0,c.useState)({valid:0,duplicates:0,invalid:0}),[P,Q]=(0,c.useState)(!0),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)({}),[V,W]=(0,c.useState)({}),[X,Y]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&Promise.all([Z(),ab(),ac(),ad()]).finally(()=>Q(!1))},[a]),(0,c.useEffect)(()=>{if(X){let a=setTimeout(()=>Y(null),5e3);return()=>clearTimeout(a)}},[X]),(0,c.useEffect)(()=>{a&&Z()},[f]),(0,c.useEffect)(()=>{w?ae(w):O({valid:0,duplicates:0,invalid:0})},[w]);let Z=async()=>{let a=n.db.from("viber_campaigns").select("*").order("created_at",{ascending:!1});"all"!==f&&(a=a.eq("status",f));let{data:b,error:c}=await a;!c&&b&&E(b)},_=async a=>{W(b=>({...b,[a]:!0}));let{data:b,error:c}=await n.db.from("viber_messages").select("*").eq("campaign_id",a).order("created_at",{ascending:!1}).limit(100);!c&&b&&U(c=>({...c,[a]:b})),W(b=>({...b,[a]:!1}))},aa=async a=>{R===a?S(null):(S(a),T[a]||await _(a))},ab=async()=>{let{data:a,error:b}=await n.db.from("viber_templates").select("*").order("name");!b&&a&&G(a)},ac=async()=>{let{data:a}=await n.db.from("viber_campaigns").select("total_recipients, valid_numbers, status");if(a){let b=a.reduce((a,b)=>a+(b.valid_numbers||0),0),c=a.filter(a=>"completed"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0),d=a.filter(a=>"in_progress"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0);M({totalSent:b,delivered:c,pending:d,failed:b-c-d})}},ad=async()=>{let{data:a}=await n.db.from("viber_numbers").select("*").eq("is_active",!0);a&&a.length>0&&(K(a),m(a[0].phone_number))},ae=a=>{let b=a.split("\n").filter(a=>a.trim()).map(a=>a.trim()),c=/^[\d\s+()-]{10,}$/,d=b.filter(a=>c.test(a)),e=new Set(d),f=d.length-e.size,g=b.length-d.length;O({valid:e.size,duplicates:f,invalid:g})},af=async()=>{if(!h||!j||!l||!q||!a)return void Y({type:"error",message:"Please fill in all required fields"});if(0===N.valid)return void Y({type:"error",message:"Please add valid phone numbers"});try{let{data:b,error:c}=await n.db.from("viber_campaigns").insert({user_id:a.id,campaign_name:h,message_type:j,sender_number:l,message_content:q,total_recipients:N.valid+N.duplicates+N.invalid,valid_numbers:N.valid,invalid_numbers:N.invalid,duplicate_numbers:N.duplicates,status:"now"===z?"in_progress":"scheduled",scheduled_at:"schedule"===z?B:null,template_id:o||null}).select().single();if(c)throw c;let d=w.split("\n").filter(a=>a.trim()),f=/^[\d\s+()-]{10,}$/,g=[...new Set(d.filter(a=>f.test(a.trim())))].map(a=>({campaign_id:b.id,phone_number:a.trim(),message:q,status:"pending"})),{error:k}=await n.db.from("viber_messages").insert(g);if(k)throw k;Y({type:"success",message:"Campaign created successfully!"}),i(""),r(""),x(""),p(""),C(""),await Z(),await ac(),e("campaigns")}catch(a){console.error("Error creating campaign:",a),Y({type:"error",message:"Failed to create campaign"})}},ag=async(a,b)=>{try{let{error:c}=await n.db.from("viber_campaigns").update({status:b}).eq("id",a);if(c)throw c;Y({type:"success",message:`Campaign ${b} successfully`}),await Z(),await ac()}catch(a){console.error("Error updating campaign:",a),Y({type:"error",message:"Failed to update campaign"})}},ah=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("viber_campaigns").delete().eq("id",a);if(b)throw b;Y({type:"success",message:"Campaign deleted successfully"}),await Z(),await ac()}catch(a){console.error("Error deleting campaign:",a),Y({type:"error",message:"Failed to delete campaign"})}};return P?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsx)("div",{className:"text-slate-400",children:"Loading Viber..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[X&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===X.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:X.message}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)($.Phone,{className:"w-10 h-10 text-purple-500"}),"Viber Business Messaging"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Send bulk messages to your Viber contacts"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/30 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-purple-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.totalSent.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.delivered.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.pending.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.failed.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-slate-700 bg-slate-800/80",children:(0,b.jsx)("div",{className:"flex gap-2 p-2",children:["compose","campaigns","templates"].map(a=>(0,b.jsx)("button",{onClick:()=>e(a),className:`px-6 py-3 rounded-lg font-medium transition-all ${d===a?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})}),(0,b.jsxs)("div",{className:"p-6",children:["compose"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type *"}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"text",children:"Text Message"}),(0,b.jsx)("option",{value:"image",children:"Image Message"}),(0,b.jsx)("option",{value:"video",children:"Video Message"}),(0,b.jsx)("option",{value:"file",children:"File Message"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sender Number *"}),(0,b.jsx)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:I.map(a=>(0,b.jsx)("option",{value:a.phone_number,children:a.display_name||a.phone_number},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template (Optional)"}),(0,b.jsxs)("select",{value:o,onChange:a=>{var b;let c;return p(b=a.target.value),void((c=F.find(a=>a.id===b))&&r(c.body_content))},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select a template"}),F.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content *"}),(0,b.jsx)("textarea",{value:q,onChange:a=>r(a.target.value),placeholder:"Type your message here...",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none"}),(0,b.jsxs)("div",{className:"text-right text-sm text-slate-400 mt-2",children:[q.length," characters"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients *"}),(0,b.jsx)("div",{className:"flex gap-2 mb-3",children:["paste","upload","phonebook"].map(a=>(0,b.jsx)("button",{onClick:()=>t(a),className:`px-4 py-2 rounded-lg font-medium transition-all ${s===a?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),"paste"===s&&(0,b.jsx)("textarea",{value:w,onChange:a=>x(a.target.value),placeholder:"Paste phone numbers (one per line) Example: +60123456789 +60198765432",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none"}),w&&(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-green-400 text-2xl font-bold",children:N.valid}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Valid"})]}),(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-yellow-400 text-2xl font-bold",children:N.duplicates}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Duplicates"})]}),(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-red-400 text-2xl font-bold",children:N.invalid}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Invalid"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Send Mode"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>A("now"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"now"===z?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Send Now"}),(0,b.jsx)("button",{onClick:()=>A("schedule"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"schedule"===z?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Schedule"})]})]}),"schedule"===z&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Schedule Date & Time"}),(0,b.jsx)("input",{type:"datetime-local",value:B,onChange:a=>C(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[(0,b.jsx)("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Save as Draft"}),(0,b.jsxs)("button",{onClick:af,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"now"===z?"Send Campaign":"Schedule Campaign"]})]})]}),"campaigns"===d&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex gap-4 mb-6",children:(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"paused",children:"Paused"})]})}),(0,b.jsx)("div",{className:"space-y-4",children:0===D.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)($.Phone,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Viber campaign to get started"})]}):D.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsx)("div",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)($.Phone,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-white font-semibold text-lg",children:a.campaign_name}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Recipients: ",a.valid_numbers]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"completed"===a.status?"bg-green-500/20 text-green-400":"in_progress"===a.status?"bg-blue-500/20 text-blue-400":"paused"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:a.status}),"in_progress"===a.status&&(0,b.jsx)("button",{onClick:()=>ag(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>ag(a.id,"in_progress"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ah(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>aa(a.id),className:"p-2 hover:bg-slate-700 rounded-lg text-slate-400",children:R===a.id?(0,b.jsx)(bE.default,{className:"w-4 h-4"}):(0,b.jsx)(bD.default,{className:"w-4 h-4"})})]})]})}),R===a.id&&(0,b.jsx)("div",{className:"border-t border-slate-700 p-4 bg-slate-950/50",children:V[a.id]?(0,b.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Loading messages..."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Phone Number"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Sent At"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Delivered At"})]})}),(0,b.jsx)("tbody",{children:(T[a.id]||[]).map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,b.jsx)("td",{className:"p-3 text-white font-mono text-sm",children:a.phone_number}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"delivered"===a.status?"bg-green-500/20 text-green-400":"sent"===a.status?"bg-blue-500/20 text-blue-400":"failed"===a.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:a.sent_at?new Date(a.sent_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"})]},a.id))})]})})})]},a.id))})]}),"templates"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Message Templates"}),(0,b.jsxs)("button",{className:"px-4 py-2 bg-purple-500/20 text-purple-400 border border-purple-500/30 rounded-lg hover:bg-purple-500/30 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Template"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.description}),(0,b.jsx)("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3",children:a.body_content}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 rounded text-xs",children:a.category}),(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:a.language})]})]},a.id))})]})]})]})]})}var aM=aM,aP=aP,u=u,bD=bD,bE=bE,y=y;function c8(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)("compose"),[f,g]=(0,c.useState)("all"),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("text"),[l,m]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("paste"),[w,x]=(0,c.useState)(""),[z,A]=(0,c.useState)("now"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[I,K]=(0,c.useState)([]),[L,M]=(0,c.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[N,O]=(0,c.useState)({valid:0,duplicates:0,invalid:0}),[P,Q]=(0,c.useState)(!0),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)({}),[V,W]=(0,c.useState)({}),[X,Y]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&Promise.all([Z(),aa(),ab(),ac()]).finally(()=>Q(!1))},[a]),(0,c.useEffect)(()=>{if(X){let a=setTimeout(()=>Y(null),5e3);return()=>clearTimeout(a)}},[X]),(0,c.useEffect)(()=>{a&&Z()},[f]),(0,c.useEffect)(()=>{w?ad(w):O({valid:0,duplicates:0,invalid:0})},[w]);let Z=async()=>{let a=n.db.from("line_campaigns").select("*").order("created_at",{ascending:!1});"all"!==f&&(a=a.eq("status",f));let{data:b,error:c}=await a;!c&&b&&E(b)},$=async a=>{W(b=>({...b,[a]:!0}));let{data:b,error:c}=await n.db.from("line_messages").select("*").eq("campaign_id",a).order("created_at",{ascending:!1}).limit(100);!c&&b&&U(c=>({...c,[a]:b})),W(b=>({...b,[a]:!1}))},_=async a=>{R===a?S(null):(S(a),T[a]||await $(a))},aa=async()=>{let{data:a,error:b}=await n.db.from("line_templates").select("*").order("name");!b&&a&&G(a)},ab=async()=>{let{data:a}=await n.db.from("line_campaigns").select("total_recipients, valid_numbers, status");if(a){let b=a.reduce((a,b)=>a+(b.valid_numbers||0),0),c=a.filter(a=>"completed"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0),d=a.filter(a=>"in_progress"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0);M({totalSent:b,delivered:c,pending:d,failed:b-c-d})}},ac=async()=>{let{data:a}=await n.db.from("line_accounts").select("*").eq("is_active",!0);a&&a.length>0&&(K(a),m(a[0].id))},ad=a=>{let b=a.split("\n").filter(a=>a.trim()).map(a=>a.trim()),c=/^U[0-9a-f]{32}$/,d=b.filter(a=>c.test(a)||a.length>=5),e=new Set(d),f=d.length-e.size,g=b.length-d.length;O({valid:e.size,duplicates:f,invalid:g})},ae=async()=>{if(!h||!j||!l||!q||!a)return void Y({type:"error",message:"Please fill in all required fields"});if(0===N.valid)return void Y({type:"error",message:"Please add valid Line user IDs"});try{let{data:b,error:c}=await n.db.from("line_campaigns").insert({user_id:a.id,campaign_name:h,message_type:j,line_account_id:l,message_content:q,total_recipients:N.valid+N.duplicates+N.invalid,valid_numbers:N.valid,invalid_numbers:N.invalid,duplicate_numbers:N.duplicates,status:"now"===z?"in_progress":"scheduled",scheduled_at:"schedule"===z?B:null,template_id:o||null}).select().single();if(c)throw c;let d=w.split("\n").filter(a=>a.trim()),f=[...new Set(d.filter(a=>a.trim().length>=5))].map(a=>({campaign_id:b.id,user_id:a.trim(),message:q,status:"pending"})),{error:g}=await n.db.from("line_messages").insert(f);if(g)throw g;Y({type:"success",message:"Campaign created successfully!"}),i(""),r(""),x(""),p(""),C(""),await Z(),await ab(),e("campaigns")}catch(a){console.error("Error creating campaign:",a),Y({type:"error",message:"Failed to create campaign"})}},af=async(a,b)=>{try{let{error:c}=await n.db.from("line_campaigns").update({status:b}).eq("id",a);if(c)throw c;Y({type:"success",message:`Campaign ${b} successfully`}),await Z(),await ab()}catch(a){console.error("Error updating campaign:",a),Y({type:"error",message:"Failed to update campaign"})}},ag=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("line_campaigns").delete().eq("id",a);if(b)throw b;Y({type:"success",message:"Campaign deleted successfully"}),await Z(),await ab()}catch(a){console.error("Error deleting campaign:",a),Y({type:"error",message:"Failed to delete campaign"})}};return P?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsx)("div",{className:"text-slate-400",children:"Loading Line..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[X&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===X.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:X.message}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-10 h-10 text-green-500"}),"Line Official Account Messaging"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Send bulk messages to your Line contacts"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/30 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-green-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.totalSent.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.delivered.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.pending.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.failed.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-slate-700 bg-slate-800/80",children:(0,b.jsx)("div",{className:"flex gap-2 p-2",children:["compose","campaigns","templates"].map(a=>(0,b.jsx)("button",{onClick:()=>e(a),className:`px-6 py-3 rounded-lg font-medium transition-all ${d===a?"bg-green-500/20 text-green-400 border border-green-500/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})}),(0,b.jsxs)("div",{className:"p-6",children:["compose"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type *"}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"text",children:"Text Message"}),(0,b.jsx)("option",{value:"image",children:"Image Message"}),(0,b.jsx)("option",{value:"video",children:"Video Message"}),(0,b.jsx)("option",{value:"sticker",children:"Sticker Message"}),(0,b.jsx)("option",{value:"template",children:"Template Message"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Line Account *"}),(0,b.jsx)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:I.map(a=>(0,b.jsx)("option",{value:a.id,children:a.account_name},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template (Optional)"}),(0,b.jsxs)("select",{value:o,onChange:a=>{var b;let c;return p(b=a.target.value),void((c=F.find(a=>a.id===b))&&r(c.body_content))},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select a template"}),F.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content *"}),(0,b.jsx)("textarea",{value:q,onChange:a=>r(a.target.value),placeholder:"Type your message here...",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none"}),(0,b.jsxs)("div",{className:"text-right text-sm text-slate-400 mt-2",children:[q.length," characters"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients *"}),(0,b.jsx)("div",{className:"flex gap-2 mb-3",children:["paste","upload","phonebook"].map(a=>(0,b.jsx)("button",{onClick:()=>t(a),className:`px-4 py-2 rounded-lg font-medium transition-all ${s===a?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),"paste"===s&&(0,b.jsx)("textarea",{value:w,onChange:a=>x(a.target.value),placeholder:"Paste Line User IDs (one per line) Example: U1234567890abcdef1234567890abcdef U9876543210fedcba9876543210fedcba",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none"}),w&&(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-green-400 text-2xl font-bold",children:N.valid}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Valid"})]}),(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-yellow-400 text-2xl font-bold",children:N.duplicates}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Duplicates"})]}),(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-red-400 text-2xl font-bold",children:N.invalid}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Invalid"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Send Mode"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>A("now"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"now"===z?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Send Now"}),(0,b.jsx)("button",{onClick:()=>A("schedule"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"schedule"===z?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Schedule"})]})]}),"schedule"===z&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Schedule Date & Time"}),(0,b.jsx)("input",{type:"datetime-local",value:B,onChange:a=>C(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[(0,b.jsx)("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Save as Draft"}),(0,b.jsxs)("button",{onClick:ae,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"now"===z?"Send Campaign":"Schedule Campaign"]})]})]}),"campaigns"===d&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex gap-4 mb-6",children:(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"paused",children:"Paused"})]})}),(0,b.jsx)("div",{className:"space-y-4",children:0===D.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(a0.MessageCircle,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first Line campaign to get started"})]}):D.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsx)("div",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(a0.MessageCircle,{className:"w-6 h-6 text-green-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-white font-semibold text-lg",children:a.campaign_name}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Recipients: ",a.valid_numbers]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"completed"===a.status?"bg-green-500/20 text-green-400":"in_progress"===a.status?"bg-blue-500/20 text-blue-400":"paused"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:a.status}),"in_progress"===a.status&&(0,b.jsx)("button",{onClick:()=>af(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>af(a.id,"in_progress"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ag(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>_(a.id),className:"p-2 hover:bg-slate-700 rounded-lg text-slate-400",children:R===a.id?(0,b.jsx)(bE.default,{className:"w-4 h-4"}):(0,b.jsx)(bD.default,{className:"w-4 h-4"})})]})]})}),R===a.id&&(0,b.jsx)("div",{className:"border-t border-slate-700 p-4 bg-slate-950/50",children:V[a.id]?(0,b.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Loading messages..."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"User ID"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Sent At"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Delivered At"})]})}),(0,b.jsx)("tbody",{children:(T[a.id]||[]).map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,b.jsx)("td",{className:"p-3 text-white font-mono text-sm",children:a.user_id}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"delivered"===a.status?"bg-green-500/20 text-green-400":"sent"===a.status?"bg-blue-500/20 text-blue-400":"failed"===a.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:a.sent_at?new Date(a.sent_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"})]},a.id))})]})})})]},a.id))})]}),"templates"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Message Templates"}),(0,b.jsxs)("button",{className:"px-4 py-2 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg hover:bg-green-500/30 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Template"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.description}),(0,b.jsx)("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3",children:a.body_content}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs",children:a.category}),(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:a.language})]})]},a.id))})]})]})]})]})}var aM=aM,aP=aP,u=u,bD=bD,bE=bE,y=y;function c9(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)("compose"),[f,g]=(0,c.useState)("all"),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("text"),[l,m]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("paste"),[w,x]=(0,c.useState)(""),[z,A]=(0,c.useState)("now"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)([]),[I,K]=(0,c.useState)([]),[L,M]=(0,c.useState)({totalSent:0,delivered:0,pending:0,failed:0}),[N,O]=(0,c.useState)({valid:0,duplicates:0,invalid:0}),[P,Q]=(0,c.useState)(!0),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)({}),[V,W]=(0,c.useState)({}),[X,Y]=(0,c.useState)(null);(0,c.useEffect)(()=>{a&&Promise.all([$(),ab(),ac(),ad()]).finally(()=>Q(!1))},[a]),(0,c.useEffect)(()=>{if(X){let a=setTimeout(()=>Y(null),5e3);return()=>clearTimeout(a)}},[X]),(0,c.useEffect)(()=>{a&&$()},[f]),(0,c.useEffect)(()=>{w?ae(w):O({valid:0,duplicates:0,invalid:0})},[w]);let $=async()=>{let a=n.db.from("wechat_campaigns").select("*").order("created_at",{ascending:!1});"all"!==f&&(a=a.eq("status",f));let{data:b,error:c}=await a;!c&&b&&E(b)},_=async a=>{W(b=>({...b,[a]:!0}));let{data:b,error:c}=await n.db.from("wechat_messages").select("*").eq("campaign_id",a).order("created_at",{ascending:!1}).limit(100);!c&&b&&U(c=>({...c,[a]:b})),W(b=>({...b,[a]:!1}))},aa=async a=>{R===a?S(null):(S(a),T[a]||await _(a))},ab=async()=>{let{data:a,error:b}=await n.db.from("wechat_templates").select("*").order("name");!b&&a&&G(a)},ac=async()=>{let{data:a}=await n.db.from("wechat_campaigns").select("total_recipients, valid_numbers, status");if(a){let b=a.reduce((a,b)=>a+(b.valid_numbers||0),0),c=a.filter(a=>"completed"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0),d=a.filter(a=>"in_progress"===a.status).reduce((a,b)=>a+(b.valid_numbers||0),0);M({totalSent:b,delivered:c,pending:d,failed:b-c-d})}},ad=async()=>{let{data:a}=await n.db.from("wechat_accounts").select("*").eq("is_active",!0);a&&a.length>0&&(K(a),m(a[0].id))},ae=a=>{let b=a.split("\n").filter(a=>a.trim()).map(a=>a.trim()),c=/^[a-zA-Z0-9_-]{28}$/,d=b.filter(a=>c.test(a)||a.length>=20),e=new Set(d),f=d.length-e.size,g=b.length-d.length;O({valid:e.size,duplicates:f,invalid:g})},af=async()=>{if(!h||!j||!l||!q||!a)return void Y({type:"error",message:"Please fill in all required fields"});if(0===N.valid)return void Y({type:"error",message:"Please add valid WeChat OpenIDs"});try{let{data:b,error:c}=await n.db.from("wechat_campaigns").insert({user_id:a.id,campaign_name:h,message_type:j,wechat_account_id:l,message_content:q,total_recipients:N.valid+N.duplicates+N.invalid,valid_numbers:N.valid,invalid_numbers:N.invalid,duplicate_numbers:N.duplicates,status:"now"===z?"in_progress":"scheduled",scheduled_at:"schedule"===z?B:null,template_id:o||null}).select().single();if(c)throw c;let d=w.split("\n").filter(a=>a.trim()),f=[...new Set(d.filter(a=>a.trim().length>=20))].map(a=>({campaign_id:b.id,openid:a.trim(),message:q,status:"pending"})),{error:g}=await n.db.from("wechat_messages").insert(f);if(g)throw g;Y({type:"success",message:"Campaign created successfully!"}),i(""),r(""),x(""),p(""),C(""),await $(),await ac(),e("campaigns")}catch(a){console.error("Error creating campaign:",a),Y({type:"error",message:"Failed to create campaign"})}},ag=async(a,b)=>{try{let{error:c}=await n.db.from("wechat_campaigns").update({status:b}).eq("id",a);if(c)throw c;Y({type:"success",message:`Campaign ${b} successfully`}),await $(),await ac()}catch(a){console.error("Error updating campaign:",a),Y({type:"error",message:"Failed to update campaign"})}},ah=async a=>{if(confirm("Are you sure you want to delete this campaign?"))try{let{error:b}=await n.db.from("wechat_campaigns").delete().eq("id",a);if(b)throw b;Y({type:"success",message:"Campaign deleted successfully"}),await $(),await ac()}catch(a){console.error("Error deleting campaign:",a),Y({type:"error",message:"Failed to delete campaign"})}};return P?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsx)("div",{className:"text-slate-400",children:"Loading WeChat..."})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[X&&(0,b.jsx)("div",{className:`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${"success"===X.type?"bg-green-500/20 border-green-500/50 text-green-400":"bg-red-500/20 border-red-500/50 text-red-400"}`,children:X.message}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-10 h-10 text-green-600"}),"WeChat Official Account Messaging"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Send bulk messages to your WeChat followers"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-600/10 to-green-700/10 border border-green-600/30 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-green-600/20 rounded-lg",children:(0,b.jsx)(aM.default,{className:"w-6 h-6 text-green-500"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.totalSent.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Total Sent"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(v.CheckCircle,{className:"w-6 h-6 text-green-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.delivered.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Delivered"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:(0,b.jsx)(J.Clock,{className:"w-6 h-6 text-yellow-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.pending.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-red-500/20 rounded-lg",children:(0,b.jsx)(aL.AlertCircle,{className:"w-6 h-6 text-red-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:L.failed.toLocaleString()}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Failed"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden",children:[(0,b.jsx)("div",{className:"border-b border-slate-700 bg-slate-800/80",children:(0,b.jsx)("div",{className:"flex gap-2 p-2",children:["compose","campaigns","templates"].map(a=>(0,b.jsx)("button",{onClick:()=>e(a),className:`px-6 py-3 rounded-lg font-medium transition-all ${d===a?"bg-green-600/20 text-green-500 border border-green-600/30":"text-slate-400 hover:text-white hover:bg-slate-700/50"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})}),(0,b.jsxs)("div",{className:"p-6",children:["compose"===d&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campaign Name *"}),(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),placeholder:"Enter campaign name",className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Type *"}),(0,b.jsxs)("select",{value:j,onChange:a=>k(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"text",children:"Text Message"}),(0,b.jsx)("option",{value:"image",children:"Image Message"}),(0,b.jsx)("option",{value:"video",children:"Video Message"}),(0,b.jsx)("option",{value:"news",children:"News Article"}),(0,b.jsx)("option",{value:"miniprogram",children:"Mini Program"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"WeChat Account *"}),(0,b.jsx)("select",{value:l,onChange:a=>m(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:I.map(a=>(0,b.jsx)("option",{value:a.id,children:a.account_name},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Template (Optional)"}),(0,b.jsxs)("select",{value:o,onChange:a=>{var b;let c;return p(b=a.target.value),void((c=F.find(a=>a.id===b))&&r(c.body_content))},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select a template"}),F.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Message Content *"}),(0,b.jsx)("textarea",{value:q,onChange:a=>r(a.target.value),placeholder:"è¾“å…¥æ‚¨çš„æ¶ˆæ¯å†…å®¹... (Type your message here...)",rows:6,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none"}),(0,b.jsxs)("div",{className:"text-right text-sm text-slate-400 mt-2",children:[q.length," characters"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Recipients *"}),(0,b.jsx)("div",{className:"flex gap-2 mb-3",children:["paste","upload","phonebook"].map(a=>(0,b.jsx)("button",{onClick:()=>t(a),className:`px-4 py-2 rounded-lg font-medium transition-all ${s===a?"bg-green-600/20 text-green-500 border border-green-600/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))}),"paste"===s&&(0,b.jsx)("textarea",{value:w,onChange:a=>x(a.target.value),placeholder:"Paste WeChat OpenIDs (one per line) Example: oqTh7t-KWWq1VGdLe8uSwE8Gv4Vc oqTh7t-KWWq1VGdLe8uSwE8Gv4Vd",rows:8,className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none"}),w&&(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[(0,b.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-green-400 text-2xl font-bold",children:N.valid}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Valid"})]}),(0,b.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-yellow-400 text-2xl font-bold",children:N.duplicates}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Duplicates"})]}),(0,b.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-red-400 text-2xl font-bold",children:N.invalid}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Invalid"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Send Mode"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>A("now"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"now"===z?"bg-green-600/20 text-green-500 border border-green-600/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Send Now"}),(0,b.jsx)("button",{onClick:()=>A("schedule"),className:`flex-1 py-3 rounded-lg font-medium transition-all ${"schedule"===z?"bg-green-600/20 text-green-500 border border-green-600/30":"bg-slate-700/50 text-slate-400 hover:text-white"}`,children:"Schedule"})]})]}),"schedule"===z&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Schedule Date & Time"}),(0,b.jsx)("input",{type:"datetime-local",value:B,onChange:a=>C(a.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[(0,b.jsx)("button",{className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Save as Draft"}),(0,b.jsxs)("button",{onClick:af,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg transition-all flex items-center gap-2",children:[(0,b.jsx)(aM.default,{className:"w-5 h-5"}),"now"===z?"Send Campaign":"Schedule Campaign"]})]})]}),"campaigns"===d&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex gap-4 mb-6",children:(0,b.jsxs)("select",{value:f,onChange:a=>g(a.target.value),className:"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white",children:[(0,b.jsx)("option",{value:"all",children:"All Status"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"}),(0,b.jsx)("option",{value:"paused",children:"Paused"})]})}),(0,b.jsx)("div",{className:"space-y-4",children:0===D.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No campaigns found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Create your first WeChat campaign to get started"})]}):D.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg",children:[(0,b.jsx)("div",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"p-3 bg-green-600/20 rounded-lg",children:(0,b.jsx)(Z.MessageSquare,{className:"w-6 h-6 text-green-500"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-white font-semibold text-lg",children:a.campaign_name}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-400",children:[(0,b.jsxs)("span",{children:["Recipients: ",a.valid_numbers]}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"completed"===a.status?"bg-green-500/20 text-green-400":"in_progress"===a.status?"bg-blue-500/20 text-blue-400":"paused"===a.status?"bg-yellow-500/20 text-yellow-400":"bg-slate-500/20 text-slate-400"}`,children:a.status}),"in_progress"===a.status&&(0,b.jsx)("button",{onClick:()=>ag(a.id,"paused"),className:"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg",children:(0,b.jsx)(aP.default,{className:"w-4 h-4"})}),"paused"===a.status&&(0,b.jsx)("button",{onClick:()=>ag(a.id,"in_progress"),className:"p-2 hover:bg-green-500/20 text-green-400 rounded-lg",children:(0,b.jsx)(aH.Play,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>ah(a.id),className:"p-2 hover:bg-red-500/20 text-red-400 rounded-lg",children:(0,b.jsx)(u.default,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>aa(a.id),className:"p-2 hover:bg-slate-700 rounded-lg text-slate-400",children:R===a.id?(0,b.jsx)(bE.default,{className:"w-4 h-4"}):(0,b.jsx)(bD.default,{className:"w-4 h-4"})})]})]})}),R===a.id&&(0,b.jsx)("div",{className:"border-t border-slate-700 p-4 bg-slate-950/50",children:V[a.id]?(0,b.jsx)("div",{className:"text-center py-8 text-slate-400",children:"Loading messages..."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"OpenID"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Sent At"}),(0,b.jsx)("th",{className:"text-left p-3 text-slate-400 font-medium",children:"Delivered At"})]})}),(0,b.jsx)("tbody",{children:(T[a.id]||[]).map(a=>(0,b.jsxs)("tr",{className:"border-b border-slate-700/50",children:[(0,b.jsx)("td",{className:"p-3 text-white font-mono text-sm",children:a.openid}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"delivered"===a.status?"bg-green-500/20 text-green-400":"sent"===a.status?"bg-blue-500/20 text-blue-400":"failed"===a.status?"bg-red-500/20 text-red-400":"bg-slate-500/20 text-slate-400"}`,children:a.status})}),(0,b.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:a.sent_at?new Date(a.sent_at).toLocaleString():"-"}),(0,b.jsx)("td",{className:"p-3 text-slate-400 text-sm",children:a.delivered_at?new Date(a.delivered_at).toLocaleString():"-"})]},a.id))})]})})})]},a.id))})]}),"templates"===d&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Message Templates"}),(0,b.jsxs)("button",{className:"px-4 py-2 bg-green-600/20 text-green-500 border border-green-600/30 rounded-lg hover:bg-green-600/30 transition-colors flex items-center gap-2",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"New Template"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(a=>(0,b.jsxs)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-white font-semibold mb-2",children:a.name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.description}),(0,b.jsx)("div",{className:"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3",children:a.body_content}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"px-2 py-1 bg-green-600/20 text-green-500 rounded text-xs",children:a.category}),(0,b.jsx)("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:a.language})]})]},a.id))})]})]})]})]})}var s=s,z=z,E=E,l=l,cM=cM,aR=aR,m=m,al=al,da=a.i(58217),da=da;function db(){let{user:a}=(0,H.useAuth)(),[d,e]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0);(0,c.useEffect)(()=>{a&&k()},[a]),(0,c.useEffect)(()=>{if(!a)return;let b=n.db.channel("user-subscriptions-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_subscriptions",filter:`user_id=eq.${a.id}`},()=>{k()}).subscribe(),c=n.db.channel("user-offers-changes").on("postgres_changes",{event:"*",schema:"public",table:"user_offers",filter:`user_id=eq.${a.id}`},()=>{k()}).subscribe();return()=>{n.db.removeChannel(b),n.db.removeChannel(c)}},[a]);let k=async()=>{try{let{data:b,error:c}=await n.db.from("user_subscriptions").select(`
          *,
          product:products(*)
        `).eq("user_id",a?.id).order("created_at",{ascending:!1});if(c)throw c;let{data:d,error:f}=await n.db.from("user_offers").select("*").eq("user_id",a?.id).eq("status","active").order("expires_at",{ascending:!0});if(f)throw f;e(b||[]),g(d||[])}catch(a){console.error("Error loading data:",a)}finally{j(!1)}},o=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),p=d.filter(a=>"active"===a.status),q=d.filter(a=>"active"===a.status).reduce((a,b)=>a+parseFloat(b.amount||0),0);return i?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,b.jsx)(E.default,{className:"w-8 h-8 text-cyan-400 animate-spin"}),(0,b.jsx)("div",{className:"text-slate-400",children:"Loading subscriptions..."})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-slate-950 p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,b.jsx)(aw.CreditCard,{className:"w-10 h-10 text-cyan-400"}),"My Subscriptions"]}),(0,b.jsx)("p",{className:"text-slate-400",children:"Manage your subscriptions, licenses, and offers"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(ak.Package,{className:"w-6 h-6 text-cyan-400"})}),(0,b.jsx)(ar.TrendingUp,{className:"w-5 h-5 text-cyan-400"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:p.length}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Subscriptions"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-lg",children:(0,b.jsx)(aw.CreditCard,{className:"w-6 h-6 text-green-400"})})}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-white mb-1",children:["RM ",q.toFixed(2)]}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Monthly Spending"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(da.default,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsx)("span",{className:"text-purple-400 text-sm font-semibold",children:"NEW"})]}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:f.length}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Available Offers"})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:(0,b.jsx)(cM.default,{className:"w-6 h-6 text-orange-400"})})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:d.filter(a=>a.license_key).length}),(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:"Active Licenses"})]})]}),f.length>0&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(da.default,{className:"w-6 h-6 text-purple-400"}),"Special Offers for You"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(a=>(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6 hover:border-purple-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(al.default,{className:"w-6 h-6 text-purple-400"})}),(0,b.jsxs)("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-xs font-bold",children:[a.discount_percentage,"% OFF"]})]}),(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:a.offer_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-500",children:["Expires: ",o(a.expires_at)]}),(0,b.jsx)("button",{className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-xs font-medium transition-colors",children:"Redeem Now"})]})]},a.id))})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Active Subscriptions"})}),(0,b.jsx)("div",{className:"space-y-4",children:0===d.length?(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center",children:[(0,b.jsx)(ak.Package,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No subscriptions found"}),(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"Subscribe to products to get started"})]}):d.map(a=>{var c,d,e;let f,g=(c=a.expires_at,f=new Date,Math.ceil((new Date(c).getTime()-f.getTime())/864e5)),i=(d=a.usage_count||0,0===(e=a.usage_limit||0)?0:Math.min(d/e*100,100));return(0,b.jsxs)("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:(0,b.jsx)(ak.Package,{className:"w-8 h-8 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-white mb-1",children:a.product?.name||a.product_name}),(0,b.jsx)("p",{className:"text-slate-400 text-sm mb-3",children:a.product?.description||"Premium subscription"}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,b.jsx)(s.default,{className:"w-4 h-4"}),"Started: ",o(a.started_at)]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-slate-400",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),g>0?`${g} days remaining`:"Expired"]})]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(a=>{switch(a){case"active":return(0,b.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30 flex items-center gap-1.5",children:[(0,b.jsx)(v.CheckCircle,{className:"w-3.5 h-3.5"}),"Active"]});case"expired":return(0,b.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30 flex items-center gap-1.5",children:[(0,b.jsx)(z.default,{className:"w-3.5 h-3.5"}),"Expired"]});case"cancelled":return(0,b.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 border border-orange-500/30 flex items-center gap-1.5",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-3.5 h-3.5"}),"Cancelled"]});default:return(0,b.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-slate-500/20 text-slate-400 border border-slate-500/30",children:a})}})(a.status),(0,b.jsxs)("div",{className:"text-2xl font-bold text-white mt-3",children:["RM ",parseFloat(a.amount).toFixed(2)]}),(0,b.jsxs)("div",{className:"text-slate-400 text-sm",children:["per ",a.billing_cycle]})]})]}),a.usage_limit&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Usage"}),(0,b.jsxs)("span",{className:"text-white font-medium",children:[a.usage_count?.toLocaleString()||0," / ",a.usage_limit?.toLocaleString()]})]}),(0,b.jsx)("div",{className:"w-full bg-slate-700 rounded-full h-2 overflow-hidden",children:(0,b.jsx)("div",{className:`h-full transition-all ${i>=90?"bg-red-500":i>=70?"bg-orange-500":"bg-cyan-500"}`,style:{width:`${i}%`}})})]}),a.license_key&&(0,b.jsx)("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Shield,{className:"w-5 h-5 text-green-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"License Key"}),(0,b.jsx)("div",{className:"font-mono text-white text-sm",children:a.license_key})]})]}),(0,b.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(l.default,{className:"w-5 h-5 text-slate-400"})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,b.jsx)(m.default,{className:"w-5 h-5 text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Status"}),(0,b.jsx)("div",{className:"text-sm text-white font-medium capitalize",children:a.status})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-green-500/20 rounded-lg",children:(0,b.jsx)(s.default,{className:"w-5 h-5 text-green-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Renewal Date"}),(0,b.jsx)("div",{className:"text-sm text-white font-medium",children:o(a.expires_at)})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,b.jsx)(aR.default,{className:"w-5 h-5 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"Auto Renew"}),(0,b.jsx)("div",{className:"text-sm text-white font-medium",children:a.auto_renew?"Enabled":"Disabled"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsxs)("button",{className:"flex-1 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(aJ.BarChart3,{className:"w-4 h-4"}),"View Usage"]}),(0,b.jsxs)("button",{className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(E.default,{className:"w-4 h-4"}),"Manage Subscription"]}),(0,b.jsx)("button",{className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors",children:(0,b.jsx)(at.Info,{className:"w-4 h-4"})})]})]},a.id)})})]})}var y=y,p=p,t=t,u=u,B=B,O=O,m=m,al=al,c2=c2,cL=cL,K=K;function dc(){let a,d,[e,f]=(0,c.useState)("customers"),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[o,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[v,x]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)(""),[I,L]=(0,c.useState)([]),[M,N]=(0,c.useState)([]),[P,Q]=(0,c.useState)(!1),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)({customer_id:"",interaction_type:"call",interaction_channel:"phone",subject:"",description:"",outcome:"",sentiment:"neutral",duration_minutes:30}),[ae,af]=(0,c.useState)({customer_id:"",ticket_subject:"",ticket_description:"",ticket_priority:"medium",ticket_category:"general"}),[ag,ah]=(0,c.useState)({customer_id:"",activity_type:"call",activity_title:"",activity_description:"",due_date:"",priority:"medium"}),[ai,aj]=(0,c.useState)({customer_id:"",note_title:"",note_content:"",note_type:"general",is_pinned:!1}),[ak,am]=(0,c.useState)({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),[an,ao]=(0,c.useState)({totalCustomers:0,healthyCustomers:0,atRiskCustomers:0,averageHealthScore:0,totalLTV:0,openTickets:0});(0,c.useEffect)(()=>{ap()},[]),(0,c.useEffect)(()=>{i&&ay(i.id)},[i]);let ap=async()=>{F(!0),await Promise.all([as(),at(),au(),av(),aw(),ax(),az(),aq(),ar()]),F(!1)},aq=async()=>{let{data:a}=await n.db.from("industries").select("id, industry_name").order("industry_name");a&&L(a)},ar=async()=>{let{data:a}=await n.db.from("customer_segments").select("id, segment_name").order("segment_name");a&&N(a)},as=async()=>{let{data:a}=await n.db.from("customers").select(`
        *,
        industry:industries(id, industry_name),
        customer_segment:customer_segments(id, segment_name)
      `).order("created_at",{ascending:!1});a&&h(a)},at=async()=>{let{data:a}=await n.db.from("customer_health_scores").select("*").order("calculated_at",{ascending:!1});a&&l(a)},au=async()=>{let{data:a}=await n.db.from("customer_interactions").select("*").order("interaction_date",{ascending:!1}).limit(50);a&&q(a)},av=async()=>{let{data:a}=await n.db.from("customer_support_tickets").select("*").order("created_at",{ascending:!1});a&&s(a)},aw=async()=>{let{data:a}=await n.db.from("customer_activities").select("*").order("due_date",{ascending:!0});a&&x(a)},ax=async()=>{let{data:a}=await n.db.from("customer_revenue_metrics").select("*");a&&D(a)},ay=async a=>{let[b]=await Promise.all([n.db.from("customer_notes").select("*").eq("customer_id",a).order("created_at",{ascending:!1})]);b.data&&A(b.data)},az=async()=>{let{data:a}=await n.db.from("customer_health_scores").select("health_score, health_status"),{data:b}=await n.db.from("customers").select("id"),{data:c}=await n.db.from("customer_revenue_metrics").select("lifetime_value"),{data:d}=await n.db.from("customer_support_tickets").select("id").in("ticket_status",["open","in_progress"]),e=b?.length||0,f=a?.filter(a=>"healthy"===a.health_status).length||0,g=a?.filter(a=>"at_risk"===a.health_status||"critical"===a.health_status).length||0,h=(a?.length||0)>0?Math.round(a.reduce((a,b)=>a+b.health_score,0)/a.length):0;ao({totalCustomers:e,healthyCustomers:f,atRiskCustomers:g,averageHealthScore:h,totalLTV:c?.reduce((a,b)=>a+(b.lifetime_value||0),0)||0,openTickets:d?.length||0})},aA=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{error:b}=await n.db.from("customer_interactions").insert({...ac,user_id:a.id});b||(S(!1),ad({customer_id:"",interaction_type:"call",interaction_channel:"phone",subject:"",description:"",outcome:"",sentiment:"neutral",duration_minutes:30}),au())},aB=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let b=await n.db.from("customer_support_tickets").select("id",{count:"exact",head:!0}),c=`TICKET-${String((b.count||0)+1).padStart(5,"0")}`,{error:d}=await n.db.from("customer_support_tickets").insert({...ae,ticket_number:c,ticket_status:"open",created_by:a.id,assigned_to:a.id});d||(U(!1),af({customer_id:"",ticket_subject:"",ticket_description:"",ticket_priority:"medium",ticket_category:"general"}),av(),az())},aC=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{error:b}=await n.db.from("customer_activities").insert({...ag,activity_status:"pending",created_by:a.id,assigned_to:a.id});b||(W(!1),ah({customer_id:"",activity_type:"call",activity_title:"",activity_description:"",due_date:"",priority:"medium"}),aw())},aD=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;let{error:b}=await n.db.from("customer_notes").insert({...ai,created_by:a.id});!b&&(Y(!1),aj({customer_id:"",note_title:"",note_content:"",note_type:"general",is_pinned:!1}),i&&ay(i.id))},aE=async()=>{let{data:{user:a}}=await n.db.auth.getUser();if(!a)return;if(!ak.company_name)return void alert("Company name is required");let{error:b}=await n.db.from("customers").insert({...ak,created_by:a.id});b?alert("Error creating customer: "+b.message):(Q(!1),am({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),as(),az())},aF=async()=>{if(!aa)return;if(!ak.company_name)return void alert("Company name is required");let{error:a}=await n.db.from("customers").update(ak).eq("id",aa.id);a?alert("Error updating customer: "+a.message):(Q(!1),ab(null),am({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),as())},aG=async a=>{if(!confirm("Are you sure you want to delete this interaction?"))return;let{error:b}=await n.db.from("customer_interactions").delete().eq("id",a);b||au()},aH=async a=>{if(!confirm("Are you sure you want to delete this ticket?"))return;let{error:b}=await n.db.from("customer_support_tickets").delete().eq("id",a);b||(av(),az())},aI=async a=>{if(!confirm("Are you sure you want to delete this activity?"))return;let{error:b}=await n.db.from("customer_activities").delete().eq("id",a);b||aw()},aJ=async a=>{if(!confirm("Are you sure you want to delete this note?"))return;let{error:b}=await n.db.from("customer_notes").delete().eq("id",a);!b&&i&&ay(i.id)},aK=async(a,b)=>{let{error:c}=await n.db.from("customer_support_tickets").update({ticket_status:b}).eq("id",a);c||(av(),az())},aM=async(a,b)=>{let{error:c}=await n.db.from("customer_activities").update({activity_status:b,completed_at:"completed"===b?new Date().toISOString():null}).eq("id",a);c||aw()},aN=a=>a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600",aO=a=>({healthy:"bg-green-100 text-green-700",at_risk:"bg-yellow-100 text-yellow-700",critical:"bg-red-100 text-red-700"})[a]||"bg-gray-100 text-gray-700",aP=a=>new Intl.NumberFormat("en-MY",{style:"currency",currency:"MYR",minimumFractionDigits:0}).format(a),aQ=a=>k.find(b=>b.customer_id===a),aR=a=>C.find(b=>b.customer_id===a);if(E)return(0,b.jsx)("div",{className:"flex items-center justify-center h-screen bg-slate-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-400 text-lg",children:"Loading customer data..."})]})});let aS=g.filter(a=>a.company_name.toLowerCase().includes(G.toLowerCase()));return(0,b.jsxs)("div",{className:"p-8 bg-slate-950 min-h-screen",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Advanced CRM"}),(0,b.jsx)("p",{className:"text-slate-400",children:"360Â° customer relationship management"})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsxs)("button",{onClick:()=>{ab(null),am({company_name:"",business_registration_number:"",tax_id:"",industry_id:"",customer_segment_id:"",website:"",phone_number:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"",employee_count:0,annual_revenue:0,contract_value:0,customer_status:"active"}),Q(!0)},className:"flex items-center gap-2 px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Add Customer"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 mb-8",children:[(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(bM.Building2,{className:"w-8 h-8 text-cyan-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:an.totalCustomers}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Total Customers"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(c2.default,{className:"w-8 h-8 text-green-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:an.healthyCustomers}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Healthy"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(K.default,{className:"w-8 h-8 text-yellow-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:an.atRiskCustomers}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"At Risk"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(m.default,{className:"w-8 h-8 text-blue-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:an.averageHealthScore}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Avg Health Score"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(O.default,{className:"w-8 h-8 text-emerald-400"})}),(0,b.jsx)("div",{className:"text-2xl font-bold text-white mb-1",children:aP(an.totalLTV)}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Total LTV"})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)(aL.AlertCircle,{className:"w-8 h-8 text-orange-400"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white mb-1",children:an.openTickets}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:"Open Tickets"})]})]}),(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-xl",children:[(0,b.jsx)("div",{className:"border-b border-slate-700",children:(0,b.jsx)("div",{className:"flex items-center gap-6 px-6 overflow-x-auto",children:[{id:"customers",label:"Customers",icon:bM.Building2},{id:"health",label:"Health Scores",icon:m.default},{id:"interactions",label:"Interactions",icon:Z.MessageSquare},{id:"tickets",label:"Support Tickets",icon:aL.AlertCircle},{id:"activities",label:"Activities",icon:cL.default},{id:"revenue",label:"Revenue",icon:O.default}].map(a=>{let c=a.icon;return(0,b.jsx)("button",{onClick:()=>f(a.id),className:`py-4 px-2 border-b-2 transition-colors whitespace-nowrap ${e===a.id?"border-cyan-500 text-cyan-400":"border-transparent text-slate-400 hover:text-white"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-semibold",children:a.label})]})},a.id)})})}),(0,b.jsxs)("div",{className:"p-6",children:["customers"===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.default,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search customers...",value:G,onChange:a=>H(a.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-12 pr-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500"})]})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-800 border-b border-slate-700",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Company"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Health Score"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"LTV"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"MRR"}),(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-slate-400 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-slate-700",children:aS.map(a=>{let c=aQ(a.id),d=aR(a.id);return(0,b.jsxs)("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-lg flex items-center justify-center",children:(0,b.jsx)(bM.Building2,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-white",children:a.company_name}),(0,b.jsx)("div",{className:"text-sm text-slate-400",children:a.city})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:c&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:`text-2xl font-bold ${aN(c.health_score)}`,children:c.health_score}),(0,b.jsx)(m.default,{className:"w-5 h-5 text-slate-400"})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:c&&(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${aO(c.health_status)}`,children:c.health_status})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-white font-semibold",children:d?aP(d.lifetime_value):"-"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"text-white font-semibold",children:d?aP(d.monthly_recurring_revenue):"-"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{j(a),_(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(B.default,{className:"w-4 h-4 text-slate-400"})}),(0,b.jsx)("button",{onClick:()=>{ab(a),am({company_name:a.company_name,business_registration_number:a.business_registration_number,tax_id:"",industry_id:a.industry.id,customer_segment_id:a.customer_segment.id,website:a.website,phone_number:a.phone_number,email:a.email,address_line1:"",address_line2:"",city:a.city,state:"",postal_code:"",country:a.country,employee_count:0,annual_revenue:0,contract_value:a.contract_value,customer_status:a.customer_status}),Q(!0)},className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(t.default,{className:"w-4 h-4 text-slate-400"})})]})})]},a.id)})})]})})]}),"health"===e&&(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(a=>{let c=g.find(b=>b.id===a.customer_id);return(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-1",children:c?.company_name}),(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${aO(a.health_status)}`,children:a.health_status})]}),(0,b.jsx)("div",{className:`text-4xl font-bold ${aN(a.health_score)}`,children:a.health_score})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Engagement"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-cyan-500",style:{width:`${a.engagement_score}%`}})}),(0,b.jsx)("span",{className:"text-sm text-white font-semibold",children:a.engagement_score})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Satisfaction"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-green-500",style:{width:`${a.satisfaction_score}%`}})}),(0,b.jsx)("span",{className:"text-sm text-white font-semibold",children:a.satisfaction_score})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(K.default,{className:"w-5 h-5 text-yellow-400"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Churn Risk:"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-white",children:a.churn_risk_level})]}),(0,b.jsxs)("div",{className:"text-sm text-slate-400",children:[Math.round(a.churn_probability),"% probability"]})]})]},a.id)})})}),"interactions"===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex justify-end mb-6",children:(0,b.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Log Interaction"]})}),(0,b.jsx)("div",{className:"space-y-4",children:o.map(a=>{let c=g.find(b=>b.id===a.customer_id);return(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-cyan-500/20 rounded-lg flex items-center justify-center",children:(0,b.jsx)(Z.MessageSquare,{className:"w-5 h-5 text-cyan-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-white mb-1",children:a.subject}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,b.jsx)("span",{children:c?.company_name}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{className:"capitalize",children:a.interaction_type}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(a.interaction_date).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"positive"===a.sentiment?"bg-green-500/20 text-green-400":"negative"===a.sentiment?"bg-red-500/20 text-red-400":"bg-slate-600 text-slate-300"}`,children:a.sentiment}),(0,b.jsx)("button",{onClick:()=>aG(a.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]})]}),(0,b.jsx)("p",{className:"text-slate-300 mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(J.Clock,{className:"w-4 h-4"}),a.duration_minutes," min"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(al.default,{className:"w-4 h-4"}),a.outcome]})]})]},a.id)})})]}),"tickets"===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex justify-end mb-6",children:(0,b.jsxs)("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Create Ticket"]})}),(0,b.jsx)("div",{className:"space-y-4",children:r.map(a=>{let c=g.find(b=>b.id===a.customer_id);return(0,b.jsx)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"high"===a.ticket_priority?"bg-red-500/20":"medium"===a.ticket_priority?"bg-yellow-500/20":"bg-blue-500/20"}`,children:(0,b.jsx)(aL.AlertCircle,{className:`w-5 h-5 ${"high"===a.ticket_priority?"text-red-400":"medium"===a.ticket_priority?"text-yellow-400":"text-blue-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("h4",{className:"font-semibold text-white",children:a.ticket_subject}),(0,b.jsx)("span",{className:"text-xs text-slate-500 font-mono",children:a.ticket_number})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,b.jsx)("span",{children:c?.company_name}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{className:"capitalize",children:a.ticket_category}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{children:new Date(a.created_at).toLocaleDateString()})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("select",{value:a.ticket_status,onChange:b=>aK(a.id,b.target.value),className:"px-3 py-1 bg-slate-700 border border-slate-600 rounded-lg text-sm text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"open",children:"Open"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"resolved",children:"Resolved"}),(0,b.jsx)("option",{value:"closed",children:"Closed"})]}),(0,b.jsx)("button",{onClick:()=>aH(a.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]})]})},a.id)})})]}),"activities"===e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"flex justify-end mb-6",children:(0,b.jsxs)("button",{onClick:()=>W(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-5 h-5"}),"Schedule Activity"]})}),(0,b.jsx)("div",{className:"space-y-4",children:v.map(a=>{let c=g.find(b=>b.id===a.customer_id);return(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${"completed"===a.activity_status?"bg-green-500/20":"in_progress"===a.activity_status?"bg-blue-500/20":"bg-slate-600"}`,children:(0,b.jsx)(cL.default,{className:`w-5 h-5 ${"completed"===a.activity_status?"text-green-400":"in_progress"===a.activity_status?"text-blue-400":"text-slate-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold text-white mb-1",children:a.activity_title}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,b.jsx)("span",{children:c?.company_name}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsx)("span",{className:"capitalize",children:a.activity_type}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:["Due: ",new Date(a.due_date).toLocaleDateString()]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("select",{value:a.activity_status,onChange:b=>aM(a.id,b.target.value),className:"px-3 py-1 bg-slate-700 border border-slate-600 rounded-lg text-sm text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"pending",children:"Pending"}),(0,b.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,b.jsx)("option",{value:"completed",children:"Completed"})]}),(0,b.jsx)("button",{onClick:()=>aI(a.id),className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]})]}),a.activity_description&&(0,b.jsx)("p",{className:"text-slate-300 mt-2",children:a.activity_description})]},a.id)})})]}),"revenue"===e&&(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(a=>{let c=g.find(b=>b.id===a.customer_id);return(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:c?.company_name}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Lifetime Value"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-cyan-400",children:aP(a.lifetime_value)})]}),(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Total Revenue"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:aP(a.total_revenue)})]}),(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"MRR"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:aP(a.monthly_recurring_revenue)})]}),(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"ARR"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:aP(a.annual_recurring_revenue)})]}),(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Total Orders"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:a.total_orders})]}),(0,b.jsxs)("div",{className:"bg-slate-900 rounded-lg p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Avg Order Value"}),(0,b.jsx)("div",{className:"text-xl font-bold text-white",children:aP(a.average_order_value||0)})]})]})]},a.id)})})})]})]}),R&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Log Customer Interaction"}),(0,b.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer"}),(0,b.jsxs)("select",{value:ac.customer_id,onChange:a=>ad({...ac,customer_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select Customer"}),g.map(a=>(0,b.jsx)("option",{value:a.id,children:a.company_name},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Type"}),(0,b.jsxs)("select",{value:ac.interaction_type,onChange:a=>ad({...ac,interaction_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"call",children:"Call"}),(0,b.jsx)("option",{value:"email",children:"Email"}),(0,b.jsx)("option",{value:"meeting",children:"Meeting"}),(0,b.jsx)("option",{value:"chat",children:"Chat"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Channel"}),(0,b.jsxs)("select",{value:ac.interaction_channel,onChange:a=>ad({...ac,interaction_channel:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"phone",children:"Phone"}),(0,b.jsx)("option",{value:"email",children:"Email"}),(0,b.jsx)("option",{value:"video",children:"Video"}),(0,b.jsx)("option",{value:"in-person",children:"In Person"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),(0,b.jsx)("input",{type:"text",value:ac.subject,onChange:a=>ad({...ac,subject:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"What was discussed?"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:ac.description,onChange:a=>ad({...ac,description:a.target.value}),rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Details of the interaction..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Outcome"}),(0,b.jsx)("input",{type:"text",value:ac.outcome,onChange:a=>ad({...ac,outcome:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Result"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sentiment"}),(0,b.jsxs)("select",{value:ac.sentiment,onChange:a=>ad({...ac,sentiment:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"positive",children:"Positive"}),(0,b.jsx)("option",{value:"neutral",children:"Neutral"}),(0,b.jsx)("option",{value:"negative",children:"Negative"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Duration (min)"}),(0,b.jsx)("input",{type:"number",value:ac.duration_minutes,onChange:a=>ad({...ac,duration_minutes:parseInt(a.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:aA,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Log Interaction"}),(0,b.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),T&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create Support Ticket"}),(0,b.jsx)("button",{onClick:()=>U(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer"}),(0,b.jsxs)("select",{value:ae.customer_id,onChange:a=>af({...ae,customer_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select Customer"}),g.map(a=>(0,b.jsx)("option",{value:a.id,children:a.company_name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),(0,b.jsx)("input",{type:"text",value:ae.ticket_subject,onChange:a=>af({...ae,ticket_subject:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Brief description of the issue"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:ae.ticket_description,onChange:a=>af({...ae,ticket_description:a.target.value}),rows:4,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Detailed description..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,b.jsxs)("select",{value:ae.ticket_priority,onChange:a=>af({...ae,ticket_priority:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Category"}),(0,b.jsxs)("select",{value:ae.ticket_category,onChange:a=>af({...ae,ticket_category:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"general",children:"General"}),(0,b.jsx)("option",{value:"technical",children:"Technical"}),(0,b.jsx)("option",{value:"billing",children:"Billing"}),(0,b.jsx)("option",{value:"feature",children:"Feature Request"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:aB,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Create Ticket"}),(0,b.jsx)("button",{onClick:()=>U(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),V&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Schedule Activity"}),(0,b.jsx)("button",{onClick:()=>W(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer"}),(0,b.jsxs)("select",{value:ag.customer_id,onChange:a=>ah({...ag,customer_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"",children:"Select Customer"}),g.map(a=>(0,b.jsx)("option",{value:a.id,children:a.company_name},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Activity Type"}),(0,b.jsxs)("select",{value:ag.activity_type,onChange:a=>ah({...ag,activity_type:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"call",children:"Call"}),(0,b.jsx)("option",{value:"email",children:"Email"}),(0,b.jsx)("option",{value:"meeting",children:"Meeting"}),(0,b.jsx)("option",{value:"follow_up",children:"Follow-up"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),(0,b.jsxs)("select",{value:ag.priority,onChange:a=>ah({...ag,priority:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,b.jsx)("input",{type:"text",value:ag.activity_title,onChange:a=>ah({...ag,activity_title:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Activity title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:ag.activity_description,onChange:a=>ah({...ag,activity_description:a.target.value}),rows:3,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Activity details..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date"}),(0,b.jsx)("input",{type:"date",value:ag.due_date,onChange:a=>ah({...ag,due_date:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:aC,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Schedule Activity"}),(0,b.jsx)("button",{onClick:()=>W(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),$&&i&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-cyan-600 to-blue-600 px-8 py-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-white rounded-xl flex items-center justify-center",children:(0,b.jsx)(bM.Building2,{className:"w-8 h-8 text-cyan-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:i.company_name}),(0,b.jsxs)("p",{className:"text-cyan-100",children:[i.city,", ",i.country]})]})]}),(0,b.jsx)("button",{onClick:()=>_(!1),className:"p-2 hover:bg-cyan-500 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-white"})})]}),(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsxs)("button",{onClick:()=>{aj({...ai,customer_id:i.id}),Y(!0)},className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(y.default,{className:"w-4 h-4"}),"Add Note"]}),(0,b.jsxs)("button",{onClick:()=>{ad({...ac,customer_id:i.id}),S(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(Z.MessageSquare,{className:"w-4 h-4"}),"Log Interaction"]}),(0,b.jsxs)("button",{onClick:()=>{af({...ae,customer_id:i.id}),U(!0)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors",children:[(0,b.jsx)(aL.AlertCircle,{className:"w-4 h-4"}),"Create Ticket"]})]}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:(a=aQ(i.id),d=aR(i.id),(0,b.jsxs)(b.Fragment,{children:[a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Health Score"}),(0,b.jsx)("div",{className:`text-3xl font-bold ${aN(a.health_score)}`,children:a.health_score})]}),(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"Churn Risk"}),(0,b.jsx)("div",{className:"text-lg font-bold text-white capitalize",children:a.churn_risk_level})]})]}),d&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"LTV"}),(0,b.jsx)("div",{className:"text-xl font-bold text-emerald-400",children:aP(d.lifetime_value)})]}),(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-400 mb-1",children:"MRR"}),(0,b.jsx)("div",{className:"text-xl font-bold text-cyan-400",children:aP(d.monthly_recurring_revenue)})]})]})]}))}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Notes"}),(0,b.jsx)("div",{className:"space-y-3",children:z.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h4",{className:"font-semibold text-white",children:a.note_title}),(0,b.jsx)("button",{onClick:()=>aJ(a.id),className:"p-1 hover:bg-slate-700 rounded transition-colors",children:(0,b.jsx)(u.default,{className:"w-4 h-4 text-red-400"})})]}),(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-2",children:a.note_content}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:new Date(a.created_at).toLocaleDateString()})]},a.id))})]})]})]})}),X&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-2xl w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Add Note"}),(0,b.jsx)("button",{onClick:()=>Y(!1),className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title"}),(0,b.jsx)("input",{type:"text",value:ai.note_title,onChange:a=>aj({...ai,note_title:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Note title"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Content"}),(0,b.jsx)("textarea",{value:ai.note_content,onChange:a=>aj({...ai,note_content:a.target.value}),rows:5,className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white",placeholder:"Note content..."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"pin-note",checked:ai.is_pinned,onChange:a=>aj({...ai,is_pinned:a.target.checked}),className:"w-4 h-4"}),(0,b.jsx)("label",{htmlFor:"pin-note",className:"text-sm text-slate-300",children:"Pin this note"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:aD,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:"Add Note"}),(0,b.jsx)("button",{onClick:()=>Y(!1),className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})}),P&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-slate-900 border border-slate-700 rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:aa?"Edit Customer":"Add New Customer"}),(0,b.jsx)("button",{onClick:()=>{Q(!1),ab(null)},className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:(0,b.jsx)(w.X,{className:"w-6 h-6 text-slate-400"})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Company Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Company Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:ak.company_name,onChange:a=>am({...ak,company_name:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Company name",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Business Registration Number"}),(0,b.jsx)("input",{type:"text",value:ak.business_registration_number,onChange:a=>am({...ak,business_registration_number:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Registration number"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Industry"}),(0,b.jsxs)("select",{value:ak.industry_id,onChange:a=>am({...ak,industry_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"",children:"Select Industry"}),I.map(a=>(0,b.jsx)("option",{value:a.id,children:a.industry_name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer Segment"}),(0,b.jsxs)("select",{value:ak.customer_segment_id,onChange:a=>am({...ak,customer_segment_id:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"",children:"Select Segment"}),M.map(a=>(0,b.jsx)("option",{value:a.id,children:a.segment_name},a.id))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:ak.customer_status,onChange:a=>am({...ak,customer_status:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"prospect",children:"Prospect"}),(0,b.jsx)("option",{value:"churned",children:"Churned"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Website"}),(0,b.jsx)("input",{type:"url",value:ak.website,onChange:a=>am({...ak,website:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"https://example.com"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),(0,b.jsx)("input",{type:"email",value:ak.email,onChange:a=>am({...ak,email:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"contact@company.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",value:ak.phone_number,onChange:a=>am({...ak,phone_number:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"+60 12-345-6789"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Address Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address Line 1"}),(0,b.jsx)("input",{type:"text",value:ak.address_line1,onChange:a=>am({...ak,address_line1:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Street address"})]}),(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address Line 2"}),(0,b.jsx)("input",{type:"text",value:ak.address_line2,onChange:a=>am({...ak,address_line2:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Apartment, suite, etc."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),(0,b.jsx)("input",{type:"text",value:ak.city,onChange:a=>am({...ak,city:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"City"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),(0,b.jsx)("input",{type:"text",value:ak.state,onChange:a=>am({...ak,state:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"State/Province"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Postal Code"}),(0,b.jsx)("input",{type:"text",value:ak.postal_code,onChange:a=>am({...ak,postal_code:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Postal code"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Country"}),(0,b.jsx)("input",{type:"text",value:ak.country,onChange:a=>am({...ak,country:a.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"Country"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Business Metrics"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Employee Count"}),(0,b.jsx)("input",{type:"number",value:ak.employee_count,onChange:a=>am({...ak,employee_count:parseInt(a.target.value)||0}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Annual Revenue (MYR)"}),(0,b.jsx)("input",{type:"number",value:ak.annual_revenue,onChange:a=>am({...ak,annual_revenue:parseFloat(a.target.value)||0}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"0.00"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Contract Value (MYR)"}),(0,b.jsx)("input",{type:"number",value:ak.contract_value,onChange:a=>am({...ak,contract_value:parseFloat(a.target.value)||0}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-cyan-500",placeholder:"0.00"})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[(0,b.jsx)("button",{onClick:aa?aF:aE,className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-6 py-3 rounded-lg font-semibold transition-all",children:aa?"Update Customer":"Create Customer"}),(0,b.jsx)("button",{onClick:()=>{Q(!1),ab(null)},className:"px-6 py-3 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors",children:"Cancel"})]})]})]})})]})}function dd({params:a}){let e=(0,c.use)(a).slug;switch(e?e[0]:"dashboard"){case"dashboard":default:return(0,b.jsx)(d.default,{});case"product-catalog":return(0,b.jsx)(av,{});case"billing":return(0,b.jsx)(aD,{});case"settings":return(0,b.jsx)(aj,{});case"subscriptions":return(0,b.jsx)(db,{});case"customers":return(0,b.jsx)(dc,{});case"resources":return(0,b.jsx)(aI,{});case"reports":return(0,b.jsx)(aN,{});case"recordings":return(0,b.jsx)(aQ,{});case"get-started":return(0,b.jsx)(a_,{});case"support":return(0,b.jsx)(ba,{});case"documentation":return(0,b.jsx)(bb,{});case"feature-validation":return(0,b.jsx)(bc,{});case"tiktok":return(0,b.jsx)(c_,{});case"instagram":return(0,b.jsx)(c1,{});case"facebook":return(0,b.jsx)(c3,{});case"youtube":return(0,b.jsx)(c4,{});case"linkedin":return(0,b.jsx)(c6,{});case"viber":return(0,b.jsx)(c7,{});case"line":return(0,b.jsx)(c8,{});case"wechat":return(0,b.jsx)(c9,{});case"sms":return(0,b.jsx)(bI,{});case"rcs":return(0,b.jsx)(bL,{});case"whatsapp":return(0,b.jsx)(bP,{});case"voice-api":return(0,b.jsx)(ci,{});case"cc":return(0,b.jsx)(co,{});case"chatbot":return(0,b.jsx)(cs,{});case"voice-agent":return(0,b.jsx)(cB,{});case"meetings-ai":return(0,b.jsx)(cO,{});case"video-api":return(0,b.jsx)(bz,{});case"api-marketplace":return(0,b.jsx)(cR,{});case"email":return(0,b.jsx)(cU,{});case"telco-api":return(0,b.jsx)(cY,{onNavigate:()=>{}});case"cart":return(0,b.jsx)(cQ,{onNavigate:()=>{}})}}a.s(["default",()=>dd],34451)}];

//# sourceMappingURL=_13d73dde._.js.map