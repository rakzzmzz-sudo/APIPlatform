{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/MalaysianInvoiceViewer.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { X, Download, Printer, Mail, CheckCircle2, QrCode, FileText, Table } from 'lucide-react';\nimport { db } from '../../lib/db';\n\ninterface InvoiceItem {\n  id: string;\n  description: string;\n  quantity: number;\n  unit_price: number;\n  amount: number;\n  classification_code?: string;\n  tax_type?: string;\n  tax_rate?: number;\n  tax_amount?: number;\n}\n\ninterface Invoice {\n  id: string;\n  invoice_number: string;\n  invoice_date: string;\n  due_date: string;\n  status: string;\n  customer_name: string;\n  customer_email: string;\n  customer_address: string;\n  customer_company?: string;\n  customer_registration_number?: string;\n  customer_sst_number?: string;\n  customer_tin?: string;\n  subtotal: number;\n  sst_rate: number;\n  sst_amount: number;\n  total_amount: number;\n  currency: string;\n  notes?: string;\n  payment_terms: string;\n  myinvois_uuid?: string;\n  myinvois_submission_date?: string;\n  myinvois_validation_link?: string;\n}\n\ninterface CompanySettings {\n  company_name: string;\n  company_registration_number: string;\n  sst_registration_number?: string;\n  tin?: string;\n  msic_code?: string;\n  address_line1: string;\n  address_line2?: string;\n  city: string;\n  state: string;\n  postal_code: string;\n  country: string;\n  phone: string;\n  email: string;\n  bank_name?: string;\n  bank_account_number?: string;\n  bank_account_name?: string;\n}\n\ninterface MalaysianInvoiceViewerProps {\n  invoiceId: string;\n  onClose: () => void;\n}\n\nexport default function MalaysianInvoiceViewer({ invoiceId, onClose }: MalaysianInvoiceViewerProps) {\n  const [invoice, setInvoice] = useState<Invoice | null>(null);\n  const [items, setItems] = useState<InvoiceItem[]>([]);\n  const [company, setCompany] = useState<CompanySettings | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [qrCodeData, setQrCodeData] = useState<string>('');\n\n  useEffect(() => {\n    loadInvoiceData();\n  }, [invoiceId]);\n\n  const loadInvoiceData = async () => {\n    try {\n      const { data: invoiceData, error: invoiceError } = await db\n        .from('invoices')\n        .select('*')\n        .eq('id', invoiceId)\n        .single();\n\n      if (invoiceError) throw invoiceError;\n\n      const { data: itemsData, error: itemsError } = await db\n        .from('invoice_items')\n        .select('*')\n        .eq('invoice_id', invoiceId);\n\n      if (itemsError) throw itemsError;\n\n      const { data: companyData } = await db\n        .from('company_settings')\n        .select('*')\n        .limit(1)\n        .maybeSingle();\n\n      const defaultCompany: CompanySettings = {\n        company_name: 'RAPIDACOM SDN BHD',\n        company_registration_number: '202201234567 (1234567-A)',\n        sst_registration_number: 'W10-1808-32000123',\n        tin: '202201234567',\n        msic_code: '61100',\n        address_line1: 'Level 10, Menara RapidaCOM',\n        address_line2: 'Jalan Sultan Ismail',\n        city: 'Kuala Lumpur',\n        state: 'Wilayah Persekutuan',\n        postal_code: '50250',\n        country: 'Malaysia',\n        phone: '+603-2181-8888',\n        email: 'billing@rapidacom.com',\n        bank_name: 'Malayan Banking Berhad (Maybank)',\n        bank_account_number: '514012345678',\n        bank_account_name: 'RAPIDACOM SDN BHD'\n      };\n\n      const myinvoisUuid = invoiceData.myinvois_uuid || generateMyInvoisUUID(invoiceData.invoice_number);\n      const myinvoisValidationLink = invoiceData.myinvois_validation_link ||\n        `https://myinvois.hasil.gov.my/verify/${myinvoisUuid}`;\n\n      const enhancedInvoice = {\n        ...invoiceData,\n        myinvois_uuid: myinvoisUuid,\n        myinvois_submission_date: invoiceData.myinvois_submission_date || invoiceData.invoice_date,\n        myinvois_validation_link: myinvoisValidationLink\n      };\n\n      setInvoice(enhancedInvoice);\n      setItems(itemsData || []);\n      setCompany(companyData || defaultCompany);\n\n      const qrData = generateQRCodeData(enhancedInvoice, companyData || defaultCompany);\n      setQrCodeData(qrData);\n\n    } catch (error) {\n      console.error('Error loading invoice:', error);\n      alert('Failed to load invoice');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateMyInvoisUUID = (invoiceNumber: string): string => {\n    const timestamp = Date.now().toString(36);\n    const random = Math.random().toString(36).substring(2, 15);\n    return `${invoiceNumber}-${timestamp}-${random}`.toUpperCase();\n  };\n\n  const generateQRCodeData = (inv: Invoice, comp: CompanySettings): string => {\n    const qrData = [\n      comp.company_name,\n      comp.company_registration_number,\n      inv.myinvois_uuid || '',\n      inv.invoice_date,\n      inv.total_amount.toFixed(2),\n      inv.sst_amount.toFixed(2),\n      inv.myinvois_validation_link || ''\n    ].join('|');\n\n    return `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrData)}`;\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDownloadPDF = () => {\n    const printWindow = window.open('', '', 'width=800,height=600');\n    if (!printWindow) return;\n\n    const invoiceContent = document.getElementById('invoice-content');\n    if (!invoiceContent) return;\n\n    printWindow.document.write(`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Invoice ${invoice?.invoice_number}</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n              box-sizing: border-box;\n            }\n            body {\n              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n              padding: 20px;\n              color: #1e293b;\n            }\n            .invoice-container {\n              max-width: 800px;\n              margin: 0 auto;\n              background: white;\n            }\n            .invoice-header {\n              border-bottom: 2px solid #39FF14;\n              padding-bottom: 20px;\n              margin-bottom: 30px;\n            }\n            .company-info h1 {\n              font-size: 24px;\n              font-weight: bold;\n              color: #39FF14;\n              margin-bottom: 8px;\n            }\n            .company-info p {\n              font-size: 13px;\n              color: #64748b;\n              line-height: 1.6;\n            }\n            .invoice-details {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 30px;\n            }\n            .invoice-meta h2 {\n              font-size: 28px;\n              font-weight: bold;\n              color: #0f172a;\n              margin-bottom: 12px;\n            }\n            .invoice-meta .meta-item {\n              display: flex;\n              gap: 12px;\n              margin-bottom: 6px;\n            }\n            .invoice-meta .label {\n              font-size: 13px;\n              color: #64748b;\n              width: 120px;\n            }\n            .invoice-meta .value {\n              font-size: 13px;\n              color: #0f172a;\n              font-weight: 500;\n            }\n            .status-badge {\n              display: inline-block;\n              padding: 4px 12px;\n              border-radius: 12px;\n              font-size: 11px;\n              font-weight: 600;\n              text-transform: uppercase;\n              background: #dcfce7;\n              color: #166534;\n            }\n            .customer-section {\n              background: #f8fafc;\n              padding: 20px;\n              border-radius: 8px;\n              margin-bottom: 30px;\n            }\n            .customer-section h3 {\n              font-size: 14px;\n              font-weight: 600;\n              color: #0f172a;\n              margin-bottom: 12px;\n            }\n            .customer-section p {\n              font-size: 13px;\n              color: #475569;\n              line-height: 1.6;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              margin-bottom: 30px;\n            }\n            thead {\n              background: #39FF14;\n              color: white;\n            }\n            th {\n              padding: 12px;\n              text-align: left;\n              font-size: 12px;\n              font-weight: 600;\n              text-transform: uppercase;\n            }\n            td {\n              padding: 12px;\n              border-bottom: 1px solid #e2e8f0;\n              font-size: 13px;\n            }\n            tbody tr:hover {\n              background: #f8fafc;\n            }\n            .text-right {\n              text-align: right;\n            }\n            .summary {\n              max-width: 350px;\n              margin-left: auto;\n            }\n            .summary-row {\n              display: flex;\n              justify-content: space-between;\n              padding: 8px 0;\n              font-size: 13px;\n            }\n            .summary-row.total {\n              border-top: 2px solid #39FF14;\n              padding-top: 12px;\n              margin-top: 8px;\n              font-size: 16px;\n              font-weight: bold;\n              color: #39FF14;\n            }\n            .footer {\n              margin-top: 40px;\n              padding-top: 20px;\n              border-top: 1px solid #e2e8f0;\n            }\n            .footer p {\n              font-size: 12px;\n              color: #64748b;\n              line-height: 1.6;\n            }\n            .qr-section {\n              text-align: center;\n              margin-top: 30px;\n              padding: 20px;\n              background: #f8fafc;\n              border-radius: 8px;\n            }\n            .qr-section p {\n              font-size: 11px;\n              color: #64748b;\n              margin-top: 8px;\n            }\n            @media print {\n              body { padding: 0; }\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          ${invoiceContent.innerHTML}\n        </body>\n      </html>\n    `);\n\n    printWindow.document.close();\n    printWindow.focus();\n\n    setTimeout(() => {\n      printWindow.print();\n      printWindow.close();\n    }, 250);\n  };\n\n  const handleDownloadJSON = () => {\n    if (!invoice) return;\n\n    const invoiceData = {\n      invoice,\n      items,\n      company,\n      generated_at: new Date().toISOString()\n    };\n\n    const dataStr = JSON.stringify(invoiceData, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `invoice-${invoice.invoice_number}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleDownloadCSV = () => {\n    if (!invoice || !items.length) return;\n\n    let csvContent = 'Invoice Details\\n';\n    csvContent += `Invoice Number,${invoice.invoice_number}\\n`;\n    csvContent += `Invoice Date,${invoice.invoice_date}\\n`;\n    csvContent += `Due Date,${invoice.due_date}\\n`;\n    csvContent += `Customer,${invoice.customer_name}\\n`;\n    csvContent += `Status,${invoice.status}\\n\\n`;\n\n    csvContent += 'Line Items\\n';\n    csvContent += 'Description,Quantity,Unit Price,Amount\\n';\n    items.forEach(item => {\n      csvContent += `\"${item.description}\",${item.quantity},${item.unit_price},${item.amount}\\n`;\n    });\n\n    csvContent += '\\nSummary\\n';\n    csvContent += `Subtotal,${invoice.subtotal}\\n`;\n    csvContent += `SST (${invoice.sst_rate}%),${invoice.sst_amount}\\n`;\n    csvContent += `Total,${invoice.total_amount}\\n`;\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `invoice-${invoice.invoice_number}.csv`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleEmailInvoice = async () => {\n    alert('Email functionality will be implemented with email service integration');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-8\">\n          <div className=\"w-12 h-12 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!invoice || !company) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-lg p-8 max-w-md\">\n          <p className=\"text-slate-900 text-center mb-4\">Invoice not found</p>\n          <button\n            onClick={onClose}\n            className=\"w-full bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'paid': return 'bg-emerald-100 text-emerald-800 border-emerald-300';\n      case 'issued': return 'bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30';\n      case 'overdue': return 'bg-red-100 text-red-800 border-red-300';\n      case 'cancelled': return 'bg-gray-100 text-gray-800 border-gray-300';\n      default: return 'bg-slate-100 text-slate-800 border-slate-300';\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col\">\n        <div className=\"print:hidden flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0\">\n          <div>\n            <h2 className=\"text-xl font-bold text-slate-900\">Malaysian E-Invoice</h2>\n            <p className=\"text-sm text-slate-600\">MyInvois Compliant</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={handleEmailInvoice}\n              className=\"p-2 text-slate-600 hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-colors\"\n              title=\"Email Invoice\"\n            >\n              <Mail className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleDownloadPDF}\n              className=\"p-2 text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors\"\n              title=\"Download as PDF\"\n            >\n              <Download className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleDownloadJSON}\n              className=\"p-2 text-slate-600 hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-colors\"\n              title=\"Download JSON Data\"\n            >\n              <FileText className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleDownloadCSV}\n              className=\"p-2 text-slate-600 hover:text-[#32e012] hover:bg-[#39FF14]/10 rounded-lg transition-colors\"\n              title=\"Download CSV\"\n            >\n              <Table className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handlePrint}\n              className=\"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors\"\n              title=\"Print\"\n            >\n              <Printer className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"overflow-y-auto flex-1\">\n          <div className=\"p-8 bg-white\" id=\"invoice-content\">\n          <div className=\"mb-6 pb-6 border-b-4 border-emerald-600\">\n            <div className=\"flex justify-between items-start\">\n              <div className=\"flex-1\">\n                <h1 className=\"text-3xl font-bold text-slate-900 mb-1\">{company.company_name}</h1>\n                <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                  Co. Reg. No.: {company.company_registration_number}\n                </p>\n                {company.sst_registration_number && (\n                  <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                    SST Reg. No.: {company.sst_registration_number}\n                  </p>\n                )}\n                {company.tin && (\n                  <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                    TIN: {company.tin}\n                  </p>\n                )}\n                {company.msic_code && (\n                  <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                    MSIC Code: {company.msic_code}\n                  </p>\n                )}\n                <div className=\"text-slate-600 text-sm space-y-0.5 mt-2\">\n                  <p>{company.address_line1}</p>\n                  {company.address_line2 && <p>{company.address_line2}</p>}\n                  <p>{company.postal_code} {company.city}</p>\n                  <p>{company.state}, {company.country}</p>\n                  <p className=\"mt-2\">Tel: {company.phone}</p>\n                  <p>Email: {company.email}</p>\n                </div>\n              </div>\n\n              <div className=\"text-right ml-6\">\n                {qrCodeData && (\n                  <div className=\"mb-3\">\n                    <img src={qrCodeData} alt=\"MyInvois QR Code\" className=\"w-32 h-32 mx-auto border-2 border-slate-200 rounded\" />\n                    <p className=\"text-xs text-slate-500 mt-1\">Scan to verify</p>\n                  </div>\n                )}\n                <span className={`inline-block px-4 py-2 rounded-lg text-sm font-bold border-2 ${getStatusColor(invoice.status)}`}>\n                  {invoice.status.toUpperCase()}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <div className=\"bg-emerald-50 border-2 border-emerald-600 rounded-lg p-4\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <CheckCircle2 className=\"w-5 h-5 text-emerald-600\" />\n                <h2 className=\"text-2xl font-bold text-emerald-900\">TAX INVOICE / E-INVOICE</h2>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-slate-600 font-semibold\">MyInvois UUID:</span>\n                  <p className=\"font-mono text-xs text-slate-900 break-all\">{invoice.myinvois_uuid}</p>\n                </div>\n                <div>\n                  <span className=\"text-slate-600 font-semibold\">Submission Date:</span>\n                  <p className=\"text-slate-900\">{new Date(invoice.myinvois_submission_date || invoice.invoice_date).toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' })}</p>\n                </div>\n              </div>\n              {invoice.myinvois_validation_link && (\n                <div className=\"mt-2\">\n                  <span className=\"text-slate-600 font-semibold text-sm\">Validation:</span>\n                  <p className=\"text-xs text-[#39FF14] break-all\">{invoice.myinvois_validation_link}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-6 mb-6\">\n            <div>\n              <h3 className=\"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded\">Bill To</h3>\n              <div className=\"text-slate-900\">\n                <p className=\"font-bold text-lg mb-1\">{invoice.customer_name}</p>\n                {invoice.customer_company && <p className=\"font-semibold text-slate-700\">{invoice.customer_company}</p>}\n                {invoice.customer_registration_number && (\n                  <p className=\"text-sm text-slate-600 mt-1\">Co. Reg. No.: {invoice.customer_registration_number}</p>\n                )}\n                {invoice.customer_tin && (\n                  <p className=\"text-sm text-slate-600\">TIN: {invoice.customer_tin}</p>\n                )}\n                {invoice.customer_sst_number && (\n                  <p className=\"text-sm text-slate-600\">SST No.: {invoice.customer_sst_number}</p>\n                )}\n                {invoice.customer_address && (\n                  <p className=\"text-sm text-slate-600 mt-2 whitespace-pre-line\">{invoice.customer_address}</p>\n                )}\n                <p className=\"text-sm text-slate-600 mt-2\">{invoice.customer_email}</p>\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded\">Invoice Details</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between border-b border-slate-200 pb-1\">\n                  <span className=\"text-slate-600 font-semibold\">Invoice No.:</span>\n                  <span className=\"font-bold text-slate-900\">{invoice.invoice_number}</span>\n                </div>\n                <div className=\"flex justify-between border-b border-slate-200 pb-1\">\n                  <span className=\"text-slate-600 font-semibold\">Invoice Date:</span>\n                  <span className=\"text-slate-900\">{new Date(invoice.invoice_date).toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\n                </div>\n                <div className=\"flex justify-between border-b border-slate-200 pb-1\">\n                  <span className=\"text-slate-600 font-semibold\">Due Date:</span>\n                  <span className=\"text-slate-900\">{new Date(invoice.due_date).toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-600 font-semibold\">Currency:</span>\n                  <span className=\"text-slate-900 font-bold\">{invoice.currency}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <table className=\"w-full border-collapse\">\n              <thead>\n                <tr className=\"bg-slate-800 text-white\">\n                  <th className=\"text-left py-3 px-4 font-bold text-sm\">Description</th>\n                  <th className=\"text-center py-3 px-4 font-bold text-sm\">Qty</th>\n                  <th className=\"text-right py-3 px-4 font-bold text-sm\">Unit Price<br/><span className=\"text-xs\">({invoice.currency})</span></th>\n                  <th className=\"text-right py-3 px-4 font-bold text-sm\">Amount<br/><span className=\"text-xs\">({invoice.currency})</span></th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.map((item, index) => (\n                  <tr key={item.id} className={`border-b border-slate-200 ${index % 2 === 0 ? 'bg-slate-50' : 'bg-white'}`}>\n                    <td className=\"py-3 px-4 text-slate-900\">\n                      <p className=\"font-medium\">{item.description}</p>\n                      {item.classification_code && (\n                        <p className=\"text-xs text-slate-500 mt-1\">Classification: {item.classification_code}</p>\n                      )}\n                    </td>\n                    <td className=\"text-center py-3 px-4 text-slate-900\">{item.quantity}</td>\n                    <td className=\"text-right py-3 px-4 text-slate-900\">\n                      {item.unit_price.toFixed(2)}\n                    </td>\n                    <td className=\"text-right py-3 px-4 text-slate-900 font-semibold\">\n                      {item.amount.toFixed(2)}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"flex justify-end mb-6\">\n            <div className=\"w-96\">\n              <div className=\"space-y-2 mb-2\">\n                <div className=\"flex justify-between text-slate-700 text-sm\">\n                  <span className=\"font-semibold\">Subtotal:</span>\n                  <span className=\"font-bold\">{invoice.currency} {invoice.subtotal.toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between text-slate-700 text-sm border-t border-slate-300 pt-2\">\n                  <span className=\"font-semibold\">Sales & Service Tax (SST @ {invoice.sst_rate}%):</span>\n                  <span className=\"font-bold\">{invoice.currency} {invoice.sst_amount.toFixed(2)}</span>\n                </div>\n              </div>\n              <div className=\"flex justify-between text-lg font-bold text-white bg-emerald-600 px-4 py-3 rounded-lg mt-3\">\n                <span>TOTAL AMOUNT:</span>\n                <span>{invoice.currency} {invoice.total_amount.toFixed(2)}</span>\n              </div>\n              <div className=\"text-center text-xs text-slate-600 mt-2\">\n                <p className=\"font-semibold\">Amount in Words:</p>\n                <p className=\"italic\">{numberToWords(invoice.total_amount)} {invoice.currency} Only</p>\n              </div>\n            </div>\n          </div>\n\n          {invoice.notes && (\n            <div className=\"mb-6 p-4 bg-[#39FF14]/10 border-l-4 border-[#39FF14]/50 rounded\">\n              <h4 className=\"font-bold text-slate-700 mb-2\">Notes:</h4>\n              <p className=\"text-slate-700 text-sm whitespace-pre-line\">{invoice.notes}</p>\n            </div>\n          )}\n\n          <div className=\"border-t-2 border-slate-300 pt-6 mb-4\">\n            <h4 className=\"font-bold text-slate-700 mb-2\">Payment Terms & Conditions:</h4>\n            <p className=\"text-slate-600 text-sm mb-4\">{invoice.payment_terms}</p>\n\n            {company.bank_name && company.bank_account_number && (\n              <div className=\"bg-[#39FF14]/10 border-2 border-[#39FF14]/30 rounded-lg p-4 mb-4\">\n                <h4 className=\"font-bold text-slate-900 mb-3 flex items-center gap-2\">\n                  <div className=\"w-2 h-2 bg-[#39FF14] rounded-full\"></div>\n                  Bank Transfer Details:\n                </h4>\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div>\n                    <span className=\"text-slate-600 font-semibold\">Bank Name:</span>\n                    <p className=\"font-bold text-slate-900\">{company.bank_name}</p>\n                  </div>\n                  <div>\n                    <span className=\"text-slate-600 font-semibold\">Account Number:</span>\n                    <p className=\"font-bold text-slate-900\">{company.bank_account_number}</p>\n                  </div>\n                  {company.bank_account_name && (\n                    <div className=\"col-span-2\">\n                      <span className=\"text-slate-600 font-semibold\">Account Name:</span>\n                      <p className=\"font-bold text-slate-900\">{company.bank_account_name}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            <div className=\"bg-slate-50 border border-slate-200 rounded p-3 text-xs text-slate-600\">\n              <p className=\"font-semibold mb-1\">Important Information:</p>\n              <ul className=\"list-disc list-inside space-y-1\">\n                <li>This is a computer-generated e-invoice and does not require a signature</li>\n                <li>This invoice has been submitted to MyInvois portal in compliance with Malaysian Digital Economy regulations</li>\n                <li>Payment should be made to the bank account specified above</li>\n                <li>Please quote the invoice number in your payment reference</li>\n                <li>For any queries, please contact us at {company.email} or {company.phone}</li>\n              </ul>\n            </div>\n          </div>\n\n          <div className=\"mt-6 pt-4 border-t border-slate-300 text-center\">\n            <p className=\"text-xs text-slate-500 mb-1\">This E-Invoice is MyInvois Compliant</p>\n            <p className=\"text-xs text-slate-500\">Generated on: {new Date().toLocaleString('en-MY')}</p>\n          </div>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          #invoice-content,\n          #invoice-content * {\n            visibility: visible;\n          }\n          #invoice-content {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n          }\n          @page {\n            size: A4;\n            margin: 15mm;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nfunction numberToWords(num: number): string {\n  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\n  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\n  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n\n  if (num === 0) return 'Zero';\n\n  const numStr = num.toFixed(2);\n  const [intPart, decPart] = numStr.split('.');\n  const intNum = parseInt(intPart);\n\n  let words = '';\n\n  if (intNum >= 1000000) {\n    words += ones[Math.floor(intNum / 1000000)] + ' Million ';\n    const remainder = intNum % 1000000;\n    if (remainder > 0) {\n      words += convertThousands(remainder);\n    }\n  } else {\n    words = convertThousands(intNum);\n  }\n\n  if (parseInt(decPart) > 0) {\n    words += ` and ${decPart}/100`;\n  }\n\n  return words.trim();\n}\n\nfunction convertThousands(num: number): string {\n  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\n  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\n  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n\n  let words = '';\n\n  if (num >= 1000) {\n    const thousands = Math.floor(num / 1000);\n    words += convertHundreds(thousands) + ' Thousand ';\n    num %= 1000;\n  }\n\n  if (num > 0) {\n    words += convertHundreds(num);\n  }\n\n  return words;\n}\n\nfunction convertHundreds(num: number): string {\n  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\n  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\n  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n\n  let words = '';\n\n  if (num >= 100) {\n    words += ones[Math.floor(num / 100)] + ' Hundred ';\n    num %= 100;\n  }\n\n  if (num >= 20) {\n    words += tens[Math.floor(num / 10)] + ' ';\n    num %= 10;\n  } else if (num >= 10) {\n    words += teens[num - 10] + ' ';\n    return words;\n  }\n\n  if (num > 0) {\n    words += ones[num] + ' ';\n  }\n\n  return words;\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;AA+De,SAAS,uBAAuB,EAAE,SAAS,EAAE,OAAO,EAA+B;IAChG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAiB;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAyB;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAS;IAErD,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,kBAAkB;QACtB,IAAI;YACF,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,sHAAE,CACxD,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,WACT,MAAM;YAET,IAAI,cAAc,MAAM;YAExB,MAAM,EAAE,MAAM,SAAS,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,sHAAE,CACpD,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc;YAEpB,IAAI,YAAY,MAAM;YAEtB,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,sHAAE,CACnC,IAAI,CAAC,oBACL,MAAM,CAAC,KACP,KAAK,CAAC,GACN,WAAW;YAEd,MAAM,iBAAkC;gBACtC,cAAc;gBACd,6BAA6B;gBAC7B,yBAAyB;gBACzB,KAAK;gBACL,WAAW;gBACX,eAAe;gBACf,eAAe;gBACf,MAAM;gBACN,OAAO;gBACP,aAAa;gBACb,SAAS;gBACT,OAAO;gBACP,OAAO;gBACP,WAAW;gBACX,qBAAqB;gBACrB,mBAAmB;YACrB;YAEA,MAAM,eAAe,YAAY,aAAa,IAAI,qBAAqB,YAAY,cAAc;YACjG,MAAM,yBAAyB,YAAY,wBAAwB,IACjE,CAAC,qCAAqC,EAAE,cAAc;YAExD,MAAM,kBAAkB;gBACtB,GAAG,WAAW;gBACd,eAAe;gBACf,0BAA0B,YAAY,wBAAwB,IAAI,YAAY,YAAY;gBAC1F,0BAA0B;YAC5B;YAEA,WAAW;YACX,SAAS,aAAa,EAAE;YACxB,WAAW,eAAe;YAE1B,MAAM,SAAS,mBAAmB,iBAAiB,eAAe;YAClE,cAAc;QAEhB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,uBAAuB,CAAC;QAC5B,MAAM,YAAY,KAAK,GAAG,GAAG,QAAQ,CAAC;QACtC,MAAM,SAAS,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;QACvD,OAAO,GAAG,cAAc,CAAC,EAAE,UAAU,CAAC,EAAE,QAAQ,CAAC,WAAW;IAC9D;IAEA,MAAM,qBAAqB,CAAC,KAAc;QACxC,MAAM,SAAS;YACb,KAAK,YAAY;YACjB,KAAK,2BAA2B;YAChC,IAAI,aAAa,IAAI;YACrB,IAAI,YAAY;YAChB,IAAI,YAAY,CAAC,OAAO,CAAC;YACzB,IAAI,UAAU,CAAC,OAAO,CAAC;YACvB,IAAI,wBAAwB,IAAI;SACjC,CAAC,IAAI,CAAC;QAEP,OAAO,CAAC,8DAA8D,EAAE,mBAAmB,SAAS;IACtG;IAEA,MAAM,cAAc;QAClB,OAAO,KAAK;IACd;IAEA,MAAM,oBAAoB;QACxB,MAAM,cAAc,OAAO,IAAI,CAAC,IAAI,IAAI;QACxC,IAAI,CAAC,aAAa;QAElB,MAAM,iBAAiB,SAAS,cAAc,CAAC;QAC/C,IAAI,CAAC,gBAAgB;QAErB,YAAY,QAAQ,CAAC,KAAK,CAAC,CAAC;;;;yBAIP,EAAE,SAAS,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAgKzC,EAAE,eAAe,SAAS,CAAC;;;IAGjC,CAAC;QAED,YAAY,QAAQ,CAAC,KAAK;QAC1B,YAAY,KAAK;QAEjB,WAAW;YACT,YAAY,KAAK;YACjB,YAAY,KAAK;QACnB,GAAG;IACL;IAEA,MAAM,qBAAqB;QACzB,IAAI,CAAC,SAAS;QAEd,MAAM,cAAc;YAClB;YACA;YACA;YACA,cAAc,IAAI,OAAO,WAAW;QACtC;QAEA,MAAM,UAAU,KAAK,SAAS,CAAC,aAAa,MAAM;QAClD,MAAM,WAAW,IAAI,KAAK;YAAC;SAAQ,EAAE;YAAE,MAAM;QAAmB;QAChE,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,cAAc,CAAC,KAAK,CAAC;QACxD,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,oBAAoB;QACxB,IAAI,CAAC,WAAW,CAAC,MAAM,MAAM,EAAE;QAE/B,IAAI,aAAa;QACjB,cAAc,CAAC,eAAe,EAAE,QAAQ,cAAc,CAAC,EAAE,CAAC;QAC1D,cAAc,CAAC,aAAa,EAAE,QAAQ,YAAY,CAAC,EAAE,CAAC;QACtD,cAAc,CAAC,SAAS,EAAE,QAAQ,QAAQ,CAAC,EAAE,CAAC;QAC9C,cAAc,CAAC,SAAS,EAAE,QAAQ,aAAa,CAAC,EAAE,CAAC;QACnD,cAAc,CAAC,OAAO,EAAE,QAAQ,MAAM,CAAC,IAAI,CAAC;QAE5C,cAAc;QACd,cAAc;QACd,MAAM,OAAO,CAAC,CAAA;YACZ,cAAc,CAAC,CAAC,EAAE,KAAK,WAAW,CAAC,EAAE,EAAE,KAAK,QAAQ,CAAC,CAAC,EAAE,KAAK,UAAU,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,EAAE,CAAC;QAC5F;QAEA,cAAc;QACd,cAAc,CAAC,SAAS,EAAE,QAAQ,QAAQ,CAAC,EAAE,CAAC;QAC9C,cAAc,CAAC,KAAK,EAAE,QAAQ,QAAQ,CAAC,GAAG,EAAE,QAAQ,UAAU,CAAC,EAAE,CAAC;QAClE,cAAc,CAAC,MAAM,EAAE,QAAQ,YAAY,CAAC,EAAE,CAAC;QAE/C,MAAM,OAAO,IAAI,KAAK;YAAC;SAAW,EAAE;YAAE,MAAM;QAA0B;QACtE,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,cAAc,CAAC,IAAI,CAAC;QACvD,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,qBAAqB;QACzB,MAAM;IACR;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;IAIvB;IAEA,IAAI,CAAC,WAAW,CAAC,SAAS;QACxB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAkC;;;;;;kCAC/C,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAW,OAAO;YACvB,KAAK;gBAAa,OAAO;YACzB;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,8OAAC;wCAAE,WAAU;kDAAyB;;;;;;;;;;;;0CAExC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAM;kDAEN,cAAA,8OAAC,0MAAI;4CAAC,WAAU;;;;;;;;;;;kDAElB,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAM;kDAEN,cAAA,8OAAC,sNAAQ;4CAAC,WAAU;;;;;;;;;;;kDAEtB,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAM;kDAEN,cAAA,8OAAC,0NAAQ;4CAAC,WAAU;;;;;;;;;;;kDAEtB,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAM;kDAEN,cAAA,8OAAC,6MAAK;4CAAC,WAAU;;;;;;;;;;;kDAEnB,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAM;kDAEN,cAAA,8OAAC,mNAAO;4CAAC,WAAU;;;;;;;;;;;kDAErB,8OAAC;wCACC,SAAS;wCACT,WAAU;kDAEV,cAAA,8OAAC,iMAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAKnB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;4BAAe,IAAG;;8CACjC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAG,WAAU;kEAA0C,QAAQ,YAAY;;;;;;kEAC5E,8OAAC;wDAAE,WAAU;;4DAA4C;4DACxC,QAAQ,2BAA2B;;;;;;;oDAEnD,QAAQ,uBAAuB,kBAC9B,8OAAC;wDAAE,WAAU;;4DAA4C;4DACxC,QAAQ,uBAAuB;;;;;;;oDAGjD,QAAQ,GAAG,kBACV,8OAAC;wDAAE,WAAU;;4DAA4C;4DACjD,QAAQ,GAAG;;;;;;;oDAGpB,QAAQ,SAAS,kBAChB,8OAAC;wDAAE,WAAU;;4DAA4C;4DAC3C,QAAQ,SAAS;;;;;;;kEAGjC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;0EAAG,QAAQ,aAAa;;;;;;4DACxB,QAAQ,aAAa,kBAAI,8OAAC;0EAAG,QAAQ,aAAa;;;;;;0EACnD,8OAAC;;oEAAG,QAAQ,WAAW;oEAAC;oEAAE,QAAQ,IAAI;;;;;;;0EACtC,8OAAC;;oEAAG,QAAQ,KAAK;oEAAC;oEAAG,QAAQ,OAAO;;;;;;;0EACpC,8OAAC;gEAAE,WAAU;;oEAAO;oEAAM,QAAQ,KAAK;;;;;;;0EACvC,8OAAC;;oEAAE;oEAAQ,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;0DAI5B,8OAAC;gDAAI,WAAU;;oDACZ,4BACC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAI,KAAK;gEAAY,KAAI;gEAAmB,WAAU;;;;;;0EACvD,8OAAC;gEAAE,WAAU;0EAA8B;;;;;;;;;;;;kEAG/C,8OAAC;wDAAK,WAAW,CAAC,6DAA6D,EAAE,eAAe,QAAQ,MAAM,GAAG;kEAC9G,QAAQ,MAAM,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;8CAMnC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC,0OAAY;wDAAC,WAAU;;;;;;kEACxB,8OAAC;wDAAG,WAAU;kEAAsC;;;;;;;;;;;;0DAEtD,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAK,WAAU;0EAA+B;;;;;;0EAC/C,8OAAC;gEAAE,WAAU;0EAA8C,QAAQ,aAAa;;;;;;;;;;;;kEAElF,8OAAC;;0EACC,8OAAC;gEAAK,WAAU;0EAA+B;;;;;;0EAC/C,8OAAC;gEAAE,WAAU;0EAAkB,IAAI,KAAK,QAAQ,wBAAwB,IAAI,QAAQ,YAAY,EAAE,kBAAkB,CAAC,SAAS;oEAAE,MAAM;oEAAW,OAAO;oEAAQ,KAAK;gEAAU;;;;;;;;;;;;;;;;;;4CAGlL,QAAQ,wBAAwB,kBAC/B,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;kEAAuC;;;;;;kEACvD,8OAAC;wDAAE,WAAU;kEAAoC,QAAQ,wBAAwB;;;;;;;;;;;;;;;;;;;;;;;8CAMzF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAAiF;;;;;;8DAC/F,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAE,WAAU;sEAA0B,QAAQ,aAAa;;;;;;wDAC3D,QAAQ,gBAAgB,kBAAI,8OAAC;4DAAE,WAAU;sEAAgC,QAAQ,gBAAgB;;;;;;wDACjG,QAAQ,4BAA4B,kBACnC,8OAAC;4DAAE,WAAU;;gEAA8B;gEAAe,QAAQ,4BAA4B;;;;;;;wDAE/F,QAAQ,YAAY,kBACnB,8OAAC;4DAAE,WAAU;;gEAAyB;gEAAM,QAAQ,YAAY;;;;;;;wDAEjE,QAAQ,mBAAmB,kBAC1B,8OAAC;4DAAE,WAAU;;gEAAyB;gEAAU,QAAQ,mBAAmB;;;;;;;wDAE5E,QAAQ,gBAAgB,kBACvB,8OAAC;4DAAE,WAAU;sEAAmD,QAAQ,gBAAgB;;;;;;sEAE1F,8OAAC;4DAAE,WAAU;sEAA+B,QAAQ,cAAc;;;;;;;;;;;;;;;;;;sDAGtE,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAAiF;;;;;;8DAC/F,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAK,WAAU;8EAA4B,QAAQ,cAAc;;;;;;;;;;;;sEAEpE,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAK,WAAU;8EAAkB,IAAI,KAAK,QAAQ,YAAY,EAAE,kBAAkB,CAAC,SAAS;wEAAE,MAAM;wEAAW,OAAO;wEAAQ,KAAK;oEAAU;;;;;;;;;;;;sEAEhJ,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAK,WAAU;8EAAkB,IAAI,KAAK,QAAQ,QAAQ,EAAE,kBAAkB,CAAC,SAAS;wEAAE,MAAM;wEAAW,OAAO;wEAAQ,KAAK;oEAAU;;;;;;;;;;;;sEAE5I,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAK,WAAU;8EAA4B,QAAQ,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAMpE,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAM,WAAU;;0DACf,8OAAC;0DACC,cAAA,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAG,WAAU;sEAAwC;;;;;;sEACtD,8OAAC;4DAAG,WAAU;sEAA0C;;;;;;sEACxD,8OAAC;4DAAG,WAAU;;gEAAyC;8EAAU,8OAAC;;;;;8EAAI,8OAAC;oEAAK,WAAU;;wEAAU;wEAAE,QAAQ,QAAQ;wEAAC;;;;;;;;;;;;;sEACnH,8OAAC;4DAAG,WAAU;;gEAAyC;8EAAM,8OAAC;;;;;8EAAI,8OAAC;oEAAK,WAAU;;wEAAU;wEAAE,QAAQ,QAAQ;wEAAC;;;;;;;;;;;;;;;;;;;;;;;;0DAGnH,8OAAC;0DACE,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;wDAAiB,WAAW,CAAC,0BAA0B,EAAE,QAAQ,MAAM,IAAI,gBAAgB,YAAY;;0EACtG,8OAAC;gEAAG,WAAU;;kFACZ,8OAAC;wEAAE,WAAU;kFAAe,KAAK,WAAW;;;;;;oEAC3C,KAAK,mBAAmB,kBACvB,8OAAC;wEAAE,WAAU;;4EAA8B;4EAAiB,KAAK,mBAAmB;;;;;;;;;;;;;0EAGxF,8OAAC;gEAAG,WAAU;0EAAwC,KAAK,QAAQ;;;;;;0EACnE,8OAAC;gEAAG,WAAU;0EACX,KAAK,UAAU,CAAC,OAAO,CAAC;;;;;;0EAE3B,8OAAC;gEAAG,WAAU;0EACX,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;uDAZhB,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;8CAoBxB,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAAgB;;;;;;0EAChC,8OAAC;gEAAK,WAAU;;oEAAa,QAAQ,QAAQ;oEAAC;oEAAE,QAAQ,QAAQ,CAAC,OAAO,CAAC;;;;;;;;;;;;;kEAE3E,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;;oEAAgB;oEAA4B,QAAQ,QAAQ;oEAAC;;;;;;;0EAC7E,8OAAC;gEAAK,WAAU;;oEAAa,QAAQ,QAAQ;oEAAC;oEAAE,QAAQ,UAAU,CAAC,OAAO,CAAC;;;;;;;;;;;;;;;;;;;0DAG/E,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;kEAAK;;;;;;kEACN,8OAAC;;4DAAM,QAAQ,QAAQ;4DAAC;4DAAE,QAAQ,YAAY,CAAC,OAAO,CAAC;;;;;;;;;;;;;0DAEzD,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAE,WAAU;kEAAgB;;;;;;kEAC7B,8OAAC;wDAAE,WAAU;;4DAAU,cAAc,QAAQ,YAAY;4DAAE;4DAAE,QAAQ,QAAQ;4DAAC;;;;;;;;;;;;;;;;;;;;;;;;gCAKnF,QAAQ,KAAK,kBACZ,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAgC;;;;;;sDAC9C,8OAAC;4CAAE,WAAU;sDAA8C,QAAQ,KAAK;;;;;;;;;;;;8CAI5E,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAgC;;;;;;sDAC9C,8OAAC;4CAAE,WAAU;sDAA+B,QAAQ,aAAa;;;;;;wCAEhE,QAAQ,SAAS,IAAI,QAAQ,mBAAmB,kBAC/C,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;4DAAI,WAAU;;;;;;wDAA0C;;;;;;;8DAG3D,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;;8EACC,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAE,WAAU;8EAA4B,QAAQ,SAAS;;;;;;;;;;;;sEAE5D,8OAAC;;8EACC,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAE,WAAU;8EAA4B,QAAQ,mBAAmB;;;;;;;;;;;;wDAErE,QAAQ,iBAAiB,kBACxB,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAK,WAAU;8EAA+B;;;;;;8EAC/C,8OAAC;oEAAE,WAAU;8EAA4B,QAAQ,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;sDAO5E,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAqB;;;;;;8DAClC,8OAAC;oDAAG,WAAU;;sEACZ,8OAAC;sEAAG;;;;;;sEACJ,8OAAC;sEAAG;;;;;;sEACJ,8OAAC;sEAAG;;;;;;sEACJ,8OAAC;sEAAG;;;;;;sEACJ,8OAAC;;gEAAG;gEAAuC,QAAQ,KAAK;gEAAC;gEAAK,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;8CAKjF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAE,WAAU;sDAA8B;;;;;;sDAC3C,8OAAC;4CAAE,WAAU;;gDAAyB;gDAAe,IAAI,OAAO,cAAc,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMrF,8OAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;;MAoBT,CAAC;;;;;;;;;;;;AAGP;AAEA,SAAS,cAAc,GAAW;IAChC,MAAM,OAAO;QAAC;QAAI;QAAO;QAAO;QAAS;QAAQ;QAAQ;QAAO;QAAS;QAAS;KAAO;IACzF,MAAM,OAAO;QAAC;QAAI;QAAI;QAAU;QAAU;QAAS;QAAS;QAAS;QAAW;QAAU;KAAS;IACnG,MAAM,QAAQ;QAAC;QAAO;QAAU;QAAU;QAAY;QAAY;QAAW;QAAW;QAAa;QAAY;KAAW;IAE5H,IAAI,QAAQ,GAAG,OAAO;IAEtB,MAAM,SAAS,IAAI,OAAO,CAAC;IAC3B,MAAM,CAAC,SAAS,QAAQ,GAAG,OAAO,KAAK,CAAC;IACxC,MAAM,SAAS,SAAS;IAExB,IAAI,QAAQ;IAEZ,IAAI,UAAU,SAAS;QACrB,SAAS,IAAI,CAAC,KAAK,KAAK,CAAC,SAAS,SAAS,GAAG;QAC9C,MAAM,YAAY,SAAS;QAC3B,IAAI,YAAY,GAAG;YACjB,SAAS,iBAAiB;QAC5B;IACF,OAAO;QACL,QAAQ,iBAAiB;IAC3B;IAEA,IAAI,SAAS,WAAW,GAAG;QACzB,SAAS,CAAC,KAAK,EAAE,QAAQ,IAAI,CAAC;IAChC;IAEA,OAAO,MAAM,IAAI;AACnB;AAEA,SAAS,iBAAiB,GAAW;IACnC,MAAM,OAAO;QAAC;QAAI;QAAO;QAAO;QAAS;QAAQ;QAAQ;QAAO;QAAS;QAAS;KAAO;IACzF,MAAM,OAAO;QAAC;QAAI;QAAI;QAAU;QAAU;QAAS;QAAS;QAAS;QAAW;QAAU;KAAS;IACnG,MAAM,QAAQ;QAAC;QAAO;QAAU;QAAU;QAAY;QAAY;QAAW;QAAW;QAAa;QAAY;KAAW;IAE5H,IAAI,QAAQ;IAEZ,IAAI,OAAO,MAAM;QACf,MAAM,YAAY,KAAK,KAAK,CAAC,MAAM;QACnC,SAAS,gBAAgB,aAAa;QACtC,OAAO;IACT;IAEA,IAAI,MAAM,GAAG;QACX,SAAS,gBAAgB;IAC3B;IAEA,OAAO;AACT;AAEA,SAAS,gBAAgB,GAAW;IAClC,MAAM,OAAO;QAAC;QAAI;QAAO;QAAO;QAAS;QAAQ;QAAQ;QAAO;QAAS;QAAS;KAAO;IACzF,MAAM,OAAO;QAAC;QAAI;QAAI;QAAU;QAAU;QAAS;QAAS;QAAS;QAAW;QAAU;KAAS;IACnG,MAAM,QAAQ;QAAC;QAAO;QAAU;QAAU;QAAY;QAAY;QAAW;QAAW;QAAa;QAAY;KAAW;IAE5H,IAAI,QAAQ;IAEZ,IAAI,OAAO,KAAK;QACd,SAAS,IAAI,CAAC,KAAK,KAAK,CAAC,MAAM,KAAK,GAAG;QACvC,OAAO;IACT;IAEA,IAAI,OAAO,IAAI;QACb,SAAS,IAAI,CAAC,KAAK,KAAK,CAAC,MAAM,IAAI,GAAG;QACtC,OAAO;IACT,OAAO,IAAI,OAAO,IAAI;QACpB,SAAS,KAAK,CAAC,MAAM,GAAG,GAAG;QAC3B,OAAO;IACT;IAEA,IAAI,MAAM,GAAG;QACX,SAAS,IAAI,CAAC,IAAI,GAAG;IACvB;IAEA,OAAO;AACT"}}]
}