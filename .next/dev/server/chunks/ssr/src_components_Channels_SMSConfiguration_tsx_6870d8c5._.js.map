{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/SMSConfiguration.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { db } from '../../lib/db';\nimport {\n  Settings, Plus, Trash2, Check, X, AlertCircle, Loader, Copy, Eye, EyeOff,\n  Server, Globe, Radio, CheckCircle, Edit2\n} from 'lucide-react';\n\ntype SMSAggregatorConfig = {\n  id: string;\n  gateway_name: string;\n  provider: string;\n  protocol: string;\n  status: string;\n  is_active?: boolean;\n  is_default?: boolean;\n  smpp_config?: any;\n  http_config?: any;\n  credentials?: any;\n  settings?: any;\n  created_at: string;\n  updated_at: string;\n};\n\nexport default function SMSConfiguration() {\n  const { user } = useAuth();\n  const [configs, setConfigs] = useState<SMSAggregatorConfig[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingConfig, setEditingConfig] = useState<SMSAggregatorConfig | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [expandedConfig, setExpandedConfig] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadConfigurations();\n  }, []);\n\n  const loadConfigurations = async () => {\n    try {\n      console.log('Loading SMS configurations');\n\n      const { data, error: configError } = await db\n        .from('sms_configurations')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (configError) {\n        console.error('Error loading SMS configurations:', configError);\n        throw configError;\n      }\n\n      console.log('Loaded SMS configurations:', data?.length || 0, 'configs');\n      // Parse JSON string fields back to objects\n      const parsed = (data || []).map((c: any) => {\n        const tryParse = (val: any) => {\n          if (!val || typeof val !== 'string') return val;\n          try { return JSON.parse(val); } catch { return val; }\n        };\n        return {\n          ...c,\n          smpp_config: tryParse(c.smpp_config),\n          http_config: tryParse(c.http_config),\n          credentials: tryParse(c.credentials),\n          settings: tryParse(c.settings),\n        };\n      });\n      setConfigs(parsed);\n    } catch (err: any) {\n      console.error('Error loading SMS configurations:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleToggleActive = async (configId: string, currentStatus: boolean) => {\n    const newActive = !currentStatus;\n    const newStatus = newActive ? 'active' : 'inactive';\n    try {\n      const { error } = await db\n        .from('sms_configurations')\n        .update({ is_active: newActive, status: newStatus })\n        .eq('id', configId);\n\n      if (error) throw error;\n\n      setConfigs(configs.map(c => c.id === configId ? { ...c, is_active: newActive, status: newStatus } : c));\n      setSuccess('Configuration status updated successfully');\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err: any) {\n      console.error('Error updating configuration:', err);\n      setError(err.message);\n    }\n  };\n\n  const handleSetDefault = async (configId: string) => {\n    try {\n      const { error } = await db\n        .from('sms_configurations')\n        .update({ is_default: true })\n        .eq('id', configId);\n\n      if (error) throw error;\n\n      setConfigs(configs.map(c => ({ ...c, is_default: c.id === configId })));\n      setSuccess('Default configuration updated successfully');\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err: any) {\n      console.error('Error setting default:', err);\n      setError(err.message);\n    }\n  };\n\n  const handleDeleteConfig = async (configId: string) => {\n    if (!confirm('Are you sure you want to delete this SMS aggregator configuration?')) {\n      return;\n    }\n\n    try {\n      const { error } = await db\n        .from('sms_configurations')\n        .delete()\n        .eq('id', configId);\n\n      if (error) throw error;\n\n      setConfigs(configs.filter(c => c.id !== configId));\n      setSuccess('Configuration deleted successfully');\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err: any) {\n      console.error('Error deleting configuration:', err);\n      setError(err.message);\n    }\n  };\n\n  const getConnectionTypeIcon = (type: string) => {\n    switch (type) {\n      case 'smpp':\n        return <Radio className=\"w-5 h-5\" />;\n      case 'http':\n      case 'https':\n        return <Globe className=\"w-5 h-5\" />;\n      default:\n        return <Server className=\"w-5 h-5\" />;\n    }\n  };\n\n  const getConnectionTypeBadge = (type: string) => {\n    const colors = {\n      smpp: 'bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30',\n      http: 'bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/30',\n      https: 'bg-green-500/20 text-green-400 border-green-500/30'\n    };\n    return colors[type as keyof typeof colors] || 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n  };\n\n  const getAggregatorTypeBadge = (type: string) => {\n    const colors = {\n      infobip: 'bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30',\n      twilio: 'bg-red-500/20 text-red-400 border-red-500/30',\n      custom: 'bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30',\n      other: 'bg-slate-500/20 text-slate-400 border-slate-500/30'\n    };\n    return colors[type as keyof typeof colors] || 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <Loader className=\"w-8 h-8 text-[#39FF14] animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-2xl font-bold text-white mb-2\">SMS Aggregator Configuration</h2>\n          <p className=\"text-slate-400\">\n            Configure SMS aggregators like Infobip, Twilio, or custom SMPP providers\n          </p>\n        </div>\n        <button\n          onClick={() => setShowAddModal(true)}\n          className=\"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          New Configuration\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-500/10 border border-red-500/50 rounded-lg p-4\">\n          <div className=\"flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0\" />\n            <div>\n              <h3 className=\"text-red-400 font-semibold mb-1\">Error</h3>\n              <p className=\"text-red-300 text-sm\">{error}</p>\n            </div>\n            <button onClick={() => setError(null)} className=\"ml-auto text-red-400 hover:text-red-300\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {success && (\n        <div className=\"bg-green-500/10 border border-green-500/50 rounded-lg p-4\">\n          <div className=\"flex items-start gap-3\">\n            <Check className=\"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0\" />\n            <div>\n              <p className=\"text-green-300 text-sm\">{success}</p>\n            </div>\n            <button onClick={() => setSuccess(null)} className=\"ml-auto text-green-400 hover:text-green-300\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Configuration Modal */}\n      {showEditModal && editingConfig && (\n        <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n          <div className=\"bg-slate-900 rounded-xl border border-slate-700 max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-slate-900 border-b border-slate-700 px-6 py-4 flex items-center justify-between\">\n              <h2 className=\"text-2xl font-bold text-white\">Edit SMS Aggregator Configuration</h2>\n              <button\n                onClick={() => {\n                  setShowEditModal(false);\n                  setEditingConfig(null);\n                }}\n                className=\"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-all\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n            \n            <div className=\"p-6 space-y-6\">\n              {/* Configuration Name */}\n              <div>\n                <label className=\"block text-sm font-medium text-white mb-2\">\n                  Configuration Name <span className=\"text-red-400\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  defaultValue={editingConfig.gateway_name}\n                  className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                  placeholder=\"e.g., Infobip Production\"\n                />\n              </div>\n\n              {/* Aggregator Type & Connection Type */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-white mb-2\">\n                    Aggregator Type <span className=\"text-red-400\">*</span>\n                  </label>\n                  <select\n                    defaultValue={editingConfig.provider}\n                    className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                  >\n                    <option value=\"infobip\">Infobip</option>\n                    <option value=\"twilio\">Twilio</option>\n                    <option value=\"sinch\">Sinch</option>\n                    <option value=\"vonage\">Vonage</option>\n                    <option value=\"custom\">Custom</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-white mb-2\">\n                    Connection Type <span className=\"text-red-400\">*</span>\n                  </label>\n                  <select\n                    defaultValue={editingConfig.protocol}\n                    className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                  >\n                    <option value=\"SMPP\">SMPP</option>\n                    <option value=\"HTTP\">HTTP</option>\n                    <option value=\"HTTPS\">HTTPS</option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Set as default */}\n              <div className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"edit-default\"\n                  defaultChecked={editingConfig.is_default}\n                  className=\"w-4 h-4 rounded border-slate-600 bg-slate-800 text-[#39FF14] focus:ring-[#39FF14]\"\n                />\n                <label htmlFor=\"edit-default\" className=\"text-sm text-slate-300\">\n                  Set as default aggregator\n                </label>\n              </div>\n\n              {/* SMPP Configuration */}\n              <div className=\"border-t border-slate-700 pt-6\">\n                <h3 className=\"text-lg font-semibold text-white mb-4\">SMPP Configuration</h3>\n                \n                <div className=\"grid grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-white mb-2\">\n                      Host <span className=\"text-red-400\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      defaultValue={editingConfig.smpp_config?.host || ''}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"smpp.provider.com\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-white mb-2\">\n                      Port <span className=\"text-red-400\">*</span>\n                    </label>\n                    <input\n                      type=\"number\"\n                      defaultValue={editingConfig.smpp_config?.port || '2775'}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"2775\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-white mb-2\">\n                    System ID <span className=\"text-red-400\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    defaultValue={editingConfig.smpp_config?.system_id || ''}\n                    className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                    placeholder=\"your_system_id\"\n                  />\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-white mb-2\">\n                    Password <span className=\"text-red-400\">*</span>\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type=\"password\"\n                      defaultValue={editingConfig.credentials?.password || ''}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"••••••••\"\n                    />\n                    <button className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white\">\n                      <Eye className=\"w-5 h-5\" />\n                    </button>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-white mb-2\">Bind Type</label>\n                    <select\n                      defaultValue={editingConfig.smpp_config?.bind_type || 'transceiver'}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                    >\n                      <option value=\"transceiver\">Transceiver</option>\n                      <option value=\"transmitter\">Transmitter</option>\n                      <option value=\"receiver\">Receiver</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-white mb-2\">Encoding</label>\n                    <select\n                      defaultValue={editingConfig.smpp_config?.encoding || 'UCS2'}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                    >\n                      <option value=\"UCS2\">UCS2</option>\n                      <option value=\"GSM7\">GSM7</option>\n                      <option value=\"UTF-8\">UTF-8</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n\n              {/* Additional Settings */}\n              <div className=\"border-t border-slate-700 pt-6\">\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Additional Settings</h3>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-white mb-2\">\n                      Max Throughput (msg/sec)\n                    </label>\n                    <input\n                      type=\"number\"\n                      defaultValue={editingConfig.settings?.max_throughput || '100'}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"100\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-white mb-2\">\n                      Rate Limit (req/sec)\n                    </label>\n                    <input\n                      type=\"number\"\n                      defaultValue={editingConfig.settings?.rate_limit || '100'}\n                      className=\"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"100\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className=\"flex gap-3 pt-4 border-t border-slate-700\">\n                <button\n                  onClick={() => {\n                    setSuccess('Configuration updated successfully!');\n                    setShowEditModal(false);\n                    setEditingConfig(null);\n                    setTimeout(() => setSuccess(null), 3000);\n                  }}\n                  className=\"flex-1 px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all font-medium\"\n                >\n                  Save Configuration\n                </button>\n                <button\n                  onClick={() => {\n                    setShowEditModal(false);\n                    setEditingConfig(null);\n                  }}\n                  className=\"px-8 py-3 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-all font-medium\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {configs.length === 0 ? (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-lg p-12 text-center\">\n          <Settings className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n          <h3 className=\"text-xl font-semibold text-white mb-2\">No SMS Aggregator Configurations</h3>\n          <p className=\"text-slate-400 mb-6\">\n            Add your first SMS aggregator to start sending messages via SMPP or HTTP/HTTPS\n          </p>\n          <button\n            onClick={() => setShowAddModal(true)}\n            className=\"px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black rounded-lg hover:from-[#32e012] hover:to-[#28b80f] transition-all\"\n          >\n            Add Configuration\n          </button>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {configs.map((config) => (\n            <div key={config.id} className=\"bg-slate-800/50 border border-slate-700 rounded-lg p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div className=\"flex items-center gap-3 flex-1\">\n                  <div className={`p-3 bg-gradient-to-r ${\n                    config.protocol === 'smpp' ? 'from-[#39FF14] to-[#32e012]' : 'from-[#39FF14] to-[#32e012]'\n                  } rounded-lg`}>\n                    {getConnectionTypeIcon(config.protocol)}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <h3 className=\"text-xl font-semibold text-white\">{config.gateway_name}</h3>\n                      {config.is_default && (\n                        <span className=\"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded-full text-xs font-medium border border-yellow-500/30\">\n                          Default\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <span className={`px-2 py-1 rounded text-xs font-medium border ${getAggregatorTypeBadge(config.provider)}`}>\n                        {config.provider?.toUpperCase() || 'N/A'}\n                      </span>\n                      <span className={`px-2 py-1 rounded text-xs font-medium border ${getConnectionTypeBadge(config.protocol)}`}>\n                        {config.protocol?.toUpperCase() || 'N/A'}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <button\n                    onClick={() => handleToggleActive(config.id, config.status === \"active\")}\n                    className={`px-3 py-1 rounded-lg text-sm font-medium transition-all ${\n                      config.status === \"active\"\n                        ? 'bg-green-500/20 text-green-400 border border-green-500/30 hover:bg-green-500/30'\n                        : 'bg-slate-700 text-slate-400 border border-slate-600 hover:bg-slate-600'\n                    }`}\n                  >\n                    {config.status === \"active\" ? 'Active' : 'Inactive'}\n                  </button>\n                  {!config.is_default && (\n                    <button\n                      onClick={() => handleSetDefault(config.id)}\n                      className=\"p-2 text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10 rounded-lg transition-all\"\n                      title=\"Set as default\"\n                    >\n                      <CheckCircle className=\"w-5 h-5\" />\n                    </button>\n                  )}\n                  <button\n                    onClick={() => setExpandedConfig(expandedConfig === config.id ? null : config.id)}\n                    className=\"p-2 text-[#39FF14] hover:text-[#39FF14] hover:bg-[#39FF14]/20/10 rounded-lg transition-all\"\n                    title=\"View details\"\n                  >\n                    <Eye className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => {\n                      setEditingConfig(config);\n                      setShowEditModal(true);\n                    }}\n                    className=\"p-2 text-[#39FF14] hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-all\"\n                    title=\"Edit configuration\"\n                  >\n                    <Edit2 className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDeleteConfig(config.id)}\n                    className=\"p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-all\"\n                    title=\"Delete configuration\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n\n              {expandedConfig === config.id && (\n                <div className=\"border-t border-slate-700 pt-4 mt-4 space-y-4\">\n                  {config.protocol?.toLowerCase() === 'smpp' && config.smpp_config && (\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-white mb-3 flex items-center gap-2\">\n                        <Radio className=\"w-4 h-4\" />\n                        SMPP Configuration\n                      </h4>\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        {config.smpp_config.host && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Host:</span>\n                            <span className=\"text-white font-mono\">{config.smpp_config.host}</span>\n                          </div>\n                        )}\n                        {config.smpp_config.port && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Port:</span>\n                            <span className=\"text-white font-mono\">{config.smpp_config.port}</span>\n                          </div>\n                        )}\n                        {config.smpp_config.system_id && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">System ID:</span>\n                            <span className=\"text-white font-mono\">{config.smpp_config.system_id}</span>\n                          </div>\n                        )}\n                        {config.smpp_config.bind_type && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Bind Type:</span>\n                            <span className=\"text-white capitalize\">{config.smpp_config.bind_type}</span>\n                          </div>\n                        )}\n                        {config.smpp_config.encoding && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Encoding:</span>\n                            <span className=\"text-white\">{config.smpp_config.encoding}</span>\n                          </div>\n                        )}\n                        {config.smpp_config.interface_version && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Interface Version:</span>\n                            <span className=\"text-white\">{config.smpp_config.interface_version}</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  {(['http', 'https'].includes(config.protocol?.toLowerCase() || '')) && config.http_config && (\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-white mb-3 flex items-center gap-2\">\n                        <Globe className=\"w-4 h-4\" />\n                        HTTP/HTTPS Configuration\n                      </h4>\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        {config.http_config.base_url && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3 col-span-2\">\n                            <span className=\"text-slate-500 block mb-1\">Base URL:</span>\n                            <span className=\"text-white font-mono break-all\">{config.http_config.base_url}</span>\n                          </div>\n                        )}\n                        {config.http_config.endpoint && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3 col-span-2\">\n                            <span className=\"text-slate-500 block mb-1\">Endpoint:</span>\n                            <span className=\"text-white font-mono\">{config.http_config.endpoint}</span>\n                          </div>\n                        )}\n                        {config.http_config.method && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Method:</span>\n                            <span className=\"text-white\">{config.http_config.method}</span>\n                          </div>\n                        )}\n                        {config.http_config.content_type && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Content Type:</span>\n                            <span className=\"text-white font-mono text-xs\">{config.http_config.content_type}</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  {config.settings && Object.keys(config.settings).length > 0 && (\n                    <div>\n                      <h4 className=\"text-sm font-semibold text-white mb-3 flex items-center gap-2\">\n                        <Settings className=\"w-4 h-4\" />\n                        Additional Settings\n                      </h4>\n                      <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                        {config.settings.max_throughput && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Max Throughput:</span>\n                            <span className=\"text-white\">{config.settings.max_throughput} msg/sec</span>\n                          </div>\n                        )}\n                        {config.settings.rate_limit && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Rate Limit:</span>\n                            <span className=\"text-white\">{config.settings.rate_limit} req/sec</span>\n                          </div>\n                        )}\n                        {config.settings.validity_period && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Validity Period:</span>\n                            <span className=\"text-white\">{config.settings.validity_period}</span>\n                          </div>\n                        )}\n                        {config.settings.default_sender && (\n                          <div className=\"bg-slate-900/50 rounded-lg p-3\">\n                            <span className=\"text-slate-500 block mb-1\">Default Sender:</span>\n                            <span className=\"text-white\">{config.settings.default_sender}</span>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className=\"flex justify-between items-center text-xs text-slate-500 pt-2\">\n                    <span>Created: {new Date(config.created_at).toLocaleString()}</span>\n                    <span>Updated: {new Date(config.updated_at).toLocaleString()}</span>\n                  </div>\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n\n      {showAddModal && (\n        <AddConfigModal\n          tenantId={user?.app_metadata?.tenant_id || user?.user_metadata?.tenant_id || ''}\n          onClose={() => setShowAddModal(false)}\n          onSuccess={() => {\n            setShowAddModal(false);\n            loadConfigurations();\n            setSuccess('SMS aggregator configured successfully');\n            setTimeout(() => setSuccess(null), 3000);\n          }}\n          onError={(err) => setError(err)}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface AddConfigModalProps {\n  tenantId: string;\n  onClose: () => void;\n  onSuccess: () => void;\n  onError: (error: string) => void;\n}\n\nfunction AddConfigModal({ tenantId, onClose, onSuccess, onError }: AddConfigModalProps) {\n  const [formData, setFormData] = useState({\n    aggregatorName: '',\n    aggregatorType: 'infobip' as 'infobip' | 'twilio' | 'custom' | 'other',\n    connectionType: 'smpp' as 'smpp' | 'http' | 'https',\n    isDefault: false,\n    smppHost: '',\n    smppPort: '2775',\n    smppSystemId: '',\n    smppPassword: '',\n    smppBindType: 'transceiver',\n    smppEncoding: 'UCS2',\n    httpBaseUrl: '',\n    httpEndpoint: '',\n    httpMethod: 'POST',\n    httpContentType: 'application/json',\n    apiKey: '',\n    maxThroughput: '100',\n    rateLimit: '100',\n  });\n  const [saving, setSaving] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleSave = async () => {\n    if (!formData.aggregatorName || !formData.aggregatorType) {\n      onError('Please fill in all required fields');\n      return;\n    }\n\n    if (formData.connectionType === 'smpp' && (!formData.smppHost || !formData.smppPort || !formData.smppSystemId)) {\n      onError('Please fill in all SMPP configuration fields');\n      return;\n    }\n\n    if ((formData.connectionType === 'http' || formData.connectionType === 'https') && !formData.httpBaseUrl) {\n      onError('Please fill in the base URL for HTTP/HTTPS configuration');\n      return;\n    }\n\n    setSaving(true);\n\n    try {\n      // Map form fields to actual Prisma column names\n      const configData: any = {\n        tenant_id: tenantId || null,\n        gateway_name: formData.aggregatorName,\n        provider: formData.aggregatorType,\n        protocol: formData.connectionType.toUpperCase(),\n        status: 'active',\n        is_active: true,\n        is_default: formData.isDefault,\n      };\n\n      if (formData.connectionType === 'smpp') {\n        configData.smpp_config = JSON.stringify({\n          host: formData.smppHost,\n          port: parseInt(formData.smppPort),\n          system_id: formData.smppSystemId,\n          bind_type: formData.smppBindType,\n          encoding: formData.smppEncoding,\n          interface_version: '3.4',\n          ton: 1,\n          npi: 1,\n        });\n        configData.credentials = JSON.stringify({\n          password: formData.smppPassword,\n        });\n      } else {\n        configData.http_config = JSON.stringify({\n          base_url: formData.httpBaseUrl,\n          endpoint: formData.httpEndpoint,\n          method: formData.httpMethod,\n          content_type: formData.httpContentType,\n          timeout: 30,\n        });\n        configData.credentials = JSON.stringify({\n          api_key: formData.apiKey,\n        });\n      }\n\n      configData.settings = JSON.stringify({\n        max_throughput: parseInt(formData.maxThroughput),\n        rate_limit: parseInt(formData.rateLimit),\n      });\n\n      const { error: insertError } = await db\n        .from('sms_configurations')\n        .insert(configData);\n\n      if (insertError) throw insertError;\n\n      onSuccess();\n    } catch (err: any) {\n      console.error('Error saving configuration:', err);\n      onError(err.message || 'An error occurred while saving');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n      <div className=\"bg-slate-800 border border-slate-700 rounded-xl max-w-2xl w-full p-6 my-8\">\n        <h2 className=\"text-2xl font-bold text-white mb-6\">Add SMS Aggregator Configuration</h2>\n\n        <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n          <div>\n            <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n              Configuration Name <span className=\"text-red-400\">*</span>\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.aggregatorName}\n              onChange={(e) => setFormData({ ...formData, aggregatorName: e.target.value })}\n              className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n              placeholder=\"e.g., Infobip Production\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                Aggregator Type <span className=\"text-red-400\">*</span>\n              </label>\n              <select\n                value={formData.aggregatorType}\n                onChange={(e) => setFormData({ ...formData, aggregatorType: e.target.value as any })}\n                className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n              >\n                <option value=\"infobip\">Infobip</option>\n                <option value=\"twilio\">Twilio</option>\n                <option value=\"custom\">Custom</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                Connection Type <span className=\"text-red-400\">*</span>\n              </label>\n              <select\n                value={formData.connectionType}\n                onChange={(e) => setFormData({ ...formData, connectionType: e.target.value as any })}\n                className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n              >\n                <option value=\"smpp\">SMPP</option>\n                <option value=\"http\">HTTP</option>\n                <option value=\"https\">HTTPS</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              id=\"isDefault\"\n              checked={formData.isDefault}\n              onChange={(e) => setFormData({ ...formData, isDefault: e.target.checked })}\n              className=\"w-4 h-4 text-[#39FF14] rounded\"\n            />\n            <label htmlFor=\"isDefault\" className=\"text-sm text-slate-300 cursor-pointer\">\n              Set as default aggregator\n            </label>\n          </div>\n\n          {formData.connectionType === 'smpp' ? (\n            <>\n              <div className=\"border-t border-slate-700 pt-4\">\n                <h3 className=\"text-lg font-semibold text-white mb-4\">SMPP Configuration</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                        Host <span className=\"text-red-400\">*</span>\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.smppHost}\n                        onChange={(e) => setFormData({ ...formData, smppHost: e.target.value })}\n                        className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                        placeholder=\"smpp.provider.com\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                        Port <span className=\"text-red-400\">*</span>\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={formData.smppPort}\n                        onChange={(e) => setFormData({ ...formData, smppPort: e.target.value })}\n                        className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                        placeholder=\"2775\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                      System ID <span className=\"text-red-400\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.smppSystemId}\n                      onChange={(e) => setFormData({ ...formData, smppSystemId: e.target.value })}\n                      className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"your_system_id\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                      Password <span className=\"text-red-400\">*</span>\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type={showPassword ? 'text' : 'password'}\n                        value={formData.smppPassword}\n                        onChange={(e) => setFormData({ ...formData, smppPassword: e.target.value })}\n                        className=\"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                        placeholder=\"••••••••\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowPassword(!showPassword)}\n                        className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white\"\n                      >\n                        {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                        Bind Type\n                      </label>\n                      <select\n                        value={formData.smppBindType}\n                        onChange={(e) => setFormData({ ...formData, smppBindType: e.target.value })}\n                        className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      >\n                        <option value=\"transceiver\">Transceiver</option>\n                        <option value=\"transmitter\">Transmitter</option>\n                        <option value=\"receiver\">Receiver</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                        Encoding\n                      </label>\n                      <select\n                        value={formData.smppEncoding}\n                        onChange={(e) => setFormData({ ...formData, smppEncoding: e.target.value })}\n                        className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      >\n                        <option value=\"UCS2\">UCS2</option>\n                        <option value=\"GSM7\">GSM7</option>\n                        <option value=\"UTF8\">UTF8</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"border-t border-slate-700 pt-4\">\n                <h3 className=\"text-lg font-semibold text-white mb-4\">HTTP/HTTPS Configuration</h3>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                      Base URL <span className=\"text-red-400\">*</span>\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.httpBaseUrl}\n                      onChange={(e) => setFormData({ ...formData, httpBaseUrl: e.target.value })}\n                      className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"https://api.provider.com\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                      Endpoint\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.httpEndpoint}\n                      onChange={(e) => setFormData({ ...formData, httpEndpoint: e.target.value })}\n                      className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      placeholder=\"/sms/send\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                        Method\n                      </label>\n                      <select\n                        value={formData.httpMethod}\n                        onChange={(e) => setFormData({ ...formData, httpMethod: e.target.value })}\n                        className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      >\n                        <option value=\"POST\">POST</option>\n                        <option value=\"GET\">GET</option>\n                        <option value=\"PUT\">PUT</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                        Content Type\n                      </label>\n                      <select\n                        value={formData.httpContentType}\n                        onChange={(e) => setFormData({ ...formData, httpContentType: e.target.value })}\n                        className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                      >\n                        <option value=\"application/json\">application/json</option>\n                        <option value=\"application/x-www-form-urlencoded\">application/x-www-form-urlencoded</option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                      API Key\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type={showPassword ? 'text' : 'password'}\n                        value={formData.apiKey}\n                        onChange={(e) => setFormData({ ...formData, apiKey: e.target.value })}\n                        className=\"w-full px-4 py-2 pr-10 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                        placeholder=\"your-api-key\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => setShowPassword(!showPassword)}\n                        className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white\"\n                      >\n                        {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n\n          <div className=\"border-t border-slate-700 pt-4\">\n            <h3 className=\"text-lg font-semibold text-white mb-4\">Additional Settings</h3>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Max Throughput (msg/sec)\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.maxThroughput}\n                  onChange={(e) => setFormData({ ...formData, maxThroughput: e.target.value })}\n                  className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                  placeholder=\"100\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Rate Limit (req/sec)\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.rateLimit}\n                  onChange={(e) => setFormData({ ...formData, rateLimit: e.target.value })}\n                  className=\"w-full px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-[#39FF14]\"\n                  placeholder=\"100\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex gap-3 mt-6\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            disabled={saving}\n            className=\"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-all disabled:opacity-50\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            onClick={handleSave}\n            disabled={saving}\n            className=\"flex-1 px-6 py-3 bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2\"\n          >\n            {saving ? (\n              <>\n                <Loader className=\"w-5 h-5 animate-spin\" />\n                Saving...\n              </>\n            ) : (\n              'Save Configuration'\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;AAqBe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAO;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAwB,EAAE;IAChE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAA6B;IAC/E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IACtD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IAEpE,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,qBAAqB;QACzB,IAAI;YACF,QAAQ,GAAG,CAAC;YAEZ,MAAM,EAAE,IAAI,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,sHAAE,CAC1C,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,aAAa;gBACf,QAAQ,KAAK,CAAC,qCAAqC;gBACnD,MAAM;YACR;YAEA,QAAQ,GAAG,CAAC,8BAA8B,MAAM,UAAU,GAAG;YAC7D,2CAA2C;YAC3C,MAAM,SAAS,CAAC,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC;gBAC/B,MAAM,WAAW,CAAC;oBAChB,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;oBAC5C,IAAI;wBAAE,OAAO,KAAK,KAAK,CAAC;oBAAM,EAAE,OAAM;wBAAE,OAAO;oBAAK;gBACtD;gBACA,OAAO;oBACL,GAAG,CAAC;oBACJ,aAAa,SAAS,EAAE,WAAW;oBACnC,aAAa,SAAS,EAAE,WAAW;oBACnC,aAAa,SAAS,EAAE,WAAW;oBACnC,UAAU,SAAS,EAAE,QAAQ;gBAC/B;YACF;YACA,WAAW;QACb,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,qCAAqC;YACnD,SAAS,IAAI,OAAO;QACtB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,qBAAqB,OAAO,UAAkB;QAClD,MAAM,YAAY,CAAC;QACnB,MAAM,YAAY,YAAY,WAAW;QACzC,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAE,CACvB,IAAI,CAAC,sBACL,MAAM,CAAC;gBAAE,WAAW;gBAAW,QAAQ;YAAU,GACjD,EAAE,CAAC,MAAM;YAEZ,IAAI,OAAO,MAAM;YAEjB,WAAW,QAAQ,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW;oBAAE,GAAG,CAAC;oBAAE,WAAW;oBAAW,QAAQ;gBAAU,IAAI;YACpG,WAAW;YACX,WAAW,IAAM,WAAW,OAAO;QACrC,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAE,CACvB,IAAI,CAAC,sBACL,MAAM,CAAC;gBAAE,YAAY;YAAK,GAC1B,EAAE,CAAC,MAAM;YAEZ,IAAI,OAAO,MAAM;YAEjB,WAAW,QAAQ,GAAG,CAAC,CAAA,IAAK,CAAC;oBAAE,GAAG,CAAC;oBAAE,YAAY,EAAE,EAAE,KAAK;gBAAS,CAAC;YACpE,WAAW;YACX,WAAW,IAAM,WAAW,OAAO;QACrC,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,MAAM,qBAAqB,OAAO;QAChC,IAAI,CAAC,QAAQ,uEAAuE;YAClF;QACF;QAEA,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,sHAAE,CACvB,IAAI,CAAC,sBACL,MAAM,GACN,EAAE,CAAC,MAAM;YAEZ,IAAI,OAAO,MAAM;YAEjB,WAAW,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YACxC,WAAW;YACX,WAAW,IAAM,WAAW,OAAO;QACrC,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,MAAM,wBAAwB,CAAC;QAC7B,OAAQ;YACN,KAAK;gBACH,qBAAO,8OAAC,6MAAK;oBAAC,WAAU;;;;;;YAC1B,KAAK;YACL,KAAK;gBACH,qBAAO,8OAAC,6MAAK;oBAAC,WAAU;;;;;;YAC1B;gBACE,qBAAO,8OAAC,gNAAM;oBAAC,WAAU;;;;;;QAC7B;IACF;IAEA,MAAM,yBAAyB,CAAC;QAC9B,MAAM,SAAS;YACb,MAAM;YACN,MAAM;YACN,OAAO;QACT;QACA,OAAO,MAAM,CAAC,KAA4B,IAAI;IAChD;IAEA,MAAM,yBAAyB,CAAC;QAC9B,MAAM,SAAS;YACb,SAAS;YACT,QAAQ;YACR,QAAQ;YACR,OAAO;QACT;QACA,OAAO,MAAM,CAAC,KAA4B,IAAI;IAChD;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,gNAAM;gBAAC,WAAU;;;;;;;;;;;IAGxB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAqC;;;;;;0CACnD,8OAAC;gCAAE,WAAU;0CAAiB;;;;;;;;;;;;kCAIhC,8OAAC;wBACC,SAAS,IAAM,gBAAgB;wBAC/B,WAAU;;0CAEV,8OAAC,0MAAI;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;YAK/B,uBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,mOAAW;4BAAC,WAAU;;;;;;sCACvB,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAkC;;;;;;8CAChD,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAEvC,8OAAC;4BAAO,SAAS,IAAM,SAAS;4BAAO,WAAU;sCAC/C,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;YAMpB,yBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6MAAK;4BAAC,WAAU;;;;;;sCACjB,8OAAC;sCACC,cAAA,8OAAC;gCAAE,WAAU;0CAA0B;;;;;;;;;;;sCAEzC,8OAAC;4BAAO,SAAS,IAAM,WAAW;4BAAO,WAAU;sCACjD,cAAA,8OAAC,iMAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;YAOpB,iBAAiB,+BAChB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,8OAAC;oCACC,SAAS;wCACP,iBAAiB;wCACjB,iBAAiB;oCACnB;oCACA,WAAU;8CAEV,cAAA,8OAAC,iMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAIjB,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;;gDAA4C;8DACxC,8OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEpD,8OAAC;4CACC,MAAK;4CACL,cAAc,cAAc,YAAY;4CACxC,WAAU;4CACV,aAAY;;;;;;;;;;;;8CAKhB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;;wDAA4C;sEAC3C,8OAAC;4DAAK,WAAU;sEAAe;;;;;;;;;;;;8DAEjD,8OAAC;oDACC,cAAc,cAAc,QAAQ;oDACpC,WAAU;;sEAEV,8OAAC;4DAAO,OAAM;sEAAU;;;;;;sEACxB,8OAAC;4DAAO,OAAM;sEAAS;;;;;;sEACvB,8OAAC;4DAAO,OAAM;sEAAQ;;;;;;sEACtB,8OAAC;4DAAO,OAAM;sEAAS;;;;;;sEACvB,8OAAC;4DAAO,OAAM;sEAAS;;;;;;;;;;;;;;;;;;sDAG3B,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;;wDAA4C;sEAC3C,8OAAC;4DAAK,WAAU;sEAAe;;;;;;;;;;;;8DAEjD,8OAAC;oDACC,cAAc,cAAc,QAAQ;oDACpC,WAAU;;sEAEV,8OAAC;4DAAO,OAAM;sEAAO;;;;;;sEACrB,8OAAC;4DAAO,OAAM;sEAAO;;;;;;sEACrB,8OAAC;4DAAO,OAAM;sEAAQ;;;;;;;;;;;;;;;;;;;;;;;;8CAM5B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,MAAK;4CACL,IAAG;4CACH,gBAAgB,cAAc,UAAU;4CACxC,WAAU;;;;;;sDAEZ,8OAAC;4CAAM,SAAQ;4CAAe,WAAU;sDAAyB;;;;;;;;;;;;8CAMnE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAwC;;;;;;sDAEtD,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;;gEAA4C;8EACtD,8OAAC;oEAAK,WAAU;8EAAe;;;;;;;;;;;;sEAEtC,8OAAC;4DACC,MAAK;4DACL,cAAc,cAAc,WAAW,EAAE,QAAQ;4DACjD,WAAU;4DACV,aAAY;;;;;;;;;;;;8DAGhB,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;;gEAA4C;8EACtD,8OAAC;oEAAK,WAAU;8EAAe;;;;;;;;;;;;sEAEtC,8OAAC;4DACC,MAAK;4DACL,cAAc,cAAc,WAAW,EAAE,QAAQ;4DACjD,WAAU;4DACV,aAAY;;;;;;;;;;;;;;;;;;sDAKlB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAM,WAAU;;wDAA4C;sEACjD,8OAAC;4DAAK,WAAU;sEAAe;;;;;;;;;;;;8DAE3C,8OAAC;oDACC,MAAK;oDACL,cAAc,cAAc,WAAW,EAAE,aAAa;oDACtD,WAAU;oDACV,aAAY;;;;;;;;;;;;sDAIhB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAM,WAAU;;wDAA4C;sEAClD,8OAAC;4DAAK,WAAU;sEAAe;;;;;;;;;;;;8DAE1C,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DACC,MAAK;4DACL,cAAc,cAAc,WAAW,EAAE,YAAY;4DACrD,WAAU;4DACV,aAAY;;;;;;sEAEd,8OAAC;4DAAO,WAAU;sEAChB,cAAA,8OAAC,uMAAG;gEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sDAKrB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;sEAA4C;;;;;;sEAC7D,8OAAC;4DACC,cAAc,cAAc,WAAW,EAAE,aAAa;4DACtD,WAAU;;8EAEV,8OAAC;oEAAO,OAAM;8EAAc;;;;;;8EAC5B,8OAAC;oEAAO,OAAM;8EAAc;;;;;;8EAC5B,8OAAC;oEAAO,OAAM;8EAAW;;;;;;;;;;;;;;;;;;8DAG7B,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;sEAA4C;;;;;;sEAC7D,8OAAC;4DACC,cAAc,cAAc,WAAW,EAAE,YAAY;4DACrD,WAAU;;8EAEV,8OAAC;oEAAO,OAAM;8EAAO;;;;;;8EACrB,8OAAC;oEAAO,OAAM;8EAAO;;;;;;8EACrB,8OAAC;oEAAO,OAAM;8EAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8CAO9B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;sDAAwC;;;;;;sDAEtD,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;sEAA4C;;;;;;sEAG7D,8OAAC;4DACC,MAAK;4DACL,cAAc,cAAc,QAAQ,EAAE,kBAAkB;4DACxD,WAAU;4DACV,aAAY;;;;;;;;;;;;8DAGhB,8OAAC;;sEACC,8OAAC;4DAAM,WAAU;sEAA4C;;;;;;sEAG7D,8OAAC;4DACC,MAAK;4DACL,cAAc,cAAc,QAAQ,EAAE,cAAc;4DACpD,WAAU;4DACV,aAAY;;;;;;;;;;;;;;;;;;;;;;;;8CAOpB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,SAAS;gDACP,WAAW;gDACX,iBAAiB;gDACjB,iBAAiB;gDACjB,WAAW,IAAM,WAAW,OAAO;4CACrC;4CACA,WAAU;sDACX;;;;;;sDAGD,8OAAC;4CACC,SAAS;gDACP,iBAAiB;gDACjB,iBAAiB;4CACnB;4CACA,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YASV,QAAQ,MAAM,KAAK,kBAClB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sNAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC;wBAAE,WAAU;kCAAsB;;;;;;kCAGnC,8OAAC;wBACC,SAAS,IAAM,gBAAgB;wBAC/B,WAAU;kCACX;;;;;;;;;;;qCAKH,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC;wBAAoB,WAAU;;0CAC7B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAW,CAAC,qBAAqB,EACpC,OAAO,QAAQ,KAAK,SAAS,gCAAgC,8BAC9D,WAAW,CAAC;0DACV,sBAAsB,OAAO,QAAQ;;;;;;0DAExC,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAG,WAAU;0EAAoC,OAAO,YAAY;;;;;;4DACpE,OAAO,UAAU,kBAChB,8OAAC;gEAAK,WAAU;0EAA0G;;;;;;;;;;;;kEAK9H,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAW,CAAC,6CAA6C,EAAE,uBAAuB,OAAO,QAAQ,GAAG;0EACvG,OAAO,QAAQ,EAAE,iBAAiB;;;;;;0EAErC,8OAAC;gEAAK,WAAW,CAAC,6CAA6C,EAAE,uBAAuB,OAAO,QAAQ,GAAG;0EACvG,OAAO,QAAQ,EAAE,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;kDAK3C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,SAAS,IAAM,mBAAmB,OAAO,EAAE,EAAE,OAAO,MAAM,KAAK;gDAC/D,WAAW,CAAC,wDAAwD,EAClE,OAAO,MAAM,KAAK,WACd,oFACA,0EACJ;0DAED,OAAO,MAAM,KAAK,WAAW,WAAW;;;;;;4CAE1C,CAAC,OAAO,UAAU,kBACjB,8OAAC;gDACC,SAAS,IAAM,iBAAiB,OAAO,EAAE;gDACzC,WAAU;gDACV,OAAM;0DAEN,cAAA,8OAAC,mOAAW;oDAAC,WAAU;;;;;;;;;;;0DAG3B,8OAAC;gDACC,SAAS,IAAM,kBAAkB,mBAAmB,OAAO,EAAE,GAAG,OAAO,OAAO,EAAE;gDAChF,WAAU;gDACV,OAAM;0DAEN,cAAA,8OAAC,uMAAG;oDAAC,WAAU;;;;;;;;;;;0DAEjB,8OAAC;gDACC,SAAS;oDACP,iBAAiB;oDACjB,iBAAiB;gDACnB;gDACA,WAAU;gDACV,OAAM;0DAEN,cAAA,8OAAC,2MAAK;oDAAC,WAAU;;;;;;;;;;;0DAEnB,8OAAC;gDACC,SAAS,IAAM,mBAAmB,OAAO,EAAE;gDAC3C,WAAU;gDACV,OAAM;0DAEN,cAAA,8OAAC,oNAAM;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;4BAKvB,mBAAmB,OAAO,EAAE,kBAC3B,8OAAC;gCAAI,WAAU;;oCACZ,OAAO,QAAQ,EAAE,kBAAkB,UAAU,OAAO,WAAW,kBAC9D,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;;kEACZ,8OAAC,6MAAK;wDAAC,WAAU;;;;;;oDAAY;;;;;;;0DAG/B,8OAAC;gDAAI,WAAU;;oDACZ,OAAO,WAAW,CAAC,IAAI,kBACtB,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAwB,OAAO,WAAW,CAAC,IAAI;;;;;;;;;;;;oDAGlE,OAAO,WAAW,CAAC,IAAI,kBACtB,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAwB,OAAO,WAAW,CAAC,IAAI;;;;;;;;;;;;oDAGlE,OAAO,WAAW,CAAC,SAAS,kBAC3B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAwB,OAAO,WAAW,CAAC,SAAS;;;;;;;;;;;;oDAGvE,OAAO,WAAW,CAAC,SAAS,kBAC3B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAyB,OAAO,WAAW,CAAC,SAAS;;;;;;;;;;;;oDAGxE,OAAO,WAAW,CAAC,QAAQ,kBAC1B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAc,OAAO,WAAW,CAAC,QAAQ;;;;;;;;;;;;oDAG5D,OAAO,WAAW,CAAC,iBAAiB,kBACnC,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAc,OAAO,WAAW,CAAC,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;oCAO1E;wCAAC;wCAAQ;qCAAQ,CAAC,QAAQ,CAAC,OAAO,QAAQ,EAAE,iBAAiB,OAAQ,OAAO,WAAW,kBACvF,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;;kEACZ,8OAAC,6MAAK;wDAAC,WAAU;;;;;;oDAAY;;;;;;;0DAG/B,8OAAC;gDAAI,WAAU;;oDACZ,OAAO,WAAW,CAAC,QAAQ,kBAC1B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAkC,OAAO,WAAW,CAAC,QAAQ;;;;;;;;;;;;oDAGhF,OAAO,WAAW,CAAC,QAAQ,kBAC1B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAwB,OAAO,WAAW,CAAC,QAAQ;;;;;;;;;;;;oDAGtE,OAAO,WAAW,CAAC,MAAM,kBACxB,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAc,OAAO,WAAW,CAAC,MAAM;;;;;;;;;;;;oDAG1D,OAAO,WAAW,CAAC,YAAY,kBAC9B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAgC,OAAO,WAAW,CAAC,YAAY;;;;;;;;;;;;;;;;;;;;;;;;oCAOxF,OAAO,QAAQ,IAAI,OAAO,IAAI,CAAC,OAAO,QAAQ,EAAE,MAAM,GAAG,mBACxD,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;;kEACZ,8OAAC,sNAAQ;wDAAC,WAAU;;;;;;oDAAY;;;;;;;0DAGlC,8OAAC;gDAAI,WAAU;;oDACZ,OAAO,QAAQ,CAAC,cAAc,kBAC7B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;;oEAAc,OAAO,QAAQ,CAAC,cAAc;oEAAC;;;;;;;;;;;;;oDAGhE,OAAO,QAAQ,CAAC,UAAU,kBACzB,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;;oEAAc,OAAO,QAAQ,CAAC,UAAU;oEAAC;;;;;;;;;;;;;oDAG5D,OAAO,QAAQ,CAAC,eAAe,kBAC9B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAc,OAAO,QAAQ,CAAC,eAAe;;;;;;;;;;;;oDAGhE,OAAO,QAAQ,CAAC,cAAc,kBAC7B,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAK,WAAU;0EAA4B;;;;;;0EAC5C,8OAAC;gEAAK,WAAU;0EAAc,OAAO,QAAQ,CAAC,cAAc;;;;;;;;;;;;;;;;;;;;;;;;kDAOtE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;oDAAK;oDAAU,IAAI,KAAK,OAAO,UAAU,EAAE,cAAc;;;;;;;0DAC1D,8OAAC;;oDAAK;oDAAU,IAAI,KAAK,OAAO,UAAU,EAAE,cAAc;;;;;;;;;;;;;;;;;;;;uBAnMxD,OAAO,EAAE;;;;;;;;;;YA4MxB,8BACC,8OAAC;gBACC,UAAU,MAAM,cAAc,aAAa,MAAM,eAAe,aAAa;gBAC7E,SAAS,IAAM,gBAAgB;gBAC/B,WAAW;oBACT,gBAAgB;oBAChB;oBACA,WAAW;oBACX,WAAW,IAAM,WAAW,OAAO;gBACrC;gBACA,SAAS,CAAC,MAAQ,SAAS;;;;;;;;;;;;AAKrC;AASA,SAAS,eAAe,EAAE,QAAQ,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAuB;IACpF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,WAAW;QACX,UAAU;QACV,UAAU;QACV,cAAc;QACd,cAAc;QACd,cAAc;QACd,cAAc;QACd,aAAa;QACb,cAAc;QACd,YAAY;QACZ,iBAAiB;QACjB,QAAQ;QACR,eAAe;QACf,WAAW;IACb;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,aAAa;QACjB,IAAI,CAAC,SAAS,cAAc,IAAI,CAAC,SAAS,cAAc,EAAE;YACxD,QAAQ;YACR;QACF;QAEA,IAAI,SAAS,cAAc,KAAK,UAAU,CAAC,CAAC,SAAS,QAAQ,IAAI,CAAC,SAAS,QAAQ,IAAI,CAAC,SAAS,YAAY,GAAG;YAC9G,QAAQ;YACR;QACF;QAEA,IAAI,CAAC,SAAS,cAAc,KAAK,UAAU,SAAS,cAAc,KAAK,OAAO,KAAK,CAAC,SAAS,WAAW,EAAE;YACxG,QAAQ;YACR;QACF;QAEA,UAAU;QAEV,IAAI;YACF,gDAAgD;YAChD,MAAM,aAAkB;gBACtB,WAAW,YAAY;gBACvB,cAAc,SAAS,cAAc;gBACrC,UAAU,SAAS,cAAc;gBACjC,UAAU,SAAS,cAAc,CAAC,WAAW;gBAC7C,QAAQ;gBACR,WAAW;gBACX,YAAY,SAAS,SAAS;YAChC;YAEA,IAAI,SAAS,cAAc,KAAK,QAAQ;gBACtC,WAAW,WAAW,GAAG,KAAK,SAAS,CAAC;oBACtC,MAAM,SAAS,QAAQ;oBACvB,MAAM,SAAS,SAAS,QAAQ;oBAChC,WAAW,SAAS,YAAY;oBAChC,WAAW,SAAS,YAAY;oBAChC,UAAU,SAAS,YAAY;oBAC/B,mBAAmB;oBACnB,KAAK;oBACL,KAAK;gBACP;gBACA,WAAW,WAAW,GAAG,KAAK,SAAS,CAAC;oBACtC,UAAU,SAAS,YAAY;gBACjC;YACF,OAAO;gBACL,WAAW,WAAW,GAAG,KAAK,SAAS,CAAC;oBACtC,UAAU,SAAS,WAAW;oBAC9B,UAAU,SAAS,YAAY;oBAC/B,QAAQ,SAAS,UAAU;oBAC3B,cAAc,SAAS,eAAe;oBACtC,SAAS;gBACX;gBACA,WAAW,WAAW,GAAG,KAAK,SAAS,CAAC;oBACtC,SAAS,SAAS,MAAM;gBAC1B;YACF;YAEA,WAAW,QAAQ,GAAG,KAAK,SAAS,CAAC;gBACnC,gBAAgB,SAAS,SAAS,aAAa;gBAC/C,YAAY,SAAS,SAAS,SAAS;YACzC;YAEA,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,sHAAE,CACpC,IAAI,CAAC,sBACL,MAAM,CAAC;YAEV,IAAI,aAAa,MAAM;YAEvB;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,QAAQ,IAAI,OAAO,IAAI;QACzB,SAAU;YACR,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAqC;;;;;;8BAEnD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;;wCAAgD;sDAC5C,8OAAC;4CAAK,WAAU;sDAAe;;;;;;;;;;;;8CAEpD,8OAAC;oCACC,MAAK;oCACL,QAAQ;oCACR,OAAO,SAAS,cAAc;oCAC9B,UAAU,CAAC,IAAM,YAAY;4CAAE,GAAG,QAAQ;4CAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;wCAAC;oCAC3E,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAIhB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;;gDAAgD;8DAC/C,8OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEjD,8OAAC;4CACC,OAAO,SAAS,cAAc;4CAC9B,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;gDAAQ;4CAClF,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAU;;;;;;8DACxB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,8OAAC;oDAAO,OAAM;8DAAS;;;;;;8DACvB,8OAAC;oDAAO,OAAM;8DAAQ;;;;;;;;;;;;;;;;;;8CAI1B,8OAAC;;sDACC,8OAAC;4CAAM,WAAU;;gDAAgD;8DAC/C,8OAAC;oDAAK,WAAU;8DAAe;;;;;;;;;;;;sDAEjD,8OAAC;4CACC,OAAO,SAAS,cAAc;4CAC9B,UAAU,CAAC,IAAM,YAAY;oDAAE,GAAG,QAAQ;oDAAE,gBAAgB,EAAE,MAAM,CAAC,KAAK;gDAAQ;4CAClF,WAAU;;8DAEV,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAO;;;;;;8DACrB,8OAAC;oDAAO,OAAM;8DAAQ;;;;;;;;;;;;;;;;;;;;;;;;sCAK5B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,IAAG;oCACH,SAAS,SAAS,SAAS;oCAC3B,UAAU,CAAC,IAAM,YAAY;4CAAE,GAAG,QAAQ;4CAAE,WAAW,EAAE,MAAM,CAAC,OAAO;wCAAC;oCACxE,WAAU;;;;;;8CAEZ,8OAAC;oCAAM,SAAQ;oCAAY,WAAU;8CAAwC;;;;;;;;;;;;wBAK9E,SAAS,cAAc,KAAK,uBAC3B;sCACE,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAM,WAAU;;oEAAgD;kFAC1D,8OAAC;wEAAK,WAAU;kFAAe;;;;;;;;;;;;0EAEtC,8OAAC;gEACC,MAAK;gEACL,OAAO,SAAS,QAAQ;gEACxB,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACrE,WAAU;gEACV,aAAY;;;;;;;;;;;;kEAGhB,8OAAC;;0EACC,8OAAC;gEAAM,WAAU;;oEAAgD;kFAC1D,8OAAC;wEAAK,WAAU;kFAAe;;;;;;;;;;;;0EAEtC,8OAAC;gEACC,MAAK;gEACL,OAAO,SAAS,QAAQ;gEACxB,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,UAAU,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACrE,WAAU;gEACV,aAAY;;;;;;;;;;;;;;;;;;0DAKlB,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;;4DAAgD;0EACrD,8OAAC;gEAAK,WAAU;0EAAe;;;;;;;;;;;;kEAE3C,8OAAC;wDACC,MAAK;wDACL,OAAO,SAAS,YAAY;wDAC5B,UAAU,CAAC,IAAM,YAAY;gEAAE,GAAG,QAAQ;gEAAE,cAAc,EAAE,MAAM,CAAC,KAAK;4DAAC;wDACzE,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAIhB,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;;4DAAgD;0EACtD,8OAAC;gEAAK,WAAU;0EAAe;;;;;;;;;;;;kEAE1C,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEACC,MAAM,eAAe,SAAS;gEAC9B,OAAO,SAAS,YAAY;gEAC5B,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,cAAc,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACzE,WAAU;gEACV,aAAY;;;;;;0EAEd,8OAAC;gEACC,MAAK;gEACL,SAAS,IAAM,gBAAgB,CAAC;gEAChC,WAAU;0EAET,6BAAe,8OAAC,oNAAM;oEAAC,WAAU;;;;;yFAAe,8OAAC,uMAAG;oEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;0DAKtE,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAM,WAAU;0EAAgD;;;;;;0EAGjE,8OAAC;gEACC,OAAO,SAAS,YAAY;gEAC5B,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,cAAc,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACzE,WAAU;;kFAEV,8OAAC;wEAAO,OAAM;kFAAc;;;;;;kFAC5B,8OAAC;wEAAO,OAAM;kFAAc;;;;;;kFAC5B,8OAAC;wEAAO,OAAM;kFAAW;;;;;;;;;;;;;;;;;;kEAG7B,8OAAC;;0EACC,8OAAC;gEAAM,WAAU;0EAAgD;;;;;;0EAGjE,8OAAC;gEACC,OAAO,SAAS,YAAY;gEAC5B,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,cAAc,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACzE,WAAU;;kFAEV,8OAAC;wEAAO,OAAM;kFAAO;;;;;;kFACrB,8OAAC;wEAAO,OAAM;kFAAO;;;;;;kFACrB,8OAAC;wEAAO,OAAM;kFAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DAQjC;sCACE,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAwC;;;;;;kDACtD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;;4DAAgD;0EACtD,8OAAC;gEAAK,WAAU;0EAAe;;;;;;;;;;;;kEAE1C,8OAAC;wDACC,MAAK;wDACL,OAAO,SAAS,WAAW;wDAC3B,UAAU,CAAC,IAAM,YAAY;gEAAE,GAAG,QAAQ;gEAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4DAAC;wDACxE,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAIhB,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEAAgD;;;;;;kEAGjE,8OAAC;wDACC,MAAK;wDACL,OAAO,SAAS,YAAY;wDAC5B,UAAU,CAAC,IAAM,YAAY;gEAAE,GAAG,QAAQ;gEAAE,cAAc,EAAE,MAAM,CAAC,KAAK;4DAAC;wDACzE,WAAU;wDACV,aAAY;;;;;;;;;;;;0DAIhB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;;0EACC,8OAAC;gEAAM,WAAU;0EAAgD;;;;;;0EAGjE,8OAAC;gEACC,OAAO,SAAS,UAAU;gEAC1B,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,YAAY,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACvE,WAAU;;kFAEV,8OAAC;wEAAO,OAAM;kFAAO;;;;;;kFACrB,8OAAC;wEAAO,OAAM;kFAAM;;;;;;kFACpB,8OAAC;wEAAO,OAAM;kFAAM;;;;;;;;;;;;;;;;;;kEAGxB,8OAAC;;0EACC,8OAAC;gEAAM,WAAU;0EAAgD;;;;;;0EAGjE,8OAAC;gEACC,OAAO,SAAS,eAAe;gEAC/B,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;oEAAC;gEAC5E,WAAU;;kFAEV,8OAAC;wEAAO,OAAM;kFAAmB;;;;;;kFACjC,8OAAC;wEAAO,OAAM;kFAAoC;;;;;;;;;;;;;;;;;;;;;;;;0DAKxD,8OAAC;;kEACC,8OAAC;wDAAM,WAAU;kEAAgD;;;;;;kEAGjE,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEACC,MAAM,eAAe,SAAS;gEAC9B,OAAO,SAAS,MAAM;gEACtB,UAAU,CAAC,IAAM,YAAY;wEAAE,GAAG,QAAQ;wEAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;oEAAC;gEACnE,WAAU;gEACV,aAAY;;;;;;0EAEd,8OAAC;gEACC,MAAK;gEACL,SAAS,IAAM,gBAAgB,CAAC;gEAChC,WAAU;0EAET,6BAAe,8OAAC,oNAAM;oEAAC,WAAU;;;;;yFAAe,8OAAC,uMAAG;oEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAS9E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAgD;;;;;;8DAGjE,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,aAAa;oDAC7B,UAAU,CAAC,IAAM,YAAY;4DAAE,GAAG,QAAQ;4DAAE,eAAe,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAC1E,WAAU;oDACV,aAAY;;;;;;;;;;;;sDAGhB,8OAAC;;8DACC,8OAAC;oDAAM,WAAU;8DAAgD;;;;;;8DAGjE,8OAAC;oDACC,MAAK;oDACL,OAAO,SAAS,SAAS;oDACzB,UAAU,CAAC,IAAM,YAAY;4DAAE,GAAG,QAAQ;4DAAE,WAAW,EAAE,MAAM,CAAC,KAAK;wDAAC;oDACtE,WAAU;oDACV,aAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOtB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,uBACC;;kDACE,8OAAC,gNAAM;wCAAC,WAAU;;;;;;oCAAyB;;+CAI7C;;;;;;;;;;;;;;;;;;;;;;;AAOd"}}]
}