{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Recordings.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Mic, Play, Download, Trash2, Search, Phone, Video as VideoIcon, Calendar, X, Pause } from 'lucide-react';\n\ninterface Recording {\n  id: string;\n  type: 'voice' | 'video';\n  title: string;\n  date: string;\n  duration: string;\n  size: string;\n  status: 'available' | 'processing' | 'archived';\n  url?: string;\n}\n\nexport default function Recordings() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'voice' | 'video'>('all');\n  const [playingRecording, setPlayingRecording] = useState<Recording | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const [recordings, setRecordings] = useState<Recording[]>([\n    {\n      id: '1',\n      type: 'voice',\n      title: 'Customer Support Call - #12345',\n      date: '2024-12-26 10:30 AM',\n      duration: '5:42',\n      size: '2.8 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'\n    },\n    {\n      id: '2',\n      type: 'video',\n      title: 'Product Demo Session',\n      date: '2024-12-25 2:15 PM',\n      duration: '12:30',\n      size: '45.6 MB',\n      status: 'available',\n      url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4'\n    },\n    {\n      id: '3',\n      type: 'voice',\n      title: 'Sales Call - Lead Qualification',\n      date: '2024-12-25 11:00 AM',\n      duration: '8:15',\n      size: '4.2 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'\n    },\n    {\n      id: '4',\n      type: 'video',\n      title: 'Team Meeting Recording',\n      date: '2024-12-24 3:00 PM',\n      duration: '45:20',\n      size: '156.3 MB',\n      status: 'available',\n      url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4'\n    },\n    {\n      id: '5',\n      type: 'voice',\n      title: 'Technical Support Call',\n      date: '2024-12-24 9:45 AM',\n      duration: '15:30',\n      size: '7.8 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'\n    },\n    {\n      id: '6',\n      type: 'video',\n      title: 'Webinar - Q4 Review',\n      date: '2024-12-23 1:00 PM',\n      duration: '60:00',\n      size: '210.5 MB',\n      status: 'processing'\n    }\n  ]);\n\n  const filteredRecordings = recordings.filter(recording => {\n    const matchesSearch = recording.title.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesType = filterType === 'all' || recording.type === filterType;\n    return matchesSearch && matchesType;\n  });\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'available': return 'bg-green-500/20 text-green-400 border-green-500/30';\n      case 'processing': return 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30';\n      case 'archived': return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n      default: return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n    }\n  };\n\n  const totalRecordings = recordings.length;\n  const voiceRecordings = recordings.filter(r => r.type === 'voice').length;\n  const videoRecordings = recordings.filter(r => r.type === 'video').length;\n  const totalSize = recordings.reduce((sum, r) => {\n    const size = parseFloat(r.size);\n    return sum + size;\n  }, 0);\n\n  const handlePlay = (recording: Recording) => {\n    if (recording.status !== 'available') {\n      alert('This recording is not available for playback yet.');\n      return;\n    }\n    setPlayingRecording(recording);\n    setIsPlaying(true);\n  };\n\n  const handleClosePlayer = () => {\n    setPlayingRecording(null);\n    setIsPlaying(false);\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n    }\n    if (videoRef.current) {\n      videoRef.current.pause();\n      videoRef.current.currentTime = 0;\n    }\n  };\n\n  const togglePlayPause = () => {\n    const mediaElement = playingRecording?.type === 'voice' ? audioRef.current : videoRef.current;\n    if (mediaElement) {\n      if (isPlaying) {\n        mediaElement.pause();\n      } else {\n        mediaElement.play();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const handleDownload = (recording: Recording) => {\n    if (recording.status !== 'available') {\n      alert('This recording is not available for download yet.');\n      return;\n    }\n    if (recording.url) {\n      const link = document.createElement('a');\n      link.href = recording.url;\n      link.download = `${recording.title}.${recording.type === 'voice' ? 'mp3' : 'mp4'}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  const handleDelete = (recordingId: string) => {\n    if (confirm('Are you sure you want to delete this recording? This action cannot be undone.')) {\n      setRecordings(recordings.filter(r => r.id !== recordingId));\n      if (playingRecording?.id === recordingId) {\n        handleClosePlayer();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const mediaElement = playingRecording?.type === 'voice' ? audioRef.current : videoRef.current;\n    if (mediaElement) {\n      const handleEnded = () => setIsPlaying(false);\n      const handlePlay = () => setIsPlaying(true);\n      const handlePause = () => setIsPlaying(false);\n\n      mediaElement.addEventListener('ended', handleEnded);\n      mediaElement.addEventListener('play', handlePlay);\n      mediaElement.addEventListener('pause', handlePause);\n\n      return () => {\n        mediaElement.removeEventListener('ended', handleEnded);\n        mediaElement.removeEventListener('play', handlePlay);\n        mediaElement.removeEventListener('pause', handlePause);\n      };\n    }\n  }, [playingRecording]);\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-[#012419] p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">Recordings</h1>\n        <p className=\"text-slate-400 text-lg\">Manage your voice and video recordings</p>\n      </div>\n\n\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6\">\n        <div className=\"flex gap-4 items-center\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search recordings...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#39FF14]\"\n            />\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilterType('all')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'all'\n                  ? 'bg-[#39FF14] text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              All\n            </button>\n            <button\n              onClick={() => setFilterType('voice')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'voice'\n                  ? 'bg-[#39FF14] text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Voice\n            </button>\n            <button\n              onClick={() => setFilterType('video')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'video'\n                  ? 'bg-[#39FF14] text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Video\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n        <div className=\"space-y-4\">\n          {filteredRecordings.map((recording) => (\n            <div\n              key={recording.id}\n              className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors\"\n            >\n              <div className=\"flex items-center gap-4\">\n                <div className={`p-3 rounded-lg ${\n                  recording.type === 'voice'\n                    ? 'bg-green-500/20 text-green-400'\n                    : 'bg-[#39FF14]/20 text-[#39FF14]'\n                }`}>\n                  {recording.type === 'voice' ? (\n                    <Phone className=\"w-6 h-6\" />\n                  ) : (\n                    <VideoIcon className=\"w-6 h-6\" />\n                  )}\n                </div>\n\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-white font-semibold mb-1\">{recording.title}</h3>\n                  <div className=\"flex items-center gap-4 text-sm text-slate-400\">\n                    <span>{recording.date}</span>\n                    <span>•</span>\n                    <span>{recording.duration}</span>\n                    <span>•</span>\n                    <span>{recording.size}</span>\n                  </div>\n                </div>\n\n                <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(recording.status)}`}>\n                  {recording.status}\n                </span>\n\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handlePlay(recording)}\n                    disabled={recording.status !== 'available'}\n                    className={`p-2 rounded-lg transition-colors ${\n                      recording.status === 'available'\n                        ? 'bg-[#39FF14]/20/20 hover:bg-[#39FF14]/20/30 text-[#39FF14]'\n                        : 'bg-slate-700/20 text-slate-500 cursor-not-allowed'\n                    }`}\n                    title={recording.status === 'available' ? 'Play recording' : 'Recording not available'}\n                  >\n                    <Play className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDownload(recording)}\n                    disabled={recording.status !== 'available'}\n                    className={`p-2 rounded-lg transition-colors ${\n                      recording.status === 'available'\n                        ? 'bg-green-500/20 hover:bg-green-500/30 text-green-400'\n                        : 'bg-slate-700/20 text-slate-500 cursor-not-allowed'\n                    }`}\n                    title={recording.status === 'available' ? 'Download recording' : 'Recording not available'}\n                  >\n                    <Download className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(recording.id)}\n                    className=\"p-2 bg-[#39FF14]/10 hover:bg-[#39FF14]/20 text-[#39FF14] rounded-lg transition-colors\"\n                    title=\"Delete recording\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {filteredRecordings.length === 0 && (\n          <div className=\"text-center py-12\">\n            <Mic className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n            <p className=\"text-slate-400 text-lg\">No recordings found</p>\n            <p className=\"text-slate-500 text-sm mt-2\">Try adjusting your search or filter</p>\n          </div>\n        )}\n      </div>\n\n      {playingRecording && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl mx-4 overflow-hidden\">\n            <div className=\"bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700\">\n              <div>\n                <h3 className=\"text-white font-semibold text-lg\">{playingRecording.title}</h3>\n                <p className=\"text-slate-400 text-sm mt-1\">\n                  {playingRecording.date} • {playingRecording.duration}\n                </p>\n              </div>\n              <button\n                onClick={handleClosePlayer}\n                className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              {playingRecording.type === 'voice' ? (\n                <div className=\"space-y-6\">\n                  <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 rounded-xl p-12 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                      <div className=\"bg-[#39FF14]/20/20 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4\">\n                        <Phone className=\"w-16 h-16 text-[#39FF14]\" />\n                      </div>\n                      <p className=\"text-white font-medium text-lg\">Audio Recording</p>\n                      <p className=\"text-slate-400 text-sm mt-2\">Playing voice call</p>\n                    </div>\n                  </div>\n                  <audio\n                    ref={audioRef}\n                    src={playingRecording.url}\n                    className=\"w-full\"\n                    controls\n                    autoPlay\n                  />\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  <video\n                    ref={videoRef}\n                    src={playingRecording.url}\n                    className=\"w-full rounded-lg bg-black\"\n                    controls\n                    autoPlay\n                  />\n                </div>\n              )}\n\n              <div className=\"flex items-center justify-between mt-6 pt-6 border-t border-slate-700\">\n                <div className=\"flex items-center gap-4\">\n                  <button\n                    onClick={togglePlayPause}\n                    className=\"p-3 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg transition-colors\"\n                  >\n                    {isPlaying ? (\n                      <Pause className=\"w-6 h-6\" />\n                    ) : (\n                      <Play className=\"w-6 h-6\" />\n                    )}\n                  </button>\n                  <div className=\"text-sm text-slate-400\">\n                    <span className={`px-2 py-1 rounded ${\n                      playingRecording.type === 'voice'\n                        ? 'bg-green-500/20 text-green-400'\n                        : 'bg-[#39FF14]/20 text-[#39FF14]'\n                    }`}>\n                      {playingRecording.type === 'voice' ? 'Voice' : 'Video'}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handleDownload(playingRecording)}\n                    className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </button>\n                  <button\n                    onClick={handleClosePlayer}\n                    className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 765, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Subscriptions.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\nimport {\n  CreditCard, Package, Calendar, TrendingUp, CheckCircle, XCircle,\n  AlertCircle, RefreshCw, Download, Clock, Award, Zap, Shield,\n  Users, Activity, Tag, Gift, BarChart3, Info\n} from 'lucide-react';\n\nexport default function Subscriptions() {\n  const { user } = useAuth();\n  const [subscriptions, setSubscriptions] = useState<any[]>([]);\n  const [offers, setOffers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      loadSubscriptionsAndOffers();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (!user) return;\n\n    const subscriptionsChannel = db\n      .channel('user-subscriptions-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'user_subscriptions',\n          filter: `user_id=eq.${user.id}`\n        },\n        () => {\n          loadSubscriptionsAndOffers();\n        }\n      )\n      .subscribe();\n\n    const offersChannel = db\n      .channel('user-offers-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'user_offers',\n          filter: `user_id=eq.${user.id}`\n        },\n        () => {\n          loadSubscriptionsAndOffers();\n        }\n      )\n      .subscribe();\n\n    return () => {\n      db.removeChannel(subscriptionsChannel);\n      db.removeChannel(offersChannel);\n    };\n  }, [user]);\n\n  const loadSubscriptionsAndOffers = async () => {\n    try {\n      const { data: subsData, error: subsError } = await db\n        .from('user_subscriptions')\n        .select(`\n          *,\n          product:products(*)\n        `)\n        .eq('user_id', user?.id)\n        .order('created_at', { ascending: false });\n\n      if (subsError) throw subsError;\n\n      const { data: offersData, error: offersError } = await db\n        .from('user_offers')\n        .select('*')\n        .eq('user_id', user?.id)\n        .eq('status', 'active')\n        .order('expires_at', { ascending: true });\n\n      if (offersError) throw offersError;\n\n      setSubscriptions(subsData || []);\n      setOffers(offersData || []);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'active':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30 flex items-center gap-1.5\">\n            <CheckCircle className=\"w-3.5 h-3.5\" />\n            Active\n          </span>\n        );\n      case 'expired':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30 flex items-center gap-1.5\">\n            <XCircle className=\"w-3.5 h-3.5\" />\n            Expired\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30 flex items-center gap-1.5\">\n            <AlertCircle className=\"w-3.5 h-3.5\" />\n            Cancelled\n          </span>\n        );\n      default:\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-slate-500/20 text-slate-400 border border-slate-500/30\">\n            {status}\n          </span>\n        );\n    }\n  };\n\n  const calculateDaysRemaining = (expiryDate: string) => {\n    const now = new Date();\n    const expiry = new Date(expiryDate);\n    const diff = expiry.getTime() - now.getTime();\n    const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n    return days;\n  };\n\n  const formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const calculateUsagePercentage = (used: number, limit: number) => {\n    if (limit === 0) return 0;\n    return Math.min((used / limit) * 100, 100);\n  };\n\n  const activeSubscriptions = subscriptions.filter(s => s.status === 'active');\n  const totalSpending = subscriptions\n    .filter(s => s.status === 'active')\n    .reduce((sum, s) => sum + parseFloat(s.amount || 0), 0);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-[#012419]\">\n        <div className=\"flex flex-col items-center gap-3\">\n          <RefreshCw className=\"w-8 h-8 text-[#39FF14] animate-spin\" />\n          <div className=\"text-slate-400\">Loading subscriptions...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#012419] p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2 flex items-center gap-3\">\n          <CreditCard className=\"w-10 h-10 text-[#39FF14]\" />\n          My Subscriptions\n        </h1>\n        <p className=\"text-slate-400\">Manage your subscriptions, licenses, and offers</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n              <Package className=\"w-6 h-6 text-[#39FF14]\" />\n            </div>\n            <TrendingUp className=\"w-5 h-5 text-[#39FF14]\" />\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{activeSubscriptions.length}</div>\n          <div className=\"text-slate-400 text-sm\">Active Subscriptions</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-green-500/20 rounded-lg\">\n              <CreditCard className=\"w-6 h-6 text-green-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">RM {totalSpending.toFixed(2)}</div>\n          <div className=\"text-slate-400 text-sm\">Monthly Spending</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n              <Gift className=\"w-6 h-6 text-[#39FF14]\" />\n            </div>\n            <span className=\"text-[#39FF14] text-sm font-semibold\">NEW</span>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{offers.length}</div>\n          <div className=\"text-slate-400 text-sm\">Available Offers</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n              <Award className=\"w-6 h-6 text-[#39FF14]\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">\n            {subscriptions.filter(s => s.license_key).length}\n          </div>\n          <div className=\"text-slate-400 text-sm\">Active Licenses</div>\n        </div>\n      </div>\n\n      {offers.length > 0 && (\n        <div className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold text-white mb-4 flex items-center gap-2\">\n            <Gift className=\"w-6 h-6 text-[#39FF14]\" />\n            Special Offers for You\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {offers.map((offer) => (\n              <div\n                key={offer.id}\n                className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n                    <Tag className=\"w-6 h-6 text-[#39FF14]\" />\n                  </div>\n                  <span className=\"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-bold\">\n                    {offer.discount_percentage}% OFF\n                  </span>\n                </div>\n                <h3 className=\"text-xl font-bold text-white mb-2\">{offer.offer_name}</h3>\n                <p className=\"text-slate-400 text-sm mb-4\">{offer.description}</p>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-slate-500\">Expires: {formatDate(offer.expires_at)}</span>\n                  <button className=\"px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg text-xs font-medium transition-colors\">\n                    Redeem Now\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-white mb-4\">Active Subscriptions</h2>\n      </div>\n\n      <div className=\"space-y-4\">\n        {subscriptions.length === 0 ? (\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center\">\n            <Package className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n            <p className=\"text-slate-400 text-lg mb-2\">No subscriptions found</p>\n            <p className=\"text-slate-500 text-sm\">Subscribe to products to get started</p>\n          </div>\n        ) : (\n          subscriptions.map((subscription) => {\n            const daysRemaining = calculateDaysRemaining(subscription.expires_at);\n            const usagePercent = calculateUsagePercentage(\n              subscription.usage_count || 0,\n              subscription.usage_limit || 0\n            );\n\n            return (\n              <div\n                key={subscription.id}\n                className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n                      <Package className=\"w-8 h-8 text-[#39FF14]\" />\n                    </div>\n                    <div>\n                      <h3 className=\"text-xl font-bold text-white mb-1\">\n                        {subscription.product?.name || subscription.product_name}\n                      </h3>\n                      <p className=\"text-slate-400 text-sm mb-3\">\n                        {subscription.product?.description || 'Premium subscription'}\n                      </p>\n                      <div className=\"flex items-center gap-4 text-sm\">\n                        <div className=\"flex items-center gap-2 text-slate-400\">\n                          <Calendar className=\"w-4 h-4\" />\n                          Started: {formatDate(subscription.started_at)}\n                        </div>\n                        <div className=\"flex items-center gap-2 text-slate-400\">\n                          <Clock className=\"w-4 h-4\" />\n                          {daysRemaining > 0 ? `${daysRemaining} days remaining` : 'Expired'}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    {getStatusBadge(subscription.status)}\n                    <div className=\"text-2xl font-bold text-white mt-3\">\n                      RM {parseFloat(subscription.amount).toFixed(2)}\n                    </div>\n                    <div className=\"text-slate-400 text-sm\">per {subscription.billing_cycle}</div>\n                  </div>\n                </div>\n\n                {subscription.usage_limit && (\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-center justify-between text-sm mb-2\">\n                      <span className=\"text-slate-400\">Usage</span>\n                      <span className=\"text-white font-medium\">\n                        {subscription.usage_count?.toLocaleString() || 0} / {subscription.usage_limit?.toLocaleString()}\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-slate-700 rounded-full h-2 overflow-hidden\">\n                      <div\n                        className={`h-full transition-all ${\n                          usagePercent >= 90\n                            ? 'bg-red-500'\n                            : usagePercent >= 70\n                            ? 'bg-[#39FF14]'\n                            : 'bg-[#39FF14]'\n                        }`}\n                        style={{ width: `${usagePercent}%` }}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {subscription.license_key && (\n                  <div className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <Shield className=\"w-5 h-5 text-green-400\" />\n                        <div>\n                          <div className=\"text-sm text-slate-400 mb-1\">License Key</div>\n                          <div className=\"font-mono text-white text-sm\">{subscription.license_key}</div>\n                        </div>\n                      </div>\n                      <button className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors\">\n                        <Download className=\"w-5 h-5 text-slate-400\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-700\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-[#39FF14]/20/20 rounded-lg\">\n                      <Activity className=\"w-5 h-5 text-[#39FF14]\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Status</div>\n                      <div className=\"text-sm text-white font-medium capitalize\">{subscription.status}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-green-500/20 rounded-lg\">\n                      <Calendar className=\"w-5 h-5 text-green-400\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Renewal Date</div>\n                      <div className=\"text-sm text-white font-medium\">{formatDate(subscription.expires_at)}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-[#39FF14]/20 rounded-lg\">\n                      <Zap className=\"w-5 h-5 text-[#39FF14]\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Auto Renew</div>\n                      <div className=\"text-sm text-white font-medium\">\n                        {subscription.auto_renew ? 'Enabled' : 'Disabled'}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-3 mt-6\">\n                  <button className=\"flex-1 px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2\">\n                    <BarChart3 className=\"w-4 h-4\" />\n                    View Usage\n                  </button>\n                  <button className=\"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2\">\n                    <RefreshCw className=\"w-4 h-4\" />\n                    Manage Subscription\n                  </button>\n                  <button className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors\">\n                    <Info className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}