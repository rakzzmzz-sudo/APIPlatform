{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/VideoRoom.tsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport {\n  Video, VideoOff, Mic, MicOff, Monitor, MonitorOff, PhoneOff, Users,\n  Settings, MessageCircle, X, Copy, CheckCircle, Maximize2, Minimize2, Send\n} from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\n\ninterface Participant {\n  id: string;\n  peerId: string;\n  name: string;\n  isHost: boolean;\n  audioEnabled: boolean;\n  videoEnabled: boolean;\n  screenSharing: boolean;\n  stream?: MediaStream;\n}\n\ninterface ChatMessage {\n  id: string;\n  senderId: string;\n  senderName: string;\n  text: string;\n  timestamp: string;\n}\n\ninterface VideoRoomProps {\n  roomId: string;\n  onLeave: () => void;\n}\n\nconst ICE_SERVERS = {\n  iceServers: [\n    { urls: 'stun:stun.l.google.com:19302' },\n    { urls: 'stun:stun1.l.google.com:19302' }\n  ]\n};\n\nexport default function VideoRoom({ roomId, onLeave }: VideoRoomProps) {\n  const { user } = useAuth();\n  const [room, setRoom] = useState<any>(null);\n  const [participants, setParticipants] = useState<Participant[]>([]);\n  const [myPeerId, setMyPeerId] = useState<string>('');\n  const [localStream, setLocalStream] = useState<MediaStream | null>(null);\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [videoEnabled, setVideoEnabled] = useState(true);\n  const [screenSharing, setScreenSharing] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showChat, setShowChat] = useState(false);\n  const [copiedLink, setCopiedLink] = useState(false);\n\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const localVideoRef = useRef<HTMLVideoElement>(null);\n  const peerConnections = useRef<Map<string, RTCPeerConnection>>(new Map());\n  const roomContainerRef = useRef<HTMLDivElement>(null);\n  const initializingRef = useRef(false);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    if (!initializingRef.current) {\n      initializingRef.current = true;\n      initializeRoom();\n    }\n    return () => {\n      cleanup();\n      initializingRef.current = false;\n    };\n  }, [roomId]);\n\n  // ... (rest of useEffects)\n\n  const initializeRoom = async () => {\n    if (!user) return;\n    const peerId = `peer_${Math.random().toString(36).substr(2, 9)}`;\n    setMyPeerId(peerId);\n\n    // Try to find existing room first\n    const { data: roomData } = await db\n      .from('video_rooms')\n      .select('*')\n      .eq('room_id', roomId)\n      .single();\n\n    if (roomData) {\n      setRoom(roomData);\n      await setupLocalMedia();\n      await joinRoom(peerId, roomData);\n      setupSignalingChannel(peerId);\n    } else {\n      // Create new room\n      const { data: newRoom, error } = await db\n        .from('video_rooms')\n        .insert({\n          room_id: roomId,\n          host_user_id: user.id,\n          status: 'active',\n          started_at: new Date().toISOString()\n        })\n        .select()\n        .single();\n      \n      if (newRoom) {\n        setRoom(newRoom);\n        await setupLocalMedia();\n        await joinRoom(peerId, newRoom);\n        setupSignalingChannel(peerId);\n      } else if (error) {\n        console.error('Error creating room:', error);\n        // If error is likely \"Unique constraint\", try fetching again\n        const { data: retryRoom } = await db\n            .from('video_rooms')\n            .select('*')\n            .eq('room_id', roomId)\n            .single();\n        if (retryRoom) {\n            setRoom(retryRoom);\n            await setupLocalMedia();\n            await joinRoom(peerId, retryRoom);\n            setupSignalingChannel(peerId);\n        }\n      }\n    }\n  };\n\n  const setupLocalMedia = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: { width: 1280, height: 720 },\n        audio: { echoCancellation: true, noiseSuppression: true }\n      });\n      setLocalStream(stream);\n    } catch (error) {\n      console.error('Error accessing media devices:', error);\n    }\n  };\n\n  const joinRoom = async (peerId: string, roomData: any) => {\n    if (!user) return;\n\n    await db.from('video_room_participants').insert({\n      room_uuid: roomData.id,\n      user_id: user.id,\n      participant_name: user.email?.split('@')[0] || 'Guest',\n      peer_id: peerId,\n      is_host: roomData.host_user_id === user.id,\n      audio_enabled: true,\n      video_enabled: true\n    });\n\n    loadParticipants(roomData.id);\n  };\n\n  const loadParticipants = async (roomUuid: string) => {\n    const { data } = await db\n      .from('video_room_participants')\n      .select('*')\n      .eq('room_uuid', roomUuid)\n      .is('left_at', null);\n\n    if (data) {\n      const participantsList: Participant[] = data.map((p: any) => ({\n        id: p.id,\n        peerId: p.peer_id,\n        name: p.participant_name,\n        isHost: p.is_host,\n        audioEnabled: p.audio_enabled,\n        videoEnabled: p.video_enabled,\n        screenSharing: p.screen_sharing\n      }));\n      setParticipants(participantsList);\n\n      participantsList.forEach(p => {\n        if (p.peerId !== myPeerId && !peerConnections.current.has(p.peerId)) {\n          createPeerConnection(p.peerId, true);\n        }\n      });\n    }\n  };\n\n  const setupSignalingChannel = (peerId: string) => {\n    const channel = db\n      .channel(`room_${roomId}`)\n      .on('postgres_changes',\n        {\n          event: 'INSERT',\n          schema: 'public',\n          table: 'video_room_signals',\n          filter: `to_peer_id=eq.${peerId}`\n        },\n        async (payload: any) => {\n          await handleSignal(payload.new);\n        }\n      )\n      .on('postgres_changes',\n        {\n          event: 'INSERT',\n          schema: 'public',\n          table: 'video_room_participants'\n        },\n        () => {\n          if (room) loadParticipants(room.id);\n        }\n      )\n      .subscribe();\n\n    return () => {\n      channel.unsubscribe();\n    };\n  };\n\n  const createPeerConnection = async (remotePeerId: string, createOffer: boolean) => {\n    const pc = new RTCPeerConnection(ICE_SERVERS);\n    peerConnections.current.set(remotePeerId, pc);\n\n    if (localStream) {\n      localStream.getTracks().forEach(track => {\n        pc.addTrack(track, localStream);\n      });\n    }\n\n    pc.ontrack = (event) => {\n      setParticipants(prev =>\n        prev.map(p =>\n          p.peerId === remotePeerId\n            ? { ...p, stream: event.streams[0] }\n            : p\n        )\n      );\n    };\n\n    pc.onicecandidate = async (event) => {\n      if (event.candidate) {\n        await sendSignal(remotePeerId, 'ice-candidate', {\n          candidate: event.candidate.toJSON()\n        });\n      }\n    };\n\n    if (createOffer) {\n      const offer = await pc.createOffer();\n      await pc.setLocalDescription(offer);\n      await sendSignal(remotePeerId, 'offer', {\n        sdp: pc.localDescription?.toJSON()\n      });\n    }\n\n    return pc;\n  };\n\n  const sendSignal = async (toPeerId: string, signalType: string, signalData: any) => {\n    if (!room) return;\n\n    await db.from('video_room_signals').insert({\n      room_uuid: room.id,\n      from_peer_id: myPeerId,\n      to_peer_id: toPeerId,\n      signal_type: signalType,\n      signal_data: typeof signalData === 'string' ? signalData : JSON.stringify(signalData)\n    });\n  };\n\n  const handleSignal = async (signal: any) => {\n    const from_peer_id = signal.from_peer_id;\n    const signal_type = signal.signal_type;\n    const signal_data = typeof signal.signal_data === 'string' \n      ? JSON.parse(signal.signal_data) \n      : signal.signal_data;\n    \n    let pc = peerConnections.current.get(from_peer_id);\n\n    if (!pc) {\n      pc = await createPeerConnection(from_peer_id, false);\n    }\n\n    if (signal_type === 'offer') {\n      await pc.setRemoteDescription(new RTCSessionDescription(signal_data.sdp));\n      const answer = await pc.createAnswer();\n      await pc.setLocalDescription(answer);\n      await sendSignal(from_peer_id, 'answer', {\n        sdp: pc.localDescription?.toJSON()\n      });\n    } else if (signal_type === 'answer') {\n      await pc.setRemoteDescription(new RTCSessionDescription(signal_data.sdp));\n    } else if (signal_type === 'ice-candidate') {\n      await pc.addIceCandidate(new RTCIceCandidate(signal_data.candidate));\n    } else if (signal_type === 'chat') {\n      setMessages(prev => [...prev, signal_data]);\n    }\n  };\n\n  const sendChatMessage = async () => {\n    console.log('Attempting to send chat message:', { inputMessage, user: !!user, room: !!room });\n    if (!inputMessage.trim() || !user || !room) {\n      console.warn('Cannot send message: Missing requirements', { \n        hasInput: !!inputMessage.trim(), \n        hasUser: !!user, \n        hasRoom: !!room \n      });\n      return;\n    }\n\n    const newMessage: ChatMessage = {\n      id: Math.random().toString(36).substr(2, 9),\n      senderId: user.id,\n      senderName: user.email?.split('@')[0] || 'Me',\n      text: inputMessage.trim(),\n      timestamp: new Date().toISOString()\n    };\n\n    setMessages(prev => [...prev, newMessage]);\n    setInputMessage('');\n\n    // Broadcast message to all participants\n    // iterate over all peers and send signal\n    participants.forEach(p => {\n      if (p.peerId !== myPeerId) {\n        sendSignal(p.peerId, 'chat', newMessage);\n      }\n    });\n\n    // Also store in DB for persistence if needed (optional for now, we prioritize real-time)\n  };\n\n  const toggleAudio = () => {\n    if (localStream) {\n      const audioTrack = localStream.getAudioTracks()[0];\n      if (audioTrack) {\n        audioTrack.enabled = !audioTrack.enabled;\n        setAudioEnabled(audioTrack.enabled);\n      }\n    }\n  };\n\n  const toggleVideo = () => {\n    if (localStream) {\n      const videoTrack = localStream.getVideoTracks()[0];\n      if (videoTrack) {\n        videoTrack.enabled = !videoTrack.enabled;\n        setVideoEnabled(videoTrack.enabled);\n      }\n    }\n  };\n\n  const toggleScreenShare = async () => {\n    if (screenSharing) {\n      await stopScreenShare();\n    } else {\n      await startScreenShare();\n    }\n  };\n\n  const startScreenShare = async () => {\n    try {\n      const screenStream = await navigator.mediaDevices.getDisplayMedia({\n        video: true\n      });\n\n      const screenTrack = screenStream.getVideoTracks()[0];\n\n      peerConnections.current.forEach(pc => {\n        const sender = pc.getSenders().find(s => s.track?.kind === 'video');\n        if (sender) {\n          sender.replaceTrack(screenTrack);\n        }\n      });\n\n      screenTrack.onended = () => {\n        stopScreenShare();\n      };\n\n      setScreenSharing(true);\n    } catch (error) {\n      console.error('Error sharing screen:', error);\n    }\n  };\n\n  const stopScreenShare = async () => {\n    if (localStream) {\n      const videoTrack = localStream.getVideoTracks()[0];\n\n      peerConnections.current.forEach(pc => {\n        const sender = pc.getSenders().find(s => s.track?.kind === 'video');\n        if (sender && videoTrack) {\n          sender.replaceTrack(videoTrack);\n        }\n      });\n    }\n\n    setScreenSharing(false);\n  };\n\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      roomContainerRef.current?.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n\n  const copyRoomLink = () => {\n    const link = `${window.location.origin}/video-room/${roomId}`;\n    navigator.clipboard.writeText(link);\n    setCopiedLink(true);\n    setTimeout(() => setCopiedLink(false), 2000);\n  };\n\n  const handleLeaveRoom = async () => {\n    await cleanup();\n    onLeave();\n  };\n\n  const cleanup = async () => {\n    if (localStream) {\n      localStream.getTracks().forEach(track => track.stop());\n    }\n\n    peerConnections.current.forEach(pc => pc.close());\n    peerConnections.current.clear();\n\n    if (room && myPeerId) {\n      await db\n        .from('video_room_participants')\n        .update({ left_at: new Date().toISOString() })\n        .eq('room_uuid', room.id)\n        .eq('peer_id', myPeerId);\n    }\n  };\n\n  return (\n    <div ref={roomContainerRef} className=\"fixed inset-0 bg-slate-950 flex flex-col z-50\">\n      <div className=\"bg-slate-900 border-b border-slate-800 px-6 py-4 flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-bold text-white\">{room?.room_name || 'Video Conference'}</h2>\n          <p className=\"text-slate-400 text-sm\">Room: {roomId}</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <button\n            onClick={copyRoomLink}\n            className=\"bg-slate-800 hover:bg-slate-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n          >\n            {copiedLink ? (\n              <><CheckCircle className=\"w-4 h-4\" /> Copied!</>\n            ) : (\n              <><Copy className=\"w-4 h-4\" /> Copy Link</>\n            )}\n          </button>\n          <button\n            onClick={() => setShowChat(!showChat)}\n            className=\"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors\"\n          >\n            <MessageCircle className=\"w-5 h-5\" />\n          </button>\n          <button\n            onClick={toggleFullscreen}\n            className=\"bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-lg transition-colors\"\n          >\n            {isFullscreen ? <Minimize2 className=\"w-5 h-5\" /> : <Maximize2 className=\"w-5 h-5\" />}\n          </button>\n        </div>\n      </div>\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        <div className=\"flex-1 p-4 grid gap-4\" style={{\n          gridTemplateColumns: participants.length <= 1 ? '1fr' : participants.length <= 4 ? 'repeat(2, 1fr)' : 'repeat(3, 1fr)'\n        }}>\n          <div className=\"relative bg-slate-900 rounded-xl overflow-hidden\">\n            <video\n              ref={localVideoRef}\n              autoPlay\n              muted\n              playsInline\n              className=\"w-full h-full object-cover\"\n            />\n            <div className=\"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg\">\n              <p className=\"text-white text-sm font-medium\">You {room?.host_user_id === user?.id && '(Host)'}</p>\n            </div>\n            {!videoEnabled && (\n              <div className=\"absolute inset-0 bg-slate-800 flex items-center justify-center\">\n                <div className=\"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center\">\n                  <Video className=\"w-10 h-10 text-slate-400\" />\n                </div>\n              </div>\n            )}\n          </div>\n\n          {participants\n            .filter(p => p.peerId !== myPeerId)\n            .map(participant => (\n              <ParticipantVideo key={participant.id} participant={participant} />\n            ))}\n        </div>\n\n        {showChat && (\n          <div className=\"w-80 bg-slate-900 border-l border-slate-800 flex flex-col\">\n            <div className=\"p-4 border-b border-slate-800 flex items-center justify-between\">\n              <h3 className=\"text-white font-semibold\">Chat</h3>\n              <button onClick={() => setShowChat(false)} className=\"text-slate-400 hover:text-white\">\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n            \n            <div className=\"flex-1 p-4 overflow-y-auto space-y-4\">\n              {messages.length === 0 ? (\n                <div className=\"text-center py-8 text-slate-500\">\n                  <MessageCircle className=\"w-8 h-8 mx-auto mb-2 opacity-20\" />\n                  <p className=\"text-sm\">No messages yet. Start the conversation!</p>\n                </div>\n              ) : (\n                messages.map((msg) => (\n                  <div key={msg.id} className={`flex flex-col ${msg.senderId === user?.id ? 'items-end' : 'items-start'}`}>\n                    <div className={`max-w-[85%] rounded-lg p-3 ${\n                      msg.senderId === user?.id \n                        ? 'bg-cyan-600 text-white rounded-br-none' \n                        : 'bg-slate-800 text-slate-200 rounded-bl-none'\n                    }`}>\n                      <p className=\"text-xs font-semibold mb-1 opacity-75\">{msg.senderName}</p>\n                      <p className=\"text-sm\">{msg.text}</p>\n                    </div>\n                    <span className=\"text-[10px] text-slate-500 mt-1\">\n                      {new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                    </span>\n                  </div>\n                ))\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            <div className=\"p-4 border-t border-slate-800\">\n              <form \n                onSubmit={(e) => {\n                  e.preventDefault();\n                  sendChatMessage();\n                }}\n                className=\"flex gap-2\"\n              >\n                <input\n                  type=\"text\"\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  placeholder=\"Type a message...\"\n                  className=\"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:border-cyan-500\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={!inputMessage.trim()}\n                  className=\"bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition-colors\"\n                >\n                  <Send className=\"w-4 h-4\" />\n                </button>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div className=\"bg-slate-900 border-t border-slate-800 px-6 py-4\">\n        <div className=\"flex items-center justify-center gap-4\">\n          <button\n            onClick={toggleAudio}\n            className={`p-4 rounded-full transition-colors ${\n              audioEnabled ? 'bg-slate-700 hover:bg-slate-600' : 'bg-red-600 hover:bg-red-700'\n            }`}\n          >\n            {audioEnabled ? <Mic className=\"w-6 h-6 text-white\" /> : <MicOff className=\"w-6 h-6 text-white\" />}\n          </button>\n\n          <button\n            onClick={toggleVideo}\n            className={`p-4 rounded-full transition-colors ${\n              videoEnabled ? 'bg-slate-700 hover:bg-slate-600' : 'bg-red-600 hover:bg-red-700'\n            }`}\n          >\n            {videoEnabled ? <Video className=\"w-6 h-6 text-white\" /> : <VideoOff className=\"w-6 h-6 text-white\" />}\n          </button>\n\n          <button\n            onClick={toggleScreenShare}\n            className={`p-4 rounded-full transition-colors ${\n              screenSharing ? 'bg-cyan-600 hover:bg-cyan-700' : 'bg-slate-700 hover:bg-slate-600'\n            }`}\n          >\n            {screenSharing ? <MonitorOff className=\"w-6 h-6 text-white\" /> : <Monitor className=\"w-6 h-6 text-white\" />}\n          </button>\n\n          <button\n            onClick={handleLeaveRoom}\n            className=\"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors\"\n          >\n            <PhoneOff className=\"w-6 h-6 text-white\" />\n          </button>\n\n          <div className=\"ml-auto flex items-center gap-2 bg-slate-800 px-4 py-2 rounded-lg\">\n            <Users className=\"w-5 h-5 text-slate-400\" />\n            <span className=\"text-white font-medium\">{participants.length + 1}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\ninterface ParticipantVideoProps {\n  participant: Participant;\n}\n\nfunction ParticipantVideo({ participant }: ParticipantVideoProps) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  useEffect(() => {\n    if (participant.stream && videoRef.current) {\n      videoRef.current.srcObject = participant.stream;\n    }\n  }, [participant.stream]);\n\n  return (\n    <div className=\"relative bg-slate-900 rounded-xl overflow-hidden\">\n      <video\n        ref={videoRef}\n        autoPlay\n        playsInline\n        className=\"w-full h-full object-cover\"\n      />\n      <div className=\"absolute bottom-4 left-4 bg-black/60 backdrop-blur-sm px-3 py-1 rounded-lg\">\n        <p className=\"text-white text-sm font-medium\">\n          {participant.name} {participant.isHost && '(Host)'}\n        </p>\n      </div>\n      {!participant.videoEnabled && (\n        <div className=\"absolute inset-0 bg-slate-800 flex items-center justify-center\">\n          <div className=\"bg-slate-700 w-20 h-20 rounded-full flex items-center justify-center\">\n            <Video className=\"w-10 h-10 text-slate-400\" />\n          </div>\n        </div>\n      )}\n      {!participant.audioEnabled && (\n        <div className=\"absolute top-4 right-4 bg-red-600 p-2 rounded-lg\">\n          <MicOff className=\"w-4 h-4 text-white\" />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/MeetingTemplates.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { db } from '../../lib/db';\nimport {\n  FileText, Plus, Search, Eye, Edit2, Copy, Star,\n  Coffee, DollarSign, TrendingUp, Code, Server,\n  Briefcase, Users, MessageCircle, X, Check\n} from 'lucide-react';\n\ninterface MeetingTemplate {\n  id: string;\n  template_name: string;\n  template_description: string;\n  template_category: string;\n  icon_name: string;\n  icon_color: string;\n  is_default: boolean;\n  is_system_template: boolean;\n  sections_count: number;\n  usage_count: number;\n  created_at: string;\n}\n\ninterface TemplateSection {\n  id: string;\n  section_title: string;\n  section_description: string;\n  section_order: number;\n  section_type: string;\n}\n\nconst categoryIcons: Record<string, any> = {\n  casual: Coffee,\n  sales: DollarSign,\n  marketing: TrendingUp,\n  technical: Code,\n  it: Server,\n  board: Briefcase,\n  client: Users,\n  friendly: MessageCircle,\n};\n\nconst categoryColors: Record<string, string> = {\n  casual: 'green',\n  sales: 'red',\n  marketing: 'purple',\n  technical: 'blue',\n  it: 'cyan',\n  board: 'gray',\n  client: 'blue',\n  friendly: 'orange',\n};\n\nconst colorClasses: Record<string, { bg: string; text: string; border: string }> = {\n  green: { bg: 'bg-green-500', text: 'text-green-400', border: 'border-green-500' },\n  red: { bg: 'bg-red-500', text: 'text-red-400', border: 'border-red-500' },\n  purple: { bg: 'bg-purple-500', text: 'text-purple-400', border: 'border-purple-500' },\n  blue: { bg: 'bg-blue-500', text: 'text-blue-400', border: 'border-blue-500' },\n  cyan: { bg: 'bg-cyan-500', text: 'text-cyan-400', border: 'border-cyan-500' },\n  gray: { bg: 'bg-gray-600', text: 'text-gray-400', border: 'border-gray-600' },\n  orange: { bg: 'bg-orange-500', text: 'text-orange-400', border: 'border-orange-500' },\n};\n\nexport default function MeetingTemplates() {\n  const [templates, setTemplates] = useState<MeetingTemplate[]>([]);\n  const [filteredTemplates, setFilteredTemplates] = useState<MeetingTemplate[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [selectedTemplate, setSelectedTemplate] = useState<MeetingTemplate | null>(null);\n  const [templateSections, setTemplateSections] = useState<TemplateSection[]>([]);\n  const [viewMode, setViewMode] = useState<'list' | 'view' | 'edit'>('list');\n\n  useEffect(() => {\n    loadTemplates();\n  }, []);\n\n  useEffect(() => {\n    filterTemplates();\n  }, [templates, selectedCategory, searchQuery]);\n\n  const loadTemplates = async () => {\n    setLoading(true);\n    try {\n      const { data, error } = await db\n        .from('meeting_templates')\n        .select('*')\n        .order('template_category')\n        .order('template_name');\n\n      if (error) throw error;\n      setTemplates(data || []);\n    } catch (error) {\n      console.error('Error loading templates:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterTemplates = () => {\n    let filtered = templates;\n\n    if (selectedCategory !== 'all') {\n      filtered = filtered.filter(t => t.template_category === selectedCategory);\n    }\n\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(t =>\n        t.template_name.toLowerCase().includes(query) ||\n        t.template_description?.toLowerCase().includes(query)\n      );\n    }\n\n    setFilteredTemplates(filtered);\n  };\n\n  const loadTemplateSections = async (templateId: string) => {\n    try {\n      const { data, error } = await db\n        .from('meeting_template_sections')\n        .select('*')\n        .eq('template_id', templateId)\n        .order('section_order');\n\n      if (error) throw error;\n      setTemplateSections(data || []);\n    } catch (error) {\n      console.error('Error loading template sections:', error);\n    }\n  };\n\n  const handleViewTemplate = async (template: MeetingTemplate) => {\n    setSelectedTemplate(template);\n    await loadTemplateSections(template.id);\n    setViewMode('view');\n  };\n\n  const handleEditTemplate = async (template: MeetingTemplate) => {\n    setSelectedTemplate(template);\n    await loadTemplateSections(template.id);\n    setViewMode('edit');\n  };\n\n  const handleCopyTemplate = async (template: MeetingTemplate) => {\n    console.log('Copying template:', template.template_name);\n  };\n\n  const categories = [\n    { id: 'all', label: 'All Templates', icon: Star },\n    { id: 'casual', label: 'Casual', icon: Coffee },\n    { id: 'sales', label: 'Sales', icon: DollarSign },\n    { id: 'marketing', label: 'Marketing', icon: TrendingUp },\n    { id: 'technical', label: 'Technical', icon: Code },\n    { id: 'it', label: 'It', icon: Server },\n    { id: 'board', label: 'Board', icon: Briefcase },\n    { id: 'client', label: 'Client', icon: Users },\n    { id: 'friendly', label: 'Friendly', icon: MessageCircle },\n  ];\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-400\">Loading Templates...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (viewMode === 'view' && selectedTemplate) {\n    return (\n      <div className=\"p-6\">\n        <button\n          onClick={() => {\n            setViewMode('list');\n            setSelectedTemplate(null);\n          }}\n          className=\"mb-4 text-gray-400 hover:text-white flex items-center gap-2\"\n        >\n          ‚Üê Back to Templates\n        </button>\n\n        <div className=\"bg-gray-800 rounded-lg p-6\">\n          <div className=\"flex items-start justify-between mb-6\">\n            <div className=\"flex items-center gap-4\">\n              <div className={`w-16 h-16 ${colorClasses[selectedTemplate.icon_color].bg} rounded-lg flex items-center justify-center`}>\n                {(() => {\n                  const Icon = categoryIcons[selectedTemplate.template_category];\n                  return Icon ? <Icon className=\"w-8 h-8 text-white\" /> : <FileText className=\"w-8 h-8 text-white\" />;\n                })()}\n              </div>\n              <div>\n                <h2 className=\"text-2xl font-bold text-white mb-1\">{selectedTemplate.template_name}</h2>\n                <p className=\"text-gray-400\">{selectedTemplate.template_description}</p>\n                <div className=\"flex items-center gap-2 mt-2\">\n                  <span className=\"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded capitalize\">\n                    {selectedTemplate.template_category}\n                  </span>\n                  {selectedTemplate.is_default && (\n                    <span className=\"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded\">\n                      Default\n                    </span>\n                  )}\n                </div>\n              </div>\n            </div>\n            <button\n              onClick={() => handleEditTemplate(selectedTemplate)}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n            >\n              <Edit2 className=\"w-4 h-4\" />\n              Edit Template\n            </button>\n          </div>\n\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-bold text-white\">Template Sections ({templateSections.length})</h3>\n            {templateSections.map((section) => (\n              <div key={section.id} className=\"bg-gray-700 rounded-lg p-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"text-white font-semibold mb-1\">{section.section_title}</h4>\n                    {section.section_description && (\n                      <p className=\"text-gray-400 text-sm\">{section.section_description}</p>\n                    )}\n                    <div className=\"flex items-center gap-2 mt-2\">\n                      <span className=\"px-2 py-1 bg-gray-600 text-gray-300 text-xs rounded capitalize\">\n                        {section.section_type.replace('_', ' ')}\n                      </span>\n                      <span className=\"text-xs text-gray-500\">Order: {section.section_order}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 mb-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-white mb-2 flex items-center gap-3\">\n              <FileText className=\"w-8 h-8\" />\n              Meeting Templates\n            </h1>\n            <p className=\"text-blue-100\">\n              Customize your meeting minutes documents\n            </p>\n          </div>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-blue-50 transition-colors flex items-center gap-2\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            Create Template\n          </button>\n        </div>\n\n        <div className=\"relative\">\n          <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-blue-300 w-5 h-5\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search templates...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg pl-12 pr-4 py-3 text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50\"\n          />\n        </div>\n      </div>\n\n      <div className=\"flex gap-2 mb-6 overflow-x-auto pb-2\">\n        {categories.map((category) => {\n          const Icon = category.icon;\n          return (\n            <button\n              key={category.id}\n              onClick={() => setSelectedCategory(category.id)}\n              className={`px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ${\n                selectedCategory === category.id\n                  ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white'\n                  : 'bg-gray-800 text-gray-300 hover:bg-gray-700'\n              }`}\n            >\n              <Icon className=\"w-4 h-4\" />\n              {category.label}\n            </button>\n          );\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {filteredTemplates.map((template) => {\n          const Icon = categoryIcons[template.template_category] || FileText;\n          const colors = colorClasses[template.icon_color] || colorClasses.blue;\n\n          return (\n            <div\n              key={template.id}\n              className=\"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-all\"\n            >\n              <div className=\"flex items-start gap-4 mb-4\">\n                <div className={`w-14 h-14 ${colors.bg} rounded-lg flex items-center justify-center flex-shrink-0`}>\n                  <Icon className=\"w-7 h-7 text-white\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-lg font-bold text-white mb-1\">{template.template_name}</h3>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <span className=\"px-2 py-0.5 bg-gray-700 text-gray-300 text-xs rounded capitalize flex items-center gap-1\">\n                      {template.template_category === 'casual' && <Coffee className=\"w-3 h-3\" />}\n                      {template.template_category === 'sales' && <DollarSign className=\"w-3 h-3\" />}\n                      {template.template_category === 'marketing' && <TrendingUp className=\"w-3 h-3\" />}\n                      {template.template_category === 'technical' && <Code className=\"w-3 h-3\" />}\n                      {template.template_category === 'it' && <Server className=\"w-3 h-3\" />}\n                      {template.template_category === 'board' && <Briefcase className=\"w-3 h-3\" />}\n                      {template.template_category === 'client' && <Users className=\"w-3 h-3\" />}\n                      {template.template_category === 'friendly' && <MessageCircle className=\"w-3 h-3\" />}\n                      {template.template_category}\n                    </span>\n                    {template.is_default && (\n                      <span className=\"px-2 py-0.5 bg-blue-500/20 text-blue-400 text-xs rounded flex items-center gap-1\">\n                        <Star className=\"w-3 h-3\" />\n                        Default\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <p className=\"text-gray-400 text-sm mb-4 line-clamp-2\">\n                {template.template_description}\n              </p>\n\n              <div className=\"text-sm text-gray-500 mb-4\">\n                {template.sections_count} sections included\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={() => handleViewTemplate(template)}\n                  className=\"flex-1 bg-blue-600/20 text-blue-400 px-4 py-2 rounded-lg hover:bg-blue-600/30 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Eye className=\"w-4 h-4\" />\n                  View\n                </button>\n                <button\n                  onClick={() => handleEditTemplate(template)}\n                  className=\"flex-1 bg-purple-600/20 text-purple-400 px-4 py-2 rounded-lg hover:bg-purple-600/30 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Edit2 className=\"w-4 h-4\" />\n                  Edit\n                </button>\n                <button\n                  onClick={() => handleCopyTemplate(template)}\n                  className=\"bg-gray-700 text-gray-300 p-2 rounded-lg hover:bg-gray-600 transition-colors\"\n                >\n                  <Copy className=\"w-4 h-4\" />\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {filteredTemplates.length === 0 && (\n        <div className=\"text-center py-12\">\n          <FileText className=\"w-16 h-16 text-gray-600 mx-auto mb-4\" />\n          <h3 className=\"text-xl font-bold text-gray-400 mb-2\">No templates found</h3>\n          <p className=\"text-gray-500 mb-4\">\n            {searchQuery\n              ? 'Try adjusting your search terms'\n              : 'Create your first meeting template to get started'}\n          </p>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-flex items-center gap-2\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            Create Template\n          </button>\n        </div>\n      )}\n\n      {showCreateModal && (\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-gray-800 rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">Create New Template</h2>\n              <button\n                onClick={() => setShowCreateModal(false)}\n                className=\"text-gray-400 hover:text-white\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Template Name\n                </label>\n                <input\n                  type=\"text\"\n                  placeholder=\"e.g., Sprint Planning Meeting\"\n                  className=\"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Description\n                </label>\n                <textarea\n                  placeholder=\"Describe the purpose of this template...\"\n                  rows={3}\n                  className=\"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                  Category\n                </label>\n                <select className=\"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\">\n                  <option value=\"casual\">Casual</option>\n                  <option value=\"sales\">Sales</option>\n                  <option value=\"marketing\">Marketing</option>\n                  <option value=\"technical\">Technical</option>\n                  <option value=\"it\">IT</option>\n                  <option value=\"board\">Board</option>\n                  <option value=\"client\">Client</option>\n                  <option value=\"friendly\">Friendly</option>\n                  <option value=\"custom\">Custom</option>\n                </select>\n              </div>\n\n              <div className=\"flex items-center gap-4\">\n                <label className=\"flex items-center gap-2 text-gray-300\">\n                  <input type=\"checkbox\" className=\"w-4 h-4 rounded\" />\n                  <span className=\"text-sm\">Set as default template</span>\n                </label>\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  onClick={() => setShowCreateModal(false)}\n                  className=\"flex-1 bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-600 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={() => {\n                    setShowCreateModal(false);\n                  }}\n                  className=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2\"\n                >\n                  <Check className=\"w-5 h-5\" />\n                  Create Template\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2117, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/LiveMeetingRoom.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Video, VideoOff, Mic, MicOff, Monitor, MonitorOff, Phone, Settings,\n  Users, MessageSquare, MoreVertical, Grid, Maximize2, Volume2, VolumeX,\n  Camera, ChevronDown, Clock, Activity\n} from 'lucide-react';\nimport { db } from '../../lib/db';\n\ninterface Participant {\n  id: string;\n  participant_name: string;\n  participant_email: string;\n  role: string;\n  audio_enabled: boolean;\n  video_enabled: boolean;\n  speaking_time_seconds: number;\n}\n\ninterface Transcript {\n  id: string;\n  segment_number: number;\n  speaker_name: string;\n  transcript_text: string;\n  start_time_seconds: number;\n  sentiment: string;\n  is_question: boolean;\n}\n\ninterface LiveMeetingRoomProps {\n  meetingId: string;\n  meetingTitle: string;\n  onLeave: () => void;\n}\n\nexport const LiveMeetingRoom: React.FC<LiveMeetingRoomProps> = ({\n  meetingId,\n  meetingTitle,\n  onLeave\n}) => {\n  const [participants, setParticipants] = useState<Participant[]>([]);\n  const [transcripts, setTranscripts] = useState<Transcript[]>([]);\n  const [videoEnabled, setVideoEnabled] = useState(true);\n  const [audioEnabled, setAudioEnabled] = useState(true);\n  const [screenSharing, setScreenSharing] = useState(false);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [activeView, setActiveView] = useState<'participants' | 'chat' | 'transcript'>('participants');\n  const [speakerVolume, setSpeakerVolume] = useState(80);\n  const [micVolume, setMicVolume] = useState(80);\n  const [duration, setDuration] = useState(0);\n\n  useEffect(() => {\n    loadParticipants();\n    loadTranscripts();\n\n    // Update duration every second\n    const durationInterval = setInterval(() => {\n      setDuration(prev => prev + 1);\n    }, 1000);\n\n    // Simulate real-time transcript updates\n    const transcriptInterval = setInterval(() => {\n      loadTranscripts();\n    }, 5000);\n\n    return () => {\n      clearInterval(durationInterval);\n      clearInterval(transcriptInterval);\n    };\n  }, [meetingId]);\n\n  const loadParticipants = async () => {\n    try {\n      const { data, error } = await db\n        .from('meeting_participants')\n        .select('*')\n        .eq('meeting_id', meetingId)\n        .order('role', { ascending: false });\n      if (error) throw error;\n      setParticipants(data || []);\n    } catch (error) {\n      console.error('Error loading participants:', error);\n    }\n  };\n\n  const loadTranscripts = async () => {\n    try {\n      const { data, error } = await db\n        .from('meeting_transcripts')\n        .select('*')\n        .eq('meeting_id', meetingId)\n        .order('segment_number', { ascending: true });\n      if (error) throw error;\n      setTranscripts(data || []);\n    } catch (error) {\n      console.error('Error loading transcripts:', error);\n    }\n  };\n\n  const formatDuration = (seconds: number) => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const handleLeave = () => {\n    if (confirm('Are you sure you want to leave this meeting?')) {\n      onLeave();\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-900 z-50 flex flex-col\">\n      {/* Header */}\n      <div className=\"bg-gray-800 border-b border-gray-700 px-6 py-4 flex items-center justify-between\">\n        <div>\n          <h2 className=\"text-xl font-bold text-white\">{meetingTitle}</h2>\n          <div className=\"flex items-center gap-4 mt-1\">\n            <div className=\"flex items-center gap-2 text-sm text-gray-400\">\n              <Clock className=\"w-4 h-4\" />\n              {formatDuration(duration)}\n            </div>\n            <div className=\"flex items-center gap-2 text-sm text-gray-400\">\n              <Users className=\"w-4 h-4\" />\n              {participants.length} participants\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"relative flex h-3 w-3\">\n                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75\"></span>\n                <span className=\"relative inline-flex rounded-full h-3 w-3 bg-red-500\"></span>\n              </span>\n              <span className=\"text-sm font-semibold text-red-500\">LIVE</span>\n            </div>\n          </div>\n        </div>\n        <button\n          onClick={() => setSidebarOpen(!sidebarOpen)}\n          className=\"p-2 hover:bg-gray-700 rounded-lg transition-colors\"\n        >\n          <MoreVertical className=\"w-5 h-5 text-gray-400\" />\n        </button>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Video Grid */}\n        <div className=\"flex-1 bg-black p-4 flex items-center justify-center\">\n          <div className=\"grid grid-cols-2 gap-4 w-full max-w-6xl\">\n            {/* Main Speaker (larger) */}\n            <div className=\"col-span-2 relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden\">\n              <div className=\"absolute inset-0 flex items-center justify-center\">\n                <div className=\"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-4xl font-bold\">\n                  {participants[0]?.participant_name.charAt(0) || 'H'}\n                </div>\n              </div>\n              <div className=\"absolute bottom-4 left-4 bg-black/70 px-3 py-2 rounded-lg flex items-center gap-2\">\n                <Activity className=\"w-4 h-4 text-green-400 animate-pulse\" />\n                <span className=\"text-white font-semibold\">{participants[0]?.participant_name || 'Host'}</span>\n                {participants[0]?.audio_enabled && <Volume2 className=\"w-4 h-4 text-green-400\" />}\n                {!participants[0]?.audio_enabled && <VolumeX className=\"w-4 h-4 text-red-400\" />}\n              </div>\n            </div>\n\n            {/* Other Participants */}\n            {participants.slice(1, 5).map((participant, idx) => (\n              <div key={participant.id} className=\"relative bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden\">\n                <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center text-white text-2xl font-bold\">\n                  {participant.participant_name.charAt(0)}\n                </div>\n                <div className=\"absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-sm flex items-center gap-1\">\n                  <span className=\"text-white\">{participant.participant_name}</span>\n                  {participant.audio_enabled && <Volume2 className=\"w-3 h-3 text-green-400\" />}\n                  {!participant.audio_enabled && <VolumeX className=\"w-3 h-3 text-red-400\" />}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Sidebar */}\n        {sidebarOpen && (\n          <div className=\"w-96 bg-gray-800 border-l border-gray-700 flex flex-col\">\n            {/* Sidebar Tabs */}\n            <div className=\"flex border-b border-gray-700\">\n              <button\n                onClick={() => setActiveView('participants')}\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n                  activeView === 'participants'\n                    ? 'text-white bg-gray-700 border-b-2 border-blue-500'\n                    : 'text-gray-400 hover:text-white hover:bg-gray-750'\n                }`}\n              >\n                <Users className=\"w-4 h-4 mx-auto mb-1\" />\n                Participants\n              </button>\n              <button\n                onClick={() => setActiveView('chat')}\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n                  activeView === 'chat'\n                    ? 'text-white bg-gray-700 border-b-2 border-blue-500'\n                    : 'text-gray-400 hover:text-white hover:bg-gray-750'\n                }`}\n              >\n                <MessageSquare className=\"w-4 h-4 mx-auto mb-1\" />\n                Chat\n              </button>\n              <button\n                onClick={() => setActiveView('transcript')}\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\n                  activeView === 'transcript'\n                    ? 'text-white bg-gray-700 border-b-2 border-blue-500'\n                    : 'text-gray-400 hover:text-white hover:bg-gray-750'\n                }`}\n              >\n                <MessageSquare className=\"w-4 h-4 mx-auto mb-1\" />\n                Transcript\n              </button>\n            </div>\n\n            {/* Sidebar Content */}\n            <div className=\"flex-1 overflow-y-auto p-4\">\n              {activeView === 'participants' && (\n                <div className=\"space-y-2\">\n                  {participants.map((participant) => (\n                    <div key={participant.id} className=\"bg-gray-700 rounded-lg p-3 flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold\">\n                          {participant.participant_name.charAt(0)}\n                        </div>\n                        <div>\n                          <div className=\"text-white font-medium\">{participant.participant_name}</div>\n                          <div className=\"text-xs text-gray-400\">{participant.role}</div>\n                        </div>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        {participant.audio_enabled ? (\n                          <Mic className=\"w-4 h-4 text-green-400\" />\n                        ) : (\n                          <MicOff className=\"w-4 h-4 text-red-400\" />\n                        )}\n                        {participant.video_enabled ? (\n                          <Video className=\"w-4 h-4 text-green-400\" />\n                        ) : (\n                          <VideoOff className=\"w-4 h-4 text-red-400\" />\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {activeView === 'chat' && (\n                <div className=\"space-y-3\">\n                  <div className=\"bg-gray-700 rounded-lg p-3\">\n                    <div className=\"text-xs text-gray-400 mb-1\">Sarah Johnson</div>\n                    <div className=\"text-white text-sm\">Great discussion everyone!</div>\n                  </div>\n                  <div className=\"bg-gray-700 rounded-lg p-3\">\n                    <div className=\"text-xs text-gray-400 mb-1\">Participant A</div>\n                    <div className=\"text-white text-sm\">Agreed, very productive session.</div>\n                  </div>\n                </div>\n              )}\n\n              {activeView === 'transcript' && (\n                <div className=\"space-y-3\">\n                  {transcripts.length > 0 ? (\n                    transcripts.map((transcript) => (\n                      <div key={transcript.id} className=\"bg-gray-700 rounded-lg p-3\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <span className=\"text-sm font-semibold text-white\">{transcript.speaker_name}</span>\n                          <span className=\"text-xs text-gray-400\">{Math.floor(transcript.start_time_seconds / 60)}:{(transcript.start_time_seconds % 60).toString().padStart(2, '0')}</span>\n                        </div>\n                        <p className=\"text-sm text-gray-300\">{transcript.transcript_text}</p>\n                        {transcript.is_question && (\n                          <span className=\"inline-block mt-2 px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded\">\n                            Question\n                          </span>\n                        )}\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-center text-gray-400 py-8\">\n                      <MessageSquare className=\"w-12 h-12 mx-auto mb-3 opacity-50\" />\n                      <p>Live transcription will appear here</p>\n                    </div>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Controls Bar */}\n      <div className=\"bg-gray-800 border-t border-gray-700 px-6 py-4\">\n        <div className=\"flex items-center justify-between max-w-6xl mx-auto\">\n          {/* Left Controls */}\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex items-center gap-2 bg-gray-700 rounded-lg px-3 py-2\">\n              <Volume2 className=\"w-4 h-4 text-gray-400\" />\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"100\"\n                value={speakerVolume}\n                onChange={(e) => setSpeakerVolume(Number(e.target.value))}\n                className=\"w-20 accent-blue-500\"\n              />\n              <span className=\"text-xs text-gray-400 w-8\">{speakerVolume}%</span>\n            </div>\n          </div>\n\n          {/* Center Controls */}\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={() => setAudioEnabled(!audioEnabled)}\n              className={`p-4 rounded-full transition-colors ${\n                audioEnabled ? 'bg-gray-700 hover:bg-gray-600' : 'bg-red-600 hover:bg-red-700'\n              }`}\n            >\n              {audioEnabled ? (\n                <Mic className=\"w-5 h-5 text-white\" />\n              ) : (\n                <MicOff className=\"w-5 h-5 text-white\" />\n              )}\n            </button>\n\n            <button\n              onClick={() => setVideoEnabled(!videoEnabled)}\n              className={`p-4 rounded-full transition-colors ${\n                videoEnabled ? 'bg-gray-700 hover:bg-gray-600' : 'bg-red-600 hover:bg-red-700'\n              }`}\n            >\n              {videoEnabled ? (\n                <Video className=\"w-5 h-5 text-white\" />\n              ) : (\n                <VideoOff className=\"w-5 h-5 text-white\" />\n              )}\n            </button>\n\n            <button\n              onClick={() => setScreenSharing(!screenSharing)}\n              className={`p-4 rounded-full transition-colors ${\n                screenSharing ? 'bg-blue-600 hover:bg-blue-700' : 'bg-gray-700 hover:bg-gray-600'\n              }`}\n            >\n              {screenSharing ? (\n                <MonitorOff className=\"w-5 h-5 text-white\" />\n              ) : (\n                <Monitor className=\"w-5 h-5 text-white\" />\n              )}\n            </button>\n\n            <button\n              onClick={handleLeave}\n              className=\"p-4 rounded-full bg-red-600 hover:bg-red-700 transition-colors\"\n            >\n              <Phone className=\"w-5 h-5 text-white\" />\n            </button>\n          </div>\n\n          {/* Right Controls */}\n          <div className=\"flex items-center gap-3\">\n            <button className=\"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors\">\n              <Grid className=\"w-5 h-5 text-white\" />\n            </button>\n            <button className=\"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors\">\n              <Maximize2 className=\"w-5 h-5 text-white\" />\n            </button>\n            <button className=\"p-3 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors\">\n              <Settings className=\"w-5 h-5 text-white\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2995, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/DeviceLocationAPI.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n  MapPin, RefreshCw, CheckCircle, AlertTriangle,\n  Navigation, X, Copy, Search, Trash2, Globe, Target\n} from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function DeviceLocationAPI() {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState<'overview' | 'configuration'>('overview');\n  const [requests, setRequests] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [notification, setNotification] = useState<{ type: 'success' | 'error'; message: string } | null>(null);\n\n  const [showNewModal, setShowNewModal] = useState(false);\n  const [newData, setNewData] = useState({\n    phone_number: '',\n    request_type: 'precise'\n  });\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      loadRequests();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (notification) {\n      const timer = setTimeout(() => setNotification(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [notification]);\n\n  const loadRequests = async () => {\n    setLoading(true);\n    const { data, error } = await db\n      .from('device_location_requests')\n      .select('*')\n      .order('request_timestamp', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      setRequests(data);\n    }\n    setLoading(false);\n  };\n\n  const handleCreate = async () => {\n    if (!newData.phone_number) {\n      setNotification({ type: 'error', message: 'Please enter a phone number' });\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const lat = 3.1390 + (Math.random() - 0.5) * 0.1;\n      const lng = 101.6869 + (Math.random() - 0.5) * 0.1;\n      const accuracy = Math.floor(Math.random() * 100) + 50;\n\n      const { error } = await db\n        .from('device_location_requests')\n        .insert([{\n          phone_number: newData.phone_number,\n          request_type: newData.request_type,\n          geofence_id: null,\n          latitude: lat,\n          longitude: lng,\n          accuracy_meters: accuracy,\n          city: 'Kuala Lumpur',\n          country: 'Malaysia',\n          is_within_area: null,\n          status: 'completed',\n          response_time_ms: Math.floor(Math.random() * 300) + 150,\n          request_timestamp: new Date().toISOString()\n        }]);\n\n      if (!error) {\n        setNotification({ type: 'success', message: 'Location retrieved successfully' });\n        setShowNewModal(false);\n        setNewData({ phone_number: '', request_type: 'precise' });\n        loadRequests();\n      } else {\n        setNotification({ type: 'error', message: 'Failed to retrieve location' });\n      }\n    } catch (error) {\n      setNotification({ type: 'error', message: 'An error occurred' });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this record?')) return;\n\n    const { error } = await db\n      .from('device_location_requests')\n      .delete()\n      .eq('id', id);\n\n    if (!error) {\n      setNotification({ type: 'success', message: 'Record deleted successfully' });\n      loadRequests();\n    } else {\n      setNotification({ type: 'error', message: 'Failed to delete record' });\n    }\n  };\n\n  const sampleConfig = {\n    \"base_url\": \"https://api.cpaas.com/v1/location\",\n    \"auth_header\": \"Authorization: Bearer <YOUR_API_KEY>\",\n    \"types\": [\"precise\", \"coarse\", \"geofence\"],\n    \"privacy\": {\n        \"consent_required\": true,\n        \"data_retention\": \"30d\"\n    }\n  };\n\n  const sampleCode = `\n// Node.js Example\nconst axios = require('axios');\n\nasync function getLocation(phoneNumber) {\n  try {\n    const response = await axios.post('https://api.cpaas.com/v1/location/retrieve', {\n      phone_number: phoneNumber,\n      type: \"precise\"\n    }, {\n      headers: { 'Authorization': 'Bearer YOUR_API_KEY' }\n    });\n\n    console.log('Coordinates:', response.data.latitude, response.data.longitude);\n  } catch (error) {\n    console.error('Error getting location:', error);\n  }\n}\n  `;\n\n  return (\n    <div className=\"flex-1 bg-slate-950 overflow-y-auto\">\n      {/* Header */}\n      <div className=\"bg-[#012419] border-b border-[#024d30] p-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"p-3 bg-purple-500/10 rounded-xl border border-purple-500/20\">\n              <MapPin className=\"w-8 h-8 text-purple-400\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-white tracking-tight\">Device Location</h1>\n              <p className=\"text-slate-400 mt-1\">Retrieve precise device coordinates or verify location against geofences.</p>\n            </div>\n          </div>\n          <div className=\"flex gap-3\">\n             <button\n              onClick={() => setShowNewModal(true)}\n              className=\"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2\"\n            >\n              <Navigation className=\"w-4 h-4\" />\n              Locate Device\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex gap-6 mt-8 border-b border-slate-800\">\n          <button\n            onClick={() => setActiveTab('overview')}\n            className={`pb-4 px-2 text-sm font-medium transition-all relative ${\n              activeTab === 'overview'\n                ? 'text-purple-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-purple-400'\n                : 'text-slate-400 hover:text-slate-300'\n            }`}\n          >\n            Overview\n          </button>\n          <button\n            onClick={() => setActiveTab('configuration')}\n            className={`pb-4 px-2 text-sm font-medium transition-all relative ${\n              activeTab === 'configuration'\n                ? 'text-purple-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-purple-400'\n                : 'text-slate-400 hover:text-slate-300'\n            }`}\n          >\n            Configuration\n          </button>\n        </div>\n      </div>\n\n      <div className=\"p-8 max-w-7xl mx-auto space-y-6\">\n        {notification && (\n          <div className={`p-4 rounded-lg flex items-center gap-3 ${\n            notification.type === 'success' ? 'bg-green-500/10 text-green-400 border border-green-500/20' : 'bg-red-500/10 text-red-400 border border-red-500/20'\n          }`}>\n            {notification.type === 'success' ? <CheckCircle className=\"w-5 h-5\" /> : <AlertTriangle className=\"w-5 h-5\" />}\n            {notification.message}\n          </div>\n        )}\n\n        {activeTab === 'overview' && (\n          <div className=\"space-y-6\">\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Total Requests</h3>\n                <p className=\"text-3xl font-bold text-white\">{requests.length}</p>\n              </div>\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Success Rate</h3>\n                <p className=\"text-3xl font-bold text-green-400\">\n                  {requests.length > 0 ? '98%' : '0%'}\n                </p>\n              </div>\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Avg Accuracy</h3>\n                <p className=\"text-3xl font-bold text-cyan-400\">\n                  {requests.length > 0\n                    ? Math.round(requests.reduce((acc, curr) => acc + (curr.accuracy_meters || 0), 0) / requests.length)\n                    : 0} m\n                </p>\n              </div>\n            </div>\n\n            {/* List */}\n            <div className=\"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-slate-800 flex items-center justify-between\">\n                <h3 className=\"text-lg font-bold text-white\">Recent Locations</h3>\n                 <div className=\"relative\">\n                  <Search className=\"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search phone number...\"\n                    className=\"bg-slate-950 border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-purple-500 w-64\"\n                  />\n                </div>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm text-left\">\n                  <thead className=\"bg-slate-950 text-slate-400 font-medium\">\n                    <tr>\n                      <th className=\"px-6 py-3\">Timestamp</th>\n                      <th className=\"px-6 py-3\">Phone Number</th>\n                      <th className=\"px-6 py-3\">Coordinates</th>\n                      <th className=\"px-6 py-3\">Accuracy</th>\n                      <th className=\"px-6 py-3\">Location</th>\n                      <th className=\"px-6 py-3 text-right\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-slate-800\">\n                    {loading ? (\n                      <tr>\n                        <td colSpan={6} className=\"px-6 py-8 text-center text-slate-400\">Loading requests...</td>\n                      </tr>\n                    ) : requests.length === 0 ? (\n                      <tr>\n                        <td colSpan={6} className=\"px-6 py-8 text-center text-slate-400\">No requests found.</td>\n                      </tr>\n                    ) : (\n                      requests.map((req) => (\n                        <tr key={req.id} className=\"hover:bg-slate-800/50 transition-colors\">\n                          <td className=\"px-6 py-3 text-slate-400\">\n                             {new Date(req.request_timestamp).toLocaleString()}\n                          </td>\n                          <td className=\"px-6 py-3 text-white font-mono\">{req.phone_number}</td>\n                          <td className=\"px-6 py-3 text-cyan-400 font-mono text-xs\">\n                             {req.latitude?.toFixed(4)}, {req.longitude?.toFixed(4)}\n                          </td>\n                          <td className=\"px-6 py-3 text-slate-300\">\n                             {req.accuracy_meters}m\n                          </td>\n                          <td className=\"px-6 py-3 text-slate-400\">\n                             {req.city}, {req.country}\n                          </td>\n                          <td className=\"px-6 py-3 text-right\">\n                             <button\n                                onClick={() => handleDelete(req.id)}\n                                className=\"p-1.5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 rounded transition-colors\"\n                             >\n                                <Trash2 className=\"w-4 h-4\" />\n                             </button>\n                          </td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        )}\n\n         {activeTab === 'configuration' && (\n          <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n               <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                 <h3 className=\"text-lg font-bold text-white mb-4\">Sample Configuration</h3>\n                 <div className=\"bg-slate-950 p-4 rounded-lg border border-slate-800 font-mono text-sm text-purple-300 overflow-x-auto\">\n                    <pre>{JSON.stringify(sampleConfig, null, 2)}</pre>\n                 </div>\n                 <button className=\"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors\">\n                    <Copy className=\"w-4 h-4\" /> Copy Configuration\n                 </button>\n               </div>\n\n               <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                 <h3 className=\"text-lg font-bold text-white mb-4\">Integration Example</h3>\n                 <div className=\"bg-slate-950 p-4 rounded-lg border border-slate-800 font-mono text-sm text-purple-300 overflow-x-auto\">\n                    <pre>{sampleCode.trim()}</pre>\n                 </div>\n                 <button className=\"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors\">\n                    <Copy className=\"w-4 h-4\" /> Copy Code\n                 </button>\n               </div>\n            </div>\n\n            <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n               <h3 className=\"text-lg font-bold text-white mb-4\">API Features</h3>\n               <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div className=\"p-4 bg-slate-950 border border-slate-800 rounded-lg\">\n                     <Target className=\"w-6 h-6 text-purple-400 mb-3\" />\n                     <h4 className=\"text-white font-medium mb-1\">High Precision</h4>\n                     <p className=\"text-sm text-slate-400\">Get location accuracy down to 5-10 meters using GNSS/Network triangulation.</p>\n                  </div>\n                  <div className=\"p-4 bg-slate-950 border border-slate-800 rounded-lg\">\n                     <Globe className=\"w-6 h-6 text-cyan-400 mb-3\" />\n                     <h4 className=\"text-white font-medium mb-1\">Global Coverage</h4>\n                     <p className=\"text-sm text-slate-400\">Locate devices across multiple countries and networks.</p>\n                  </div>\n                  <div className=\"p-4 bg-slate-950 border border-slate-800 rounded-lg\">\n                     <CheckCircle className=\"w-6 h-6 text-green-400 mb-3\" />\n                     <h4 className=\"text-white font-medium mb-1\">Privacy First</h4>\n                     <p className=\"text-sm text-slate-400\">Built-in consent management flows to ensure compliance.</p>\n                  </div>\n               </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n       {showNewModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg\">\n            <div className=\"p-6 border-b border-slate-700 flex justify-between items-center\">\n               <h3 className=\"text-xl font-bold text-white\">Locate Device</h3>\n               <button onClick={() => setShowNewModal(false)}><X className=\"w-5 h-5 text-slate-400\" /></button>\n            </div>\n            <div className=\"p-6 space-y-4\">\n               <div>\n                  <label className=\"block text-sm font-medium text-slate-400 mb-1\">Phone Number</label>\n                  <input\n                    type=\"tel\"\n                    className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500\"\n                    placeholder=\"+1234567890\"\n                    value={newData.phone_number}\n                    onChange={(e) => setNewData({ ...newData, phone_number: e.target.value })}\n                  />\n               </div>\n               <div>\n                  <label className=\"block text-sm font-medium text-slate-400 mb-1\">Request Type</label>\n                  <select\n                     className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-purple-500\"\n                     value={newData.request_type}\n                     onChange={(e) => setNewData({ ...newData, request_type: e.target.value })}\n                  >\n                     <option value=\"precise\">Precise (GPS/GNSS)</option>\n                     <option value=\"approximate\">Approximate (Cell Tower)</option>\n                  </select>\n               </div>\n               <div className=\"flex gap-3 mt-6\">\n                  <button\n                    onClick={() => setShowNewModal(false)}\n                    className=\"flex-1 bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleCreate}\n                    disabled={submitting}\n                    className=\"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg transition-colors disabled:opacity-50\"\n                  >\n                    {submitting ? 'Locating...' : 'Get Location'}\n                  </button>\n               </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4060, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/QoDAPI.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n  Zap, RefreshCw, CheckCircle, AlertTriangle,\n  Activity, X, Copy, Search, Trash2, Gauge, Signal\n} from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function QoDAPI() {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState<'overview' | 'configuration'>('overview');\n  const [sessions, setSessions] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [notification, setNotification] = useState<{ type: 'success' | 'error'; message: string } | null>(null);\n\n  const [showNewModal, setShowNewModal] = useState(false);\n  const [newData, setNewData] = useState({\n    phone_number: '',\n    qos_profile: 'gaming',\n    duration: '60'\n  });\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      loadSessions();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (notification) {\n      const timer = setTimeout(() => setNotification(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [notification]);\n\n  const loadSessions = async () => {\n    setLoading(true);\n    const { data, error } = await db\n      .from('qod_sessions')\n      .select('*')\n      .order('request_timestamp', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      setSessions(data);\n    }\n    setLoading(false);\n  };\n\n  const handleCreate = async () => {\n    if (!newData.phone_number) {\n      setNotification({ type: 'error', message: 'Please enter a phone number' });\n      return;\n    }\n\n    setSubmitting(true);\n    try {\n      const sessionId = `qod_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      const latency = newData.qos_profile === 'gaming' ? 20 : 50;\n      const bandwidth = newData.qos_profile === 'gaming' ? 10 : 100;\n\n      const { error } = await db\n        .from('qod_sessions')\n        .insert([{\n          session_id: sessionId,\n          phone_number: newData.phone_number,\n          qos_profile: newData.qos_profile,\n          target_latency_ms: latency,\n          actual_latency_ms: Math.floor(Math.random() * latency),\n          target_bandwidth_mbps: bandwidth,\n          actual_bandwidth_mbps: Math.floor(Math.random() * bandwidth),\n          session_duration_minutes: parseInt(newData.duration),\n          packet_loss_percent: 0.1,\n          jitter_ms: 5,\n          status: 'active',\n          request_timestamp: new Date().toISOString()\n        }]);\n\n      if (!error) {\n        setNotification({ type: 'success', message: 'QoD session created successfully' });\n        setShowNewModal(false);\n        setNewData({ phone_number: '', qos_profile: 'gaming', duration: '60' });\n        loadSessions();\n      } else {\n        setNotification({ type: 'error', message: 'Failed to create session' });\n      }\n    } catch (error) {\n      setNotification({ type: 'error', message: 'An error occurred' });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this session?')) return;\n\n    const { error } = await db\n      .from('qod_sessions')\n      .delete()\n      .eq('id', id);\n\n    if (!error) {\n      setNotification({ type: 'success', message: 'Session deleted successfully' });\n      loadSessions();\n    } else {\n      setNotification({ type: 'error', message: 'Failed to delete session' });\n    }\n  };\n\n  const sampleConfig = {\n    \"base_url\": \"https://api.cpaas.com/v1/qod\",\n    \"auth_header\": \"Authorization: Bearer <YOUR_API_KEY>\",\n    \"profiles\": [\"gaming\", \"video\", \"iot\", \"voice\"],\n    \"defaults\": {\n        \"duration_sec\": 3600\n    }\n  };\n\n  const sampleCode = `\n// Node.js Example\nconst axios = require('axios');\n\nasync function createQodSession(phoneNumber) {\n  try {\n    const response = await axios.post('https://api.cpaas.com/v1/qod/sessions', {\n      phone_number: phoneNumber,\n      profile: \"gaming\",\n      duration_seconds: 3600\n    }, {\n      headers: { 'Authorization': 'Bearer YOUR_API_KEY' }\n    });\n\n    console.log('Session ID:', response.data.session_id);\n  } catch (error) {\n    console.error('Error creating QoD session:', error);\n  }\n}\n  `;\n\n  return (\n    <div className=\"flex-1 bg-slate-950 overflow-y-auto\">\n      {/* Header */}\n      <div className=\"bg-[#012419] border-b border-[#024d30] p-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-4\">\n            <div className=\"p-3 bg-pink-500/10 rounded-xl border border-pink-500/20\">\n              <Zap className=\"w-8 h-8 text-pink-400\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-white tracking-tight\">Quality on Demand (QoD)</h1>\n              <p className=\"text-slate-400 mt-1\">Request guaranteed network performance for critical applications.</p>\n            </div>\n          </div>\n          <div className=\"flex gap-3\">\n             <button\n              onClick={() => setShowNewModal(true)}\n              className=\"bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2\"\n            >\n              <Activity className=\"w-4 h-4\" />\n              New Session\n            </button>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"flex gap-6 mt-8 border-b border-slate-800\">\n          <button\n            onClick={() => setActiveTab('overview')}\n            className={`pb-4 px-2 text-sm font-medium transition-all relative ${\n              activeTab === 'overview'\n                ? 'text-pink-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-pink-400'\n                : 'text-slate-400 hover:text-slate-300'\n            }`}\n          >\n            Overview\n          </button>\n          <button\n            onClick={() => setActiveTab('configuration')}\n            className={`pb-4 px-2 text-sm font-medium transition-all relative ${\n              activeTab === 'configuration'\n                ? 'text-pink-400 after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-pink-400'\n                : 'text-slate-400 hover:text-slate-300'\n            }`}\n          >\n            Configuration\n          </button>\n        </div>\n      </div>\n\n      <div className=\"p-8 max-w-7xl mx-auto space-y-6\">\n        {notification && (\n          <div className={`p-4 rounded-lg flex items-center gap-3 ${\n            notification.type === 'success' ? 'bg-green-500/10 text-green-400 border border-green-500/20' : 'bg-red-500/10 text-red-400 border border-red-500/20'\n          }`}>\n            {notification.type === 'success' ? <CheckCircle className=\"w-5 h-5\" /> : <AlertTriangle className=\"w-5 h-5\" />}\n            {notification.message}\n          </div>\n        )}\n\n        {activeTab === 'overview' && (\n          <div className=\"space-y-6\">\n            {/* Stats Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Total Sessions</h3>\n                <p className=\"text-3xl font-bold text-white\">{sessions.length}</p>\n              </div>\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Active Now</h3>\n                <p className=\"text-3xl font-bold text-green-400\">\n                  {sessions.filter(s => s.status === 'active').length}\n                </p>\n              </div>\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Avg Latency</h3>\n                <p className=\"text-3xl font-bold text-cyan-400\">\n                   {sessions.length > 0 ? '45 ms' : '0 ms'}\n                </p>\n              </div>\n              <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                <h3 className=\"text-slate-400 text-sm font-medium mb-2\">Avg Bandwidth</h3>\n                <p className=\"text-3xl font-bold text-pink-400\">\n                   {sessions.length > 0 ? '120 Mbps' : '0 Mbps'}\n                </p>\n              </div>\n            </div>\n\n            {/* List */}\n             <div className=\"bg-slate-900 border border-slate-800 rounded-xl overflow-hidden\">\n              <div className=\"px-6 py-4 border-b border-slate-800 flex items-center justify-between\">\n                <h3 className=\"text-lg font-bold text-white\">Recent Sessions</h3>\n                 <div className=\"relative\">\n                  <Search className=\"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search session ID...\"\n                    className=\"bg-slate-950 border border-slate-800 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-pink-500 w-64\"\n                  />\n                </div>\n              </div>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm text-left\">\n                  <thead className=\"bg-slate-950 text-slate-400 font-medium\">\n                    <tr>\n                      <th className=\"px-6 py-3\">Timestamp</th>\n                      <th className=\"px-6 py-3\">Session ID</th>\n                      <th className=\"px-6 py-3\">Phone</th>\n                      <th className=\"px-6 py-3\">Status</th>\n                      <th className=\"px-6 py-3\">Profile</th>\n                      <th className=\"px-6 py-3\">Latency</th>\n                      <th className=\"px-6 py-3 text-right\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-slate-800\">\n                    {loading ? (\n                      <tr>\n                        <td colSpan={7} className=\"px-6 py-8 text-center text-slate-400\">Loading sessions...</td>\n                      </tr>\n                    ) : sessions.length === 0 ? (\n                      <tr>\n                        <td colSpan={7} className=\"px-6 py-8 text-center text-slate-400\">No sessions found.</td>\n                      </tr>\n                    ) : (\n                      sessions.map((session) => (\n                        <tr key={session.id} className=\"hover:bg-slate-800/50 transition-colors\">\n                          <td className=\"px-6 py-3 text-slate-400\">\n                             {new Date(session.request_timestamp).toLocaleString()}\n                          </td>\n                          <td className=\"px-6 py-3 text-white font-mono text-xs\">{session.session_id}</td>\n                          <td className=\"px-6 py-3 text-slate-300 font-mono\">{session.phone_number}</td>\n                          <td className=\"px-6 py-3\">\n                             <span className={`px-2 py-1 rounded text-xs font-semibold ${\n                                session.status === 'active' ? 'bg-green-500/20 text-green-400' : 'bg-slate-500/20 text-slate-400'\n                             }`}>\n                                {session.status.toUpperCase()}\n                             </span>\n                          </td>\n                          <td className=\"px-6 py-3\">\n                             <span className=\"px-2 py-1 bg-pink-500/20 text-pink-400 rounded text-xs font-medium uppercase\">{session.qos_profile}</span>\n                          </td>\n                          <td className=\"px-6 py-3 text-cyan-400 font-mono\">\n                             {session.actual_latency_ms} ms\n                          </td>\n                          <td className=\"px-6 py-3 text-right\">\n                             <button\n                                onClick={() => handleDelete(session.id)}\n                                className=\"p-1.5 hover:bg-red-500/10 text-slate-400 hover:text-red-400 rounded transition-colors\"\n                             >\n                                <Trash2 className=\"w-4 h-4\" />\n                             </button>\n                          </td>\n                        </tr>\n                      ))\n                    )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        )}\n\n         {activeTab === 'configuration' && (\n          <div className=\"space-y-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n               <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                 <h3 className=\"text-lg font-bold text-white mb-4\">Sample Configuration</h3>\n                 <div className=\"bg-slate-950 p-4 rounded-lg border border-slate-800 font-mono text-sm text-pink-300 overflow-x-auto\">\n                    <pre>{JSON.stringify(sampleConfig, null, 2)}</pre>\n                 </div>\n                 <button className=\"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors\">\n                    <Copy className=\"w-4 h-4\" /> Copy Configuration\n                 </button>\n               </div>\n\n               <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n                 <h3 className=\"text-lg font-bold text-white mb-4\">Integration Example</h3>\n                 <div className=\"bg-slate-950 p-4 rounded-lg border border-slate-800 font-mono text-sm text-pink-300 overflow-x-auto\">\n                    <pre>{sampleCode.trim()}</pre>\n                 </div>\n                 <button className=\"mt-4 flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors\">\n                    <Copy className=\"w-4 h-4\" /> Copy Code\n                 </button>\n               </div>\n            </div>\n\n            <div className=\"bg-slate-900 border border-slate-800 rounded-xl p-6\">\n               <h3 className=\"text-lg font-bold text-white mb-4\">API Features</h3>\n               <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                  <div className=\"p-4 bg-slate-950 border border-slate-800 rounded-lg\">\n                     <Gauge className=\"w-6 h-6 text-pink-400 mb-3\" />\n                     <h4 className=\"text-white font-medium mb-1\">Latency Guarantee</h4>\n                     <p className=\"text-sm text-slate-400\">Ensure consistent low latency for gaming and real-time apps.</p>\n                  </div>\n                  <div className=\"p-4 bg-slate-950 border border-slate-800 rounded-lg\">\n                     <Signal className=\"w-6 h-6 text-cyan-400 mb-3\" />\n                     <h4 className=\"text-white font-medium mb-1\">Bandwidth Priority</h4>\n                     <p className=\"text-sm text-slate-400\">Reserve dedicated throughout during congestion.</p>\n                  </div>\n                  <div className=\"p-4 bg-slate-950 border border-slate-800 rounded-lg\">\n                     <RefreshCw className=\"w-6 h-6 text-purple-400 mb-3\" />\n                     <h4 className=\"text-white font-medium mb-1\">Dynamic Control</h4>\n                     <p className=\"text-sm text-slate-400\">Start and stop QoS sessions programmatically on the fly.</p>\n                  </div>\n               </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n       {showNewModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg\">\n            <div className=\"p-6 border-b border-slate-700 flex justify-between items-center\">\n               <h3 className=\"text-xl font-bold text-white\">Start QoD Session</h3>\n               <button onClick={() => setShowNewModal(false)}><X className=\"w-5 h-5 text-slate-400\" /></button>\n            </div>\n            <div className=\"p-6 space-y-4\">\n               <div>\n                  <label className=\"block text-sm font-medium text-slate-400 mb-1\">Phone Number</label>\n                  <input\n                    type=\"tel\"\n                    className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-pink-500\"\n                    placeholder=\"+1234567890\"\n                    value={newData.phone_number}\n                    onChange={(e) => setNewData({ ...newData, phone_number: e.target.value })}\n                  />\n               </div>\n               <div>\n                  <label className=\"block text-sm font-medium text-slate-400 mb-1\">Profile</label>\n                  <select\n                     className=\"w-full bg-slate-950 border border-slate-800 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-pink-500\"\n                     value={newData.qos_profile}\n                     onChange={(e) => setNewData({ ...newData, qos_profile: e.target.value })}\n                  >\n                     <option value=\"gaming\">Gaming</option>\n                     <option value=\"video\">Video Streaming</option>\n                     <option value=\"voice\">Voice Call</option>\n                  </select>\n               </div>\n               <div className=\"flex gap-3 mt-6\">\n                  <button\n                    onClick={() => setShowNewModal(false)}\n                    className=\"flex-1 bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleCreate}\n                    disabled={submitting}\n                    className=\"flex-1 bg-pink-600 hover:bg-pink-700 text-white py-2 rounded-lg transition-colors disabled:opacity-50\"\n                  >\n                    {submitting ? 'Creating...' : 'Create Session'}\n                  </button>\n               </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}