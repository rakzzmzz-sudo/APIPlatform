{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/ProductCatalog.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport {\n  Package, Search, X, Tag, ShoppingCart, Check, Star,\n  MessageSquare, Phone, Video, Bot, Mail, Zap, Filter,\n  TrendingUp, Award, Users, Globe, Shield, Sparkles,\n  ChevronRight, Info, ArrowRight\n} from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\n\ninterface Product {\n  id: string;\n  sku: string;\n  name: string;\n  description: string;\n  category: string;\n  icon: string;\n  status: 'active' | 'inactive';\n  features: string[];\n}\n\ninterface ProductTier {\n  id: string;\n  product_id: string;\n  tier_name: 'Basic' | 'Standard' | 'Premium' | 'Enterprise';\n  tier_sku: string;\n  description: string;\n  price: number;\n  price_unit: string;\n  setup_fee: number;\n  features: Record<string, any>;\n  max_users: number | null;\n  max_volume: number | null;\n  support_level: string;\n  is_popular: boolean;\n  sort_order: number;\n}\n\ninterface ProductWithTiers extends Product {\n  tiers: ProductTier[];\n}\n\nexport default function ProductCatalog() {\n  const { user } = useAuth();\n  const [products, setProducts] = useState<ProductWithTiers[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('All');\n  const [selectedProduct, setSelectedProduct] = useState<ProductWithTiers | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [addingToCart, setAddingToCart] = useState<string | null>(null);\n  const [notification, setNotification] = useState<{\n    type: 'success' | 'error';\n    message: string;\n  } | null>(null);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n\n  const categories = [\n    { id: 'All', name: 'All Products', icon: Package, color: 'green' },\n    { id: 'Messaging', name: 'Messaging', icon: MessageSquare, color: 'green' },\n    { id: 'Voice', name: 'Voice & Calling', icon: Phone, color: 'green' },\n    { id: 'Video', name: 'Video', icon: Video, color: 'green' },\n    { id: 'Bot', name: 'AI & Bots', icon: Bot, color: 'green' },\n    { id: 'Social', name: 'Social', icon: Users, color: 'green' }\n  ];\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  useEffect(() => {\n    if (notification) {\n      const timer = setTimeout(() => setNotification(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [notification]);\n\n  const loadProducts = async () => {\n    setIsLoading(true);\n    try {\n      const { data: productsData, error: productsError } = await db\n        .from('products')\n        .select('*')\n        .eq('status', 'active')\n        .order('name');\n\n      if (productsError) throw productsError;\n\n      const { data: tiersData, error: tiersError } = await db\n        .from('product_tiers')\n        .select('*')\n        .order('sort_order');\n\n      if (tiersError) throw tiersError;\n\n      const productsWithTiers: ProductWithTiers[] = (productsData || []).map((product: any) => {\n        let parsedFeatures = [];\n        try {\n          parsedFeatures = typeof product.features === 'string' ? JSON.parse(product.features) : product.features;\n        } catch (e) {\n          console.error(\"Failed to parse product features\", e);\n        }\n\n        return {\n          ...product,\n          features: Array.isArray(parsedFeatures) ? parsedFeatures : [],\n          tiers: (tiersData || []).filter((tier: any) => tier.product_id === product.id).map((tier: any) => {\n            let parsedTierFeatures = {};\n            try {\n              parsedTierFeatures = typeof tier.features === 'string' ? JSON.parse(tier.features) : tier.features;\n            } catch (e) {\n              console.error(\"Failed to parse tier features\", e);\n            }\n            return { ...tier, features: parsedTierFeatures };\n          }),\n        };\n      });\n\n      setProducts(productsWithTiers);\n    } catch (error) {\n      console.error('Error loading products:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const addToCart = async (product: ProductWithTiers, tier: ProductTier) => {\n    if (!user) {\n      setNotification({\n        type: 'error',\n        message: 'Please log in to add items to cart'\n      });\n      return;\n    }\n\n    setAddingToCart(tier.id);\n\n    try {\n      const totalPrice = Number(tier.price) + Number(tier.setup_fee);\n\n      const { error } = await db\n        .from('cart_items')\n        .insert({\n          user_id: user.id,\n          item_type: 'product_tier',\n          item_data: JSON.stringify({\n            product_name: product.name,\n            product_sku: product.sku,\n            tier_name: tier.tier_name,\n            tier_sku: tier.tier_sku,\n            description: tier.description,\n            price: tier.price,\n            setup_fee: tier.setup_fee,\n            price_unit: tier.price_unit,\n            features: tier.features,\n            support_level: tier.support_level\n          }),\n          quantity: 1,\n          unit_price: totalPrice,\n          total_price: totalPrice\n        });\n\n      if (error) throw error;\n\n      setNotification({\n        type: 'success',\n        message: `${product.name} (${tier.tier_name}) added to cart`\n      });\n    } catch (error: any) {\n      console.error('Error adding to cart:', error);\n      setNotification({\n        type: 'error',\n        message: error.message || 'Failed to add to cart'\n      });\n    } finally {\n      setAddingToCart(null);\n    }\n  };\n\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      product.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      product.sku.toLowerCase().includes(searchQuery.toLowerCase());\n\n    const matchesCategory = selectedCategory === 'All' || product.category === selectedCategory;\n\n    return matchesSearch && matchesCategory;\n  });\n\n  const getCategoryGradient = (category: string) => {\n    switch (category) {\n      case 'Messaging': return 'from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/30';\n      case 'Social': return 'from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/20';\n      case 'Voice': return 'from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/30';\n      case 'Video': return 'from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/30';\n      case 'Bot': return 'from-[#39FF14]/20 to-[#32e012]/10 border-[#39FF14]/30';\n      default: return 'from-slate-500/20 to-slate-600/20 border-slate-500/30';\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    return 'text-brand-lime';\n  };\n\n  const getTierBadgeColor = (tierName: string) => {\n    switch (tierName) {\n      case 'Basic': return 'bg-slate-500/20 text-slate-300 border-slate-500/50';\n      case 'Standard': return 'bg-[#39FF14]/20/20 text-[#39FF14] border-[#39FF14]/50';\n      case 'Premium': return 'bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/50';\n      case 'Enterprise': return 'bg-gradient-to-r from-[#39FF14]/20 to-[#32e012]/20 text-[#39FF14] border-[#39FF14]/50';\n      default: return 'bg-slate-500/20 text-slate-300 border-slate-500/50';\n    }\n  };\n\n  const formatPrice = (price: number, unit: string) => {\n    if (unit === 'month') {\n      return `RM ${price.toFixed(2)}/mo`;\n    }\n    return `RM ${price.toFixed(4)}/${unit}`;\n  };\n\n  const getCategoryIcon = (category: string) => {\n    const cat = categories.find(c => c.id === category);\n    return cat?.icon || Package;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex-1 overflow-auto bg-[#012419] p-8 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-slate-400 text-lg\">Loading products...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-full bg-gradient-to-br from-[#012419] to-[#0B1120]\">\n      {/* Left Sidebar - Glassy Filter Panel */}\n      <div className=\"w-80 bg-white/[0.02] backdrop-blur-xl border-r border-white/10 flex flex-col\">\n        <div className=\"p-6 border-b border-white/5\">\n          <h2 className=\"text-xl font-semibold text-white mb-1\">Marketplace</h2>\n          <p className=\"text-sm text-slate-400\">Browse and manage resources</p>\n        </div>\n\n        <div className=\"p-4 space-y-4 overflow-y-auto flex-1\">\n           {/* Search Input */}\n           <div className=\"relative group\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 group-focus-within:text-[#39FF14] transition-colors\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search products...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full bg-slate-900/50 border border-white/10 rounded-xl pl-9 pr-4 py-3 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-[#39FF14]/50 focus:bg-slate-900/80 transition-all shadow-inner\"\n              />\n               {searchQuery && (\n                <button\n                  onClick={() => setSearchQuery('')}\n                  className=\"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white\"\n                >\n                  <X className=\"w-3 h-3\" />\n                </button>\n              )}\n           </div>\n\n           {/* Categories */}\n           <div className=\"space-y-1\">\n              <h3 className=\"text-xs font-semibold text-slate-500 uppercase tracking-wider px-3 mb-2\">Categories</h3>\n              {categories.map((category) => {\n                const Icon = category.icon;\n                const isActive = selectedCategory === category.id;\n                return (\n                  <button\n                    key={category.id}\n                    onClick={() => setSelectedCategory(category.id)}\n                    className={`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${\n                      isActive\n                        ? 'bg-gradient-to-r from-[#39FF14]/20 to-[#32e012]/10 text-[#39FF14] border border-[#39FF14]/30'\n                        : 'text-slate-400 hover:text-white hover:bg-white/5 hover:border hover:border-white/5 border border-transparent'\n                    }`}\n                  >\n                    <div className={`p-1.5 rounded-md ${isActive ? 'bg-[#39FF14]/20 text-[#39FF14]' : 'bg-white/5 text-slate-400 group-hover:text-white'}`}>\n                       <Icon className=\"w-4 h-4\" />\n                    </div>\n                    {category.name}\n                    {isActive && <ChevronRight className=\"w-3 h-3 ml-auto text-[#39FF14]/70\" />}\n                  </button>\n                );\n              })}\n           </div>\n        </div>\n      </div>\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"p-8 max-w-7xl mx-auto\">\n          {/* Header Stats */}\n          <div className=\"flex items-center justify-between mb-8\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-white mb-2\">Product Catalog</h1>\n              <p className=\"text-slate-400\">\n                Showing <span className=\"text-[#39FF14] font-semibold\">{filteredProducts.length}</span> available solutions\n              </p>\n            </div>\n            \n             <div className=\"flex gap-3\">\n                 <div className=\"bg-white/5 backdrop-blur-md border border-white/10 px-4 py-2 rounded-lg flex items-center gap-2\">\n                    <div className=\"w-2 h-2 rounded-full bg-[#39FF14] animate-pulse\"></div>\n                    <span className=\"text-sm text-slate-300\">System Online</span>\n                 </div>\n             </div>\n          </div>\n\n          {/* Products Grid */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n            {filteredProducts.map((product) => {\n              const Icon = getCategoryIcon(product.category);\n              return (\n                <div\n                  key={product.id}\n                  className=\"group relative bg-[#0B1525]/80 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden hover:border-[#39FF14]/30 transition-all duration-300 hover:shadow-2xl hover:shadow-[#39FF14]/5 hover:-translate-y-1\"\n                  onClick={() => setSelectedProduct(product)}\n                >\n                   {/* Glass Gradient Overlay on Hover */}\n                   <div className=\"absolute inset-0 bg-gradient-to-br from-[#39FF14]/5 to-[#32e012]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\"></div>\n\n                  {/* Card Header */}\n                  <div className=\"p-6 border-b border-white/5 relative z-10\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className=\"p-3 bg-white/5 rounded-xl border border-white/5 group-hover:border-white/10 transition-colors\">\n                        <Icon className={`w-8 h-8 ${getCategoryColor(product.category)}`} />\n                      </div>\n                      <span className=\"px-2.5 py-1 bg-white/5 text-slate-400 text-xs font-medium rounded-full border border-white/5\">\n                        {product.category}\n                      </span>\n                    </div>\n                    \n                    <h3 className=\"text-xl font-bold text-white mb-2 group-hover:text-[#39FF14] transition-colors tracking-tight\">\n                      {product.name}\n                    </h3>\n                    <p className=\"text-slate-400 text-sm line-clamp-2 leading-relaxed h-10\">{product.description}</p>\n                  </div>\n\n                  {/* Card Body */}\n                  <div className=\"p-6 bg-black/20 relative z-10\">\n                     <div className=\"flex items-center gap-2 mb-4\">\n                        <Tag className=\"w-3.5 h-3.5 text-slate-500\" />\n                        <span className=\"text-xs font-mono text-slate-500\">{product.sku}</span>\n                      </div>\n\n                    <div className=\"flex items-baseline gap-2 mb-6\">\n                      <span className=\"text-sm text-slate-400 font-medium\">From</span>\n                      <span className=\"text-2xl font-bold text-white tracking-tight\">\n                        {product.tiers.length > 0 ? formatPrice(product.tiers[0].price, product.tiers[0].price_unit) : 'N/A'}\n                      </span>\n                    </div>\n\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setSelectedProduct(product);\n                      }}\n                      className=\"w-full bg-white/5 hover:bg-[#39FF14]/20 hover:text-[#39FF14] border border-white/10 hover:border-[#39FF14]/30 text-slate-300 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 group/btn\"\n                    >\n                      View Details\n                      <ArrowRight className=\"w-4 h-4 group-hover/btn:translate-x-1 transition-transform\" />\n                    </button>\n                    \n                    {/* Tier Dots */}\n                     <div className=\"mt-4 flex items-center justify-center gap-1.5 opacity-50\">\n                        {product.tiers.map((_, i) => (\n                           <div key={i} className={`w-1.5 h-1.5 rounded-full ${i===0 ? 'bg-[#39FF14]' : 'bg-slate-600'}`}></div>\n                        ))}\n                     </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Empty State */}\n          {filteredProducts.length === 0 && (\n            <div className=\"flex flex-col items-center justify-center py-20 bg-white/5 border border-white/10 rounded-2xl backdrop-blur-sm\">\n              <div className=\"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6\">\n                <Search className=\"w-10 h-10 text-slate-600\" />\n              </div>\n              <h3 className=\"text-2xl font-bold text-white mb-2\">No products found</h3>\n              <p className=\"text-slate-400 max-w-md text-center mb-8\">\n                We couldn't find any items matching \"{searchQuery}\". Try refining your search or changing categories.\n              </p>\n              <button\n                onClick={() => {\n                  setSearchQuery('');\n                  setSelectedCategory('All');\n                }}\n                className=\"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-2.5 rounded-lg font-medium transition-colors shadow-lg shadow-[#39FF14]/5\"\n              >\n                Clear all filters\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n\n\n      {/* Product Detail Modal */}\n      {selectedProduct && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-2xl max-w-7xl w-full my-8 max-h-[90vh] overflow-y-auto\">\n            {/* Modal Header */}\n            <div className={`bg-gradient-to-br ${getCategoryGradient(selectedProduct.category)} border-b border-slate-700 p-8 sticky top-0 z-10`}>\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex items-start gap-4 flex-1\">\n                  <div className={`p-4 bg-slate-800/50 rounded-xl border border-slate-700/50`}>\n                    {(() => {\n                      const Icon = getCategoryIcon(selectedProduct.category);\n                      return <Icon className={`w-10 h-10 ${getCategoryColor(selectedProduct.category)}`} />;\n                    })()}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <h2 className=\"text-4xl font-bold text-white\">{selectedProduct.name}</h2>\n                      <span className=\"px-3 py-1 bg-slate-900/50 text-slate-300 text-sm font-medium rounded-full border border-slate-700\">\n                        {selectedProduct.category}\n                      </span>\n                    </div>\n                    <p className=\"text-slate-300 text-lg mb-3\">{selectedProduct.description}</p>\n                    <div className=\"flex items-center gap-2\">\n                      <Tag className=\"w-4 h-4 text-slate-500\" />\n                      <span className=\"text-sm font-mono text-slate-400\">{selectedProduct.sku}</span>\n                    </div>\n                  </div>\n                </div>\n                <button\n                  onClick={() => setSelectedProduct(null)}\n                  className=\"p-2 hover:bg-slate-800/50 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-6 h-6 text-slate-400 hover:text-white\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Pricing Tiers */}\n            <div className=\"p-8\">\n              <h3 className=\"text-2xl font-bold text-white mb-6 flex items-center gap-3\">\n                <Sparkles className=\"w-7 h-7 text-[#39FF14]\" />\n                Choose Your Plan\n              </h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6\">\n                {selectedProduct.tiers.map((tier) => (\n                  <div\n                    key={tier.id}\n                    className={`relative bg-slate-800/50 border-2 rounded-2xl p-6 transition-all hover:scale-105 ${\n                      tier.is_popular\n                        ? 'border-[#39FF14] shadow-lg shadow-[#39FF14]/20'\n                        : 'border-slate-700 hover:border-slate-600'\n                    }`}\n                  >\n                    {/* Popular Badge */}\n                    {tier.is_popular && (\n                      <div className=\"absolute -top-4 left-1/2 -translate-x-1/2\">\n                        <div className=\"bg-gradient-to-r from-[#39FF14] to-[#32e012] text-black text-xs font-bold px-4 py-1.5 rounded-full flex items-center gap-1 shadow-lg\">\n                          <Star className=\"w-3 h-3 fill-current\" />\n                          MOST POPULAR\n                        </div>\n                      </div>\n                    )}\n\n                    {/* Tier Header */}\n                    <div className=\"mb-6\">\n                      <div className={`inline-block px-3 py-1.5 rounded-lg text-sm font-bold mb-4 border ${getTierBadgeColor(tier.tier_name)}`}>\n                        {tier.tier_name}\n                      </div>\n                      <div className=\"flex items-baseline gap-2 mb-2\">\n                        <span className=\"text-4xl font-bold text-white\">\n                          RM {tier.price.toFixed(2)}\n                        </span>\n                        <span className=\"text-slate-400\">/{tier.price_unit}</span>\n                      </div>\n                      {tier.setup_fee > 0 && (\n                        <p className=\"text-sm text-slate-400\">+ RM {tier.setup_fee.toFixed(2)} setup fee</p>\n                      )}\n                      <p className=\"text-sm text-slate-300 mt-3 min-h-[40px]\">{tier.description}</p>\n                    </div>\n\n                    {/* Features */}\n                    <div className=\"mb-6 space-y-3\">\n                      <div className=\"flex items-center gap-2 text-sm\">\n                        <Shield className=\"w-4 h-4 text-[#39FF14] flex-shrink-0\" />\n                        <span className=\"text-slate-300\">{tier.support_level} Support</span>\n                      </div>\n                      {tier.max_users && (\n                        <div className=\"flex items-center gap-2 text-sm\">\n                          <Users className=\"w-4 h-4 text-[#39FF14] flex-shrink-0\" />\n                          <span className=\"text-slate-300\">Up to {tier.max_users.toLocaleString()} users</span>\n                        </div>\n                      )}\n                      {tier.max_volume && (\n                        <div className=\"flex items-center gap-2 text-sm\">\n                          <TrendingUp className=\"w-4 h-4 text-green-400 flex-shrink-0\" />\n                          <span className=\"text-slate-300\">{tier.max_volume.toLocaleString()} volume</span>\n                        </div>\n                      )}\n                      {tier.features && Object.entries(tier.features).slice(0, 3).map(([key, value]) => (\n                        <div key={key} className=\"flex items-start gap-2 text-sm\">\n                          <Check className=\"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5\" />\n                          <span className=\"text-slate-300\">\n                            {key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}: {\n                              typeof value === 'boolean' ? (value ? 'Yes' : 'No') : value.toString()\n                            }\n                          </span>\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* CTA Button */}\n                    <button\n                      onClick={() => addToCart(selectedProduct, tier)}\n                      disabled={addingToCart === tier.id}\n                      className={`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${\n                        tier.is_popular\n                          ? 'bg-gradient-to-r from-[#39FF14] to-[#32e012] hover:from-[#32e012] hover:to-[#28b80f] text-black shadow-lg shadow-[#39FF14]/20'\n                          : 'bg-slate-700 hover:bg-slate-600 text-white'\n                      } disabled:opacity-50 disabled:cursor-not-allowed`}\n                    >\n                      {addingToCart === tier.id ? (\n                        <>\n                          <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                          Adding...\n                        </>\n                      ) : (\n                        <>\n                          <ShoppingCart className=\"w-5 h-5\" />\n                          Buy Now\n                        </>\n                      )}\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              {/* Additional Info */}\n              <div className=\"mt-8 bg-[#39FF14]/20/10 border border-[#39FF14]/30 rounded-xl p-6\">\n                <div className=\"flex items-start gap-3\">\n                  <Info className=\"w-6 h-6 text-[#39FF14] flex-shrink-0 mt-1\" />\n                  <div>\n                    <h4 className=\"text-lg font-semibold text-white mb-2\">Need help choosing?</h4>\n                    <p className=\"text-slate-300 text-sm mb-3\">\n                      Our sales team can help you find the perfect plan for your business needs.\n                    </p>\n                    <button className=\"bg-[#39FF14] hover:bg-[#32e012] text-white px-4 py-2 rounded-lg text-sm font-semibold transition-colors\">\n                      Contact Sales\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Notification Toast */}\n      {notification && (\n        <div className=\"fixed top-4 right-4 z-50 animate-slide-in\">\n          <div className={`${\n            notification.type === 'success' ? 'bg-[#39FF14]/20 border-[#39FF14]/50' : 'bg-red-500/20 border-red-500/50'\n          } border backdrop-blur-sm rounded-xl p-4 max-w-md shadow-xl`}>\n            <div className=\"flex items-start gap-3\">\n              <div className={`${\n                notification.type === 'success' ? 'bg-[#39FF14]' : 'bg-red-500'\n              } rounded-full p-1`}>\n                {notification.type === 'success' ? (\n                  <Check className=\"w-5 h-5 text-black\" />\n                ) : (\n                  <X className=\"w-5 h-5 text-white\" />\n                )}\n              </div>\n              <div className=\"flex-1\">\n                <p className={`font-semibold ${notification.type === 'success' ? 'text-[#39FF14]' : 'text-red-400'}`}>\n                  {notification.type === 'success' ? 'Success!' : 'Error'}\n                </p>\n                <p className=\"text-white text-sm mt-1\">{notification.message}</p>\n              </div>\n              <button\n                onClick={() => setNotification(null)}\n                className=\"text-slate-400 hover:text-white transition-colors\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1315, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/MalaysianInvoiceViewer.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { X, Download, Printer, Mail, CheckCircle2, QrCode, FileText, Table } from 'lucide-react';\nimport { db } from '../../lib/db';\n\ninterface InvoiceItem {\n  id: string;\n  description: string;\n  quantity: number;\n  unit_price: number;\n  amount: number;\n  classification_code?: string;\n  tax_type?: string;\n  tax_rate?: number;\n  tax_amount?: number;\n}\n\ninterface Invoice {\n  id: string;\n  invoice_number: string;\n  invoice_date: string;\n  due_date: string;\n  status: string;\n  customer_name: string;\n  customer_email: string;\n  customer_address: string;\n  customer_company?: string;\n  customer_registration_number?: string;\n  customer_sst_number?: string;\n  customer_tin?: string;\n  subtotal: number;\n  sst_rate: number;\n  sst_amount: number;\n  total_amount: number;\n  currency: string;\n  notes?: string;\n  payment_terms: string;\n  myinvois_uuid?: string;\n  myinvois_submission_date?: string;\n  myinvois_validation_link?: string;\n}\n\ninterface CompanySettings {\n  company_name: string;\n  company_registration_number: string;\n  sst_registration_number?: string;\n  tin?: string;\n  msic_code?: string;\n  address_line1: string;\n  address_line2?: string;\n  city: string;\n  state: string;\n  postal_code: string;\n  country: string;\n  phone: string;\n  email: string;\n  bank_name?: string;\n  bank_account_number?: string;\n  bank_account_name?: string;\n}\n\ninterface MalaysianInvoiceViewerProps {\n  invoiceId: string;\n  onClose: () => void;\n}\n\nexport default function MalaysianInvoiceViewer({ invoiceId, onClose }: MalaysianInvoiceViewerProps) {\n  const [invoice, setInvoice] = useState<Invoice | null>(null);\n  const [items, setItems] = useState<InvoiceItem[]>([]);\n  const [company, setCompany] = useState<CompanySettings | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [qrCodeData, setQrCodeData] = useState<string>('');\n\n  useEffect(() => {\n    loadInvoiceData();\n  }, [invoiceId]);\n\n  const loadInvoiceData = async () => {\n    try {\n      const { data: invoiceData, error: invoiceError } = await db\n        .from('invoices')\n        .select('*')\n        .eq('id', invoiceId)\n        .single();\n\n      if (invoiceError) throw invoiceError;\n\n      const { data: itemsData, error: itemsError } = await db\n        .from('invoice_items')\n        .select('*')\n        .eq('invoice_id', invoiceId);\n\n      if (itemsError) throw itemsError;\n\n      const { data: companyData } = await db\n        .from('company_settings')\n        .select('*')\n        .limit(1)\n        .maybeSingle();\n\n      const defaultCompany: CompanySettings = {\n        company_name: 'RAPIDACOM SDN BHD',\n        company_registration_number: '202201234567 (1234567-A)',\n        sst_registration_number: 'W10-1808-32000123',\n        tin: '202201234567',\n        msic_code: '61100',\n        address_line1: 'Level 10, Menara RapidaCOM',\n        address_line2: 'Jalan Sultan Ismail',\n        city: 'Kuala Lumpur',\n        state: 'Wilayah Persekutuan',\n        postal_code: '50250',\n        country: 'Malaysia',\n        phone: '+603-2181-8888',\n        email: 'billing@rapidacom.com',\n        bank_name: 'Malayan Banking Berhad (Maybank)',\n        bank_account_number: '514012345678',\n        bank_account_name: 'RAPIDACOM SDN BHD'\n      };\n\n      const myinvoisUuid = invoiceData.myinvois_uuid || generateMyInvoisUUID(invoiceData.invoice_number);\n      const myinvoisValidationLink = invoiceData.myinvois_validation_link ||\n        `https://myinvois.hasil.gov.my/verify/${myinvoisUuid}`;\n\n      const enhancedInvoice = {\n        ...invoiceData,\n        myinvois_uuid: myinvoisUuid,\n        myinvois_submission_date: invoiceData.myinvois_submission_date || invoiceData.invoice_date,\n        myinvois_validation_link: myinvoisValidationLink\n      };\n\n      setInvoice(enhancedInvoice);\n      setItems(itemsData || []);\n      setCompany(companyData || defaultCompany);\n\n      const qrData = generateQRCodeData(enhancedInvoice, companyData || defaultCompany);\n      setQrCodeData(qrData);\n\n    } catch (error) {\n      console.error('Error loading invoice:', error);\n      alert('Failed to load invoice');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateMyInvoisUUID = (invoiceNumber: string): string => {\n    const timestamp = Date.now().toString(36);\n    const random = Math.random().toString(36).substring(2, 15);\n    return `${invoiceNumber}-${timestamp}-${random}`.toUpperCase();\n  };\n\n  const generateQRCodeData = (inv: Invoice, comp: CompanySettings): string => {\n    const qrData = [\n      comp.company_name,\n      comp.company_registration_number,\n      inv.myinvois_uuid || '',\n      inv.invoice_date,\n      inv.total_amount.toFixed(2),\n      inv.sst_amount.toFixed(2),\n      inv.myinvois_validation_link || ''\n    ].join('|');\n\n    return `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qrData)}`;\n  };\n\n  const handlePrint = () => {\n    window.print();\n  };\n\n  const handleDownloadPDF = () => {\n    const printWindow = window.open('', '', 'width=800,height=600');\n    if (!printWindow) return;\n\n    const invoiceContent = document.getElementById('invoice-content');\n    if (!invoiceContent) return;\n\n    printWindow.document.write(`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Invoice ${invoice?.invoice_number}</title>\n          <style>\n            * {\n              margin: 0;\n              padding: 0;\n              box-sizing: border-box;\n            }\n            body {\n              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n              padding: 20px;\n              color: #1e293b;\n            }\n            .invoice-container {\n              max-width: 800px;\n              margin: 0 auto;\n              background: white;\n            }\n            .invoice-header {\n              border-bottom: 2px solid #39FF14;\n              padding-bottom: 20px;\n              margin-bottom: 30px;\n            }\n            .company-info h1 {\n              font-size: 24px;\n              font-weight: bold;\n              color: #39FF14;\n              margin-bottom: 8px;\n            }\n            .company-info p {\n              font-size: 13px;\n              color: #64748b;\n              line-height: 1.6;\n            }\n            .invoice-details {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 30px;\n            }\n            .invoice-meta h2 {\n              font-size: 28px;\n              font-weight: bold;\n              color: #0f172a;\n              margin-bottom: 12px;\n            }\n            .invoice-meta .meta-item {\n              display: flex;\n              gap: 12px;\n              margin-bottom: 6px;\n            }\n            .invoice-meta .label {\n              font-size: 13px;\n              color: #64748b;\n              width: 120px;\n            }\n            .invoice-meta .value {\n              font-size: 13px;\n              color: #0f172a;\n              font-weight: 500;\n            }\n            .status-badge {\n              display: inline-block;\n              padding: 4px 12px;\n              border-radius: 12px;\n              font-size: 11px;\n              font-weight: 600;\n              text-transform: uppercase;\n              background: #dcfce7;\n              color: #166534;\n            }\n            .customer-section {\n              background: #f8fafc;\n              padding: 20px;\n              border-radius: 8px;\n              margin-bottom: 30px;\n            }\n            .customer-section h3 {\n              font-size: 14px;\n              font-weight: 600;\n              color: #0f172a;\n              margin-bottom: 12px;\n            }\n            .customer-section p {\n              font-size: 13px;\n              color: #475569;\n              line-height: 1.6;\n            }\n            table {\n              width: 100%;\n              border-collapse: collapse;\n              margin-bottom: 30px;\n            }\n            thead {\n              background: #39FF14;\n              color: white;\n            }\n            th {\n              padding: 12px;\n              text-align: left;\n              font-size: 12px;\n              font-weight: 600;\n              text-transform: uppercase;\n            }\n            td {\n              padding: 12px;\n              border-bottom: 1px solid #e2e8f0;\n              font-size: 13px;\n            }\n            tbody tr:hover {\n              background: #f8fafc;\n            }\n            .text-right {\n              text-align: right;\n            }\n            .summary {\n              max-width: 350px;\n              margin-left: auto;\n            }\n            .summary-row {\n              display: flex;\n              justify-content: space-between;\n              padding: 8px 0;\n              font-size: 13px;\n            }\n            .summary-row.total {\n              border-top: 2px solid #39FF14;\n              padding-top: 12px;\n              margin-top: 8px;\n              font-size: 16px;\n              font-weight: bold;\n              color: #39FF14;\n            }\n            .footer {\n              margin-top: 40px;\n              padding-top: 20px;\n              border-top: 1px solid #e2e8f0;\n            }\n            .footer p {\n              font-size: 12px;\n              color: #64748b;\n              line-height: 1.6;\n            }\n            .qr-section {\n              text-align: center;\n              margin-top: 30px;\n              padding: 20px;\n              background: #f8fafc;\n              border-radius: 8px;\n            }\n            .qr-section p {\n              font-size: 11px;\n              color: #64748b;\n              margin-top: 8px;\n            }\n            @media print {\n              body { padding: 0; }\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          ${invoiceContent.innerHTML}\n        </body>\n      </html>\n    `);\n\n    printWindow.document.close();\n    printWindow.focus();\n\n    setTimeout(() => {\n      printWindow.print();\n      printWindow.close();\n    }, 250);\n  };\n\n  const handleDownloadJSON = () => {\n    if (!invoice) return;\n\n    const invoiceData = {\n      invoice,\n      items,\n      company,\n      generated_at: new Date().toISOString()\n    };\n\n    const dataStr = JSON.stringify(invoiceData, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `invoice-${invoice.invoice_number}.json`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleDownloadCSV = () => {\n    if (!invoice || !items.length) return;\n\n    let csvContent = 'Invoice Details\\n';\n    csvContent += `Invoice Number,${invoice.invoice_number}\\n`;\n    csvContent += `Invoice Date,${invoice.invoice_date}\\n`;\n    csvContent += `Due Date,${invoice.due_date}\\n`;\n    csvContent += `Customer,${invoice.customer_name}\\n`;\n    csvContent += `Status,${invoice.status}\\n\\n`;\n\n    csvContent += 'Line Items\\n';\n    csvContent += 'Description,Quantity,Unit Price,Amount\\n';\n    items.forEach(item => {\n      csvContent += `\"${item.description}\",${item.quantity},${item.unit_price},${item.amount}\\n`;\n    });\n\n    csvContent += '\\nSummary\\n';\n    csvContent += `Subtotal,${invoice.subtotal}\\n`;\n    csvContent += `SST (${invoice.sst_rate}%),${invoice.sst_amount}\\n`;\n    csvContent += `Total,${invoice.total_amount}\\n`;\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `invoice-${invoice.invoice_number}.csv`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleEmailInvoice = async () => {\n    alert('Email functionality will be implemented with email service integration');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg p-8\">\n          <div className=\"w-12 h-12 border-4 border-[#39FF14] border-t-transparent rounded-full animate-spin mx-auto\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!invoice || !company) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-lg p-8 max-w-md\">\n          <p className=\"text-slate-900 text-center mb-4\">Invoice not found</p>\n          <button\n            onClick={onClose}\n            className=\"w-full bg-slate-800 text-white px-4 py-2 rounded-lg hover:bg-slate-700\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'paid': return 'bg-emerald-100 text-emerald-800 border-emerald-300';\n      case 'issued': return 'bg-[#39FF14]/20 text-[#39FF14] border-[#39FF14]/30';\n      case 'overdue': return 'bg-red-100 text-red-800 border-red-300';\n      case 'cancelled': return 'bg-gray-100 text-gray-800 border-gray-300';\n      default: return 'bg-slate-100 text-slate-800 border-slate-300';\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col\">\n        <div className=\"print:hidden flex items-center justify-between p-4 border-b border-slate-200 flex-shrink-0\">\n          <div>\n            <h2 className=\"text-xl font-bold text-slate-900\">Malaysian E-Invoice</h2>\n            <p className=\"text-sm text-slate-600\">MyInvois Compliant</p>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={handleEmailInvoice}\n              className=\"p-2 text-slate-600 hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-colors\"\n              title=\"Email Invoice\"\n            >\n              <Mail className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleDownloadPDF}\n              className=\"p-2 text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors\"\n              title=\"Download as PDF\"\n            >\n              <Download className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleDownloadJSON}\n              className=\"p-2 text-slate-600 hover:text-[#39FF14] hover:bg-[#39FF14]/10 rounded-lg transition-colors\"\n              title=\"Download JSON Data\"\n            >\n              <FileText className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleDownloadCSV}\n              className=\"p-2 text-slate-600 hover:text-[#32e012] hover:bg-[#39FF14]/10 rounded-lg transition-colors\"\n              title=\"Download CSV\"\n            >\n              <Table className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handlePrint}\n              className=\"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors\"\n              title=\"Print\"\n            >\n              <Printer className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"overflow-y-auto flex-1\">\n          <div className=\"p-8 bg-white\" id=\"invoice-content\">\n          <div className=\"mb-6 pb-6 border-b-4 border-emerald-600\">\n            <div className=\"flex justify-between items-start\">\n              <div className=\"flex-1\">\n                <h1 className=\"text-3xl font-bold text-slate-900 mb-1\">{company.company_name}</h1>\n                <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                  Co. Reg. No.: {company.company_registration_number}\n                </p>\n                {company.sst_registration_number && (\n                  <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                    SST Reg. No.: {company.sst_registration_number}\n                  </p>\n                )}\n                {company.tin && (\n                  <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                    TIN: {company.tin}\n                  </p>\n                )}\n                {company.msic_code && (\n                  <p className=\"text-sm text-slate-600 font-semibold mb-3\">\n                    MSIC Code: {company.msic_code}\n                  </p>\n                )}\n                <div className=\"text-slate-600 text-sm space-y-0.5 mt-2\">\n                  <p>{company.address_line1}</p>\n                  {company.address_line2 && <p>{company.address_line2}</p>}\n                  <p>{company.postal_code} {company.city}</p>\n                  <p>{company.state}, {company.country}</p>\n                  <p className=\"mt-2\">Tel: {company.phone}</p>\n                  <p>Email: {company.email}</p>\n                </div>\n              </div>\n\n              <div className=\"text-right ml-6\">\n                {qrCodeData && (\n                  <div className=\"mb-3\">\n                    <img src={qrCodeData} alt=\"MyInvois QR Code\" className=\"w-32 h-32 mx-auto border-2 border-slate-200 rounded\" />\n                    <p className=\"text-xs text-slate-500 mt-1\">Scan to verify</p>\n                  </div>\n                )}\n                <span className={`inline-block px-4 py-2 rounded-lg text-sm font-bold border-2 ${getStatusColor(invoice.status)}`}>\n                  {invoice.status.toUpperCase()}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <div className=\"bg-emerald-50 border-2 border-emerald-600 rounded-lg p-4\">\n              <div className=\"flex items-center gap-2 mb-2\">\n                <CheckCircle2 className=\"w-5 h-5 text-emerald-600\" />\n                <h2 className=\"text-2xl font-bold text-emerald-900\">TAX INVOICE / E-INVOICE</h2>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div>\n                  <span className=\"text-slate-600 font-semibold\">MyInvois UUID:</span>\n                  <p className=\"font-mono text-xs text-slate-900 break-all\">{invoice.myinvois_uuid}</p>\n                </div>\n                <div>\n                  <span className=\"text-slate-600 font-semibold\">Submission Date:</span>\n                  <p className=\"text-slate-900\">{new Date(invoice.myinvois_submission_date || invoice.invoice_date).toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' })}</p>\n                </div>\n              </div>\n              {invoice.myinvois_validation_link && (\n                <div className=\"mt-2\">\n                  <span className=\"text-slate-600 font-semibold text-sm\">Validation:</span>\n                  <p className=\"text-xs text-[#39FF14] break-all\">{invoice.myinvois_validation_link}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-6 mb-6\">\n            <div>\n              <h3 className=\"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded\">Bill To</h3>\n              <div className=\"text-slate-900\">\n                <p className=\"font-bold text-lg mb-1\">{invoice.customer_name}</p>\n                {invoice.customer_company && <p className=\"font-semibold text-slate-700\">{invoice.customer_company}</p>}\n                {invoice.customer_registration_number && (\n                  <p className=\"text-sm text-slate-600 mt-1\">Co. Reg. No.: {invoice.customer_registration_number}</p>\n                )}\n                {invoice.customer_tin && (\n                  <p className=\"text-sm text-slate-600\">TIN: {invoice.customer_tin}</p>\n                )}\n                {invoice.customer_sst_number && (\n                  <p className=\"text-sm text-slate-600\">SST No.: {invoice.customer_sst_number}</p>\n                )}\n                {invoice.customer_address && (\n                  <p className=\"text-sm text-slate-600 mt-2 whitespace-pre-line\">{invoice.customer_address}</p>\n                )}\n                <p className=\"text-sm text-slate-600 mt-2\">{invoice.customer_email}</p>\n              </div>\n            </div>\n            <div>\n              <h3 className=\"text-sm font-bold text-slate-700 uppercase mb-3 bg-slate-100 px-3 py-2 rounded\">Invoice Details</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between border-b border-slate-200 pb-1\">\n                  <span className=\"text-slate-600 font-semibold\">Invoice No.:</span>\n                  <span className=\"font-bold text-slate-900\">{invoice.invoice_number}</span>\n                </div>\n                <div className=\"flex justify-between border-b border-slate-200 pb-1\">\n                  <span className=\"text-slate-600 font-semibold\">Invoice Date:</span>\n                  <span className=\"text-slate-900\">{new Date(invoice.invoice_date).toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\n                </div>\n                <div className=\"flex justify-between border-b border-slate-200 pb-1\">\n                  <span className=\"text-slate-600 font-semibold\">Due Date:</span>\n                  <span className=\"text-slate-900\">{new Date(invoice.due_date).toLocaleDateString('en-MY', { year: 'numeric', month: 'long', day: 'numeric' })}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-slate-600 font-semibold\">Currency:</span>\n                  <span className=\"text-slate-900 font-bold\">{invoice.currency}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <table className=\"w-full border-collapse\">\n              <thead>\n                <tr className=\"bg-slate-800 text-white\">\n                  <th className=\"text-left py-3 px-4 font-bold text-sm\">Description</th>\n                  <th className=\"text-center py-3 px-4 font-bold text-sm\">Qty</th>\n                  <th className=\"text-right py-3 px-4 font-bold text-sm\">Unit Price<br/><span className=\"text-xs\">({invoice.currency})</span></th>\n                  <th className=\"text-right py-3 px-4 font-bold text-sm\">Amount<br/><span className=\"text-xs\">({invoice.currency})</span></th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.map((item, index) => (\n                  <tr key={item.id} className={`border-b border-slate-200 ${index % 2 === 0 ? 'bg-slate-50' : 'bg-white'}`}>\n                    <td className=\"py-3 px-4 text-slate-900\">\n                      <p className=\"font-medium\">{item.description}</p>\n                      {item.classification_code && (\n                        <p className=\"text-xs text-slate-500 mt-1\">Classification: {item.classification_code}</p>\n                      )}\n                    </td>\n                    <td className=\"text-center py-3 px-4 text-slate-900\">{item.quantity}</td>\n                    <td className=\"text-right py-3 px-4 text-slate-900\">\n                      {item.unit_price.toFixed(2)}\n                    </td>\n                    <td className=\"text-right py-3 px-4 text-slate-900 font-semibold\">\n                      {item.amount.toFixed(2)}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"flex justify-end mb-6\">\n            <div className=\"w-96\">\n              <div className=\"space-y-2 mb-2\">\n                <div className=\"flex justify-between text-slate-700 text-sm\">\n                  <span className=\"font-semibold\">Subtotal:</span>\n                  <span className=\"font-bold\">{invoice.currency} {invoice.subtotal.toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between text-slate-700 text-sm border-t border-slate-300 pt-2\">\n                  <span className=\"font-semibold\">Sales & Service Tax (SST @ {invoice.sst_rate}%):</span>\n                  <span className=\"font-bold\">{invoice.currency} {invoice.sst_amount.toFixed(2)}</span>\n                </div>\n              </div>\n              <div className=\"flex justify-between text-lg font-bold text-white bg-emerald-600 px-4 py-3 rounded-lg mt-3\">\n                <span>TOTAL AMOUNT:</span>\n                <span>{invoice.currency} {invoice.total_amount.toFixed(2)}</span>\n              </div>\n              <div className=\"text-center text-xs text-slate-600 mt-2\">\n                <p className=\"font-semibold\">Amount in Words:</p>\n                <p className=\"italic\">{numberToWords(invoice.total_amount)} {invoice.currency} Only</p>\n              </div>\n            </div>\n          </div>\n\n          {invoice.notes && (\n            <div className=\"mb-6 p-4 bg-[#39FF14]/10 border-l-4 border-[#39FF14]/50 rounded\">\n              <h4 className=\"font-bold text-slate-700 mb-2\">Notes:</h4>\n              <p className=\"text-slate-700 text-sm whitespace-pre-line\">{invoice.notes}</p>\n            </div>\n          )}\n\n          <div className=\"border-t-2 border-slate-300 pt-6 mb-4\">\n            <h4 className=\"font-bold text-slate-700 mb-2\">Payment Terms & Conditions:</h4>\n            <p className=\"text-slate-600 text-sm mb-4\">{invoice.payment_terms}</p>\n\n            {company.bank_name && company.bank_account_number && (\n              <div className=\"bg-[#39FF14]/10 border-2 border-[#39FF14]/30 rounded-lg p-4 mb-4\">\n                <h4 className=\"font-bold text-slate-900 mb-3 flex items-center gap-2\">\n                  <div className=\"w-2 h-2 bg-[#39FF14] rounded-full\"></div>\n                  Bank Transfer Details:\n                </h4>\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div>\n                    <span className=\"text-slate-600 font-semibold\">Bank Name:</span>\n                    <p className=\"font-bold text-slate-900\">{company.bank_name}</p>\n                  </div>\n                  <div>\n                    <span className=\"text-slate-600 font-semibold\">Account Number:</span>\n                    <p className=\"font-bold text-slate-900\">{company.bank_account_number}</p>\n                  </div>\n                  {company.bank_account_name && (\n                    <div className=\"col-span-2\">\n                      <span className=\"text-slate-600 font-semibold\">Account Name:</span>\n                      <p className=\"font-bold text-slate-900\">{company.bank_account_name}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            <div className=\"bg-slate-50 border border-slate-200 rounded p-3 text-xs text-slate-600\">\n              <p className=\"font-semibold mb-1\">Important Information:</p>\n              <ul className=\"list-disc list-inside space-y-1\">\n                <li>This is a computer-generated e-invoice and does not require a signature</li>\n                <li>This invoice has been submitted to MyInvois portal in compliance with Malaysian Digital Economy regulations</li>\n                <li>Payment should be made to the bank account specified above</li>\n                <li>Please quote the invoice number in your payment reference</li>\n                <li>For any queries, please contact us at {company.email} or {company.phone}</li>\n              </ul>\n            </div>\n          </div>\n\n          <div className=\"mt-6 pt-4 border-t border-slate-300 text-center\">\n            <p className=\"text-xs text-slate-500 mb-1\">This E-Invoice is MyInvois Compliant</p>\n            <p className=\"text-xs text-slate-500\">Generated on: {new Date().toLocaleString('en-MY')}</p>\n          </div>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        @media print {\n          body * {\n            visibility: hidden;\n          }\n          #invoice-content,\n          #invoice-content * {\n            visibility: visible;\n          }\n          #invoice-content {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n          }\n          @page {\n            size: A4;\n            margin: 15mm;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nfunction numberToWords(num: number): string {\n  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\n  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\n  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n\n  if (num === 0) return 'Zero';\n\n  const numStr = num.toFixed(2);\n  const [intPart, decPart] = numStr.split('.');\n  const intNum = parseInt(intPart);\n\n  let words = '';\n\n  if (intNum >= 1000000) {\n    words += ones[Math.floor(intNum / 1000000)] + ' Million ';\n    const remainder = intNum % 1000000;\n    if (remainder > 0) {\n      words += convertThousands(remainder);\n    }\n  } else {\n    words = convertThousands(intNum);\n  }\n\n  if (parseInt(decPart) > 0) {\n    words += ` and ${decPart}/100`;\n  }\n\n  return words.trim();\n}\n\nfunction convertThousands(num: number): string {\n  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\n  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\n  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n\n  let words = '';\n\n  if (num >= 1000) {\n    const thousands = Math.floor(num / 1000);\n    words += convertHundreds(thousands) + ' Thousand ';\n    num %= 1000;\n  }\n\n  if (num > 0) {\n    words += convertHundreds(num);\n  }\n\n  return words;\n}\n\nfunction convertHundreds(num: number): string {\n  const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];\n  const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];\n  const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];\n\n  let words = '';\n\n  if (num >= 100) {\n    words += ones[Math.floor(num / 100)] + ' Hundred ';\n    num %= 100;\n  }\n\n  if (num >= 20) {\n    words += tens[Math.floor(num / 10)] + ' ';\n    num %= 10;\n  } else if (num >= 10) {\n    words += teens[num - 10] + ' ';\n    return words;\n  }\n\n  if (num > 0) {\n    words += ones[num] + ' ';\n  }\n\n  return words;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3199, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Billing.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  CreditCard, \n  Download, \n  DollarSign, \n  TrendingUp, \n  Calendar, \n  Plus, \n  X, \n  FileText, \n  History, \n  PieChart, \n  ArrowUpRight, \n  ArrowDownRight,\n  Filter,\n  Search,\n  Bell,\n  Wallet,\n  Settings as SettingsIcon,\n  ChevronRight,\n  Clock,\n  CheckCircle2,\n  AlertCircle\n} from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\nimport MalaysianInvoiceViewer from './MalaysianInvoiceViewer';\n\ninterface Transaction {\n  id: string;\n  date: string;\n  description: string;\n  amount: number;\n  status: 'paid' | 'pending' | 'failed';\n  type: 'topup' | 'usage' | 'subscription' | 'refund';\n  channel?: string;\n}\n\ninterface PaymentMethod {\n  id: string;\n  card_type: string;\n  last_four: string;\n  expiry_month: string;\n  expiry_year: string;\n  cardholder_name: string;\n  is_primary: boolean;\n}\n\ninterface UsageStat {\n  channel: string;\n  amount: number;\n  percentage: number;\n  color: string;\n}\n\ntype BillingTab = 'overview' | 'invoices' | 'payments' | 'history';\n\nexport default function Billing() {\n  const { user, profile } = useAuth();\n  const [activeTab, setActiveTab] = useState<BillingTab>('overview');\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [showTopUpModal, setShowTopUpModal] = useState(false);\n  const [topUpAmount, setTopUpAmount] = useState('');\n  const [paymentModalMode, setPaymentModalMode] = useState<'add' | 'update'>('add');\n  const [cardNumber, setCardNumber] = useState('');\n  const [cardName, setCardName] = useState('');\n  const [expiryDate, setExpiryDate] = useState('');\n  const [cvv, setCvv] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [paymentMethods, setPaymentMethods] = useState<PaymentMethod[]>([]);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState<string | null>(null);\n  const [processingTopUp, setProcessingTopUp] = useState(false);\n  const [selectedInvoiceId, setSelectedInvoiceId] = useState<string | null>(null);\n  const [generatingInvoice, setGeneratingInvoice] = useState<string | null>(null);\n  const [autoTopUp, setAutoTopUp] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    if (user) {\n      loadTransactions();\n      loadPaymentMethods();\n    }\n  }, [user]);\n\n  const loadTransactions = async () => {\n    const { data, error } = await db\n      .from('transactions')\n      .select('*')\n      .order('created_at', { ascending: false })\n      .limit(20);\n\n    if (!error && data) {\n      const formattedTransactions = data.map((t: any) => ({\n        id: t.id,\n        date: t.created_at,\n        description: t.description,\n        amount: Math.abs(Number(t.amount)),\n        status: 'paid' as const,\n        type: t.type || 'usage',\n        channel: t.channel\n      }));\n      setTransactions(formattedTransactions);\n    }\n    setLoading(false);\n  };\n\n  const loadPaymentMethods = async () => {\n    const { data, error } = await db\n      .from('payment_methods')\n      .select('*')\n      .order('is_primary', { ascending: false });\n\n    if (!error && data) {\n      setPaymentMethods(data);\n      const primary = data.find((pm: PaymentMethod) => pm.is_primary);\n      if (primary) {\n        setSelectedPaymentMethod(primary.id);\n      }\n    }\n  };\n\n  const mockTransactions: Transaction[] = [\n    { id: '1', date: '2024-12-20', description: 'SMS API Campaign - Year End Sale', amount: 10890.00, status: 'paid', type: 'usage', channel: 'SMS' },\n    { id: '2', date: '2024-12-18', description: 'WhatsApp Business API Usage', amount: 8402.50, status: 'paid', type: 'usage', channel: 'WhatsApp' },\n    { id: '3', date: '2024-12-15', description: 'AI Voice Agent - Customer Support', amount: 3001.25, status: 'paid', type: 'usage', channel: 'Voice AI' },\n    { id: '4', date: '2024-12-10', description: 'RCS Messaging Campaign', amount: 5555.00, status: 'paid', type: 'usage', channel: 'RCS' },\n    { id: '5', date: '2024-12-05', description: 'Account Top-up (Manual)', amount: 20000.00, status: 'paid', type: 'topup' },\n    { id: '6', date: '2024-11-28', description: 'Monthly Platform Subscription', amount: 999.00, status: 'paid', type: 'subscription' },\n    { id: '7', date: '2024-11-25', description: 'Email Marketing Credits', amount: 1550.00, status: 'paid', type: 'usage', channel: 'Email' },\n    { id: '8', date: '2024-11-20', description: 'Chatbot AI Training Usage', amount: 4200.00, status: 'paid', type: 'usage', channel: 'Chatbot' }\n  ];\n\n  const usageStats: UsageStat[] = [\n    { channel: 'WhatsApp', amount: 12450.00, percentage: 45, color: '#39FF14' },\n    { channel: 'SMS API', amount: 8600.00, percentage: 30, color: '#32e012' },\n    { channel: 'AI Voice', amount: 5200.00, percentage: 15, color: '#2bad0f' },\n    { channel: 'Other', amount: 3240.00, percentage: 10, color: '#218a0c' }\n  ];\n\n  const displayTransactions = transactions.length > 5 ? transactions : mockTransactions;\n  const filteredTransactions = displayTransactions.filter(t => \n    t.description.toLowerCase().includes(searchQuery.toLowerCase()) || \n    t.channel?.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const currentBalance = profile?.balance || 25420.50; // Use mock if DB is empty\n  const totalSpentThisMonth = usageStats.reduce((sum, s) => sum + s.amount, 0);\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'paid': return (\n        <span className=\"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-[#39FF14]/10 text-[#39FF14] border border-[#39FF14]/20\">\n          <CheckCircle2 className=\"w-3 h-3\" /> COMPLETED\n        </span>\n      );\n      case 'pending': return (\n        <span className=\"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-orange-500/10 text-orange-400 border border-orange-500/20\">\n          <Clock className=\"w-3 h-3\" /> PENDING\n        </span>\n      );\n      case 'failed': return (\n        <span className=\"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-red-500/10 text-red-400 border border-red-500/20\">\n          <AlertCircle className=\"w-3 h-3\" /> FAILED\n        </span>\n      );\n      default: return null;\n    }\n  };\n\n  const getTypeIcon = (type: string) => {\n    switch (type) {\n      case 'topup': return <ArrowDownRight className=\"w-4 h-4 text-[#39FF14]\" />;\n      case 'usage': return <ArrowUpRight className=\"w-4 h-4 text-orange-400\" />;\n      case 'subscription': return <History className=\"w-4 h-4 text-cyan-400\" />;\n      default: return <FileText className=\"w-4 h-4 text-slate-400\" />;\n    }\n  };\n\n  const handleOpenPaymentModal = (mode: 'add' | 'update', paymentMethodId?: string) => {\n    setPaymentModalMode(mode);\n    if (mode === 'update' && paymentMethodId) {\n      const pm = paymentMethods.find(p => p.id === paymentMethodId);\n      if (pm) {\n        setCardNumber(`**** **** **** ${pm.last_four}`);\n        setCardName(pm.cardholder_name);\n        setExpiryDate(`${pm.expiry_month}/${pm.expiry_year}`);\n        setCvv('');\n        setSelectedPaymentMethod(paymentMethodId);\n      }\n    } else {\n      setCardNumber('');\n      setCardName('');\n      setExpiryDate('');\n      setCvv('');\n      setSelectedPaymentMethod(null);\n    }\n    setShowPaymentModal(true);\n  };\n\n  const handleClosePaymentModal = () => {\n    setShowPaymentModal(false);\n    setCardNumber('');\n    setCardName('');\n    setExpiryDate('');\n    setCvv('');\n    setSelectedPaymentMethod(null);\n  };\n\n  const getCardIcon = (type: string) => {\n    return <CreditCard className=\"w-6 h-6 text-[#39FF14]\" />;\n  };\n\n  const handleSubmitPaymentMethod = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const [month, year] = expiryDate.split('/');\n    const lastFour = cardNumber.replace(/\\s/g, '').slice(-4);\n    const cardType = cardNumber.startsWith('4') ? 'Visa' : 'Mastercard';\n\n    try {\n      if (paymentModalMode === 'update' && selectedPaymentMethod) {\n        const { error } = await db\n          .from('payment_methods')\n          .update({\n            card_type: cardType,\n            last_four: lastFour,\n            expiry_month: month,\n            expiry_year: year,\n            cardholder_name: cardName,\n            updated_at: new Date().toISOString()\n          })\n          .eq('id', selectedPaymentMethod);\n        if (error) throw error;\n      } else {\n        const { error } = await db\n          .from('payment_methods')\n          .insert({\n            user_id: user?.id,\n            card_type: cardType,\n            last_four: lastFour,\n            expiry_month: month,\n            expiry_year: year,\n            cardholder_name: cardName,\n            is_primary: paymentMethods.length === 0\n          });\n        if (error) throw error;\n      }\n      loadPaymentMethods();\n      handleClosePaymentModal();\n    } catch (err) {\n      console.error(err);\n      alert('Failed to save payment method');\n    }\n  };\n\n  const handleTopUp = async () => {\n    if (!topUpAmount || parseFloat(topUpAmount) <= 0 || !selectedPaymentMethod) return;\n    setProcessingTopUp(true);\n    try {\n      const amount = parseFloat(topUpAmount);\n      const { error } = await db\n        .from('transactions')\n        .insert({\n          user_id: user?.id,\n          type: 'topup',\n          amount: amount,\n          description: `Account Top-up - RM ${amount.toFixed(2)}`,\n          status: 'completed'\n        });\n      if (error) throw error;\n      alert(`Successfully topped up RM ${amount.toFixed(2)}!`);\n      setShowTopUpModal(false);\n      setTopUpAmount('');\n      loadTransactions();\n    } catch (err) {\n      console.error(err);\n      alert('Failed to process top-up');\n    } finally {\n      setProcessingTopUp(false);\n    }\n  };\n\n  const handleViewInvoice = async (transactionId: string) => {\n    setGeneratingInvoice(transactionId);\n    // Simple mock for now, real logic involves MalaysianInvoiceViewer\n    setTimeout(() => {\n      setSelectedInvoiceId(transactionId);\n      setGeneratingInvoice(null);\n    }, 1000);\n  };\n\n  const renderOverview = () => (\n    <div className=\"space-y-8 animate-in fade-in duration-500\">\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 group hover:border-[#39FF14]/40 transition-all\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"bg-[#39FF14]/10 p-2.5 rounded-xl group-hover:scale-110 transition-transform\">\n              <Wallet className=\"w-5 h-5 text-[#39FF14]\" />\n            </div>\n            <TrendingUp className=\"w-4 h-4 text-[#39FF14] opacity-50\" />\n          </div>\n          <p className=\"text-slate-400 text-sm font-medium mb-1\">Available Credits</p>\n          <p className=\"text-3xl font-bold text-white tracking-tight\">RM {currentBalance.toLocaleString(undefined, { minimumFractionDigits: 2 })}</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 group hover:border-[#39FF14]/40 transition-all\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"bg-[#39FF14]/10 p-2.5 rounded-xl group-hover:scale-110 transition-transform\">\n              <ArrowUpRight className=\"w-5 h-5 text-[#39FF14]\" />\n            </div>\n            <TrendingUp className=\"w-4 h-4 text-[#39FF14] opacity-50\" />\n          </div>\n          <p className=\"text-slate-400 text-sm font-medium mb-1\">Spent This Month</p>\n          <p className=\"text-3xl font-bold text-white tracking-tight\">RM {totalSpentThisMonth.toLocaleString(undefined, { minimumFractionDigits: 2 })}</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 group hover:border-[#39FF14]/40 transition-all\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"bg-[#39FF14]/10 p-2.5 rounded-xl group-hover:scale-110 transition-transform\">\n              <History className=\"w-5 h-5 text-[#39FF14]\" />\n            </div>\n          </div>\n          <p className=\"text-slate-400 text-sm font-medium mb-1\">Last Invoice</p>\n          <p className=\"text-3xl font-bold text-white tracking-tight\">RM 4,200.00</p>\n          <p className=\"text-[10px] text-[#39FF14] mt-2 font-mono\">INV-2024-0012</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-[#024d30]/40 to-[#013221]/40 backdrop-blur-sm border border-[#39FF14]/20 rounded-2xl p-6 shadow-lg shadow-black/20 flex flex-col justify-center items-center\">\n          <button\n            onClick={() => setShowTopUpModal(true)}\n            className=\"w-full h-full bg-[#39FF14] hover:bg-[#32e012] text-black font-bold py-4 px-6 rounded-xl flex items-center justify-center gap-3 shadow-[0_0_20px_rgba(57,255,20,0.2)] hover:shadow-[0_0_30px_rgba(57,255,20,0.4)] transition-all\"\n          >\n            <Plus className=\"w-6 h-6 stroke-[3]\" />\n            <span className=\"text-xl\">TOP UP</span>\n          </button>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        <div className=\"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-8 backdrop-blur-md\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h3 className=\"text-xl font-bold text-white flex items-center gap-2\">\n              <PieChart className=\"w-5 h-5 text-[#39FF14]\" />\n              Usage by Channel\n            </h3>\n            <select className=\"bg-[#024d30] border border-[#39FF14]/20 text-white rounded-lg px-3 py-1.5 text-xs focus:outline-none focus:border-[#39FF14]\">\n              <option>Current Month</option>\n              <option>Last Month</option>\n              <option>Last 3 Months</option>\n            </select>\n          </div>\n          <div className=\"space-y-6\">\n            {usageStats.map((stat, i) => (\n              <div key={i} className=\"space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-slate-300 font-medium\">{stat.channel}</span>\n                  <span className=\"text-[#39FF14] font-bold\">RM {stat.amount.toLocaleString()} ({stat.percentage}%)</span>\n                </div>\n                <div className=\"h-2 w-full bg-[#013221] rounded-full overflow-hidden\">\n                  <div \n                    className=\"h-full rounded-full transition-all duration-1000\" \n                    style={{ \n                      width: `${stat.percentage}%`, \n                      backgroundColor: stat.color,\n                      boxShadow: `0 0 10px ${stat.color}80`\n                    }}\n                  ></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-8 backdrop-blur-md\">\n          <h3 className=\"text-xl font-bold text-white flex items-center gap-2 mb-8\">\n            <Bell className=\"w-5 h-5 text-[#39FF14]\" />\n            Quick Actions & Alerts\n          </h3>\n          <div className=\"space-y-4\">\n            <div className=\"bg-orange-500/10 border border-orange-500/20 p-4 rounded-xl flex items-start gap-4\">\n              <div className=\"p-2 bg-orange-500/20 rounded-lg\">\n                <AlertCircle className=\"w-5 h-5 text-orange-400\" />\n              </div>\n              <div>\n                <p className=\"text-white font-bold text-sm\">Low Balance Threshold</p>\n                <p className=\"text-slate-400 text-xs mt-1\">Your balance is below RM 5,000. Consider topping up to prevent service interruptions.</p>\n                <button className=\"text-orange-400 text-[10px] font-bold mt-2 uppercase tracking-wider hover:underline\">Settings</button>\n              </div>\n            </div>\n\n            <div className=\"bg-[#39FF14]/10 border border-[#39FF14]/20 p-4 rounded-xl flex items-start gap-4\">\n              <div className=\"p-2 bg-[#39FF14]/20 rounded-lg\">\n                <SettingsIcon className=\"w-5 h-5 text-[#39FF14]\" />\n              </div>\n              <div className=\"flex-1\">\n                <p className=\"text-white font-bold text-sm\">Auto Top-Up</p>\n                <p className=\"text-slate-400 text-xs mt-1\">Automatically charge RM 1,000 when balance falls below RM 500.</p>\n                <div className=\"flex items-center gap-3 mt-3\">\n                   <button \n                    onClick={() => setAutoTopUp(!autoTopUp)}\n                    className={`relative w-10 h-5 rounded-full transition-colors ${autoTopUp ? 'bg-[#39FF14]' : 'bg-slate-700'}`}\n                   >\n                    <div className={`absolute top-1 w-3 h-3 rounded-full bg-white transition-all ${autoTopUp ? 'left-6' : 'left-1'}`}></div>\n                   </button>\n                   <span className=\"text-[10px] text-slate-300 font-bold uppercase tracking-wider\">{autoTopUp ? 'ACTIVE' : 'INACTIVE'}</span>\n                </div>\n              </div>\n            </div>\n            \n            <button className=\"w-full py-4 border-2 border-dashed border-[#024d30] rounded-xl text-slate-500 text-sm font-bold hover:border-[#39FF14]/30 hover:text-[#39FF14] transition-all flex items-center justify-center gap-2\">\n              <Plus className=\"w-4 h-4\" />\n              ADD BILLING RECIPIENT\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderInvoices = () => (\n    <div className=\"bg-[#012419]/60 border border-[#024d30] rounded-2xl overflow-hidden animate-in slide-in-from-bottom-4 duration-500\">\n      <div className=\"p-6 border-b border-[#024d30] bg-[#024d30]/20 flex items-center justify-between\">\n        <h3 className=\"text-lg font-bold text-white\">Invoice Records</h3>\n        <div className=\"flex items-center gap-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500\" />\n            <input \n              type=\"text\" \n              placeholder=\"Search invoices...\" \n              className=\"bg-[#013221] border border-[#024d30] rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:outline-none focus:border-[#39FF14] w-64\"\n            />\n          </div>\n          <button className=\"p-2 bg-[#024d30] border border-[#39FF14]/20 rounded-lg text-white hover:bg-[#39FF14]/20 transition-colors\">\n            <Filter className=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"bg-[#013221]/30\">\n              <th className=\"text-left py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider\">Invoice ID</th>\n              <th className=\"text-left py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider\">Date</th>\n              <th className=\"text-left py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider\">Due Date</th>\n              <th className=\"text-right py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider\">Amount</th>\n              <th className=\"text-center py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider\">Status</th>\n              <th className=\"text-right py-4 px-6 text-slate-400 font-bold text-[10px] uppercase tracking-wider\">Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {[...Array(5)].map((_, i) => (\n              <tr key={i} className=\"border-b border-[#024d30] hover:bg-[#39FF14]/5 transition-colors group\">\n                <td className=\"py-4 px-6 font-mono text-xs text-[#39FF14]\">INV-2024-{(12 - i).toString().padStart(4, '0')}</td>\n                <td className=\"py-4 px-6 text-slate-400 text-sm\">Dec {20 - i}, 2024</td>\n                <td className=\"py-4 px-6 text-slate-400 text-sm\">Jan {19 - i}, 2025</td>\n                <td className=\"py-4 px-6 text-right text-white font-bold\">RM {(5000 + i * 1200).toLocaleString()}</td>\n                <td className=\"py-4 px-6 text-center\">\n                  <span className=\"px-2 py-0.5 rounded-full bg-[#39FF14]/10 text-[#39FF14] text-[10px] font-bold border border-[#39FF14]/20\">PAID</span>\n                </td>\n                <td className=\"py-4 px-6 text-right\">\n                  <button className=\"p-2 bg-[#024d30] border border-[#39FF14]/20 rounded-lg text-white group-hover:bg-[#39FF14] group-hover:text-black transition-all\">\n                    <Download className=\"w-4 h-4\" />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  const renderPayments = () => (\n    <div className=\"space-y-8 animate-in slide-in-from-bottom-4 duration-500\">\n      <div className=\"bg-[#012419]/60 border border-[#024d30] rounded-2xl p-8 backdrop-blur-md\">\n        <div className=\"flex items-center justify-between mb-8\">\n          <div>\n            <h3 className=\"text-xl font-bold text-white mb-1\">Stored Payment Methods</h3>\n            <p className=\"text-slate-400 text-sm\">Manage cards and bank accounts for automatic billing</p>\n          </div>\n          <button\n            onClick={() => handleOpenPaymentModal('add')}\n            className=\"bg-[#39FF14] hover:bg-[#32e012] text-black px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-[#39FF14]/10 flex items-center gap-2\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            ADD METHOD\n          </button>\n        </div>\n\n        {paymentMethods.length === 0 ? (\n          <div className=\"border-2 border-dashed border-[#024d30] rounded-2xl py-20 text-center\">\n            <CreditCard className=\"w-16 h-16 text-slate-700 mx-auto mb-4\" />\n            <h4 className=\"text-white font-bold text-lg mb-2\">No payment methods found</h4>\n            <p className=\"text-slate-500 max-w-sm mx-auto mb-8\">Securely add your primary payment method to ensure continuous service for your API channels.</p>\n            <button \n              onClick={() => handleOpenPaymentModal('add')}\n              className=\"text-[#39FF14] font-bold border-b-2 border-transparent hover:border-[#39FF14] transition-all\"\n            >\n              Add your first card\n            </button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {paymentMethods.map((pm) => (\n              <div key={pm.id} className=\"relative bg-gradient-to-br from-[#024d30] to-[#013221] border border-[#39FF14]/30 rounded-2xl p-6 group hover:border-[#39FF14] transition-all overflow-hidden\">\n                <div className=\"absolute top-0 right-0 w-32 h-32 bg-[#39FF14]/5 rounded-full blur-3xl -mr-16 -mt-16\"></div>\n                <div className=\"flex items-start justify-between relative z-10\">\n                  <div className=\"space-y-4\">\n                    <div className=\"bg-[#012419] w-12 h-8 rounded border border-[#024d30] flex items-center justify-center\">\n                      <div className=\"w-4 h-4 rounded-full bg-orange-500 opacity-80 shadow-[6px_0_0_rgb(234,179,8,0.8)]\"></div>\n                    </div>\n                    <div>\n                      <p className=\"text-white font-mono text-lg tracking-widest group-hover:tracking-[0.25em] transition-all\">   {pm.last_four}</p>\n                      <p className=\"text-slate-400 text-xs font-medium uppercase mt-2 tracking-widest\">{pm.cardholder_name}</p>\n                    </div>\n                    <div className=\"flex gap-6\">\n                      <div>\n                        <p className=\"text-slate-500 text-[8px] uppercase font-bold tracking-tighter\">Expires</p>\n                        <p className=\"text-white text-sm font-bold font-mono\">{pm.expiry_month}/{pm.expiry_year}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-slate-500 text-[8px] uppercase font-bold tracking-tighter\">Type</p>\n                        <p className=\"text-white text-sm font-bold\">{pm.card_type}</p>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex flex-col items-end gap-2\">\n                    {pm.is_primary && (\n                      <span className=\"px-2 py-0.5 bg-[#39FF14] text-black text-[8px] font-black rounded flex items-center gap-1 shadow-[0_0_10px_rgba(57,255,20,0.3)]\">\n                        <CheckCircle2 className=\"w-2.5 h-2.5\" /> PRIMARY\n                      </span>\n                    )}\n                    <div className=\"flex gap-1 mt-auto\">\n                      <button \n                         onClick={() => handleOpenPaymentModal('update', pm.id)}\n                        className=\"p-2 bg-[#012419] border border-[#024d30] rounded-lg text-slate-400 hover:text-[#39FF14] hover:border-[#39FF14]/50 transition-all\"\n                      >\n                        <SettingsIcon className=\"w-4 h-4\" />\n                      </button>\n                      <button className=\"p-2 bg-[#012419] border border-[#024d30] rounded-lg text-slate-400 hover:text-red-500 hover:border-red-500/50 transition-all\">\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  const renderHistory = () => (\n    <div className=\"bg-[#012419]/60 border border-[#024d30] rounded-2xl overflow-hidden animate-in fade-in duration-500\">\n      <div className=\"p-6 border-b border-[#024d30] bg-[#024d30]/20 flex flex-col md:flex-row md:items-center justify-between gap-4\">\n        <div>\n          <h3 className=\"text-lg font-bold text-white\">Advanced History</h3>\n          <p className=\"text-slate-400 text-xs\">Full transparency of your account transactions</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500\" />\n            <input \n              type=\"text\" \n              placeholder=\"Filter transactions...\" \n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"bg-[#013221] border border-[#024d30] rounded-xl pl-9 pr-4 py-2.5 text-sm text-white focus:outline-none focus:border-[#39FF14] w-full md:w-64 shadow-inner\"\n            />\n          </div>\n          <button className=\"flex items-center gap-2 px-4 py-2.5 bg-[#024d30] border border-[#39FF14]/20 rounded-xl text-white font-bold text-xs hover:bg-[#39FF14]/10 transition-all\">\n            <Download className=\"w-4 h-4\" />\n            EXPORT PDF\n          </button>\n        </div>\n      </div>\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"bg-[#013221]/50\">\n              <th className=\"text-left py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]\">Activity</th>\n              <th className=\"text-left py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]\">Description</th>\n              <th className=\"text-left py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]\">Channel</th>\n              <th className=\"text-right py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]\">Amount</th>\n              <th className=\"text-center py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]\">Status</th>\n              <th className=\"text-right py-4 px-6 text-slate-400 font-black text-[10px] uppercase tracking-[0.2em]\">Transaction ID</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-[#024d30]/50\">\n            {filteredTransactions.map((t) => (\n              <tr key={t.id} className=\"hover:bg-[#39FF14]/5 transition-all group\">\n                <td className=\"py-5 px-6\">\n                  <div className=\"w-10 h-10 rounded-xl bg-[#013221] flex items-center justify-center border border-[#024d30] group-hover:border-[#39FF14]/30 transition-all\">\n                    {getTypeIcon(t.type)}\n                  </div>\n                </td>\n                <td className=\"py-5 px-6\">\n                  <div className=\"space-y-0.5\">\n                    <p className=\"text-white font-bold text-sm group-hover:text-[#39FF14] transition-colors\">{t.description}</p>\n                    <p className=\"text-slate-500 text-[10px] flex items-center gap-1.5 uppercase tracking-wider font-bold\">\n                      <Calendar className=\"w-3 h-3\" />\n                      {new Date(t.date).toLocaleDateString('en-US', { day: '2-digit', month: 'short', year: 'numeric' })}\n                    </p>\n                  </div>\n                </td>\n                <td className=\"py-5 px-6\">\n                  {t.channel ? (\n                    <span className=\"px-2 py-0.5 rounded bg-slate-800 text-slate-400 text-[10px] font-black uppercase tracking-widest\">{t.channel}</span>\n                  ) : (\n                    <span className=\"text-slate-600 text-[10px] font-black italic\">---</span>\n                  )}\n                </td>\n                <td className=\"py-5 px-6 text-right\">\n                  <p className={`text-sm font-black ${t.type === 'topup' ? 'text-[#39FF14]' : 'text-white'}`}>\n                    {t.type === 'topup' ? '+' : '-'} RM {t.amount.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n                  </p>\n                </td>\n                <td className=\"py-5 px-6\">\n                   <div className=\"flex justify-center\">\n                    {getStatusBadge(t.status)}\n                   </div>\n                </td>\n                <td className=\"py-5 px-6 text-right font-mono text-[10px] text-slate-500 group-hover:text-slate-400 transition-colors uppercase\">\n                  TRX-{t.id.slice(0, 8)}...\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n\n  // Re-use current modal structure but within the new container logic\n  const renderModals = () => (\n    <>\n      {showPaymentModal && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 font-sans animate-in fade-in zoom-in-95 duration-200\">\n          <div className=\"bg-[#012419] border border-[#39FF14]/30 rounded-3xl p-8 max-w-md w-full shadow-[0_0_50px_rgba(0,0,0,0.5)]\">\n            <div className=\"flex items-center justify-between mb-8\">\n              <h2 className=\"text-2xl font-black text-white tracking-tight\">\n                {paymentModalMode === 'add' ? 'ADD NEW CARD' : 'UPDATE METHOD'}\n              </h2>\n              <button\n                onClick={handleClosePaymentModal}\n                className=\"w-10 h-10 flex items-center justify-center bg-[#013221] rounded-full text-slate-400 hover:text-white hover:bg-red-500/20 hover:text-red-500 transition-all border border-[#024d30]\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmitPaymentMethod} className=\"space-y-6\">\n              <div className=\"space-y-2\">\n                <label className=\"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">Card Number</label>\n                <div className=\"relative\">\n                  <CreditCard className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500\" />\n                  <input\n                    type=\"text\"\n                    value={cardNumber}\n                    onChange={(e) => setCardNumber(e.target.value)}\n                    placeholder=\"0000 0000 0000 0000\"\n                    required\n                    className=\"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-4 text-white font-mono placeholder-slate-700 focus:outline-none focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 transition-all shadow-inner\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <label className=\"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">Cardholder Name</label>\n                <div className=\"relative\">\n                  <User size={20} className=\"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500\" />\n                  <input\n                    type=\"text\"\n                    value={cardName}\n                    onChange={(e) => setCardName(e.target.value)}\n                    placeholder=\"AS WRITTEN ON CARD\"\n                    required\n                    className=\"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-4 text-white font-bold uppercase placeholder-slate-700 focus:outline-none focus:border-[#39FF14] focus:ring-1 focus:ring-[#39FF14]/30 transition-all shadow-inner\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <label className=\"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">Expiry Date</label>\n                  <input\n                    type=\"text\"\n                    value={expiryDate}\n                    onChange={(e) => setExpiryDate(e.target.value)}\n                    placeholder=\"MM/YY\"\n                    required\n                    className=\"w-full bg-[#013221] border border-[#024d30] rounded-2xl px-4 py-4 text-white font-mono placeholder-slate-700 focus:outline-none focus:border-[#39FF14] text-center\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <label className=\"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">CVC / CVV</label>\n                  <input\n                    type=\"password\"\n                    value={cvv}\n                    onChange={(e) => setCvv(e.target.value)}\n                    placeholder=\"\"\n                    required\n                    maxLength={4}\n                    className=\"w-full bg-[#013221] border border-[#024d30] rounded-2xl px-4 py-4 text-white font-mono placeholder-slate-700 focus:outline-none focus:border-[#39FF14] text-center tracking-[0.5em]\"\n                  />\n                </div>\n              </div>\n\n              <button\n                type=\"submit\"\n                className=\"w-full bg-[#39FF14] hover:bg-[#32e012] text-black font-black py-4 rounded-2xl shadow-lg shadow-[#39FF14]/20 hover:scale-[1.02] active:scale-95 transition-all text-sm uppercase tracking-widest mt-4\"\n              >\n                {paymentModalMode === 'add' ? 'INITIALIZE CARD' : 'AUTHORIZE UPDATES'}\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {showTopUpModal && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in zoom-in-95 duration-200\">\n          <div className=\"bg-[#012419] border border-[#39FF14]/30 rounded-3xl p-8 max-w-md w-full shadow-[0_0_50px_rgba(0,0,0,0.5)]\">\n            <div className=\"flex items-center justify-between mb-8\">\n              <h2 className=\"text-2xl font-black text-white tracking-tight\">TOP UP CREDITS</h2>\n              <button\n                onClick={() => setShowTopUpModal(false)}\n                className=\"w-10 h-10 flex items-center justify-center bg-[#013221] rounded-full text-slate-400 hover:text-white transition-all border border-[#024d30]\"\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div className=\"space-y-2\">\n                <label className=\"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">Select Amount (RM)</label>\n                <div className=\"relative\">\n                  <DollarSign className=\"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-[#39FF14]\" />\n                  <input\n                    type=\"number\"\n                    value={topUpAmount}\n                    onChange={(e) => setTopUpAmount(e.target.value)}\n                    placeholder=\"0.00\"\n                    className=\"w-full bg-[#013221] border border-[#024d30] rounded-2xl pl-12 pr-4 py-6 text-3xl font-black text-white placeholder-slate-800 focus:outline-none focus:border-[#39FF14] shadow-inner\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-4 gap-2\">\n                {[500, 1000, 5000, 10000].map((amt) => (\n                  <button\n                    key={amt}\n                    onClick={() => setTopUpAmount(amt.toString())}\n                    className=\"py-3 bg-[#013221] border border-[#024d30] rounded-xl text-slate-400 font-bold text-xs hover:border-[#39FF14] hover:text-[#39FF14] transition-all\"\n                  >\n                    +{amt}\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"space-y-3\">\n                 <label className=\"block text-[10px] font-black text-slate-500 uppercase tracking-widest ml-1\">Payment Source</label>\n                 {paymentMethods.length === 0 ? (\n                    <div className=\"p-4 bg-slate-900/50 border border-dashed border-[#024d30] rounded-2xl text-center\">\n                        <p className=\"text-slate-500 text-xs mb-3\">No cards found</p>\n                        <button onClick={() => { setShowTopUpModal(false); setShowPaymentModal(true); }} className=\"text-[#39FF14] text-xs font-black uppercase tracking-widest\">Connect Card</button>\n                    </div>\n                 ) : (\n                    <div className=\"space-y-2\">\n                        {paymentMethods.map(pm => (\n                            <button \n                                key={pm.id}\n                                onClick={() => setSelectedPaymentMethod(pm.id)}\n                                className={`w-full flex items-center justify-between p-4 rounded-2xl border transition-all ${selectedPaymentMethod === pm.id ? 'bg-[#39FF14]/10 border-[#39FF14]' : 'bg-[#013221] border-[#024d30] text-slate-400 opacity-60'}`}\n                            >\n                                <div className=\"flex items-center gap-3\">\n                                    <CreditCard className=\"w-5 h-5 text-[#39FF14]\" />\n                                    <span className=\"font-mono text-sm tracking-widest\"> {pm.last_four}</span>\n                                </div>\n                                <div className={`w-4 h-4 rounded-full border-2 flex items-center justify-center ${selectedPaymentMethod === pm.id ? 'border-[#39FF14]' : 'border-slate-700'}`}>\n                                    {selectedPaymentMethod === pm.id && <div className=\"w-2 h-2 rounded-full bg-[#39FF14]\"></div>}\n                                </div>\n                            </button>\n                        ))}\n                    </div>\n                 )}\n              </div>\n\n              <button\n                onClick={handleTopUp}\n                disabled={processingTopUp || !topUpAmount}\n                className=\"w-full bg-[#39FF14] hover:bg-[#32e012] text-black font-black py-5 rounded-2xl shadow-xl shadow-[#39FF14]/10 disabled:opacity-50 disabled:grayscale transition-all text-md uppercase tracking-widest\"\n              >\n                {processingTopUp ? 'VERIFYING TRANSACTION...' : 'AUTHORIZE TRANSACTION'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-[#012419] p-8 font-sans selection:bg-[#39FF14] selection:text-black\">\n      <div className=\"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6\">\n        <div>\n          <div className=\"flex items-center gap-3 mb-3\">\n             <span className=\"px-3 py-1 bg-[#39FF14]/10 text-[#39FF14] rounded-full text-[10px] font-black uppercase tracking-[0.2em] border border-[#39FF14]/20 animate-pulse\">Live Environment</span>\n          </div>\n          <h1 className=\"text-6xl font-black text-white mb-4 tracking-tighter\">\n            Billing & <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-[#39FF14] to-cyan-400\">Payments</span>\n          </h1>\n          <p className=\"text-slate-400 text-lg max-w-2xl font-medium leading-relaxed\">\n            Consolidated financial management for your global communication infrastructure. Monitor real-time usage, manage secure payment assets, and access tax-compliant invoicing.\n          </p>\n        </div>\n        <div className=\"flex items-center gap-2 p-1 bg-[#013221] rounded-2xl border border-[#024d30] shadow-inner\">\n           {(['overview', 'invoices', 'payments', 'history'] as const).map((tab) => (\n             <button\n               key={tab}\n               onClick={() => setActiveTab(tab)}\n               className={`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${\n                 activeTab === tab \n                   ? 'bg-[#39FF14] text-black shadow-lg shadow-[#39FF14]/10' \n                   : 'text-slate-500 hover:text-white'\n               }`}\n             >\n               {tab}\n             </button>\n           ))}\n        </div>\n      </div>\n\n      <div className=\"pb-16\">\n        {activeTab === 'overview' && renderOverview()}\n        {activeTab === 'invoices' && renderInvoices()}\n        {activeTab === 'payments' && renderPayments()}\n        {activeTab === 'history' && renderHistory()}\n      </div>\n\n      {renderModals()}\n\n      {selectedInvoiceId && (\n        <MalaysianInvoiceViewer\n          invoiceId={selectedInvoiceId}\n          onClose={() => setSelectedInvoiceId(null)}\n        />\n      )}\n    </div>\n  );\n}\n\n// Minimal placeholder for User icon since it wasn't in the initial imports\nfunction User({ size, className }: { size?: number, className?: string }) {\n  return (\n    <svg \n      width={size || 24} \n      height={size || 24} \n      viewBox=\"0 0 24 24\" \n      fill=\"none\" \n      stroke=\"currentColor\" \n      strokeWidth=\"2\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\" \n      className={className}\n    >\n      <path d=\"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\" />\n      <circle cx=\"12\" cy=\"7\" r=\"4\" />\n    </svg>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5674, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Reports.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BarChart3, Download, TrendingUp, MessageSquare, Users, DollarSign, FileDown, Package, X, AlertCircle, CheckCircle, Clock, Send, Eye, MousePointerClick, CreditCard } from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\n\ninterface Product {\n  id: string;\n  sku: string;\n  name: string;\n  category: string;\n}\n\ninterface SMSMessage {\n  mobile: string;\n  message: string;\n  smsLength: number;\n  status: string;\n  errorCode: string;\n  errorDesc: string;\n  senderId: string;\n  routeType: string;\n  sendingTime: string;\n  deliveryTime: string;\n}\n\ninterface RCSMessage {\n  mobile: string;\n  message: string;\n  credits: number;\n  status: string;\n  errorCode: string;\n  ctaAction: string;\n  sendingTime: string;\n  deliveryTime: string;\n  readTime: string;\n}\n\ninterface WhatsAppMessage {\n  mobile: string;\n  message: string;\n  status: string;\n  messageType: string;\n  templateName: string;\n  sendingTime: string;\n  deliveryTime: string;\n  readTime: string;\n}\n\ninterface EmailMessage {\n  email: string;\n  subject: string;\n  status: string;\n  openCount: number;\n  clickCount: number;\n  sentTime: string;\n  openedTime: string;\n}\n\ninterface VoiceCall {\n  fromNumber: string;\n  toNumber: string;\n  duration: number;\n  status: string;\n  callType: string;\n  cost: number;\n  startTime: string;\n  endTime: string;\n}\n\ninterface VideoSession {\n  roomId: string;\n  participants: number;\n  duration: number;\n  status: string;\n  recording: boolean;\n  startTime: string;\n  endTime: string;\n}\n\nexport default function Reports() {\n  const { user } = useAuth();\n  const [dateRange, setDateRange] = useState('7days');\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<string>('all');\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [smsMessages, setSmsMessages] = useState<SMSMessage[]>([]);\n  const [rcsMessages, setRcsMessages] = useState<RCSMessage[]>([]);\n  const [whatsappMessages, setWhatsappMessages] = useState<WhatsAppMessage[]>([]);\n  const [emailMessages, setEmailMessages] = useState<EmailMessage[]>([]);\n  const [voiceCalls, setVoiceCalls] = useState<VoiceCall[]>([]);\n  const [videoSessions, setVideoSessions] = useState<VideoSession[]>([]);\n\n  const metrics = [\n    {\n      label: 'Messages Sent',\n      value: '1,124,800',\n      change: '+12.5%',\n      trend: 'up',\n      icon: MessageSquare,\n      color: 'blue'\n    },\n    {\n      label: 'Delivery Rate',\n      value: '97.8%',\n      change: '+2.3%',\n      trend: 'up',\n      icon: TrendingUp,\n      color: 'green'\n    },\n    {\n      label: 'Active Users',\n      value: '15,234',\n      change: '+8.1%',\n      trend: 'up',\n      icon: Users,\n      color: 'purple'\n    },\n    {\n      label: 'Revenue',\n      value: 'RM 110,560',\n      change: '+15.3%',\n      trend: 'up',\n      icon: DollarSign,\n      color: 'orange'\n    }\n  ];\n\n  const allPlatformStats = [\n    { name: 'SMS API', sku: 'SMS-001', messages: 480000, revenue: 106680, deliveryRate: 99.2, category: 'Messaging' },\n    { name: 'Whatsapp API', sku: 'WA-001', messages: 390000, revenue: 104010, deliveryRate: 98.8, category: 'Social' },\n    { name: 'RCS API', sku: 'RCS-001', messages: 156000, revenue: 55485, deliveryRate: 97.5, category: 'Messaging' },\n    { name: 'Email API', sku: 'EMAIL-001', messages: 78000, revenue: 3465, deliveryRate: 96.5, category: 'Messaging' },\n    { name: 'Voice API', sku: 'VOICE-001', messages: 18000, revenue: 12005, deliveryRate: 99.5, category: 'Voice' },\n    { name: 'Voice Bot', sku: 'VBOT-001', messages: 12000, revenue: 5988, deliveryRate: 97.8, category: 'Bot' },\n    { name: 'Video Bot', sku: 'VIDEO-001', messages: 2800, revenue: 3110, deliveryRate: 96.2, category: 'Video' }\n  ];\n\n  const platformStats = selectedProduct === 'all'\n    ? allPlatformStats\n    : allPlatformStats.filter(p => p.sku === selectedProduct);\n\n  useEffect(() => {\n    if (user) {\n      loadProducts();\n      if (selectedProduct === 'SMS-001') {\n        loadSMSMessages();\n      } else if (selectedProduct === 'RCS-001') {\n        loadRCSMessages();\n      } else if (selectedProduct === 'WA-001') {\n        loadWhatsAppMessages();\n      } else if (selectedProduct === 'EMAIL-001') {\n        loadEmailMessages();\n      } else if (selectedProduct === 'VOICE-001') {\n        loadVoiceCalls();\n      } else if (selectedProduct === 'VIDEO-001' || selectedProduct === 'VIDEO-API-001' || selectedProduct === 'VAPI-001') {\n        loadVideoSessions();\n      }\n    }\n  }, [user, selectedProduct]);\n\n  const loadProducts = async () => {\n    setLoading(true);\n    const { data, error } = await db\n      .from('products')\n      .select('id, sku, name, category')\n      .eq('status', 'active')\n      .order('name');\n\n    if (!error && data) {\n      setProducts(data);\n    }\n    setLoading(false);\n  };\n\n  const loadSMSMessages = async () => {\n    const { data, error } = await db\n      .from('sms_messages')\n      .select('*')\n      .order('sent_at', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      const messages: SMSMessage[] = data.map((msg: any) => ({\n        mobile: msg.to_number,\n        message: msg.message,\n        smsLength: msg.message.length,\n        status: msg.status,\n        errorCode: msg.error_code || '',\n        errorDesc: msg.error_description || '',\n        senderId: msg.sender_id || 'MAXIS',\n        routeType: msg.route_type || 'Promotional',\n        sendingTime: new Date(msg.sent_at).toLocaleString(),\n        deliveryTime: msg.delivered_at ? new Date(msg.delivered_at).toLocaleString() : '-'\n      }));\n      setSmsMessages(messages);\n    }\n  };\n\n  const loadRCSMessages = async () => {\n    const { data, error } = await db\n      .from('rcs_messages')\n      .select('*')\n      .order('sent_at', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      const messages: RCSMessage[] = data.map((msg: any) => ({\n        mobile: msg.phone_number,\n        message: msg.message,\n        credits: msg.credits || 0.5,\n        status: msg.status,\n        errorCode: msg.error_code || '',\n        ctaAction: msg.cta_action || '-',\n        sendingTime: msg.sent_at ? new Date(msg.sent_at).toLocaleString() : '-',\n        deliveryTime: msg.delivered_at ? new Date(msg.delivered_at).toLocaleString() : '-',\n        readTime: msg.read_at ? new Date(msg.read_at).toLocaleString() : '-'\n      }));\n      setRcsMessages(messages);\n    }\n  };\n\n  const loadWhatsAppMessages = async () => {\n    const { data, error } = await db\n      .from('whatsapp_messages')\n      .select('*')\n      .order('sent_at', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      const messages: WhatsAppMessage[] = data.map((msg: any) => ({\n        mobile: msg.phone_number,\n        message: msg.message_body || msg.message || '',\n        status: msg.status,\n        messageType: msg.message_type || 'text',\n        templateName: msg.template_name || '-',\n        sendingTime: msg.sent_at ? new Date(msg.sent_at).toLocaleString() : '-',\n        deliveryTime: msg.delivered_at ? new Date(msg.delivered_at).toLocaleString() : '-',\n        readTime: msg.read_at ? new Date(msg.read_at).toLocaleString() : '-'\n      }));\n      setWhatsappMessages(messages);\n    }\n  };\n\n  const loadEmailMessages = async () => {\n    const { data, error } = await db\n      .from('email_sends')\n      .select('*')\n      .order('sent_at', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      const messages: EmailMessage[] = data.map((msg: any) => ({\n        email: msg.recipient_email,\n        subject: msg.subject,\n        status: msg.status,\n        openCount: msg.open_count || 0,\n        clickCount: msg.click_count || 0,\n        sentTime: msg.sent_at ? new Date(msg.sent_at).toLocaleString() : '-',\n        openedTime: msg.opened_at ? new Date(msg.opened_at).toLocaleString() : '-'\n      }));\n      setEmailMessages(messages);\n    }\n  };\n\n  const loadVoiceCalls = async () => {\n    const { data, error } = await db\n      .from('voice_agent_calls')\n      .select('*')\n      .order('created_at', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      const calls: VoiceCall[] = data.map((call: any) => ({\n        fromNumber: call.caller_number || 'Unknown',\n        toNumber: call.callee_number || call.phone_number || 'Unknown',\n        duration: call.duration_seconds || 0,\n        status: call.status,\n        callType: call.call_type || 'outbound',\n        cost: call.cost || 0,\n        startTime: call.created_at ? new Date(call.created_at).toLocaleString() : '-',\n        endTime: call.ended_at ? new Date(call.ended_at).toLocaleString() : '-'\n      }));\n      setVoiceCalls(calls);\n    }\n  };\n\n  const loadVideoSessions = async () => {\n    const { data, error } = await db\n      .from('video_rooms')\n      .select('*')\n      .order('started_at', { ascending: false })\n      .limit(50);\n\n    if (!error && data) {\n      const sessions: VideoSession[] = data.map((session: any) => ({\n        roomId: session.room_id,\n        participants: session.current_participants || 0,\n        duration: session.duration_minutes || 0,\n        status: session.status,\n        recording: session.recording_enabled || false,\n        startTime: session.started_at ? new Date(session.started_at).toLocaleString() : '-',\n        endTime: session.ended_at ? new Date(session.ended_at).toLocaleString() : '-'\n      }));\n      setVideoSessions(sessions);\n    }\n  };\n\n  const getColorClasses = (color: string) => {\n    switch (color) {\n      case 'blue': return 'bg-[#39FF14]/20 text-[#39FF14]';\n      case 'green': return 'bg-[#39FF14]/20 text-[#39FF14]';\n      case 'purple': return 'bg-[#39FF14]/20 text-[#39FF14]';\n      case 'orange': return 'bg-[#39FF14]/20 text-[#39FF14]';\n      default: return 'bg-slate-500/20 text-slate-400';\n    }\n  };\n\n  const generatePDFReport = () => {\n    setIsGeneratingPDF(true);\n\n    const dateRangeText = {\n      '24hours': 'Last 24 Hours',\n      '7days': 'Last 7 Days',\n      '30days': 'Last 30 Days',\n      '90days': 'Last 90 Days'\n    }[dateRange] || 'Last 7 Days';\n\n    const reportDate = new Date().toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n\n    const productName = selectedProduct === 'all'\n      ? 'All Products'\n      : products.find(p => p.sku === selectedProduct)?.name || 'Product';\n\n    const reportTitle = selectedProduct === 'all'\n      ? 'Platform Reports & Analytics'\n      : `${productName} Performance Report`;\n\n    let detailedMessagesHTML = '';\n\n    if (selectedProduct === 'SMS-001' && smsMessages.length > 0) {\n      detailedMessagesHTML = `\n        <div class=\"section\" style=\"page-break-before: always;\">\n          <h2>SMS Campaign Message Details</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Mobile</th>\n                <th>Message</th>\n                <th>Length</th>\n                <th>Status</th>\n                <th>Error Code</th>\n                <th>Error Desc</th>\n                <th>Sender ID</th>\n                <th>Route Type</th>\n                <th>Sending Time</th>\n                <th>Delivery Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${smsMessages.map(msg => `\n                <tr>\n                  <td style=\"font-family: monospace; font-size: 11px;\">${msg.mobile}</td>\n                  <td style=\"max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;\">${msg.message}</td>\n                  <td style=\"text-align: center;\">${msg.smsLength}</td>\n                  <td style=\"text-align: center;\"><strong style=\"color: ${msg.status === 'delivered' ? '#10b981' : msg.status === 'pending' ? '#f59e0b' : '#ef4444'}\">${msg.status}</strong></td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.errorCode || '-'}</td>\n                  <td style=\"font-size: 11px;\">${msg.errorDesc || '-'}</td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.senderId}</td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.routeType}</td>\n                  <td style=\"font-size: 10px;\">${msg.sendingTime}</td>\n                  <td style=\"font-size: 10px;\">${msg.deliveryTime}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        </div>\n      `;\n    }\n\n    if (selectedProduct === 'RCS-001' && rcsMessages.length > 0) {\n      detailedMessagesHTML = `\n        <div class=\"section\" style=\"page-break-before: always;\">\n          <h2>RCS Campaign Message Details</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Mobile Number</th>\n                <th>Message</th>\n                <th>Credits</th>\n                <th>Status</th>\n                <th>Error Code</th>\n                <th>CTA Action</th>\n                <th>Send Time</th>\n                <th>Delivery Time</th>\n                <th>Read Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${rcsMessages.map(msg => `\n                <tr>\n                  <td style=\"font-family: monospace; font-size: 11px;\">${msg.mobile}</td>\n                  <td style=\"max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;\">${msg.message}</td>\n                  <td style=\"text-align: center;\">${msg.credits.toFixed(2)}</td>\n                  <td style=\"text-align: center;\"><strong style=\"color: ${msg.status === 'delivered' ? '#10b981' : msg.status === 'pending' ? '#f59e0b' : '#ef4444'}\">${msg.status}</strong></td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.errorCode || '-'}</td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.ctaAction}</td>\n                  <td style=\"font-size: 10px;\">${msg.sendingTime}</td>\n                  <td style=\"font-size: 10px;\">${msg.deliveryTime}</td>\n                  <td style=\"font-size: 10px;\">${msg.readTime}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        </div>\n      `;\n    }\n\n    if (selectedProduct === 'WA-001' && whatsappMessages.length > 0) {\n      detailedMessagesHTML = `\n        <div class=\"section\" style=\"page-break-before: always;\">\n          <h2>WhatsApp Message Details</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Mobile Number</th>\n                <th>Message</th>\n                <th>Status</th>\n                <th>Type</th>\n                <th>Template</th>\n                <th>Send Time</th>\n                <th>Delivery Time</th>\n                <th>Read Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${whatsappMessages.map(msg => `\n                <tr>\n                  <td style=\"font-family: monospace; font-size: 11px;\">${msg.mobile}</td>\n                  <td style=\"max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;\">${msg.message}</td>\n                  <td style=\"text-align: center;\"><strong style=\"color: ${msg.status === 'delivered' ? '#10b981' : msg.status === 'pending' ? '#f59e0b' : '#ef4444'}\">${msg.status}</strong></td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.messageType}</td>\n                  <td style=\"text-align: center; font-size: 11px;\">${msg.templateName}</td>\n                  <td style=\"font-size: 10px;\">${msg.sendingTime}</td>\n                  <td style=\"font-size: 10px;\">${msg.deliveryTime}</td>\n                  <td style=\"font-size: 10px;\">${msg.readTime}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        </div>\n      `;\n    }\n\n    if (selectedProduct === 'EMAIL-001' && emailMessages.length > 0) {\n      detailedMessagesHTML = `\n        <div class=\"section\" style=\"page-break-before: always;\">\n          <h2>Email Campaign Details</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Email</th>\n                <th>Subject</th>\n                <th>Status</th>\n                <th>Opens</th>\n                <th>Clicks</th>\n                <th>Sent Time</th>\n                <th>Opened Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${emailMessages.map(msg => `\n                <tr>\n                  <td style=\"font-size: 11px;\">${msg.email}</td>\n                  <td style=\"max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 11px;\">${msg.subject}</td>\n                  <td style=\"text-align: center;\"><strong style=\"color: ${msg.status === 'delivered' ? '#10b981' : msg.status === 'pending' ? '#f59e0b' : '#ef4444'}\">${msg.status}</strong></td>\n                  <td style=\"text-align: center;\">${msg.openCount}</td>\n                  <td style=\"text-align: center;\">${msg.clickCount}</td>\n                  <td style=\"font-size: 10px;\">${msg.sentTime}</td>\n                  <td style=\"font-size: 10px;\">${msg.openedTime}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        </div>\n      `;\n    }\n\n    if (selectedProduct === 'VOICE-001' && voiceCalls.length > 0) {\n      detailedMessagesHTML = `\n        <div class=\"section\" style=\"page-break-before: always;\">\n          <h2>Voice Call Details</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>From</th>\n                <th>To</th>\n                <th>Duration (s)</th>\n                <th>Status</th>\n                <th>Type</th>\n                <th>Cost (RM)</th>\n                <th>Start Time</th>\n                <th>End Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${voiceCalls.map(call => `\n                <tr>\n                  <td style=\"font-family: monospace; font-size: 11px;\">${call.fromNumber}</td>\n                  <td style=\"font-family: monospace; font-size: 11px;\">${call.toNumber}</td>\n                  <td style=\"text-align: center;\">${call.duration}</td>\n                  <td style=\"text-align: center;\"><strong style=\"color: ${call.status === 'completed' ? '#10b981' : call.status === 'ongoing' ? '#39FF14' : '#ef4444'}\">${call.status}</strong></td>\n                  <td style=\"text-align: center; font-size: 11px;\">${call.callType}</td>\n                  <td style=\"text-align: center;\">RM ${call.cost.toFixed(4)}</td>\n                  <td style=\"font-size: 10px;\">${call.startTime}</td>\n                  <td style=\"font-size: 10px;\">${call.endTime}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        </div>\n      `;\n    }\n\n    if ((selectedProduct === 'VIDEO-001' || selectedProduct === 'VIDEO-API-001' || selectedProduct === 'VAPI-001') && videoSessions.length > 0) {\n      detailedMessagesHTML = `\n        <div class=\"section\" style=\"page-break-before: always;\">\n          <h2>Video Session Details</h2>\n          <table>\n            <thead>\n              <tr>\n                <th>Room ID</th>\n                <th>Participants</th>\n                <th>Duration (min)</th>\n                <th>Status</th>\n                <th>Recording</th>\n                <th>Start Time</th>\n                <th>End Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${videoSessions.map(session => `\n                <tr>\n                  <td style=\"font-family: monospace; font-size: 11px;\">${session.roomId}</td>\n                  <td style=\"text-align: center;\">${session.participants}</td>\n                  <td style=\"text-align: center;\">${session.duration}</td>\n                  <td style=\"text-align: center;\"><strong style=\"color: ${session.status === 'active' ? '#10b981' : session.status === 'ended' ? '#64748b' : '#39FF14'}\">${session.status}</strong></td>\n                  <td style=\"text-align: center;\">${session.recording ? 'Yes' : 'No'}</td>\n                  <td style=\"font-size: 10px;\">${session.startTime}</td>\n                  <td style=\"font-size: 10px;\">${session.endTime}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n        </div>\n      `;\n    }\n\n    const htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>${reportTitle} - ${reportDate}</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 40px;\n      color: #333;\n    }\n    .header {\n      text-align: center;\n      margin-bottom: 40px;\n      padding-bottom: 20px;\n      border-bottom: 3px solid #39FF14;\n    }\n    .header h1 {\n      color: #39FF14;\n      margin: 0;\n      font-size: 32px;\n    }\n    .header p {\n      color: #666;\n      margin: 10px 0;\n      font-size: 14px;\n    }\n    .metrics-grid {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      gap: 20px;\n      margin-bottom: 40px;\n    }\n    .metric-card {\n      border: 1px solid #e5e7eb;\n      border-radius: 8px;\n      padding: 20px;\n      background: #f9fafb;\n    }\n    .metric-card h3 {\n      color: #6b7280;\n      font-size: 12px;\n      margin: 0 0 8px 0;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n    .metric-card .value {\n      font-size: 28px;\n      font-weight: bold;\n      color: #111827;\n      margin-bottom: 8px;\n    }\n    .metric-card .change {\n      color: #10b981;\n      font-size: 14px;\n      font-weight: 600;\n    }\n    .section {\n      margin-bottom: 40px;\n      page-break-inside: avoid;\n    }\n    .section h2 {\n      color: #111827;\n      font-size: 20px;\n      margin-bottom: 20px;\n      padding-bottom: 10px;\n      border-bottom: 2px solid #e5e7eb;\n    }\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 20px;\n    }\n    th {\n      background: #f3f4f6;\n      padding: 12px;\n      text-align: left;\n      font-weight: 600;\n      color: #374151;\n      border-bottom: 2px solid #e5e7eb;\n    }\n    td {\n      padding: 12px;\n      border-bottom: 1px solid #e5e7eb;\n    }\n    tr:hover {\n      background: #f9fafb;\n    }\n    .footer {\n      margin-top: 60px;\n      padding-top: 20px;\n      border-top: 1px solid #e5e7eb;\n      text-align: center;\n      color: #6b7280;\n      font-size: 12px;\n    }\n    @media print {\n      body { margin: 20px; }\n      .metric-card { page-break-inside: avoid; }\n      .section { page-break-inside: avoid; }\n    }\n  </style>\n</head>\n<body>\n  <div class=\"header\">\n    <h1>${reportTitle}</h1>\n    <p>Report Period: ${dateRangeText}</p>\n    <p>Generated on: ${reportDate}</p>\n  </div>\n\n  <div class=\"metrics-grid\">\n    ${metrics.map(metric => `\n      <div class=\"metric-card\">\n        <h3>${metric.label}</h3>\n        <div class=\"value\">${metric.value}</div>\n        <div class=\"change\">${metric.change} vs last period</div>\n      </div>\n    `).join('')}\n  </div>\n\n  <div class=\"section\">\n    <h2>Platform Performance Summary</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Platform</th>\n          <th>Messages Sent</th>\n          <th>Delivery Rate</th>\n          <th>Revenue (RM)</th>\n          <th>Avg Cost (RM)</th>\n        </tr>\n      </thead>\n      <tbody>\n        ${platformStats.map(platform => `\n          <tr>\n            <td><strong>${platform.name}</strong></td>\n            <td>${platform.messages.toLocaleString()}</td>\n            <td><strong>${platform.deliveryRate}%</strong></td>\n            <td>RM ${platform.revenue.toLocaleString()}</td>\n            <td>RM ${(platform.revenue / platform.messages).toFixed(4)}</td>\n          </tr>\n        `).join('')}\n      </tbody>\n    </table>\n  </div>\n\n  <div class=\"section\">\n    <h2>Key Insights</h2>\n    <ul>\n      <li><strong>Total Messages:</strong> ${platformStats.reduce((sum, p) => sum + p.messages, 0).toLocaleString()} messages sent across all platforms</li>\n      <li><strong>Total Revenue:</strong> RM ${platformStats.reduce((sum, p) => sum + p.revenue, 0).toLocaleString()}</li>\n      <li><strong>Average Delivery Rate:</strong> ${(platformStats.reduce((sum, p) => sum + p.deliveryRate, 0) / platformStats.length).toFixed(2)}%</li>\n      <li><strong>Top Performing Platform:</strong> ${platformStats.reduce((max, p) => p.revenue > max.revenue ? p : max).name} (by revenue)</li>\n      <li><strong>Most Used Platform:</strong> ${platformStats.reduce((max, p) => p.messages > max.messages ? p : max).name} (by message volume)</li>\n    </ul>\n  </div>\n\n  ${detailedMessagesHTML}\n\n  <div class=\"footer\">\n    <p>This report was automatically generated by the CPaaS Platform Analytics System</p>\n    <p>&copy; ${new Date().getFullYear()} Maxis Communications. All rights reserved.</p>\n  </div>\n</body>\n</html>\n    `;\n\n    const blob = new Blob([htmlContent], { type: 'text/html' });\n    const url = URL.createObjectURL(blob);\n    const printWindow = window.open(url, '_blank');\n\n    if (printWindow) {\n      printWindow.onload = () => {\n        setTimeout(() => {\n          printWindow.print();\n          setIsGeneratingPDF(false);\n        }, 250);\n      };\n    } else {\n      setIsGeneratingPDF(false);\n      alert('Please allow pop-ups to generate the PDF report');\n    }\n  };\n\n  const exportCSV = () => {\n    let csvContent = '';\n\n    if (selectedProduct === 'SMS-001' && smsMessages.length > 0) {\n      csvContent = [\n        ['Mobile', 'Message', 'Length', 'Status', 'Error Code', 'Error Description', 'Sender ID', 'Route Type', 'Sending Time', 'Delivery Time'],\n        ...smsMessages.map(msg => [\n          msg.mobile,\n          `\"${msg.message.replace(/\"/g, '\"\"')}\"`,\n          msg.smsLength,\n          msg.status,\n          msg.errorCode || '',\n          `\"${(msg.errorDesc || '').replace(/\"/g, '\"\"')}\"`,\n          msg.senderId,\n          msg.routeType,\n          msg.sendingTime,\n          msg.deliveryTime\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    } else if (selectedProduct === 'RCS-001' && rcsMessages.length > 0) {\n      csvContent = [\n        ['Mobile Number', 'Message', 'Credits', 'Status', 'Error Code', 'CTA Action', 'Send Time', 'Delivery Time', 'Read Time'],\n        ...rcsMessages.map(msg => [\n          msg.mobile,\n          `\"${msg.message.replace(/\"/g, '\"\"')}\"`,\n          msg.credits.toFixed(2),\n          msg.status,\n          msg.errorCode || '',\n          msg.ctaAction,\n          msg.sendingTime,\n          msg.deliveryTime,\n          msg.readTime\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    } else if (selectedProduct === 'WA-001' && whatsappMessages.length > 0) {\n      csvContent = [\n        ['Mobile Number', 'Message', 'Status', 'Type', 'Template', 'Send Time', 'Delivery Time', 'Read Time'],\n        ...whatsappMessages.map(msg => [\n          msg.mobile,\n          `\"${msg.message.replace(/\"/g, '\"\"')}\"`,\n          msg.status,\n          msg.messageType,\n          msg.templateName,\n          msg.sendingTime,\n          msg.deliveryTime,\n          msg.readTime\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    } else if (selectedProduct === 'EMAIL-001' && emailMessages.length > 0) {\n      csvContent = [\n        ['Email', 'Subject', 'Status', 'Opens', 'Clicks', 'Sent Time', 'Opened Time'],\n        ...emailMessages.map(msg => [\n          msg.email,\n          `\"${msg.subject.replace(/\"/g, '\"\"')}\"`,\n          msg.status,\n          msg.openCount,\n          msg.clickCount,\n          msg.sentTime,\n          msg.openedTime\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    } else if (selectedProduct === 'VOICE-001' && voiceCalls.length > 0) {\n      csvContent = [\n        ['From', 'To', 'Duration (s)', 'Status', 'Type', 'Cost (RM)', 'Start Time', 'End Time'],\n        ...voiceCalls.map(call => [\n          call.fromNumber,\n          call.toNumber,\n          call.duration,\n          call.status,\n          call.callType,\n          call.cost.toFixed(4),\n          call.startTime,\n          call.endTime\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    } else if ((selectedProduct === 'VIDEO-001' || selectedProduct === 'VIDEO-API-001' || selectedProduct === 'VAPI-001') && videoSessions.length > 0) {\n      csvContent = [\n        ['Room ID', 'Participants', 'Duration (min)', 'Status', 'Recording', 'Start Time', 'End Time'],\n        ...videoSessions.map(session => [\n          session.roomId,\n          session.participants,\n          session.duration,\n          session.status,\n          session.recording ? 'Yes' : 'No',\n          session.startTime,\n          session.endTime\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    } else {\n      csvContent = [\n        ['Platform', 'Messages', 'Delivery Rate', 'Revenue (RM)', 'Avg Cost (RM)'],\n        ...platformStats.map(p => [\n          p.name,\n          p.messages,\n          `${p.deliveryRate}%`,\n          p.revenue,\n          (p.revenue / p.messages).toFixed(4)\n        ])\n      ].map(row => row.join(',')).join('\\n');\n    }\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n\n    const productSlug = selectedProduct === 'all'\n      ? 'all-products'\n      : selectedProduct.toLowerCase();\n    const dateStr = new Date().toISOString().split('T')[0];\n\n    link.download = `${productSlug}-report-${dateStr}.csv`;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-[#012419] p-8\">\n      <div className=\"mb-8\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <div>\n            <h1 className=\"text-4xl font-bold text-white\">Reports & Analytics</h1>\n            <p className=\"text-slate-400 text-lg mt-2\">\n              {selectedProduct === 'all'\n                ? 'Track your performance and gain insights'\n                : `${products.find(p => p.sku === selectedProduct)?.name || 'Product'} Performance Report`}\n            </p>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <select\n              value={selectedProduct}\n              onChange={(e) => setSelectedProduct(e.target.value)}\n              className=\"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14] min-w-[200px]\"\n            >\n              <option value=\"all\">All Products</option>\n              {products.map(product => (\n                <option key={product.id} value={product.sku}>\n                  {product.name}\n                </option>\n              ))}\n            </select>\n            <select\n              value={dateRange}\n              onChange={(e) => setDateRange(e.target.value)}\n              className=\"bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#39FF14]\"\n            >\n              <option value=\"24hours\">Last 24 hours</option>\n              <option value=\"7days\">Last 7 days</option>\n              <option value=\"30days\">Last 30 days</option>\n              <option value=\"90days\">Last 90 days</option>\n            </select>\n            <button\n              onClick={generatePDFReport}\n              disabled={isGeneratingPDF}\n              className=\"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:opacity-50\"\n            >\n              <FileDown className=\"w-5 h-5\" />\n              {isGeneratingPDF ? 'Generating...' : 'Export as PDF'}\n            </button>\n            <button\n              onClick={exportCSV}\n              className=\"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n            >\n              <Download className=\"w-5 h-5\" />\n              Export CSV\n            </button>\n          </div>\n        </div>\n\n        {selectedProduct !== 'all' && (\n          <div className=\"mt-4 inline-flex items-center gap-2 bg-[#39FF14]/20/10 border border-[#39FF14]/30 text-[#39FF14] px-4 py-2 rounded-lg\">\n            <Package className=\"w-4 h-4\" />\n            <span className=\"text-sm font-medium\">\n              Showing data for: {products.find(p => p.sku === selectedProduct)?.name}\n            </span>\n            <button\n              onClick={() => setSelectedProduct('all')}\n              className=\"ml-2 hover:bg-[#39FF14]/20/20 rounded p-1 transition-colors\"\n              title=\"Clear filter\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        )}\n      </div>\n\n      {platformStats.length === 0 ? (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center\">\n          <Package className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n          <h3 className=\"text-xl font-bold text-white mb-2\">No Data Available</h3>\n          <p className=\"text-slate-400 mb-4\">\n            There is no data available for {products.find(p => p.sku === selectedProduct)?.name} in the selected time period.\n          </p>\n          <button\n            onClick={() => setSelectedProduct('all')}\n            className=\"bg-[#39FF14] hover:bg-[#32e012] text-white px-6 py-2 rounded-lg\"\n          >\n            View All Products\n          </button>\n        </div>\n      ) : (\n        <>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        {metrics.map((metric, index) => {\n          const Icon = metric.icon;\n          return (\n            <div\n              key={index}\n              className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\"\n            >\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-slate-400 text-sm font-medium mb-1\">{metric.label}</p>\n                  <p className=\"text-3xl font-bold text-white\">{metric.value}</p>\n                </div>\n                <div className={`p-3 rounded-xl ${getColorClasses(metric.color)}`}>\n                  <Icon className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-[#39FF14] text-sm font-medium\">{metric.change}</span>\n                <span className=\"text-slate-500 text-sm\">vs last period</span>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-white\">\n              {selectedProduct === 'all' ? 'Message Volume' : 'Volume'}\n            </h2>\n            <BarChart3 className=\"w-6 h-6 text-slate-400\" />\n          </div>\n\n          <div className=\"space-y-4\">\n            {platformStats.map((platform, index) => {\n              const maxMessages = Math.max(...platformStats.map(p => p.messages));\n              const percentage = (platform.messages / maxMessages) * 100;\n\n              return (\n                <div key={index}>\n                  <div className=\"flex justify-between text-sm mb-2\">\n                    <span className=\"text-slate-300 font-medium\">{platform.name}</span>\n                    <span className=\"text-white\">{platform.messages.toLocaleString()}</span>\n                  </div>\n                  <div className=\"w-full bg-slate-900/50 rounded-full h-3\">\n                    <div\n                      className=\"bg-gradient-to-r from-[#39FF14] to-[#32e012] h-3 rounded-full transition-all duration-500\"\n                      style={{ width: `${percentage}%` }}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-white\">\n              {selectedProduct === 'all' ? 'Revenue by Platform' : 'Revenue'}\n            </h2>\n            <DollarSign className=\"w-6 h-6 text-slate-400\" />\n          </div>\n\n          <div className=\"space-y-4\">\n            {platformStats.map((platform, index) => {\n              const maxRevenue = Math.max(...platformStats.map(p => p.revenue));\n              const percentage = (platform.revenue / maxRevenue) * 100;\n\n              return (\n                <div key={index}>\n                  <div className=\"flex justify-between text-sm mb-2\">\n                    <span className=\"text-slate-300 font-medium\">{platform.name}</span>\n                    <span className=\"text-white\">RM {platform.revenue.toLocaleString()}</span>\n                  </div>\n                  <div className=\"w-full bg-slate-900/50 rounded-full h-3\">\n                    <div\n                      className=\"bg-gradient-to-r from-[#39FF14] to-[#32e012] h-3 rounded-full transition-all duration-500\"\n                      style={{ width: `${percentage}%` }}\n                    />\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n        <h2 className=\"text-2xl font-bold text-white mb-6\">\n          {selectedProduct === 'all' ? 'Platform Performance' : 'Performance Metrics'}\n        </h2>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-slate-700\">\n                <th className=\"text-left py-3 px-4 text-slate-400 font-medium text-sm\">Platform</th>\n                <th className=\"text-right py-3 px-4 text-slate-400 font-medium text-sm\">Messages</th>\n                <th className=\"text-right py-3 px-4 text-slate-400 font-medium text-sm\">Delivery Rate</th>\n                <th className=\"text-right py-3 px-4 text-slate-400 font-medium text-sm\">Revenue</th>\n                <th className=\"text-right py-3 px-4 text-slate-400 font-medium text-sm\">Avg Cost</th>\n              </tr>\n            </thead>\n            <tbody>\n              {platformStats.map((platform, index) => (\n                <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                  <td className=\"py-4 px-4 text-white font-medium\">{platform.name}</td>\n                  <td className=\"py-4 px-4 text-right text-slate-300\">\n                    {platform.messages.toLocaleString()}\n                  </td>\n                  <td className=\"py-4 px-4 text-right\">\n                    <span className=\"text-[#39FF14] font-medium\">{platform.deliveryRate}%</span>\n                  </td>\n                  <td className=\"py-4 px-4 text-right text-white font-medium\">\n                    RM {platform.revenue.toLocaleString()}\n                  </td>\n                  <td className=\"py-4 px-4 text-right text-slate-300\">\n                    RM {(platform.revenue / platform.messages).toFixed(4)}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {selectedProduct === 'SMS-001' && (\n        <>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 mt-8\">\n            <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Total Sent</p>\n                  <p className=\"text-3xl font-bold text-white\">480,000</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20/20 text-brand-lime\">\n                  <Send className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">+12.5% vs last period</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Delivered</p>\n                  <p className=\"text-3xl font-bold text-white\">476,160</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-brand-lime\">\n                  <CheckCircle className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">99.2% delivery rate</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Pending</p>\n                  <p className=\"text-3xl font-bold text-white\">960</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-brand-lime\">\n                  <Clock className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">0.2% in queue</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Failed</p>\n                  <p className=\"text-3xl font-bold text-white\">2,880</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-[#39FF14]\">\n                  <AlertCircle className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">0.6% error rate</div>\n            </div>\n          </div>\n\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">SMS Features & Details</h2>\n              <MessageSquare className=\"w-6 h-6 text-slate-400\" />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Delivery Status Breakdown</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Delivered</span>\n                    <span className=\"text-[#39FF14] font-medium\">476,160 (99.2%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Pending</span>\n                    <span className=\"text-[#39FF14] font-medium\">960 (0.2%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Failed</span>\n                    <span className=\"text-[#39FF14] font-medium\">2,880 (0.6%)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Top Error Codes</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Invalid Number</span>\n                    <span className=\"text-[#39FF14] font-medium\">1,440 (50%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Network Error</span>\n                    <span className=\"text-[#39FF14] font-medium\">864 (30%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">DND Number</span>\n                    <span className=\"text-[#39FF14] font-medium\">576 (20%)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Route Type Distribution</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Promotional</span>\n                    <span className=\"text-[#39FF14] font-medium\">336,000 (70%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Transactional</span>\n                    <span className=\"text-[#39FF14] font-medium\">144,000 (30%)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Sender IDs Used</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">MAXIS</span>\n                    <span className=\"text-slate-400 font-medium\">288,000 (60%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">MAXISONE</span>\n                    <span className=\"text-slate-400 font-medium\">192,000 (40%)</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">Campaign Message Details</h2>\n              <button\n                onClick={loadSMSMessages}\n                className=\"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-2\"\n              >\n                <Download className=\"w-4 h-4\" />\n                Refresh Data\n              </button>\n            </div>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead>\n                  <tr className=\"border-b border-slate-700\">\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Mobile</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Message</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Length</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Status</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Error Code</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Error Desc</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Sender ID</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Route Type</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Sending Time</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Delivery Time</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {smsMessages.length > 0 ? (\n                    smsMessages.map((msg, index) => (\n                      <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                        <td className=\"py-3 px-3 text-slate-300 font-mono\">{msg.mobile}</td>\n                        <td className=\"py-3 px-3 text-slate-300 max-w-xs truncate\">{msg.message}</td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.smsLength}</td>\n                        <td className=\"py-3 px-3 text-center\">\n                          <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                            msg.status === 'delivered' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                            msg.status === 'pending' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                            'bg-[#39FF14]/20 text-[#39FF14]'\n                          }`}>\n                            {msg.status}\n                          </span>\n                        </td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.errorCode || '-'}</td>\n                        <td className=\"py-3 px-3 text-slate-300\">{msg.errorDesc || '-'}</td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.senderId}</td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.routeType}</td>\n                        <td className=\"py-3 px-3 text-slate-300\">{msg.sendingTime}</td>\n                        <td className=\"py-3 px-3 text-slate-300\">{msg.deliveryTime}</td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td colSpan={10} className=\"py-12 text-center\">\n                        <MessageSquare className=\"w-12 h-12 text-slate-600 mx-auto mb-3\" />\n                        <p className=\"text-slate-400\">No SMS messages found</p>\n                        <p className=\"text-slate-500 text-sm mt-1\">Messages will appear here once campaigns are sent</p>\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </>\n      )}\n\n      {selectedProduct === 'RCS-001' && (\n        <>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8 mt-8\">\n            <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Total Sent</p>\n                  <p className=\"text-3xl font-bold text-white\">156,000</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20/20 text-brand-lime\">\n                  <Send className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">+8.3% vs last period</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Delivered</p>\n                  <p className=\"text-3xl font-bold text-white\">152,100</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-brand-lime\">\n                  <CheckCircle className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">97.5% delivery rate</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Read</p>\n                  <p className=\"text-3xl font-bold text-white\">124,320</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-brand-lime\">\n                  <Eye className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">81.7% read rate</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-yellow-500/10 to-yellow-600/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Pending</p>\n                  <p className=\"text-3xl font-bold text-white\">312</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-brand-lime\">\n                  <Clock className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-slate-400 text-sm font-medium\">0.2% in queue</div>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-red-500/10 to-red-600/10 border border-[#39FF14]/30 rounded-xl p-6\">\n              <div className=\"flex items-start justify-between mb-4\">\n                <div>\n                  <p className=\"text-[#39FF14] text-sm font-medium mb-1\">Failed</p>\n                  <p className=\"text-3xl font-bold text-white\">3,588</p>\n                </div>\n                <div className=\"p-3 rounded-xl bg-[#39FF14]/20 text-[#39FF14]\">\n                  <AlertCircle className=\"w-6 h-6\" />\n                </div>\n              </div>\n              <div className=\"text-[#39FF14] text-sm font-medium\">2.3% error rate</div>\n            </div>\n          </div>\n\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">RCS Features & Details</h2>\n              <MessageSquare className=\"w-6 h-6 text-slate-400\" />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Delivery Status Breakdown</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Delivered</span>\n                    <span className=\"text-[#39FF14] font-medium\">152,100 (97.5%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Pending</span>\n                    <span className=\"text-[#39FF14] font-medium\">312 (0.2%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Failed</span>\n                    <span className=\"text-[#39FF14] font-medium\">3,588 (2.3%)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Engagement Metrics</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Read Rate</span>\n                    <span className=\"text-[#39FF14] font-medium\">81.7%</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">CTA Click Rate</span>\n                    <span className=\"text-[#39FF14] font-medium\">24.6%</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Avg Response Time</span>\n                    <span className=\"text-slate-400 font-medium\">3.2 mins</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Message Type Distribution</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Rich Card</span>\n                    <span className=\"text-[#39FF14] font-medium\">93,600 (60%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Carousel</span>\n                    <span className=\"text-[#39FF14] font-medium\">46,800 (30%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Text Only</span>\n                    <span className=\"text-[#39FF14] font-medium\">15,600 (10%)</span>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-white mb-4\">Top CTA Actions</h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">View Product</span>\n                    <span className=\"text-slate-400 font-medium\">18,720 (50%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Call Now</span>\n                    <span className=\"text-slate-400 font-medium\">11,232 (30%)</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-slate-300\">Visit Website</span>\n                    <span className=\"text-slate-400 font-medium\">7,488 (20%)</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">Campaign Message Details</h2>\n              <button\n                onClick={loadRCSMessages}\n                className=\"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-2\"\n              >\n                <Download className=\"w-4 h-4\" />\n                Refresh Data\n              </button>\n            </div>\n\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead>\n                  <tr className=\"border-b border-slate-700\">\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Mobile Number</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Message</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Credits</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Status</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Error Code</th>\n                    <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">CTA Action</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Send Time</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Delivery Time</th>\n                    <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Read Time</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {rcsMessages.length > 0 ? (\n                    rcsMessages.map((msg, index) => (\n                      <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                        <td className=\"py-3 px-3 text-slate-300 font-mono\">{msg.mobile}</td>\n                        <td className=\"py-3 px-3 text-slate-300 max-w-xs truncate\">{msg.message}</td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.credits.toFixed(2)}</td>\n                        <td className=\"py-3 px-3 text-center\">\n                          <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                            msg.status === 'delivered' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                            msg.status === 'pending' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                            'bg-[#39FF14]/20 text-[#39FF14]'\n                          }`}>\n                            {msg.status}\n                          </span>\n                        </td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.errorCode || '-'}</td>\n                        <td className=\"py-3 px-3 text-center text-slate-300\">{msg.ctaAction}</td>\n                        <td className=\"py-3 px-3 text-slate-300\">{msg.sendingTime}</td>\n                        <td className=\"py-3 px-3 text-slate-300\">{msg.deliveryTime}</td>\n                        <td className=\"py-3 px-3 text-slate-300\">{msg.readTime}</td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td colSpan={9} className=\"py-12 text-center\">\n                        <MessageSquare className=\"w-12 h-12 text-slate-600 mx-auto mb-3\" />\n                        <p className=\"text-slate-400\">No RCS messages found</p>\n                        <p className=\"text-slate-500 text-sm mt-1\">Messages will appear here once campaigns are sent</p>\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </>\n      )}\n\n      {selectedProduct === 'WA-001' && whatsappMessages.length > 0 && (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-white\">WhatsApp Message Details</h2>\n            <button\n              onClick={loadWhatsAppMessages}\n              className=\"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-2\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Refresh Data\n            </button>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"border-b border-slate-700\">\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Mobile Number</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Message</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Status</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Type</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Template</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Send Time</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Delivery Time</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Read Time</th>\n                </tr>\n              </thead>\n              <tbody>\n                {whatsappMessages.map((msg, index) => (\n                  <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                    <td className=\"py-3 px-3 text-slate-300 font-mono\">{msg.mobile}</td>\n                    <td className=\"py-3 px-3 text-slate-300 max-w-xs truncate\">{msg.message}</td>\n                    <td className=\"py-3 px-3 text-center\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                        msg.status === 'delivered' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        msg.status === 'pending' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        'bg-[#39FF14]/20 text-[#39FF14]'\n                      }`}>\n                        {msg.status}\n                      </span>\n                    </td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{msg.messageType}</td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{msg.templateName}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{msg.sendingTime}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{msg.deliveryTime}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{msg.readTime}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {selectedProduct === 'EMAIL-001' && emailMessages.length > 0 && (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-white\">Email Campaign Details</h2>\n            <button\n              onClick={loadEmailMessages}\n              className=\"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-2\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Refresh Data\n            </button>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"border-b border-slate-700\">\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Email</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Subject</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Status</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Opens</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Clicks</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Sent Time</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Opened Time</th>\n                </tr>\n              </thead>\n              <tbody>\n                {emailMessages.map((msg, index) => (\n                  <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                    <td className=\"py-3 px-3 text-slate-300\">{msg.email}</td>\n                    <td className=\"py-3 px-3 text-slate-300 max-w-xs truncate\">{msg.subject}</td>\n                    <td className=\"py-3 px-3 text-center\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                        msg.status === 'delivered' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        msg.status === 'pending' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        'bg-[#39FF14]/20 text-[#39FF14]'\n                      }`}>\n                        {msg.status}\n                      </span>\n                    </td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{msg.openCount}</td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{msg.clickCount}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{msg.sentTime}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{msg.openedTime}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {selectedProduct === 'VOICE-001' && voiceCalls.length > 0 && (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-white\">Voice Call Details</h2>\n            <button\n              onClick={loadVoiceCalls}\n              className=\"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-2\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Refresh Data\n            </button>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"border-b border-slate-700\">\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">From</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">To</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Duration (s)</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Status</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Type</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Cost (RM)</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Start Time</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">End Time</th>\n                </tr>\n              </thead>\n              <tbody>\n                {voiceCalls.map((call, index) => (\n                  <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                    <td className=\"py-3 px-3 text-slate-300 font-mono\">{call.fromNumber}</td>\n                    <td className=\"py-3 px-3 text-slate-300 font-mono\">{call.toNumber}</td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{call.duration}</td>\n                    <td className=\"py-3 px-3 text-center\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                        call.status === 'completed' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        call.status === 'ongoing' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        'bg-[#39FF14]/20 text-[#39FF14]'\n                      }`}>\n                        {call.status}\n                      </span>\n                    </td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{call.callType}</td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">RM {call.cost.toFixed(4)}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{call.startTime}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{call.endTime}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {(selectedProduct === 'VIDEO-001' || selectedProduct === 'VIDEO-API-001' || selectedProduct === 'VAPI-001') && videoSessions.length > 0 && (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mt-8\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h2 className=\"text-2xl font-bold text-white\">Video Session Details</h2>\n            <button\n              onClick={loadVideoSessions}\n              className=\"text-[#39FF14] hover:text-[#39FF14] text-sm flex items-center gap-2\"\n            >\n              <Download className=\"w-4 h-4\" />\n              Refresh Data\n            </button>\n          </div>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-sm\">\n              <thead>\n                <tr className=\"border-b border-slate-700\">\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Room ID</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Participants</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Duration (min)</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Status</th>\n                  <th className=\"text-center py-3 px-3 text-slate-400 font-medium\">Recording</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">Start Time</th>\n                  <th className=\"text-left py-3 px-3 text-slate-400 font-medium\">End Time</th>\n                </tr>\n              </thead>\n              <tbody>\n                {videoSessions.map((session, index) => (\n                  <tr key={index} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                    <td className=\"py-3 px-3 text-slate-300 font-mono\">{session.roomId}</td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{session.participants}</td>\n                    <td className=\"py-3 px-3 text-center text-slate-300\">{session.duration}</td>\n                    <td className=\"py-3 px-3 text-center\">\n                      <span className={`inline-flex px-2 py-1 rounded-full text-xs font-medium ${\n                        session.status === 'active' ? 'bg-[#39FF14]/20 text-[#39FF14]' :\n                        session.status === 'ended' ? 'bg-slate-500/20 text-slate-400' :\n                        'bg-[#39FF14]/20 text-[#39FF14]'\n                      }`}>\n                        {session.status}\n                      </span>\n                    </td>\n                    <td className=\"py-3 px-3 text-center\">\n                      {session.recording ? (\n                        <CheckCircle className=\"w-4 h-4 text-[#39FF14] mx-auto\" />\n                      ) : (\n                        <X className=\"w-4 h-4 text-slate-600 mx-auto\" />\n                      )}\n                    </td>\n                    <td className=\"py-3 px-3 text-slate-300\">{session.startTime}</td>\n                    <td className=\"py-3 px-3 text-slate-300\">{session.endTime}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10170, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Recordings.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Mic, Play, Download, Trash2, Search, Phone, Video as VideoIcon, Calendar, X, Pause } from 'lucide-react';\n\ninterface Recording {\n  id: string;\n  type: 'voice' | 'video';\n  title: string;\n  date: string;\n  duration: string;\n  size: string;\n  status: 'available' | 'processing' | 'archived';\n  url?: string;\n}\n\nexport default function Recordings() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'voice' | 'video'>('all');\n  const [playingRecording, setPlayingRecording] = useState<Recording | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const [recordings, setRecordings] = useState<Recording[]>([\n    {\n      id: '1',\n      type: 'voice',\n      title: 'Customer Support Call - #12345',\n      date: '2024-12-26 10:30 AM',\n      duration: '5:42',\n      size: '2.8 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'\n    },\n    {\n      id: '2',\n      type: 'video',\n      title: 'Product Demo Session',\n      date: '2024-12-25 2:15 PM',\n      duration: '12:30',\n      size: '45.6 MB',\n      status: 'available',\n      url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4'\n    },\n    {\n      id: '3',\n      type: 'voice',\n      title: 'Sales Call - Lead Qualification',\n      date: '2024-12-25 11:00 AM',\n      duration: '8:15',\n      size: '4.2 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'\n    },\n    {\n      id: '4',\n      type: 'video',\n      title: 'Team Meeting Recording',\n      date: '2024-12-24 3:00 PM',\n      duration: '45:20',\n      size: '156.3 MB',\n      status: 'available',\n      url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4'\n    },\n    {\n      id: '5',\n      type: 'voice',\n      title: 'Technical Support Call',\n      date: '2024-12-24 9:45 AM',\n      duration: '15:30',\n      size: '7.8 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'\n    },\n    {\n      id: '6',\n      type: 'video',\n      title: 'Webinar - Q4 Review',\n      date: '2024-12-23 1:00 PM',\n      duration: '60:00',\n      size: '210.5 MB',\n      status: 'processing'\n    }\n  ]);\n\n  const filteredRecordings = recordings.filter(recording => {\n    const matchesSearch = recording.title.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesType = filterType === 'all' || recording.type === filterType;\n    return matchesSearch && matchesType;\n  });\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'available': return 'bg-green-500/20 text-green-400 border-green-500/30';\n      case 'processing': return 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30';\n      case 'archived': return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n      default: return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n    }\n  };\n\n  const totalRecordings = recordings.length;\n  const voiceRecordings = recordings.filter(r => r.type === 'voice').length;\n  const videoRecordings = recordings.filter(r => r.type === 'video').length;\n  const totalSize = recordings.reduce((sum, r) => {\n    const size = parseFloat(r.size);\n    return sum + size;\n  }, 0);\n\n  const handlePlay = (recording: Recording) => {\n    if (recording.status !== 'available') {\n      alert('This recording is not available for playback yet.');\n      return;\n    }\n    setPlayingRecording(recording);\n    setIsPlaying(true);\n  };\n\n  const handleClosePlayer = () => {\n    setPlayingRecording(null);\n    setIsPlaying(false);\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n    }\n    if (videoRef.current) {\n      videoRef.current.pause();\n      videoRef.current.currentTime = 0;\n    }\n  };\n\n  const togglePlayPause = () => {\n    const mediaElement = playingRecording?.type === 'voice' ? audioRef.current : videoRef.current;\n    if (mediaElement) {\n      if (isPlaying) {\n        mediaElement.pause();\n      } else {\n        mediaElement.play();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const handleDownload = (recording: Recording) => {\n    if (recording.status !== 'available') {\n      alert('This recording is not available for download yet.');\n      return;\n    }\n    if (recording.url) {\n      const link = document.createElement('a');\n      link.href = recording.url;\n      link.download = `${recording.title}.${recording.type === 'voice' ? 'mp3' : 'mp4'}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  const handleDelete = (recordingId: string) => {\n    if (confirm('Are you sure you want to delete this recording? This action cannot be undone.')) {\n      setRecordings(recordings.filter(r => r.id !== recordingId));\n      if (playingRecording?.id === recordingId) {\n        handleClosePlayer();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const mediaElement = playingRecording?.type === 'voice' ? audioRef.current : videoRef.current;\n    if (mediaElement) {\n      const handleEnded = () => setIsPlaying(false);\n      const handlePlay = () => setIsPlaying(true);\n      const handlePause = () => setIsPlaying(false);\n\n      mediaElement.addEventListener('ended', handleEnded);\n      mediaElement.addEventListener('play', handlePlay);\n      mediaElement.addEventListener('pause', handlePause);\n\n      return () => {\n        mediaElement.removeEventListener('ended', handleEnded);\n        mediaElement.removeEventListener('play', handlePlay);\n        mediaElement.removeEventListener('pause', handlePause);\n      };\n    }\n  }, [playingRecording]);\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-[#012419] p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">Recordings</h1>\n        <p className=\"text-slate-400 text-lg\">Manage your voice and video recordings</p>\n      </div>\n\n\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6\">\n        <div className=\"flex gap-4 items-center\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search recordings...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-[#39FF14]\"\n            />\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilterType('all')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'all'\n                  ? 'bg-[#39FF14] text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              All\n            </button>\n            <button\n              onClick={() => setFilterType('voice')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'voice'\n                  ? 'bg-[#39FF14] text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Voice\n            </button>\n            <button\n              onClick={() => setFilterType('video')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'video'\n                  ? 'bg-[#39FF14] text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Video\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n        <div className=\"space-y-4\">\n          {filteredRecordings.map((recording) => (\n            <div\n              key={recording.id}\n              className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors\"\n            >\n              <div className=\"flex items-center gap-4\">\n                <div className={`p-3 rounded-lg ${\n                  recording.type === 'voice'\n                    ? 'bg-green-500/20 text-green-400'\n                    : 'bg-[#39FF14]/20 text-[#39FF14]'\n                }`}>\n                  {recording.type === 'voice' ? (\n                    <Phone className=\"w-6 h-6\" />\n                  ) : (\n                    <VideoIcon className=\"w-6 h-6\" />\n                  )}\n                </div>\n\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-white font-semibold mb-1\">{recording.title}</h3>\n                  <div className=\"flex items-center gap-4 text-sm text-slate-400\">\n                    <span>{recording.date}</span>\n                    <span></span>\n                    <span>{recording.duration}</span>\n                    <span></span>\n                    <span>{recording.size}</span>\n                  </div>\n                </div>\n\n                <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(recording.status)}`}>\n                  {recording.status}\n                </span>\n\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handlePlay(recording)}\n                    disabled={recording.status !== 'available'}\n                    className={`p-2 rounded-lg transition-colors ${\n                      recording.status === 'available'\n                        ? 'bg-[#39FF14]/20/20 hover:bg-[#39FF14]/20/30 text-[#39FF14]'\n                        : 'bg-slate-700/20 text-slate-500 cursor-not-allowed'\n                    }`}\n                    title={recording.status === 'available' ? 'Play recording' : 'Recording not available'}\n                  >\n                    <Play className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDownload(recording)}\n                    disabled={recording.status !== 'available'}\n                    className={`p-2 rounded-lg transition-colors ${\n                      recording.status === 'available'\n                        ? 'bg-green-500/20 hover:bg-green-500/30 text-green-400'\n                        : 'bg-slate-700/20 text-slate-500 cursor-not-allowed'\n                    }`}\n                    title={recording.status === 'available' ? 'Download recording' : 'Recording not available'}\n                  >\n                    <Download className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(recording.id)}\n                    className=\"p-2 bg-[#39FF14]/10 hover:bg-[#39FF14]/20 text-[#39FF14] rounded-lg transition-colors\"\n                    title=\"Delete recording\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {filteredRecordings.length === 0 && (\n          <div className=\"text-center py-12\">\n            <Mic className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n            <p className=\"text-slate-400 text-lg\">No recordings found</p>\n            <p className=\"text-slate-500 text-sm mt-2\">Try adjusting your search or filter</p>\n          </div>\n        )}\n      </div>\n\n      {playingRecording && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl mx-4 overflow-hidden\">\n            <div className=\"bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700\">\n              <div>\n                <h3 className=\"text-white font-semibold text-lg\">{playingRecording.title}</h3>\n                <p className=\"text-slate-400 text-sm mt-1\">\n                  {playingRecording.date}  {playingRecording.duration}\n                </p>\n              </div>\n              <button\n                onClick={handleClosePlayer}\n                className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              {playingRecording.type === 'voice' ? (\n                <div className=\"space-y-6\">\n                  <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 rounded-xl p-12 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                      <div className=\"bg-[#39FF14]/20/20 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4\">\n                        <Phone className=\"w-16 h-16 text-[#39FF14]\" />\n                      </div>\n                      <p className=\"text-white font-medium text-lg\">Audio Recording</p>\n                      <p className=\"text-slate-400 text-sm mt-2\">Playing voice call</p>\n                    </div>\n                  </div>\n                  <audio\n                    ref={audioRef}\n                    src={playingRecording.url}\n                    className=\"w-full\"\n                    controls\n                    autoPlay\n                  />\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  <video\n                    ref={videoRef}\n                    src={playingRecording.url}\n                    className=\"w-full rounded-lg bg-black\"\n                    controls\n                    autoPlay\n                  />\n                </div>\n              )}\n\n              <div className=\"flex items-center justify-between mt-6 pt-6 border-t border-slate-700\">\n                <div className=\"flex items-center gap-4\">\n                  <button\n                    onClick={togglePlayPause}\n                    className=\"p-3 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg transition-colors\"\n                  >\n                    {isPlaying ? (\n                      <Pause className=\"w-6 h-6\" />\n                    ) : (\n                      <Play className=\"w-6 h-6\" />\n                    )}\n                  </button>\n                  <div className=\"text-sm text-slate-400\">\n                    <span className={`px-2 py-1 rounded ${\n                      playingRecording.type === 'voice'\n                        ? 'bg-green-500/20 text-green-400'\n                        : 'bg-[#39FF14]/20 text-[#39FF14]'\n                    }`}>\n                      {playingRecording.type === 'voice' ? 'Voice' : 'Video'}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handleDownload(playingRecording)}\n                    className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </button>\n                  <button\n                    onClick={handleClosePlayer}\n                    className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10950, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Subscriptions.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\nimport {\n  CreditCard, Package, Calendar, TrendingUp, CheckCircle, XCircle,\n  AlertCircle, RefreshCw, Download, Clock, Award, Zap, Shield,\n  Users, Activity, Tag, Gift, BarChart3, Info\n} from 'lucide-react';\n\nexport default function Subscriptions() {\n  const { user } = useAuth();\n  const [subscriptions, setSubscriptions] = useState<any[]>([]);\n  const [offers, setOffers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      loadSubscriptionsAndOffers();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (!user) return;\n\n    const subscriptionsChannel = db\n      .channel('user-subscriptions-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'user_subscriptions',\n          filter: `user_id=eq.${user.id}`\n        },\n        () => {\n          loadSubscriptionsAndOffers();\n        }\n      )\n      .subscribe();\n\n    const offersChannel = db\n      .channel('user-offers-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'user_offers',\n          filter: `user_id=eq.${user.id}`\n        },\n        () => {\n          loadSubscriptionsAndOffers();\n        }\n      )\n      .subscribe();\n\n    return () => {\n      db.removeChannel(subscriptionsChannel);\n      db.removeChannel(offersChannel);\n    };\n  }, [user]);\n\n  const loadSubscriptionsAndOffers = async () => {\n    try {\n      const { data: subsData, error: subsError } = await db\n        .from('user_subscriptions')\n        .select(`\n          *,\n          product:products(*)\n        `)\n        .eq('user_id', user?.id)\n        .order('created_at', { ascending: false });\n\n      if (subsError) throw subsError;\n\n      const { data: offersData, error: offersError } = await db\n        .from('user_offers')\n        .select('*')\n        .eq('user_id', user?.id)\n        .eq('status', 'active')\n        .order('expires_at', { ascending: true });\n\n      if (offersError) throw offersError;\n\n      setSubscriptions(subsData || []);\n      setOffers(offersData || []);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'active':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30 flex items-center gap-1.5\">\n            <CheckCircle className=\"w-3.5 h-3.5\" />\n            Active\n          </span>\n        );\n      case 'expired':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30 flex items-center gap-1.5\">\n            <XCircle className=\"w-3.5 h-3.5\" />\n            Expired\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-[#39FF14]/20 text-[#39FF14] border border-[#39FF14]/30 flex items-center gap-1.5\">\n            <AlertCircle className=\"w-3.5 h-3.5\" />\n            Cancelled\n          </span>\n        );\n      default:\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-slate-500/20 text-slate-400 border border-slate-500/30\">\n            {status}\n          </span>\n        );\n    }\n  };\n\n  const calculateDaysRemaining = (expiryDate: string) => {\n    const now = new Date();\n    const expiry = new Date(expiryDate);\n    const diff = expiry.getTime() - now.getTime();\n    const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n    return days;\n  };\n\n  const formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const calculateUsagePercentage = (used: number, limit: number) => {\n    if (limit === 0) return 0;\n    return Math.min((used / limit) * 100, 100);\n  };\n\n  const activeSubscriptions = subscriptions.filter(s => s.status === 'active');\n  const totalSpending = subscriptions\n    .filter(s => s.status === 'active')\n    .reduce((sum, s) => sum + parseFloat(s.amount || 0), 0);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-[#012419]\">\n        <div className=\"flex flex-col items-center gap-3\">\n          <RefreshCw className=\"w-8 h-8 text-[#39FF14] animate-spin\" />\n          <div className=\"text-slate-400\">Loading subscriptions...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#012419] p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2 flex items-center gap-3\">\n          <CreditCard className=\"w-10 h-10 text-[#39FF14]\" />\n          My Subscriptions\n        </h1>\n        <p className=\"text-slate-400\">Manage your subscriptions, licenses, and offers</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n              <Package className=\"w-6 h-6 text-[#39FF14]\" />\n            </div>\n            <TrendingUp className=\"w-5 h-5 text-[#39FF14]\" />\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{activeSubscriptions.length}</div>\n          <div className=\"text-slate-400 text-sm\">Active Subscriptions</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-green-500/20 rounded-lg\">\n              <CreditCard className=\"w-6 h-6 text-green-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">RM {totalSpending.toFixed(2)}</div>\n          <div className=\"text-slate-400 text-sm\">Monthly Spending</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n              <Gift className=\"w-6 h-6 text-[#39FF14]\" />\n            </div>\n            <span className=\"text-[#39FF14] text-sm font-semibold\">NEW</span>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{offers.length}</div>\n          <div className=\"text-slate-400 text-sm\">Available Offers</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n              <Award className=\"w-6 h-6 text-[#39FF14]\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">\n            {subscriptions.filter(s => s.license_key).length}\n          </div>\n          <div className=\"text-slate-400 text-sm\">Active Licenses</div>\n        </div>\n      </div>\n\n      {offers.length > 0 && (\n        <div className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold text-white mb-4 flex items-center gap-2\">\n            <Gift className=\"w-6 h-6 text-[#39FF14]\" />\n            Special Offers for You\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {offers.map((offer) => (\n              <div\n                key={offer.id}\n                className=\"bg-gradient-to-br from-[#39FF14]/10 to-[#32e012]/10 border border-[#39FF14]/30 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n                    <Tag className=\"w-6 h-6 text-[#39FF14]\" />\n                  </div>\n                  <span className=\"px-3 py-1 bg-[#39FF14]/20 text-[#39FF14] rounded-full text-xs font-bold\">\n                    {offer.discount_percentage}% OFF\n                  </span>\n                </div>\n                <h3 className=\"text-xl font-bold text-white mb-2\">{offer.offer_name}</h3>\n                <p className=\"text-slate-400 text-sm mb-4\">{offer.description}</p>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-slate-500\">Expires: {formatDate(offer.expires_at)}</span>\n                  <button className=\"px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-white rounded-lg text-xs font-medium transition-colors\">\n                    Redeem Now\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-white mb-4\">Active Subscriptions</h2>\n      </div>\n\n      <div className=\"space-y-4\">\n        {subscriptions.length === 0 ? (\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center\">\n            <Package className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n            <p className=\"text-slate-400 text-lg mb-2\">No subscriptions found</p>\n            <p className=\"text-slate-500 text-sm\">Subscribe to products to get started</p>\n          </div>\n        ) : (\n          subscriptions.map((subscription) => {\n            const daysRemaining = calculateDaysRemaining(subscription.expires_at);\n            const usagePercent = calculateUsagePercentage(\n              subscription.usage_count || 0,\n              subscription.usage_limit || 0\n            );\n\n            return (\n              <div\n                key={subscription.id}\n                className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-[#39FF14]/50 transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"p-3 bg-[#39FF14]/20 rounded-lg\">\n                      <Package className=\"w-8 h-8 text-[#39FF14]\" />\n                    </div>\n                    <div>\n                      <h3 className=\"text-xl font-bold text-white mb-1\">\n                        {subscription.product?.name || subscription.product_name}\n                      </h3>\n                      <p className=\"text-slate-400 text-sm mb-3\">\n                        {subscription.product?.description || 'Premium subscription'}\n                      </p>\n                      <div className=\"flex items-center gap-4 text-sm\">\n                        <div className=\"flex items-center gap-2 text-slate-400\">\n                          <Calendar className=\"w-4 h-4\" />\n                          Started: {formatDate(subscription.started_at)}\n                        </div>\n                        <div className=\"flex items-center gap-2 text-slate-400\">\n                          <Clock className=\"w-4 h-4\" />\n                          {daysRemaining > 0 ? `${daysRemaining} days remaining` : 'Expired'}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    {getStatusBadge(subscription.status)}\n                    <div className=\"text-2xl font-bold text-white mt-3\">\n                      RM {parseFloat(subscription.amount).toFixed(2)}\n                    </div>\n                    <div className=\"text-slate-400 text-sm\">per {subscription.billing_cycle}</div>\n                  </div>\n                </div>\n\n                {subscription.usage_limit && (\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-center justify-between text-sm mb-2\">\n                      <span className=\"text-slate-400\">Usage</span>\n                      <span className=\"text-white font-medium\">\n                        {subscription.usage_count?.toLocaleString() || 0} / {subscription.usage_limit?.toLocaleString()}\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-slate-700 rounded-full h-2 overflow-hidden\">\n                      <div\n                        className={`h-full transition-all ${\n                          usagePercent >= 90\n                            ? 'bg-red-500'\n                            : usagePercent >= 70\n                            ? 'bg-[#39FF14]'\n                            : 'bg-[#39FF14]'\n                        }`}\n                        style={{ width: `${usagePercent}%` }}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {subscription.license_key && (\n                  <div className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <Shield className=\"w-5 h-5 text-green-400\" />\n                        <div>\n                          <div className=\"text-sm text-slate-400 mb-1\">License Key</div>\n                          <div className=\"font-mono text-white text-sm\">{subscription.license_key}</div>\n                        </div>\n                      </div>\n                      <button className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors\">\n                        <Download className=\"w-5 h-5 text-slate-400\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-700\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-[#39FF14]/20/20 rounded-lg\">\n                      <Activity className=\"w-5 h-5 text-[#39FF14]\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Status</div>\n                      <div className=\"text-sm text-white font-medium capitalize\">{subscription.status}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-green-500/20 rounded-lg\">\n                      <Calendar className=\"w-5 h-5 text-green-400\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Renewal Date</div>\n                      <div className=\"text-sm text-white font-medium\">{formatDate(subscription.expires_at)}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-[#39FF14]/20 rounded-lg\">\n                      <Zap className=\"w-5 h-5 text-[#39FF14]\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Auto Renew</div>\n                      <div className=\"text-sm text-white font-medium\">\n                        {subscription.auto_renew ? 'Enabled' : 'Disabled'}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-3 mt-6\">\n                  <button className=\"flex-1 px-4 py-2 bg-[#39FF14] hover:bg-[#32e012] text-black rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2\">\n                    <BarChart3 className=\"w-4 h-4\" />\n                    View Usage\n                  </button>\n                  <button className=\"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2\">\n                    <RefreshCw className=\"w-4 h-4\" />\n                    Manage Subscription\n                  </button>\n                  <button className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors\">\n                    <Info className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}