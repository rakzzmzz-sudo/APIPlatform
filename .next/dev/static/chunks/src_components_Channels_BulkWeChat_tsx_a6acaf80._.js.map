{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Channels/BulkWeChat.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  MessageSquare, Send, Upload, Users, Calendar, Save, X,\n  CheckCircle, AlertCircle, Clock, FileText, Smartphone, Settings,\n  Pause, Play, Edit, Trash2, Filter, ChevronDown, ChevronUp, Plus\n} from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\n\ninterface Campaign {\n  id: string;\n  campaign_name: string;\n  status: string;\n  total_recipients: number;\n  valid_numbers: number;\n  created_at: string;\n}\n\ninterface Message {\n  id: string;\n  openid: string;\n  message: string;\n  status: string;\n  error_message: string | null;\n  sent_at: string | null;\n  delivered_at: string | null;\n  read_at: string | null;\n  created_at: string;\n}\n\ninterface Template {\n  id: string;\n  name: string;\n  body_content: string;\n  category: string;\n  language: string;\n  description: string;\n}\n\nexport default function BulkWeChat() {\n  const { user } = useAuth();\n  const [activeView, setActiveView] = useState<'compose' | 'campaigns' | 'templates'>('compose');\n  const [statusFilter, setStatusFilter] = useState<'all' | 'draft' | 'scheduled' | 'in_progress' | 'completed' | 'paused'>('all');\n\n  const [campaignName, setCampaignName] = useState('');\n  const [messageType, setMessageType] = useState('text');\n  const [wechatAccount, setWechatAccount] = useState('');\n  const [selectedTemplate, setSelectedTemplate] = useState('');\n  const [message, setMessage] = useState('');\n  const [recipientMode, setRecipientMode] = useState<'paste' | 'upload' | 'phonebook'>('paste');\n  const [pastedNumbers, setPastedNumbers] = useState('');\n  const [sendMode, setSendMode] = useState<'now' | 'schedule'>('now');\n  const [scheduledDate, setScheduledDate] = useState('');\n\n  const [campaigns, setCampaigns] = useState<Campaign[]>([]);\n  const [templates, setTemplates] = useState<Template[]>([]);\n  const [wechatAccounts, setWechatAccounts] = useState<any[]>([]);\n  const [stats, setStats] = useState({\n    totalSent: 0,\n    delivered: 0,\n    pending: 0,\n    failed: 0\n  });\n\n  const [numberValidation, setNumberValidation] = useState({\n    valid: 0,\n    duplicates: 0,\n    invalid: 0\n  });\n\n  const [loading, setLoading] = useState(true);\n  const [expandedCampaign, setExpandedCampaign] = useState<string | null>(null);\n  const [campaignMessages, setCampaignMessages] = useState<Record<string, Message[]>>({});\n  const [loadingMessages, setLoadingMessages] = useState<Record<string, boolean>>({});\n  const [notification, setNotification] = useState<{ type: 'success' | 'error'; message: string } | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      Promise.all([\n        loadCampaigns(),\n        loadTemplates(),\n        loadStats(),\n        loadWeChatAccounts()\n      ]).finally(() => setLoading(false));\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (notification) {\n      const timer = setTimeout(() => setNotification(null), 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [notification]);\n\n  useEffect(() => {\n    if (user) {\n      loadCampaigns();\n    }\n  }, [statusFilter]);\n\n  useEffect(() => {\n    if (pastedNumbers) {\n      validateNumbers(pastedNumbers);\n    } else {\n      setNumberValidation({ valid: 0, duplicates: 0, invalid: 0 });\n    }\n  }, [pastedNumbers]);\n\n  const loadCampaigns = async () => {\n    let query = db\n      .from('wechat_campaigns')\n      .select('*')\n      .order('created_at', { ascending: false });\n\n    if (statusFilter !== 'all') {\n      query = query.eq('status', statusFilter);\n    }\n\n    const { data, error } = await query;\n\n    if (!error && data) {\n      setCampaigns(data);\n    }\n  };\n\n  const loadCampaignMessages = async (campaignId: string) => {\n    setLoadingMessages(prev => ({ ...prev, [campaignId]: true }));\n\n    const { data, error } = await db\n      .from('wechat_messages')\n      .select('*')\n      .eq('campaign_id', campaignId)\n      .order('created_at', { ascending: false })\n      .limit(100);\n\n    if (!error && data) {\n      setCampaignMessages(prev => ({ ...prev, [campaignId]: data }));\n    }\n\n    setLoadingMessages(prev => ({ ...prev, [campaignId]: false }));\n  };\n\n  const toggleCampaignExpand = async (campaignId: string) => {\n    if (expandedCampaign === campaignId) {\n      setExpandedCampaign(null);\n    } else {\n      setExpandedCampaign(campaignId);\n      if (!campaignMessages[campaignId]) {\n        await loadCampaignMessages(campaignId);\n      }\n    }\n  };\n\n  const loadTemplates = async () => {\n    const { data, error } = await db\n      .from('wechat_templates')\n      .select('*')\n      .order('name');\n\n    if (!error && data) {\n      setTemplates(data);\n    }\n  };\n\n  const loadStats = async () => {\n    const { data: campaignsData } = await db\n      .from('wechat_campaigns')\n      .select('total_recipients, valid_numbers, status');\n\n    if (campaignsData) {\n      const totalSent = campaignsData.reduce((acc: number, c: any) => acc + (c.valid_numbers || 0), 0);\n      const delivered = campaignsData.filter((c: any) => c.status === 'completed').reduce((acc: number, c: any) => acc + (c.valid_numbers || 0), 0);\n      const pending = campaignsData.filter((c: any) => c.status === 'in_progress').reduce((acc: number, c: any) => acc + (c.valid_numbers || 0), 0);\n\n      setStats({\n        totalSent,\n        delivered,\n        pending,\n        failed: totalSent - delivered - pending\n      });\n    }\n  };\n\n  const loadWeChatAccounts = async () => {\n    const { data } = await db\n      .from('wechat_accounts')\n      .select('*')\n      .eq('is_active', true);\n\n    if (data && data.length > 0) {\n      setWechatAccounts(data);\n      setWechatAccount(data[0].id);\n    }\n  };\n\n  const validateNumbers = (text: string) => {\n    const lines = text.split('\\n').filter(line => line.trim());\n    const numbers = lines.map(line => line.trim());\n\n    const openIdRegex = /^[a-zA-Z0-9_-]{28}$/;\n    const validNums = numbers.filter(n => openIdRegex.test(n) || n.length >= 20);\n    const unique = new Set(validNums);\n    const duplicates = validNums.length - unique.size;\n    const invalid = numbers.length - validNums.length;\n\n    setNumberValidation({\n      valid: unique.size,\n      duplicates,\n      invalid\n    });\n  };\n\n  const handleTemplateChange = (templateId: string) => {\n    setSelectedTemplate(templateId);\n    const template = templates.find(t => t.id === templateId);\n    if (template) {\n      setMessage(template.body_content);\n    }\n  };\n\n  const handleSendCampaign = async () => {\n    if (!campaignName || !messageType || !wechatAccount || !message || !user) {\n      setNotification({ type: 'error', message: 'Please fill in all required fields' });\n      return;\n    }\n\n    if (numberValidation.valid === 0) {\n      setNotification({ type: 'error', message: 'Please add valid WeChat OpenIDs' });\n      return;\n    }\n\n    try {\n      const { data: campaign, error } = await db\n        .from('wechat_campaigns')\n        .insert({\n          user_id: user.id,\n          campaign_name: campaignName,\n          message_type: messageType,\n          wechat_account_id: wechatAccount,\n          message_content: message,\n          total_recipients: numberValidation.valid + numberValidation.duplicates + numberValidation.invalid,\n          valid_numbers: numberValidation.valid,\n          invalid_numbers: numberValidation.invalid,\n          duplicate_numbers: numberValidation.duplicates,\n          status: sendMode === 'now' ? 'in_progress' : 'scheduled',\n          scheduled_at: sendMode === 'schedule' ? scheduledDate : null,\n          template_id: selectedTemplate || null\n        })\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      const openIds = pastedNumbers.split('\\n').filter(line => line.trim());\n      const validIds = [...new Set(openIds.filter(id => id.trim().length >= 20))];\n\n      const messages = validIds.map(openid => ({\n        campaign_id: campaign.id,\n        openid: openid.trim(),\n        message: message,\n        status: 'pending'\n      }));\n\n      const { error: messagesError } = await db\n        .from('wechat_messages')\n        .insert(messages);\n\n      if (messagesError) throw messagesError;\n\n      setNotification({ type: 'success', message: 'Campaign created successfully!' });\n\n      setCampaignName('');\n      setMessage('');\n      setPastedNumbers('');\n      setSelectedTemplate('');\n      setScheduledDate('');\n\n      await loadCampaigns();\n      await loadStats();\n      setActiveView('campaigns');\n    } catch (error) {\n      console.error('Error creating campaign:', error);\n      setNotification({ type: 'error', message: 'Failed to create campaign' });\n    }\n  };\n\n  const updateCampaignStatus = async (campaignId: string, newStatus: string) => {\n    try {\n      const { error } = await db\n        .from('wechat_campaigns')\n        .update({ status: newStatus })\n        .eq('id', campaignId);\n\n      if (error) throw error;\n\n      setNotification({ type: 'success', message: `Campaign ${newStatus} successfully` });\n      await loadCampaigns();\n      await loadStats();\n    } catch (error) {\n      console.error('Error updating campaign:', error);\n      setNotification({ type: 'error', message: 'Failed to update campaign' });\n    }\n  };\n\n  const deleteCampaign = async (campaignId: string) => {\n    if (!confirm('Are you sure you want to delete this campaign?')) return;\n\n    try {\n      const { error } = await db\n        .from('wechat_campaigns')\n        .delete()\n        .eq('id', campaignId);\n\n      if (error) throw error;\n\n      setNotification({ type: 'success', message: 'Campaign deleted successfully' });\n      await loadCampaigns();\n      await loadStats();\n    } catch (error) {\n      console.error('Error deleting campaign:', error);\n      setNotification({ type: 'error', message: 'Failed to delete campaign' });\n    }\n  };\n\n  const filteredCampaigns = campaigns;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-slate-950\">\n        <div className=\"text-slate-400\">Loading WeChat...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 p-8\">\n      {notification && (\n        <div className={`fixed top-4 right-4 z-50 px-6 py-3 rounded-lg border ${\n          notification.type === 'success'\n            ? 'bg-green-500/20 border-green-500/50 text-green-400'\n            : 'bg-red-500/20 border-red-500/50 text-red-400'\n        }`}>\n          {notification.message}\n        </div>\n      )}\n\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2 flex items-center gap-3\">\n          <MessageSquare className=\"w-10 h-10 text-green-600\" />\n          WeChat Official Account Messaging\n        </h1>\n        <p className=\"text-slate-400\">Send bulk messages to your WeChat followers</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-gradient-to-br from-green-600/10 to-green-700/10 border border-green-600/30 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-green-600/20 rounded-lg\">\n              <Send className=\"w-6 h-6 text-green-500\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{stats.totalSent.toLocaleString()}</div>\n          <div className=\"text-slate-400 text-sm\">Total Sent</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-green-500/20 rounded-lg\">\n              <CheckCircle className=\"w-6 h-6 text-green-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{stats.delivered.toLocaleString()}</div>\n          <div className=\"text-slate-400 text-sm\">Delivered</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-yellow-500/20 rounded-lg\">\n              <Clock className=\"w-6 h-6 text-yellow-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{stats.pending.toLocaleString()}</div>\n          <div className=\"text-slate-400 text-sm\">Pending</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-red-500/20 rounded-lg\">\n              <AlertCircle className=\"w-6 h-6 text-red-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{stats.failed.toLocaleString()}</div>\n          <div className=\"text-slate-400 text-sm\">Failed</div>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl overflow-hidden\">\n        <div className=\"border-b border-slate-700 bg-slate-800/80\">\n          <div className=\"flex gap-2 p-2\">\n            {['compose', 'campaigns', 'templates'].map((view) => (\n              <button\n                key={view}\n                onClick={() => setActiveView(view as any)}\n                className={`px-6 py-3 rounded-lg font-medium transition-all ${\n                  activeView === view\n                    ? 'bg-green-600/20 text-green-500 border border-green-600/30'\n                    : 'text-slate-400 hover:text-white hover:bg-slate-700/50'\n                }`}\n              >\n                {view.charAt(0).toUpperCase() + view.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {activeView === 'compose' && (\n            <div className=\"space-y-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">Campaign Name *</label>\n                  <input\n                    type=\"text\"\n                    value={campaignName}\n                    onChange={(e) => setCampaignName(e.target.value)}\n                    placeholder=\"Enter campaign name\"\n                    className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">Message Type *</label>\n                  <select\n                    value={messageType}\n                    onChange={(e) => setMessageType(e.target.value)}\n                    className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white\"\n                  >\n                    <option value=\"text\">Text Message</option>\n                    <option value=\"image\">Image Message</option>\n                    <option value=\"video\">Video Message</option>\n                    <option value=\"news\">News Article</option>\n                    <option value=\"miniprogram\">Mini Program</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">WeChat Account *</label>\n                  <select\n                    value={wechatAccount}\n                    onChange={(e) => setWechatAccount(e.target.value)}\n                    className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white\"\n                  >\n                    {wechatAccounts.map((account) => (\n                      <option key={account.id} value={account.id}>\n                        {account.account_name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">Template (Optional)</label>\n                  <select\n                    value={selectedTemplate}\n                    onChange={(e) => handleTemplateChange(e.target.value)}\n                    className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white\"\n                  >\n                    <option value=\"\">Select a template</option>\n                    {templates.map((template) => (\n                      <option key={template.id} value={template.id}>\n                        {template.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Message Content *</label>\n                <textarea\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  placeholder=\"输入您的消息内容... (Type your message here...)\"\n                  rows={6}\n                  className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white resize-none\"\n                />\n                <div className=\"text-right text-sm text-slate-400 mt-2\">\n                  {message.length} characters\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Recipients *</label>\n                <div className=\"flex gap-2 mb-3\">\n                  {(['paste', 'upload', 'phonebook'] as const).map((mode) => (\n                    <button\n                      key={mode}\n                      onClick={() => setRecipientMode(mode)}\n                      className={`px-4 py-2 rounded-lg font-medium transition-all ${\n                        recipientMode === mode\n                          ? 'bg-green-600/20 text-green-500 border border-green-600/30'\n                          : 'bg-slate-700/50 text-slate-400 hover:text-white'\n                      }`}\n                    >\n                      {mode.charAt(0).toUpperCase() + mode.slice(1)}\n                    </button>\n                  ))}\n                </div>\n\n                {recipientMode === 'paste' && (\n                  <textarea\n                    value={pastedNumbers}\n                    onChange={(e) => setPastedNumbers(e.target.value)}\n                    placeholder=\"Paste WeChat OpenIDs (one per line)&#10;Example:&#10;oqTh7t-KWWq1VGdLe8uSwE8Gv4Vc&#10;oqTh7t-KWWq1VGdLe8uSwE8Gv4Vd\"\n                    rows={8}\n                    className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white font-mono text-sm resize-none\"\n                  />\n                )}\n\n                {pastedNumbers && (\n                  <div className=\"grid grid-cols-3 gap-4 mt-3\">\n                    <div className=\"bg-green-500/10 border border-green-500/30 rounded-lg p-3\">\n                      <div className=\"text-green-400 text-2xl font-bold\">{numberValidation.valid}</div>\n                      <div className=\"text-slate-400 text-sm\">Valid</div>\n                    </div>\n                    <div className=\"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3\">\n                      <div className=\"text-yellow-400 text-2xl font-bold\">{numberValidation.duplicates}</div>\n                      <div className=\"text-slate-400 text-sm\">Duplicates</div>\n                    </div>\n                    <div className=\"bg-red-500/10 border border-red-500/30 rounded-lg p-3\">\n                      <div className=\"text-red-400 text-2xl font-bold\">{numberValidation.invalid}</div>\n                      <div className=\"text-slate-400 text-sm\">Invalid</div>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">Send Mode</label>\n                <div className=\"flex gap-4\">\n                  <button\n                    onClick={() => setSendMode('now')}\n                    className={`flex-1 py-3 rounded-lg font-medium transition-all ${\n                      sendMode === 'now'\n                        ? 'bg-green-600/20 text-green-500 border border-green-600/30'\n                        : 'bg-slate-700/50 text-slate-400 hover:text-white'\n                    }`}\n                  >\n                    Send Now\n                  </button>\n                  <button\n                    onClick={() => setSendMode('schedule')}\n                    className={`flex-1 py-3 rounded-lg font-medium transition-all ${\n                      sendMode === 'schedule'\n                        ? 'bg-green-600/20 text-green-500 border border-green-600/30'\n                        : 'bg-slate-700/50 text-slate-400 hover:text-white'\n                    }`}\n                  >\n                    Schedule\n                  </button>\n                </div>\n              </div>\n\n              {sendMode === 'schedule' && (\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">Schedule Date & Time</label>\n                  <input\n                    type=\"datetime-local\"\n                    value={scheduledDate}\n                    onChange={(e) => setScheduledDate(e.target.value)}\n                    className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-3 text-white\"\n                  />\n                </div>\n              )}\n\n              <div className=\"flex justify-end gap-3 pt-4 border-t border-slate-700\">\n                <button className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors\">\n                  Save as Draft\n                </button>\n                <button\n                  onClick={handleSendCampaign}\n                  className=\"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg transition-all flex items-center gap-2\"\n                >\n                  <Send className=\"w-5 h-5\" />\n                  {sendMode === 'now' ? 'Send Campaign' : 'Schedule Campaign'}\n                </button>\n              </div>\n            </div>\n          )}\n\n          {activeView === 'campaigns' && (\n            <div>\n              <div className=\"flex gap-4 mb-6\">\n                <select\n                  value={statusFilter}\n                  onChange={(e) => setStatusFilter(e.target.value as any)}\n                  className=\"px-4 py-2 bg-slate-900/50 border border-slate-700 rounded-lg text-white\"\n                >\n                  <option value=\"all\">All Status</option>\n                  <option value=\"draft\">Draft</option>\n                  <option value=\"scheduled\">Scheduled</option>\n                  <option value=\"in_progress\">In Progress</option>\n                  <option value=\"completed\">Completed</option>\n                  <option value=\"paused\">Paused</option>\n                </select>\n              </div>\n\n              <div className=\"space-y-4\">\n                {filteredCampaigns.length === 0 ? (\n                  <div className=\"text-center py-12\">\n                    <MessageSquare className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n                    <p className=\"text-slate-400 text-lg mb-2\">No campaigns found</p>\n                    <p className=\"text-slate-500 text-sm\">Create your first WeChat campaign to get started</p>\n                  </div>\n                ) : (\n                  filteredCampaigns.map((campaign) => (\n                    <div key={campaign.id} className=\"bg-slate-900/50 border border-slate-700 rounded-lg\">\n                      <div className=\"p-4\">\n                        <div className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center gap-4 flex-1\">\n                            <div className=\"p-3 bg-green-600/20 rounded-lg\">\n                              <MessageSquare className=\"w-6 h-6 text-green-500\" />\n                            </div>\n                            <div className=\"flex-1\">\n                              <h3 className=\"text-white font-semibold text-lg\">{campaign.campaign_name}</h3>\n                              <div className=\"flex items-center gap-4 mt-1 text-sm text-slate-400\">\n                                <span>Recipients: {campaign.valid_numbers}</span>\n                                <span>•</span>\n                                <span>{new Date(campaign.created_at).toLocaleDateString()}</span>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-3\">\n                            <span className={`px-3 py-1 rounded-full text-xs font-medium ${\n                              campaign.status === 'completed' ? 'bg-green-500/20 text-green-400' :\n                              campaign.status === 'in_progress' ? 'bg-blue-500/20 text-blue-400' :\n                              campaign.status === 'paused' ? 'bg-yellow-500/20 text-yellow-400' :\n                              'bg-slate-500/20 text-slate-400'\n                            }`}>\n                              {campaign.status}\n                            </span>\n                            {campaign.status === 'in_progress' && (\n                              <button\n                                onClick={() => updateCampaignStatus(campaign.id, 'paused')}\n                                className=\"p-2 hover:bg-yellow-500/20 text-yellow-400 rounded-lg\"\n                              >\n                                <Pause className=\"w-4 h-4\" />\n                              </button>\n                            )}\n                            {campaign.status === 'paused' && (\n                              <button\n                                onClick={() => updateCampaignStatus(campaign.id, 'in_progress')}\n                                className=\"p-2 hover:bg-green-500/20 text-green-400 rounded-lg\"\n                              >\n                                <Play className=\"w-4 h-4\" />\n                              </button>\n                            )}\n                            <button\n                              onClick={() => deleteCampaign(campaign.id)}\n                              className=\"p-2 hover:bg-red-500/20 text-red-400 rounded-lg\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                            <button\n                              onClick={() => toggleCampaignExpand(campaign.id)}\n                              className=\"p-2 hover:bg-slate-700 rounded-lg text-slate-400\"\n                            >\n                              {expandedCampaign === campaign.id ? (\n                                <ChevronUp className=\"w-4 h-4\" />\n                              ) : (\n                                <ChevronDown className=\"w-4 h-4\" />\n                              )}\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n\n                      {expandedCampaign === campaign.id && (\n                        <div className=\"border-t border-slate-700 p-4 bg-slate-950/50\">\n                          {loadingMessages[campaign.id] ? (\n                            <div className=\"text-center py-8 text-slate-400\">Loading messages...</div>\n                          ) : (\n                            <div className=\"overflow-x-auto\">\n                              <table className=\"w-full\">\n                                <thead>\n                                  <tr className=\"border-b border-slate-700\">\n                                    <th className=\"text-left p-3 text-slate-400 font-medium\">OpenID</th>\n                                    <th className=\"text-left p-3 text-slate-400 font-medium\">Status</th>\n                                    <th className=\"text-left p-3 text-slate-400 font-medium\">Sent At</th>\n                                    <th className=\"text-left p-3 text-slate-400 font-medium\">Delivered At</th>\n                                  </tr>\n                                </thead>\n                                <tbody>\n                                  {(campaignMessages[campaign.id] || []).map((msg) => (\n                                    <tr key={msg.id} className=\"border-b border-slate-700/50\">\n                                      <td className=\"p-3 text-white font-mono text-sm\">{msg.openid}</td>\n                                      <td className=\"p-3\">\n                                        <span className={`px-2 py-1 rounded text-xs ${\n                                          msg.status === 'delivered' ? 'bg-green-500/20 text-green-400' :\n                                          msg.status === 'sent' ? 'bg-blue-500/20 text-blue-400' :\n                                          msg.status === 'failed' ? 'bg-red-500/20 text-red-400' :\n                                          'bg-slate-500/20 text-slate-400'\n                                        }`}>\n                                          {msg.status}\n                                        </span>\n                                      </td>\n                                      <td className=\"p-3 text-slate-400 text-sm\">\n                                        {msg.sent_at ? new Date(msg.sent_at).toLocaleString() : '-'}\n                                      </td>\n                                      <td className=\"p-3 text-slate-400 text-sm\">\n                                        {msg.delivered_at ? new Date(msg.delivered_at).toLocaleString() : '-'}\n                                      </td>\n                                    </tr>\n                                  ))}\n                                </tbody>\n                              </table>\n                            </div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeView === 'templates' && (\n            <div>\n              <div className=\"flex justify-between items-center mb-6\">\n                <h3 className=\"text-xl font-semibold text-white\">Message Templates</h3>\n                <button className=\"px-4 py-2 bg-green-600/20 text-green-500 border border-green-600/30 rounded-lg hover:bg-green-600/30 transition-colors flex items-center gap-2\">\n                  <Plus className=\"w-4 h-4\" />\n                  New Template\n                </button>\n              </div>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {templates.map((template) => (\n                  <div key={template.id} className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4\">\n                    <h4 className=\"text-white font-semibold mb-2\">{template.name}</h4>\n                    <p className=\"text-slate-400 text-sm mb-3\">{template.description}</p>\n                    <div className=\"bg-slate-950/50 border border-slate-700 rounded p-3 text-sm text-slate-300 mb-3\">\n                      {template.body_content}\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <span className=\"px-2 py-1 bg-green-600/20 text-green-500 rounded text-xs\">\n                        {template.category}\n                      </span>\n                      <span className=\"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs\">\n                        {template.language}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}