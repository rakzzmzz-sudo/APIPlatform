{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Billing.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CreditCard, Download, DollarSign, TrendingUp, Calendar, Plus, X } from 'lucide-react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\nimport MalaysianInvoiceViewer from './MalaysianInvoiceViewer';\n\ninterface Transaction {\n  id: string;\n  date: string;\n  description: string;\n  amount: number;\n  status: 'paid' | 'pending' | 'failed';\n  type?: string;\n}\n\ninterface PaymentMethod {\n  id: string;\n  card_type: string;\n  last_four: string;\n  expiry_month: string;\n  expiry_year: string;\n  cardholder_name: string;\n  is_primary: boolean;\n}\n\nexport default function Billing() {\n  const { user, profile } = useAuth();\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\n  const [showTopUpModal, setShowTopUpModal] = useState(false);\n  const [topUpAmount, setTopUpAmount] = useState('');\n  const [paymentModalMode, setPaymentModalMode] = useState<'add' | 'update'>('add');\n  const [cardNumber, setCardNumber] = useState('');\n  const [cardName, setCardName] = useState('');\n  const [expiryDate, setExpiryDate] = useState('');\n  const [cvv, setCvv] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [paymentMethods, setPaymentMethods] = useState<PaymentMethod[]>([]);\n  const [selectedPaymentMethod, setSelectedPaymentMethod] = useState<string | null>(null);\n  const [processingTopUp, setProcessingTopUp] = useState(false);\n  const [selectedInvoiceId, setSelectedInvoiceId] = useState<string | null>(null);\n  const [generatingInvoice, setGeneratingInvoice] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (user) {\n      loadTransactions();\n      loadPaymentMethods();\n    }\n  }, [user]);\n\n  const loadTransactions = async () => {\n    const { data, error } = await db\n      .from('transactions')\n      .select('*')\n      .order('created_at', { ascending: false })\n      .limit(10);\n\n    if (!error && data) {\n      const formattedTransactions = data.map((t: any) => ({\n        id: t.id,\n        date: t.created_at,\n        description: t.description,\n        amount: Math.abs(Number(t.amount)),\n        status: 'paid' as const,\n        type: t.type\n      }));\n      setTransactions(formattedTransactions);\n    }\n    setLoading(false);\n  };\n\n  const loadPaymentMethods = async () => {\n    const { data, error } = await db\n      .from('payment_methods')\n      .select('*')\n      .order('is_primary', { ascending: false });\n\n    if (!error && data) {\n      setPaymentMethods(data);\n      const primary = data.find((pm: PaymentMethod) => pm.is_primary);\n      if (primary) {\n        setSelectedPaymentMethod(primary.id);\n      }\n    }\n  };\n\n  const mockTransactions: Transaction[] = [\n    {\n      id: '1',\n      date: '2024-12-20',\n      description: 'SMS API Campaign - December',\n      amount: 10890.00,\n      status: 'paid'\n    },\n    {\n      id: '2',\n      date: '2024-12-18',\n      description: 'Whatsapp API Usage',\n      amount: 8402.50,\n      status: 'paid'\n    },\n    {\n      id: '3',\n      date: '2024-12-15',\n      description: 'Voice Calls - Q4',\n      amount: 3001.25,\n      status: 'paid'\n    },\n    {\n      id: '4',\n      date: '2024-12-10',\n      description: 'RCS API Messaging',\n      amount: 5555.00,\n      status: 'paid'\n    },\n    {\n      id: '5',\n      date: '2024-12-05',\n      description: 'Email API Credits',\n      amount: 555.00,\n      status: 'paid'\n    }\n  ];\n\n  const displayTransactions = transactions.length > 0 ? transactions : mockTransactions;\n  const totalSpent = displayTransactions.reduce((sum, t) => sum + t.amount, 0);\n  const currentBalance = profile?.balance || 0;\n  const pendingCharges = 0;\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'paid': return 'bg-green-500/20 text-green-400 border-green-500/30';\n      case 'pending': return 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30';\n      case 'failed': return 'bg-red-500/20 text-red-400 border-red-500/30';\n      default: return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n    }\n  };\n\n  const handleOpenPaymentModal = (mode: 'add' | 'update', paymentMethodId?: string) => {\n    setPaymentModalMode(mode);\n    if (mode === 'update' && paymentMethodId) {\n      const pm = paymentMethods.find(p => p.id === paymentMethodId);\n      if (pm) {\n        setCardNumber(`**** **** **** ${pm.last_four}`);\n        setCardName(pm.cardholder_name);\n        setExpiryDate(`${pm.expiry_month}/${pm.expiry_year}`);\n        setCvv('');\n        setSelectedPaymentMethod(paymentMethodId);\n      }\n    } else {\n      setCardNumber('');\n      setCardName('');\n      setExpiryDate('');\n      setCvv('');\n      setSelectedPaymentMethod(null);\n    }\n    setShowPaymentModal(true);\n  };\n\n  const handleClosePaymentModal = () => {\n    setShowPaymentModal(false);\n    setCardNumber('');\n    setCardName('');\n    setExpiryDate('');\n    setCvv('');\n    setSelectedPaymentMethod(null);\n  };\n\n  const getCardType = (cardNumber: string): string => {\n    const cleaned = cardNumber.replace(/\\s/g, '');\n    if (cleaned.startsWith('4')) return 'Visa';\n    if (cleaned.startsWith('5')) return 'Mastercard';\n    if (cleaned.startsWith('3')) return 'American Express';\n    return 'Unknown';\n  };\n\n  const handleSubmitPaymentMethod = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const [month, year] = expiryDate.split('/');\n    const lastFour = cardNumber.replace(/\\s/g, '').slice(-4);\n    const cardType = getCardType(cardNumber);\n\n    if (paymentModalMode === 'update' && selectedPaymentMethod) {\n      const { error } = await db\n        .from('payment_methods')\n        .update({\n          card_type: cardType,\n          last_four: lastFour,\n          expiry_month: month,\n          expiry_year: year,\n          cardholder_name: cardName,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', selectedPaymentMethod);\n\n      if (!error) {\n        alert('Payment method updated successfully!');\n        loadPaymentMethods();\n      }\n    } else {\n      const { error } = await db\n        .from('payment_methods')\n        .insert({\n          user_id: user?.id,\n          card_type: cardType,\n          last_four: lastFour,\n          expiry_month: month,\n          expiry_year: year,\n          cardholder_name: cardName,\n          is_primary: paymentMethods.length === 0\n        });\n\n      if (!error) {\n        alert('Payment method added successfully!');\n        loadPaymentMethods();\n      }\n    }\n\n    handleClosePaymentModal();\n  };\n\n  const handleTopUp = async () => {\n    if (!topUpAmount || parseFloat(topUpAmount) <= 0) {\n      alert('Please enter a valid amount');\n      return;\n    }\n\n    if (!selectedPaymentMethod) {\n      alert('Please select a payment method');\n      return;\n    }\n\n    setProcessingTopUp(true);\n\n    try {\n      const amount = parseFloat(topUpAmount);\n\n      const { error: transactionError } = await db\n        .from('transactions')\n        .insert({\n          user_id: user?.id,\n          type: 'topup',\n          amount: amount,\n          description: `Account Top-up - RM ${amount.toFixed(2)}`,\n          status: 'completed'\n        });\n\n      if (transactionError) throw transactionError;\n\n      const newBalance = (profile?.balance || 0) + amount;\n      const { error: profileError } = await db\n        .from('user_profiles')\n        .update({ balance: newBalance })\n        .eq('user_id', user?.id);\n\n      if (profileError) throw profileError;\n\n      alert(`Successfully topped up RM ${amount.toFixed(2)}!`);\n      setShowTopUpModal(false);\n      setTopUpAmount('');\n      loadTransactions();\n      window.location.reload();\n    } catch (error) {\n      console.error('Error processing top-up:', error);\n      alert('Failed to process top-up. Please try again.');\n    } finally {\n      setProcessingTopUp(false);\n    }\n  };\n\n  const handleViewInvoice = async (transactionId: string) => {\n    setGeneratingInvoice(transactionId);\n\n    try {\n      const { data: existingInvoice } = await db\n        .from('invoices')\n        .select('id')\n        .eq('transaction_id', transactionId)\n        .maybeSingle();\n\n      if (existingInvoice) {\n        setSelectedInvoiceId(existingInvoice.id);\n        setGeneratingInvoice(null);\n        return;\n      }\n\n      if (!profile) {\n        alert('Tenant information not available');\n        setGeneratingInvoice(null);\n        return;\n      }\n\n      const { data: tenantUser } = await db\n        .from('tenant_users')\n        .select('tenant_id')\n        .eq('user_id', user?.id)\n        .maybeSingle();\n\n      const { data: companySettings } = await db\n        .from('company_settings')\n        .select('*')\n        .eq('tenant_id', tenantUser?.tenant_id)\n        .maybeSingle();\n\n      if (!companySettings) {\n        alert('Company settings not configured. Please contact administrator.');\n        setGeneratingInvoice(null);\n        return;\n      }\n\n      const transaction = transactions.find(t => t.id === transactionId);\n      if (!transaction) {\n        alert('Transaction not found');\n        setGeneratingInvoice(null);\n        return;\n      }\n\n      const { data: invoiceNumber } = await db\n        .rpc('get_next_invoice_number', { p_tenant_id: tenantUser?.tenant_id });\n\n      const invoiceDate = new Date();\n      const dueDate = new Date();\n      dueDate.setDate(dueDate.getDate() + 30);\n\n      const subtotal = transaction.amount;\n      const sstRate = 6.00;\n      const sstAmount = subtotal * (sstRate / 100);\n      const totalAmount = subtotal + sstAmount;\n\n      const { data: newInvoice, error: invoiceError } = await db\n        .from('invoices')\n        .insert({\n          tenant_id: tenantUser?.tenant_id,\n          user_id: user?.id,\n          invoice_number: invoiceNumber,\n          invoice_date: invoiceDate.toISOString().split('T')[0],\n          due_date: dueDate.toISOString().split('T')[0],\n          transaction_id: transactionId,\n          status: 'issued',\n          customer_name: profile.full_name || 'Customer',\n          customer_email: profile.email,\n          customer_address: '',\n          customer_company: 'Platform',\n          subtotal: subtotal,\n          sst_rate: sstRate,\n          sst_amount: sstAmount,\n          total_amount: totalAmount,\n          currency: 'MYR',\n          payment_terms: 'Payment due within 30 days'\n        })\n        .select()\n        .single();\n\n      if (invoiceError) throw invoiceError;\n\n      const { error: itemError } = await db\n        .from('invoice_items')\n        .insert({\n          invoice_id: newInvoice.id,\n          description: transaction.description,\n          quantity: 1,\n          unit_price: subtotal,\n          amount: subtotal\n        });\n\n      if (itemError) throw itemError;\n\n      setSelectedInvoiceId(newInvoice.id);\n    } catch (error) {\n      console.error('Error generating invoice:', error);\n      alert('Failed to generate invoice');\n    } finally {\n      setGeneratingInvoice(null);\n    }\n  };\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-slate-950 p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">Billing & Payments</h1>\n        <p className=\"text-slate-400 text-lg\">Manage your billing information and payment history</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Current Balance</p>\n              <p className=\"text-4xl font-bold text-white\">RM {currentBalance.toLocaleString()}</p>\n            </div>\n            <div className=\"bg-green-500/20 p-3 rounded-xl\">\n              <DollarSign className=\"w-6 h-6 text-green-400\" />\n            </div>\n          </div>\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-green-400 text-sm\">Available credits</p>\n            <button\n              onClick={() => setShowTopUpModal(true)}\n              className=\"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-2 rounded-lg transition-all text-sm font-semibold flex items-center gap-2\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Top Up\n            </button>\n          </div>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Total Spent</p>\n              <p className=\"text-4xl font-bold text-white\">RM {totalSpent.toLocaleString()}</p>\n            </div>\n            <div className=\"bg-blue-500/20 p-3 rounded-xl\">\n              <TrendingUp className=\"w-6 h-6 text-blue-400\" />\n            </div>\n          </div>\n          <p className=\"text-blue-400 text-sm\">This month</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Pending Charges</p>\n              <p className=\"text-4xl font-bold text-white\">RM {pendingCharges.toFixed(2)}</p>\n            </div>\n            <div className=\"bg-orange-500/20 p-3 rounded-xl\">\n              <Calendar className=\"w-6 h-6 text-orange-400\" />\n            </div>\n          </div>\n          <p className=\"text-slate-400 text-sm\">Awaiting processing</p>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-white\">Payment Methods</h2>\n          <div className=\"flex gap-3\">\n            <button\n              onClick={() => handleOpenPaymentModal('add')}\n              className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors text-sm flex items-center gap-2\"\n            >\n              <Plus className=\"w-4 h-4\" />\n              Add Payment Method\n            </button>\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"flex items-center justify-center h-32\">\n            <div className=\"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n          </div>\n        ) : paymentMethods.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <CreditCard className=\"w-12 h-12 text-slate-600 mx-auto mb-3\" />\n            <p className=\"text-slate-400 mb-4\">No payment methods added yet</p>\n            <button\n              onClick={() => handleOpenPaymentModal('add')}\n              className=\"text-blue-400 hover:text-blue-300 text-sm\"\n            >\n              Add your first payment method\n            </button>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {paymentMethods.map((pm) => (\n              <div key={pm.id} className=\"flex items-center gap-4 p-4 bg-slate-900/50 rounded-lg hover:bg-slate-900/70 transition-colors\">\n                <div className=\"bg-blue-500/20 p-3 rounded-lg\">\n                  <CreditCard className=\"w-6 h-6 text-blue-400\" />\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"text-white font-medium\">{pm.card_type} ending in {pm.last_four}</div>\n                  <div className=\"text-slate-400 text-sm\">Expires {pm.expiry_month}/{pm.expiry_year}</div>\n                </div>\n                {pm.is_primary && (\n                  <span className=\"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full border border-green-500/30\">\n                    Primary\n                  </span>\n                )}\n                <button\n                  onClick={() => handleOpenPaymentModal('update', pm.id)}\n                  className=\"text-blue-400 hover:text-blue-300 text-sm px-3 py-1 rounded bg-blue-500/10 hover:bg-blue-500/20 transition-colors\"\n                >\n                  Edit\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl font-bold text-white\">Transaction History</h2>\n          <button className=\"bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors text-sm flex items-center gap-2\">\n            <Download className=\"w-4 h-4\" />\n            Export\n          </button>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-slate-700\">\n                <th className=\"text-left py-3 px-4 text-slate-400 font-medium text-sm\">Date</th>\n                <th className=\"text-left py-3 px-4 text-slate-400 font-medium text-sm\">Description</th>\n                <th className=\"text-right py-3 px-4 text-slate-400 font-medium text-sm\">Amount</th>\n                <th className=\"text-center py-3 px-4 text-slate-400 font-medium text-sm\">Status</th>\n                <th className=\"text-center py-3 px-4 text-slate-400 font-medium text-sm\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {displayTransactions.map((transaction) => (\n                <tr key={transaction.id} className=\"border-b border-slate-700/50 hover:bg-slate-700/20\">\n                  <td className=\"py-4 px-4 text-slate-300\">\n                    {new Date(transaction.date).toLocaleDateString('en-US', {\n                      month: 'short',\n                      day: 'numeric',\n                      year: 'numeric'\n                    })}\n                  </td>\n                  <td className=\"py-4 px-4 text-white\">{transaction.description}</td>\n                  <td className=\"py-4 px-4 text-right text-white font-medium\">\n                    RM {transaction.amount.toFixed(2)}\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(transaction.status)}`}>\n                      {transaction.status}\n                    </span>\n                  </td>\n                  <td className=\"py-4 px-4 text-center\">\n                    <button\n                      onClick={() => handleViewInvoice(transaction.id)}\n                      disabled={generatingInvoice === transaction.id}\n                      className=\"text-blue-400 hover:text-blue-300 text-sm flex items-center gap-1 mx-auto disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      {generatingInvoice === transaction.id ? (\n                        <>\n                          <div className=\"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin\"></div>\n                          Generating...\n                        </>\n                      ) : (\n                        <>\n                          <Download className=\"w-4 h-4\" />\n                          Invoice\n                        </>\n                      )}\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {showPaymentModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">\n                {paymentModalMode === 'add' ? 'Add Payment Method' : 'Update Payment Method'}\n              </h2>\n              <button\n                onClick={handleClosePaymentModal}\n                className=\"text-slate-400 hover:text-white transition-colors\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmitPaymentMethod} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Card Number\n                </label>\n                <input\n                  type=\"text\"\n                  value={cardNumber}\n                  onChange={(e) => setCardNumber(e.target.value)}\n                  placeholder=\"1234 5678 9012 3456\"\n                  required\n                  maxLength={19}\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Cardholder Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={cardName}\n                  onChange={(e) => setCardName(e.target.value)}\n                  placeholder=\"John Doe\"\n                  required\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                    Expiry Date\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={expiryDate}\n                    onChange={(e) => setExpiryDate(e.target.value)}\n                    placeholder=\"MM/YY\"\n                    required\n                    maxLength={5}\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                    CVV\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={cvv}\n                    onChange={(e) => setCvv(e.target.value)}\n                    placeholder=\"123\"\n                    required\n                    maxLength={4}\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={handleClosePaymentModal}\n                  className=\"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-3 rounded-lg transition-colors font-medium\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-3 rounded-lg font-semibold transition-all\"\n                >\n                  {paymentModalMode === 'add' ? 'Add Card' : 'Update Card'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {showTopUpModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-xl p-6 max-w-md w-full\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-white\">Top Up Balance</h2>\n              <button\n                onClick={() => setShowTopUpModal(false)}\n                className=\"text-slate-400 hover:text-white transition-colors\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Amount (RM)\n                </label>\n                <input\n                  type=\"number\"\n                  value={topUpAmount}\n                  onChange={(e) => setTopUpAmount(e.target.value)}\n                  placeholder=\"Enter amount\"\n                  min=\"1\"\n                  step=\"0.01\"\n                  className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-blue-500\"\n                />\n              </div>\n\n              <div className=\"flex gap-2\">\n                {[100, 500, 1000, 5000].map((amount) => (\n                  <button\n                    key={amount}\n                    type=\"button\"\n                    onClick={() => setTopUpAmount(amount.toString())}\n                    className=\"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-3 py-2 rounded-lg transition-colors text-sm\"\n                  >\n                    RM {amount}\n                  </button>\n                ))}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-slate-300 mb-2\">\n                  Payment Method\n                </label>\n                {paymentMethods.length === 0 ? (\n                  <div className=\"bg-slate-800/50 border border-slate-700 rounded-lg p-4 text-center\">\n                    <p className=\"text-slate-400 text-sm mb-3\">No payment methods available</p>\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setShowTopUpModal(false);\n                        handleOpenPaymentModal('add');\n                      }}\n                      className=\"text-blue-400 hover:text-blue-300 text-sm font-medium\"\n                    >\n                      Add Payment Method\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"space-y-2\">\n                    {paymentMethods.map((pm) => (\n                      <label\n                        key={pm.id}\n                        className={`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-colors ${\n                          selectedPaymentMethod === pm.id\n                            ? 'bg-blue-500/10 border-blue-500'\n                            : 'bg-slate-800 border-slate-700 hover:border-slate-600'\n                        }`}\n                      >\n                        <input\n                          type=\"radio\"\n                          name=\"paymentMethod\"\n                          value={pm.id}\n                          checked={selectedPaymentMethod === pm.id}\n                          onChange={(e) => setSelectedPaymentMethod(e.target.value)}\n                          className=\"text-blue-500\"\n                        />\n                        <CreditCard className=\"w-5 h-5 text-slate-400\" />\n                        <div className=\"flex-1\">\n                          <div className=\"text-white text-sm font-medium\">\n                            {pm.card_type} •••• {pm.last_four}\n                          </div>\n                          <div className=\"text-slate-400 text-xs\">\n                            Expires {pm.expiry_month}/{pm.expiry_year}\n                          </div>\n                        </div>\n                        {pm.is_primary && (\n                          <span className=\"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded\">\n                            Primary\n                          </span>\n                        )}\n                      </label>\n                    ))}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowTopUpModal(false)}\n                  className=\"flex-1 bg-slate-800 hover:bg-slate-700 text-white px-4 py-3 rounded-lg transition-colors font-medium\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleTopUp}\n                  disabled={processingTopUp || !topUpAmount || !selectedPaymentMethod}\n                  className=\"flex-1 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white px-4 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {processingTopUp ? 'Processing...' : 'Confirm Top Up'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {selectedInvoiceId && (\n        <MalaysianInvoiceViewer\n          invoiceId={selectedInvoiceId}\n          onClose={() => setSelectedInvoiceId(null)}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1476, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Resources.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { BookOpen, FileText, Video, Code, ExternalLink, Search, X, Play, Download, CheckCircle } from 'lucide-react';\n\ninterface Resource {\n  id: string;\n  title: string;\n  description: string;\n  type: 'documentation' | 'video' | 'guide' | 'api';\n  category: string;\n  url: string;\n  content?: {\n    overview: string;\n    features: string[];\n    sections: {\n      title: string;\n      content: string;\n      code?: string;\n    }[];\n    learningPath: {\n      step: number;\n      title: string;\n      duration: string;\n      completed: boolean;\n    }[];\n  };\n}\n\nexport default function Resources() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedResource, setSelectedResource] = useState<Resource | null>(null);\n  const [resources] = useState<Resource[]>([\n    {\n      id: '1',\n      title: 'Getting Started Guide',\n      description: 'Learn the basics of our platform and start sending messages',\n      type: 'guide',\n      category: 'Onboarding',\n      url: '#',\n      content: {\n        overview: 'Welcome to our CPaaS platform! This guide will help you get started with sending your first message and understanding the core features of our communication platform.',\n        features: [\n          'Quick setup in under 5 minutes',\n          'Multi-channel messaging support',\n          'Real-time analytics dashboard',\n          'Developer-friendly API',\n          'Comprehensive documentation'\n        ],\n        sections: [\n          {\n            title: 'Creating Your Account',\n            content: 'Start by signing up for a free account. You\\'ll receive instant access to our dashboard and API credentials.'\n          },\n          {\n            title: 'Getting API Credentials',\n            content: 'Navigate to Settings > Access Management to generate your first API key. Keep this secure as it will be used to authenticate all API requests.'\n          },\n          {\n            title: 'Sending Your First Message',\n            content: 'Use our simple REST API to send your first SMS. You can also use our dashboard to send test messages.',\n            code: `curl -X POST https://api.example.com/v1/messages \\\\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\n    \"to\": \"+1234567890\",\n    \"from\": \"YourBrand\",\n    \"message\": \"Hello from CPaaS!\"\n  }'`\n          }\n        ],\n        learningPath: [\n          { step: 1, title: 'Create Account', duration: '2 min', completed: true },\n          { step: 2, title: 'Get API Keys', duration: '3 min', completed: false },\n          { step: 3, title: 'Send First Message', duration: '5 min', completed: false },\n          { step: 4, title: 'Explore Dashboard', duration: '10 min', completed: false }\n        ]\n      }\n    },\n    {\n      id: '2',\n      title: 'SMS API Documentation',\n      description: 'Complete reference for SMS API endpoints and parameters',\n      type: 'api',\n      category: 'API Reference',\n      url: '#',\n      content: {\n        overview: 'Comprehensive API documentation for SMS messaging. Send single or bulk messages, check delivery status, and manage your messaging campaigns programmatically.',\n        features: [\n          'RESTful API architecture',\n          'JSON request/response format',\n          'Unicode and emoji support',\n          'Delivery receipts and webhooks',\n          'Rate limiting and error handling'\n        ],\n        sections: [\n          {\n            title: 'Authentication',\n            content: 'All API requests must include your API key in the Authorization header using Bearer token authentication.',\n            code: `Authorization: Bearer YOUR_API_KEY`\n          },\n          {\n            title: 'Send SMS',\n            content: 'POST /v1/sms/send - Send an SMS message to one or more recipients.',\n            code: `{\n  \"to\": [\"+1234567890\"],\n  \"from\": \"YourBrand\",\n  \"message\": \"Your verification code is 123456\",\n  \"callback_url\": \"https://your-domain.com/webhook\"\n}`\n          },\n          {\n            title: 'Check Status',\n            content: 'GET /v1/sms/{message_id} - Retrieve the delivery status of a sent message.',\n            code: `{\n  \"id\": \"msg_12345\",\n  \"status\": \"delivered\",\n  \"delivered_at\": \"2024-01-15T10:30:00Z\"\n}`\n          }\n        ],\n        learningPath: [\n          { step: 1, title: 'API Authentication', duration: '5 min', completed: false },\n          { step: 2, title: 'Send Your First SMS', duration: '10 min', completed: false },\n          { step: 3, title: 'Handle Webhooks', duration: '15 min', completed: false },\n          { step: 4, title: 'Bulk Messaging', duration: '20 min', completed: false }\n        ]\n      }\n    },\n    {\n      id: '3',\n      title: 'Whatsapp API Integration Tutorial',\n      description: 'Step-by-step video tutorial for Whatsapp API',\n      type: 'video',\n      category: 'Tutorials',\n      url: '#',\n      content: {\n        overview: 'Learn how to integrate Whatsapp API into your platform. This video series covers everything from initial setup to advanced message templates and interactive buttons.',\n        features: [\n          'Whatsapp API Account setup',\n          'Message templates creation',\n          'Rich media messaging',\n          'Interactive button messages',\n          'Session management'\n        ],\n        sections: [\n          {\n            title: 'Prerequisites',\n            content: 'Before starting, ensure you have a Facebook Business Manager account and a verified business profile. You\\'ll need these credentials to access the WhatsApp Business API.'\n          },\n          {\n            title: 'API Configuration',\n            content: 'Configure your Whatsapp API credentials in the platform dashboard. Navigate to Settings > Integrations and select Whatsapp API.',\n            code: `{\n  \"provider\": \"whatsapp\",\n  \"phone_number_id\": \"YOUR_PHONE_ID\",\n  \"business_account_id\": \"YOUR_BUSINESS_ID\",\n  \"access_token\": \"YOUR_ACCESS_TOKEN\"\n}`\n          },\n          {\n            title: 'Sending Messages',\n            content: 'Use template messages for initial contact and session messages for conversations within 24 hours.',\n            code: `POST /v1/whatsapp/messages\n{\n  \"to\": \"+1234567890\",\n  \"type\": \"template\",\n  \"template\": {\n    \"name\": \"welcome_message\",\n    \"language\": { \"code\": \"en\" }\n  }\n}`\n          }\n        ],\n        learningPath: [\n          { step: 1, title: 'Account Setup', duration: '15 min', completed: true },\n          { step: 2, title: 'Create Message Templates', duration: '20 min', completed: false },\n          { step: 3, title: 'Send Your First Message', duration: '10 min', completed: false },\n          { step: 4, title: 'Handle Incoming Messages', duration: '25 min', completed: false }\n        ]\n      }\n    },\n    {\n      id: '4',\n      title: 'Authentication & Security',\n      description: 'Best practices for securing your API credentials',\n      type: 'documentation',\n      category: 'Security',\n      url: '#',\n      content: {\n        overview: 'Security is paramount when working with communication APIs. This guide covers best practices for authentication, credential management, and securing your integration.',\n        features: [\n          'API key management',\n          'OAuth 2.0 implementation',\n          'IP whitelisting',\n          'Rate limiting strategies',\n          'Encryption standards'\n        ],\n        sections: [\n          {\n            title: 'API Key Best Practices',\n            content: 'Never expose API keys in client-side code or public repositories. Store keys in environment variables and rotate them regularly.'\n          },\n          {\n            title: 'Implementing OAuth 2.0',\n            content: 'For user-specific operations, implement OAuth 2.0 authorization flow to ensure secure access without exposing credentials.',\n            code: `const authUrl = 'https://api.example.com/oauth/authorize';\nconst params = {\n  client_id: 'YOUR_CLIENT_ID',\n  redirect_uri: 'YOUR_CALLBACK_URL',\n  response_type: 'code',\n  scope: 'messages.send messages.read'\n};`\n          },\n          {\n            title: 'IP Whitelisting',\n            content: 'Restrict API access to known IP addresses. Configure this in Settings > Security > IP Whitelist.'\n          }\n        ],\n        learningPath: [\n          { step: 1, title: 'Understanding API Security', duration: '10 min', completed: false },\n          { step: 2, title: 'Implementing OAuth', duration: '30 min', completed: false },\n          { step: 3, title: 'Setting Up IP Whitelist', duration: '15 min', completed: false },\n          { step: 4, title: 'Security Audit', duration: '20 min', completed: false }\n        ]\n      }\n    },\n    {\n      id: '5',\n      title: 'Campaign Management Guide',\n      description: 'How to create and manage effective campaigns',\n      type: 'guide',\n      category: 'Features',\n      url: '#',\n      content: {\n        overview: 'Master the art of creating, managing, and optimizing messaging campaigns. Learn how to segment audiences, schedule messages, and track campaign performance.',\n        features: [\n          'Audience segmentation',\n          'Message personalization',\n          'A/B testing',\n          'Campaign analytics',\n          'Automated workflows'\n        ],\n        sections: [\n          {\n            title: 'Creating Your First Campaign',\n            content: 'Navigate to Campaigns > Create New. Choose your channel (SMS API, Whatsapp API, or RCS API) and define your target audience.'\n          },\n          {\n            title: 'Audience Segmentation',\n            content: 'Create targeted segments based on user behavior, demographics, or custom attributes for more effective messaging.'\n          },\n          {\n            title: 'Message Personalization',\n            content: 'Use dynamic variables to personalize messages for each recipient.',\n            code: `Hello {{first_name}},\nYour order #{{order_id}} has been shipped!\nTrack it here: {{tracking_url}}`\n          }\n        ],\n        learningPath: [\n          { step: 1, title: 'Campaign Basics', duration: '15 min', completed: false },\n          { step: 2, title: 'Audience Segmentation', duration: '20 min', completed: false },\n          { step: 3, title: 'A/B Testing', duration: '25 min', completed: false },\n          { step: 4, title: 'Analytics & Optimization', duration: '30 min', completed: false }\n        ]\n      }\n    },\n    {\n      id: '6',\n      title: 'Voice API Reference',\n      description: 'Complete documentation for voice calling features',\n      type: 'api',\n      category: 'API Reference',\n      url: '#'\n    },\n    {\n      id: '7',\n      title: 'RCS Messaging Setup',\n      description: 'Video walkthrough of RCS configuration',\n      type: 'video',\n      category: 'Tutorials',\n      url: '#'\n    },\n    {\n      id: '8',\n      title: 'Webhooks Configuration',\n      description: 'How to set up and manage webhook notifications',\n      type: 'documentation',\n      category: 'Integration',\n      url: '#'\n    }\n  ]);\n\n  const filteredResources = resources.filter(resource =>\n    resource.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    resource.description.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    resource.category.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getTypeIcon = (type: string) => {\n    switch (type) {\n      case 'documentation': return FileText;\n      case 'video': return Video;\n      case 'guide': return BookOpen;\n      case 'api': return Code;\n      default: return FileText;\n    }\n  };\n\n  const getTypeColor = (type: string) => {\n    switch (type) {\n      case 'documentation': return 'bg-blue-500/20 text-blue-400';\n      case 'video': return 'bg-red-500/20 text-red-400';\n      case 'guide': return 'bg-green-500/20 text-green-400';\n      case 'api': return 'bg-purple-500/20 text-purple-400';\n      default: return 'bg-slate-500/20 text-slate-400';\n    }\n  };\n\n  const getCategoryColor = (category: string) => {\n    switch (category) {\n      case 'Onboarding': return 'bg-cyan-500/20 text-cyan-400 border-cyan-500/30';\n      case 'API Reference': return 'bg-purple-500/20 text-purple-400 border-purple-500/30';\n      case 'Tutorials': return 'bg-orange-500/20 text-orange-400 border-orange-500/30';\n      case 'Security': return 'bg-red-500/20 text-red-400 border-red-500/30';\n      case 'Features': return 'bg-blue-500/20 text-blue-400 border-blue-500/30';\n      case 'Integration': return 'bg-green-500/20 text-green-400 border-green-500/30';\n      default: return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n    }\n  };\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-slate-950 p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">Resources</h1>\n        <p className=\"text-slate-400 text-lg\">Documentation, guides, and tutorials to help you succeed</p>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search resources...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500\"\n          />\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {filteredResources.map((resource) => {\n          const Icon = getTypeIcon(resource.type);\n          return (\n            <div\n              key={resource.id}\n              className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-slate-600 transition-colors\"\n            >\n              <div className=\"flex items-start gap-4 mb-4\">\n                <div className={`p-3 rounded-lg ${getTypeColor(resource.type)}`}>\n                  <Icon className=\"w-6 h-6\" />\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <h3 className=\"text-xl font-semibold text-white\">{resource.title}</h3>\n                    <ExternalLink className=\"w-5 h-5 text-slate-500\" />\n                  </div>\n                  <p className=\"text-slate-400 text-sm mb-3\">{resource.description}</p>\n                  <div className=\"flex items-center gap-2\">\n                    <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getCategoryColor(resource.category)}`}>\n                      {resource.category}\n                    </span>\n                    <span className=\"px-3 py-1 bg-slate-700/50 text-slate-300 text-xs font-medium rounded-full\">\n                      {resource.type}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <button\n                onClick={() => setSelectedResource(resource)}\n                className=\"w-full bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 px-4 py-2 rounded-lg transition-colors flex items-center justify-center gap-2\"\n              >\n                <span>View Resource</span>\n                <ExternalLink className=\"w-4 h-4\" />\n              </button>\n            </div>\n          );\n        })}\n      </div>\n\n      {filteredResources.length === 0 && (\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center\">\n          <BookOpen className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n          <p className=\"text-slate-400 text-lg\">No resources found</p>\n          <p className=\"text-slate-500 text-sm mt-2\">Try adjusting your search criteria</p>\n        </div>\n      )}\n\n      {selectedResource && selectedResource.content && (\n        <div className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 overflow-auto\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-xl max-w-5xl w-full max-h-[90vh] overflow-auto\">\n            <div className=\"sticky top-0 bg-slate-900 border-b border-slate-700 p-6 flex items-center justify-between z-10\">\n              <div className=\"flex items-center gap-4\">\n                <div className={`p-3 rounded-lg ${getTypeColor(selectedResource.type)}`}>\n                  {selectedResource.type === 'video' && <Video className=\"w-6 h-6\" />}\n                  {selectedResource.type === 'documentation' && <FileText className=\"w-6 h-6\" />}\n                  {selectedResource.type === 'guide' && <BookOpen className=\"w-6 h-6\" />}\n                  {selectedResource.type === 'api' && <Code className=\"w-6 h-6\" />}\n                </div>\n                <div>\n                  <h2 className=\"text-2xl font-bold text-white\">{selectedResource.title}</h2>\n                  <p className=\"text-slate-400 text-sm\">{selectedResource.category}</p>\n                </div>\n              </div>\n              <button\n                onClick={() => setSelectedResource(null)}\n                className=\"p-2 hover:bg-slate-800 rounded-lg transition-colors\"\n              >\n                <X className=\"w-6 h-6 text-slate-400\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold text-white mb-3\">Overview</h3>\n                <p className=\"text-slate-300 leading-relaxed\">{selectedResource.content.overview}</p>\n              </div>\n\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">Key Features</h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n                  {selectedResource.content.features.map((feature, index) => (\n                    <div key={index} className=\"flex items-start gap-3 bg-slate-800/50 p-4 rounded-lg border border-slate-700\">\n                      <CheckCircle className=\"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5\" />\n                      <span className=\"text-slate-300\">{feature}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"mb-8\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">Documentation</h3>\n                <div className=\"space-y-6\">\n                  {selectedResource.content.sections.map((section, index) => (\n                    <div key={index} className=\"bg-slate-800/50 border border-slate-700 rounded-lg p-6\">\n                      <h4 className=\"text-lg font-semibold text-white mb-3\">{section.title}</h4>\n                      <p className=\"text-slate-300 mb-4 leading-relaxed\">{section.content}</p>\n                      {section.code && (\n                        <div className=\"relative\">\n                          <pre className=\"bg-slate-950 border border-slate-700 rounded-lg p-4 overflow-x-auto\">\n                            <code className=\"text-sm text-green-400 font-mono\">{section.code}</code>\n                          </pre>\n                          <button className=\"absolute top-2 right-2 p-2 bg-slate-800 hover:bg-slate-700 rounded border border-slate-600 transition-colors\">\n                            <Download className=\"w-4 h-4 text-slate-400\" />\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6\">\n                <h3 className=\"text-xl font-bold text-white mb-4\">Learning Path</h3>\n                <p className=\"text-slate-300 mb-6\">Follow this structured path to master this topic</p>\n                <div className=\"space-y-3\">\n                  {selectedResource.content.learningPath.map((step) => (\n                    <div\n                      key={step.step}\n                      className={`flex items-center gap-4 p-4 rounded-lg border transition-colors ${\n                        step.completed\n                          ? 'bg-green-500/10 border-green-500/30'\n                          : 'bg-slate-800/50 border-slate-700 hover:border-cyan-500/50'\n                      }`}\n                    >\n                      <div className={`flex items-center justify-center w-10 h-10 rounded-full font-bold ${\n                        step.completed\n                          ? 'bg-green-500 text-white'\n                          : 'bg-slate-700 text-slate-300'\n                      }`}>\n                        {step.completed ? <CheckCircle className=\"w-6 h-6\" /> : step.step}\n                      </div>\n                      <div className=\"flex-1\">\n                        <h4 className={`font-semibold ${step.completed ? 'text-green-400' : 'text-white'}`}>\n                          {step.title}\n                        </h4>\n                        <p className=\"text-slate-400 text-sm\">{step.duration}</p>\n                      </div>\n                      {!step.completed && selectedResource.type === 'video' && (\n                        <button className=\"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg transition-colors\">\n                          <Play className=\"w-4 h-4\" />\n                          <span className=\"text-sm font-medium\">Start</span>\n                        </button>\n                      )}\n                      {step.completed && (\n                        <span className=\"text-green-400 text-sm font-medium\">Completed</span>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2543, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Recordings.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Mic, Play, Download, Trash2, Search, Phone, Video as VideoIcon, Calendar, X, Pause } from 'lucide-react';\n\ninterface Recording {\n  id: string;\n  type: 'voice' | 'video';\n  title: string;\n  date: string;\n  duration: string;\n  size: string;\n  status: 'available' | 'processing' | 'archived';\n  url?: string;\n}\n\nexport default function Recordings() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filterType, setFilterType] = useState<'all' | 'voice' | 'video'>('all');\n  const [playingRecording, setPlayingRecording] = useState<Recording | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const [recordings, setRecordings] = useState<Recording[]>([\n    {\n      id: '1',\n      type: 'voice',\n      title: 'Customer Support Call - #12345',\n      date: '2024-12-26 10:30 AM',\n      duration: '5:42',\n      size: '2.8 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3'\n    },\n    {\n      id: '2',\n      type: 'video',\n      title: 'Product Demo Session',\n      date: '2024-12-25 2:15 PM',\n      duration: '12:30',\n      size: '45.6 MB',\n      status: 'available',\n      url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4'\n    },\n    {\n      id: '3',\n      type: 'voice',\n      title: 'Sales Call - Lead Qualification',\n      date: '2024-12-25 11:00 AM',\n      duration: '8:15',\n      size: '4.2 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3'\n    },\n    {\n      id: '4',\n      type: 'video',\n      title: 'Team Meeting Recording',\n      date: '2024-12-24 3:00 PM',\n      duration: '45:20',\n      size: '156.3 MB',\n      status: 'available',\n      url: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4'\n    },\n    {\n      id: '5',\n      type: 'voice',\n      title: 'Technical Support Call',\n      date: '2024-12-24 9:45 AM',\n      duration: '15:30',\n      size: '7.8 MB',\n      status: 'available',\n      url: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3'\n    },\n    {\n      id: '6',\n      type: 'video',\n      title: 'Webinar - Q4 Review',\n      date: '2024-12-23 1:00 PM',\n      duration: '60:00',\n      size: '210.5 MB',\n      status: 'processing'\n    }\n  ]);\n\n  const filteredRecordings = recordings.filter(recording => {\n    const matchesSearch = recording.title.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesType = filterType === 'all' || recording.type === filterType;\n    return matchesSearch && matchesType;\n  });\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'available': return 'bg-green-500/20 text-green-400 border-green-500/30';\n      case 'processing': return 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30';\n      case 'archived': return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n      default: return 'bg-slate-500/20 text-slate-400 border-slate-500/30';\n    }\n  };\n\n  const totalRecordings = recordings.length;\n  const voiceRecordings = recordings.filter(r => r.type === 'voice').length;\n  const videoRecordings = recordings.filter(r => r.type === 'video').length;\n  const totalSize = recordings.reduce((sum, r) => {\n    const size = parseFloat(r.size);\n    return sum + size;\n  }, 0);\n\n  const handlePlay = (recording: Recording) => {\n    if (recording.status !== 'available') {\n      alert('This recording is not available for playback yet.');\n      return;\n    }\n    setPlayingRecording(recording);\n    setIsPlaying(true);\n  };\n\n  const handleClosePlayer = () => {\n    setPlayingRecording(null);\n    setIsPlaying(false);\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n    }\n    if (videoRef.current) {\n      videoRef.current.pause();\n      videoRef.current.currentTime = 0;\n    }\n  };\n\n  const togglePlayPause = () => {\n    const mediaElement = playingRecording?.type === 'voice' ? audioRef.current : videoRef.current;\n    if (mediaElement) {\n      if (isPlaying) {\n        mediaElement.pause();\n      } else {\n        mediaElement.play();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const handleDownload = (recording: Recording) => {\n    if (recording.status !== 'available') {\n      alert('This recording is not available for download yet.');\n      return;\n    }\n    if (recording.url) {\n      const link = document.createElement('a');\n      link.href = recording.url;\n      link.download = `${recording.title}.${recording.type === 'voice' ? 'mp3' : 'mp4'}`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  const handleDelete = (recordingId: string) => {\n    if (confirm('Are you sure you want to delete this recording? This action cannot be undone.')) {\n      setRecordings(recordings.filter(r => r.id !== recordingId));\n      if (playingRecording?.id === recordingId) {\n        handleClosePlayer();\n      }\n    }\n  };\n\n  useEffect(() => {\n    const mediaElement = playingRecording?.type === 'voice' ? audioRef.current : videoRef.current;\n    if (mediaElement) {\n      const handleEnded = () => setIsPlaying(false);\n      const handlePlay = () => setIsPlaying(true);\n      const handlePause = () => setIsPlaying(false);\n\n      mediaElement.addEventListener('ended', handleEnded);\n      mediaElement.addEventListener('play', handlePlay);\n      mediaElement.addEventListener('pause', handlePause);\n\n      return () => {\n        mediaElement.removeEventListener('ended', handleEnded);\n        mediaElement.removeEventListener('play', handlePlay);\n        mediaElement.removeEventListener('pause', handlePause);\n      };\n    }\n  }, [playingRecording]);\n\n  return (\n    <div className=\"flex-1 overflow-auto bg-slate-950 p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">Recordings</h1>\n        <p className=\"text-slate-400 text-lg\">Manage your voice and video recordings</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Total Recordings</p>\n              <p className=\"text-3xl font-bold text-white\">{totalRecordings}</p>\n            </div>\n            <div className=\"bg-blue-500/20 p-3 rounded-xl\">\n              <Mic className=\"w-6 h-6 text-blue-400\" />\n            </div>\n          </div>\n          <p className=\"text-slate-400 text-sm\">All types</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Voice Calls</p>\n              <p className=\"text-3xl font-bold text-white\">{voiceRecordings}</p>\n            </div>\n            <div className=\"bg-green-500/20 p-3 rounded-xl\">\n              <Phone className=\"w-6 h-6 text-green-400\" />\n            </div>\n          </div>\n          <p className=\"text-green-400 text-sm\">Audio only</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Video Calls</p>\n              <p className=\"text-3xl font-bold text-white\">{videoRecordings}</p>\n            </div>\n            <div className=\"bg-red-500/20 p-3 rounded-xl\">\n              <VideoIcon className=\"w-6 h-6 text-red-400\" />\n            </div>\n          </div>\n          <p className=\"text-red-400 text-sm\">With video</p>\n        </div>\n\n        <div className=\"bg-gradient-to-br from-slate-800/50 to-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div>\n              <p className=\"text-slate-400 text-sm font-medium mb-1\">Storage Used</p>\n              <p className=\"text-3xl font-bold text-white\">{totalSize.toFixed(1)}</p>\n            </div>\n            <div className=\"bg-purple-500/20 p-3 rounded-xl\">\n              <Calendar className=\"w-6 h-6 text-purple-400\" />\n            </div>\n          </div>\n          <p className=\"text-slate-400 text-sm\">MB total</p>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6\">\n        <div className=\"flex gap-4 items-center\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search recordings...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full bg-slate-900/50 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:outline-none focus:border-blue-500\"\n            />\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setFilterType('all')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'all'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              All\n            </button>\n            <button\n              onClick={() => setFilterType('voice')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'voice'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Voice\n            </button>\n            <button\n              onClick={() => setFilterType('video')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                filterType === 'video'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Video\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n        <div className=\"space-y-4\">\n          {filteredRecordings.map((recording) => (\n            <div\n              key={recording.id}\n              className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors\"\n            >\n              <div className=\"flex items-center gap-4\">\n                <div className={`p-3 rounded-lg ${\n                  recording.type === 'voice'\n                    ? 'bg-green-500/20 text-green-400'\n                    : 'bg-red-500/20 text-red-400'\n                }`}>\n                  {recording.type === 'voice' ? (\n                    <Phone className=\"w-6 h-6\" />\n                  ) : (\n                    <VideoIcon className=\"w-6 h-6\" />\n                  )}\n                </div>\n\n                <div className=\"flex-1 min-w-0\">\n                  <h3 className=\"text-white font-semibold mb-1\">{recording.title}</h3>\n                  <div className=\"flex items-center gap-4 text-sm text-slate-400\">\n                    <span>{recording.date}</span>\n                    <span>•</span>\n                    <span>{recording.duration}</span>\n                    <span>•</span>\n                    <span>{recording.size}</span>\n                  </div>\n                </div>\n\n                <span className={`px-3 py-1 rounded-full text-xs font-medium border ${getStatusColor(recording.status)}`}>\n                  {recording.status}\n                </span>\n\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handlePlay(recording)}\n                    disabled={recording.status !== 'available'}\n                    className={`p-2 rounded-lg transition-colors ${\n                      recording.status === 'available'\n                        ? 'bg-blue-500/20 hover:bg-blue-500/30 text-blue-400'\n                        : 'bg-slate-700/20 text-slate-500 cursor-not-allowed'\n                    }`}\n                    title={recording.status === 'available' ? 'Play recording' : 'Recording not available'}\n                  >\n                    <Play className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDownload(recording)}\n                    disabled={recording.status !== 'available'}\n                    className={`p-2 rounded-lg transition-colors ${\n                      recording.status === 'available'\n                        ? 'bg-green-500/20 hover:bg-green-500/30 text-green-400'\n                        : 'bg-slate-700/20 text-slate-500 cursor-not-allowed'\n                    }`}\n                    title={recording.status === 'available' ? 'Download recording' : 'Recording not available'}\n                  >\n                    <Download className=\"w-5 h-5\" />\n                  </button>\n                  <button\n                    onClick={() => handleDelete(recording.id)}\n                    className=\"p-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors\"\n                    title=\"Delete recording\"\n                  >\n                    <Trash2 className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {filteredRecordings.length === 0 && (\n          <div className=\"text-center py-12\">\n            <Mic className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n            <p className=\"text-slate-400 text-lg\">No recordings found</p>\n            <p className=\"text-slate-500 text-sm mt-2\">Try adjusting your search or filter</p>\n          </div>\n        )}\n      </div>\n\n      {playingRecording && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n          <div className=\"bg-slate-900 border border-slate-700 rounded-2xl w-full max-w-4xl mx-4 overflow-hidden\">\n            <div className=\"bg-slate-800 px-6 py-4 flex items-center justify-between border-b border-slate-700\">\n              <div>\n                <h3 className=\"text-white font-semibold text-lg\">{playingRecording.title}</h3>\n                <p className=\"text-slate-400 text-sm mt-1\">\n                  {playingRecording.date} • {playingRecording.duration}\n                </p>\n              </div>\n              <button\n                onClick={handleClosePlayer}\n                className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors text-slate-400 hover:text-white\"\n              >\n                <X className=\"w-6 h-6\" />\n              </button>\n            </div>\n\n            <div className=\"p-6\">\n              {playingRecording.type === 'voice' ? (\n                <div className=\"space-y-6\">\n                  <div className=\"bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl p-12 flex items-center justify-center\">\n                    <div className=\"text-center\">\n                      <div className=\"bg-blue-500/20 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4\">\n                        <Phone className=\"w-16 h-16 text-blue-400\" />\n                      </div>\n                      <p className=\"text-white font-medium text-lg\">Audio Recording</p>\n                      <p className=\"text-slate-400 text-sm mt-2\">Playing voice call</p>\n                    </div>\n                  </div>\n                  <audio\n                    ref={audioRef}\n                    src={playingRecording.url}\n                    className=\"w-full\"\n                    controls\n                    autoPlay\n                  />\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  <video\n                    ref={videoRef}\n                    src={playingRecording.url}\n                    className=\"w-full rounded-lg bg-black\"\n                    controls\n                    autoPlay\n                  />\n                </div>\n              )}\n\n              <div className=\"flex items-center justify-between mt-6 pt-6 border-t border-slate-700\">\n                <div className=\"flex items-center gap-4\">\n                  <button\n                    onClick={togglePlayPause}\n                    className=\"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors\"\n                  >\n                    {isPlaying ? (\n                      <Pause className=\"w-6 h-6\" />\n                    ) : (\n                      <Play className=\"w-6 h-6\" />\n                    )}\n                  </button>\n                  <div className=\"text-sm text-slate-400\">\n                    <span className={`px-2 py-1 rounded ${\n                      playingRecording.type === 'voice'\n                        ? 'bg-green-500/20 text-green-400'\n                        : 'bg-red-500/20 text-red-400'\n                    }`}>\n                      {playingRecording.type === 'voice' ? 'Voice' : 'Video'}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => handleDownload(playingRecording)}\n                    className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    Download\n                  </button>\n                  <button\n                    onClick={handleClosePlayer}\n                    className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3589, "column": 0}, "map": {"version":3,"sources":["file:///Users/rakzzm/Documents/Applications/CPaaS%20Platform/src/components/Management/Subscriptions.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { db } from '../../lib/db';\nimport { useAuth } from '../../contexts/AuthContext';\nimport {\n  CreditCard, Package, Calendar, TrendingUp, CheckCircle, XCircle,\n  AlertCircle, RefreshCw, Download, Clock, Award, Zap, Shield,\n  Users, Activity, Tag, Gift, BarChart3, Info\n} from 'lucide-react';\n\nexport default function Subscriptions() {\n  const { user } = useAuth();\n  const [subscriptions, setSubscriptions] = useState<any[]>([]);\n  const [offers, setOffers] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user) {\n      loadSubscriptionsAndOffers();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (!user) return;\n\n    const subscriptionsChannel = db\n      .channel('user-subscriptions-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'user_subscriptions',\n          filter: `user_id=eq.${user.id}`\n        },\n        () => {\n          loadSubscriptionsAndOffers();\n        }\n      )\n      .subscribe();\n\n    const offersChannel = db\n      .channel('user-offers-changes')\n      .on(\n        'postgres_changes',\n        {\n          event: '*',\n          schema: 'public',\n          table: 'user_offers',\n          filter: `user_id=eq.${user.id}`\n        },\n        () => {\n          loadSubscriptionsAndOffers();\n        }\n      )\n      .subscribe();\n\n    return () => {\n      db.removeChannel(subscriptionsChannel);\n      db.removeChannel(offersChannel);\n    };\n  }, [user]);\n\n  const loadSubscriptionsAndOffers = async () => {\n    try {\n      const { data: subsData, error: subsError } = await db\n        .from('user_subscriptions')\n        .select(`\n          *,\n          product:products(*)\n        `)\n        .eq('user_id', user?.id)\n        .order('created_at', { ascending: false });\n\n      if (subsError) throw subsError;\n\n      const { data: offersData, error: offersError } = await db\n        .from('user_offers')\n        .select('*')\n        .eq('user_id', user?.id)\n        .eq('status', 'active')\n        .order('expires_at', { ascending: true });\n\n      if (offersError) throw offersError;\n\n      setSubscriptions(subsData || []);\n      setOffers(offersData || []);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'active':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-400 border border-green-500/30 flex items-center gap-1.5\">\n            <CheckCircle className=\"w-3.5 h-3.5\" />\n            Active\n          </span>\n        );\n      case 'expired':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30 flex items-center gap-1.5\">\n            <XCircle className=\"w-3.5 h-3.5\" />\n            Expired\n          </span>\n        );\n      case 'cancelled':\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 border border-orange-500/30 flex items-center gap-1.5\">\n            <AlertCircle className=\"w-3.5 h-3.5\" />\n            Cancelled\n          </span>\n        );\n      default:\n        return (\n          <span className=\"px-3 py-1 rounded-full text-xs font-medium bg-slate-500/20 text-slate-400 border border-slate-500/30\">\n            {status}\n          </span>\n        );\n    }\n  };\n\n  const calculateDaysRemaining = (expiryDate: string) => {\n    const now = new Date();\n    const expiry = new Date(expiryDate);\n    const diff = expiry.getTime() - now.getTime();\n    const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n    return days;\n  };\n\n  const formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  const calculateUsagePercentage = (used: number, limit: number) => {\n    if (limit === 0) return 0;\n    return Math.min((used / limit) * 100, 100);\n  };\n\n  const activeSubscriptions = subscriptions.filter(s => s.status === 'active');\n  const totalSpending = subscriptions\n    .filter(s => s.status === 'active')\n    .reduce((sum, s) => sum + parseFloat(s.amount || 0), 0);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-slate-950\">\n        <div className=\"flex flex-col items-center gap-3\">\n          <RefreshCw className=\"w-8 h-8 text-cyan-400 animate-spin\" />\n          <div className=\"text-slate-400\">Loading subscriptions...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 p-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-4xl font-bold text-white mb-2 flex items-center gap-3\">\n          <CreditCard className=\"w-10 h-10 text-cyan-400\" />\n          My Subscriptions\n        </h1>\n        <p className=\"text-slate-400\">Manage your subscriptions, licenses, and offers</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n        <div className=\"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-cyan-500/20 rounded-lg\">\n              <Package className=\"w-6 h-6 text-cyan-400\" />\n            </div>\n            <TrendingUp className=\"w-5 h-5 text-cyan-400\" />\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{activeSubscriptions.length}</div>\n          <div className=\"text-slate-400 text-sm\">Active Subscriptions</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-green-500/20 rounded-lg\">\n              <CreditCard className=\"w-6 h-6 text-green-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">RM {totalSpending.toFixed(2)}</div>\n          <div className=\"text-slate-400 text-sm\">Monthly Spending</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-purple-500/20 rounded-lg\">\n              <Gift className=\"w-6 h-6 text-purple-400\" />\n            </div>\n            <span className=\"text-purple-400 text-sm font-semibold\">NEW</span>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">{offers.length}</div>\n          <div className=\"text-slate-400 text-sm\">Available Offers</div>\n        </div>\n\n        <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <div className=\"p-3 bg-orange-500/20 rounded-lg\">\n              <Award className=\"w-6 h-6 text-orange-400\" />\n            </div>\n          </div>\n          <div className=\"text-3xl font-bold text-white mb-1\">\n            {subscriptions.filter(s => s.license_key).length}\n          </div>\n          <div className=\"text-slate-400 text-sm\">Active Licenses</div>\n        </div>\n      </div>\n\n      {offers.length > 0 && (\n        <div className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold text-white mb-4 flex items-center gap-2\">\n            <Gift className=\"w-6 h-6 text-purple-400\" />\n            Special Offers for You\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {offers.map((offer) => (\n              <div\n                key={offer.id}\n                className=\"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl p-6 hover:border-purple-500/50 transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"p-3 bg-purple-500/20 rounded-lg\">\n                    <Tag className=\"w-6 h-6 text-purple-400\" />\n                  </div>\n                  <span className=\"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-xs font-bold\">\n                    {offer.discount_percentage}% OFF\n                  </span>\n                </div>\n                <h3 className=\"text-xl font-bold text-white mb-2\">{offer.offer_name}</h3>\n                <p className=\"text-slate-400 text-sm mb-4\">{offer.description}</p>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-slate-500\">Expires: {formatDate(offer.expires_at)}</span>\n                  <button className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-xs font-medium transition-colors\">\n                    Redeem Now\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-white mb-4\">Active Subscriptions</h2>\n      </div>\n\n      <div className=\"space-y-4\">\n        {subscriptions.length === 0 ? (\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-12 text-center\">\n            <Package className=\"w-16 h-16 text-slate-600 mx-auto mb-4\" />\n            <p className=\"text-slate-400 text-lg mb-2\">No subscriptions found</p>\n            <p className=\"text-slate-500 text-sm\">Subscribe to products to get started</p>\n          </div>\n        ) : (\n          subscriptions.map((subscription) => {\n            const daysRemaining = calculateDaysRemaining(subscription.expires_at);\n            const usagePercent = calculateUsagePercentage(\n              subscription.usage_count || 0,\n              subscription.usage_limit || 0\n            );\n\n            return (\n              <div\n                key={subscription.id}\n                className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all\"\n              >\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"p-3 bg-cyan-500/20 rounded-lg\">\n                      <Package className=\"w-8 h-8 text-cyan-400\" />\n                    </div>\n                    <div>\n                      <h3 className=\"text-xl font-bold text-white mb-1\">\n                        {subscription.product?.name || subscription.product_name}\n                      </h3>\n                      <p className=\"text-slate-400 text-sm mb-3\">\n                        {subscription.product?.description || 'Premium subscription'}\n                      </p>\n                      <div className=\"flex items-center gap-4 text-sm\">\n                        <div className=\"flex items-center gap-2 text-slate-400\">\n                          <Calendar className=\"w-4 h-4\" />\n                          Started: {formatDate(subscription.started_at)}\n                        </div>\n                        <div className=\"flex items-center gap-2 text-slate-400\">\n                          <Clock className=\"w-4 h-4\" />\n                          {daysRemaining > 0 ? `${daysRemaining} days remaining` : 'Expired'}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    {getStatusBadge(subscription.status)}\n                    <div className=\"text-2xl font-bold text-white mt-3\">\n                      RM {parseFloat(subscription.amount).toFixed(2)}\n                    </div>\n                    <div className=\"text-slate-400 text-sm\">per {subscription.billing_cycle}</div>\n                  </div>\n                </div>\n\n                {subscription.usage_limit && (\n                  <div className=\"mb-4\">\n                    <div className=\"flex items-center justify-between text-sm mb-2\">\n                      <span className=\"text-slate-400\">Usage</span>\n                      <span className=\"text-white font-medium\">\n                        {subscription.usage_count?.toLocaleString() || 0} / {subscription.usage_limit?.toLocaleString()}\n                      </span>\n                    </div>\n                    <div className=\"w-full bg-slate-700 rounded-full h-2 overflow-hidden\">\n                      <div\n                        className={`h-full transition-all ${\n                          usagePercent >= 90\n                            ? 'bg-red-500'\n                            : usagePercent >= 70\n                            ? 'bg-orange-500'\n                            : 'bg-cyan-500'\n                        }`}\n                        style={{ width: `${usagePercent}%` }}\n                      />\n                    </div>\n                  </div>\n                )}\n\n                {subscription.license_key && (\n                  <div className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 mb-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center gap-3\">\n                        <Shield className=\"w-5 h-5 text-green-400\" />\n                        <div>\n                          <div className=\"text-sm text-slate-400 mb-1\">License Key</div>\n                          <div className=\"font-mono text-white text-sm\">{subscription.license_key}</div>\n                        </div>\n                      </div>\n                      <button className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors\">\n                        <Download className=\"w-5 h-5 text-slate-400\" />\n                      </button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-slate-700\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-blue-500/20 rounded-lg\">\n                      <Activity className=\"w-5 h-5 text-blue-400\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Status</div>\n                      <div className=\"text-sm text-white font-medium capitalize\">{subscription.status}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-green-500/20 rounded-lg\">\n                      <Calendar className=\"w-5 h-5 text-green-400\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Renewal Date</div>\n                      <div className=\"text-sm text-white font-medium\">{formatDate(subscription.expires_at)}</div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 bg-purple-500/20 rounded-lg\">\n                      <Zap className=\"w-5 h-5 text-purple-400\" />\n                    </div>\n                    <div>\n                      <div className=\"text-xs text-slate-500\">Auto Renew</div>\n                      <div className=\"text-sm text-white font-medium\">\n                        {subscription.auto_renew ? 'Enabled' : 'Disabled'}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-3 mt-6\">\n                  <button className=\"flex-1 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2\">\n                    <BarChart3 className=\"w-4 h-4\" />\n                    View Usage\n                  </button>\n                  <button className=\"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2\">\n                    <RefreshCw className=\"w-4 h-4\" />\n                    Manage Subscription\n                  </button>\n                  <button className=\"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm font-medium transition-colors\">\n                    <Info className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}